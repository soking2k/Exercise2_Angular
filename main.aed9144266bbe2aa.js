"use strict";(self.webpackChunkExercise2=self.webpackChunkExercise2||[]).push([[179],{435:($_,W,ys)=>{function re(a){return"function"==typeof a}function b(a){const d=a(v=>{Error.call(v),v.stack=(new Error).stack});return d.prototype=Object.create(Error.prototype),d.prototype.constructor=d,d}const ti=b(a=>function(d){a(this),this.message=d?`${d.length} errors occurred during unsubscription:\n${d.map((v,C)=>`${C+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=d});function jl(a,p){if(a){const d=a.indexOf(p);0<=d&&a.splice(d,1)}}class xr{constructor(p){this.initialTeardown=p,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let p;if(!this.closed){this.closed=!0;const{_parentage:d}=this;if(d)if(this._parentage=null,Array.isArray(d))for(const _ of d)_.remove(this);else d.remove(this);const{initialTeardown:v}=this;if(re(v))try{v()}catch(_){p=_ instanceof ti?_.errors:[_]}const{_finalizers:C}=this;if(C){this._finalizers=null;for(const _ of C)try{ig(_)}catch(O){p=null!=p?p:[],O instanceof ti?p=[...p,...O.errors]:p.push(O)}}if(p)throw new ti(p)}}add(p){var d;if(p&&p!==this)if(this.closed)ig(p);else{if(p instanceof xr){if(p.closed||p._hasParent(this))return;p._addParent(this)}(this._finalizers=null!==(d=this._finalizers)&&void 0!==d?d:[]).push(p)}}_hasParent(p){const{_parentage:d}=this;return d===p||Array.isArray(d)&&d.includes(p)}_addParent(p){const{_parentage:d}=this;this._parentage=Array.isArray(d)?(d.push(p),d):d?[d,p]:p}_removeParent(p){const{_parentage:d}=this;d===p?this._parentage=null:Array.isArray(d)&&jl(d,p)}remove(p){const{_finalizers:d}=this;d&&jl(d,p),p instanceof xr&&p._removeParent(this)}}xr.EMPTY=(()=>{const a=new xr;return a.closed=!0,a})();const $o=xr.EMPTY;function lm(a){return a instanceof xr||a&&"closed"in a&&re(a.remove)&&re(a.add)&&re(a.unsubscribe)}function ig(a){re(a)?a():a.unsubscribe()}const Ul={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Uu={setTimeout(a,p,...d){const{delegate:v}=Uu;return(null==v?void 0:v.setTimeout)?v.setTimeout(a,p,...d):setTimeout(a,p,...d)},clearTimeout(a){const{delegate:p}=Uu;return((null==p?void 0:p.clearTimeout)||clearTimeout)(a)},delegate:void 0};function ms(a){Uu.setTimeout(()=>{const{onUnhandledError:p}=Ul;if(!p)throw a;p(a)})}function um(){}const Sn=Ui("C",void 0,void 0);function Ui(a,p,d){return{kind:a,value:p,error:d}}let Cs=null;function oa(a){if(Ul.useDeprecatedSynchronousErrorHandling){const p=!Cs;if(p&&(Cs={errorThrown:!1,error:null}),a(),p){const{errorThrown:d,error:v}=Cs;if(Cs=null,d)throw v}}else a()}class zu extends xr{constructor(p){super(),this.isStopped=!1,p?(this.destination=p,lm(p)&&p.add(this)):this.destination=dm}static create(p,d,v){return new Wn(p,d,v)}next(p){this.isStopped?oh(function zl(a){return Ui("N",a,void 0)}(p),this):this._next(p)}error(p){this.isStopped?oh(function Jt(a){return Ui("E",void 0,a)}(p),this):(this.isStopped=!0,this._error(p))}complete(){this.isStopped?oh(Sn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(p){this.destination.next(p)}_error(p){try{this.destination.error(p)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pm=Function.prototype.bind;function nh(a,p){return pm.call(a,p)}class Ko{constructor(p){this.partialObserver=p}next(p){const{partialObserver:d}=this;if(d.next)try{d.next(p)}catch(v){ih(v)}}error(p){const{partialObserver:d}=this;if(d.error)try{d.error(p)}catch(v){ih(v)}else ih(p)}complete(){const{partialObserver:p}=this;if(p.complete)try{p.complete()}catch(d){ih(d)}}}class Wn extends zu{constructor(p,d,v){let C;if(super(),re(p)||!p)C={next:null!=p?p:void 0,error:null!=d?d:void 0,complete:null!=v?v:void 0};else{let _;this&&Ul.useDeprecatedNextContext?(_=Object.create(p),_.unsubscribe=()=>this.unsubscribe(),C={next:p.next&&nh(p.next,_),error:p.error&&nh(p.error,_),complete:p.complete&&nh(p.complete,_)}):C=p}this.destination=new Ko(C)}}function ih(a){Ul.useDeprecatedSynchronousErrorHandling?function cm(a){Ul.useDeprecatedSynchronousErrorHandling&&Cs&&(Cs.errorThrown=!0,Cs.error=a)}(a):ms(a)}function oh(a,p){const{onStoppedNotification:d}=Ul;d&&Uu.setTimeout(()=>d(a,p))}const dm={closed:!0,next:um,error:function sa(a){throw a},complete:um},qa="function"==typeof Symbol&&Symbol.observable||"@@observable";function ws(a){return a}let vr=(()=>{class a{constructor(d){d&&(this._subscribe=d)}lift(d){const v=new a;return v.source=this,v.operator=d,v}subscribe(d,v,C){const _=function zt(a){return a&&a instanceof zu||function gm(a){return a&&re(a.next)&&re(a.error)&&re(a.complete)}(a)&&lm(a)}(d)?d:new Wn(d,v,C);return oa(()=>{const{operator:O,source:R}=this;_.add(O?O.call(_,R):R?this._subscribe(_):this._trySubscribe(_))}),_}_trySubscribe(d){try{return this._subscribe(d)}catch(v){d.error(v)}}forEach(d,v){return new(v=fm(v))((C,_)=>{const O=new Wn({next:R=>{try{d(R)}catch(M){_(M),O.unsubscribe()}},error:_,complete:C});this.subscribe(O)})}_subscribe(d){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(d)}[qa](){return this}pipe(...d){return function hm(a){return 0===a.length?ws:1===a.length?a[0]:function(d){return a.reduce((v,C)=>C(v),d)}}(d)(this)}toPromise(d){return new(d=fm(d))((v,C)=>{let _;this.subscribe(O=>_=O,O=>C(O),()=>v(_))})}}return a.create=p=>new a(p),a})();function fm(a){var p;return null!==(p=null!=a?a:Ul.Promise)&&void 0!==p?p:Promise}const sh=b(a=>function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let aa=(()=>{class a extends vr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(d){const v=new ah(this,this);return v.operator=d,v}_throwIfClosed(){if(this.closed)throw new sh}next(d){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(d)}})}error(d){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=d;const{observers:v}=this;for(;v.length;)v.shift().error(d)}})}complete(){oa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:d}=this;for(;d.length;)d.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var d;return(null===(d=this.observers)||void 0===d?void 0:d.length)>0}_trySubscribe(d){return this._throwIfClosed(),super._trySubscribe(d)}_subscribe(d){return this._throwIfClosed(),this._checkFinalizedStatuses(d),this._innerSubscribe(d)}_innerSubscribe(d){const{hasError:v,isStopped:C,observers:_}=this;return v||C?$o:(this.currentObservers=null,_.push(d),new xr(()=>{this.currentObservers=null,jl(_,d)}))}_checkFinalizedStatuses(d){const{hasError:v,thrownError:C,isStopped:_}=this;v?d.error(C):_&&d.complete()}asObservable(){const d=new vr;return d.source=this,d}}return a.create=(p,d)=>new ah(p,d),a})();class ah extends aa{constructor(p,d){super(),this.destination=p,this.source=d}next(p){var d,v;null===(v=null===(d=this.destination)||void 0===d?void 0:d.next)||void 0===v||v.call(d,p)}error(p){var d,v;null===(v=null===(d=this.destination)||void 0===d?void 0:d.error)||void 0===v||v.call(d,p)}complete(){var p,d;null===(d=null===(p=this.destination)||void 0===p?void 0:p.complete)||void 0===d||d.call(p)}_subscribe(p){var d,v;return null!==(v=null===(d=this.source)||void 0===d?void 0:d.subscribe(p))&&void 0!==v?v:$o}}function og(a){return re(null==a?void 0:a.lift)}function $r(a){return p=>{if(og(p))return p.lift(function(d){try{return a(d,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}function Kr(a,p,d,v,C){return new sg(a,p,d,v,C)}class sg extends zu{constructor(p,d,v,C,_,O){super(p),this.onFinalize=_,this.shouldUnsubscribe=O,this._next=d?function(R){try{d(R)}catch(M){p.error(M)}}:super._next,this._error=C?function(R){try{C(R)}catch(M){p.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(R){p.error(R)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:d}=this;super.unsubscribe(),!d&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}}function Gt(a,p){return $r((d,v)=>{let C=0;d.subscribe(Kr(v,_=>{v.next(a.call(p,_,C++))}))})}function zi(a){return this instanceof zi?(this.v=a,this):new zi(a)}function mm(a,p,d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,v=d.apply(a,p||[]),_=[];return C={},O("next"),O("throw"),O("return"),C[Symbol.asyncIterator]=function(){return this},C;function O(ee){v[ee]&&(C[ee]=function(oe){return new Promise(function(ve,Me){_.push([ee,oe,ve,Me])>1||R(ee,oe)})})}function R(ee,oe){try{!function M(ee){ee.value instanceof zi?Promise.resolve(ee.value.v).then(L,V):X(_[0][2],ee)}(v[ee](oe))}catch(ve){X(_[0][3],ve)}}function L(ee){R("next",ee)}function V(ee){R("throw",ee)}function X(ee,oe){ee(oe),_.shift(),_.length&&R(_[0][0],_[0][1])}}function la(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var d,p=a[Symbol.asyncIterator];return p?p.call(a):(a=function Xe(a){var p="function"==typeof Symbol&&Symbol.iterator,d=p&&a[p],v=0;if(d)return d.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&v>=a.length&&(a=void 0),{value:a&&a[v++],done:!a}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),d={},v("next"),v("throw"),v("return"),d[Symbol.asyncIterator]=function(){return this},d);function v(_){d[_]=a[_]&&function(O){return new Promise(function(R,M){!function C(_,O,R,M){Promise.resolve(M).then(function(L){_({value:L,done:R})},O)}(R,M,(O=a[_](O)).done,O.value)})}}}const rr=a=>a&&"number"==typeof a.length&&"function"!=typeof a;function Xa(a){return re(null==a?void 0:a.then)}function Cm(a){return re(a[qa])}function uh(a){return Symbol.asyncIterator&&re(null==a?void 0:a[Symbol.asyncIterator])}function cg(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pn=function Ku(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ch(a){return re(null==a?void 0:a[pn])}function Yo(a){return mm(this,arguments,function*(){const d=a.getReader();try{for(;;){const{value:v,done:C}=yield zi(d.read());if(C)return yield zi(void 0);yield yield zi(v)}}finally{d.releaseLock()}})}function ph(a){return re(null==a?void 0:a.getReader)}function wo(a){if(a instanceof vr)return a;if(null!=a){if(Cm(a))return function Ei(a){return new vr(p=>{const d=a[qa]();if(re(d.subscribe))return d.subscribe(p);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(a);if(rr(a))return function X_(a){return new vr(p=>{for(let d=0;d<a.length&&!p.closed;d++)p.next(a[d]);p.complete()})}(a);if(Xa(a))return function pg(a){return new vr(p=>{a.then(d=>{p.closed||(p.next(d),p.complete())},d=>p.error(d)).then(null,ms)})}(a);if(uh(a))return wm(a);if(ch(a))return function dg(a){return new vr(p=>{for(const d of a)if(p.next(d),p.closed)return;p.complete()})}(a);if(ph(a))return function _m(a){return wm(Yo(a))}(a)}throw cg(a)}function wm(a){return new vr(p=>{(function Z_(a,p){var d,v,C,_;return function Y_(a,p,d,v){return new(d||(d=Promise))(function(_,O){function R(V){try{L(v.next(V))}catch(X){O(X)}}function M(V){try{L(v.throw(V))}catch(X){O(X)}}function L(V){V.done?_(V.value):function C(_){return _ instanceof d?_:new d(function(O){O(_)})}(V.value).then(R,M)}L((v=v.apply(a,p||[])).next())})}(this,void 0,void 0,function*(){try{for(d=la(a);!(v=yield d.next()).done;)if(p.next(v.value),p.closed)return}catch(O){C={error:O}}finally{try{v&&!v.done&&(_=d.return)&&(yield _.call(d))}finally{if(C)throw C.error}}p.complete()})})(a,p).catch(d=>p.error(d))})}function nr(a,p,d,v=0,C=!1){const _=p.schedule(function(){d(),C?a.add(this.schedule(null,v)):this.unsubscribe()},v);if(a.add(_),!C)return _}function bn(a,p,d=1/0){return re(p)?bn((v,C)=>Gt((_,O)=>p(v,_,C,O))(wo(a(v,C))),d):("number"==typeof p&&(d=p),$r((v,C)=>function Ar(a,p,d,v,C,_,O,R){const M=[];let L=0,V=0,X=!1;const ee=()=>{X&&!M.length&&!L&&p.complete()},oe=Me=>L<v?ve(Me):M.push(Me),ve=Me=>{_&&p.next(Me),L++;let Ue=!1;wo(d(Me,V++)).subscribe(Kr(p,We=>{null==C||C(We),_?oe(We):p.next(We)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(L--;M.length&&L<v;){const We=M.shift();O?nr(p,O,()=>ve(We)):ve(We)}ee()}catch(We){p.error(We)}}))};return a.subscribe(Kr(p,oe,()=>{X=!0,ee()})),()=>{null==R||R()}}(v,C,a,d)))}function Za(a=1/0){return bn(ws,a)}const qo=new vr(a=>a.complete());function gp(a){return a[a.length-1]}function Yu(a){return re(gp(a))?a.pop():void 0}function qu(a){return function bs(a){return a&&re(a.schedule)}(gp(a))?a.pop():void 0}function vp(a,p=0){return $r((d,v)=>{d.subscribe(Kr(v,C=>nr(v,a,()=>v.next(C),p),()=>nr(v,a,()=>v.complete(),p),C=>nr(v,a,()=>v.error(C),p)))})}function hg(a,p=0){return $r((d,v)=>{v.add(a.schedule(()=>d.subscribe(v),p))})}function Ge(a,p){if(!a)throw new Error("Iterable cannot be null");return new vr(d=>{nr(d,p,()=>{const v=a[Symbol.asyncIterator]();nr(d,p,()=>{v.next().then(C=>{C.done?d.complete():d.next(C.value)})},0,!0)})})}function Yr(a,p){return p?function gg(a,p){if(null!=a){if(Cm(a))return function fg(a,p){return wo(a).pipe(hg(p),vp(p))}(a,p);if(rr(a))return function bm(a,p){return new vr(d=>{let v=0;return p.schedule(function(){v===a.length?d.complete():(d.next(a[v++]),d.closed||this.schedule())})})}(a,p);if(Xa(a))return function yp(a,p){return wo(a).pipe(hg(p),vp(p))}(a,p);if(uh(a))return Ge(a,p);if(ch(a))return function mp(a,p){return new vr(d=>{let v;return nr(d,p,()=>{v=a[pn](),nr(d,p,()=>{let C,_;try{({value:C,done:_}=v.next())}catch(O){return void d.error(O)}_?d.complete():d.next(C)},0,!0)}),()=>re(null==v?void 0:v.return)&&v.return()})}(a,p);if(ph(a))return function Q_(a,p){return Ge(Yo(a),p)}(a,p)}throw cg(a)}(a,p):wo(a)}function ne(a){return a<=0?()=>qo:$r((p,d)=>{let v=0;p.subscribe(Kr(d,C=>{++v<=a&&(d.next(C),a<=v&&d.complete())}))})}function vg(a,p,...d){return!0===p?(a(),null):!1===p?null:p(...d).pipe(ne(1)).subscribe(()=>a())}function lr(a){for(let p in a)if(a[p]===lr)return p;throw Error("Could not find renamed property on target object.")}function ua(a,p){for(const d in p)p.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=p[d])}function ir(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ir).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const p=a.toString();if(null==p)return""+p;const d=p.indexOf("\n");return-1===d?p:p.substring(0,d)}function fh(a,p){return null==a||""===a?null===p?"":p:null==p||""===p?a:a+" "+p}const yg=lr({__forward_ref__:lr});function Ht(a){return a.__forward_ref__=Ht,a.toString=function(){return ir(this())},a}function Dt(a){return Om(a)?a():a}function Om(a){return"function"==typeof a&&a.hasOwnProperty(yg)&&a.__forward_ref__===Ht}class Kt extends Error{constructor(p,d){super(function mg(a,p){return`NG0${Math.abs(a)}${p?": "+p:""}`}(p,d)),this.code=p}}function Ot(a){return"string"==typeof a?a:null==a?"":String(a)}function Pn(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ot(a)}function gh(a,p){const d=p?` in ${p}`:"";throw new Kt(-201,`No provider for ${Pn(a)} found${d}`)}function ri(a,p){null==a&&function Wt(a,p,d,v){throw new Error(`ASSERTION ERROR: ${a}`+(null==v?"":` [Expected=> ${d} ${v} ${p} <=Actual]`))}(p,a,null,"!=")}function Rt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function En(a){return{providers:a.providers||[],imports:a.imports||[]}}function vh(a){return Qa(a,Xu)||Qa(a,yh)}function Qa(a,p){return a.hasOwnProperty(p)?a[p]:null}function ql(a){return a&&(a.hasOwnProperty(Ja)||a.hasOwnProperty(wg))?a[Ja]:null}const Xu=lr({\u0275prov:lr}),Ja=lr({\u0275inj:lr}),yh=lr({ngInjectableDef:lr}),wg=lr({ngInjectorDef:lr});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let da;function Oi(a){const p=da;return da=a,p}function Mm(a,p,d){const v=vh(a);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:d&lt.Optional?null:void 0!==p?p:void gh(ir(a),"Injector")}function $i(a){return{toString:a}.toString()}var ii=(()=>((ii=ii||{})[ii.OnPush=0]="OnPush",ii[ii.Default=1]="Default",ii))(),Ki=(()=>{return(a=Ki||(Ki={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Ki;var a})();const Im="undefined"!=typeof globalThis&&globalThis,Nm="undefined"!=typeof window&&window,Lm="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dr=Im||"undefined"!=typeof global&&global||Nm||Lm,Zu={},or=[],Ch=lr({\u0275cmp:lr}),wh=lr({\u0275dir:lr}),ur=lr({\u0275pipe:lr}),Sg=lr({\u0275mod:lr}),Di=lr({\u0275fac:lr}),hn=lr({__NG_ELEMENT_ID__:lr});let Qu=0;function Yi(a){return $i(()=>{const d={},v={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ii.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||or,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Ki.Emulated,id:"c",styles:a.styles||or,_:null,setInput:null,schemas:a.schemas||null,tView:null},C=a.directives,_=a.features,O=a.pipes;return v.id+=Qu++,v.inputs=jn(a.inputs,d),v.outputs=jn(a.outputs),_&&_.forEach(R=>R(v)),v.directiveDefs=C?()=>("function"==typeof C?C():C).map(_h):null,v.pipeDefs=O?()=>("function"==typeof O?O():O).map(ha):null,v})}function _h(a){return qr(a)||function br(a){return a[wh]||null}(a)}function ha(a){return function Zl(a){return a[ur]||null}(a)}const oi={};function fn(a){return $i(()=>{const p={type:a.type,bootstrap:a.bootstrap||or,declarations:a.declarations||or,imports:a.imports||or,exports:a.exports||or,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(oi[a.id]=a.type),p})}function jn(a,p){if(null==a)return Zu;const d={};for(const v in a)if(a.hasOwnProperty(v)){let C=a[v],_=C;Array.isArray(C)&&(_=C[1],C=C[0]),d[C]=v,p&&(p[C]=_)}return d}const Ct=Yi;function qr(a){return a[Ch]||null}function _o(a,p){const d=a[Sg]||null;if(!d&&!0===p)throw new Error(`Type ${ir(a)} does not have '\u0275mod' property.`);return d}function si(a){return Array.isArray(a)&&"object"==typeof a[1]}function So(a){return Array.isArray(a)&&!0===a[1]}function Mn(a){return 0!=(8&a.flags)}function rl(a){return 2==(2&a.flags)}function nl(a){return 1==(1&a.flags)}function Fn(a){return null!==a.template}function Ep(a){return 0!=(512&a[2])}function As(a,p){return a.hasOwnProperty(Di)?a[Di]:null}class hS{constructor(p,d,v){this.previousValue=p,this.currentValue=d,this.firstChange=v}isFirstChange(){return this.firstChange}}function Zi(){return Um}function Um(a){return a.type.prototype.ngOnChanges&&(a.setInput=fS),Og}function Og(){const a=Eh(this),p=null==a?void 0:a.current;if(p){const d=a.previous;if(d===Zu)a.previous=p;else for(let v in p)d[v]=p[v];a.current=null,this.ngOnChanges(p)}}function fS(a,p,d,v){const C=Eh(a)||function il(a,p){return a[zm]=p}(a,{previous:Zu,current:null}),_=C.current||(C.current={}),O=C.previous,R=this.declaredInputs[d],M=O[R];_[R]=new hS(M&&M.currentValue,p,O===Zu),a[v]=p}Zi.ngInherit=!0;const zm="__ngSimpleChanges__";function Eh(a){return a[zm]||null}let Rh;function Vr(a){return!!a.listen}const Km={createRenderer:(a,p)=>function kr(){return void 0!==Rh?Rh:"undefined"!=typeof document?document:void 0}()};function Cr(a){for(;Array.isArray(a);)a=a[0];return a}function er(a,p){return Cr(p[a])}function Ti(a,p){return Cr(p[a.index])}function Rg(a,p){return a.data[p]}function nn(a,p){const d=p[a];return si(d)?d:d[0]}function nu(a){return 4==(4&a[2])}function Ah(a){return 128==(128&a[2])}function ol(a,p){return null==p?null:a[p]}function gt(a){a[18]=0}function va(a,p){a[5]+=p;let d=a,v=a[3];for(;null!==v&&(1===p&&1===d[5]||-1===p&&0===d[5]);)v[5]+=p,d=v,v=v[3]}const ot={lFrame:al(null),bindingsEnabled:!0};function Dp(){return ot.bindingsEnabled}function ke(){return ot.lFrame.lView}function Nt(){return ot.lFrame.tView}function gn(){let a=Ne();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ne(){return ot.lFrame.currentTNode}function Ts(a,p){const d=ot.lFrame;d.currentTNode=a,d.isParent=p}function ya(){return ot.lFrame.isParent}function Ca(){return ot.lFrame.bindingIndex++}function Qo(a){const p=ot.lFrame,d=p.bindingIndex;return p.bindingIndex=p.bindingIndex+a,d}function CS(a,p){const d=ot.lFrame;d.bindingIndex=d.bindingRootIndex=a,ou(p)}function ou(a){ot.lFrame.currentDirectiveIndex=a}function Xm(){return ot.lFrame.currentQueryIndex}function ic(a){ot.lFrame.currentQueryIndex=a}function wS(a){const p=a[1];return 2===p.type?p.declTNode:1===p.type?a[6]:null}function es(a,p,d){if(d&lt.SkipSelf){let C=p,_=a;for(;!(C=C.parent,null!==C||d&lt.Host||(C=wS(_),null===C||(_=_[15],10&C.type))););if(null===C)return!1;p=C,a=_}const v=ot.lFrame=Pp();return v.currentTNode=p,v.lView=a,!0}function oc(a){const p=Pp(),d=a[1];ot.lFrame=p,p.currentTNode=d.firstChild,p.lView=a,p.tView=d,p.contextLView=a,p.bindingIndex=d.bindingStartIndex,p.inI18n=!1}function Pp(){const a=ot.lFrame,p=null===a?null:a.child;return null===p?al(a):p}function al(a){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=p),p}function xg(){const a=ot.lFrame;return ot.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const wa=xg;function sc(){const a=xg();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function In(){return ot.lFrame.selectedIndex}function ll(a){ot.lFrame.selectedIndex=a}function Pr(){const a=ot.lFrame;return Rg(a.tView,a.selectedIndex)}function Wr(a,p){for(let d=p.directiveStart,v=p.directiveEnd;d<v;d++){const _=a.data[d].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:R,ngAfterViewInit:M,ngAfterViewChecked:L,ngOnDestroy:V}=_;O&&(a.contentHooks||(a.contentHooks=[])).push(-d,O),R&&((a.contentHooks||(a.contentHooks=[])).push(d,R),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,R)),M&&(a.viewHooks||(a.viewHooks=[])).push(-d,M),L&&((a.viewHooks||(a.viewHooks=[])).push(d,L),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,L)),null!=V&&(a.destroyHooks||(a.destroyHooks=[])).push(d,V)}}function xh(a,p,d){Mg(a,p,3,d)}function ul(a,p,d,v){(3&a[2])===d&&Mg(a,p,d,v)}function cl(a,p){let d=a[2];(3&d)===p&&(d&=2047,d+=1,a[2]=d)}function Mg(a,p,d,v){const _=null!=v?v:-1,O=p.length-1;let R=0;for(let M=void 0!==v?65535&a[18]:0;M<O;M++)if("number"==typeof p[M+1]){if(R=p[M],null!=v&&R>=v)break}else p[M]<0&&(a[18]+=65536),(R<_||-1==_)&&(Zm(a,d,p,M),a[18]=(4294901760&a[18])+M+2),M++}function Zm(a,p,d,v){const C=d[v]<0,_=d[v+1],R=a[C?-d[v]:d[v]];if(C){if(a[2]>>11<a[18]>>16&&(3&a[2])===p){a[2]+=2048;try{_.call(R)}finally{}}}else try{_.call(R)}finally{}}class ts{constructor(p,d,v){this.factory=p,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=v}}function au(a,p,d){const v=Vr(a);let C=0;for(;C<d.length;){const _=d[C];if("number"==typeof _){if(0!==_)break;C++;const O=d[C++],R=d[C++],M=d[C++];v?a.setAttribute(p,R,M,O):p.setAttributeNS(O,R,M)}else{const O=_,R=d[++C];Fh(O)?v&&a.setProperty(p,O,R):v?a.setAttribute(p,O,R):p.setAttribute(O,R),C++}}return C}function Sa(a){return 3===a||4===a||6===a}function Fh(a){return 64===a.charCodeAt(0)}function pl(a,p){if(null!==p&&0!==p.length)if(null===a||0===a.length)a=p.slice();else{let d=-1;for(let v=0;v<p.length;v++){const C=p[v];"number"==typeof C?d=C:0===d||xp(a,d,C,null,-1===d||2===d?p[++v]:null)}}return a}function xp(a,p,d,v,C){let _=0,O=a.length;if(-1===p)O=-1;else for(;_<a.length;){const R=a[_++];if("number"==typeof R){if(R===p){O=-1;break}if(R>p){O=_-1;break}}}for(;_<a.length;){const R=a[_];if("number"==typeof R)break;if(R===d){if(null===v)return void(null!==C&&(a[_+1]=C));if(v===a[_+1])return void(a[_+2]=C)}_++,null!==v&&_++,null!==C&&_++}-1!==O&&(a.splice(O,0,p),_=O+1),a.splice(_++,0,d),null!==v&&a.splice(_++,0,v),null!==C&&a.splice(_++,0,C)}function Mp(a){return-1!==a}function dl(a){return 32767&a}function ba(a,p){let d=function Fp(a){return a>>16}(a),v=p;for(;d>0;)v=v[15],d--;return v}let ac=!0;function lc(a){const p=ac;return ac=a,p}let tC=0;function lu(a,p){const d=uc(a,p);if(-1!==d)return d;const v=p[1];v.firstCreatePass&&(a.injectorIndex=p.length,Ig(v.data,a),Ig(p,null),Ig(v.blueprint,null));const C=cc(a,p),_=a.injectorIndex;if(Mp(C)){const O=dl(C),R=ba(C,p),M=R[1].data;for(let L=0;L<8;L++)p[_+L]=R[O+L]|M[O+L]}return p[_+8]=C,_}function Ig(a,p){a.push(0,0,0,0,0,0,0,0,p)}function uc(a,p){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===p[a.injectorIndex+8]?-1:a.injectorIndex}function cc(a,p){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,v=null,C=p;for(;null!==C;){const _=C[1],O=_.type;if(v=2===O?_.declTNode:1===O?C[6]:null,null===v)return-1;if(d++,C=C[15],-1!==v.injectorIndex)return v.injectorIndex|d<<16}return-1}function Ih(a,p,d){!function rs(a,p,d){let v;"string"==typeof d?v=d.charCodeAt(0)||0:d.hasOwnProperty(hn)&&(v=d[hn]),null==v&&(v=d[hn]=tC++);const C=255&v;p.data[a+(C>>5)]|=1<<C}(a,p,d)}function rC(a,p,d){if(d&lt.Optional)return a;gh(p,"NodeInjector")}function nC(a,p,d,v){if(d&lt.Optional&&void 0===v&&(v=null),0==(d&(lt.Self|lt.Host))){const C=a[9],_=Oi(void 0);try{return C?C.get(p,v,d&lt.Optional):Mm(p,v,d&lt.Optional)}finally{Oi(_)}}return rC(v,p,d)}function Ng(a,p,d,v=lt.Default,C){if(null!==a){const _=function Lg(a){if("string"==typeof a)return a.charCodeAt(0)||0;const p=a.hasOwnProperty(hn)?a[hn]:void 0;return"number"==typeof p?p>=0?255&p:oC:p}(d);if("function"==typeof _){if(!es(p,a,v))return v&lt.Host?rC(C,d,v):nC(p,d,v,C);try{const O=_(v);if(null!=O||v&lt.Optional)return O;gh(d)}finally{wa()}}else if("number"==typeof _){let O=null,R=uc(a,p),M=-1,L=v&lt.Host?p[16][6]:null;for((-1===R||v&lt.SkipSelf)&&(M=-1===R?cc(a,p):p[R+8],-1!==M&&pc(v,!1)?(O=p[1],R=dl(M),p=ba(M,p)):R=-1);-1!==R;){const V=p[1];if(Gg(_,R,V.data)){const X=Nh(R,p,d,O,v,L);if(X!==iC)return X}M=p[R+8],-1!==M&&pc(v,p[1].data[R+8]===L)&&Gg(_,R,p)?(O=V,R=dl(M),p=ba(M,p)):R=-1}}}return nC(p,d,v,C)}const iC={};function oC(){return new dc(gn(),ke())}function Nh(a,p,d,v,C,_){const O=p[1],R=O.data[a+8],V=uu(R,O,d,null==v?rl(R)&&ac:v!=O&&0!=(3&R.type),C&lt.Host&&_===R);return null!==V?cu(p,O,V,R):iC}function uu(a,p,d,v,C){const _=a.providerIndexes,O=p.data,R=1048575&_,M=a.directiveStart,V=_>>20,ee=C?R+V:a.directiveEnd;for(let oe=v?R:R+V;oe<ee;oe++){const ve=O[oe];if(oe<M&&d===ve||oe>=M&&ve.type===d)return oe}if(C){const oe=O[M];if(oe&&Fn(oe)&&oe.type===d)return M}return null}function cu(a,p,d,v){let C=a[d];const _=p.data;if(function Qm(a){return a instanceof ts}(C)){const O=C;O.resolving&&function dn(a,p){const d=p?`. Dependency path: ${p.join(" > ")} > ${a}`:"";throw new Kt(-200,`Circular dependency in DI detected for ${a}${d}`)}(Pn(_[d]));const R=lc(O.canSeeViewProviders);O.resolving=!0;const M=O.injectImpl?Oi(O.injectImpl):null;es(a,v,lt.Default);try{C=a[d]=O.factory(void 0,_,a,v),p.firstCreatePass&&d>=v.directiveStart&&function xi(a,p,d){const{ngOnChanges:v,ngOnInit:C,ngDoCheck:_}=p.type.prototype;if(v){const O=Um(p);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,O),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,O)}C&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,C),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,_))}(d,_[d],p)}finally{null!==M&&Oi(M),lc(R),O.resolving=!1,wa()}}return C}function Gg(a,p,d){return!!(d[p+(a>>5)]&1<<a)}function pc(a,p){return!(a&lt.Self||a&lt.Host&&p)}class dc{constructor(p,d){this._tNode=p,this._lView=d}get(p,d,v){return Ng(this._tNode,this._lView,p,v,d)}}function Fr(a){return $i(()=>{const p=a.prototype.constructor,d=p[Di]||kg(p),v=Object.prototype;let C=Object.getPrototypeOf(a.prototype).constructor;for(;C&&C!==v;){const _=C[Di]||kg(C);if(_&&_!==d)return _;C=Object.getPrototypeOf(C)}return _=>new _})}function kg(a){return Om(a)?()=>{const p=kg(Dt(a));return p&&p()}:As(a)}function Ip(a){return function hl(a,p){if("class"===p)return a.classes;if("style"===p)return a.styles;const d=a.attrs;if(d){const v=d.length;let C=0;for(;C<v;){const _=d[C];if(Sa(_))break;if(0===_)C+=2;else if("number"==typeof _)for(C++;C<v&&"string"==typeof d[C];)C++;else{if(_===p)return d[C+1];C+=2}}}return null}(gn(),a)}const fc="__parameters__",pu="__prop__metadata__";function Vg(a){return function(...d){if(a){const v=a(...d);for(const C in v)this[C]=v[C]}}}function Ea(a,p,d){return $i(()=>{const v=Vg(p);function C(..._){if(this instanceof C)return v.apply(this,_),this;const O=new C(..._);return R.annotation=O,R;function R(M,L,V){const X=M.hasOwnProperty(fc)?M[fc]:Object.defineProperty(M,fc,{value:[]})[fc];for(;X.length<=V;)X.push(null);return(X[V]=X[V]||[]).push(O),M}}return d&&(C.prototype=Object.create(d.prototype)),C.prototype.ngMetadataName=a,C.annotationCls=C,C})}function bt(a,p,d,v){return $i(()=>{const C=Vg(p);function _(...O){if(this instanceof _)return C.apply(this,O),this;const R=new _(...O);return function M(L,V){const X=L.constructor,ee=X.hasOwnProperty(pu)?X[pu]:Object.defineProperty(X,pu,{value:{}})[pu];ee[V]=ee.hasOwnProperty(V)&&ee[V]||[],ee[V].unshift(R),v&&v(L,V,...O)}}return d&&(_.prototype=Object.create(d.prototype)),_.prototype.ngMetadataName=a,_.annotationCls=_,_})}class yt{constructor(p,d){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Rt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Np=new yt("AnalyzeForEntryComponents");class du{}const Bg=bt("ContentChildren",(a,p={})=>Object.assign({selector:a,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},p),du);function to(a,p){void 0===p&&(p=a);for(let d=0;d<a.length;d++){let v=a[d];Array.isArray(v)?(p===a&&(p=a.slice(0,d)),to(v,p)):p!==a&&p.push(v)}return p}function Ns(a,p){a.forEach(d=>Array.isArray(d)?Ns(d,p):p(d))}function gc(a,p,d){p>=a.length?a.push(d):a.splice(p,0,d)}function vc(a,p){return p>=a.length-1?a.pop():a.splice(p,1)[0]}function ro(a,p,d){let v=yc(a,p);return v>=0?a[1|v]=d:(v=~v,function OS(a,p,d,v){let C=a.length;if(C==p)a.push(d,v);else if(1===C)a.push(v,a[0]),a[0]=d;else{for(C--,a.push(a[C-1],a[C]);C>p;)a[C]=a[C-2],C--;a[p]=d,a[p+1]=v}}(a,v,p,d)),v}function Ug(a,p){const d=yc(a,p);if(d>=0)return a[1|d]}function yc(a,p){return function Bp(a,p,d){let v=0,C=a.length>>d;for(;C!==v;){const _=v+(C-v>>1),O=a[_<<d];if(p===O)return _<<d;O>p?C=_:v=_+1}return~(C<<d)}(a,p,1)}const fu={},Yg="__NG_DI_FLAG__",Gh="ngTempTokenPath",AS=/\n/gm,uC="__source",TS=lr({provide:String,useValue:lr});let Ls;function cC(a){const p=Ls;return Ls=a,p}function mc(a,p=lt.Default){if(void 0===Ls)throw new Kt(203,"");return null===Ls?Mm(a,void 0,p):Ls.get(a,p&lt.Optional?null:void 0,p)}function st(a,p=lt.Default){return(function _g(){return da}()||mc)(Dt(a),p)}const gu=st;function kh(a){const p=[];for(let d=0;d<a.length;d++){const v=Dt(a[d]);if(Array.isArray(v)){if(0===v.length)throw new Kt(900,"");let C,_=lt.Default;for(let O=0;O<v.length;O++){const R=v[O],M=jp(R);"number"==typeof M?-1===M?C=R.token:_|=M:C=R}p.push(st(C,_))}else p.push(st(v))}return p}function Wp(a,p){return a[Yg]=p,a.prototype[Yg]=p,a}function jp(a){return a[Yg]}const Vh=Wp(Ea("Inject",a=>({token:a})),-1),ks=Wp(Ea("Optional"),8),Fi=Wp(Ea("SkipSelf"),4);class Qg{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function li(a){return a instanceof Qg?a.changingThisBreaksApplicationSecurity:a}const LS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,GS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var sn=(()=>((sn=sn||{})[sn.NONE=0]="NONE",sn[sn.HTML=1]="HTML",sn[sn.STYLE=2]="STYLE",sn[sn.SCRIPT=3]="SCRIPT",sn[sn.URL=4]="URL",sn[sn.RESOURCE_URL=5]="RESOURCE_URL",sn))();function nv(a){const p=function Zp(){const a=ke();return a&&a[12]}();return p?p.sanitize(sn.URL,a)||"":function _c(a,p){const d=function mu(a){return a instanceof Qg&&a.getTypeName()||null}(a);if(null!=d&&d!==p){if("ResourceURL"===d&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===p}(a,"URL")?li(a):function jh(a){return(a=String(a)).match(LS)||a.match(GS)?a:"unsafe:"+a}(Ot(a))}const Kh="__ngContext__";function Ln(a,p){a[Kh]=p}function Jp(a){const p=function Qp(a){return a[Kh]||null}(a);return p?Array.isArray(p)?p:p.lView:null}function cv(a){return a.ngOriginalError}function Cu(a,...p){a.error(...p)}class td{constructor(){this._console=console}handleError(p){const d=this._findOriginalError(p),v=function KS(a){return a&&a.ngErrorLogger||Cu}(p);v(this._console,"ERROR",p),d&&v(this._console,"ORIGINAL ERROR",d)}_findOriginalError(p){let d=p&&cv(p);for(;d&&cv(d);)d=cv(d);return d||null}}const ml=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dr))();function wr(a){return a instanceof Function?a():a}var io=(()=>((io=io||{})[io.Important=1]="Important",io[io.DashCase=2]="DashCase",io))();function Qh(a,p){return undefined(a,p)}function Su(a){const p=a[3];return So(p)?p[3]:p}function Jh(a){return pv(a[13])}function pi(a){return pv(a[4])}function pv(a){for(;null!==a&&!So(a);)a=a[4];return a}function Li(a,p,d,v,C){if(null!=v){let _,O=!1;So(v)?_=v:si(v)&&(O=!0,v=v[0]);const R=Cr(v);0===a&&null!==d?null==C?kt(p,d,R):ns(p,d,R,C||null,!0):1===a&&null!==d?ns(p,d,R,C||null,!0):2===a?function kC(a,p,d){const v=Ws(a,p);v&&function NC(a,p,d,v){Vr(a)?a.removeChild(p,d,v):p.removeChild(d)}(a,v,p,d)}(p,R,O):3===a&&p.destroyNode(R),null!=_&&function so(a,p,d,v,C){const _=d[7];_!==Cr(d)&&Li(p,a,v,_,C);for(let R=10;R<d.length;R++){const M=d[R];js(M[1],M,a,p,v,_)}}(p,a,_,d,C)}}function tf(a,p,d){if(Vr(a))return a.createElement(p,d);{const v=null!==d?function vS(a){const p=a.toLowerCase();return"svg"===p?"http://www.w3.org/2000/svg":"math"===p?"http://www.w3.org/1998/MathML/":null}(d):null;return null===v?a.createElement(p):a.createElementNS(v,p)}}function Oc(a,p){const d=a[9],v=d.indexOf(p),C=p[3];1024&p[2]&&(p[2]&=-1025,va(C,-1)),d.splice(v,1)}function id(a,p){if(a.length<=10)return;const d=10+p,v=a[d];if(v){const C=v[17];null!==C&&C!==a&&Oc(C,v),p>0&&(a[d-1][4]=v[4]);const _=vc(a,10+p);!function XS(a,p){js(a,p,p[11],2,null,null),p[0]=null,p[6]=null}(v[1],v);const O=_[19];null!==O&&O.detachView(_[1]),v[3]=null,v[4]=null,v[2]&=-129}return v}function Dc(a,p){if(!(256&p[2])){const d=p[11];Vr(d)&&d.destroyNode&&js(a,p,d,3,null,null),function hv(a){let p=a[13];if(!p)return Rc(a[1],a);for(;p;){let d=null;if(si(p))d=p[13];else{const v=p[10];v&&(d=v)}if(!d){for(;p&&!p[4]&&p!==a;)si(p)&&Rc(p[1],p),p=p[3];null===p&&(p=a),si(p)&&Rc(p[1],p),d=p&&p[4]}p=d}}(p)}}function Rc(a,p){if(!(256&p[2])){p[2]&=-129,p[2]|=256,function ZS(a,p){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let v=0;v<d.length;v+=2){const C=p[d[v]];if(!(C instanceof ts)){const _=d[v+1];if(Array.isArray(_))for(let O=0;O<_.length;O+=2){const R=C[_[O]],M=_[O+1];try{M.call(R)}finally{}}else try{_.call(C)}finally{}}}}(a,p),function gv(a,p){const d=a.cleanup,v=p[7];let C=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const O=d[_+1],R="function"==typeof O?O(p):Cr(p[O]),M=v[C=d[_+2]],L=d[_+3];"boolean"==typeof L?R.removeEventListener(d[_],M,L):L>=0?v[C=L]():v[C=-L].unsubscribe(),_+=2}else{const O=v[C=d[_+1]];d[_].call(O)}if(null!==v){for(let _=C+1;_<v.length;_++)v[_]();p[7]=null}}(a,p),1===p[1].type&&Vr(p[11])&&p[11].destroy();const d=p[17];if(null!==d&&So(p[3])){d!==p[3]&&Oc(d,p);const v=p[19];null!==v&&v.detachView(a)}}}function FC(a,p,d){return function IC(a,p,d){let v=p;for(;null!==v&&40&v.type;)v=(p=v).parent;if(null===v)return d[0];if(2&v.flags){const C=a.data[v.directiveStart].encapsulation;if(C===Ki.None||C===Ki.Emulated)return null}return Ti(v,d)}(a,p.parent,d)}function ns(a,p,d,v,C){Vr(a)?a.insertBefore(p,d,v,C):p.insertBefore(d,v,C)}function kt(a,p,d){Vr(a)?a.appendChild(p,d):p.appendChild(d)}function wl(a,p,d,v,C){null!==v?ns(a,p,d,v,C):kt(a,p,d)}function Ws(a,p){return Vr(a)?a.parentNode(p):p.parentNode}let of=function LC(a,p,d){return 40&a.type?Ti(a,d):null};function is(a,p,d,v){const C=FC(a,v,p),_=p[11],R=function od(a,p,d){return of(a,p,d)}(v.parent||p[6],v,p);if(null!=C)if(Array.isArray(d))for(let M=0;M<d.length;M++)wl(_,C,d[M],R,!1);else wl(_,C,d,R,!1)}function Ac(a,p){if(null!==p){const d=p.type;if(3&d)return Ti(p,a);if(4&d)return sd(-1,a[p.index]);if(8&d){const v=p.child;if(null!==v)return Ac(a,v);{const C=a[p.index];return So(C)?sd(-1,C):Cr(C)}}if(32&d)return Qh(p,a)()||Cr(a[p.index]);{const v=GC(a,p);return null!==v?Array.isArray(v)?v[0]:Ac(Su(a[16]),v):Ac(a,p.next)}}return null}function GC(a,p){return null!==p?a[16][6].projection[p.projection]:null}function sd(a,p){const d=10+a+1;if(d<p.length){const v=p[d],C=v[1].firstChild;if(null!==C)return Ac(v,C)}return p[7]}function yv(a,p,d,v,C,_,O){for(;null!=d;){const R=v[d.index],M=d.type;if(O&&0===p&&(R&&Ln(Cr(R),v),d.flags|=4),64!=(64&d.flags))if(8&M)yv(a,p,d.child,v,C,_,!1),Li(p,a,C,R,_);else if(32&M){const L=Qh(d,v);let V;for(;V=L();)Li(p,a,C,V,_);Li(p,a,C,R,_)}else 16&M?Us(a,p,v,d,C,_):Li(p,a,C,R,_);d=O?d.projectionNext:d.next}}function js(a,p,d,v,C,_){yv(d,v,a.firstChild,p,C,_,!1)}function Us(a,p,d,v,C,_){const O=d[16],M=O[6].projection[v.projection];if(Array.isArray(M))for(let L=0;L<M.length;L++)Li(p,a,C,M[L],_);else yv(a,p,M,O[3],C,_,!0)}function xo(a,p,d){Vr(a)?a.setAttribute(p,"style",d):p.style.cssText=d}function ad(a,p,d){Vr(a)?""===d?a.removeAttribute(p,"class"):a.setAttribute(p,"class",d):p.className=d}function sf(a,p,d){let v=a.length;for(;;){const C=a.indexOf(p,d);if(-1===C)return C;if(0===C||a.charCodeAt(C-1)<=32){const _=p.length;if(C+_===v||a.charCodeAt(C+_)<=32)return C}d=C+1}}const Cv="ng-template";function wv(a,p,d){let v=0;for(;v<a.length;){let C=a[v++];if(d&&"class"===C){if(C=a[v],-1!==sf(C.toLowerCase(),p,0))return!0}else if(1===C){for(;v<a.length&&"string"==typeof(C=a[v++]);)if(C.toLowerCase()===p)return!0;return!1}}return!1}function VC(a){return 4===a.type&&a.value!==Cv}function _v(a,p,d){return p===(4!==a.type||d?a.value:Cv)}function eb(a,p,d){let v=4;const C=a.attrs||[],_=function WC(a){for(let p=0;p<a.length;p++)if(Sa(a[p]))return p;return a.length}(C);let O=!1;for(let R=0;R<p.length;R++){const M=p[R];if("number"!=typeof M){if(!O)if(4&v){if(v=2|1&v,""!==M&&!_v(a,M,d)||""===M&&1===p.length){if($n(v))return!1;O=!0}}else{const L=8&v?M:p[++R];if(8&v&&null!==a.attrs){if(!wv(a.attrs,L,d)){if($n(v))return!1;O=!0}continue}const X=BC(8&v?"class":M,C,VC(a),d);if(-1===X){if($n(v))return!1;O=!0;continue}if(""!==L){let ee;ee=X>_?"":C[X+1].toLowerCase();const oe=8&v?ee:null;if(oe&&-1!==sf(oe,L,0)||2&v&&L!==ee){if($n(v))return!1;O=!0}}}}else{if(!O&&!$n(v)&&!$n(M))return!1;if(O&&$n(M))continue;O=!1,v=M|1&v}}return $n(v)||O}function $n(a){return 0==(1&a)}function BC(a,p,d,v){if(null===p)return-1;let C=0;if(v||!d){let _=!1;for(;C<p.length;){const O=p[C];if(O===a)return C;if(3===O||6===O)_=!0;else{if(1===O||2===O){let R=p[++C];for(;"string"==typeof R;)R=p[++C];continue}if(4===O)break;if(0===O){C+=4;continue}}C+=_?1:2}return-1}return function bu(a,p){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const v=a[d];if("number"==typeof v)return-1;if(v===p)return d;d++}return-1}(p,a)}function HC(a,p,d=!1){for(let v=0;v<p.length;v++)if(eb(a,p[v],d))return!0;return!1}function _l(a,p){return a?":not("+p.trim()+")":p}function bv(a){let p=a[0],d=1,v=2,C="",_=!1;for(;d<a.length;){let O=a[d];if("string"==typeof O)if(2&v){const R=a[++d];C+="["+O+(R.length>0?'="'+R+'"':"")+"]"}else 8&v?C+="."+O:4&v&&(C+=" "+O);else""!==C&&!$n(O)&&(p+=_l(_,C),C=""),v=O,_=_||!$n(v);d++}return""!==C&&(p+=_l(_,C)),p}const St={};function ln(a){ld(Nt(),ke(),In()+a,!1)}function ld(a,p,d,v){if(!v)if(3==(3&p[2])){const _=a.preOrderCheckHooks;null!==_&&xh(p,_,d)}else{const _=a.preOrderHooks;null!==_&&ul(p,_,0,d)}ll(d)}function Ra(a,p){return a<<17|p<<2}function Mo(a){return a>>17&32767}function Tc(a){return 2|a}function Aa(a){return(131068&a)>>2}function ao(a,p){return-131069&a|p<<2}function zs(a){return 1|a}function xa(a,p){const d=a.contentQueries;if(null!==d)for(let v=0;v<d.length;v+=2){const C=d[v],_=d[v+1];if(-1!==_){const O=a.data[_];ic(C),O.contentQueries(2,p[_],_)}}}function Eu(a,p,d,v,C,_,O,R,M,L){const V=p.blueprint.slice();return V[0]=C,V[2]=140|v,gt(V),V[3]=V[15]=a,V[8]=d,V[10]=O||a&&a[10],V[11]=R||a&&a[11],V[12]=M||a&&a[12]||null,V[9]=L||a&&a[9]||null,V[6]=_,V[16]=2==p.type?a[16]:V,V}function Io(a,p,d,v,C){let _=a.data[p];if(null===_)_=function cf(a,p,d,v,C){const _=Ne(),O=ya(),M=a.data[p]=function vd(a,p,d,v,C,_){return{type:d,index:v,insertBeforeIndex:null,injectorIndex:p?p.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:C,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?_:_&&_.parent,d,p,v,C);return null===a.firstChild&&(a.firstChild=M),null!==_&&(O?null==_.child&&null!==M.parent&&(_.child=M):null===_.next&&(_.next=M)),M}(a,p,d,v,C),function xs(){return ot.lFrame.inI18n}()&&(_.flags|=64);else if(64&_.type){_.type=d,_.value=v,_.attrs=C;const O=function nc(){const a=ot.lFrame,p=a.currentTNode;return a.isParent?p:p.parent}();_.injectorIndex=null===O?-1:O.injectorIndex}return Ts(_,!0),_}function Kn(a,p,d,v){if(0===d)return-1;const C=p.length;for(let _=0;_<d;_++)p.push(v),a.blueprint.push(v),a.data.push(null);return C}function gd(a,p,d){oc(p);try{const v=a.viewQuery;null!==v&&yw(1,v,d);const C=a.template;null!==C&&pf(a,p,C,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&xa(a,p),a.staticViewQueries&&yw(2,a.viewQuery,d);const _=a.components;null!==_&&function nw(a,p){for(let d=0;d<p.length;d++)ob(a,p[d])}(p,_)}catch(v){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),v}finally{p[2]&=-5,sc()}}function uo(a,p,d,v){const C=p[2];if(256!=(256&C)){oc(p);try{gt(p),function Ie(a){return ot.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&pf(a,p,d,2,v);const O=3==(3&C);if(O){const L=a.preOrderCheckHooks;null!==L&&xh(p,L,null)}else{const L=a.preOrderHooks;null!==L&&ul(p,L,0,null),cl(p,0)}if(function ib(a){for(let p=Jh(a);null!==p;p=pi(p)){if(!p[2])continue;const d=p[9];for(let v=0;v<d.length;v++){const C=d[v],_=C[3];0==(1024&C[2])&&va(_,1),C[2]|=1024}}}(p),function gw(a){for(let p=Jh(a);null!==p;p=pi(p))for(let d=10;d<p.length;d++){const v=p[d],C=v[1];Ah(v)&&uo(C,v,C.template,v[8])}}(p),null!==a.contentQueries&&xa(a,p),O){const L=a.contentCheckHooks;null!==L&&xh(p,L)}else{const L=a.contentHooks;null!==L&&ul(p,L,1),cl(p,1)}!function xt(a,p){const d=a.hostBindingOpCodes;if(null!==d)try{for(let v=0;v<d.length;v++){const C=d[v];if(C<0)ll(~C);else{const _=C,O=d[++v],R=d[++v];CS(O,_),R(2,p[_])}}}finally{ll(-1)}}(a,p);const R=a.components;null!==R&&function rw(a,p){for(let d=0;d<p.length;d++)vw(a,p[d])}(p,R);const M=a.viewQuery;if(null!==M&&yw(2,M,v),O){const L=a.viewCheckHooks;null!==L&&xh(p,L)}else{const L=a.viewHooks;null!==L&&ul(p,L,2),cl(p,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),p[2]&=-73,1024&p[2]&&(p[2]&=-1025,va(p[3],-1))}finally{sc()}}}function iw(a,p,d,v){const C=p[10],O=nu(p);try{!O&&C.begin&&C.begin(),O&&gd(a,p,v),uo(a,p,d,v)}finally{!O&&C.end&&C.end()}}function pf(a,p,d,v,C){const _=In(),O=2&v;try{ll(-1),O&&p.length>20&&ld(a,p,20,!1),d(v,C)}finally{ll(_)}}function df(a,p,d){!Dp()||(function Ma(a,p,d,v){const C=d.directiveStart,_=d.directiveEnd;a.firstCreatePass||lu(d,p),Ln(v,p);const O=d.initialInputs;for(let R=C;R<_;R++){const M=a.data[R],L=Fn(M);L&&_d(p,d,M);const V=cu(p,a,R,d);Ln(V,p),null!==O&&dw(0,R-C,V,M,0,O),L&&(nn(d.index,p)[8]=V)}}(a,p,d,Ti(d,p)),128==(128&d.flags)&&function ki(a,p,d){const v=d.directiveStart,C=d.directiveEnd,O=d.index,R=function Tg(){return ot.lFrame.currentDirectiveIndex}();try{ll(O);for(let M=v;M<C;M++){const L=a.data[M],V=p[M];ou(M),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Cd(L,V)}}finally{ll(-1),ou(R)}}(a,p,d))}function Tv(a,p,d=Ti){const v=p.localNames;if(null!==v){let C=p.index+1;for(let _=0;_<v.length;_+=2){const O=v[_+1],R=-1===O?d(p,a):a[O];a[C++]=R}}}function xv(a){const p=a.tView;return null===p||p.incompleteFirstPass?a.tView=hf(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):p}function hf(a,p,d,v,C,_,O,R,M,L){const V=20+v,X=V+C,ee=function Mv(a,p){const d=[];for(let v=0;v<p;v++)d.push(v<a?null:St);return d}(V,X),oe="function"==typeof L?L():L;return ee[1]={type:a,blueprint:ee,template:d,queries:null,viewQuery:R,declTNode:p,data:ee.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:M,consts:oe,incompleteFirstPass:!1}}function sw(a,p,d,v){const C=Cw(p);null===d?C.push(v):(C.push(d),a.firstCreatePass&&ww(a).push(v,C.length-1))}function vf(a,p,d){for(let v in a)if(a.hasOwnProperty(v)){const C=a[v];(d=null===d?{}:d).hasOwnProperty(v)?d[v].push(p,C):d[v]=[p,C]}return d}function md(a,p,d,v){let C=!1;if(Dp()){const _=function lw(a,p,d){const v=a.directiveRegistry;let C=null;if(v)for(let _=0;_<v.length;_++){const O=v[_];HC(d,O.selectors,!1)&&(C||(C=[]),Ih(lu(d,p),a,O.type),Fn(O)?(wd(a,d),C.unshift(O)):C.push(O))}return C}(a,p,d),O=null===v?null:{"":-1};if(null!==_){C=!0,cw(d,a.data.length,_.length);for(let V=0;V<_.length;V++){const X=_[V];X.providersResolver&&X.providersResolver(X)}let R=!1,M=!1,L=Kn(a,p,_.length,null);for(let V=0;V<_.length;V++){const X=_[V];d.mergedAttrs=pl(d.mergedAttrs,X.hostAttrs),pw(a,d,p,L,X),nb(L,X,O),null!==X.contentQueries&&(d.flags|=8),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(d.flags|=128);const ee=X.type.prototype;!R&&(ee.ngOnChanges||ee.ngOnInit||ee.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),R=!0),!M&&(ee.ngOnChanges||ee.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),M=!0),L++}!function tb(a,p){const v=p.directiveEnd,C=a.data,_=p.attrs,O=[];let R=null,M=null;for(let L=p.directiveStart;L<v;L++){const V=C[L],X=V.inputs,ee=null===_||VC(p)?null:hw(X,_);O.push(ee),R=vf(X,L,R),M=vf(V.outputs,L,M)}null!==R&&(R.hasOwnProperty("class")&&(p.flags|=16),R.hasOwnProperty("style")&&(p.flags|=32)),p.initialInputs=O,p.inputs=R,p.outputs=M}(a,d)}O&&function uw(a,p,d){if(p){const v=a.localNames=[];for(let C=0;C<p.length;C+=2){const _=d[p[C+1]];if(null==_)throw new Kt(-301,!1);v.push(p[C],_)}}}(d,v,O)}return d.mergedAttrs=pl(d.mergedAttrs,d.attrs),C}function Ys(a,p,d,v,C,_){const O=_.hostBindings;if(O){let R=a.hostBindingOpCodes;null===R&&(R=a.hostBindingOpCodes=[]);const M=~p.index;(function po(a){let p=a.length;for(;p>0;){const d=a[--p];if("number"==typeof d&&d<0)return d}return 0})(R)!=M&&R.push(M),R.push(v,C,O)}}function Cd(a,p){null!==a.hostBindings&&a.hostBindings(1,p)}function wd(a,p){p.flags|=2,(a.components||(a.components=[])).push(p.index)}function nb(a,p,d){if(d){if(p.exportAs)for(let v=0;v<p.exportAs.length;v++)d[p.exportAs[v]]=a;Fn(p)&&(d[""]=a)}}function cw(a,p,d){a.flags|=1,a.directiveStart=p,a.directiveEnd=p+d,a.providerIndexes=p}function pw(a,p,d,v,C){a.data[v]=C;const _=C.factory||(C.factory=As(C.type)),O=new ts(_,Fn(C),null);a.blueprint[v]=O,d[v]=O,Ys(a,p,0,v,Kn(a,d,C.hostVars,St),C)}function _d(a,p,d){const v=Ti(p,a),C=xv(d),_=a[10],O=yf(a,Eu(a,C,null,d.onPush?64:16,v,p,_,_.createRenderer(v,d),null,null));a[p.index]=O}function qs(a,p,d,v,C,_){const O=Ti(a,p);!function Mc(a,p,d,v,C,_,O){if(null==_)Vr(a)?a.removeAttribute(p,C,d):p.removeAttribute(C);else{const R=null==O?Ot(_):O(_,v||"",C);Vr(a)?a.setAttribute(p,C,R,d):d?p.setAttributeNS(d,C,R):p.setAttribute(C,R)}}(p[11],O,_,a.value,d,v,C)}function dw(a,p,d,v,C,_){const O=_[p];if(null!==O){const R=v.setInput;for(let M=0;M<O.length;){const L=O[M++],V=O[M++],X=O[M++];null!==R?v.setInput(d,X,L,V):d[V]=X}}}function hw(a,p){let d=null,v=0;for(;v<p.length;){const C=p[v];if(0!==C)if(5!==C){if("number"==typeof C)break;a.hasOwnProperty(C)&&(null===d&&(d=[]),d.push(C,a[C],p[v+1])),v+=2}else v+=2;else v+=4}return d}function fw(a,p,d,v){return new Array(a,!0,!1,p,null,0,v,d,null,null)}function vw(a,p){const d=nn(p,a);if(Ah(d)){const v=d[1];80&d[2]?uo(v,d,v.template,d[8]):d[5]>0&&bl(d)}}function bl(a){for(let v=Jh(a);null!==v;v=pi(v))for(let C=10;C<v.length;C++){const _=v[C];if(1024&_[2]){const O=_[1];uo(O,_,O.template,_[8])}else _[5]>0&&bl(_)}const d=a[1].components;if(null!==d)for(let v=0;v<d.length;v++){const C=nn(d[v],a);Ah(C)&&C[5]>0&&bl(C)}}function ob(a,p){const d=nn(p,a),v=d[1];(function No(a,p){for(let d=p.length;d<a.blueprint.length;d++)p.push(a.blueprint[d])})(v,d),gd(v,d,d[8])}function yf(a,p){return a[13]?a[14][4]=p:a[13]=p,a[14]=p,p}function Sd(a){for(;a;){a[2]|=64;const p=Su(a);if(Ep(a)&&!p)return a;a=p}return null}function Ia(a){!function mf(a){for(let p=0;p<a.components.length;p++){const d=a.components[p],v=Jp(d),C=v[1];iw(C,v,C.template,d)}}(a[8])}function yw(a,p,d){ic(0),p(a,d)}const sb=(()=>Promise.resolve(null))();function Cw(a){return a[7]||(a[7]=[])}function ww(a){return a.cleanup||(a.cleanup=[])}function _w(a,p){const d=a[9],v=d?d.get(td,null):null;v&&v.handleError(p)}function Fc(a,p,d,v,C){for(let _=0;_<d.length;){const O=d[_++],R=d[_++],M=p[O],L=a.data[O];null!==L.setInput?L.setInput(M,C,v,R):M[R]=C}}function Xs(a,p,d){const v=er(p,a);!function Ec(a,p,d){Vr(a)?a.setValue(p,d):p.textContent=d}(a[11],v,d)}function Cf(a,p,d){let v=d?a.styles:null,C=d?a.classes:null,_=0;if(null!==p)for(let O=0;O<p.length;O++){const R=p[O];"number"==typeof R?_=R:1==_?C=fh(C,R):2==_&&(v=fh(v,R+": "+p[++O]+";"))}d?a.styles=v:a.stylesWithoutHost=v,d?a.classes=C:a.classesWithoutHost=C}const Vv=new yt("INJECTOR",-1);class Ou{get(p,d=fu){if(d===fu){const v=new Error(`NullInjectorError: No provider for ${ir(p)}!`);throw v.name="NullInjectorError",v}return d}}const Bv=new yt("Set Injector scope."),Du={},Hv={};let wf;function Sw(){return void 0===wf&&(wf=new Ou),wf}function Ic(a,p=null,d=null,v){const C=Nc(a,p,d,v);return C._resolveInjectorDefTypes(),C}function Nc(a,p=null,d=null,v){return new Ru(a,d,p||Sw(),v)}class Ru{constructor(p,d,v,C=null){this.parent=v,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];d&&Ns(d,R=>this.processProvider(R,p,d)),Ns([p],R=>this.processInjectorType(R,[],_)),this.records.set(Vv,El(void 0,this));const O=this.records.get(Bv);this.scope=null!=O?O.value:null,this.source=C||("object"==typeof p?null:ir(p))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(p=>p.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(p,d=fu,v=lt.Default){this.assertNotDestroyed();const C=cC(this),_=Oi(void 0);try{if(!(v&lt.SkipSelf)){let R=this.records.get(p);if(void 0===R){const M=function Ir(a){return"function"==typeof a||"object"==typeof a&&a instanceof yt}(p)&&vh(p);R=M&&this.injectableDefInScope(M)?El(_f(p),Du):null,this.records.set(p,R)}if(null!=R)return this.hydrate(p,R)}return(v&lt.Self?Sw():this.parent).get(p,d=v&lt.Optional&&d===fu?null:d)}catch(O){if("NullInjectorError"===O.name){if((O[Gh]=O[Gh]||[]).unshift(ir(p)),C)throw O;return function Gs(a,p,d,v){const C=a[Gh];throw p[uC]&&C.unshift(p[uC]),a.message=function dC(a,p,d,v=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let C=ir(p);if(Array.isArray(p))C=p.map(ir).join(" -> ");else if("object"==typeof p){let _=[];for(let O in p)if(p.hasOwnProperty(O)){let R=p[O];_.push(O+":"+("string"==typeof R?JSON.stringify(R):ir(R)))}C=`{${_.join(", ")}}`}return`${d}${v?"("+v+")":""}[${C}]: ${a.replace(AS,"\n  ")}`}("\n"+a.message,C,d,v),a.ngTokenPath=C,a[Gh]=null,a}(O,p,"R3InjectorError",this.source)}throw O}finally{Oi(_),cC(C)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(p=>this.get(p))}toString(){const p=[];return this.records.forEach((v,C)=>p.push(ir(C))),`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Kt(205,!1)}processInjectorType(p,d,v){if(!(p=Dt(p)))return!1;let C=ql(p);const _=null==C&&p.ngModule||void 0,O=void 0===_?p:_,R=-1!==v.indexOf(O);if(void 0!==_&&(C=ql(_)),null==C)return!1;if(null!=C.imports&&!R){let V;v.push(O);try{Ns(C.imports,X=>{this.processInjectorType(X,d,v)&&(void 0===V&&(V=[]),V.push(X))})}finally{}if(void 0!==V)for(let X=0;X<V.length;X++){const{ngModule:ee,providers:oe}=V[X];Ns(oe,ve=>this.processProvider(ve,ee,oe||or))}}this.injectorDefTypes.add(O);const M=As(O)||(()=>new O);this.records.set(O,El(M,Du));const L=C.providers;if(null!=L&&!R){const V=p;Ns(L,X=>this.processProvider(X,V,L))}return void 0!==_&&void 0!==p.providers}processProvider(p,d,v){let C=Na(p=Dt(p))?p:Dt(p&&p.provide);const _=function lb(a,p,d){return bw(a)?El(void 0,a.useValue):El(ub(a),Du)}(p);if(Na(p)||!0!==p.multi)this.records.get(C);else{let O=this.records.get(C);O||(O=El(void 0,Du,!0),O.factory=()=>kh(O.multi),this.records.set(C,O)),C=p,O.multi.push(p)}this.records.set(C,_)}hydrate(p,d){return d.value===Du&&(d.value=Hv,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Ow(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(p){if(!p.providedIn)return!1;const d=Dt(p.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function _f(a){const p=vh(a),d=null!==p?p.factory:As(a);if(null!==d)return d;if(a instanceof yt)throw new Kt(204,!1);if(a instanceof Function)return function Wv(a){const p=a.length;if(p>0)throw function Vp(a,p){const d=[];for(let v=0;v<a;v++)d.push(p);return d}(p,"?"),new Kt(204,!1);const d=function xm(a){const p=a&&(a[Xu]||a[yh]);if(p){const d=function nS(a){if(a.hasOwnProperty("name"))return a.name;const p=(""+a).match(/^function\s*([^\s(]+)/);return null===p?"":p[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),p}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new Kt(204,!1)}function ub(a,p,d){let v;if(Na(a)){const C=Dt(a);return As(C)||_f(C)}if(bw(a))v=()=>Dt(a.useValue);else if(function Ew(a){return!(!a||!a.useFactory)}(a))v=()=>a.useFactory(...kh(a.deps||[]));else if(function NO(a){return!(!a||!a.useExisting)}(a))v=()=>st(Dt(a.useExisting));else{const C=Dt(a&&(a.useClass||a.provide));if(!function Ol(a){return!!a.deps}(a))return As(C)||_f(C);v=()=>new C(...kh(a.deps))}return v}function El(a,p,d=!1){return{factory:a,value:p,multi:d?[]:void 0}}function bw(a){return null!==a&&"object"==typeof a&&TS in a}function Na(a){return"function"==typeof a}let Yn=(()=>{class a{static create(d,v){var C;if(Array.isArray(d))return Ic({name:""},v,d,"");{const _=null!==(C=d.name)&&void 0!==C?C:"";return Ic({name:_},d.parent,d.providers,_)}}}return a.THROW_IF_NOT_FOUND=fu,a.NULL=new Ou,a.\u0275prov=Rt({token:a,providedIn:"any",factory:()=>st(Vv)}),a.__NG_ELEMENT_ID__=-1,a})();function hb(a,p){Wr(Jp(a)[1],gn())}function cr(a){let p=function Xv(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const v=[a];for(;p;){let C;if(Fn(a))C=p.\u0275cmp||p.\u0275dir;else{if(p.\u0275cmp)throw new Kt(903,"");C=p.\u0275dir}if(C){if(d){v.push(C);const O=a;O.inputs=Rd(a.inputs),O.declaredInputs=Rd(a.declaredInputs),O.outputs=Rd(a.outputs);const R=C.hostBindings;R&&Qv(a,R);const M=C.viewQuery,L=C.contentQueries;if(M&&fb(a,M),L&&Zv(a,L),ua(a.inputs,C.inputs),ua(a.declaredInputs,C.declaredInputs),ua(a.outputs,C.outputs),Fn(C)&&C.data.animation){const V=a.data;V.animation=(V.animation||[]).concat(C.data.animation)}}const _=C.features;if(_)for(let O=0;O<_.length;O++){const R=_[O];R&&R.ngInherit&&R(a),R===cr&&(d=!1)}}p=Object.getPrototypeOf(p)}!function Fw(a){let p=0,d=null;for(let v=a.length-1;v>=0;v--){const C=a[v];C.hostVars=p+=C.hostVars,C.hostAttrs=pl(C.hostAttrs,d=pl(d,C.hostAttrs))}}(v)}function Rd(a){return a===Zu?{}:a===or?[]:a}function fb(a,p){const d=a.viewQuery;a.viewQuery=d?(v,C)=>{p(v,C),d(v,C)}:p}function Zv(a,p){const d=a.contentQueries;a.contentQueries=d?(v,C,_)=>{p(v,C,_),d(v,C,_)}:p}function Qv(a,p){const d=a.hostBindings;a.hostBindings=d?(v,C)=>{p(v,C),d(v,C)}:p}let Pd=null;function ss(){if(!Pd){const a=dr.Symbol;if(a&&a.iterator)Pd=a.iterator;else{const p=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<p.length;++d){const v=p[d];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(Pd=v)}}}return Pd}function Xr(a){return!!function bf(a){return null!==a&&("function"==typeof a||"object"==typeof a)}(a)&&(Array.isArray(a)||!(a instanceof Map)&&ss()in a)}function fr(a,p,d){return!Object.is(a[p],d)&&(a[p]=d,!0)}function qn(a,p,d,v){const C=ke();return fr(C,Ca(),p)&&(Nt(),qs(Pr(),C,a,p,d,v)),qn}function Zs(a,p,d,v,C,_){const R=function Tu(a,p,d,v){const C=fr(a,p,d);return fr(a,p+1,v)||C}(a,function ma(){return ot.lFrame.bindingIndex}(),d,C);return Qo(2),R?p+Ot(d)+v+Ot(C)+_:St}function Go(a,p,d,v,C,_,O,R){const M=ke(),L=Nt(),V=a+20,X=L.firstCreatePass?function vb(a,p,d,v,C,_,O,R,M){const L=p.consts,V=Io(p,a,4,O||null,ol(L,R));md(p,d,V,ol(L,M)),Wr(p,V);const X=V.tViews=hf(2,V,v,C,_,p.directiveRegistry,p.pipeRegistry,null,p.schemas,L);return null!==p.queries&&(p.queries.template(p,V),X.queries=p.queries.embeddedTView(V)),V}(V,L,M,p,d,v,C,_,O):L.data[V];Ts(X,!1);const ee=M[11].createComment("");is(L,M,ee,X),Ln(ee,M),yf(M,M[V]=fw(ee,M,ee,X)),nl(X)&&df(L,M,X),null!=O&&Tv(M,X,R)}function Al(a){return function ga(a,p){return a[p]}(function Pg(){return ot.lFrame.contextLView}(),20+a)}function Ve(a,p=lt.Default){const d=ke();return null===d?st(a,p):Ng(gn(),d,Dt(a),p)}function Kc(){throw new Error("invalid")}function Bn(a,p,d){const v=ke();return fr(v,Ca(),p)&&function co(a,p,d,v,C,_,O,R){const M=Ti(p,d);let V,L=p.inputs;!R&&null!=L&&(V=L[v])?(Fc(a,d,V,v,C),rl(p)&&function Iv(a,p){const d=nn(p,a);16&d[2]||(d[2]|=64)}(d,p.index)):3&p.type&&(v=function Gi(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(v),C=null!=O?O(C,p.value||"",v):C,Vr(_)?_.setProperty(M,v,C):Fh(v)||(M.setProperty?M.setProperty(v,C):M[v]=C))}(Nt(),Pr(),v,a,p,v[11],d,!1),Bn}function Fd(a,p,d,v,C){const O=C?"class":"style";Fc(a,d,p.inputs[O],O,v)}function nt(a,p,d,v){const C=ke(),_=Nt(),O=20+a,R=C[11],M=C[O]=tf(R,p,function Hr(){return ot.lFrame.currentNamespace}()),L=_.firstCreatePass?function Id(a,p,d,v,C,_,O){const R=p.consts,L=Io(p,a,2,C,ol(R,_));return md(p,d,L,ol(R,O)),null!==L.attrs&&Cf(L,L.attrs,!1),null!==L.mergedAttrs&&Cf(L,L.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,L),L}(O,_,C,0,p,d,v):_.data[O];Ts(L,!0);const V=L.mergedAttrs;null!==V&&au(R,M,V);const X=L.classes;null!==X&&ad(R,M,X);const ee=L.styles;return null!==ee&&xo(R,M,ee),64!=(64&L.flags)&&is(_,C,M,L),0===function Ag(){return ot.lFrame.elementDepthCount}()&&Ln(M,C),function Oo(){ot.lFrame.elementDepthCount++}(),nl(L)&&(df(_,C,L),function ow(a,p,d){if(Mn(p)){const C=p.directiveEnd;for(let _=p.directiveStart;_<C;_++){const O=a.data[_];O.contentQueries&&O.contentQueries(1,d[_],_)}}}(_,L,C)),null!==v&&Tv(C,L),nt}function ft(){let a=gn();ya()?function iu(){ot.lFrame.isParent=!1}():(a=a.parent,Ts(a,!1));const p=a;!function Ji(){ot.lFrame.elementDepthCount--}();const d=Nt();return d.firstCreatePass&&(Wr(d,a),Mn(a)&&d.queries.elementEnd(a)),null!=p.classesWithoutHost&&function _a(a){return 0!=(16&a.flags)}(p)&&Fd(d,p,ke(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function Jm(a){return 0!=(32&a.flags)}(p)&&Fd(d,p,ke(),p.stylesWithoutHost,!1),ft}function jt(a,p,d,v){return nt(a,p,d,v),ft(),jt}function Fu(a){return!!a&&"function"==typeof a.then}const cy=function vi(a){return!!a&&"function"==typeof a.subscribe};function Xn(a,p,d,v){const C=ke(),_=Nt(),O=gn();return function py(a,p,d,v,C,_,O,R){const M=nl(v),V=a.firstCreatePass&&ww(a),X=p[8],ee=Cw(p);let oe=!0;if(3&v.type||R){const Ue=Ti(v,p),We=R?R(Ue):Ue,Pe=ee.length,ct=R?It=>R(Cr(It[v.index])):v.index;if(Vr(d)){let It=null;if(!R&&M&&(It=function Bo(a,p,d,v){const C=a.cleanup;if(null!=C)for(let _=0;_<C.length-1;_+=2){const O=C[_];if(O===d&&C[_+1]===v){const R=p[7],M=C[_+2];return R.length>M?R[M]:null}"string"==typeof O&&(_+=2)}return null}(a,p,C,v.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=_,It.__ngLastListenerFn__=_,oe=!1;else{_=ka(v,p,X,_,!1);const pr=d.listen(We,C,_);ee.push(_,pr),V&&V.push(C,ct,Pe,Pe+1)}}else _=ka(v,p,X,_,!0),We.addEventListener(C,_,O),ee.push(_),V&&V.push(C,ct,Pe,O)}else _=ka(v,p,X,_,!1);const ve=v.outputs;let Me;if(oe&&null!==ve&&(Me=ve[C])){const Ue=Me.length;if(Ue)for(let We=0;We<Ue;We+=2){const Ya=p[Me[We]][Me[We+1]].subscribe(_),am=ee.length;ee.push(_,Ya),V&&V.push(C,v.index,am,-(am+1))}}}(_,C,C[11],O,a,p,!!d,v),Xn}function Pf(a,p,d,v){try{return!1!==d(v)}catch(C){return _w(a,C),!1}}function ka(a,p,d,v,C){return function _(O){if(O===Function)return v;const R=2&a.flags?nn(a.index,p):p;0==(32&p[2])&&Sd(R);let M=Pf(p,0,v,O),L=_.__ngNextListenerFn__;for(;L;)M=Pf(p,0,L,O)&&M,L=L.__ngNextListenerFn__;return C&&!1===M&&(O.preventDefault(),O.returnValue=!1),M}}function dy(a=1){return function Th(a){return(ot.lFrame.contextLView=function Ms(a,p){for(;a>0;)p=p[15],a--;return p}(a,ot.lFrame.contextLView))[8]}(a)}function f(a,p,d,v,C){const _=a[d+1],O=null===p;let R=v?Mo(_):Aa(_),M=!1;for(;0!==R&&(!1===M||O);){const V=a[R+1];i(a[R],p)&&(M=!0,a[R+1]=v?zs(V):Tc(V)),R=v?Mo(V):Aa(V)}M&&(a[d+1]=v?Tc(_):zs(_))}function i(a,p){return null===a||null==p||(Array.isArray(a)?a[1]:a)===p||!(!Array.isArray(a)||"string"!=typeof p)&&yc(a,p)>=0}function Oe(a,p){return function ut(a,p,d,v){const C=ke(),_=Nt(),O=Qo(2);_.firstUpdatePass&&function Tt(a,p,d,v){const C=a.data;if(null===C[d+1]){const _=C[In()],O=function Mt(a,p){return p>=a.expandoStartIndex}(a,d);(function jO(a,p){return 0!=(a.flags&(p?16:32))})(_,v)&&null===p&&!O&&(p=!1),p=function zr(a,p,d,v){const C=function Ap(a){const p=ot.lFrame.currentDirectiveIndex;return-1===p?null:a[p]}(a);let _=v?p.residualClasses:p.residualStyles;if(null===C)0===(v?p.classBindings:p.styleBindings)&&(d=ta(d=yi(null,a,p,d,v),p.attrs,v),_=null);else{const O=p.directiveStylingLast;if(-1===O||a[O]!==C)if(d=yi(C,a,p,d,v),null===_){let M=function ar(a,p,d){const v=d?p.classBindings:p.styleBindings;if(0!==Aa(v))return a[Mo(v)]}(a,p,v);void 0!==M&&Array.isArray(M)&&(M=yi(null,a,p,M[1],v),M=ta(M,p.attrs,v),function cs(a,p,d,v){a[Mo(d?p.classBindings:p.styleBindings)]=v}(a,p,v,M))}else _=function ps(a,p,d){let v;const C=p.directiveEnd;for(let _=1+p.directiveStylingLast;_<C;_++)v=ta(v,a[_].hostAttrs,d);return ta(v,p.attrs,d)}(a,p,v)}return void 0!==_&&(v?p.residualClasses=_:p.residualStyles=_),d}(C,_,p,v),function Ab(a,p,d,v,C,_){let O=_?p.classBindings:p.styleBindings,R=Mo(O),M=Aa(O);a[v]=d;let V,L=!1;if(Array.isArray(d)){const X=d;V=X[1],(null===V||yc(X,V)>0)&&(L=!0)}else V=d;if(C)if(0!==M){const ee=Mo(a[R+1]);a[v+1]=Ra(ee,R),0!==ee&&(a[ee+1]=ao(a[ee+1],v)),a[R+1]=function af(a,p){return 131071&a|p<<17}(a[R+1],v)}else a[v+1]=Ra(R,0),0!==R&&(a[R+1]=ao(a[R+1],v)),R=v;else a[v+1]=Ra(M,0),0===R?R=v:a[M+1]=ao(a[M+1],v),M=v;L&&(a[v+1]=Tc(a[v+1])),f(a,V,v,!0),f(a,V,v,!1),function Pb(a,p,d,v,C){const _=C?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof p&&yc(_,p)>=0&&(d[v+1]=zs(d[v+1]))}(p,V,a,v,_),O=Ra(R,M),_?p.classBindings=O:p.styleBindings=O}(C,_,p,d,O,v)}}(_,a,O,v),p!==St&&fr(C,O,p)&&function HO(a,p,d,v,C,_,O,R){if(!(3&p.type))return;const M=a.data,L=M[R+1];xb(function Ev(a){return 1==(1&a)}(L)?WO(M,p,d,C,Aa(L),O):void 0)||(xb(_)||function un(a){return 2==(2&a)}(L)&&(_=WO(M,null,d,C,R,O)),function JS(a,p,d,v,C){const _=Vr(a);if(p)C?_?a.addClass(d,v):d.classList.add(v):_?a.removeClass(d,v):d.classList.remove(v);else{let O=-1===v.indexOf("-")?void 0:io.DashCase;if(null==C)_?a.removeStyle(d,v,O):d.style.removeProperty(v);else{const R="string"==typeof C&&C.endsWith("!important");R&&(C=C.slice(0,-10),O|=io.Important),_?a.setStyle(d,v,C,O):d.style.setProperty(v,C,R?"important":"")}}}(v,O,er(In(),d),C,_))}(_,_.data[In()],C,C[11],a,C[O+1]=function SR(a,p){return null==a||("string"==typeof p?a+=p:"object"==typeof a&&(a=ir(li(a)))),a}(p,d),v,O)}(a,p,null,!0),Oe}function yi(a,p,d,v,C){let _=null;const O=d.directiveEnd;let R=d.directiveStylingLast;for(-1===R?R=d.directiveStart:R++;R<O&&(_=p[R],v=ta(v,_.hostAttrs,C),_!==a);)R++;return null!==a&&(d.directiveStylingLast=R),v}function ta(a,p,d){const v=d?1:2;let C=-1;if(null!==p)for(let _=0;_<p.length;_++){const O=p[_];"number"==typeof O?C=O:C===v&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ro(a,O,!!d||p[++_]))}return void 0===a?null:a}function WO(a,p,d,v,C,_){const O=null===p;let R;for(;C>0;){const M=a[C],L=Array.isArray(M),V=L?M[1]:M,X=null===V;let ee=d[C+1];ee===St&&(ee=X?or:void 0);let oe=X?Ug(ee,v):V===v?ee:void 0;if(L&&!xb(oe)&&(oe=Ug(M,v)),xb(oe)&&(R=oe,O))return R;const ve=a[C+1];C=O?Mo(ve):Aa(ve)}if(null!==p){let M=_?p.residualClasses:p.residualStyles;null!=M&&(R=Ug(M,v))}return R}function xb(a){return void 0!==a}function Vt(a,p=""){const d=ke(),v=Nt(),C=a+20,_=v.firstCreatePass?Io(v,C,1,p,null):v.data[C],O=d[C]=function Da(a,p){return Vr(a)?a.createText(p):a.createTextNode(p)}(d[11],p);is(v,d,O,_),Ts(_,!1)}function Yw(a,p,d){const v=ke(),C=function jc(a,p,d,v){return fr(a,Ca(),d)?p+Ot(d)+v:St}(v,a,p,d);return C!==St&&Xs(v,In(),C),Yw}function Mb(a,p,d,v,C){const _=ke(),O=Zs(_,a,p,d,v,C);return O!==St&&Xs(_,In(),O),Mb}const wy="en-US";let Xc=wy;function Jc(a,p,d,v,C){if(a=Dt(a),Array.isArray(a))for(let _=0;_<a.length;_++)Jc(a[_],p,d,v,C);else{const _=Nt(),O=ke();let R=Na(a)?a:Dt(a.provide),M=ub(a);const L=gn(),V=1048575&L.providerIndexes,X=L.directiveStart,ee=L.providerIndexes>>20;if(Na(a)||!a.multi){const oe=new ts(M,C,Ve),ve=ep(R,p,C?V:V+ee,X);-1===ve?(Ih(lu(L,O),_,R),Ub(_,a,p.length),p.push(R),L.directiveStart++,L.directiveEnd++,C&&(L.providerIndexes+=1048576),d.push(oe),O.push(oe)):(d[ve]=oe,O[ve]=oe)}else{const oe=ep(R,p,V+ee,X),ve=ep(R,p,V,V+ee),Me=oe>=0&&d[oe],Ue=ve>=0&&d[ve];if(C&&!Ue||!C&&!Me){Ih(lu(L,O),_,R);const We=function Wd(a,p,d,v,C){const _=new ts(a,d,Ve);return _.multi=[],_.index=p,_.componentProviders=0,P0(_,C,v&&!d),_}(C?aA:Hd,d.length,C,v,M);!C&&Ue&&(d[ve].providerFactory=We),Ub(_,a,p.length,0),p.push(R),L.directiveStart++,L.directiveEnd++,C&&(L.providerIndexes+=1048576),d.push(We),O.push(We)}else Ub(_,a,oe>-1?oe:ve,P0(d[C?ve:oe],M,!C&&v));!C&&v&&Ue&&d[ve].componentProviders++}}}function Ub(a,p,d,v){const C=Na(p),_=function Lc(a){return!!a.useClass}(p);if(C||_){const M=(_?Dt(p.useClass):p).prototype.ngOnDestroy;if(M){const L=a.destroyHooks||(a.destroyHooks=[]);if(!C&&p.multi){const V=L.indexOf(d);-1===V?L.push(d,[v,M]):L[V+1].push(v,M)}else L.push(d,M)}}}function P0(a,p,d){return d&&a.componentProviders++,a.multi.push(p)-1}function ep(a,p,d,v){for(let C=d;C<v;C++)if(p[C]===a)return C;return-1}function Hd(a,p,d,v){return kf(this.multi,[])}function aA(a,p,d,v){const C=this.multi;let _;if(this.providerFactory){const O=this.providerFactory.componentProviders,R=cu(d,d[1],this.providerFactory.index,v);_=R.slice(0,O),kf(C,_);for(let M=O;M<R.length;M++)_.push(R[M])}else _=[],kf(C,_);return _}function kf(a,p){for(let d=0;d<a.length;d++)p.push((0,a[d])());return p}function Nr(a,p=[]){return d=>{d.providersResolver=(v,C)=>function sA(a,p,d){const v=Nt();if(v.firstCreatePass){const C=Fn(a);Jc(d,v.data,v.blueprint,C,!0),Jc(p,v.data,v.blueprint,C,!1)}}(v,C?C(a):a,p)}}class T0{}class uA{resolveComponentFactory(p){throw function lA(a){const p=Error(`No component factory found for ${ir(a)}. Did you add it to @NgModule.entryComponents?`);return p.ngComponent=a,p}(p)}}let tp=(()=>{class a{}return a.NULL=new uA,a})();function cA(){return Vf(gn(),ke())}function Vf(a,p){return new mi(Ti(a,p))}let mi=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=cA,a})();function pA(a){return a instanceof mi?a.nativeElement:a}class rp{}let ku=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function hA(){const a=ke(),d=nn(gn().index,a);return function dA(a){return a[11]}(si(d)?d:a)}(),a})(),Ud=(()=>{class a{}return a.\u0275prov=Rt({token:a,providedIn:"root",factory:()=>null}),a})();class Ty{constructor(p){this.full=p,this.major=p.split(".")[0],this.minor=p.split(".")[1],this.patch=p.split(".").slice(2).join(".")}}const fA=new Ty("13.3.8"),np={};function n_(a,p,d,v,C=!1){for(;null!==d;){const _=p[d.index];if(null!==_&&v.push(Cr(_)),So(_))for(let R=10;R<_.length;R++){const M=_[R],L=M[1].firstChild;null!==L&&n_(M[1],M,L,v)}const O=d.type;if(8&O)n_(a,p,d.child,v);else if(32&O){const R=Qh(d,p);let M;for(;M=R();)v.push(M)}else if(16&O){const R=GC(p,d);if(Array.isArray(R))v.push(...R);else{const M=Su(p[16]);n_(M[1],M,R,v,!0)}}d=C?d.projectionNext:d.next}return v}class xy{constructor(p,d){this._lView=p,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const p=this._lView,d=p[1];return n_(d,p,d.firstChild,[])}get context(){return this._lView[8]}set context(p){this._lView[8]=p}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[3];if(So(p)){const d=p[8],v=d?d.indexOf(this):-1;v>-1&&(id(p,v),vc(d,v))}this._attachedToViewContainer=!1}Dc(this._lView[1],this._lView)}onDestroy(p){sw(this._lView[1],this._lView,null,p)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Fa(a,p,d){const v=p[10];v.begin&&v.begin();try{uo(a,p,a.template,d)}catch(C){throw _w(p,C),C}finally{v.end&&v.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Kt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dv(a,p){js(a,p,p[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new Kt(902,"");this._appRef=p}}class zb extends xy{constructor(p){super(p),this._view=p}detectChanges(){Ia(this._view)}checkNoChanges(){}get context(){return null}}class Vu extends tp{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const d=qr(p);return new $b(d,this.ngModule)}}function x0(a){const p=[];for(let d in a)a.hasOwnProperty(d)&&p.push({propName:a[d],templateName:d});return p}class $b extends T0{constructor(p,d){super(),this.componentDef=p,this.ngModule=d,this.componentType=p.type,this.selector=function UC(a){return a.map(bv).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return x0(this.componentDef.inputs)}get outputs(){return x0(this.componentDef.outputs)}create(p,d,v,C){const _=(C=C||this.ngModule)?function Bi(a,p){return{get:(d,v,C)=>{const _=a.get(d,np,C);return _!==np||v===np?_:p.get(d,v,C)}}}(p,C.injector):p,O=_.get(rp,Km),R=_.get(Ud,null),M=O.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",V=v?function gf(a,p,d){if(Vr(a))return a.selectRootElement(p,d===Ki.ShadowDom);let v="string"==typeof p?a.querySelector(p):p;return v.textContent="",v}(M,v,this.componentDef.encapsulation):tf(O.createRenderer(null,this.componentDef),L,function gA(a){const p=a.toLowerCase();return"svg"===p?"svg":"math"===p?"math":null}(L)),X=this.componentDef.onPush?576:528,ee=function xw(a,p){return{components:[],scheduler:a||ml,clean:sb,playerHandler:p||null,flags:0}}(),oe=hf(0,null,null,1,0,null,null,null,null,null),ve=Eu(null,oe,ee,X,null,null,O,M,R,_);let Me,Ue;oc(ve);try{const We=function Tw(a,p,d,v,C,_){const O=d[1];d[20]=a;const M=Io(O,20,2,"#host",null),L=M.mergedAttrs=p.hostAttrs;null!==L&&(Cf(M,L,!0),null!==a&&(au(C,a,L),null!==M.classes&&ad(C,a,M.classes),null!==M.styles&&xo(C,a,M.styles)));const V=v.createRenderer(a,p),X=Eu(d,xv(p),null,p.onPush?64:16,d[20],M,v,V,_||null,null);return O.firstCreatePass&&(Ih(lu(M,d),O,p.type),wd(O,M),cw(M,d.length,1)),yf(d,X),d[20]=X}(V,this.componentDef,ve,O,M);if(V)if(v)au(M,V,["ng-version",fA.full]);else{const{attrs:Pe,classes:ct}=function zC(a){const p=[],d=[];let v=1,C=2;for(;v<a.length;){let _=a[v];if("string"==typeof _)2===C?""!==_&&p.push(_,a[++v]):8===C&&d.push(_);else{if(!$n(C))break;C=_}v++}return{attrs:p,classes:d}}(this.componentDef.selectors[0]);Pe&&au(M,V,Pe),ct&&ct.length>0&&ad(M,V,ct.join(" "))}if(Ue=Rg(oe,20),void 0!==d){const Pe=Ue.projection=[];for(let ct=0;ct<this.ngContentSelectors.length;ct++){const It=d[ct];Pe.push(null!=It?Array.from(It):null)}}Me=function Bc(a,p,d,v,C){const _=d[1],O=function rb(a,p,d){const v=gn();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),pw(a,v,p,Kn(a,p,1,null),d));const C=cu(p,a,v.directiveStart,v);Ln(C,p);const _=Ti(v,p);return _&&Ln(_,p),C}(_,d,p);if(v.components.push(O),a[8]=O,C&&C.forEach(M=>M(O,p)),p.contentQueries){const M=gn();p.contentQueries(1,O,M.directiveStart)}const R=gn();return!_.firstCreatePass||null===p.hostBindings&&null===p.hostAttrs||(ll(R.index),Ys(d[1],R,0,R.directiveStart,R.directiveEnd,p),Cd(p,O)),O}(We,this.componentDef,ve,ee,[hb]),gd(oe,ve,null)}finally{sc()}return new Kb(this.componentType,Me,Vf(Ue,ve),ve,Ue)}}class Kb extends class jd{}{constructor(p,d,v,C,_){super(),this.location=v,this._rootLView=C,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new zb(C),this.componentType=p}get injector(){return new dc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}class Bu{}class ds{}const Il=new Map;class I0 extends Bu{constructor(p,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Vu(this);const v=_o(p);this._bootstrapComponents=wr(v.bootstrap),this._r3Injector=Nc(p,d,[{provide:Bu,useValue:this},{provide:tp,useValue:this.componentFactoryResolver}],ir(p)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(p)}get(p,d=Yn.THROW_IF_NOT_FOUND,v=lt.Default){return p===Yn||p===Bu||p===Vv?this:this._r3Injector.get(p,d,v)}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class qb extends ds{constructor(p){super(),this.moduleType=p,null!==_o(p)&&function CA(a){const p=new Set;!function d(v){const C=_o(v,!0),_=C.id;null!==_&&(function F0(a,p,d){if(p&&p!==d)throw new Error(`Duplicate module registered for ${a} - ${ir(p)} vs ${ir(p.name)}`)}(_,Il.get(_),v),Il.set(_,v));const O=wr(C.imports);for(const R of O)p.has(R)||(p.add(R),d(R))}(a)}(p)}create(p){return new I0(this.moduleType,p)}}function Nl(a,p,d){const v=function Mr(){const a=ot.lFrame;let p=a.bindingRootIndex;return-1===p&&(p=a.bindingRootIndex=a.tView.bindingStartIndex),p}()+a,C=ke();return C[v]===St?function as(a,p,d){return a[p]=d}(C,v,d?p.call(d):p()):function Td(a,p){return a[p]}(C,v)}function i_(a){return p=>{setTimeout(a,void 0,p)}}const me=class FA extends aa{constructor(p=!1){super(),this.__isAsync=p}emit(p){super.next(p)}subscribe(p,d,v){var C,_,O;let R=p,M=d||(()=>null),L=v;if(p&&"object"==typeof p){const X=p;R=null===(C=X.next)||void 0===C?void 0:C.bind(X),M=null===(_=X.error)||void 0===_?void 0:_.bind(X),L=null===(O=X.complete)||void 0===O?void 0:O.bind(X)}this.__isAsync&&(M=i_(M),R&&(R=i_(R)),L&&(L=i_(L)));const V=super.subscribe({next:R,error:M,complete:L});return p instanceof xr&&p.add(V),V}};function IA(){return this._results[ss()]()}class Iy{constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=ss(),v=Iy.prototype;v[d]||(v[d]=IA)}get changes(){return this._changes||(this._changes=new me)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,d){return this._results.reduce(p,d)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,d){const v=this;v.dirty=!1;const C=to(p);(this._changesDetected=!function kp(a,p,d){if(a.length!==p.length)return!1;for(let v=0;v<a.length;v++){let C=a[v],_=p[v];if(d&&(C=d(C),_=d(_)),_!==C)return!1}return!0}(v._results,C,d))&&(v._results=C,v.length=C.length,v.last=C[this.length-1],v.first=C[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Hu=(()=>{class a{}return a.__NG_ELEMENT_ID__=W0,a})();const NA=Hu,LA=class extends NA{constructor(p,d,v){super(),this._declarationLView=p,this._declarationTContainer=d,this.elementRef=v}createEmbeddedView(p){const d=this._declarationTContainer.tViews,v=Eu(this._declarationLView,d,p,16,null,d.declTNode,null,null,null,null);v[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(v[19]=_.createEmbeddedView(d)),gd(d,v,p),new xy(v)}};function W0(){return o_(gn(),ke())}function o_(a,p){return 4&a.type?new LA(p,a,Vf(a,p)):null}let Ho=(()=>{class a{}return a.__NG_ELEMENT_ID__=GA,a})();function GA(){return Qb(gn(),ke())}const kA=Ho,ip=class extends kA{constructor(p,d,v){super(),this._lContainer=p,this._hostTNode=d,this._hostLView=v}get element(){return Vf(this._hostTNode,this._hostLView)}get injector(){return new dc(this._hostTNode,this._hostLView)}get parentInjector(){const p=cc(this._hostTNode,this._hostLView);if(Mp(p)){const d=ba(p,this._hostLView),v=dl(p);return new dc(d[1].data[v+8],d)}return new dc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const d=j0(this._lContainer);return null!==d&&d[p]||null}get length(){return this._lContainer.length-10}createEmbeddedView(p,d,v){const C=p.createEmbeddedView(d||{});return this.insert(C,v),C}createComponent(p,d,v,C,_){const O=p&&!function Gp(a){return"function"==typeof a}(p);let R;if(O)R=d;else{const X=d||{};R=X.index,v=X.injector,C=X.projectableNodes,_=X.ngModuleRef}const M=O?p:new $b(qr(p)),L=v||this.parentInjector;if(!_&&null==M.ngModule){const ee=(O?L:this.parentInjector).get(Bu,null);ee&&(_=ee)}const V=M.create(L,C,void 0,_);return this.insert(V.hostView,R),V}insert(p,d){const v=p._lView,C=v[1];if(function Br(a){return So(a[3])}(v)){const V=this.indexOf(p);if(-1!==V)this.detach(V);else{const X=v[3],ee=new ip(X,X[6],X[3]);ee.detach(ee.indexOf(p))}}const _=this._adjustIndex(d),O=this._lContainer;!function nf(a,p,d,v){const C=10+v,_=d.length;v>0&&(d[C-1][4]=p),v<_-10?(p[4]=d[C],gc(d,10+v,p)):(d.push(p),p[4]=null),p[3]=d;const O=p[17];null!==O&&d!==O&&function fv(a,p){const d=a[9];p[16]!==p[3][3][16]&&(a[2]=!0),null===d?a[9]=[p]:d.push(p)}(O,p);const R=p[19];null!==R&&R.insertView(a),p[2]|=128}(C,v,O,_);const R=sd(_,O),M=v[11],L=Ws(M,O[7]);return null!==L&&function rf(a,p,d,v,C,_){v[0]=C,v[6]=p,js(a,v,d,1,C,_)}(C,O[6],M,v,L,R),p.attachToViewContainerRef(),gc(Zb(O),_,p),p}move(p,d){return this.insert(p,d)}indexOf(p){const d=j0(this._lContainer);return null!==d?d.indexOf(p):-1}remove(p){const d=this._adjustIndex(p,-1),v=id(this._lContainer,d);v&&(vc(Zb(this._lContainer),d),Dc(v[1],v))}detach(p){const d=this._adjustIndex(p,-1),v=id(this._lContainer,d);return v&&null!=vc(Zb(this._lContainer),d)?new xy(v):null}_adjustIndex(p,d=0){return null==p?this.length+d:p}};function j0(a){return a[8]}function Zb(a){return a[8]||(a[8]=[])}function Qb(a,p){let d;const v=p[a.index];if(So(v))d=v;else{let C;if(8&a.type)C=Cr(v);else{const _=p[11];C=_.createComment("");const O=Ti(a,p);ns(_,Ws(_,O),C,function QS(a,p){return Vr(a)?a.nextSibling(p):p.nextSibling}(_,O),!1)}p[a.index]=d=fw(v,p,C,a),yf(p,d)}return new ip(d,a,p)}class Jb{constructor(p){this.queryList=p,this.matches=null}clone(){return new Jb(this.queryList)}setDirty(){this.queryList.setDirty()}}class s_{constructor(p=[]){this.queries=p}createEmbeddedView(p){const d=p.queries;if(null!==d){const v=null!==p.contentQueries?p.contentQueries[0]:d.length,C=[];for(let _=0;_<v;_++){const O=d.getByIndex(_);C.push(this.queries[O.indexInDeclarationView].clone())}return new s_(C)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let d=0;d<this.queries.length;d++)null!==Wf(p,d).matches&&this.queries[d].setDirty()}}class U0{constructor(p,d,v=null){this.predicate=p,this.flags=d,this.read=v}}class Bf{constructor(p=[]){this.queries=p}elementStart(p,d){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(p,d)}elementEnd(p){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(p)}embeddedTView(p){let d=null;for(let v=0;v<this.length;v++){const C=null!==d?d.length:0,_=this.getByIndex(v).embeddedTView(p,C);_&&(_.indexInDeclarationView=v,null!==d?d.push(_):d=[_])}return null!==d?new Bf(d):null}template(p,d){for(let v=0;v<this.queries.length;v++)this.queries[v].template(p,d)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class a_{constructor(p,d=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(p,d){this.isApplyingToNode(d)&&this.matchTNode(p,d)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,d){this.elementStart(p,d)}embeddedTView(p,d){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,d),new a_(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let v=p.parent;for(;null!==v&&8&v.type&&v.index!==d;)v=v.parent;return d===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(p,d){const v=this.metadata.predicate;if(Array.isArray(v))for(let C=0;C<v.length;C++){const _=v[C];this.matchTNodeWithReadOption(p,d,WA(d,_)),this.matchTNodeWithReadOption(p,d,uu(d,p,_,!1,!1))}else v===Hu?4&d.type&&this.matchTNodeWithReadOption(p,d,-1):this.matchTNodeWithReadOption(p,d,uu(d,p,v,!1,!1))}matchTNodeWithReadOption(p,d,v){if(null!==v){const C=this.metadata.read;if(null!==C)if(C===mi||C===Ho||C===Hu&&4&d.type)this.addMatch(d.index,-2);else{const _=uu(d,p,C,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,v)}}addMatch(p,d){null===this.matches?this.matches=[p,d]:this.matches.push(p,d)}}function WA(a,p){const d=a.localNames;if(null!==d)for(let v=0;v<d.length;v+=2)if(d[v]===p)return d[v+1];return null}function Ny(a,p,d,v){return-1===d?function jA(a,p){return 11&a.type?Vf(a,p):4&a.type?o_(a,p):null}(p,a):-2===d?function UA(a,p,d){return d===mi?Vf(p,a):d===Hu?o_(p,a):d===Ho?Qb(p,a):void 0}(a,p,v):cu(a,a[1],d,p)}function z0(a,p,d,v){const C=p[19].queries[v];if(null===C.matches){const _=a.data,O=d.matches,R=[];for(let M=0;M<O.length;M+=2){const L=O[M];R.push(L<0?null:Ny(p,_[L],O[M+1],d.metadata.read))}C.matches=R}return C.matches}function eE(a,p,d,v){const C=a.queries.getByIndex(d),_=C.matches;if(null!==_){const O=z0(a,p,C,d);for(let R=0;R<_.length;R+=2){const M=_[R];if(M>0)v.push(O[R/2]);else{const L=_[R+1],V=p[-M];for(let X=10;X<V.length;X++){const ee=V[X];ee[17]===ee[3]&&eE(ee[1],ee,L,v)}if(null!==V[9]){const X=V[9];for(let ee=0;ee<X.length;ee++){const oe=X[ee];eE(oe[1],oe,L,v)}}}}}return v}function Hf(a){const p=ke(),d=Nt(),v=Xm();ic(v+1);const C=Wf(d,v);if(a.dirty&&nu(p)===(2==(2&C.metadata.flags))){if(null===C.matches)a.reset([]);else{const _=C.crossesNgTemplate?eE(d,p,v,[]):z0(d,p,C,v);a.reset(_,pA),a.notifyOnChanges()}return!0}return!1}function Ly(a,p,d,v){const C=Nt();if(C.firstCreatePass){const _=gn();(function Y0(a,p,d){null===a.queries&&(a.queries=new Bf),a.queries.track(new a_(p,d))})(C,new U0(p,d,v),_.index),function wn(a,p){const d=a.contentQueries||(a.contentQueries=[]);p!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,p)}(C,a),2==(2&d)&&(C.staticContentQueries=!0)}!function K0(a,p,d){const v=new Iy(4==(4&d));sw(a,p,v,v.destroy),null===p[19]&&(p[19]=new s_),p[19].queries.push(new Jb(v))}(C,ke(),d)}function Gy(){return function zA(a,p){return a[19].queries[p].queryList}(ke(),Xm())}function Wf(a,p){return a.queries.getByIndex(p)}function jf(a,p){return o_(a,p)}const $=bt("Input",a=>({bindingPropertyName:a})),et=bt("Output",a=>({bindingPropertyName:a}));function vo(...a){}const Vy=new yt("Application Initializer");let uE=(()=>{class a{constructor(d){this.appInits=d,this.resolve=vo,this.reject=vo,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,C)=>{this.resolve=v,this.reject=C})}runInitializers(){if(this.initialized)return;const d=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let C=0;C<this.appInits.length;C++){const _=this.appInits[C]();if(Fu(_))d.push(_);else if(cy(_)){const O=new Promise((R,M)=>{_.subscribe({complete:R,error:M})});d.push(O)}}Promise.all(d).then(()=>{v()}).catch(C=>{this.reject(C)}),0===d.length&&v(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(st(Vy,8))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const By=new yt("AppId",{providedIn:"root",factory:function oD(){return`${p_()}${p_()}${p_()}`}});function p_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sD=new yt("Platform Initializer"),ap=new yt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aD=new yt("appBootstrapListener");let nP=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const lp=new yt("LocaleId",{providedIn:"root",factory:()=>gu(lp,lt.Optional|lt.SkipSelf)||function lD(){return"undefined"!=typeof $localize&&$localize.locale||wy}()});class oP{constructor(p,d){this.ngModuleFactory=p,this.componentFactories=d}}let cE=(()=>{class a{compileModuleSync(d){return new qb(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const v=this.compileModuleSync(d),_=wr(_o(d).declarations).reduce((O,R)=>{const M=qr(R);return M&&O.push(new $b(M)),O},[]);return new oP(v,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const pE=(()=>Promise.resolve(0))();function dE(a){"undefined"==typeof Zone?pE.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Dn{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new me(!1),this.onMicrotaskEmpty=new me(!1),this.onStable=new me(!1),this.onError=new me(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const C=this;C._nesting=0,C._outer=C._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!v&&d,C.shouldCoalesceRunChangeDetection=v,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function uD(){let a=dr.requestAnimationFrame,p=dr.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&p){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function cD(a){const p=()=>{!function lP(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(dr,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,jo(a),a.isCheckStableRunning=!0,hE(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),jo(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,v,C,_,O,R)=>{try{return pD(a),d.invokeTask(C,_,O,R)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&p(),h_(a)}},onInvoke:(d,v,C,_,O,R,M)=>{try{return pD(a),d.invoke(C,_,O,R,M)}finally{a.shouldCoalesceRunChangeDetection&&p(),h_(a)}},onHasTask:(d,v,C,_)=>{d.hasTask(C,_),v===C&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,jo(a),hE(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,v,C,_)=>(d.handleError(C,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(C)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Dn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Dn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(p,d,v){return this._inner.run(p,d,v)}runTask(p,d,v,C){const _=this._inner,O=_.scheduleEventTask("NgZoneEvent: "+C,p,aP,vo,vo);try{return _.runTask(O,d,v)}finally{_.cancelTask(O)}}runGuarded(p,d,v){return this._inner.runGuarded(p,d,v)}runOutsideAngular(p){return this._outer.run(p)}}const aP={};function hE(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function jo(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function pD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function h_(a){a._nesting--,hE(a)}class dD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new me,this.onMicrotaskEmpty=new me,this.onStable=new me,this.onError=new me}run(p,d,v){return p.apply(d,v)}runGuarded(p,d,v){return p.apply(d,v)}runOutsideAngular(p){return p()}runTask(p,d,v,C){return p.apply(d,v)}}let Wa=(()=>{class a{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Dn.assertNotInAngularZone(),dE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dE(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(d)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,v,C){let _=-1;v&&v>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==_),d(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:C})}whenStable(d,v,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,v,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,v,C){return[]}}return a.\u0275fac=function(d){return new(d||a)(st(Dn))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),uP=(()=>{class a{constructor(){this._applications=new Map,fE.addToWindow(this)}registerApplication(d,v){this._applications.set(d,v)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,v=!0){return fE.findTestabilityInTree(this,d,v)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class hD{addToWindow(p){}findTestabilityInTree(p,d,v){return null}}let fE=new hD,zd=null;const $d=new yt("AllowMultipleToken"),fD=new yt("PlatformOnDestroy");class f_{constructor(p,d){this.name=p,this.token=d}}function gD(a,p,d=[]){const v=`Platform: ${p}`,C=new yt(v);return(_=[])=>{let O=vE();if(!O||O.injector.get($d,!1)){const R=[...d,..._,{provide:C,useValue:!0}];a?a(R):function gE(a){if(zd&&!zd.get($d,!1))throw new Kt(400,"");zd=a;const p=a.get(vD),d=a.get(sD,null);d&&d.forEach(v=>v())}(function dP(a=[],p){return Yn.create({name:p,providers:[{provide:Bv,useValue:"platform"},{provide:fD,useValue:()=>zd=null},...a]})}(R,v))}return function g_(a){const p=vE();if(!p)throw new Kt(401,"");return p}()}}function vE(){var a;return null!==(a=null==zd?void 0:zd.get(vD))&&void 0!==a?a:null}let vD=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,v){const R=function hP(a,p){let d;return d="noop"===a?new dD:("zone.js"===a?void 0:a)||new Dn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==p?void 0:p.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==p?void 0:p.ngZoneRunCoalescing)}),d}(v?v.ngZone:void 0,{ngZoneEventCoalescing:v&&v.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:v&&v.ngZoneRunCoalescing||!1}),M=[{provide:Dn,useValue:R}];return R.run(()=>{const L=Yn.create({providers:M,parent:this.injector,name:d.moduleType.name}),V=d.create(L),X=V.injector.get(td,null);if(!X)throw new Kt(402,"");return R.runOutsideAngular(()=>{const ee=R.onError.subscribe({next:oe=>{X.handleError(oe)}});V.onDestroy(()=>{v_(this._modules,V),ee.unsubscribe()})}),function fP(a,p,d){try{const v=d();return Fu(v)?v.catch(C=>{throw p.runOutsideAngular(()=>a.handleError(C)),C}):v}catch(v){throw p.runOutsideAngular(()=>a.handleError(v)),v}}(X,R,()=>{const ee=V.injector.get(uE);return ee.runInitializers(),ee.donePromise.then(()=>(function c0(a){ri(a,"Expected localeId to be defined"),"string"==typeof a&&(Xc=a.toLowerCase().replace(/_/g,"-"))}(V.injector.get(lp,wy)||wy),this._moduleDoBootstrap(V),V))})})}bootstrapModule(d,v=[]){const C=yD({},v);return function pP(a,p,d){const v=new qb(d);return Promise.resolve(v)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,C))}_moduleDoBootstrap(d){const v=d.injector.get(Hy);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(C=>v.bootstrap(C));else{if(!d.instance.ngDoBootstrap)throw new Kt(403,"");d.instance.ngDoBootstrap(v)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Kt(404,"");this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const d=this._injector.get(fD,null);null==d||d(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(st(Yn))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function yD(a,p){return Array.isArray(p)?p.reduce(yD,a):Object.assign(Object.assign({},a),p)}let Hy=(()=>{class a{constructor(d,v,C,_){this._zone=d,this._injector=v,this._exceptionHandler=C,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new vr(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),R=new vr(M=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Dn.assertNotInAngularZone(),dE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Dn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{L.unsubscribe(),V.unsubscribe()}});this.isStable=function Em(...a){const p=qu(a),d=function dh(a,p){return"number"==typeof gp(a)?a.pop():p}(a,1/0),v=a;return v.length?1===v.length?wo(v[0]):Za(d)(Yr(v,p)):qo}(O,R.pipe(function hh(a={}){const{connector:p=(()=>new aa),resetOnError:d=!0,resetOnComplete:v=!0,resetOnRefCountZero:C=!0}=a;return _=>{let O=null,R=null,M=null,L=0,V=!1,X=!1;const ee=()=>{null==R||R.unsubscribe(),R=null},oe=()=>{ee(),O=M=null,V=X=!1},ve=()=>{const Me=O;oe(),null==Me||Me.unsubscribe()};return $r((Me,Ue)=>{L++,!X&&!V&&ee();const We=M=null!=M?M:p();Ue.add(()=>{L--,0===L&&!X&&!V&&(R=vg(ve,C))}),We.subscribe(Ue),O||(O=new Wn({next:Pe=>We.next(Pe),error:Pe=>{X=!0,ee(),R=vg(oe,d,Pe),We.error(Pe)},complete:()=>{V=!0,ee(),R=vg(oe,v),We.complete()}}),Yr(Me).subscribe(O))})(_)}}()))}bootstrap(d,v){if(!this._initStatus.done)throw new Kt(405,"");let C;C=d instanceof T0?d:this._injector.get(tp).resolveComponentFactory(d),this.componentTypes.push(C.componentType);const _=function $f(a){return a.isBoundToModule}(C)?void 0:this._injector.get(Bu),R=C.create(Yn.NULL,[],v||C.selector,_),M=R.location.nativeElement,L=R.injector.get(Wa,null),V=L&&R.injector.get(uP);return L&&V&&V.registerApplication(M,L),R.onDestroy(()=>{this.detachView(R.hostView),v_(this.components,R),V&&V.unregisterApplication(M)}),this._loadComponent(R),R}tick(){if(this._runningTick)throw new Kt(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const v=d;this._views.push(v),v.attachToAppRef(this)}detachView(d){const v=d;v_(this._views,v),v.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(aD,[]).concat(this._bootstrapListeners).forEach(C=>C(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(d){return new(d||a)(st(Dn),st(Yn),st(td),st(uE))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function v_(a,p){const d=a.indexOf(p);d>-1&&a.splice(d,1)}let yo=!0,y_=(()=>{class a{}return a.__NG_ELEMENT_ID__=wD,a})();function wD(a){return function vP(a,p,d){if(rl(a)&&!d){const v=nn(a.index,p);return new xy(v,v)}return 47&a.type?new xy(p[16],p):null}(gn(),ke(),16==(16&a))}class bD{constructor(){}supports(p){return Xr(p)}create(p){return new wP(p)}}const fs=(a,p)=>p;class wP{constructor(p){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=p||fs}forEachItem(p){let d;for(d=this._itHead;null!==d;d=d._next)p(d)}forEachOperation(p){let d=this._itHead,v=this._removalsHead,C=0,_=null;for(;d||v;){const O=!v||d&&d.currentIndex<ED(v,C,_)?d:v,R=ED(O,C,_),M=O.currentIndex;if(O===v)C--,v=v._nextRemoved;else if(d=d._next,null==O.previousIndex)C++;else{_||(_=[]);const L=R-C,V=M-C;if(L!=V){for(let ee=0;ee<L;ee++){const oe=ee<_.length?_[ee]:_[ee]=0,ve=oe+ee;V<=ve&&ve<L&&(_[ee]=oe+1)}_[O.previousIndex]=V-L}}R!==M&&p(O,R,M)}}forEachPreviousItem(p){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)p(d)}forEachAddedItem(p){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)p(d)}forEachMovedItem(p){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)p(d)}forEachRemovedItem(p){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)p(d)}forEachIdentityChange(p){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)p(d)}diff(p){if(null==p&&(p=[]),!Xr(p))throw new Kt(900,"");return this.check(p)?this:null}onDestroy(){}check(p){this._reset();let C,_,O,d=this._itHead,v=!1;if(Array.isArray(p)){this.length=p.length;for(let R=0;R<this.length;R++)_=p[R],O=this._trackByFn(R,_),null!==d&&Object.is(d.trackById,O)?(v&&(d=this._verifyReinsertion(d,_,O,R)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,O,R),v=!0),d=d._next}else C=0,function Rl(a,p){if(Array.isArray(a))for(let d=0;d<a.length;d++)p(a[d]);else{const d=a[ss()]();let v;for(;!(v=d.next()).done;)p(v.value)}}(p,R=>{O=this._trackByFn(C,R),null!==d&&Object.is(d.trackById,O)?(v&&(d=this._verifyReinsertion(d,R,O,C)),Object.is(d.item,R)||this._addIdentityChange(d,R)):(d=this._mismatch(d,R,O,C),v=!0),d=d._next,C++}),this.length=C;return this._truncate(d),this.collection=p,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let p;for(p=this._previousItHead=this._itHead;null!==p;p=p._next)p._nextPrevious=p._next;for(p=this._additionsHead;null!==p;p=p._nextAdded)p.previousIndex=p.currentIndex;for(this._additionsHead=this._additionsTail=null,p=this._movesHead;null!==p;p=p._nextMoved)p.previousIndex=p.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(p,d,v,C){let _;return null===p?_=this._itTail:(_=p._prev,this._remove(p)),null!==(p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null))?(Object.is(p.item,d)||this._addIdentityChange(p,d),this._reinsertAfter(p,_,C)):null!==(p=null===this._linkedRecords?null:this._linkedRecords.get(v,C))?(Object.is(p.item,d)||this._addIdentityChange(p,d),this._moveAfter(p,_,C)):p=this._addAfter(new CE(d,v),_,C),p}_verifyReinsertion(p,d,v,C){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(v,null);return null!==_?p=this._reinsertAfter(_,p._prev,C):p.currentIndex!=C&&(p.currentIndex=C,this._addToMoves(p,C)),p}_truncate(p){for(;null!==p;){const d=p._next;this._addToRemovals(this._unlink(p)),p=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(p,d,v){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(p);const C=p._prevRemoved,_=p._nextRemoved;return null===C?this._removalsHead=_:C._nextRemoved=_,null===_?this._removalsTail=C:_._prevRemoved=C,this._insertAfter(p,d,v),this._addToMoves(p,v),p}_moveAfter(p,d,v){return this._unlink(p),this._insertAfter(p,d,v),this._addToMoves(p,v),p}_addAfter(p,d,v){return this._insertAfter(p,d,v),this._additionsTail=null===this._additionsTail?this._additionsHead=p:this._additionsTail._nextAdded=p,p}_insertAfter(p,d,v){const C=null===d?this._itHead:d._next;return p._next=C,p._prev=d,null===C?this._itTail=p:C._prev=p,null===d?this._itHead=p:d._next=p,null===this._linkedRecords&&(this._linkedRecords=new wE),this._linkedRecords.put(p),p.currentIndex=v,p}_remove(p){return this._addToRemovals(this._unlink(p))}_unlink(p){null!==this._linkedRecords&&this._linkedRecords.remove(p);const d=p._prev,v=p._next;return null===d?this._itHead=v:d._next=v,null===v?this._itTail=d:v._prev=d,p}_addToMoves(p,d){return p.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=p:this._movesTail._nextMoved=p),p}_addToRemovals(p){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wE),this._unlinkedRecords.put(p),p.currentIndex=null,p._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=p,p._prevRemoved=null):(p._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=p),p}_addIdentityChange(p,d){return p.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=p:this._identityChangesTail._nextIdentityChange=p,p}}class CE{constructor(p,d){this.item=p,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _P{constructor(){this._head=null,this._tail=null}add(p){null===this._head?(this._head=this._tail=p,p._nextDup=null,p._prevDup=null):(this._tail._nextDup=p,p._prevDup=this._tail,p._nextDup=null,this._tail=p)}get(p,d){let v;for(v=this._head;null!==v;v=v._nextDup)if((null===d||d<=v.currentIndex)&&Object.is(v.trackById,p))return v;return null}remove(p){const d=p._prevDup,v=p._nextDup;return null===d?this._head=v:d._nextDup=v,null===v?this._tail=d:v._prevDup=d,null===this._head}}class wE{constructor(){this.map=new Map}put(p){const d=p.trackById;let v=this.map.get(d);v||(v=new _P,this.map.set(d,v)),v.add(p)}get(p,d){const C=this.map.get(p);return C?C.get(p,d):null}remove(p){const d=p.trackById;return this.map.get(d).remove(p)&&this.map.delete(d),p}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ED(a,p,d){const v=a.previousIndex;if(null===v)return v;let C=0;return d&&v<d.length&&(C=d[v]),v+p+C}function mo(){return new E_([new bD])}let E_=(()=>{class a{constructor(d){this.factories=d}static create(d,v){if(null!=v){const C=v.factories.slice();d=d.concat(C)}return new a(d)}static extend(d){return{provide:a,useFactory:v=>a.create(d,v||mo()),deps:[[a,new Fi,new ks]]}}find(d){const v=this.factories.find(C=>C.supports(d));if(null!=v)return v;throw new Kt(901,"")}}return a.\u0275prov=Rt({token:a,providedIn:"root",factory:mo}),a})();const R_=gD(null,"core",[]);let OP=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(st(Hy))},a.\u0275mod=fn({type:a}),a.\u0275inj=En({}),a})(),A_=null;function kl(){return A_}const Uo=new yt("DocumentToken");let qd=(()=>{class a{historyGo(d){throw new Error("Not implemented")}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:function(){return function PP(){return st(TD)}()},providedIn:"platform"}),a})();const PD=new yt("Location Initialized");let TD=(()=>{class a extends qd{constructor(d){super(),this._doc=d,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kl().getBaseHref(this._doc)}onPopState(d){const v=kl().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",d,!1),()=>v.removeEventListener("popstate",d)}onHashChange(d){const v=kl().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",d,!1),()=>v.removeEventListener("hashchange",d)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(d){this.location.pathname=d}pushState(d,v,C){xD()?this._history.pushState(d,v,C):this.location.hash=C}replaceState(d,v,C){xD()?this._history.replaceState(d,v,C):this.location.hash=C}forward(){this._history.forward()}back(){this._history.back()}historyGo(d=0){this._history.go(d)}getState(){return this._history.state}}return a.\u0275fac=function(d){return new(d||a)(st(Uo))},a.\u0275prov=Rt({token:a,factory:function(){return function MD(){return new TD(st(Uo))}()},providedIn:"platform"}),a})();function xD(){return!!window.history.pushState}function _E(a,p){if(0==a.length)return p;if(0==p.length)return a;let d=0;return a.endsWith("/")&&d++,p.startsWith("/")&&d++,2==d?a+p.substring(1):1==d?a+p:a+"/"+p}function FD(a){const p=a.match(/#|\?|$/),d=p&&p.index||a.length;return a.slice(0,d-("/"===a[d-1]?1:0))+a.slice(d)}function Vl(a){return a&&"?"!==a[0]?"?"+a:a}let Xd=(()=>{class a{historyGo(d){throw new Error("Not implemented")}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:function(){return function TP(a){const p=st(Uo).location;return new ID(st(qd),p&&p.origin||"")}()},providedIn:"root"}),a})();const Wi=new yt("appBaseHref");let ID=(()=>{class a extends Xd{constructor(d,v){if(super(),this._platformLocation=d,this._removeListenerFns=[],null==v&&(v=this._platformLocation.getBaseHrefFromDOM()),null==v)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=v}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}prepareExternalUrl(d){return _E(this._baseHref,d)}path(d=!1){const v=this._platformLocation.pathname+Vl(this._platformLocation.search),C=this._platformLocation.hash;return C&&d?`${v}${C}`:v}pushState(d,v,C,_){const O=this.prepareExternalUrl(C+Vl(_));this._platformLocation.pushState(d,v,O)}replaceState(d,v,C,_){const O=this.prepareExternalUrl(C+Vl(_));this._platformLocation.replaceState(d,v,O)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(d=0){var v,C;null===(C=(v=this._platformLocation).historyGo)||void 0===C||C.call(v,d)}}return a.\u0275fac=function(d){return new(d||a)(st(qd),st(Wi,8))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),ND=(()=>{class a extends Xd{constructor(d,v){super(),this._platformLocation=d,this._baseHref="",this._removeListenerFns=[],null!=v&&(this._baseHref=v)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(d){this._removeListenerFns.push(this._platformLocation.onPopState(d),this._platformLocation.onHashChange(d))}getBaseHref(){return this._baseHref}path(d=!1){let v=this._platformLocation.hash;return null==v&&(v="#"),v.length>0?v.substring(1):v}prepareExternalUrl(d){const v=_E(this._baseHref,d);return v.length>0?"#"+v:v}pushState(d,v,C,_){let O=this.prepareExternalUrl(C+Vl(_));0==O.length&&(O=this._platformLocation.pathname),this._platformLocation.pushState(d,v,O)}replaceState(d,v,C,_){let O=this.prepareExternalUrl(C+Vl(_));0==O.length&&(O=this._platformLocation.pathname),this._platformLocation.replaceState(d,v,O)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(d=0){var v,C;null===(C=(v=this._platformLocation).historyGo)||void 0===C||C.call(v,d)}}return a.\u0275fac=function(d){return new(d||a)(st(qd),st(Wi,8))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),SE=(()=>{class a{constructor(d,v){this._subject=new me,this._urlChangeListeners=[],this._platformStrategy=d;const C=this._platformStrategy.getBaseHref();this._platformLocation=v,this._baseHref=FD(LD(C)),this._platformStrategy.onPopState(_=>{this._subject.emit({url:this.path(!0),pop:!0,state:_.state,type:_.type})})}path(d=!1){return this.normalize(this._platformStrategy.path(d))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(d,v=""){return this.path()==this.normalize(d+Vl(v))}normalize(d){return a.stripTrailingSlash(function xP(a,p){return a&&p.startsWith(a)?p.substring(a.length):p}(this._baseHref,LD(d)))}prepareExternalUrl(d){return d&&"/"!==d[0]&&(d="/"+d),this._platformStrategy.prepareExternalUrl(d)}go(d,v="",C=null){this._platformStrategy.pushState(C,"",d,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+Vl(v)),C)}replaceState(d,v="",C=null){this._platformStrategy.replaceState(C,"",d,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(d+Vl(v)),C)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(d=0){var v,C;null===(C=(v=this._platformStrategy).historyGo)||void 0===C||C.call(v,d)}onUrlChange(d){this._urlChangeListeners.push(d),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(d="",v){this._urlChangeListeners.forEach(C=>C(d,v))}subscribe(d,v,C){return this._subject.subscribe({next:d,error:v,complete:C})}}return a.normalizeQueryParams=Vl,a.joinWithSlash=_E,a.stripTrailingSlash=FD,a.\u0275fac=function(d){return new(d||a)(st(Xd),st(qd))},a.\u0275prov=Rt({token:a,factory:function(){return function Zd(){return new SE(st(Xd),st(qd))}()},providedIn:"root"}),a})();function LD(a){return a.replace(/\/index.html$/,"")}function x_(a,p){p=encodeURIComponent(p);for(const d of a.split(";")){const v=d.indexOf("="),[C,_]=-1==v?[d,""]:[d.slice(0,v),d.slice(v+1)];if(C.trim()===p)return decodeURIComponent(_)}return null}class FE{constructor(p,d,v,C){this.$implicit=p,this.ngForOf=d,this.index=v,this.count=C}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M_=(()=>{class a{constructor(d,v,C){this._viewContainer=d,this._template=v,this._differs=C,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(d){this._ngForOf=d,this._ngForOfDirty=!0}set ngForTrackBy(d){this._trackByFn=d}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(d){d&&(this._template=d)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const d=this._ngForOf;!this._differ&&d&&(this._differ=this._differs.find(d).create(this.ngForTrackBy))}if(this._differ){const d=this._differ.diff(this._ngForOf);d&&this._applyChanges(d)}}_applyChanges(d){const v=this._viewContainer;d.forEachOperation((C,_,O)=>{if(null==C.previousIndex)v.createEmbeddedView(this._template,new FE(C.item,this._ngForOf,-1,-1),null===O?void 0:O);else if(null==O)v.remove(null===_?void 0:_);else if(null!==_){const R=v.get(_);v.move(R,O),F_(R,C)}});for(let C=0,_=v.length;C<_;C++){const R=v.get(C).context;R.index=C,R.count=_,R.ngForOf=this._ngForOf}d.forEachIdentityChange(C=>{F_(v.get(C.currentIndex),C)})}static ngTemplateContextGuard(d,v){return!0}}return a.\u0275fac=function(d){return new(d||a)(Ve(Ho),Ve(Hu),Ve(E_))},a.\u0275dir=Ct({type:a,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),a})();function F_(a,p){a.context.$implicit=p.item}let I_=(()=>{class a{constructor(d,v){this._viewContainer=d,this._context=new IE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=v}set ngIf(d){this._context.$implicit=this._context.ngIf=d,this._updateView()}set ngIfThen(d){N_("ngIfThen",d),this._thenTemplateRef=d,this._thenViewRef=null,this._updateView()}set ngIfElse(d){N_("ngIfElse",d),this._elseTemplateRef=d,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(d,v){return!0}}return a.\u0275fac=function(d){return new(d||a)(Ve(Ho),Ve(Hu))},a.\u0275dir=Ct({type:a,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),a})();class IE{constructor(){this.$implicit=null,this.ngIf=null}}function N_(a,p){if(p&&!p.createEmbeddedView)throw new Error(`${a} must be a TemplateRef, but received '${ir(p)}'.`)}let zI=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({}),a})();let qI=(()=>{class a{}return a.\u0275prov=Rt({token:a,providedIn:"root",factory:()=>new XI(st(Uo),window)}),a})();class XI{constructor(p,d){this.document=p,this.window=d,this.offset=()=>[0,0]}setOffset(p){this.offset=Array.isArray(p)?()=>p:p}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(p){this.supportsScrolling()&&this.window.scrollTo(p[0],p[1])}scrollToAnchor(p){if(!this.supportsScrolling())return;const d=function ZI(a,p){const d=a.getElementById(p)||a.getElementsByName(p)[0];if(d)return d;if("function"==typeof a.createTreeWalker&&a.body&&(a.body.createShadowRoot||a.body.attachShadow)){const v=a.createTreeWalker(a.body,NodeFilter.SHOW_ELEMENT);let C=v.currentNode;for(;C;){const _=C.shadowRoot;if(_){const O=_.getElementById(p)||_.querySelector(`[name="${p}"]`);if(O)return O}C=v.nextNode()}}return null}(this.document,p);d&&(this.scrollToElement(d),d.focus())}setHistoryScrollRestoration(p){if(this.supportScrollRestoration()){const d=this.window.history;d&&d.scrollRestoration&&(d.scrollRestoration=p)}}scrollToElement(p){const d=p.getBoundingClientRect(),v=d.left+this.window.pageXOffset,C=d.top+this.window.pageYOffset,_=this.offset();this.window.scrollTo(v-_[0],C-_[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const p=Vx(this.window.history)||Vx(Object.getPrototypeOf(this.window.history));return!(!p||!p.writable&&!p.set)}catch(p){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(p){return!1}}}function Vx(a){return Object.getOwnPropertyDescriptor(a,"scrollRestoration")}class Bx{}class IP extends class QI extends class AP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Wy(a){A_||(A_=a)}(new IP)}onAndCancel(p,d,v){return p.addEventListener(d,v,!1),()=>{p.removeEventListener(d,v,!1)}}dispatchEvent(p,d){p.dispatchEvent(d)}remove(p){p.parentNode&&p.parentNode.removeChild(p)}createElement(p,d){return(d=d||this.getDefaultDocument()).createElement(p)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(p){return p.nodeType===Node.ELEMENT_NODE}isShadowRoot(p){return p instanceof DocumentFragment}getGlobalEventTarget(p,d){return"window"===d?window:"document"===d?p:"body"===d?p.body:null}getBaseHref(p){const d=function JI(){return VE=VE||document.querySelector("base"),VE?VE.getAttribute("href"):null}();return null==d?null:function eN(a){HD=HD||document.createElement("a"),HD.setAttribute("href",a);const p=HD.pathname;return"/"===p.charAt(0)?p:`/${p}`}(d)}resetBaseElement(){VE=null}getUserAgent(){return window.navigator.userAgent}getCookie(p){return x_(document.cookie,p)}}let HD,VE=null;const Hx=new yt("TRANSITION_ID"),rN=[{provide:Vy,useFactory:function tN(a,p,d){return()=>{d.get(uE).donePromise.then(()=>{const v=kl(),C=p.querySelectorAll(`style[ng-transition="${a}"]`);for(let _=0;_<C.length;_++)v.remove(C[_])})}},deps:[Hx,Uo,Yn],multi:!0}];class NP{static init(){!function cP(a){fE=a}(new NP)}addToWindow(p){dr.getAngularTestability=(v,C=!0)=>{const _=p.findTestabilityInTree(v,C);if(null==_)throw new Error("Could not find testability for element.");return _},dr.getAllAngularTestabilities=()=>p.getAllTestabilities(),dr.getAllAngularRootElements=()=>p.getAllRootElements(),dr.frameworkStabilizers||(dr.frameworkStabilizers=[]),dr.frameworkStabilizers.push(v=>{const C=dr.getAllAngularTestabilities();let _=C.length,O=!1;const R=function(M){O=O||M,_--,0==_&&v(O)};C.forEach(function(M){M.whenStable(R)})})}findTestabilityInTree(p,d,v){if(null==d)return null;const C=p.getTestability(d);return null!=C?C:v?kl().isShadowRoot(d)?this.findTestabilityInTree(p,d.host,!0):this.findTestabilityInTree(p,d.parentElement,!0):null}}let nN=(()=>{class a{build(){return new XMLHttpRequest}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();const WD=new yt("EventManagerPlugins");let jD=(()=>{class a{constructor(d,v){this._zone=v,this._eventNameToPlugin=new Map,d.forEach(C=>C.manager=this),this._plugins=d.slice().reverse()}addEventListener(d,v,C){return this._findPluginFor(v).addEventListener(d,v,C)}addGlobalEventListener(d,v,C){return this._findPluginFor(v).addGlobalEventListener(d,v,C)}getZone(){return this._zone}_findPluginFor(d){const v=this._eventNameToPlugin.get(d);if(v)return v;const C=this._plugins;for(let _=0;_<C.length;_++){const O=C[_];if(O.supports(d))return this._eventNameToPlugin.set(d,O),O}throw new Error(`No event manager plugin found for event ${d}`)}}return a.\u0275fac=function(d){return new(d||a)(st(WD),st(Dn))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();class Wx{constructor(p){this._doc=p}addGlobalEventListener(p,d,v){const C=kl().getGlobalEventTarget(this._doc,p);if(!C)throw new Error(`Unsupported event target ${C} for event ${d}`);return this.addEventListener(C,d,v)}}let jx=(()=>{class a{constructor(){this._stylesSet=new Set}addStyles(d){const v=new Set;d.forEach(C=>{this._stylesSet.has(C)||(this._stylesSet.add(C),v.add(C))}),this.onStylesAdded(v)}onStylesAdded(d){}getAllStyles(){return Array.from(this._stylesSet)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),BE=(()=>{class a extends jx{constructor(d){super(),this._doc=d,this._hostNodes=new Map,this._hostNodes.set(d.head,[])}_addStylesToHost(d,v,C){d.forEach(_=>{const O=this._doc.createElement("style");O.textContent=_,C.push(v.appendChild(O))})}addHost(d){const v=[];this._addStylesToHost(this._stylesSet,d,v),this._hostNodes.set(d,v)}removeHost(d){const v=this._hostNodes.get(d);v&&v.forEach(Ux),this._hostNodes.delete(d)}onStylesAdded(d){this._hostNodes.forEach((v,C)=>{this._addStylesToHost(d,C,v)})}ngOnDestroy(){this._hostNodes.forEach(d=>d.forEach(Ux))}}return a.\u0275fac=function(d){return new(d||a)(st(Uo))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();function Ux(a){kl().remove(a)}const LP={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},GP=/%COMP%/g;function UD(a,p,d){for(let v=0;v<p.length;v++){let C=p[v];Array.isArray(C)?UD(a,C,d):(C=C.replace(GP,a),d.push(C))}return d}function Kx(a){return p=>{if("__ngUnwrap__"===p)return a;!1===a(p)&&(p.preventDefault(),p.returnValue=!1)}}let kP=(()=>{class a{constructor(d,v,C){this.eventManager=d,this.sharedStylesHost=v,this.appId=C,this.rendererByCompId=new Map,this.defaultRenderer=new VP(d)}createRenderer(d,v){if(!d||!v)return this.defaultRenderer;switch(v.encapsulation){case Ki.Emulated:{let C=this.rendererByCompId.get(v.id);return C||(C=new uN(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,C)),C.applyToHost(d),C}case 1:case Ki.ShadowDom:return new cN(this.eventManager,this.sharedStylesHost,d,v);default:if(!this.rendererByCompId.has(v.id)){const C=UD(v.id,v.styles,[]);this.sharedStylesHost.addStyles(C),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return a.\u0275fac=function(d){return new(d||a)(st(jD),st(BE),st(By))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();class VP{constructor(p){this.eventManager=p,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(p,d){return d?document.createElementNS(LP[d]||d,p):document.createElement(p)}createComment(p){return document.createComment(p)}createText(p){return document.createTextNode(p)}appendChild(p,d){p.appendChild(d)}insertBefore(p,d,v){p&&p.insertBefore(d,v)}removeChild(p,d){p&&p.removeChild(d)}selectRootElement(p,d){let v="string"==typeof p?document.querySelector(p):p;if(!v)throw new Error(`The selector "${p}" did not match any elements`);return d||(v.textContent=""),v}parentNode(p){return p.parentNode}nextSibling(p){return p.nextSibling}setAttribute(p,d,v,C){if(C){d=C+":"+d;const _=LP[C];_?p.setAttributeNS(_,d,v):p.setAttribute(d,v)}else p.setAttribute(d,v)}removeAttribute(p,d,v){if(v){const C=LP[v];C?p.removeAttributeNS(C,d):p.removeAttribute(`${v}:${d}`)}else p.removeAttribute(d)}addClass(p,d){p.classList.add(d)}removeClass(p,d){p.classList.remove(d)}setStyle(p,d,v,C){C&(io.DashCase|io.Important)?p.style.setProperty(d,v,C&io.Important?"important":""):p.style[d]=v}removeStyle(p,d,v){v&io.DashCase?p.style.removeProperty(d):p.style[d]=""}setProperty(p,d,v){p[d]=v}setValue(p,d){p.nodeValue=d}listen(p,d,v){return"string"==typeof p?this.eventManager.addGlobalEventListener(p,d,Kx(v)):this.eventManager.addEventListener(p,d,Kx(v))}}class uN extends VP{constructor(p,d,v,C){super(p),this.component=v;const _=UD(C+"-"+v.id,v.styles,[]);d.addStyles(_),this.contentAttr=function sN(a){return"_ngcontent-%COMP%".replace(GP,a)}(C+"-"+v.id),this.hostAttr=function aN(a){return"_nghost-%COMP%".replace(GP,a)}(C+"-"+v.id)}applyToHost(p){super.setAttribute(p,this.hostAttr,"")}createElement(p,d){const v=super.createElement(p,d);return super.setAttribute(v,this.contentAttr,""),v}}class cN extends VP{constructor(p,d,v,C){super(p),this.sharedStylesHost=d,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=UD(C.id,C.styles,[]);for(let O=0;O<_.length;O++){const R=document.createElement("style");R.textContent=_[O],this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(p){return p===this.hostEl?this.shadowRoot:p}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(p,d){return super.appendChild(this.nodeOrShadowRoot(p),d)}insertBefore(p,d,v){return super.insertBefore(this.nodeOrShadowRoot(p),d,v)}removeChild(p,d){return super.removeChild(this.nodeOrShadowRoot(p),d)}parentNode(p){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(p)))}}let pN=(()=>{class a extends Wx{constructor(d){super(d)}supports(d){return!0}addEventListener(d,v,C){return d.addEventListener(v,C,!1),()=>this.removeEventListener(d,v,C)}removeEventListener(d,v,C){return d.removeEventListener(v,C)}}return a.\u0275fac=function(d){return new(d||a)(st(Uo))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();const qx=["alt","control","meta","shift"],hN={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fN={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let gN=(()=>{class a extends Wx{constructor(d){super(d)}supports(d){return null!=a.parseEventName(d)}addEventListener(d,v,C){const _=a.parseEventName(v),O=a.eventCallback(_.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kl().onAndCancel(d,_.domEventName,O))}static parseEventName(d){const v=d.toLowerCase().split("."),C=v.shift();if(0===v.length||"keydown"!==C&&"keyup"!==C)return null;const _=a._normalizeKey(v.pop());let O="";if(qx.forEach(M=>{const L=v.indexOf(M);L>-1&&(v.splice(L,1),O+=M+".")}),O+=_,0!=v.length||0===_.length)return null;const R={};return R.domEventName=C,R.fullKey=O,R}static getEventFullKey(d){let v="",C=function vN(a){let p=a.key;if(null==p){if(p=a.keyIdentifier,null==p)return"Unidentified";p.startsWith("U+")&&(p=String.fromCharCode(parseInt(p.substring(2),16)),3===a.location&&Xx.hasOwnProperty(p)&&(p=Xx[p]))}return hN[p]||p}(d);return C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),qx.forEach(_=>{_!=C&&fN[_](d)&&(v+=_+".")}),v+=C,v}static eventCallback(d,v,C){return _=>{a.getEventFullKey(_)===d&&C.runGuarded(()=>v(_))}}static _normalizeKey(d){return"esc"===d?"escape":d}}return a.\u0275fac=function(d){return new(d||a)(st(Uo))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();const wN=gD(R_,"browser",[{provide:ap,useValue:"browser"},{provide:sD,useValue:function yN(){IP.makeCurrent(),NP.init()},multi:!0},{provide:Uo,useFactory:function CN(){return function bo(a){Rh=a}(document),document},deps:[]}]),_N=[{provide:Bv,useValue:"root"},{provide:td,useFactory:function mN(){return new td},deps:[]},{provide:WD,useClass:pN,multi:!0,deps:[Uo,Dn,ap]},{provide:WD,useClass:gN,multi:!0,deps:[Uo]},{provide:kP,useClass:kP,deps:[jD,BE,By]},{provide:rp,useExisting:kP},{provide:jx,useExisting:BE},{provide:BE,useClass:BE,deps:[Uo]},{provide:Wa,useClass:Wa,deps:[Dn]},{provide:jD,useClass:jD,deps:[WD,Dn]},{provide:Bx,useClass:nN,deps:[]}];let SN=(()=>{class a{constructor(d){if(d)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(d){return{ngModule:a,providers:[{provide:By,useValue:d.appId},{provide:Hx,useExisting:By},rN]}}}return a.\u0275fac=function(d){return new(d||a)(st(a,12))},a.\u0275mod=fn({type:a}),a.\u0275inj=En({providers:_N,imports:[zI,OP]}),a})();function Lt(...a){return Yr(a,qu(a))}function G_(a,p){return re(p)?bn(a,p,1):bn(a,1)}function Qy(a,p){return $r((d,v)=>{let C=0;d.subscribe(Kr(v,_=>a.call(p,_,C++)&&v.next(_)))})}"undefined"!=typeof window&&window;class Jx{}class eM{}class eh{constructor(p){this.normalizedNames=new Map,this.lazyUpdate=null,p?this.lazyInit="string"==typeof p?()=>{this.headers=new Map,p.split("\n").forEach(d=>{const v=d.indexOf(":");if(v>0){const C=d.slice(0,v),_=C.toLowerCase(),O=d.slice(v+1).trim();this.maybeSetNormalizedName(C,_),this.headers.has(_)?this.headers.get(_).push(O):this.headers.set(_,[O])}})}:()=>{this.headers=new Map,Object.keys(p).forEach(d=>{let v=p[d];const C=d.toLowerCase();"string"==typeof v&&(v=[v]),v.length>0&&(this.headers.set(C,v),this.maybeSetNormalizedName(d,C))})}:this.headers=new Map}has(p){return this.init(),this.headers.has(p.toLowerCase())}get(p){this.init();const d=this.headers.get(p.toLowerCase());return d&&d.length>0?d[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(p){return this.init(),this.headers.get(p.toLowerCase())||null}append(p,d){return this.clone({name:p,value:d,op:"a"})}set(p,d){return this.clone({name:p,value:d,op:"s"})}delete(p,d){return this.clone({name:p,value:d,op:"d"})}maybeSetNormalizedName(p,d){this.normalizedNames.has(d)||this.normalizedNames.set(d,p)}init(){this.lazyInit&&(this.lazyInit instanceof eh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(p=>this.applyUpdate(p)),this.lazyUpdate=null))}copyFrom(p){p.init(),Array.from(p.headers.keys()).forEach(d=>{this.headers.set(d,p.headers.get(d)),this.normalizedNames.set(d,p.normalizedNames.get(d))})}clone(p){const d=new eh;return d.lazyInit=this.lazyInit&&this.lazyInit instanceof eh?this.lazyInit:this,d.lazyUpdate=(this.lazyUpdate||[]).concat([p]),d}applyUpdate(p){const d=p.name.toLowerCase();switch(p.op){case"a":case"s":let v=p.value;if("string"==typeof v&&(v=[v]),0===v.length)return;this.maybeSetNormalizedName(p.name,d);const C=("a"===p.op?this.headers.get(d):void 0)||[];C.push(...v),this.headers.set(d,C);break;case"d":const _=p.value;if(_){let O=this.headers.get(d);if(!O)return;O=O.filter(R=>-1===_.indexOf(R)),0===O.length?(this.headers.delete(d),this.normalizedNames.delete(d)):this.headers.set(d,O)}else this.headers.delete(d),this.normalizedNames.delete(d)}}forEach(p){this.init(),Array.from(this.normalizedNames.keys()).forEach(d=>p(this.normalizedNames.get(d),this.headers.get(d)))}}class FN{encodeKey(p){return tM(p)}encodeValue(p){return tM(p)}decodeKey(p){return decodeURIComponent(p)}decodeValue(p){return decodeURIComponent(p)}}const NN=/%(\d[a-f0-9])/gi,LN={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tM(a){return encodeURIComponent(a).replace(NN,(p,d)=>{var v;return null!==(v=LN[d])&&void 0!==v?v:p})}function rM(a){return`${a}`}class Qf{constructor(p={}){if(this.updates=null,this.cloneFrom=null,this.encoder=p.encoder||new FN,p.fromString){if(p.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function IN(a,p){const d=new Map;return a.length>0&&a.replace(/^\?/,"").split("&").forEach(C=>{const _=C.indexOf("="),[O,R]=-1==_?[p.decodeKey(C),""]:[p.decodeKey(C.slice(0,_)),p.decodeValue(C.slice(_+1))],M=d.get(O)||[];M.push(R),d.set(O,M)}),d}(p.fromString,this.encoder)}else p.fromObject?(this.map=new Map,Object.keys(p.fromObject).forEach(d=>{const v=p.fromObject[d];this.map.set(d,Array.isArray(v)?v:[v])})):this.map=null}has(p){return this.init(),this.map.has(p)}get(p){this.init();const d=this.map.get(p);return d?d[0]:null}getAll(p){return this.init(),this.map.get(p)||null}keys(){return this.init(),Array.from(this.map.keys())}append(p,d){return this.clone({param:p,value:d,op:"a"})}appendAll(p){const d=[];return Object.keys(p).forEach(v=>{const C=p[v];Array.isArray(C)?C.forEach(_=>{d.push({param:v,value:_,op:"a"})}):d.push({param:v,value:C,op:"a"})}),this.clone(d)}set(p,d){return this.clone({param:p,value:d,op:"s"})}delete(p,d){return this.clone({param:p,value:d,op:"d"})}toString(){return this.init(),this.keys().map(p=>{const d=this.encoder.encodeKey(p);return this.map.get(p).map(v=>d+"="+this.encoder.encodeValue(v)).join("&")}).filter(p=>""!==p).join("&")}clone(p){const d=new Qf({encoder:this.encoder});return d.cloneFrom=this.cloneFrom||this,d.updates=(this.updates||[]).concat(p),d}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(p=>this.map.set(p,this.cloneFrom.map.get(p))),this.updates.forEach(p=>{switch(p.op){case"a":case"s":const d=("a"===p.op?this.map.get(p.param):void 0)||[];d.push(rM(p.value)),this.map.set(p.param,d);break;case"d":if(void 0===p.value){this.map.delete(p.param);break}{let v=this.map.get(p.param)||[];const C=v.indexOf(rM(p.value));-1!==C&&v.splice(C,1),v.length>0?this.map.set(p.param,v):this.map.delete(p.param)}}}),this.cloneFrom=this.updates=null)}}class GN{constructor(){this.map=new Map}set(p,d){return this.map.set(p,d),this}get(p){return this.map.has(p)||this.map.set(p,p.defaultValue()),this.map.get(p)}delete(p){return this.map.delete(p),this}has(p){return this.map.has(p)}keys(){return this.map.keys()}}function nM(a){return"undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer}function iM(a){return"undefined"!=typeof Blob&&a instanceof Blob}function oM(a){return"undefined"!=typeof FormData&&a instanceof FormData}class HE{constructor(p,d,v,C){let _;if(this.url=d,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=p.toUpperCase(),function kN(a){switch(a){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||C?(this.body=void 0!==v?v:null,_=C):_=v,_&&(this.reportProgress=!!_.reportProgress,this.withCredentials=!!_.withCredentials,_.responseType&&(this.responseType=_.responseType),_.headers&&(this.headers=_.headers),_.context&&(this.context=_.context),_.params&&(this.params=_.params)),this.headers||(this.headers=new eh),this.context||(this.context=new GN),this.params){const O=this.params.toString();if(0===O.length)this.urlWithParams=d;else{const R=d.indexOf("?");this.urlWithParams=d+(-1===R?"?":R<d.length-1?"&":"")+O}}else this.params=new Qf,this.urlWithParams=d}serializeBody(){return null===this.body?null:nM(this.body)||iM(this.body)||oM(this.body)||function VN(a){return"undefined"!=typeof URLSearchParams&&a instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oM(this.body)?null:iM(this.body)?this.body.type||null:nM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(p={}){var d;const v=p.method||this.method,C=p.url||this.url,_=p.responseType||this.responseType,O=void 0!==p.body?p.body:this.body,R=void 0!==p.withCredentials?p.withCredentials:this.withCredentials,M=void 0!==p.reportProgress?p.reportProgress:this.reportProgress;let L=p.headers||this.headers,V=p.params||this.params;const X=null!==(d=p.context)&&void 0!==d?d:this.context;return void 0!==p.setHeaders&&(L=Object.keys(p.setHeaders).reduce((ee,oe)=>ee.set(oe,p.setHeaders[oe]),L)),p.setParams&&(V=Object.keys(p.setParams).reduce((ee,oe)=>ee.set(oe,p.setParams[oe]),V)),new HE(v,C,O,{params:V,headers:L,context:X,reportProgress:M,responseType:_,withCredentials:R})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class HP{constructor(p,d=200,v="OK"){this.headers=p.headers||new eh,this.status=void 0!==p.status?p.status:d,this.statusText=p.statusText||v,this.url=p.url||null,this.ok=this.status>=200&&this.status<300}}class WP extends HP{constructor(p={}){super(p),this.type=ei.ResponseHeader}clone(p={}){return new WP({headers:p.headers||this.headers,status:void 0!==p.status?p.status:this.status,statusText:p.statusText||this.statusText,url:p.url||this.url||void 0})}}class zD extends HP{constructor(p={}){super(p),this.type=ei.Response,this.body=void 0!==p.body?p.body:null}clone(p={}){return new zD({body:void 0!==p.body?p.body:this.body,headers:p.headers||this.headers,status:void 0!==p.status?p.status:this.status,statusText:p.statusText||this.statusText,url:p.url||this.url||void 0})}}class sM extends HP{constructor(p){super(p,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${p.url||"(unknown url)"}`:`Http failure response for ${p.url||"(unknown url)"}: ${p.status} ${p.statusText}`,this.error=p.error||null}}function jP(a,p){return{body:p,headers:a.headers,context:a.context,observe:a.observe,params:a.params,reportProgress:a.reportProgress,responseType:a.responseType,withCredentials:a.withCredentials}}let aM=(()=>{class a{constructor(d){this.handler=d}request(d,v,C={}){let _;if(d instanceof HE)_=d;else{let M,L;M=C.headers instanceof eh?C.headers:new eh(C.headers),C.params&&(L=C.params instanceof Qf?C.params:new Qf({fromObject:C.params})),_=new HE(d,v,void 0!==C.body?C.body:null,{headers:M,context:C.context,params:L,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const O=Lt(_).pipe(G_(M=>this.handler.handle(M)));if(d instanceof HE||"events"===C.observe)return O;const R=O.pipe(Qy(M=>M instanceof zD));switch(C.observe||"body"){case"body":switch(_.responseType){case"arraybuffer":return R.pipe(Gt(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return R.pipe(Gt(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return R.pipe(Gt(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));default:return R.pipe(Gt(M=>M.body))}case"response":return R;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(d,v={}){return this.request("DELETE",d,v)}get(d,v={}){return this.request("GET",d,v)}head(d,v={}){return this.request("HEAD",d,v)}jsonp(d,v){return this.request("JSONP",d,{params:(new Qf).append(v,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(d,v={}){return this.request("OPTIONS",d,v)}patch(d,v,C={}){return this.request("PATCH",d,jP(C,v))}post(d,v,C={}){return this.request("POST",d,jP(C,v))}put(d,v,C={}){return this.request("PUT",d,jP(C,v))}}return a.\u0275fac=function(d){return new(d||a)(st(Jx))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();class lM{constructor(p,d){this.next=p,this.interceptor=d}handle(p){return this.interceptor.intercept(p,this.next)}}const uM=new yt("HTTP_INTERCEPTORS");let BN=(()=>{class a{intercept(d,v){return v.handle(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();const HN=/^\)\]\}',?\n/;let cM=(()=>{class a{constructor(d){this.xhrFactory=d}handle(d){if("JSONP"===d.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new vr(v=>{const C=this.xhrFactory.build();if(C.open(d.method,d.urlWithParams),d.withCredentials&&(C.withCredentials=!0),d.headers.forEach((oe,ve)=>C.setRequestHeader(oe,ve.join(","))),d.headers.has("Accept")||C.setRequestHeader("Accept","application/json, text/plain, */*"),!d.headers.has("Content-Type")){const oe=d.detectContentTypeHeader();null!==oe&&C.setRequestHeader("Content-Type",oe)}if(d.responseType){const oe=d.responseType.toLowerCase();C.responseType="json"!==oe?oe:"text"}const _=d.serializeBody();let O=null;const R=()=>{if(null!==O)return O;const oe=C.statusText||"OK",ve=new eh(C.getAllResponseHeaders()),Me=function WN(a){return"responseURL"in a&&a.responseURL?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null}(C)||d.url;return O=new WP({headers:ve,status:C.status,statusText:oe,url:Me}),O},M=()=>{let{headers:oe,status:ve,statusText:Me,url:Ue}=R(),We=null;204!==ve&&(We=void 0===C.response?C.responseText:C.response),0===ve&&(ve=We?200:0);let Pe=ve>=200&&ve<300;if("json"===d.responseType&&"string"==typeof We){const ct=We;We=We.replace(HN,"");try{We=""!==We?JSON.parse(We):null}catch(It){We=ct,Pe&&(Pe=!1,We={error:It,text:We})}}Pe?(v.next(new zD({body:We,headers:oe,status:ve,statusText:Me,url:Ue||void 0})),v.complete()):v.error(new sM({error:We,headers:oe,status:ve,statusText:Me,url:Ue||void 0}))},L=oe=>{const{url:ve}=R(),Me=new sM({error:oe,status:C.status||0,statusText:C.statusText||"Unknown Error",url:ve||void 0});v.error(Me)};let V=!1;const X=oe=>{V||(v.next(R()),V=!0);let ve={type:ei.DownloadProgress,loaded:oe.loaded};oe.lengthComputable&&(ve.total=oe.total),"text"===d.responseType&&!!C.responseText&&(ve.partialText=C.responseText),v.next(ve)},ee=oe=>{let ve={type:ei.UploadProgress,loaded:oe.loaded};oe.lengthComputable&&(ve.total=oe.total),v.next(ve)};return C.addEventListener("load",M),C.addEventListener("error",L),C.addEventListener("timeout",L),C.addEventListener("abort",L),d.reportProgress&&(C.addEventListener("progress",X),null!==_&&C.upload&&C.upload.addEventListener("progress",ee)),C.send(_),v.next({type:ei.Sent}),()=>{C.removeEventListener("error",L),C.removeEventListener("abort",L),C.removeEventListener("load",M),C.removeEventListener("timeout",L),d.reportProgress&&(C.removeEventListener("progress",X),null!==_&&C.upload&&C.upload.removeEventListener("progress",ee)),C.readyState!==C.DONE&&C.abort()}})}}return a.\u0275fac=function(d){return new(d||a)(st(Bx))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();const UP=new yt("XSRF_COOKIE_NAME"),zP=new yt("XSRF_HEADER_NAME");class pM{}let jN=(()=>{class a{constructor(d,v,C){this.doc=d,this.platform=v,this.cookieName=C,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const d=this.doc.cookie||"";return d!==this.lastCookieString&&(this.parseCount++,this.lastToken=x_(d,this.cookieName),this.lastCookieString=d),this.lastToken}}return a.\u0275fac=function(d){return new(d||a)(st(Uo),st(ap),st(UP))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),$P=(()=>{class a{constructor(d,v){this.tokenService=d,this.headerName=v}intercept(d,v){const C=d.url.toLowerCase();if("GET"===d.method||"HEAD"===d.method||C.startsWith("http://")||C.startsWith("https://"))return v.handle(d);const _=this.tokenService.getToken();return null!==_&&!d.headers.has(this.headerName)&&(d=d.clone({headers:d.headers.set(this.headerName,_)})),v.handle(d)}}return a.\u0275fac=function(d){return new(d||a)(st(pM),st(zP))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),UN=(()=>{class a{constructor(d,v){this.backend=d,this.injector=v,this.chain=null}handle(d){if(null===this.chain){const v=this.injector.get(uM,[]);this.chain=v.reduceRight((C,_)=>new lM(C,_),this.backend)}return this.chain.handle(d)}}return a.\u0275fac=function(d){return new(d||a)(st(eM),st(Yn))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),zN=(()=>{class a{static disable(){return{ngModule:a,providers:[{provide:$P,useClass:BN}]}}static withOptions(d={}){return{ngModule:a,providers:[d.cookieName?{provide:UP,useValue:d.cookieName}:[],d.headerName?{provide:zP,useValue:d.headerName}:[]]}}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({providers:[$P,{provide:uM,useExisting:$P,multi:!0},{provide:pM,useClass:jN},{provide:UP,useValue:"XSRF-TOKEN"},{provide:zP,useValue:"X-XSRF-TOKEN"}]}),a})(),$N=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({providers:[aM,{provide:Jx,useClass:UN},cM,{provide:eM,useExisting:cM}],imports:[[zN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),a})();class ju extends aa{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const d=super._subscribe(p);return!d.closed&&p.next(this._value),d}getValue(){const{hasError:p,thrownError:d,_value:v}=this;if(p)throw d;return this._throwIfClosed(),v}next(p){super.next(this._value=p)}}const{isArray:KN}=Array,{getPrototypeOf:YN,prototype:qN,keys:XN}=Object;function dM(a){if(1===a.length){const p=a[0];if(KN(p))return{args:p,keys:null};if(function ZN(a){return a&&"object"==typeof a&&YN(a)===qN}(p)){const d=XN(p);return{args:d.map(v=>p[v]),keys:d}}}return{args:a,keys:null}}const{isArray:QN}=Array;function hM(a){return Gt(p=>function JN(a,p){return QN(p)?a(...p):a(p)}(a,p))}function fM(a,p){return a.reduce((d,v,C)=>(d[v]=p[C],d),{})}function gM(a,p,d){a?nr(d,a,p):p()}function $D(a,p){const d=re(a)?a:()=>a,v=C=>C.error(d());return new vr(p?C=>p.schedule(v,0,C):v)}const KD=b(a=>function(){a(this),this.name="EmptyError",this.message="no elements in sequence"});function KP(...a){return function rL(){return Za(1)}()(Yr(a,qu(a)))}function vM(a){return new vr(p=>{wo(a()).subscribe(p)})}function yM(){return $r((a,p)=>{let d=null;a._refCount++;const v=Kr(p,void 0,void 0,void 0,()=>{if(!a||a._refCount<=0||0<--a._refCount)return void(d=null);const C=a._connection,_=d;d=null,C&&(!_||C===_)&&C.unsubscribe(),p.unsubscribe()});a.subscribe(v),v.closed||(d=a.connect())})}class nL extends vr{constructor(p,d){super(),this.source=p,this.subjectFactory=d,this._subject=null,this._refCount=0,this._connection=null,og(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,null==p||p.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new xr;const d=this.getSubject();p.add(this.source.subscribe(Kr(d,void 0,()=>{this._teardown(),d.complete()},v=>{this._teardown(),d.error(v)},()=>this._teardown()))),p.closed&&(this._connection=null,p=xr.EMPTY)}return p}refCount(){return yM()(this)}}function Jy(a,p){return $r((d,v)=>{let C=null,_=0,O=!1;const R=()=>O&&!C&&v.complete();d.subscribe(Kr(v,M=>{null==C||C.unsubscribe();let L=0;const V=_++;wo(a(M,V)).subscribe(C=Kr(v,X=>v.next(p?p(M,X,V,L++):X),()=>{C=null,R()}))},()=>{O=!0,R()}))})}function oL(a,p,d,v,C){return(_,O)=>{let R=d,M=p,L=0;_.subscribe(Kr(O,V=>{const X=L++;M=R?a(M,V,X):(R=!0,V),v&&O.next(M)},C&&(()=>{R&&O.next(M),O.complete()})))}}function mM(a,p){return $r(oL(a,p,arguments.length>=2,!0))}function Jf(a){return $r((p,d)=>{let _,v=null,C=!1;v=p.subscribe(Kr(d,void 0,void 0,O=>{_=wo(a(O,Jf(a)(p))),v?(v.unsubscribe(),v=null,_.subscribe(d)):C=!0})),C&&(v.unsubscribe(),v=null,_.subscribe(d))})}function YP(a){return a<=0?()=>qo:$r((p,d)=>{let v=[];p.subscribe(Kr(d,C=>{v.push(C),a<v.length&&v.shift()},()=>{for(const C of v)d.next(C);d.complete()},void 0,()=>{v=null}))})}function CM(a=sL){return $r((p,d)=>{let v=!1;p.subscribe(Kr(d,C=>{v=!0,d.next(C)},()=>v?d.complete():d.error(a())))})}function sL(){return new KD}function wM(a){return $r((p,d)=>{let v=!1;p.subscribe(Kr(d,C=>{v=!0,d.next(C)},()=>{v||d.next(a),d.complete()}))})}function k_(a,p){const d=arguments.length>=2;return v=>v.pipe(a?Qy((C,_)=>a(C,_,v)):ws,ne(1),d?wM(p):CM(()=>new KD))}function $a(a,p,d){const v=re(a)||p||d?{next:a,error:p,complete:d}:a;return v?$r((C,_)=>{var O;null===(O=v.subscribe)||void 0===O||O.call(v);let R=!0;C.subscribe(Kr(_,M=>{var L;null===(L=v.next)||void 0===L||L.call(v,M),_.next(M)},()=>{var M;R=!1,null===(M=v.complete)||void 0===M||M.call(v),_.complete()},M=>{var L;R=!1,null===(L=v.error)||void 0===L||L.call(v,M),_.error(M)},()=>{var M,L;R&&(null===(M=v.unsubscribe)||void 0===M||M.call(v)),null===(L=v.finalize)||void 0===L||L.call(v)}))}):ws}class th{constructor(p,d){this.id=p,this.url=d}}class qP extends th{constructor(p,d,v="imperative",C=null){super(p,d),this.navigationTrigger=v,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class WE extends th{constructor(p,d,v){super(p,d),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _M extends th{constructor(p,d,v){super(p,d),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class uL extends th{constructor(p,d,v){super(p,d),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cL extends th{constructor(p,d,v,C){super(p,d),this.urlAfterRedirects=v,this.state=C}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pL extends th{constructor(p,d,v,C){super(p,d),this.urlAfterRedirects=v,this.state=C}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dL extends th{constructor(p,d,v,C,_){super(p,d),this.urlAfterRedirects=v,this.state=C,this.shouldActivate=_}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hL extends th{constructor(p,d,v,C){super(p,d),this.urlAfterRedirects=v,this.state=C}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fL extends th{constructor(p,d,v,C){super(p,d),this.urlAfterRedirects=v,this.state=C}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SM{constructor(p){this.route=p}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bM{constructor(p){this.route=p}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gL{constructor(p){this.snapshot=p}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vL{constructor(p){this.snapshot=p}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yL{constructor(p){this.snapshot=p}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mL{constructor(p){this.snapshot=p}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EM{constructor(p,d,v){this.routerEvent=p,this.position=d,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yt="primary";class CL{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const d=this.params[p];return Array.isArray(d)?d[0]:d}return null}getAll(p){if(this.has(p)){const d=this.params[p];return Array.isArray(d)?d:[d]}return[]}get keys(){return Object.keys(this.params)}}function V_(a){return new CL(a)}const OM="ngNavigationCancelingError";function XP(a){const p=Error("NavigationCancelingError: "+a);return p[OM]=!0,p}function _L(a,p,d){const v=d.path.split("/");if(v.length>a.length||"full"===d.pathMatch&&(p.hasChildren()||v.length<a.length))return null;const C={};for(let _=0;_<v.length;_++){const O=v[_],R=a[_];if(O.startsWith(":"))C[O.substring(1)]=R;else if(O!==R.path)return null}return{consumed:a.slice(0,v.length),posParams:C}}function cp(a,p){const d=a?Object.keys(a):void 0,v=p?Object.keys(p):void 0;if(!d||!v||d.length!=v.length)return!1;let C;for(let _=0;_<d.length;_++)if(C=d[_],!DM(a[C],p[C]))return!1;return!0}function DM(a,p){if(Array.isArray(a)&&Array.isArray(p)){if(a.length!==p.length)return!1;const d=[...a].sort(),v=[...p].sort();return d.every((C,_)=>v[_]===C)}return a===p}function RM(a){return Array.prototype.concat.apply([],a)}function AM(a){return a.length>0?a[a.length-1]:null}function Co(a,p){for(const d in a)a.hasOwnProperty(d)&&p(a[d],d)}function pp(a){return cy(a)?a:Fu(a)?Yr(Promise.resolve(a)):Lt(a)}const EL={exact:function xM(a,p,d){if(!tm(a.segments,p.segments)||!YD(a.segments,p.segments,d)||a.numberOfChildren!==p.numberOfChildren)return!1;for(const v in p.children)if(!a.children[v]||!xM(a.children[v],p.children[v],d))return!1;return!0},subset:MM},PM={exact:function OL(a,p){return cp(a,p)},subset:function DL(a,p){return Object.keys(p).length<=Object.keys(a).length&&Object.keys(p).every(d=>DM(a[d],p[d]))},ignored:()=>!0};function TM(a,p,d){return EL[d.paths](a.root,p.root,d.matrixParams)&&PM[d.queryParams](a.queryParams,p.queryParams)&&!("exact"===d.fragment&&a.fragment!==p.fragment)}function MM(a,p,d){return FM(a,p,p.segments,d)}function FM(a,p,d,v){if(a.segments.length>d.length){const C=a.segments.slice(0,d.length);return!(!tm(C,d)||p.hasChildren()||!YD(C,d,v))}if(a.segments.length===d.length){if(!tm(a.segments,d)||!YD(a.segments,d,v))return!1;for(const C in p.children)if(!a.children[C]||!MM(a.children[C],p.children[C],v))return!1;return!0}{const C=d.slice(0,a.segments.length),_=d.slice(a.segments.length);return!!(tm(a.segments,C)&&YD(a.segments,C,v)&&a.children[Yt])&&FM(a.children[Yt],p,_,v)}}function YD(a,p,d){return p.every((v,C)=>PM[d](a[C].parameters,v.parameters))}class em{constructor(p,d,v){this.root=p,this.queryParams=d,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=V_(this.queryParams)),this._queryParamMap}toString(){return PL.serialize(this)}}class Qt{constructor(p,d){this.segments=p,this.children=d,this.parent=null,Co(d,(v,C)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qD(this)}}class jE{constructor(p,d){this.path=p,this.parameters=d}get parameterMap(){return this._parameterMap||(this._parameterMap=V_(this.parameters)),this._parameterMap}toString(){return kM(this)}}function tm(a,p){return a.length===p.length&&a.every((d,v)=>d.path===p[v].path)}class IM{}class NM{parse(p){const d=new kL(p);return new em(d.parseRootSegment(),d.parseQueryParams(),d.parseFragment())}serialize(p){const d=`/${UE(p.root,!0)}`,v=function ML(a){const p=Object.keys(a).map(d=>{const v=a[d];return Array.isArray(v)?v.map(C=>`${XD(d)}=${XD(C)}`).join("&"):`${XD(d)}=${XD(v)}`}).filter(d=>!!d);return p.length?`?${p.join("&")}`:""}(p.queryParams);return`${d}${v}${"string"==typeof p.fragment?`#${function TL(a){return encodeURI(a)}(p.fragment)}`:""}`}}const PL=new NM;function qD(a){return a.segments.map(p=>kM(p)).join("/")}function UE(a,p){if(!a.hasChildren())return qD(a);if(p){const d=a.children[Yt]?UE(a.children[Yt],!1):"",v=[];return Co(a.children,(C,_)=>{_!==Yt&&v.push(`${_}:${UE(C,!1)}`)}),v.length>0?`${d}(${v.join("//")})`:d}{const d=function AL(a,p){let d=[];return Co(a.children,(v,C)=>{C===Yt&&(d=d.concat(p(v,C)))}),Co(a.children,(v,C)=>{C!==Yt&&(d=d.concat(p(v,C)))}),d}(a,(v,C)=>C===Yt?[UE(a.children[Yt],!1)]:[`${C}:${UE(v,!1)}`]);return 1===Object.keys(a.children).length&&null!=a.children[Yt]?`${qD(a)}/${d[0]}`:`${qD(a)}/(${d.join("//")})`}}function LM(a){return encodeURIComponent(a).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function XD(a){return LM(a).replace(/%3B/gi,";")}function ZP(a){return LM(a).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ZD(a){return decodeURIComponent(a)}function GM(a){return ZD(a.replace(/\+/g,"%20"))}function kM(a){return`${ZP(a.path)}${function xL(a){return Object.keys(a).map(p=>`;${ZP(p)}=${ZP(a[p])}`).join("")}(a.parameters)}`}const FL=/^[^\/()?;=#]+/;function QD(a){const p=a.match(FL);return p?p[0]:""}const IL=/^[^=?&#]+/,LL=/^[^&#]+/;class kL{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let d={};this.peekStartsWith("/(")&&(this.capture("/"),d=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(p.length>0||Object.keys(d).length>0)&&(v[Yt]=new Qt(p,d)),v}parseSegment(){const p=QD(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(p),new jE(ZD(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const d=QD(this.remaining);if(!d)return;this.capture(d);let v="";if(this.consumeOptional("=")){const C=QD(this.remaining);C&&(v=C,this.capture(v))}p[ZD(d)]=ZD(v)}parseQueryParam(p){const d=function NL(a){const p=a.match(IL);return p?p[0]:""}(this.remaining);if(!d)return;this.capture(d);let v="";if(this.consumeOptional("=")){const O=function GL(a){const p=a.match(LL);return p?p[0]:""}(this.remaining);O&&(v=O,this.capture(v))}const C=GM(d),_=GM(v);if(p.hasOwnProperty(C)){let O=p[C];Array.isArray(O)||(O=[O],p[C]=O),O.push(_)}else p[C]=_}parseParens(p){const d={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=QD(this.remaining),C=this.remaining[v.length];if("/"!==C&&")"!==C&&";"!==C)throw new Error(`Cannot parse url '${this.url}'`);let _;v.indexOf(":")>-1?(_=v.substr(0,v.indexOf(":")),this.capture(_),this.capture(":")):p&&(_=Yt);const O=this.parseChildren();d[_]=1===Object.keys(O).length?O[Yt]:new Qt([],O),this.consumeOptional("//")}return d}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new Error(`Expected "${p}".`)}}class VM{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const d=this.pathFromRoot(p);return d.length>1?d[d.length-2]:null}children(p){const d=QP(p,this._root);return d?d.children.map(v=>v.value):[]}firstChild(p){const d=QP(p,this._root);return d&&d.children.length>0?d.children[0].value:null}siblings(p){const d=JP(p,this._root);return d.length<2?[]:d[d.length-2].children.map(C=>C.value).filter(C=>C!==p)}pathFromRoot(p){return JP(p,this._root).map(d=>d.value)}}function QP(a,p){if(a===p.value)return p;for(const d of p.children){const v=QP(a,d);if(v)return v}return null}function JP(a,p){if(a===p.value)return[p];for(const d of p.children){const v=JP(a,d);if(v.length)return v.unshift(p),v}return[]}class rh{constructor(p,d){this.value=p,this.children=d}toString(){return`TreeNode(${this.value})`}}function B_(a){const p={};return a&&a.children.forEach(d=>p[d.value.outlet]=d),p}class BM extends VM{constructor(p,d){super(p),this.snapshot=d,eT(this,p)}toString(){return this.snapshot.toString()}}function HM(a,p){const d=function VL(a,p){const O=new JD([],{},{},"",{},Yt,p,null,a.root,-1,{});return new jM("",new rh(O,[]))}(a,p),v=new ju([new jE("",{})]),C=new ju({}),_=new ju({}),O=new ju({}),R=new ju(""),M=new H_(v,C,O,R,_,Yt,p,d.root);return M.snapshot=d.root,new BM(new rh(M,[]),d)}class H_{constructor(p,d,v,C,_,O,R,M){this.url=p,this.params=d,this.queryParams=v,this.fragment=C,this.data=_,this.outlet=O,this.component=R,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Gt(p=>V_(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Gt(p=>V_(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WM(a,p="emptyOnly"){const d=a.pathFromRoot;let v=0;if("always"!==p)for(v=d.length-1;v>=1;){const C=d[v],_=d[v-1];if(C.routeConfig&&""===C.routeConfig.path)v--;else{if(_.component)break;v--}}return function BL(a){return a.reduce((p,d)=>({params:Object.assign(Object.assign({},p.params),d.params),data:Object.assign(Object.assign({},p.data),d.data),resolve:Object.assign(Object.assign({},p.resolve),d._resolvedData)}),{params:{},data:{},resolve:{}})}(d.slice(v))}class JD{constructor(p,d,v,C,_,O,R,M,L,V,X){this.url=p,this.params=d,this.queryParams=v,this.fragment=C,this.data=_,this.outlet=O,this.component=R,this.routeConfig=M,this._urlSegment=L,this._lastPathIndex=V,this._resolve=X}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=V_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=V_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class jM extends VM{constructor(p,d){super(d),this.url=p,eT(this,d)}toString(){return UM(this._root)}}function eT(a,p){p.value._routerState=a,p.children.forEach(d=>eT(a,d))}function UM(a){const p=a.children.length>0?` { ${a.children.map(UM).join(", ")} } `:"";return`${a.value}${p}`}function tT(a){if(a.snapshot){const p=a.snapshot,d=a._futureSnapshot;a.snapshot=d,cp(p.queryParams,d.queryParams)||a.queryParams.next(d.queryParams),p.fragment!==d.fragment&&a.fragment.next(d.fragment),cp(p.params,d.params)||a.params.next(d.params),function SL(a,p){if(a.length!==p.length)return!1;for(let d=0;d<a.length;++d)if(!cp(a[d],p[d]))return!1;return!0}(p.url,d.url)||a.url.next(d.url),cp(p.data,d.data)||a.data.next(d.data)}else a.snapshot=a._futureSnapshot,a.data.next(a._futureSnapshot.data)}function rT(a,p){const d=cp(a.params,p.params)&&function RL(a,p){return tm(a,p)&&a.every((d,v)=>cp(d.parameters,p[v].parameters))}(a.url,p.url);return d&&!(!a.parent!=!p.parent)&&(!a.parent||rT(a.parent,p.parent))}function zE(a,p,d){if(d&&a.shouldReuseRoute(p.value,d.value.snapshot)){const v=d.value;v._futureSnapshot=p.value;const C=function WL(a,p,d){return p.children.map(v=>{for(const C of d.children)if(a.shouldReuseRoute(v.value,C.value.snapshot))return zE(a,v,C);return zE(a,v)})}(a,p,d);return new rh(v,C)}{if(a.shouldAttach(p.value)){const _=a.retrieve(p.value);if(null!==_){const O=_.route;return O.value._futureSnapshot=p.value,O.children=p.children.map(R=>zE(a,R)),O}}const v=function jL(a){return new H_(new ju(a.url),new ju(a.params),new ju(a.queryParams),new ju(a.fragment),new ju(a.data),a.outlet,a.component,a)}(p.value),C=p.children.map(_=>zE(a,_));return new rh(v,C)}}function eR(a){return"object"==typeof a&&null!=a&&!a.outlets&&!a.segmentPath}function $E(a){return"object"==typeof a&&null!=a&&a.outlets}function nT(a,p,d,v,C){let _={};if(v&&Co(v,(R,M)=>{_[M]=Array.isArray(R)?R.map(L=>`${L}`):`${R}`}),a===p)return new em(d,_,C);const O=zM(a,p,d);return new em(O,_,C)}function zM(a,p,d){const v={};return Co(a.children,(C,_)=>{v[_]=C===p?d:zM(C,p,d)}),new Qt(a.segments,v)}class $M{constructor(p,d,v){if(this.isAbsolute=p,this.numberOfDoubleDots=d,this.commands=v,p&&v.length>0&&eR(v[0]))throw new Error("Root segment cannot have matrix parameters");const C=v.find($E);if(C&&C!==AM(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class iT{constructor(p,d,v){this.segmentGroup=p,this.processChildren=d,this.index=v}}function KM(a,p,d){if(a||(a=new Qt([],{})),0===a.segments.length&&a.hasChildren())return tR(a,p,d);const v=function qL(a,p,d){let v=0,C=p;const _={match:!1,pathIndex:0,commandIndex:0};for(;C<a.segments.length;){if(v>=d.length)return _;const O=a.segments[C],R=d[v];if($E(R))break;const M=`${R}`,L=v<d.length-1?d[v+1]:null;if(C>0&&void 0===M)break;if(M&&L&&"object"==typeof L&&void 0===L.outlets){if(!qM(M,L,O))return _;v+=2}else{if(!qM(M,{},O))return _;v++}C++}return{match:!0,pathIndex:C,commandIndex:v}}(a,p,d),C=d.slice(v.commandIndex);if(v.match&&v.pathIndex<a.segments.length){const _=new Qt(a.segments.slice(0,v.pathIndex),{});return _.children[Yt]=new Qt(a.segments.slice(v.pathIndex),a.children),tR(_,0,C)}return v.match&&0===C.length?new Qt(a.segments,{}):v.match&&!a.hasChildren()?oT(a,p,d):v.match?tR(a,0,C):oT(a,p,d)}function tR(a,p,d){if(0===d.length)return new Qt(a.segments,{});{const v=function YL(a){return $E(a[0])?a[0].outlets:{[Yt]:a}}(d),C={};return Co(v,(_,O)=>{"string"==typeof _&&(_=[_]),null!==_&&(C[O]=KM(a.children[O],p,_))}),Co(a.children,(_,O)=>{void 0===v[O]&&(C[O]=_)}),new Qt(a.segments,C)}}function oT(a,p,d){const v=a.segments.slice(0,p);let C=0;for(;C<d.length;){const _=d[C];if($E(_)){const M=XL(_.outlets);return new Qt(v,M)}if(0===C&&eR(d[0])){v.push(new jE(a.segments[p].path,YM(d[0]))),C++;continue}const O=$E(_)?_.outlets[Yt]:`${_}`,R=C<d.length-1?d[C+1]:null;O&&R&&eR(R)?(v.push(new jE(O,YM(R))),C+=2):(v.push(new jE(O,{})),C++)}return new Qt(v,{})}function XL(a){const p={};return Co(a,(d,v)=>{"string"==typeof d&&(d=[d]),null!==d&&(p[v]=oT(new Qt([],{}),0,d))}),p}function YM(a){const p={};return Co(a,(d,v)=>p[v]=`${d}`),p}function qM(a,p,d){return a==d.path&&cp(p,d.parameters)}class QL{constructor(p,d,v,C){this.routeReuseStrategy=p,this.futureState=d,this.currState=v,this.forwardEvent=C}activate(p){const d=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(d,v,p),tT(this.futureState.root),this.activateChildRoutes(d,v,p)}deactivateChildRoutes(p,d,v){const C=B_(d);p.children.forEach(_=>{const O=_.value.outlet;this.deactivateRoutes(_,C[O],v),delete C[O]}),Co(C,(_,O)=>{this.deactivateRouteAndItsChildren(_,v)})}deactivateRoutes(p,d,v){const C=p.value,_=d?d.value:null;if(C===_)if(C.component){const O=v.getContext(C.outlet);O&&this.deactivateChildRoutes(p,d,O.children)}else this.deactivateChildRoutes(p,d,v);else _&&this.deactivateRouteAndItsChildren(d,v)}deactivateRouteAndItsChildren(p,d){p.value.component&&this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,d):this.deactivateRouteAndOutlet(p,d)}detachAndStoreRouteSubtree(p,d){const v=d.getContext(p.value.outlet),C=v&&p.value.component?v.children:d,_=B_(p);for(const O of Object.keys(_))this.deactivateRouteAndItsChildren(_[O],C);if(v&&v.outlet){const O=v.outlet.detach(),R=v.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:O,route:p,contexts:R})}}deactivateRouteAndOutlet(p,d){const v=d.getContext(p.value.outlet),C=v&&p.value.component?v.children:d,_=B_(p);for(const O of Object.keys(_))this.deactivateRouteAndItsChildren(_[O],C);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(p,d,v){const C=B_(d);p.children.forEach(_=>{this.activateRoutes(_,C[_.value.outlet],v),this.forwardEvent(new mL(_.value.snapshot))}),p.children.length&&this.forwardEvent(new vL(p.value.snapshot))}activateRoutes(p,d,v){const C=p.value,_=d?d.value:null;if(tT(C),C===_)if(C.component){const O=v.getOrCreateContext(C.outlet);this.activateChildRoutes(p,d,O.children)}else this.activateChildRoutes(p,d,v);else if(C.component){const O=v.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const R=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),O.children.onOutletReAttached(R.contexts),O.attachRef=R.componentRef,O.route=R.route.value,O.outlet&&O.outlet.attach(R.componentRef,R.route.value),tT(R.route.value),this.activateChildRoutes(p,null,O.children)}else{const R=function JL(a){for(let p=a.parent;p;p=p.parent){const d=p.routeConfig;if(d&&d._loadedConfig)return d._loadedConfig;if(d&&d.component)return null}return null}(C.snapshot),M=R?R.module.componentFactoryResolver:null;O.attachRef=null,O.route=C,O.resolver=M,O.outlet&&O.outlet.activateWith(C,M),this.activateChildRoutes(p,null,O.children)}}else this.activateChildRoutes(p,null,v)}}class sT{constructor(p,d){this.routes=p,this.module=d}}function eg(a){return"function"==typeof a}function rm(a){return a instanceof em}const KE=Symbol("INITIAL_VALUE");function YE(){return Jy(a=>function eL(...a){const p=qu(a),d=Yu(a),{args:v,keys:C}=dM(a);if(0===v.length)return Yr([],p);const _=new vr(function tL(a,p,d=ws){return v=>{gM(p,()=>{const{length:C}=a,_=new Array(C);let O=C,R=C;for(let M=0;M<C;M++)gM(p,()=>{const L=Yr(a[M],p);let V=!1;L.subscribe(Kr(v,X=>{_[M]=X,V||(V=!0,R--),R||v.next(d(_.slice()))},()=>{--O||v.complete()}))},v)},v)}}(v,p,C?O=>fM(C,O):ws));return d?_.pipe(hM(d)):_}(a.map(p=>p.pipe(ne(1),function iL(...a){const p=qu(a);return $r((d,v)=>{(p?KP(a,d,p):KP(a,d)).subscribe(v)})}(KE)))).pipe(mM((p,d)=>{let v=!1;return d.reduce((C,_,O)=>C!==KE?C:(_===KE&&(v=!0),v||!1!==_&&O!==d.length-1&&!rm(_)?C:_),p)},KE),Qy(p=>p!==KE),Gt(p=>rm(p)?p:!0===p),ne(1)))}class oG{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new qE,this.attachRef=null}}class qE{constructor(){this.contexts=new Map}onChildOutletCreated(p,d){const v=this.getOrCreateContext(p);v.outlet=d,this.contexts.set(p,v)}onChildOutletDestroyed(p){const d=this.getContext(p);d&&(d.outlet=null,d.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let d=this.getContext(p);return d||(d=new oG,this.contexts.set(p,d)),d}getContext(p){return this.contexts.get(p)||null}}let aT=(()=>{class a{constructor(d,v,C,_,O){this.parentContexts=d,this.location=v,this.resolver=C,this.changeDetector=O,this.activated=null,this._activatedRoute=null,this.activateEvents=new me,this.deactivateEvents=new me,this.attachEvents=new me,this.detachEvents=new me,this.name=_||Yt,d.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const d=this.parentContexts.getContext(this.name);d&&d.route&&(d.attachRef?this.attach(d.attachRef,d.route):this.activateWith(d.route,d.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const d=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(d.instance),d}attach(d,v){this.activated=d,this._activatedRoute=v,this.location.insert(d.hostView),this.attachEvents.emit(d.instance)}deactivate(){if(this.activated){const d=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(d)}}activateWith(d,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=d;const O=(v=v||this.resolver).resolveComponentFactory(d._futureSnapshot.routeConfig.component),R=this.parentContexts.getOrCreateContext(this.name).children,M=new sG(d,R,this.location.injector);this.activated=this.location.createComponent(O,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return a.\u0275fac=function(d){return new(d||a)(Ve(qE),Ve(Ho),Ve(tp),Ip("name"),Ve(y_))},a.\u0275dir=Ct({type:a,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),a})();class sG{constructor(p,d,v){this.route=p,this.childContexts=d,this.parent=v}get(p,d){return p===H_?this.route:p===qE?this.childContexts:this.parent.get(p,d)}}let XM=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=Yi({type:a,selectors:[["ng-component"]],decls:1,vars:0,template:function(d,v){1&d&&jt(0,"router-outlet")},directives:[aT],encapsulation:2}),a})();function ZM(a,p=""){for(let d=0;d<a.length;d++){const v=a[d];aG(v,lG(p,v))}}function aG(a,p){a.children&&ZM(a.children,p)}function lG(a,p){return p?a||p.path?a&&!p.path?`${a}/`:!a&&p.path?p.path:`${a}/${p.path}`:"":a}function lT(a){const p=a.children&&a.children.map(lT),d=p?Object.assign(Object.assign({},a),{children:p}):Object.assign({},a);return!d.component&&(p||d.loadChildren)&&d.outlet&&d.outlet!==Yt&&(d.component=XM),d}function Wl(a){return a.outlet||Yt}function QM(a,p){const d=a.filter(v=>Wl(v)===p);return d.push(...a.filter(v=>Wl(v)!==p)),d}const JM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function rR(a,p,d){var v;if(""===p.path)return"full"===p.pathMatch&&(a.hasChildren()||d.length>0)?Object.assign({},JM):{matched:!0,consumedSegments:[],remainingSegments:d,parameters:{},positionalParamSegments:{}};const _=(p.matcher||_L)(d,a,p);if(!_)return Object.assign({},JM);const O={};Co(_.posParams,(M,L)=>{O[L]=M.path});const R=_.consumed.length>0?Object.assign(Object.assign({},O),_.consumed[_.consumed.length-1].parameters):O;return{matched:!0,consumedSegments:_.consumed,remainingSegments:d.slice(_.consumed.length),parameters:R,positionalParamSegments:null!==(v=_.posParams)&&void 0!==v?v:{}}}function nR(a,p,d,v,C="corrected"){if(d.length>0&&function pG(a,p,d){return d.some(v=>iR(a,p,v)&&Wl(v)!==Yt)}(a,d,v)){const O=new Qt(p,function cG(a,p,d,v){const C={};C[Yt]=v,v._sourceSegment=a,v._segmentIndexShift=p.length;for(const _ of d)if(""===_.path&&Wl(_)!==Yt){const O=new Qt([],{});O._sourceSegment=a,O._segmentIndexShift=p.length,C[Wl(_)]=O}return C}(a,p,v,new Qt(d,a.children)));return O._sourceSegment=a,O._segmentIndexShift=p.length,{segmentGroup:O,slicedSegments:[]}}if(0===d.length&&function dG(a,p,d){return d.some(v=>iR(a,p,v))}(a,d,v)){const O=new Qt(a.segments,function uG(a,p,d,v,C,_){const O={};for(const R of v)if(iR(a,d,R)&&!C[Wl(R)]){const M=new Qt([],{});M._sourceSegment=a,M._segmentIndexShift="legacy"===_?a.segments.length:p.length,O[Wl(R)]=M}return Object.assign(Object.assign({},C),O)}(a,p,d,v,a.children,C));return O._sourceSegment=a,O._segmentIndexShift=p.length,{segmentGroup:O,slicedSegments:d}}const _=new Qt(a.segments,a.children);return _._sourceSegment=a,_._segmentIndexShift=p.length,{segmentGroup:_,slicedSegments:d}}function iR(a,p,d){return(!(a.hasChildren()||p.length>0)||"full"!==d.pathMatch)&&""===d.path}function eF(a,p,d,v){return!!(Wl(a)===v||v!==Yt&&iR(p,d,a))&&("**"===a.path||rR(p,a,d).matched)}function tF(a,p,d){return 0===p.length&&!a.children[d]}class oR{constructor(p){this.segmentGroup=p||null}}class rF{constructor(p){this.urlTree=p}}function XE(a){return $D(new oR(a))}function nF(a){return $D(new rF(a))}class vG{constructor(p,d,v,C,_){this.configLoader=d,this.urlSerializer=v,this.urlTree=C,this.config=_,this.allowRedirects=!0,this.ngModule=p.get(Bu)}apply(){const p=nR(this.urlTree.root,[],[],this.config).segmentGroup,d=new Qt(p.segments,p.children);return this.expandSegmentGroup(this.ngModule,this.config,d,Yt).pipe(Gt(_=>this.createUrlTree(uT(_),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Jf(_=>{if(_ instanceof rF)return this.allowRedirects=!1,this.match(_.urlTree);throw _ instanceof oR?this.noMatchError(_):_}))}match(p){return this.expandSegmentGroup(this.ngModule,this.config,p.root,Yt).pipe(Gt(C=>this.createUrlTree(uT(C),p.queryParams,p.fragment))).pipe(Jf(C=>{throw C instanceof oR?this.noMatchError(C):C}))}noMatchError(p){return new Error(`Cannot match any routes. URL Segment: '${p.segmentGroup}'`)}createUrlTree(p,d,v){const C=p.segments.length>0?new Qt([],{[Yt]:p}):p;return new em(C,d,v)}expandSegmentGroup(p,d,v,C){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(p,d,v).pipe(Gt(_=>new Qt([],_))):this.expandSegment(p,v,d,v.segments,C,!0)}expandChildren(p,d,v){const C=[];for(const _ of Object.keys(v.children))"primary"===_?C.unshift(_):C.push(_);return Yr(C).pipe(G_(_=>{const O=v.children[_],R=QM(d,_);return this.expandSegmentGroup(p,R,O,_).pipe(Gt(M=>({segment:M,outlet:_})))}),mM((_,O)=>(_[O.outlet]=O.segment,_),{}),function aL(a,p){const d=arguments.length>=2;return v=>v.pipe(a?Qy((C,_)=>a(C,_,v)):ws,YP(1),d?wM(p):CM(()=>new KD))}())}expandSegment(p,d,v,C,_,O){return Yr(v).pipe(G_(R=>this.expandSegmentAgainstRoute(p,d,v,R,C,_,O).pipe(Jf(L=>{if(L instanceof oR)return Lt(null);throw L}))),k_(R=>!!R),Jf((R,M)=>{if(R instanceof KD||"EmptyError"===R.name)return tF(d,C,_)?Lt(new Qt([],{})):XE(d);throw R}))}expandSegmentAgainstRoute(p,d,v,C,_,O,R){return eF(C,d,_,O)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(p,d,C,_,O):R&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,d,v,C,_,O):XE(d):XE(d)}expandSegmentAgainstRouteUsingRedirect(p,d,v,C,_,O){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,v,C,O):this.expandRegularSegmentAgainstRouteUsingRedirect(p,d,v,C,_,O)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,d,v,C){const _=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?nF(_):this.lineralizeSegments(v,_).pipe(bn(O=>{const R=new Qt(O,{});return this.expandSegment(p,R,d,O,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,d,v,C,_,O){const{matched:R,consumedSegments:M,remainingSegments:L,positionalParamSegments:V}=rR(d,C,_);if(!R)return XE(d);const X=this.applyRedirectCommands(M,C.redirectTo,V);return C.redirectTo.startsWith("/")?nF(X):this.lineralizeSegments(C,X).pipe(bn(ee=>this.expandSegment(p,d,v,ee.concat(L),O,!1)))}matchSegmentAgainstRoute(p,d,v,C,_){if("**"===v.path)return v.loadChildren?(v._loadedConfig?Lt(v._loadedConfig):this.configLoader.load(p.injector,v)).pipe(Gt(X=>(v._loadedConfig=X,new Qt(C,{})))):Lt(new Qt(C,{}));const{matched:O,consumedSegments:R,remainingSegments:M}=rR(d,v,C);return O?this.getChildConfig(p,v,C).pipe(bn(V=>{const X=V.module,ee=V.routes,{segmentGroup:oe,slicedSegments:ve}=nR(d,R,M,ee),Me=new Qt(oe.segments,oe.children);if(0===ve.length&&Me.hasChildren())return this.expandChildren(X,ee,Me).pipe(Gt(ct=>new Qt(R,ct)));if(0===ee.length&&0===ve.length)return Lt(new Qt(R,{}));const Ue=Wl(v)===_;return this.expandSegment(X,Me,ee,ve,Ue?Yt:_,!0).pipe(Gt(Pe=>new Qt(R.concat(Pe.segments),Pe.children)))})):XE(d)}getChildConfig(p,d,v){return d.children?Lt(new sT(d.children,p)):d.loadChildren?void 0!==d._loadedConfig?Lt(d._loadedConfig):this.runCanLoadGuards(p.injector,d,v).pipe(bn(C=>C?this.configLoader.load(p.injector,d).pipe(Gt(_=>(d._loadedConfig=_,_))):function fG(a){return $D(XP(`Cannot load children because the guard of the route "path: '${a.path}'" returned false`))}(d))):Lt(new sT([],p))}runCanLoadGuards(p,d,v){const C=d.canLoad;return C&&0!==C.length?Lt(C.map(O=>{const R=p.get(O);let M;if(function tG(a){return a&&eg(a.canLoad)}(R))M=R.canLoad(d,v);else{if(!eg(R))throw new Error("Invalid CanLoad guard");M=R(d,v)}return pp(M)})).pipe(YE(),$a(O=>{if(!rm(O))return;const R=XP(`Redirecting to "${this.urlSerializer.serialize(O)}"`);throw R.url=O,R}),Gt(O=>!0===O)):Lt(!0)}lineralizeSegments(p,d){let v=[],C=d.root;for(;;){if(v=v.concat(C.segments),0===C.numberOfChildren)return Lt(v);if(C.numberOfChildren>1||!C.children[Yt])return $D(new Error(`Only absolute redirects can have named outlets. redirectTo: '${p.redirectTo}'`));C=C.children[Yt]}}applyRedirectCommands(p,d,v){return this.applyRedirectCreatreUrlTree(d,this.urlSerializer.parse(d),p,v)}applyRedirectCreatreUrlTree(p,d,v,C){const _=this.createSegmentGroup(p,d.root,v,C);return new em(_,this.createQueryParams(d.queryParams,this.urlTree.queryParams),d.fragment)}createQueryParams(p,d){const v={};return Co(p,(C,_)=>{if("string"==typeof C&&C.startsWith(":")){const R=C.substring(1);v[_]=d[R]}else v[_]=C}),v}createSegmentGroup(p,d,v,C){const _=this.createSegments(p,d.segments,v,C);let O={};return Co(d.children,(R,M)=>{O[M]=this.createSegmentGroup(p,R,v,C)}),new Qt(_,O)}createSegments(p,d,v,C){return d.map(_=>_.path.startsWith(":")?this.findPosParam(p,_,C):this.findOrReturn(_,v))}findPosParam(p,d,v){const C=v[d.path.substring(1)];if(!C)throw new Error(`Cannot redirect to '${p}'. Cannot find '${d.path}'.`);return C}findOrReturn(p,d){let v=0;for(const C of d){if(C.path===p.path)return d.splice(v),C;v++}return p}}function uT(a){const p={};for(const v of Object.keys(a.children)){const _=uT(a.children[v]);(_.segments.length>0||_.hasChildren())&&(p[v]=_)}return function yG(a){if(1===a.numberOfChildren&&a.children[Yt]){const p=a.children[Yt];return new Qt(a.segments.concat(p.segments),p.children)}return a}(new Qt(a.segments,p))}class iF{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class sR{constructor(p,d){this.component=p,this.route=d}}function CG(a,p,d){const v=a._root;return ZE(v,p?p._root:null,d,[v.value])}function aR(a,p,d){const v=function _G(a){if(!a)return null;for(let p=a.parent;p;p=p.parent){const d=p.routeConfig;if(d&&d._loadedConfig)return d._loadedConfig}return null}(p);return(v?v.module.injector:d).get(a)}function ZE(a,p,d,v,C={canDeactivateChecks:[],canActivateChecks:[]}){const _=B_(p);return a.children.forEach(O=>{(function SG(a,p,d,v,C={canDeactivateChecks:[],canActivateChecks:[]}){const _=a.value,O=p?p.value:null,R=d?d.getContext(a.value.outlet):null;if(O&&_.routeConfig===O.routeConfig){const M=function bG(a,p,d){if("function"==typeof d)return d(a,p);switch(d){case"pathParamsChange":return!tm(a.url,p.url);case"pathParamsOrQueryParamsChange":return!tm(a.url,p.url)||!cp(a.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!rT(a,p)||!cp(a.queryParams,p.queryParams);default:return!rT(a,p)}}(O,_,_.routeConfig.runGuardsAndResolvers);M?C.canActivateChecks.push(new iF(v)):(_.data=O.data,_._resolvedData=O._resolvedData),ZE(a,p,_.component?R?R.children:null:d,v,C),M&&R&&R.outlet&&R.outlet.isActivated&&C.canDeactivateChecks.push(new sR(R.outlet.component,O))}else O&&QE(p,R,C),C.canActivateChecks.push(new iF(v)),ZE(a,null,_.component?R?R.children:null:d,v,C)})(O,_[O.value.outlet],d,v.concat([O.value]),C),delete _[O.value.outlet]}),Co(_,(O,R)=>QE(O,d.getContext(R),C)),C}function QE(a,p,d){const v=B_(a),C=a.value;Co(v,(_,O)=>{QE(_,C.component?p?p.children.getContext(O):null:p,d)}),d.canDeactivateChecks.push(new sR(C.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,C))}class MG{}function oF(a){return new vr(p=>p.error(a))}class IG{constructor(p,d,v,C,_,O){this.rootComponentType=p,this.config=d,this.urlTree=v,this.url=C,this.paramsInheritanceStrategy=_,this.relativeLinkResolution=O}recognize(){const p=nR(this.urlTree.root,[],[],this.config.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution).segmentGroup,d=this.processSegmentGroup(this.config,p,Yt);if(null===d)return null;const v=new JD([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yt,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new rh(v,d),_=new jM(this.url,C);return this.inheritParamsAndData(_._root),_}inheritParamsAndData(p){const d=p.value,v=WM(d,this.paramsInheritanceStrategy);d.params=Object.freeze(v.params),d.data=Object.freeze(v.data),p.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(p,d,v){return 0===d.segments.length&&d.hasChildren()?this.processChildren(p,d):this.processSegment(p,d,d.segments,v)}processChildren(p,d){const v=[];for(const _ of Object.keys(d.children)){const O=d.children[_],R=QM(p,_),M=this.processSegmentGroup(R,O,_);if(null===M)return null;v.push(...M)}const C=sF(v);return function NG(a){a.sort((p,d)=>p.value.outlet===Yt?-1:d.value.outlet===Yt?1:p.value.outlet.localeCompare(d.value.outlet))}(C),C}processSegment(p,d,v,C){for(const _ of p){const O=this.processSegmentAgainstRoute(_,d,v,C);if(null!==O)return O}return tF(d,v,C)?[]:null}processSegmentAgainstRoute(p,d,v,C){if(p.redirectTo||!eF(p,d,v,C))return null;let _,O=[],R=[];if("**"===p.path){const oe=v.length>0?AM(v).parameters:{};_=new JD(v,oe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uF(p),Wl(p),p.component,p,aF(d),lF(d)+v.length,cF(p))}else{const oe=rR(d,p,v);if(!oe.matched)return null;O=oe.consumedSegments,R=oe.remainingSegments,_=new JD(O,oe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uF(p),Wl(p),p.component,p,aF(d),lF(d)+O.length,cF(p))}const M=function LG(a){return a.children?a.children:a.loadChildren?a._loadedConfig.routes:[]}(p),{segmentGroup:L,slicedSegments:V}=nR(d,O,R,M.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution);if(0===V.length&&L.hasChildren()){const oe=this.processChildren(M,L);return null===oe?null:[new rh(_,oe)]}if(0===M.length&&0===V.length)return[new rh(_,[])];const X=Wl(p)===C,ee=this.processSegment(M,L,V,X?Yt:C);return null===ee?null:[new rh(_,ee)]}}function GG(a){const p=a.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function sF(a){const p=[],d=new Set;for(const v of a){if(!GG(v)){p.push(v);continue}const C=p.find(_=>v.value.routeConfig===_.value.routeConfig);void 0!==C?(C.children.push(...v.children),d.add(C)):p.push(v)}for(const v of d){const C=sF(v.children);p.push(new rh(v.value,C))}return p.filter(v=>!d.has(v))}function aF(a){let p=a;for(;p._sourceSegment;)p=p._sourceSegment;return p}function lF(a){let p=a,d=p._segmentIndexShift?p._segmentIndexShift:0;for(;p._sourceSegment;)p=p._sourceSegment,d+=p._segmentIndexShift?p._segmentIndexShift:0;return d-1}function uF(a){return a.data||{}}function cF(a){return a.resolve||{}}function pF(a){return[...Object.keys(a),...Object.getOwnPropertySymbols(a)]}function cT(a){return Jy(p=>{const d=a(p);return d?Yr(d).pipe(Gt(()=>p)):Lt(p)})}class zG extends class UG{shouldDetach(p){return!1}store(p,d){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,d){return p.routeConfig===d.routeConfig}}{}const pT=new yt("ROUTES");class dF{constructor(p,d,v,C){this.injector=p,this.compiler=d,this.onLoadStartListener=v,this.onLoadEndListener=C}load(p,d){if(d._loader$)return d._loader$;this.onLoadStartListener&&this.onLoadStartListener(d);const C=this.loadModuleFactory(d.loadChildren).pipe(Gt(_=>{this.onLoadEndListener&&this.onLoadEndListener(d);const O=_.create(p);return new sT(RM(O.injector.get(pT,void 0,lt.Self|lt.Optional)).map(lT),O)}),Jf(_=>{throw d._loader$=void 0,_}));return d._loader$=new nL(C,()=>new aa).pipe(yM()),d._loader$}loadModuleFactory(p){return pp(p()).pipe(bn(d=>d instanceof ds?Lt(d):Yr(this.compiler.compileModuleAsync(d))))}}class KG{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,d){return p}}function YG(a){throw a}function qG(a,p,d){return p.parse("/")}function hF(a,p){return Lt(null)}const XG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ka=(()=>{class a{constructor(d,v,C,_,O,R,M){this.rootComponentType=d,this.urlSerializer=v,this.rootContexts=C,this.location=_,this.config=M,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new aa,this.errorHandler=YG,this.malformedUriErrorHandler=qG,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hF,afterPreactivation:hF},this.urlHandlingStrategy=new KG,this.routeReuseStrategy=new zG,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=O.get(Bu),this.console=O.get(nP);const X=O.get(Dn);this.isNgZoneEnabled=X instanceof Dn&&Dn.isInAngularZone(),this.resetConfig(M),this.currentUrlTree=function bL(){return new em(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new dF(O,R,ee=>this.triggerEvent(new SM(ee)),ee=>this.triggerEvent(new bM(ee))),this.routerState=HM(this.currentUrlTree,this.rootComponentType),this.transitions=new ju({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var d;return null===(d=this.location.getState())||void 0===d?void 0:d.\u0275routerPageId}setupNavigations(d){const v=this.events;return d.pipe(Qy(C=>0!==C.id),Gt(C=>Object.assign(Object.assign({},C),{extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),Jy(C=>{let _=!1,O=!1;return Lt(C).pipe($a(R=>{this.currentNavigation={id:R.id,initialUrl:R.currentRawUrl,extractedUrl:R.extractedUrl,trigger:R.source,extras:R.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Jy(R=>{const M=this.browserUrlTree.toString(),L=!this.navigated||R.extractedUrl.toString()!==M||M!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||L)&&this.urlHandlingStrategy.shouldProcessUrl(R.rawUrl))return fF(R.source)&&(this.browserUrlTree=R.extractedUrl),Lt(R).pipe(Jy(X=>{const ee=this.transitions.getValue();return v.next(new qP(X.id,this.serializeUrl(X.extractedUrl),X.source,X.restoredState)),ee!==this.transitions.getValue()?qo:Promise.resolve(X)}),function mG(a,p,d,v){return Jy(C=>function gG(a,p,d,v,C){return new vG(a,p,d,v,C).apply()}(a,p,d,C.extractedUrl,v).pipe(Gt(_=>Object.assign(Object.assign({},C),{urlAfterRedirects:_}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),$a(X=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:X.urlAfterRedirects})}),function kG(a,p,d,v,C){return bn(_=>function FG(a,p,d,v,C="emptyOnly",_="legacy"){try{const O=new IG(a,p,d,v,C,_).recognize();return null===O?oF(new MG):Lt(O)}catch(O){return oF(O)}}(a,p,_.urlAfterRedirects,d(_.urlAfterRedirects),v,C).pipe(Gt(O=>Object.assign(Object.assign({},_),{targetSnapshot:O}))))}(this.rootComponentType,this.config,X=>this.serializeUrl(X),this.paramsInheritanceStrategy,this.relativeLinkResolution),$a(X=>{if("eager"===this.urlUpdateStrategy){if(!X.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl);this.setBrowserUrl(oe,X)}this.browserUrlTree=X.urlAfterRedirects}const ee=new cL(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);v.next(ee)}));if(L&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:ee,extractedUrl:oe,source:ve,restoredState:Me,extras:Ue}=R,We=new qP(ee,this.serializeUrl(oe),ve,Me);v.next(We);const Pe=HM(oe,this.rootComponentType).snapshot;return Lt(Object.assign(Object.assign({},R),{targetSnapshot:Pe,urlAfterRedirects:oe,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=R.rawUrl,R.resolve(null),qo}),cT(R=>{const{targetSnapshot:M,id:L,extractedUrl:V,rawUrl:X,extras:{skipLocationChange:ee,replaceUrl:oe}}=R;return this.hooks.beforePreactivation(M,{navigationId:L,appliedUrlTree:V,rawUrlTree:X,skipLocationChange:!!ee,replaceUrl:!!oe})}),$a(R=>{const M=new pL(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);this.triggerEvent(M)}),Gt(R=>Object.assign(Object.assign({},R),{guards:CG(R.targetSnapshot,R.currentSnapshot,this.rootContexts)})),function EG(a,p){return bn(d=>{const{targetSnapshot:v,currentSnapshot:C,guards:{canActivateChecks:_,canDeactivateChecks:O}}=d;return 0===O.length&&0===_.length?Lt(Object.assign(Object.assign({},d),{guardsResult:!0})):function OG(a,p,d,v){return Yr(a).pipe(bn(C=>function xG(a,p,d,v,C){const _=p&&p.routeConfig?p.routeConfig.canDeactivate:null;return _&&0!==_.length?Lt(_.map(R=>{const M=aR(R,p,C);let L;if(function iG(a){return a&&eg(a.canDeactivate)}(M))L=pp(M.canDeactivate(a,p,d,v));else{if(!eg(M))throw new Error("Invalid CanDeactivate guard");L=pp(M(a,p,d,v))}return L.pipe(k_())})).pipe(YE()):Lt(!0)}(C.component,C.route,d,p,v)),k_(C=>!0!==C,!0))}(O,v,C,a).pipe(bn(R=>R&&function eG(a){return"boolean"==typeof a}(R)?function DG(a,p,d,v){return Yr(p).pipe(G_(C=>KP(function AG(a,p){return null!==a&&p&&p(new gL(a)),Lt(!0)}(C.route.parent,v),function RG(a,p){return null!==a&&p&&p(new yL(a)),Lt(!0)}(C.route,v),function TG(a,p,d){const v=p[p.length-1],_=p.slice(0,p.length-1).reverse().map(O=>function wG(a){const p=a.routeConfig?a.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:a,guards:p}:null}(O)).filter(O=>null!==O).map(O=>vM(()=>Lt(O.guards.map(M=>{const L=aR(M,O.node,d);let V;if(function nG(a){return a&&eg(a.canActivateChild)}(L))V=pp(L.canActivateChild(v,a));else{if(!eg(L))throw new Error("Invalid CanActivateChild guard");V=pp(L(v,a))}return V.pipe(k_())})).pipe(YE())));return Lt(_).pipe(YE())}(a,C.path,d),function PG(a,p,d){const v=p.routeConfig?p.routeConfig.canActivate:null;if(!v||0===v.length)return Lt(!0);const C=v.map(_=>vM(()=>{const O=aR(_,p,d);let R;if(function rG(a){return a&&eg(a.canActivate)}(O))R=pp(O.canActivate(p,a));else{if(!eg(O))throw new Error("Invalid CanActivate guard");R=pp(O(p,a))}return R.pipe(k_())}));return Lt(C).pipe(YE())}(a,C.route,d))),k_(C=>!0!==C,!0))}(v,_,a,p):Lt(R)),Gt(R=>Object.assign(Object.assign({},d),{guardsResult:R})))})}(this.ngModule.injector,R=>this.triggerEvent(R)),$a(R=>{if(rm(R.guardsResult)){const L=XP(`Redirecting to "${this.serializeUrl(R.guardsResult)}"`);throw L.url=R.guardsResult,L}const M=new dL(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot,!!R.guardsResult);this.triggerEvent(M)}),Qy(R=>!!R.guardsResult||(this.restoreHistory(R),this.cancelNavigationTransition(R,""),!1)),cT(R=>{if(R.guards.canActivateChecks.length)return Lt(R).pipe($a(M=>{const L=new hL(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(L)}),Jy(M=>{let L=!1;return Lt(M).pipe(function VG(a,p){return bn(d=>{const{targetSnapshot:v,guards:{canActivateChecks:C}}=d;if(!C.length)return Lt(d);let _=0;return Yr(C).pipe(G_(O=>function BG(a,p,d,v){return function HG(a,p,d,v){const C=pF(a);if(0===C.length)return Lt({});const _={};return Yr(C).pipe(bn(O=>function WG(a,p,d,v){const C=aR(a,p,v);return pp(C.resolve?C.resolve(p,d):C(p,d))}(a[O],p,d,v).pipe($a(R=>{_[O]=R}))),YP(1),bn(()=>pF(_).length===C.length?Lt(_):qo))}(a._resolve,a,p,v).pipe(Gt(_=>(a._resolvedData=_,a.data=Object.assign(Object.assign({},a.data),WM(a,d).resolve),null)))}(O.route,v,a,p)),$a(()=>_++),YP(1),bn(O=>_===C.length?Lt(d):qo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),$a({next:()=>L=!0,complete:()=>{L||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),$a(M=>{const L=new fL(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(L)}))}),cT(R=>{const{targetSnapshot:M,id:L,extractedUrl:V,rawUrl:X,extras:{skipLocationChange:ee,replaceUrl:oe}}=R;return this.hooks.afterPreactivation(M,{navigationId:L,appliedUrlTree:V,rawUrlTree:X,skipLocationChange:!!ee,replaceUrl:!!oe})}),Gt(R=>{const M=function HL(a,p,d){const v=zE(a,p._root,d?d._root:void 0);return new BM(v,p)}(this.routeReuseStrategy,R.targetSnapshot,R.currentRouterState);return Object.assign(Object.assign({},R),{targetRouterState:M})}),$a(R=>{this.currentUrlTree=R.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl),this.routerState=R.targetRouterState,"deferred"===this.urlUpdateStrategy&&(R.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,R),this.browserUrlTree=R.urlAfterRedirects)}),((a,p,d)=>Gt(v=>(new QL(p,v.targetRouterState,v.currentRouterState,d).activate(a),v)))(this.rootContexts,this.routeReuseStrategy,R=>this.triggerEvent(R)),$a({next(){_=!0},complete(){_=!0}}),function lL(a){return $r((p,d)=>{try{p.subscribe(d)}finally{d.add(a)}})}(()=>{var R;_||O||this.cancelNavigationTransition(C,`Navigation ID ${C.id} is not equal to the current navigation id ${this.navigationId}`),(null===(R=this.currentNavigation)||void 0===R?void 0:R.id)===C.id&&(this.currentNavigation=null)}),Jf(R=>{if(O=!0,function wL(a){return a&&a[OM]}(R)){const M=rm(R.url);M||(this.navigated=!0,this.restoreHistory(C,!0));const L=new _M(C.id,this.serializeUrl(C.extractedUrl),R.message);v.next(L),M?setTimeout(()=>{const V=this.urlHandlingStrategy.merge(R.url,this.rawUrlTree),X={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fF(C.source)};this.scheduleNavigation(V,"imperative",null,X,{resolve:C.resolve,reject:C.reject,promise:C.promise})},0):C.resolve(!1)}else{this.restoreHistory(C,!0);const M=new uL(C.id,this.serializeUrl(C.extractedUrl),R);v.next(M);try{C.resolve(this.errorHandler(R))}catch(L){C.reject(L)}}return qo}))}))}resetRootComponentType(d){this.rootComponentType=d,this.routerState.root.component=this.rootComponentType}setTransition(d){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),d))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(d=>{const v="popstate"===d.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var C;const _={replaceUrl:!0},O=(null===(C=d.state)||void 0===C?void 0:C.navigationId)?d.state:null;if(O){const M=Object.assign({},O);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(_.state=M)}const R=this.parseUrl(d.url);this.scheduleNavigation(R,v,O,_)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(d){this.events.next(d)}resetConfig(d){ZM(d),this.config=d.map(lT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(d,v={}){const{relativeTo:C,queryParams:_,fragment:O,queryParamsHandling:R,preserveFragment:M}=v,L=C||this.routerState.root,V=M?this.currentUrlTree.fragment:O;let X=null;switch(R){case"merge":X=Object.assign(Object.assign({},this.currentUrlTree.queryParams),_);break;case"preserve":X=this.currentUrlTree.queryParams;break;default:X=_||null}return null!==X&&(X=this.removeEmptyProps(X)),function UL(a,p,d,v,C){if(0===d.length)return nT(p.root,p.root,p.root,v,C);const _=function zL(a){if("string"==typeof a[0]&&1===a.length&&"/"===a[0])return new $M(!0,0,a);let p=0,d=!1;const v=a.reduce((C,_,O)=>{if("object"==typeof _&&null!=_){if(_.outlets){const R={};return Co(_.outlets,(M,L)=>{R[L]="string"==typeof M?M.split("/"):M}),[...C,{outlets:R}]}if(_.segmentPath)return[...C,_.segmentPath]}return"string"!=typeof _?[...C,_]:0===O?(_.split("/").forEach((R,M)=>{0==M&&"."===R||(0==M&&""===R?d=!0:".."===R?p++:""!=R&&C.push(R))}),C):[...C,_]},[]);return new $M(d,p,v)}(d);if(_.toRoot())return nT(p.root,p.root,new Qt([],{}),v,C);const O=function $L(a,p,d){if(a.isAbsolute)return new iT(p.root,!0,0);if(-1===d.snapshot._lastPathIndex){const _=d.snapshot._urlSegment;return new iT(_,_===p.root,0)}const v=eR(a.commands[0])?0:1;return function KL(a,p,d){let v=a,C=p,_=d;for(;_>C;){if(_-=C,v=v.parent,!v)throw new Error("Invalid number of '../'");C=v.segments.length}return new iT(v,!1,C-_)}(d.snapshot._urlSegment,d.snapshot._lastPathIndex+v,a.numberOfDoubleDots)}(_,p,a),R=O.processChildren?tR(O.segmentGroup,O.index,_.commands):KM(O.segmentGroup,O.index,_.commands);return nT(p.root,O.segmentGroup,R,v,C)}(L,this.currentUrlTree,d,X,null!=V?V:null)}navigateByUrl(d,v={skipLocationChange:!1}){const C=rm(d)?d:this.parseUrl(d),_=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(_,"imperative",null,v)}navigate(d,v={skipLocationChange:!1}){return function QG(a){for(let p=0;p<a.length;p++){const d=a[p];if(null==d)throw new Error(`The requested path contains ${d} segment at index ${p}`)}}(d),this.navigateByUrl(this.createUrlTree(d,v),v)}serializeUrl(d){return this.urlSerializer.serialize(d)}parseUrl(d){let v;try{v=this.urlSerializer.parse(d)}catch(C){v=this.malformedUriErrorHandler(C,this.urlSerializer,d)}return v}isActive(d,v){let C;if(C=!0===v?Object.assign({},XG):!1===v?Object.assign({},ZG):v,rm(d))return TM(this.currentUrlTree,d,C);const _=this.parseUrl(d);return TM(this.currentUrlTree,_,C)}removeEmptyProps(d){return Object.keys(d).reduce((v,C)=>{const _=d[C];return null!=_&&(v[C]=_),v},{})}processNavigations(){this.navigations.subscribe(d=>{this.navigated=!0,this.lastSuccessfulId=d.id,this.currentPageId=d.targetPageId,this.events.next(new WE(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,d.resolve(!0)},d=>{this.console.warn(`Unhandled Navigation Error: ${d}`)})}scheduleNavigation(d,v,C,_,O){var R,M;if(this.disposed)return Promise.resolve(!1);let L,V,X;O?(L=O.resolve,V=O.reject,X=O.promise):X=new Promise((ve,Me)=>{L=ve,V=Me});const ee=++this.navigationId;let oe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),oe=C&&C.\u0275routerPageId?C.\u0275routerPageId:_.replaceUrl||_.skipLocationChange?null!==(R=this.browserPageId)&&void 0!==R?R:0:(null!==(M=this.browserPageId)&&void 0!==M?M:0)+1):oe=0,this.setTransition({id:ee,targetPageId:oe,source:v,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:d,extras:_,resolve:L,reject:V,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(ve=>Promise.reject(ve))}setBrowserUrl(d,v){const C=this.urlSerializer.serialize(d),_=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(C)||v.extras.replaceUrl?this.location.replaceState(C,"",_):this.location.go(C,"",_)}restoreHistory(d,v=!1){var C,_;if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-d.targetPageId;"popstate"!==d.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)||0===O?this.currentUrlTree===(null===(_=this.currentNavigation)||void 0===_?void 0:_.finalUrl)&&0===O&&(this.resetState(d),this.browserUrlTree=d.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(d),this.resetUrlToCurrentUrlTree())}resetState(d){this.routerState=d.currentRouterState,this.currentUrlTree=d.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,d.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(d,v){const C=new _M(d.id,this.serializeUrl(d.extractedUrl),v);this.triggerEvent(C),d.resolve(!1)}generateNgRouterState(d,v){return"computed"===this.canceledNavigationResolution?{navigationId:d,\u0275routerPageId:v}:{navigationId:d}}}return a.\u0275fac=function(d){Kc()},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();function fF(a){return"imperative"!==a}let dT=(()=>{class a{constructor(d,v,C,_,O){this.router=d,this.route=v,this.tabIndexAttribute=C,this.renderer=_,this.el=O,this.commands=null,this.onChanges=new aa,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(d){if(null!=this.tabIndexAttribute)return;const v=this.renderer,C=this.el.nativeElement;null!==d?v.setAttribute(C,"tabindex",d):v.removeAttribute(C,"tabindex")}ngOnChanges(d){this.onChanges.next(this)}set routerLink(d){null!=d?(this.commands=Array.isArray(d)?d:[d],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const d={skipLocationChange:j_(this.skipLocationChange),replaceUrl:j_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:j_(this.preserveFragment)})}}return a.\u0275fac=function(d){return new(d||a)(Ve(Ka),Ve(H_),Ip("tabindex"),Ve(ku),Ve(mi))},a.\u0275dir=Ct({type:a,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(d,v){1&d&&Xn("click",function(){return v.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Zi]}),a})(),W_=(()=>{class a{constructor(d,v,C){this.router=d,this.route=v,this.locationStrategy=C,this.commands=null,this.href=null,this.onChanges=new aa,this.subscription=d.events.subscribe(_=>{_ instanceof WE&&this.updateTargetUrlAndHref()})}set routerLink(d){this.commands=null!=d?Array.isArray(d)?d:[d]:null}ngOnChanges(d){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(d,v,C,_,O){if(0!==d||v||C||_||O||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const R={skipLocationChange:j_(this.skipLocationChange),replaceUrl:j_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,R),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:j_(this.preserveFragment)})}}return a.\u0275fac=function(d){return new(d||a)(Ve(Ka),Ve(H_),Ve(Xd))},a.\u0275dir=Ct({type:a,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(d,v){1&d&&Xn("click",function(_){return v.onClick(_.button,_.ctrlKey,_.shiftKey,_.altKey,_.metaKey)}),2&d&&qn("target",v.target)("href",v.href,nv)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Zi]}),a})();function j_(a){return""===a||!!a}let lR=(()=>{class a{constructor(d,v,C,_,O,R){this.router=d,this.element=v,this.renderer=C,this.cdr=_,this.link=O,this.linkWithHref=R,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new me,this.routerEventsSubscription=d.events.subscribe(M=>{M instanceof WE&&this.update()})}ngAfterContentInit(){Lt(this.links.changes,this.linksWithHrefs.changes,Lt(null)).pipe(Za()).subscribe(d=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var d;null===(d=this.linkInputChangesSubscription)||void 0===d||d.unsubscribe();const v=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=Yr(v).pipe(Za()).subscribe(C=>{this.isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(d){const v=Array.isArray(d)?d:d.split(" ");this.classes=v.filter(C=>!!C)}ngOnChanges(d){this.update()}ngOnDestroy(){var d;this.routerEventsSubscription.unsubscribe(),null===(d=this.linkInputChangesSubscription)||void 0===d||d.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const d=this.hasActiveLinks();this.isActive!==d&&(this.isActive=d,this.cdr.markForCheck(),this.classes.forEach(v=>{d?this.renderer.addClass(this.element.nativeElement,v):this.renderer.removeClass(this.element.nativeElement,v)}),this.isActiveChange.emit(d))})}isLinkActive(d){const v=function JG(a){return!!a.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return C=>!!C.urlTree&&d.isActive(C.urlTree,v)}hasActiveLinks(){const d=this.isLinkActive(this.router);return this.link&&d(this.link)||this.linkWithHref&&d(this.linkWithHref)||this.links.some(d)||this.linksWithHrefs.some(d)}}return a.\u0275fac=function(d){return new(d||a)(Ve(Ka),Ve(mi),Ve(ku),Ve(y_),Ve(dT,8),Ve(W_,8))},a.\u0275dir=Ct({type:a,selectors:[["","routerLinkActive",""]],contentQueries:function(d,v,C){if(1&d&&(Ly(C,dT,5),Ly(C,W_,5)),2&d){let _;Hf(_=Gy())&&(v.links=_),Hf(_=Gy())&&(v.linksWithHrefs=_)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Zi]}),a})();class gF{}class vF{preload(p,d){return Lt(null)}}let yF=(()=>{class a{constructor(d,v,C,_){this.router=d,this.injector=C,this.preloadingStrategy=_,this.loader=new dF(C,v,M=>d.triggerEvent(new SM(M)),M=>d.triggerEvent(new bM(M)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qy(d=>d instanceof WE),G_(()=>this.preload())).subscribe(()=>{})}preload(){const d=this.injector.get(Bu);return this.processRoutes(d,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(d,v){const C=[];for(const _ of v)if(_.loadChildren&&!_.canLoad&&_._loadedConfig){const O=_._loadedConfig;C.push(this.processRoutes(O.module,O.routes))}else _.loadChildren&&!_.canLoad?C.push(this.preloadConfig(d,_)):_.children&&C.push(this.processRoutes(d,_.children));return Yr(C).pipe(Za(),Gt(_=>{}))}preloadConfig(d,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?Lt(v._loadedConfig):this.loader.load(d.injector,v)).pipe(bn(_=>(v._loadedConfig=_,this.processRoutes(_.module,_.routes)))))}}return a.\u0275fac=function(d){return new(d||a)(st(Ka),st(cE),st(Yn),st(gF))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})(),hT=(()=>{class a{constructor(d,v,C={}){this.router=d,this.viewportScroller=v,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(d=>{d instanceof qP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=d.navigationTrigger,this.restoredId=d.restoredState?d.restoredState.navigationId:0):d instanceof WE&&(this.lastId=d.id,this.scheduleScrollEvent(d,this.router.parseUrl(d.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(d=>{d instanceof EM&&(d.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(d.position):d.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(d.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(d,v){this.router.triggerEvent(new EM(d,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return a.\u0275fac=function(d){Kc()},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();const nm=new yt("ROUTER_CONFIGURATION"),mF=new yt("ROUTER_FORROOT_GUARD"),t1=[SE,{provide:IM,useClass:NM},{provide:Ka,useFactory:function s1(a,p,d,v,C,_,O={},R,M){const L=new Ka(null,a,p,d,v,C,RM(_));return R&&(L.urlHandlingStrategy=R),M&&(L.routeReuseStrategy=M),function a1(a,p){a.errorHandler&&(p.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(p.malformedUriErrorHandler=a.malformedUriErrorHandler),a.onSameUrlNavigation&&(p.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.relativeLinkResolution&&(p.relativeLinkResolution=a.relativeLinkResolution),a.urlUpdateStrategy&&(p.urlUpdateStrategy=a.urlUpdateStrategy),a.canceledNavigationResolution&&(p.canceledNavigationResolution=a.canceledNavigationResolution)}(O,L),O.enableTracing&&L.events.subscribe(V=>{var X,ee;null===(X=console.group)||void 0===X||X.call(console,`Router Event: ${V.constructor.name}`),console.log(V.toString()),console.log(V),null===(ee=console.groupEnd)||void 0===ee||ee.call(console)}),L},deps:[IM,qE,SE,Yn,cE,pT,nm,[class $G{},new ks],[class jG{},new ks]]},qE,{provide:H_,useFactory:function l1(a){return a.routerState.root},deps:[Ka]},yF,vF,class e1{preload(p,d){return d().pipe(Jf(()=>Lt(null)))}},{provide:nm,useValue:{enableTracing:!1}}];function r1(){return new f_("Router",Ka)}let CF=(()=>{class a{constructor(d,v){}static forRoot(d,v){return{ngModule:a,providers:[t1,wF(d),{provide:mF,useFactory:o1,deps:[[Ka,new ks,new Fi]]},{provide:nm,useValue:v||{}},{provide:Xd,useFactory:i1,deps:[qd,[new Vh(Wi),new ks],nm]},{provide:hT,useFactory:n1,deps:[Ka,qI,nm]},{provide:gF,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:vF},{provide:f_,multi:!0,useFactory:r1},[fT,{provide:Vy,multi:!0,useFactory:u1,deps:[fT]},{provide:_F,useFactory:c1,deps:[fT]},{provide:aD,multi:!0,useExisting:_F}]]}}static forChild(d){return{ngModule:a,providers:[wF(d)]}}}return a.\u0275fac=function(d){return new(d||a)(st(mF,8),st(Ka,8))},a.\u0275mod=fn({type:a}),a.\u0275inj=En({}),a})();function n1(a,p,d){return d.scrollOffset&&p.setOffset(d.scrollOffset),new hT(a,p,d)}function i1(a,p,d={}){return d.useHash?new ND(a,p):new ID(a,p)}function o1(a){return"guarded"}function wF(a){return[{provide:Np,multi:!0,useValue:a},{provide:pT,multi:!0,useValue:a}]}let fT=(()=>{class a{constructor(d){this.injector=d,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new aa}appInitializer(){return this.injector.get(PD,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const C=new Promise(R=>v=R),_=this.injector.get(Ka),O=this.injector.get(nm);return"disabled"===O.initialNavigation?(_.setUpLocationChangeListener(),v(!0)):"enabled"===O.initialNavigation||"enabledBlocking"===O.initialNavigation?(_.hooks.afterPreactivation=()=>this.initNavigation?Lt(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),_.initialNavigation()):v(!0),C})}bootstrapListener(d){const v=this.injector.get(nm),C=this.injector.get(yF),_=this.injector.get(hT),O=this.injector.get(Ka),R=this.injector.get(Hy);d===R.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&O.initialNavigation(),C.setUpPreloading(),_.init(),O.resetRootComponentType(R.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return a.\u0275fac=function(d){return new(d||a)(st(Yn))},a.\u0275prov=Rt({token:a,factory:a.\u0275fac}),a})();function u1(a){return a.appInitializer.bind(a)}function c1(a){return a.bootstrapListener.bind(a)}const _F=new yt("Router Initializer");function B(a,p,d,v){var O,C=arguments.length,_=C<3?p:null===v?v=Object.getOwnPropertyDescriptor(p,d):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)_=Reflect.decorate(a,p,d,v);else for(var R=a.length-1;R>=0;R--)(O=a[R])&&(_=(C<3?O(_):C>3?O(p,d,_):O(p,d))||_);return C>3&&_&&Object.defineProperty(p,d,_),_}function H(a,p){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,p)}ys(497);var vT,im=ys(564);let Ae=vT=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let p=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(p.children=this.getChildColDefs(this.childColumns)),p}getChildColDefs(p){return p.filter(d=>!d.hasChildColumns()).map(d=>d.toColDef())}createColDefFromGridColumn(p){return function d1(a,p){var d={};for(var v in a)Object.prototype.hasOwnProperty.call(a,v)&&p.indexOf(v)<0&&(d[v]=a[v]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols){var C=0;for(v=Object.getOwnPropertySymbols(a);C<v.length;C++)p.indexOf(v[C])<0&&Object.prototype.propertyIsEnumerable.call(a,v[C])&&(d[v[C]]=a[v[C]])}return d}(p,["childColumns"])}};Ae.\u0275fac=function(p){return new(p||Ae)},Ae.\u0275cmp=Yi({type:Ae,selectors:[["ag-grid-column"]],contentQueries:function(p,d,v){if(1&p&&Ly(v,vT,4),2&p){let C;Hf(C=Gy())&&(d.childColumns=C)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(p,d){},encapsulation:2}),B([Bg(vT),H("design:type",Iy)],Ae.prototype,"childColumns",void 0),B([$(),H("design:type",Object)],Ae.prototype,"filterFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"filterParams",void 0),B([$(),H("design:type",Object)],Ae.prototype,"floatingFilterComponent",void 0),B([$(),H("design:type",Object)],Ae.prototype,"floatingFilterComponentParams",void 0),B([$(),H("design:type",Object)],Ae.prototype,"floatingFilterComponentFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"floatingFilterFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"filter",void 0),B([$(),H("design:type",String)],Ae.prototype,"headerName",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerValueGetter",void 0),B([$(),H("design:type",String)],Ae.prototype,"headerTooltip",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerClass",void 0),B([$(),H("design:type",Function)],Ae.prototype,"suppressHeaderKeyboardEvent",void 0),B([$(),H("design:type",String)],Ae.prototype,"columnGroupShow",void 0),B([$(),H("design:type",Object)],Ae.prototype,"toolPanelClass",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressColumnsToolPanel",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressFiltersToolPanel",void 0),B([$(),H("design:type",Object)],Ae.prototype,"tooltipComponent",void 0),B([$(),H("design:type",Object)],Ae.prototype,"tooltipComponentFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"tooltipComponentParams",void 0),B([$(),H("design:type",Array)],Ae.prototype,"children",void 0),B([$(),H("design:type",String)],Ae.prototype,"groupId",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"openByDefault",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"marryChildren",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerGroupComponent",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerGroupComponentFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerGroupComponentParams",void 0),B([$(),H("design:type",String)],Ae.prototype,"colId",void 0),B([$(),H("design:type",String)],Ae.prototype,"field",void 0),B([$(),H("design:type",Object)],Ae.prototype,"type",void 0),B([$(),H("design:type",Object)],Ae.prototype,"valueGetter",void 0),B([$(),H("design:type",Object)],Ae.prototype,"valueFormatter",void 0),B([$(),H("design:type",Object)],Ae.prototype,"refData",void 0),B([$(),H("design:type",Function)],Ae.prototype,"keyCreator",void 0),B([$(),H("design:type",Function)],Ae.prototype,"equals",void 0),B([$(),H("design:type",String)],Ae.prototype,"tooltipField",void 0),B([$(),H("design:type",Function)],Ae.prototype,"tooltipValueGetter",void 0),B([$(),H("design:type",Object)],Ae.prototype,"checkboxSelection",void 0),B([$(),H("design:type",Object)],Ae.prototype,"icons",void 0),B([$(),H("design:type",Object)],Ae.prototype,"suppressNavigable",void 0),B([$(),H("design:type",Function)],Ae.prototype,"suppressKeyboardEvent",void 0),B([$(),H("design:type",Object)],Ae.prototype,"suppressPaste",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressFillHandle",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"hide",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"initialHide",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"lockVisible",void 0),B([$(),H("design:type",Object)],Ae.prototype,"lockPosition",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressMovable",void 0),B([$(),H("design:type",Object)],Ae.prototype,"editable",void 0),B([$(),H("design:type",Object)],Ae.prototype,"valueSetter",void 0),B([$(),H("design:type",Object)],Ae.prototype,"valueParser",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellEditor",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellEditorFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellEditorParams",void 0),B([$(),H("design:type",Function)],Ae.prototype,"cellEditorSelector",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"singleClickEdit",void 0),B([$(),H("design:type",Function)],Ae.prototype,"newValueHandler",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"cellEditorPopup",void 0),B([$(),H("design:type",String)],Ae.prototype,"cellEditorPopupPosition",void 0),B([$(),H("design:type",Function)],Ae.prototype,"onCellValueChanged",void 0),B([$(),H("design:type",Function)],Ae.prototype,"onCellClicked",void 0),B([$(),H("design:type",Function)],Ae.prototype,"onCellDoubleClicked",void 0),B([$(),H("design:type",Function)],Ae.prototype,"onCellContextMenu",void 0),B([$(),H("design:type",Function)],Ae.prototype,"getQuickFilterText",void 0),B([$(),H("design:type",Object)],Ae.prototype,"filterValueGetter",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"floatingFilter",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerComponent",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerComponentFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerComponentParams",void 0),B([$(),H("design:type",Array)],Ae.prototype,"menuTabs",void 0),B([$(),H("design:type",Object)],Ae.prototype,"columnsMenuParams",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressMenu",void 0),B([$(),H("design:type",Object)],Ae.prototype,"headerCheckboxSelection",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"headerCheckboxSelectionFilteredOnly",void 0),B([$(),H("design:type",String)],Ae.prototype,"chartDataType",void 0),B([$(),H("design:type",Object)],Ae.prototype,"pinned",void 0),B([$(),H("design:type",Object)],Ae.prototype,"initialPinned",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"lockPinned",void 0),B([$(),H("design:type",Object)],Ae.prototype,"pinnedRowCellRenderer",void 0),B([$(),H("design:type",Object)],Ae.prototype,"pinnedRowCellRendererFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"pinnedRowCellRendererParams",void 0),B([$(),H("design:type",Object)],Ae.prototype,"pinnedRowValueFormatter",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"pivot",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"initialPivot",void 0),B([$(),H("design:type",Number)],Ae.prototype,"pivotIndex",void 0),B([$(),H("design:type",Number)],Ae.prototype,"initialPivotIndex",void 0),B([$(),H("design:type",Function)],Ae.prototype,"pivotComparator",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"enablePivot",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellStyle",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellClass",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellClassRules",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellRenderer",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellRendererFramework",void 0),B([$(),H("design:type",Object)],Ae.prototype,"cellRendererParams",void 0),B([$(),H("design:type",Function)],Ae.prototype,"cellRendererSelector",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"autoHeight",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"wrapText",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"enableCellChangeFlash",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressCellFlash",void 0),B([$(),H("design:type",Object)],Ae.prototype,"rowDrag",void 0),B([$(),H("design:type",Function)],Ae.prototype,"rowDragText",void 0),B([$(),H("design:type",Object)],Ae.prototype,"dndSource",void 0),B([$(),H("design:type",Function)],Ae.prototype,"dndSourceOnRowDrag",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"rowGroup",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"initialRowGroup",void 0),B([$(),H("design:type",Number)],Ae.prototype,"rowGroupIndex",void 0),B([$(),H("design:type",Number)],Ae.prototype,"initialRowGroupIndex",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"enableRowGroup",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"enableValue",void 0),B([$(),H("design:type",Object)],Ae.prototype,"aggFunc",void 0),B([$(),H("design:type",Object)],Ae.prototype,"initialAggFunc",void 0),B([$(),H("design:type",Array)],Ae.prototype,"allowedAggFuncs",void 0),B([$(),H("design:type",Object)],Ae.prototype,"showRowGroup",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"sortable",void 0),B([$(),H("design:type",String)],Ae.prototype,"sort",void 0),B([$(),H("design:type",String)],Ae.prototype,"initialSort",void 0),B([$(),H("design:type",Number)],Ae.prototype,"sortIndex",void 0),B([$(),H("design:type",Number)],Ae.prototype,"initialSortIndex",void 0),B([$(),H("design:type",Array)],Ae.prototype,"sortingOrder",void 0),B([$(),H("design:type",Function)],Ae.prototype,"comparator",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"unSortIcon",void 0),B([$(),H("design:type",Number)],Ae.prototype,"sortedAt",void 0),B([$(),H("design:type",Function)],Ae.prototype,"colSpan",void 0),B([$(),H("design:type",Function)],Ae.prototype,"rowSpan",void 0),B([$(),H("design:type",Number)],Ae.prototype,"width",void 0),B([$(),H("design:type",Number)],Ae.prototype,"initialWidth",void 0),B([$(),H("design:type",Number)],Ae.prototype,"minWidth",void 0),B([$(),H("design:type",Number)],Ae.prototype,"maxWidth",void 0),B([$(),H("design:type",Number)],Ae.prototype,"flex",void 0),B([$(),H("design:type",Number)],Ae.prototype,"initialFlex",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"resizable",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressSizeToFit",void 0),B([$(),H("design:type",Boolean)],Ae.prototype,"suppressAutoSize",void 0);let yT=(()=>{let a=class extends im.VanillaFrameworkOverrides{constructor(d){super(),this._ngZone=d}setEmitterUsedCallback(d){this.isEmitterUsed=d}setTimeout(d,v){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{d()},v)}):window.setTimeout(()=>{d()},v)}setInterval(d,v){return new im.AgPromise(C=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{C(window.setInterval(()=>{d()},v))}):C(window.setInterval(()=>{d()},v))})}addEventListener(d,v,C,_){this.isOutsideAngular(v)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{d.addEventListener(v,C,_)}):d.addEventListener(v,C,_)}dispatchEvent(d,v,C=!1){this.isOutsideAngular(d)?this._ngZone?this._ngZone.runOutsideAngular(v):v():(this.isEmitterUsed(d)||C)&&(!Dn.isInAngularZone()&&this._ngZone?this._ngZone.run(v):v())}isFrameworkComponent(d){if(!d)return!1;const v=d.prototype;return v&&"agInit"in v}};return a.\u0275fac=function(d){return new(d||a)(st(Dn))},a.\u0275prov=Rt({token:a,factory:function(p){return a.\u0275fac(p)}}),a=B([H("design:paramtypes",[Dn])],a),a})(),mT=(()=>{let a=class extends im.BaseComponentWrapper{setViewContainerRef(d){this.viewContainerRef=d}setComponentFactoryResolver(d){this.componentFactoryResolver=d}createWrapper(d){let v=this,_=new class C extends class f1{init(p){this._params=p,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(R){super.init(R),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return v.createComponent(d)}hasMethod(R){return null!=_.getFrameworkComponentInstance()[R]}callMethod(R,M){const L=this.getFrameworkComponentInstance();return _.getFrameworkComponentInstance()[R].apply(L,M)}addMethod(R,M){_[R]=M}};return _}createComponent(d){let v=this.componentFactoryResolver.resolveComponentFactory(d);return this.viewContainerRef.createComponent(v)}};return a.\u0275fac=function(){let p;return function(v){return(p||(p=Fr(a)))(v||a)}}(),a.\u0275prov=Rt({token:a,factory:function(p){return a.\u0275fac(p)}}),a})(),g1=(()=>{let a=class{constructor(d,v,C,_,O){this.viewContainerRef=v,this.angularFrameworkOverrides=C,this.frameworkComponentWrapper=_,this.componentFactoryResolver=O,this._initialised=!1,this._destroyed=!1,this._fullyReady=im.AgPromise.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new me,this.pasteStart=new me,this.pasteEnd=new me,this.columnVisible=new me,this.columnPinned=new me,this.columnResized=new me,this.columnMoved=new me,this.columnValueChanged=new me,this.columnPivotModeChanged=new me,this.columnPivotChanged=new me,this.columnGroupOpened=new me,this.newColumnsLoaded=new me,this.gridColumnsChanged=new me,this.displayedColumnsChanged=new me,this.virtualColumnsChanged=new me,this.columnEverythingChanged=new me,this.componentStateChanged=new me,this.cellValueChanged=new me,this.cellEditRequest=new me,this.rowValueChanged=new me,this.cellEditingStarted=new me,this.cellEditingStopped=new me,this.rowEditingStarted=new me,this.rowEditingStopped=new me,this.filterOpened=new me,this.filterChanged=new me,this.filterModified=new me,this.chartCreated=new me,this.chartRangeSelectionChanged=new me,this.chartOptionsChanged=new me,this.chartDestroyed=new me,this.cellKeyDown=new me,this.cellKeyPress=new me,this.gridReady=new me,this.firstDataRendered=new me,this.gridSizeChanged=new me,this.modelUpdated=new me,this.virtualRowRemoved=new me,this.viewportChanged=new me,this.bodyScroll=new me,this.bodyScrollEnd=new me,this.dragStarted=new me,this.dragStopped=new me,this.paginationChanged=new me,this.rowDragEnter=new me,this.rowDragMove=new me,this.rowDragLeave=new me,this.rowDragEnd=new me,this.columnRowGroupChanged=new me,this.rowGroupOpened=new me,this.expandOrCollapseAll=new me,this.pinnedRowDataChanged=new me,this.rowDataChanged=new me,this.rowDataUpdated=new me,this.asyncTransactionsFlushed=new me,this.cellClicked=new me,this.cellDoubleClicked=new me,this.cellFocused=new me,this.cellMouseOver=new me,this.cellMouseOut=new me,this.cellMouseDown=new me,this.rowClicked=new me,this.rowDoubleClicked=new me,this.rowSelected=new me,this.selectionChanged=new me,this.cellContextMenu=new me,this.rangeSelectionChanged=new me,this.sortChanged=new me,this.columnRowGroupChangeRequest=new me,this.columnPivotChangeRequest=new me,this.columnValueChangeRequest=new me,this.columnAggFuncChangeRequest=new me,this._nativeElement=d.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=im.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(d=>d.toColDef())),new im.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,d=>d)}ngOnChanges(d){this._initialised&&im.ComponentUtil.processOnChange(d,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(d){const v=this[d],C=!!v&&v.observers&&v.observers.length>0,_=`on${d.charAt(0).toUpperCase()}${d.substring(1)}`;return C||!!this.gridOptions&&!!this.gridOptions[_]}globalEventListener(d,v){if(this._destroyed)return;const C=this[d];C&&this.isEmitterUsed(d)&&("gridReady"===d?this._fullyReady.then(_=>{C.emit(v)}):C.emit(v))}};return a.\u0275fac=function(d){return new(d||a)(Ve(mi),Ve(Ho),Ve(yT),Ve(mT),Ve(tp))},a.\u0275cmp=Yi({type:a,selectors:[["ag-grid-angular"]],contentQueries:function(d,v,C){if(1&d&&Ly(C,Ae,4),2&d){let _;Hf(_=Gy())&&(v.columns=_)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[Nr([yT,mT]),Zi],decls:0,vars:0,template:function(d,v){},encapsulation:2}),B([Bg(Ae),H("design:type",Iy)],a.prototype,"columns",void 0),B([$(),H("design:type",Object)],a.prototype,"gridOptions",void 0),B([$(),H("design:type",Array)],a.prototype,"modules",void 0),B([$(),H("design:type",Object)],a.prototype,"statusBar",void 0),B([$(),H("design:type",Object)],a.prototype,"sideBar",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressContextMenu",void 0),B([$(),H("design:type",Boolean)],a.prototype,"preventDefaultOnContextMenu",void 0),B([$(),H("design:type",Boolean)],a.prototype,"allowContextMenuWithControlKey",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMenuHide",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableBrowserTooltips",void 0),B([$(),H("design:type",Number)],a.prototype,"tooltipShowDelay",void 0),B([$(),H("design:type",Number)],a.prototype,"tooltipHideDelay",void 0),B([$(),H("design:type",Boolean)],a.prototype,"tooltipMouseTrack",void 0),B([$(),H("design:type",HTMLElement)],a.prototype,"popupParent",void 0),B([$(),H("design:type",Boolean)],a.prototype,"copyHeadersToClipboard",void 0),B([$(),H("design:type",Boolean)],a.prototype,"copyGroupHeadersToClipboard",void 0),B([$(),H("design:type",String)],a.prototype,"clipboardDelimiter",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressCopyRowsToClipboard",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressLastEmptyLineOnPaste",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressClipboardPaste",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressClipboardApi",void 0),B([$(),H("design:type",Array)],a.prototype,"columnDefs",void 0),B([$(),H("design:type",Object)],a.prototype,"defaultColDef",void 0),B([$(),H("design:type",Object)],a.prototype,"defaultColGroupDef",void 0),B([$(),H("design:type",Object)],a.prototype,"columnTypes",void 0),B([$(),H("design:type",Boolean)],a.prototype,"maintainColumnOrder",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressFieldDotNotation",void 0),B([$(),H("design:type",Boolean)],a.prototype,"deltaColumnMode",void 0),B([$(),H("design:type",Boolean)],a.prototype,"applyColumnDefOrder",void 0),B([$(),H("design:type",Boolean)],a.prototype,"immutableColumns",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressSetColumnStateEvents",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressColumnStateEvents",void 0),B([$(),H("design:type",Number)],a.prototype,"colWidth",void 0),B([$(),H("design:type",Number)],a.prototype,"minColWidth",void 0),B([$(),H("design:type",Number)],a.prototype,"maxColWidth",void 0),B([$(),H("design:type",Number)],a.prototype,"headerHeight",void 0),B([$(),H("design:type",Number)],a.prototype,"groupHeaderHeight",void 0),B([$(),H("design:type",Number)],a.prototype,"floatingFiltersHeight",void 0),B([$(),H("design:type",Number)],a.prototype,"pivotHeaderHeight",void 0),B([$(),H("design:type",Number)],a.prototype,"pivotGroupHeaderHeight",void 0),B([$(),H("design:type",Boolean)],a.prototype,"allowDragFromColumnsToolPanel",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMovableColumns",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressColumnMoveAnimation",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressDragLeaveHidesColumns",void 0),B([$(),H("design:type",String)],a.prototype,"colResizeDefault",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressAutoSize",void 0),B([$(),H("design:type",Number)],a.prototype,"autoSizePadding",void 0),B([$(),H("design:type",Boolean)],a.prototype,"skipHeaderOnAutoSize",void 0),B([$(),H("design:type",Object)],a.prototype,"components",void 0),B([$(),H("design:type",Object)],a.prototype,"frameworkComponents",void 0),B([$(),H("design:type",String)],a.prototype,"editType",void 0),B([$(),H("design:type",Boolean)],a.prototype,"singleClickEdit",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressClickEdit",void 0),B([$(),H("design:type",Boolean)],a.prototype,"readOnlyEdit",void 0),B([$(),H("design:type",Boolean)],a.prototype,"stopEditingWhenCellsLoseFocus",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enterMovesDown",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enterMovesDownAfterEdit",void 0),B([$(),H("design:type",Boolean)],a.prototype,"undoRedoCellEditing",void 0),B([$(),H("design:type",Number)],a.prototype,"undoRedoCellEditingLimit",void 0),B([$(),H("design:type",Boolean)],a.prototype,"stopEditingWhenGridLosesFocus",void 0),B([$(),H("design:type",Object)],a.prototype,"defaultCsvExportParams",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressCsvExport",void 0),B([$(),H("design:type",Object)],a.prototype,"defaultExcelExportParams",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressExcelExport",void 0),B([$(),H("design:type",Array)],a.prototype,"excelStyles",void 0),B([$(),H("design:type",Object)],a.prototype,"defaultExportParams",void 0),B([$(),H("design:type",String)],a.prototype,"quickFilterText",void 0),B([$(),H("design:type",Boolean)],a.prototype,"cacheQuickFilter",void 0),B([$(),H("design:type",Boolean)],a.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableCharts",void 0),B([$(),H("design:type",Array)],a.prototype,"chartThemes",void 0),B([$(),H("design:type",Object)],a.prototype,"customChartThemes",void 0),B([$(),H("design:type",Object)],a.prototype,"chartThemeOverrides",void 0),B([$(),H("design:type",Object)],a.prototype,"loadingCellRenderer",void 0),B([$(),H("design:type",Object)],a.prototype,"loadingCellRendererFramework",void 0),B([$(),H("design:type",Object)],a.prototype,"loadingCellRendererParams",void 0),B([$(),H("design:type",Function)],a.prototype,"loadingCellRendererSelector",void 0),B([$(),H("design:type",Object)],a.prototype,"localeText",void 0),B([$(),H("design:type",Boolean)],a.prototype,"masterDetail",void 0),B([$(),H("design:type",Boolean)],a.prototype,"keepDetailRows",void 0),B([$(),H("design:type",Number)],a.prototype,"keepDetailRowsCount",void 0),B([$(),H("design:type",Object)],a.prototype,"detailCellRenderer",void 0),B([$(),H("design:type",Object)],a.prototype,"detailCellRendererFramework",void 0),B([$(),H("design:type",Object)],a.prototype,"detailCellRendererParams",void 0),B([$(),H("design:type",Number)],a.prototype,"detailRowHeight",void 0),B([$(),H("design:type",Boolean)],a.prototype,"detailRowAutoHeight",void 0),B([$(),H("design:type",Object)],a.prototype,"context",void 0),B([$(),H("design:type",Array)],a.prototype,"alignedGrids",void 0),B([$(),H("design:type",Number)],a.prototype,"tabIndex",void 0),B([$(),H("design:type",Number)],a.prototype,"rowBuffer",void 0),B([$(),H("design:type",Boolean)],a.prototype,"valueCache",void 0),B([$(),H("design:type",Boolean)],a.prototype,"valueCacheNeverExpires",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableCellExpressions",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressParentsInRowNodes",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressTouch",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressFocusAfterRefresh",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressAsyncEvents",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressBrowserResizeObserver",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressPropertyNamesCheck",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressChangeDetection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"debug",void 0),B([$(),H("design:type",String)],a.prototype,"overlayLoadingTemplate",void 0),B([$(),H("design:type",Object)],a.prototype,"loadingOverlayComponent",void 0),B([$(),H("design:type",Object)],a.prototype,"loadingOverlayComponentFramework",void 0),B([$(),H("design:type",Object)],a.prototype,"loadingOverlayComponentParams",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressLoadingOverlay",void 0),B([$(),H("design:type",String)],a.prototype,"overlayNoRowsTemplate",void 0),B([$(),H("design:type",Object)],a.prototype,"noRowsOverlayComponent",void 0),B([$(),H("design:type",Object)],a.prototype,"noRowsOverlayComponentFramework",void 0),B([$(),H("design:type",Object)],a.prototype,"noRowsOverlayComponentParams",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressNoRowsOverlay",void 0),B([$(),H("design:type",Boolean)],a.prototype,"pagination",void 0),B([$(),H("design:type",Number)],a.prototype,"paginationPageSize",void 0),B([$(),H("design:type",Boolean)],a.prototype,"paginationAutoPageSize",void 0),B([$(),H("design:type",Boolean)],a.prototype,"paginateChildRows",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressPaginationPanel",void 0),B([$(),H("design:type",Boolean)],a.prototype,"pivotMode",void 0),B([$(),H("design:type",String)],a.prototype,"pivotPanelShow",void 0),B([$(),H("design:type",String)],a.prototype,"pivotColumnGroupTotals",void 0),B([$(),H("design:type",String)],a.prototype,"pivotRowTotals",void 0),B([$(),H("design:type",Boolean)],a.prototype,"pivotSuppressAutoColumn",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressExpandablePivotGroups",void 0),B([$(),H("design:type",Boolean)],a.prototype,"functionsReadOnly",void 0),B([$(),H("design:type",Object)],a.prototype,"aggFuncs",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressAggFuncInHeader",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressAggAtRootLevel",void 0),B([$(),H("design:type",Boolean)],a.prototype,"aggregateOnlyChangedColumns",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressAggFilteredOnly",void 0),B([$(),H("design:type",Boolean)],a.prototype,"animateRows",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableCellChangeFlash",void 0),B([$(),H("design:type",Number)],a.prototype,"cellFlashDelay",void 0),B([$(),H("design:type",Number)],a.prototype,"cellFadeDelay",void 0),B([$(),H("design:type",String)],a.prototype,"domLayout",void 0),B([$(),H("design:type",Boolean)],a.prototype,"ensureDomOrder",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableRtl",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressColumnVirtualisation",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMaxRenderedRowRestriction",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressRowVirtualisation",void 0),B([$(),H("design:type",Boolean)],a.prototype,"rowDragManaged",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressRowDrag",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMoveWhenRowDragging",void 0),B([$(),H("design:type",Boolean)],a.prototype,"rowDragEntireRow",void 0),B([$(),H("design:type",Boolean)],a.prototype,"rowDragMultiRow",void 0),B([$(),H("design:type",Object)],a.prototype,"fullWidthCellRenderer",void 0),B([$(),H("design:type",Object)],a.prototype,"fullWidthCellRendererFramework",void 0),B([$(),H("design:type",Object)],a.prototype,"fullWidthCellRendererParams",void 0),B([$(),H("design:type",Boolean)],a.prototype,"embedFullWidthRows",void 0),B([$(),H("design:type",Boolean)],a.prototype,"deprecatedEmbedFullWidthRows",void 0),B([$(),H("design:type",String)],a.prototype,"groupDisplayType",void 0),B([$(),H("design:type",Number)],a.prototype,"groupDefaultExpanded",void 0),B([$(),H("design:type",Object)],a.prototype,"autoGroupColumnDef",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupMaintainOrder",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupSelectsChildren",void 0),B([$(),H("design:type",Object)],a.prototype,"groupAggFiltering",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupIncludeFooter",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupIncludeTotalFooter",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupSuppressBlankHeader",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupSelectsFiltered",void 0),B([$(),H("design:type",Boolean)],a.prototype,"showOpenedGroup",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupRemoveSingleChildren",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupRemoveLowestSingleChildren",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupHideOpenParents",void 0),B([$(),H("design:type",String)],a.prototype,"rowGroupPanelShow",void 0),B([$(),H("design:type",Object)],a.prototype,"groupRowRenderer",void 0),B([$(),H("design:type",Object)],a.prototype,"groupRowRendererFramework",void 0),B([$(),H("design:type",Object)],a.prototype,"groupRowRendererParams",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),B([$(),H("design:type",Boolean)],a.prototype,"treeData",void 0),B([$(),H("design:type",Object)],a.prototype,"groupRowInnerRenderer",void 0),B([$(),H("design:type",Object)],a.prototype,"groupRowInnerRendererFramework",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupMultiAutoColumn",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupUseEntireRow",void 0),B([$(),H("design:type",Boolean)],a.prototype,"groupSuppressAutoColumn",void 0),B([$(),H("design:type",Boolean)],a.prototype,"rememberGroupStateWhenNewData",void 0),B([$(),H("design:type",Array)],a.prototype,"pinnedTopRowData",void 0),B([$(),H("design:type",Array)],a.prototype,"pinnedBottomRowData",void 0),B([$(),H("design:type",String)],a.prototype,"rowModelType",void 0),B([$(),H("design:type",Array)],a.prototype,"rowData",void 0),B([$(),H("design:type",Boolean)],a.prototype,"immutableData",void 0),B([$(),H("design:type",Number)],a.prototype,"asyncTransactionWaitMillis",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),B([$(),H("design:type",Boolean)],a.prototype,"deltaRowDataMode",void 0),B([$(),H("design:type",Number)],a.prototype,"batchUpdateWaitMillis",void 0),B([$(),H("design:type",Object)],a.prototype,"datasource",void 0),B([$(),H("design:type",Number)],a.prototype,"cacheOverflowSize",void 0),B([$(),H("design:type",Number)],a.prototype,"infiniteInitialRowCount",void 0),B([$(),H("design:type",String)],a.prototype,"serverSideStoreType",void 0),B([$(),H("design:type",Number)],a.prototype,"cacheBlockSize",void 0),B([$(),H("design:type",Number)],a.prototype,"maxBlocksInCache",void 0),B([$(),H("design:type",Number)],a.prototype,"maxConcurrentDatasourceRequests",void 0),B([$(),H("design:type",Number)],a.prototype,"blockLoadDebounceMillis",void 0),B([$(),H("design:type",Boolean)],a.prototype,"purgeClosedRowNodes",void 0),B([$(),H("design:type",Object)],a.prototype,"serverSideDatasource",void 0),B([$(),H("design:type",Boolean)],a.prototype,"serverSideSortingAlwaysResets",void 0),B([$(),H("design:type",Boolean)],a.prototype,"serverSideFilteringAlwaysResets",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressEnterpriseResetOnNewColumns",void 0),B([$(),H("design:type",Object)],a.prototype,"viewportDatasource",void 0),B([$(),H("design:type",Number)],a.prototype,"viewportRowModelPageSize",void 0),B([$(),H("design:type",Number)],a.prototype,"viewportRowModelBufferSize",void 0),B([$(),H("design:type",Boolean)],a.prototype,"alwaysShowHorizontalScroll",void 0),B([$(),H("design:type",Boolean)],a.prototype,"alwaysShowVerticalScroll",void 0),B([$(),H("design:type",Boolean)],a.prototype,"debounceVerticalScrollbar",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressHorizontalScroll",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressScrollOnNewData",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressScrollWhenPopupsAreOpen",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressAnimationFrame",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMiddleClickScrolls",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressPreventDefaultOnMouseWheel",void 0),B([$(),H("design:type",Number)],a.prototype,"scrollbarWidth",void 0),B([$(),H("design:type",String)],a.prototype,"rowSelection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"rowMultiSelectWithClick",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressRowDeselection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressRowClickSelection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressCellSelection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressCellFocus",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMultiRangeSelection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableCellTextSelection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableRangeSelection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableRangeHandle",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableFillHandle",void 0),B([$(),H("design:type",String)],a.prototype,"fillHandleDirection",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressClearOnFillReduction",void 0),B([$(),H("design:type",Array)],a.prototype,"sortingOrder",void 0),B([$(),H("design:type",Boolean)],a.prototype,"accentedSort",void 0),B([$(),H("design:type",Boolean)],a.prototype,"unSortIcon",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMultiSort",void 0),B([$(),H("design:type",Boolean)],a.prototype,"alwaysMultiSort",void 0),B([$(),H("design:type",String)],a.prototype,"multiSortKey",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressMaintainUnsortedOrder",void 0),B([$(),H("design:type",Object)],a.prototype,"icons",void 0),B([$(),H("design:type",Number)],a.prototype,"rowHeight",void 0),B([$(),H("design:type",Object)],a.prototype,"rowStyle",void 0),B([$(),H("design:type",Object)],a.prototype,"rowClass",void 0),B([$(),H("design:type",Object)],a.prototype,"rowClassRules",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressRowHoverHighlight",void 0),B([$(),H("design:type",Boolean)],a.prototype,"suppressRowTransform",void 0),B([$(),H("design:type",Boolean)],a.prototype,"columnHoverHighlight",void 0),B([$(),H("design:type",Boolean)],a.prototype,"deltaSort",void 0),B([$(),H("design:type",String)],a.prototype,"treeDataDisplayType",void 0),B([$(),H("design:type",Boolean)],a.prototype,"angularCompileRows",void 0),B([$(),H("design:type",Boolean)],a.prototype,"angularCompileFilters",void 0),B([$(),H("design:type",Boolean)],a.prototype,"functionsPassive",void 0),B([$(),H("design:type",Boolean)],a.prototype,"enableGroupEdit",void 0),B([$(),H("design:type",Function)],a.prototype,"getContextMenuItems",void 0),B([$(),H("design:type",Function)],a.prototype,"getMainMenuItems",void 0),B([$(),H("design:type",Function)],a.prototype,"postProcessPopup",void 0),B([$(),H("design:type",Function)],a.prototype,"processCellForClipboard",void 0),B([$(),H("design:type",Function)],a.prototype,"processHeaderForClipboard",void 0),B([$(),H("design:type",Function)],a.prototype,"processGroupHeaderForClipboard",void 0),B([$(),H("design:type",Function)],a.prototype,"processCellFromClipboard",void 0),B([$(),H("design:type",Function)],a.prototype,"sendToClipboard",void 0),B([$(),H("design:type",Function)],a.prototype,"processDataFromClipboard",void 0),B([$(),H("design:type",Function)],a.prototype,"isExternalFilterPresent",void 0),B([$(),H("design:type",Function)],a.prototype,"doesExternalFilterPass",void 0),B([$(),H("design:type",Function)],a.prototype,"getChartToolbarItems",void 0),B([$(),H("design:type",Function)],a.prototype,"createChartContainer",void 0),B([$(),H("design:type",Function)],a.prototype,"navigateToNextHeader",void 0),B([$(),H("design:type",Function)],a.prototype,"tabToNextHeader",void 0),B([$(),H("design:type",Function)],a.prototype,"navigateToNextCell",void 0),B([$(),H("design:type",Function)],a.prototype,"tabToNextCell",void 0),B([$(),H("design:type",Function)],a.prototype,"suppressKeyboardEvent",void 0),B([$(),H("design:type",Function)],a.prototype,"localeTextFunc",void 0),B([$(),H("design:type",Function)],a.prototype,"getLocaleText",void 0),B([$(),H("design:type",Function)],a.prototype,"getDocument",void 0),B([$(),H("design:type",Function)],a.prototype,"paginationNumberFormatter",void 0),B([$(),H("design:type",Function)],a.prototype,"groupRowAggNodes",void 0),B([$(),H("design:type",Function)],a.prototype,"getGroupRowAgg",void 0),B([$(),H("design:type",Function)],a.prototype,"isGroupOpenByDefault",void 0),B([$(),H("design:type",Function)],a.prototype,"initialGroupOrderComparator",void 0),B([$(),H("design:type",Function)],a.prototype,"defaultGroupOrderComparator",void 0),B([$(),H("design:type",Function)],a.prototype,"processSecondaryColDef",void 0),B([$(),H("design:type",Function)],a.prototype,"processSecondaryColGroupDef",void 0),B([$(),H("design:type",Function)],a.prototype,"getDataPath",void 0),B([$(),H("design:type",Function)],a.prototype,"defaultGroupSortComparator",void 0),B([$(),H("design:type",Function)],a.prototype,"getChildCount",void 0),B([$(),H("design:type",Function)],a.prototype,"getServerSideStoreParams",void 0),B([$(),H("design:type",Function)],a.prototype,"isServerSideGroupOpenByDefault",void 0),B([$(),H("design:type",Function)],a.prototype,"isApplyServerSideTransaction",void 0),B([$(),H("design:type",Function)],a.prototype,"isServerSideGroup",void 0),B([$(),H("design:type",Function)],a.prototype,"getServerSideGroupKey",void 0),B([$(),H("design:type",Function)],a.prototype,"getBusinessKeyForNode",void 0),B([$(),H("design:type",Function)],a.prototype,"getRowNodeId",void 0),B([$(),H("design:type",Function)],a.prototype,"getRowId",void 0),B([$(),H("design:type",Function)],a.prototype,"processRowPostCreate",void 0),B([$(),H("design:type",Function)],a.prototype,"isRowSelectable",void 0),B([$(),H("design:type",Function)],a.prototype,"isRowMaster",void 0),B([$(),H("design:type",Function)],a.prototype,"fillOperation",void 0),B([$(),H("design:type",Function)],a.prototype,"postSort",void 0),B([$(),H("design:type",Function)],a.prototype,"postSortRows",void 0),B([$(),H("design:type",Function)],a.prototype,"getRowStyle",void 0),B([$(),H("design:type",Function)],a.prototype,"getRowClass",void 0),B([$(),H("design:type",Function)],a.prototype,"getRowHeight",void 0),B([$(),H("design:type",Function)],a.prototype,"isFullWidthCell",void 0),B([$(),H("design:type",Function)],a.prototype,"isFullWidthRow",void 0),B([et(),H("design:type",me)],a.prototype,"toolPanelVisibleChanged",void 0),B([et(),H("design:type",me)],a.prototype,"pasteStart",void 0),B([et(),H("design:type",me)],a.prototype,"pasteEnd",void 0),B([et(),H("design:type",me)],a.prototype,"columnVisible",void 0),B([et(),H("design:type",me)],a.prototype,"columnPinned",void 0),B([et(),H("design:type",me)],a.prototype,"columnResized",void 0),B([et(),H("design:type",me)],a.prototype,"columnMoved",void 0),B([et(),H("design:type",me)],a.prototype,"columnValueChanged",void 0),B([et(),H("design:type",me)],a.prototype,"columnPivotModeChanged",void 0),B([et(),H("design:type",me)],a.prototype,"columnPivotChanged",void 0),B([et(),H("design:type",me)],a.prototype,"columnGroupOpened",void 0),B([et(),H("design:type",me)],a.prototype,"newColumnsLoaded",void 0),B([et(),H("design:type",me)],a.prototype,"gridColumnsChanged",void 0),B([et(),H("design:type",me)],a.prototype,"displayedColumnsChanged",void 0),B([et(),H("design:type",me)],a.prototype,"virtualColumnsChanged",void 0),B([et(),H("design:type",me)],a.prototype,"columnEverythingChanged",void 0),B([et(),H("design:type",me)],a.prototype,"componentStateChanged",void 0),B([et(),H("design:type",me)],a.prototype,"cellValueChanged",void 0),B([et(),H("design:type",me)],a.prototype,"cellEditRequest",void 0),B([et(),H("design:type",me)],a.prototype,"rowValueChanged",void 0),B([et(),H("design:type",me)],a.prototype,"cellEditingStarted",void 0),B([et(),H("design:type",me)],a.prototype,"cellEditingStopped",void 0),B([et(),H("design:type",me)],a.prototype,"rowEditingStarted",void 0),B([et(),H("design:type",me)],a.prototype,"rowEditingStopped",void 0),B([et(),H("design:type",me)],a.prototype,"filterOpened",void 0),B([et(),H("design:type",me)],a.prototype,"filterChanged",void 0),B([et(),H("design:type",me)],a.prototype,"filterModified",void 0),B([et(),H("design:type",me)],a.prototype,"chartCreated",void 0),B([et(),H("design:type",me)],a.prototype,"chartRangeSelectionChanged",void 0),B([et(),H("design:type",me)],a.prototype,"chartOptionsChanged",void 0),B([et(),H("design:type",me)],a.prototype,"chartDestroyed",void 0),B([et(),H("design:type",me)],a.prototype,"cellKeyDown",void 0),B([et(),H("design:type",me)],a.prototype,"cellKeyPress",void 0),B([et(),H("design:type",me)],a.prototype,"gridReady",void 0),B([et(),H("design:type",me)],a.prototype,"firstDataRendered",void 0),B([et(),H("design:type",me)],a.prototype,"gridSizeChanged",void 0),B([et(),H("design:type",me)],a.prototype,"modelUpdated",void 0),B([et(),H("design:type",me)],a.prototype,"virtualRowRemoved",void 0),B([et(),H("design:type",me)],a.prototype,"viewportChanged",void 0),B([et(),H("design:type",me)],a.prototype,"bodyScroll",void 0),B([et(),H("design:type",me)],a.prototype,"bodyScrollEnd",void 0),B([et(),H("design:type",me)],a.prototype,"dragStarted",void 0),B([et(),H("design:type",me)],a.prototype,"dragStopped",void 0),B([et(),H("design:type",me)],a.prototype,"paginationChanged",void 0),B([et(),H("design:type",me)],a.prototype,"rowDragEnter",void 0),B([et(),H("design:type",me)],a.prototype,"rowDragMove",void 0),B([et(),H("design:type",me)],a.prototype,"rowDragLeave",void 0),B([et(),H("design:type",me)],a.prototype,"rowDragEnd",void 0),B([et(),H("design:type",me)],a.prototype,"columnRowGroupChanged",void 0),B([et(),H("design:type",me)],a.prototype,"rowGroupOpened",void 0),B([et(),H("design:type",me)],a.prototype,"expandOrCollapseAll",void 0),B([et(),H("design:type",me)],a.prototype,"pinnedRowDataChanged",void 0),B([et(),H("design:type",me)],a.prototype,"rowDataChanged",void 0),B([et(),H("design:type",me)],a.prototype,"rowDataUpdated",void 0),B([et(),H("design:type",me)],a.prototype,"asyncTransactionsFlushed",void 0),B([et(),H("design:type",me)],a.prototype,"cellClicked",void 0),B([et(),H("design:type",me)],a.prototype,"cellDoubleClicked",void 0),B([et(),H("design:type",me)],a.prototype,"cellFocused",void 0),B([et(),H("design:type",me)],a.prototype,"cellMouseOver",void 0),B([et(),H("design:type",me)],a.prototype,"cellMouseOut",void 0),B([et(),H("design:type",me)],a.prototype,"cellMouseDown",void 0),B([et(),H("design:type",me)],a.prototype,"rowClicked",void 0),B([et(),H("design:type",me)],a.prototype,"rowDoubleClicked",void 0),B([et(),H("design:type",me)],a.prototype,"rowSelected",void 0),B([et(),H("design:type",me)],a.prototype,"selectionChanged",void 0),B([et(),H("design:type",me)],a.prototype,"cellContextMenu",void 0),B([et(),H("design:type",me)],a.prototype,"rangeSelectionChanged",void 0),B([et(),H("design:type",me)],a.prototype,"sortChanged",void 0),B([et(),H("design:type",me)],a.prototype,"columnRowGroupChangeRequest",void 0),B([et(),H("design:type",me)],a.prototype,"columnPivotChangeRequest",void 0),B([et(),H("design:type",me)],a.prototype,"columnValueChangeRequest",void 0),B([et(),H("design:type",me)],a.prototype,"columnAggFuncChangeRequest",void 0),a=B([H("design:paramtypes",[mi,Ho,yT,mT,tp])],a),a})();var CT;let U_=CT=class{static withComponents(p){return{ngModule:CT,providers:[{provide:Np,useValue:p,multi:!0}]}}static forRoot(p){return{ngModule:CT,providers:[{provide:Np,useValue:p,multi:!0}]}}};U_.\u0275fac=function(p){return new(p||U_)},U_.\u0275mod=fn({type:U_}),U_.\u0275inj=En({imports:[[]]});const wT=function(){return["/home"]},v1=function(){return["/agreements"]};class y1{init(p){const d=document.createElement("span"),v=document.createElement("img"),C=document.createElement("p");var _=0;"Invalid"===p.value?(_=Math.floor(3*Math.random())+1,C.innerHTML='Invalid <span style="color:#fff0f5;"><span style="background-color:#d9524e;;padding:4px;">'+_+"</span></span>",this.eGui=C):"Published"===p.value?(v.src="assets/img/tick.png",d.appendChild(document.createTextNode(p.value+" ")),d.appendChild(v),this.eGui=d):(v.src="assets/img/peding.png",d.appendChild(document.createTextNode(p.value+" ")),d.appendChild(v),this.eGui=d)}getGui(){return this.eGui}refresh(){return!1}}let m1=(()=>{class a{constructor(d){this.http=d,this.columnDefs=[{field:"Status",maxWidth:130,minWidth:130,filter:"agTextColumnFilter",cellRenderer:y1,cellStyle:v=>"Invalid"===v.value?{color:"red",FontSize:"96px","font-weight":"bold"}:"Published"===v.value?{color:"green",FontSize:"96px","font-weight":"bold"}:{color:"#aaaaaa",FontSize:"96px","font-weight":"bold"}},{field:"Quote Number",width:160},{field:"Agreement Name",width:160,cellStyle:{color:"rgb(15 183 188)",FontSize:"96px","font-size":"15px"}},{field:"Agreement Type",width:160},{field:"Distributor Name",width:160},{field:"Effective Date",type:["dateColumn","nonEditableColumn"],width:160},{field:"Expiration Date",type:["dateColumn","nonEditableColumn"],width:160},{field:"Created Date",type:["dateColumn","nonEditableColumn"],width:160},{field:"Days Until Expiration",width:160}],this.sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0}}],defaultToolPanel:"columns"},this.defaultColDef={flex:1,minWidth:100,editable:!0,filter:"agTextColumnFilter",floatingFilter:!0,resizable:!0},this.columnTypes={numberColumn:{width:130,filter:"agNumberColumnFilter"},medalColumn:{width:100,columnGroupShow:"open",filter:!1},nonEditableColumn:{editable:!1},dateColumn:{filter:"agDateColumnFilter",filterParams:{comparator:(v,C)=>{const _=C.split("/"),O=Number(_[0]),R=Number(_[1])-1,M=Number(_[2]),L=new Date(M,R,O);return L<v?-1:L>v?1:0}}}}}onGridReady(d){this.gridApi=d.api,this.http.get("assets/data/data.json").subscribe(v=>d.api.setRowData(v))}}return a.\u0275fac=function(d){return new(d||a)(Ve(aM))},a.\u0275cmp=Yi({type:a,selectors:[["app-agreements"]],decls:53,vars:14,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css","integrity","sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn","crossorigin","anonymous"],["rel","stylesheet","href","https://use.fontawesome.com/releases/v5.6.3/css/all.css","integrity","sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/","crossorigin","anonymous"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css","integrity","sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==","crossorigin","anonymous","referrerpolicy","no-referrer"],[1,"body"],[1,"navbar","navbar-expand-xl","fixed-top","navbar-light","bg-blue","shadow-sm"],["routerLinkActive","routerLinkActive",1,"navbar-brand","d-flex","align-items-center",3,"routerLink"],["src","assets/img/logo_tps.svg","alt","TPS's Logo"],["type","button","data-toggle","collapse","data-target","navbarHeader","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarHeader",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLinkActive","routerLinkActive","id","Home",1,"nav-link",3,"routerLink"],["src","assets/img/house-bar.png","alt","Bootstrap","width","24","height","24"],["routerLinkActive","routerLinkActive","id","Agreements",1,"nav-link",3,"routerLink"],["src","assets/img/supermarket-bar.png","alt","Bootstrap","width","24","height","24"],[1,"navbar-nav","mr-auto1"],[1,"nav-item1"],["id","goodafternoon",1,"nav-link"],["src","assets/img/setting.png","alt","Bootstrap","width","18","height","18"],[1,"blankcategory"],[1,"bc-icons"],["aria-label","breadcrumb"],[1,"breadcrumb","ModBackGround"],[1,"breadcrumb-item"],["routerLinkActive","routerLinkActive",1,"white-text","Mod_breadcrum",3,"routerLink"],[1,"breadcrumb-item","Mod_breadcrum_after"],[1,"fa-solid","fa-angle-right"],[1,"container_home"],[1,"paragraph"],["id","tittle_para"],[1,"para_para"],[1,"ag-theme-alpine",2,"width","100%","height","65vh","padding-left","30px",3,"columnDefs","defaultColDef","pagination","sideBar","paginationPageSize","columnTypes","gridReady"]],template:function(d,v){1&d&&(nt(0,"html",0)(1,"head"),jt(2,"meta",1)(3,"meta",2)(4,"meta",3),nt(5,"title"),Vt(6,"Agreements"),ft(),jt(7,"link",4)(8,"link",5)(9,"link",6),ft(),nt(10,"body")(11,"div",7)(12,"header")(13,"div",8)(14,"a",9),jt(15,"img",10),ft(),nt(16,"button",11),jt(17,"span",12),ft(),nt(18,"div",13)(19,"ul",14)(20,"li",15)(21,"a",16),jt(22,"img",17),Vt(23," Home"),ft()(),nt(24,"li",15)(25,"a",18),jt(26,"img",19),Vt(27," Agreements"),ft()()(),nt(28,"ul",20)(29,"li",21)(30,"a",22)(31,"b"),Vt(32,"Pandult"),ft(),nt(33,"p"),Vt(34,"Good Afternoon, User"),ft()()()(),jt(35,"img",23),ft()()(),nt(36,"div",24)(37,"div",25)(38,"nav",26)(39,"ol",27)(40,"li",28)(41,"a",29),Vt(42,"Home"),ft()(),nt(43,"li",30),jt(44,"i",31),Vt(45," Agreements"),ft()()()()(),nt(46,"div",32)(47,"div",33)(48,"h2",34),Vt(49,"Agreements"),ft(),nt(50,"p",35),Vt(51,"View, modify, and edit agreement details to prepare for claim submission"),ft()(),nt(52,"ag-grid-angular",36),Xn("gridReady",function(_){return v.onGridReady(_)}),ft()()()()()),2&d&&(ln(14),Bn("routerLink",Nl(10,wT)),ln(7),Bn("routerLink",Nl(11,wT)),ln(4),Bn("routerLink",Nl(12,v1)),ln(16),Bn("routerLink",Nl(13,wT)),ln(11),Bn("columnDefs",v.columnDefs)("defaultColDef",v.defaultColDef)("pagination",!0)("sideBar",v.sideBar)("paginationPageSize",25)("columnTypes",v.columnTypes))},directives:[W_,lR,g1],styles:["header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:48px}.nav[_ngcontent-%COMP%]{width:100%;height:90px}#Home[_ngcontent-%COMP%], #Agreements[_ngcontent-%COMP%], #help[_ngcontent-%COMP%], #goodafternoon[_ngcontent-%COMP%], #goodafternoon1[_ngcontent-%COMP%], #setting[_ngcontent-%COMP%]{color:#fff}.navbarHeader[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}.bg-blue[_ngcontent-%COMP%]{background-image:linear-gradient(0,#224559,#1476a3)}a.bg-green[_ngcontent-%COMP%]:hover, a.bg-dark[_ngcontent-%COMP%]:focus, button.bg-dark[_ngcontent-%COMP%]:hover, button.bg-dark[_ngcontent-%COMP%]:focus{background-color:#1d2124!important}.topnav[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}body[_ngcontent-%COMP%]{width:100%;height:96.8vh;overflow:hidden;padding:25px;background-color:#f5f5f5}.Mod_breadcrum[_ngcontent-%COMP%]{font-weight:700;color:#6b624f}.Mod_breadcrum_after[_ngcontent-%COMP%]{font-weight:700;color:#000}.container_home[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#f5f5f5}.blankcategory[_ngcontent-%COMP%]{margin-top:40px;margin-left:30px}.ModBackGround[_ngcontent-%COMP%]{background-color:#f5f5f5}#tittle_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;font-weight:700;font-size:24px;color:#1476a3}#para_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#333}.paragraph[_ngcontent-%COMP%]{margin-left:40px}.blankcategory[_ngcontent-%COMP%]   .bc-icons[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{content:none}.blankcategory[_ngcontent-%COMP%]   .bc-icons[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#eee}"]}),a})();const EF=function(){return["/home"]},C1=function(){return["/agreements"]};let w1=(()=>{class a{constructor(){}ngOnInit(){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=Yi({type:a,selectors:[["app-home"]],decls:86,vars:6,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css","integrity","sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk","crossorigin","anonymous"],[1,"bg-body"],[1,"body"],[1,"navbar","navbar-expand-xl","fixed-top","navbar-light","bg-blue","shadow-sm"],["routerLinkActive","routerLinkActive",1,"navbar-brand","d-flex","align-items-center",3,"routerLink"],["src","assets/img/logo_tps.svg","alt","TPS's Logo"],["type","button","data-toggle","collapse","data-target","#navbarHeader","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarHeader",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLinkActive","routerLinkActive","id","Home",1,"nav-link",3,"routerLink"],["src","assets/img/house-bar.png","alt","Bootstrap","width","24","height","24"],["routerLinkActive","routerLinkActive","id","Agreements",1,"nav-link",3,"routerLink"],["src","assets/img/supermarket-bar.png","alt","Bootstrap","width","24","height","24"],[1,"navbar-nav","mr-auto1"],[1,"nav-item1"],["id","goodafternoon",1,"nav-link"],["src","assets/img/setting.png","alt","Bootstrap","width","18","height","18"],[1,"container_home","d-flex","align-content-start","flex-wrap"],[1,"row","d-flex","flex-wrap"],[1,"paragraph"],["id","tittle_para"],[1,"para_para"],[1,"col-sm-8"],[1,"row"],[1,"item_hashtag","d-flex","flex-wrap"],[1,"col-sm-3"],["src","assets/img/tag.png","alt","Bootstrap","width","120px","height","120px",1,"editicon"],[1,"col-md-7"],[1,"decscrip"],[1,"title_tag"],[1,"para_tag"],[1,"col-md-3"],["type","submit","value","Get Started",1,"btn","btn-info1"],[1,"item_hashtag","d-flex","align-content-start","flex-wrap"],["src","assets/img/claim.png","alt","Bootstrap",1,"editicon"],["src","assets/img/bar-chart.png","alt","Bootstrap","width","120px","height","120px",1,"editicon"],[1,"col-sm-3","WorkFlow"],[1,"flextitle","d-flex","justify-content-between"],[1,"title_workflow"],["id","h4_workflow"],["type","button",1,"btn","btn-outline-primary"],[1,"d-flex","justify-content-center","content_workflow"]],template:function(d,v){1&d&&(nt(0,"html",0)(1,"head"),jt(2,"meta",1)(3,"meta",2)(4,"meta",3),nt(5,"title"),Vt(6,"Exercise 1"),ft(),jt(7,"link",4),ft(),nt(8,"body",5)(9,"div",6)(10,"header")(11,"div",7)(12,"a",8),jt(13,"img",9),ft(),nt(14,"button",10),jt(15,"span",11),ft(),nt(16,"div",12)(17,"ul",13)(18,"li",14)(19,"a",15),jt(20,"img",16),Vt(21," Home"),ft()(),nt(22,"li",14)(23,"a",17),jt(24,"img",18),Vt(25," Agreements"),ft()()(),nt(26,"ul",19)(27,"li",20)(28,"a",21)(29,"b"),Vt(30,"Pandult"),ft(),nt(31,"p"),Vt(32,"Good Afternoon, User"),ft()()()(),jt(33,"img",22),ft()()(),nt(34,"div",23)(35,"div",24)(36,"div",25)(37,"h2",26),Vt(38,"Welcome to Celerity Enterprises!"),ft(),nt(39,"p",27),Vt(40,"We provide a unified platform for agreement reconciliation, communication, and reporting between parties across the supplier and distribution network"),ft()(),nt(41,"div",28)(42,"div",29)(43,"div",30)(44,"div",31),jt(45,"img",32),ft(),nt(46,"div",33)(47,"div",34)(48,"h2",35),Vt(49,"Agreements"),ft(),nt(50,"p",36),Vt(51," Review the status of special pricing agreements in place with your customers. View, modify, or publish agreements details to ensure contact rules are in place for accounting accuracy "),ft()()(),nt(52,"div",37),jt(53,"input",38),ft()(),nt(54,"div",39)(55,"div",37),jt(56,"img",40),ft(),nt(57,"div",33)(58,"div",34)(59,"h2",35),Vt(60,"Claims"),ft(),nt(61,"p",36),Vt(62," Ensure claims and submittals are ready to be sent your trading partners. Check the status of claim submissions, track workflow, and have complete transparency through the submission process. "),ft()()(),nt(63,"div",37),jt(64,"input",38),ft()(),nt(65,"div",39)(66,"div",37),jt(67,"img",41),ft(),nt(68,"div",33)(69,"div",34)(70,"h2",35),Vt(71,"Reports"),ft(),nt(72,"p",36),Vt(73," Get updateed agreement and claim data in real time, providing business intelligence for up-to-date understanding of your business. Create key performance reports, create scheduled reporting, and enjoy self-service analytics created for your unique business goals. "),ft()()(),nt(74,"div",37),jt(75,"input",38),ft()()()(),nt(76,"div",42)(77,"div",43)(78,"div",44)(79,"h4",45),Vt(80,"My WorkFlow"),ft()(),nt(81,"div",44)(82,"button",46),Vt(83,"See all"),ft()()(),nt(84,"p",47),Vt(85,"There are no tasks assigned to you"),ft()()()()()()()),2&d&&(ln(12),Bn("routerLink",Nl(3,EF)),ln(7),Bn("routerLink",Nl(4,EF)),ln(4),Bn("routerLink",Nl(5,C1)))},directives:[W_,lR],styles:["header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:48px}body[_ngcontent-%COMP%]{width:100%;height:96.8vh;padding:2px;overflow:hidden;background-color:#f5f5f5}.nav[_ngcontent-%COMP%]{width:100%}#Home[_ngcontent-%COMP%], #Agreements[_ngcontent-%COMP%], #help[_ngcontent-%COMP%], #goodafternoon[_ngcontent-%COMP%], #setting[_ngcontent-%COMP%]{color:#fff}.navbarHeader[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}.bg-blue[_ngcontent-%COMP%]{background-image:linear-gradient(0,#224559,#1476a3)}a.bg-green[_ngcontent-%COMP%]:hover, a.bg-dark[_ngcontent-%COMP%]:focus, button.bg-dark[_ngcontent-%COMP%]:hover, button.bg-dark[_ngcontent-%COMP%]:focus{background-color:#1d2124!important}.topnav[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}.container_home[_ngcontent-%COMP%]{background-color:#fff;margin:90px 0 0 15px}.paragraph[_ngcontent-%COMP%]{padding:25px 0 0 25px}#tittle_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#1476a3}#para_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#333}.item_hashtag[_ngcontent-%COMP%]{width:100%;height:140px;padding:5px;margin-left:50px;margin-bottom:20px;border-radius:10px;background-color:#f5f5f5;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.item_hashtag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-basis:1px}.item_hashtag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{flex-basis:1px}.WorkFlow[_ngcontent-%COMP%]{width:100%;height:20%;background-color:#f5f5f5;margin:0 50px}.content_workflow[_ngcontent-%COMP%]{margin-top:25px;font-size:small}.decscrip[_ngcontent-%COMP%]{margin-bottom:50px}.btn-info1[_ngcontent-%COMP%]{height:50px;width:150px;color:#fff;background-color:#1978a3;border-color:#1978a3;font-weight:700}.btn-info1[_ngcontent-%COMP%]:hover{color:#fff;background-color:#138496;border-color:#117a8b}.title_tag[_ngcontent-%COMP%], .para_tag[_ngcontent-%COMP%]{color:#2e4774}.editicon[_ngcontent-%COMP%]{width:110px;height:110px;margin-bottom:50px}@media only screen and (max-width: 1450px){.item_hashtag[_ngcontent-%COMP%]{width:100%;height:40%;background-color:#f5f5f5;border-radius:5px;display:flex;flex-direction:row;justify-content:center}.btn-info1[_ngcontent-%COMP%]{height:50px;width:120px;color:#fff;background-color:#1978a3;border-color:#1978a3;font-weight:700;display:flex;margin-bottom:50px}.WorkFlow[_ngcontent-%COMP%]{width:100%;height:200px;background-color:#f5f5f5;margin:20px 50px}.editicon[_ngcontent-%COMP%]{width:150px;height:150px;margin-right:90px;margin-top:90px}}"]}),a})(),OF=(()=>{class a{constructor(d,v){this._renderer=d,this._elementRef=v,this.onChange=C=>{},this.onTouched=()=>{}}setProperty(d,v){this._renderer.setProperty(this._elementRef.nativeElement,d,v)}registerOnTouched(d){this.onTouched=d}registerOnChange(d){this.onChange=d}setDisabledState(d){this.setProperty("disabled",d)}}return a.\u0275fac=function(d){return new(d||a)(Ve(ku),Ve(mi))},a.\u0275dir=Ct({type:a}),a})(),om=(()=>{class a extends OF{}return a.\u0275fac=function(){let p;return function(v){return(p||(p=Fr(a)))(v||a)}}(),a.\u0275dir=Ct({type:a,features:[cr]}),a})();const dp=new yt("NgValueAccessor"),b1={provide:dp,useExisting:Ht(()=>cR),multi:!0},O1=new yt("CompositionEventMode");let cR=(()=>{class a extends OF{constructor(d,v,C){super(d,v),this._compositionMode=C,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function E1(){const a=kl()?kl().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}())}writeValue(d){this.setProperty("value",null==d?"":d)}_handleInput(d){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(d)}_compositionStart(){this._composing=!0}_compositionEnd(d){this._composing=!1,this._compositionMode&&this.onChange(d)}}return a.\u0275fac=function(d){return new(d||a)(Ve(ku),Ve(mi),Ve(O1,8))},a.\u0275dir=Ct({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(d,v){1&d&&Xn("input",function(_){return v._handleInput(_.target.value)})("blur",function(){return v.onTouched()})("compositionstart",function(){return v._compositionStart()})("compositionend",function(_){return v._compositionEnd(_.target.value)})},features:[Nr([b1]),cr]}),a})();const zo=new yt("NgValidators"),rg=new yt("NgAsyncValidators");function LF(a){return null!=a}function GF(a){const p=Fu(a)?Yr(a):a;return cy(p),p}function kF(a){let p={};return a.forEach(d=>{p=null!=d?Object.assign(Object.assign({},p),d):p}),0===Object.keys(p).length?null:p}function VF(a,p){return p.map(d=>d(a))}function BF(a){return a.map(p=>function R1(a){return!a.validate}(p)?p:d=>p.validate(d))}function _T(a){return null!=a?function HF(a){if(!a)return null;const p=a.filter(LF);return 0==p.length?null:function(d){return kF(VF(d,p))}}(BF(a)):null}function ST(a){return null!=a?function WF(a){if(!a)return null;const p=a.filter(LF);return 0==p.length?null:function(d){return function _1(...a){const p=Yu(a),{args:d,keys:v}=dM(a),C=new vr(_=>{const{length:O}=d;if(!O)return void _.complete();const R=new Array(O);let M=O,L=O;for(let V=0;V<O;V++){let X=!1;wo(d[V]).subscribe(Kr(_,ee=>{X||(X=!0,L--),R[V]=ee},()=>M--,void 0,()=>{(!M||!X)&&(L||_.next(v?fM(v,R):R),_.complete())}))}});return p?C.pipe(hM(p)):C}(VF(d,p).map(GF)).pipe(Gt(kF))}}(BF(a)):null}function jF(a,p){return null===a?[p]:Array.isArray(a)?[...a,p]:[a,p]}function bT(a){return a?Array.isArray(a)?a:[a]:[]}function dR(a,p){return Array.isArray(a)?a.includes(p):a===p}function $F(a,p){const d=bT(p);return bT(a).forEach(C=>{dR(d,C)||d.push(C)}),d}function KF(a,p){return bT(p).filter(d=>!dR(a,d))}class YF{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(p){this._rawValidators=p||[],this._composedValidatorFn=_T(this._rawValidators)}_setAsyncValidators(p){this._rawAsyncValidators=p||[],this._composedAsyncValidatorFn=ST(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(p){this._onDestroyCallbacks.push(p)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(p=>p()),this._onDestroyCallbacks=[]}reset(p){this.control&&this.control.reset(p)}hasError(p,d){return!!this.control&&this.control.hasError(p,d)}getError(p,d){return this.control?this.control.getError(p,d):null}}class ng extends YF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vs extends YF{get formDirective(){return null}get path(){return null}}let XF=(()=>{class a extends class qF{constructor(p){this._cd=p}is(p){var d,v,C;return"submitted"===p?!!(null===(d=this._cd)||void 0===d?void 0:d.submitted):!!(null===(C=null===(v=this._cd)||void 0===v?void 0:v.control)||void 0===C?void 0:C[p])}}{constructor(d){super(d)}}return a.\u0275fac=function(d){return new(d||a)(Ve(ng,2))},a.\u0275dir=Ct({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(d,v){2&d&&Oe("ng-untouched",v.is("untouched"))("ng-touched",v.is("touched"))("ng-pristine",v.is("pristine"))("ng-dirty",v.is("dirty"))("ng-valid",v.is("valid"))("ng-invalid",v.is("invalid"))("ng-pending",v.is("pending"))},features:[cr]}),a})();function JE(a,p){(function DT(a,p){const d=function UF(a){return a._rawValidators}(a);null!==p.validator?a.setValidators(jF(d,p.validator)):"function"==typeof d&&a.setValidators([d]);const v=function zF(a){return a._rawAsyncValidators}(a);null!==p.asyncValidator?a.setAsyncValidators(jF(v,p.asyncValidator)):"function"==typeof v&&a.setAsyncValidators([v]);const C=()=>a.updateValueAndValidity();vR(p._rawValidators,C),vR(p._rawAsyncValidators,C)})(a,p),p.valueAccessor.writeValue(a.value),function L1(a,p){p.valueAccessor.registerOnChange(d=>{a._pendingValue=d,a._pendingChange=!0,a._pendingDirty=!0,"change"===a.updateOn&&QF(a,p)})}(a,p),function k1(a,p){const d=(v,C)=>{p.valueAccessor.writeValue(v),C&&p.viewToModelUpdate(v)};a.registerOnChange(d),p._registerOnDestroy(()=>{a._unregisterOnChange(d)})}(a,p),function G1(a,p){p.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,"blur"===a.updateOn&&a._pendingChange&&QF(a,p),"submit"!==a.updateOn&&a.markAsTouched()})}(a,p),function N1(a,p){if(p.valueAccessor.setDisabledState){const d=v=>{p.valueAccessor.setDisabledState(v)};a.registerOnDisabledChange(d),p._registerOnDestroy(()=>{a._unregisterOnDisabledChange(d)})}}(a,p)}function vR(a,p){a.forEach(d=>{d.registerOnValidatorChange&&d.registerOnValidatorChange(p)})}function QF(a,p){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),p.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function PT(a,p){const d=a.indexOf(p);d>-1&&a.splice(d,1)}const eO="VALID",mR="INVALID",z_="PENDING",tO="DISABLED";function xT(a){return(CR(a)?a.validators:a)||null}function rI(a){return Array.isArray(a)?_T(a):a||null}function MT(a,p){return(CR(p)?p.asyncValidators:a)||null}function nI(a){return Array.isArray(a)?ST(a):a||null}function CR(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}const FT=a=>a instanceof NT;function oI(a){return(a=>a instanceof lI)(a)?a.value:a.getRawValue()}function sI(a,p){const d=FT(a),v=a.controls;if(!(d?Object.keys(v):v).length)throw new Kt(1e3,"");if(!v[p])throw new Kt(1001,"")}function aI(a,p){FT(a),a._forEachChild((v,C)=>{if(void 0===p[C])throw new Kt(1002,"")})}class IT{constructor(p,d){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=p,this._rawAsyncValidators=d,this._composedValidatorFn=rI(this._rawValidators),this._composedAsyncValidatorFn=nI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(p){this._rawValidators=this._composedValidatorFn=p}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(p){this._rawAsyncValidators=this._composedAsyncValidatorFn=p}get parent(){return this._parent}get valid(){return this.status===eO}get invalid(){return this.status===mR}get pending(){return this.status==z_}get disabled(){return this.status===tO}get enabled(){return this.status!==tO}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(p){this._rawValidators=p,this._composedValidatorFn=rI(p)}setAsyncValidators(p){this._rawAsyncValidators=p,this._composedAsyncValidatorFn=nI(p)}addValidators(p){this.setValidators($F(p,this._rawValidators))}addAsyncValidators(p){this.setAsyncValidators($F(p,this._rawAsyncValidators))}removeValidators(p){this.setValidators(KF(p,this._rawValidators))}removeAsyncValidators(p){this.setAsyncValidators(KF(p,this._rawAsyncValidators))}hasValidator(p){return dR(this._rawValidators,p)}hasAsyncValidator(p){return dR(this._rawAsyncValidators,p)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(p={}){this.touched=!0,this._parent&&!p.onlySelf&&this._parent.markAsTouched(p)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(p=>p.markAllAsTouched())}markAsUntouched(p={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(d=>{d.markAsUntouched({onlySelf:!0})}),this._parent&&!p.onlySelf&&this._parent._updateTouched(p)}markAsDirty(p={}){this.pristine=!1,this._parent&&!p.onlySelf&&this._parent.markAsDirty(p)}markAsPristine(p={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(d=>{d.markAsPristine({onlySelf:!0})}),this._parent&&!p.onlySelf&&this._parent._updatePristine(p)}markAsPending(p={}){this.status=z_,!1!==p.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!p.onlySelf&&this._parent.markAsPending(p)}disable(p={}){const d=this._parentMarkedDirty(p.onlySelf);this.status=tO,this.errors=null,this._forEachChild(v=>{v.disable(Object.assign(Object.assign({},p),{onlySelf:!0}))}),this._updateValue(),!1!==p.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},p),{skipPristineCheck:d})),this._onDisabledChange.forEach(v=>v(!0))}enable(p={}){const d=this._parentMarkedDirty(p.onlySelf);this.status=eO,this._forEachChild(v=>{v.enable(Object.assign(Object.assign({},p),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:p.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},p),{skipPristineCheck:d})),this._onDisabledChange.forEach(v=>v(!1))}_updateAncestors(p){this._parent&&!p.onlySelf&&(this._parent.updateValueAndValidity(p),p.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(p){this._parent=p}updateValueAndValidity(p={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eO||this.status===z_)&&this._runAsyncValidator(p.emitEvent)),!1!==p.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!p.onlySelf&&this._parent.updateValueAndValidity(p)}_updateTreeValidity(p={emitEvent:!0}){this._forEachChild(d=>d._updateTreeValidity(p)),this.updateValueAndValidity({onlySelf:!0,emitEvent:p.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tO:eO}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(p){if(this.asyncValidator){this.status=z_,this._hasOwnPendingAsyncValidator=!0;const d=GF(this.asyncValidator(this));this._asyncValidationSubscription=d.subscribe(v=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(v,{emitEvent:p})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(p,d={}){this.errors=p,this._updateControlsErrors(!1!==d.emitEvent)}get(p){return function W1(a,p,d){if(null==p||(Array.isArray(p)||(p=p.split(d)),Array.isArray(p)&&0===p.length))return null;let v=a;return p.forEach(C=>{v=FT(v)?v.controls.hasOwnProperty(C)?v.controls[C]:null:(a=>a instanceof U1)(v)&&v.at(C)||null}),v}(this,p,".")}getError(p,d){const v=d?this.get(d):this;return v&&v.errors?v.errors[p]:null}hasError(p,d){return!!this.getError(p,d)}get root(){let p=this;for(;p._parent;)p=p._parent;return p}_updateControlsErrors(p){this.status=this._calculateStatus(),p&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(p)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?tO:this.errors?mR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(z_)?z_:this._anyControlsHaveStatus(mR)?mR:eO}_anyControlsHaveStatus(p){return this._anyControls(d=>d.status===p)}_anyControlsDirty(){return this._anyControls(p=>p.dirty)}_anyControlsTouched(){return this._anyControls(p=>p.touched)}_updatePristine(p={}){this.pristine=!this._anyControlsDirty(),this._parent&&!p.onlySelf&&this._parent._updatePristine(p)}_updateTouched(p={}){this.touched=this._anyControlsTouched(),this._parent&&!p.onlySelf&&this._parent._updateTouched(p)}_isBoxedValue(p){return"object"==typeof p&&null!==p&&2===Object.keys(p).length&&"value"in p&&"disabled"in p}_registerOnCollectionChange(p){this._onCollectionChange=p}_setUpdateStrategy(p){CR(p)&&null!=p.updateOn&&(this._updateOn=p.updateOn)}_parentMarkedDirty(p){return!p&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class lI extends IT{constructor(p=null,d,v){super(xT(d),MT(v,d)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(p),this._setUpdateStrategy(d),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),CR(d)&&d.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(p)?p.value:p)}setValue(p,d={}){this.value=this._pendingValue=p,this._onChange.length&&!1!==d.emitModelToViewChange&&this._onChange.forEach(v=>v(this.value,!1!==d.emitViewToModelChange)),this.updateValueAndValidity(d)}patchValue(p,d={}){this.setValue(p,d)}reset(p=this.defaultValue,d={}){this._applyFormState(p),this.markAsPristine(d),this.markAsUntouched(d),this.setValue(this.value,d),this._pendingChange=!1}_updateValue(){}_anyControls(p){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(p){this._onChange.push(p)}_unregisterOnChange(p){PT(this._onChange,p)}registerOnDisabledChange(p){this._onDisabledChange.push(p)}_unregisterOnDisabledChange(p){PT(this._onDisabledChange,p)}_forEachChild(p){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(p){this._isBoxedValue(p)?(this.value=this._pendingValue=p.value,p.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=p}}class NT extends IT{constructor(p,d,v){super(xT(d),MT(v,d)),this.controls=p,this._initObservables(),this._setUpdateStrategy(d),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(p,d){return this.controls[p]?this.controls[p]:(this.controls[p]=d,d.setParent(this),d._registerOnCollectionChange(this._onCollectionChange),d)}addControl(p,d,v={}){this.registerControl(p,d),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}removeControl(p,d={}){this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),delete this.controls[p],this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}setControl(p,d,v={}){this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),delete this.controls[p],d&&this.registerControl(p,d),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}contains(p){return this.controls.hasOwnProperty(p)&&this.controls[p].enabled}setValue(p,d={}){aI(this,p),Object.keys(p).forEach(v=>{sI(this,v),this.controls[v].setValue(p[v],{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d)}patchValue(p,d={}){null!=p&&(Object.keys(p).forEach(v=>{this.controls[v]&&this.controls[v].patchValue(p[v],{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d))}reset(p={},d={}){this._forEachChild((v,C)=>{v.reset(p[C],{onlySelf:!0,emitEvent:d.emitEvent})}),this._updatePristine(d),this._updateTouched(d),this.updateValueAndValidity(d)}getRawValue(){return this._reduceChildren({},(p,d,v)=>(p[v]=oI(d),p))}_syncPendingControls(){let p=this._reduceChildren(!1,(d,v)=>!!v._syncPendingControls()||d);return p&&this.updateValueAndValidity({onlySelf:!0}),p}_forEachChild(p){Object.keys(this.controls).forEach(d=>{const v=this.controls[d];v&&p(v,d)})}_setUpControls(){this._forEachChild(p=>{p.setParent(this),p._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(p){for(const d of Object.keys(this.controls)){const v=this.controls[d];if(this.contains(d)&&p(v))return!0}return!1}_reduceValue(){return this._reduceChildren({},(p,d,v)=>((d.enabled||this.disabled)&&(p[v]=d.value),p))}_reduceChildren(p,d){let v=p;return this._forEachChild((C,_)=>{v=d(v,C,_)}),v}_allControlsDisabled(){for(const p of Object.keys(this.controls))if(this.controls[p].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class U1 extends IT{constructor(p,d,v){super(xT(d),MT(v,d)),this.controls=p,this._initObservables(),this._setUpdateStrategy(d),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(p){return this.controls[p]}push(p,d={}){this.controls.push(p),this._registerControl(p),this.updateValueAndValidity({emitEvent:d.emitEvent}),this._onCollectionChange()}insert(p,d,v={}){this.controls.splice(p,0,d),this._registerControl(d),this.updateValueAndValidity({emitEvent:v.emitEvent})}removeAt(p,d={}){this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),this.controls.splice(p,1),this.updateValueAndValidity({emitEvent:d.emitEvent})}setControl(p,d,v={}){this.controls[p]&&this.controls[p]._registerOnCollectionChange(()=>{}),this.controls.splice(p,1),d&&(this.controls.splice(p,0,d),this._registerControl(d)),this.updateValueAndValidity({emitEvent:v.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(p,d={}){aI(this,p),p.forEach((v,C)=>{sI(this,C),this.at(C).setValue(v,{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d)}patchValue(p,d={}){null!=p&&(p.forEach((v,C)=>{this.at(C)&&this.at(C).patchValue(v,{onlySelf:!0,emitEvent:d.emitEvent})}),this.updateValueAndValidity(d))}reset(p=[],d={}){this._forEachChild((v,C)=>{v.reset(p[C],{onlySelf:!0,emitEvent:d.emitEvent})}),this._updatePristine(d),this._updateTouched(d),this.updateValueAndValidity(d)}getRawValue(){return this.controls.map(p=>oI(p))}clear(p={}){this.controls.length<1||(this._forEachChild(d=>d._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:p.emitEvent}))}_syncPendingControls(){let p=this.controls.reduce((d,v)=>!!v._syncPendingControls()||d,!1);return p&&this.updateValueAndValidity({onlySelf:!0}),p}_forEachChild(p){this.controls.forEach((d,v)=>{p(d,v)})}_updateValue(){this.value=this.controls.filter(p=>p.enabled||this.disabled).map(p=>p.value)}_anyControls(p){return this.controls.some(d=>d.enabled&&p(d))}_setUpControls(){this._forEachChild(p=>this._registerControl(p))}_allControlsDisabled(){for(const p of this.controls)if(p.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(p){p.setParent(this),p._registerOnCollectionChange(this._onCollectionChange)}}const K1={provide:ng,useExisting:Ht(()=>GT)},pI=(()=>Promise.resolve(null))();let GT=(()=>{class a extends ng{constructor(d,v,C,_,O){super(),this._changeDetectorRef=O,this.control=new lI,this._registered=!1,this.update=new me,this._parent=d,this._setValidators(v),this._setAsyncValidators(C),this.valueAccessor=function AT(a,p){if(!p)return null;let d,v,C;return Array.isArray(p),p.forEach(_=>{_.constructor===cR?d=_:function H1(a){return Object.getPrototypeOf(a.constructor)===om}(_)?v=_:C=_}),C||v||d||null}(0,_)}ngOnChanges(d){if(this._checkForErrors(),!this._registered||"name"in d){if(this._registered&&(this._checkName(),this.formDirective)){const v=d.name.previousValue;this.formDirective.removeControl({name:v,path:this._getPath(v)})}this._setUpControl()}"isDisabled"in d&&this._updateDisabled(d),function RT(a,p){if(!a.hasOwnProperty("model"))return!1;const d=a.model;return!!d.isFirstChange()||!Object.is(p,d.currentValue)}(d,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(d){this.viewModel=d,this.update.emit(d)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){JE(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(d){pI.then(()=>{var v;this.control.setValue(d,{emitViewToModelChange:!1}),null===(v=this._changeDetectorRef)||void 0===v||v.markForCheck()})}_updateDisabled(d){const v=d.isDisabled.currentValue,C=""===v||v&&"false"!==v;pI.then(()=>{var _;C&&!this.control.disabled?this.control.disable():!C&&this.control.disabled&&this.control.enable(),null===(_=this._changeDetectorRef)||void 0===_||_.markForCheck()})}_getPath(d){return this._parent?function fR(a,p){return[...p.path,a]}(d,this._parent):[d]}}return a.\u0275fac=function(d){return new(d||a)(Ve(vs,9),Ve(zo,10),Ve(rg,10),Ve(dp,10),Ve(y_,8))},a.\u0275dir=Ct({type:a,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Nr([K1]),cr,Zi]}),a})(),hI=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({}),a})(),Ck=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({imports:[[hI]]}),a})(),wk=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({imports:[Ck]}),a})();function _k(a,p){if(1&a&&(nt(0,"p",11),Vt(1),ft()),2&a){const d=dy();ln(1),Yw("product-details works! ",d.name,"")}}function Sk(a,p){1&a&&(nt(0,"div"),Vt(1,"."),ft())}function bk(a,p){1&a&&Vt(0,"Content to render when condition is false.")}function Ek(a,p){1&a&&Vt(0,"Content to render when condition is true.")}function Ok(a,p){1&a&&(nt(0,"div"),Vt(1," ."),ft())}function Dk(a,p){1&a&&(nt(0,"h2"),Vt(1,"12345"),ft())}function Rk(a,p){1&a&&(nt(0,"h2"),Vt(1,"56789"),ft())}function Ak(a,p){if(1&a&&(nt(0,"div")(1,"li"),Vt(2),ft()()),2&a){const d=p.$implicit,v=p.index;ln(2),Mb("",v+1," . ",d,"")}}const Pk=[{path:"home",component:w1},{path:"agreements",component:m1},{path:"product-details",component:(()=>{class a{constructor(){this.name="H\xea N\xf4",this.x=0,this.hoaqua=["banh mi","hamburgur","trung cut"]}ngOnInit(){}resetname(){this.name="",console.log("Check click"),console.log("hoaqua")}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=Yi({type:a,selectors:[["app-product-details"]],decls:19,vars:10,consts:[[1,"zx"],["name","H\xea n\xf4",4,"ngif"],["type","text",3,"ngModel","ngModelChange"],[3,"value"],[3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["trueblock",""],["elseBlock",""],["so",""],["so1",""],[4,"ngFor","ngForOf"],["name","H\xea n\xf4"]],template:function(d,v){if(1&d&&(nt(0,"div",0),Go(1,_k,2,1,"p",1),nt(2,"input",2),Xn("ngModelChange",function(_){return v.x=_}),ft(),nt(3,"h2"),Vt(4),ft(),jt(5,"input",3),nt(6,"button",4),Xn("click",function(){return v.resetname()}),Vt(7,"Reset Name"),ft(),Go(8,Sk,2,0,"div",5),Go(9,bk,1,0,"ng-template",null,6,jf),Go(11,Ek,1,0,"ng-template",null,7,jf),Go(13,Ok,2,0,"div",5),Go(14,Dk,2,0,"ng-template",null,8,jf),Go(16,Rk,2,0,"ng-template",null,9,jf),Go(18,Ak,3,2,"div",10),ft()),2&d){const C=Al(10),_=Al(12),O=Al(15),R=Al(17);ln(2),Bn("ngModel",v.x),ln(2),Yw("Hello ",v.x,""),ln(1),Bn("value",v.x),ln(3),Bn("ngIf",v.x>5)("ngIfThen",C)("ngIfElse",_),ln(5),Bn("ngIf",v.x>5)("ngIfThen",O)("ngIfElse",R),ln(5),Bn("ngForOf",v.hoaqua)}},directives:[cR,XF,GT,I_,M_],styles:[""]}),a})()}];let Tk=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a}),a.\u0275inj=En({imports:[[CF.forRoot(Pk)],CF]}),a})();const xk=function(){return["/home"]},Mk=function(){return["/agreements"]};let Fk=(()=>{class a{constructor(){this.title="Angular13"}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=Yi({type:a,selectors:[["app-root"]],decls:6,vars:4,consts:[["routerLinkActive","routerLinkActive",3,"routerLink"]],template:function(d,v){1&d&&(nt(0,"a",0),Vt(1," \u0110i T\u1edbi Home\n"),ft(),Vt(2,"\n\xa0\n"),nt(3,"a",0),Vt(4," \u0110i T\u1edbi Agreements\n"),ft(),jt(5,"router-outlet")),2&d&&(Bn("routerLink",Nl(2,xk)),ln(3),Bn("routerLink",Nl(3,Mk)))},directives:[W_,lR,aT],styles:[""]}),a})(),Ik=(()=>{class a{}return a.\u0275fac=function(d){return new(d||a)},a.\u0275mod=fn({type:a,bootstrap:[Fk]}),a.\u0275inj=En({providers:[{provide:Xd,useClass:ND}],imports:[[SN,Tk,$N,wk,U_.withComponents([])]]}),a})();(function yE(){yo=!1})(),wN().bootstrapModule(Ik)},564:($_,W)=>{function ys(f){return null==f||""===f?null:f}function re(f,i){return void 0===i&&(i=!1),null!=f&&(""!==f||i)}function b(f){return!re(f)}function ti(f){return null==f||0===f.length}function jl(f){return null!=f&&"function"==typeof f.toString?f.toString():null}function xr(f){if(void 0!==f){if(null===f||""===f)return null;if("number"==typeof f)return isNaN(f)?void 0:f;var i=parseInt(f,10);return isNaN(i)?void 0:i}}function $o(f){if(void 0!==f)return null!==f&&""!==f&&("boolean"==typeof f?f:/true/i.test(f))}function Uu(f,i,r){void 0===r&&(r=!1);var o=null==f,c=null==i;if(f&&f.toNumber&&(f=f.toNumber()),i&&i.toNumber&&(i=i.toNumber()),o&&c)return 0;if(o)return-1;if(c)return 1;function h(m,w){return m>w?1:m<w?-1:0}if("string"!=typeof f||!r)return h(f,i);try{return f.localeCompare(i)}catch(m){return h(f,i)}}function ms(f){if(f instanceof Set||f instanceof Map){var i=[];return f.forEach(function(r){return i.push(r)}),i}return Object.values(f)}Object.defineProperty(W,"__esModule",{value:!0});var um=Object.freeze({makeNull:ys,exists:re,missing:b,missingOrEmpty:ti,toStringOrNull:jl,attrToNumber:xr,attrToBoolean:$o,attrToString:function lm(f){if(null!=f&&""!==f)return f},referenceCompare:function ig(f,i){return null==f&&null==i||!(null==f&&null!=i||null!=f&&null==i)&&f===i},jsonEquals:function Ul(f,i){return(f?JSON.stringify(f):null)===(i?JSON.stringify(i):null)},defaultComparator:Uu,values:ms}),Sn=function(){function f(){this.existingKeys={}}return f.prototype.addExistingKeys=function(i){for(var r=0;r<i.length;r++)this.existingKeys[i[r]]=!0},f.prototype.getUniqueKey=function(i,r){i=jl(i);for(var o=0;;){var c=void 0;if(i?(c=i,0!==o&&(c+="_"+o)):r?(c=r,0!==o&&(c+="_"+o)):c=""+o,!this.existingKeys[c])return this.existingKeys[c]=!0,c;o++}},f}();function Jt(f,i){null!=f&&(Array.isArray(f)?f.forEach(function(r,o){return i(""+o,r)}):Object.keys(f).forEach(function(r){return i(r,f[r])}))}function zl(f){for(var i={},r=Object.keys(f),o=0;o<r.length;o++){var c=r[o];i[c]=f[c]}return i}function Cs(f,i){if(f){var r=f,o={};return Object.keys(r).forEach(function(c){if(!(i&&i.indexOf(c)>=0)){var h=r[c],m=hp(h)&&h.constructor===Object;o[c]=m?Cs(h):h}}),o}}function oa(f,i){return f[i]}function cm(f,i,r){f[i]=r}function pm(f,i,r,o){var c=oa(f,r);void 0!==c&&cm(i,r,o?o(c):c)}function nh(f){var i={};return f.filter(function(r){return null!=r}).forEach(function(r){Object.keys(r).forEach(function(o){return i[o]=null})}),Object.keys(i)}function Ko(f){if(!f)return[];var i=Object;if("function"==typeof i.values)return i.values(f);var r=[];for(var o in f)f.hasOwnProperty(o)&&f.propertyIsEnumerable(o)&&r.push(f[o]);return r}function Wn(f,i,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1),re(i)&&Jt(i,function(c,h){var m=f[c];m!==h&&(o&&null==m&&null!=h&&"object"==typeof h&&h.constructor===Object&&(f[c]=m={}),hp(h)&&hp(m)&&!Array.isArray(m)?Wn(m,h,r,o):(r||void 0!==h)&&(f[c]=h))})}function qa(f,i,r){if(i&&f){if(!r)return f[i];for(var o=i.split("."),c=f,h=0;h<o.length;h++){if(null==c)return;c=c[o[h]]}return c}}function ws(f,i){Object.keys(f).forEach(function(c){"object"==typeof f[c]&&(f[c]=void 0)});var r=Object.getPrototypeOf(f),o={};Object.keys(r).forEach(function(c){"function"==typeof r[c]&&(o[c]={value:function(){console.warn("AG Grid: "+i+" function "+c+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(f,o)}function hp(f){return"object"==typeof f&&null!==f}var hm=Object.freeze({iterateObject:Jt,cloneObject:zl,deepCloneObject:function Ui(f){return JSON.parse(JSON.stringify(f))},deepCloneDefinition:Cs,getProperty:oa,setProperty:cm,copyPropertiesIfPresent:function zu(f,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];r.forEach(function(c){return pm(f,i,c)})},copyPropertyIfPresent:pm,getAllKeysInObjects:nh,getAllValuesInObject:Ko,mergeDeep:Wn,missingOrEmptyObject:function ih(f){return b(f)||0===Object.keys(f).length},get:function sa(f,i,r){if(null==f)return r;for(var o=i.split("."),c=f;o.length>1;)if(null==(c=c[o.shift()]))return r;var h=c[o[0]];return null!=h?h:r},set:function oh(f,i,r){if(null!=f){for(var o=i.split("."),c=f;o.length>1;)if(null==(c=c[o.shift()]))return;c[o[0]]=r}},deepFreeze:function dm(f){return Object.freeze(f),ms(f).forEach(function(i){(hp(i)||"function"==typeof i)&&dm(i)}),f},getValueUsingField:qa,removeAllReferences:ws,isNonNullObject:hp}),vr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,fm=/([^\s,]+)/g,gm={};function zt(f,i){gm[i]||(f(),gm[i]=!0)}function sh(f){if(f.name)return f.name;var i=/function\s+([^\(]+)/.exec(f.toString());return i&&2===i.length?i[1].trim():null}function ah(f){return!!(f&&f.constructor&&f.call&&f.apply)}function og(f){Gt(f,400)}var $r=[],Kr=!1;function sg(f){$r.push(f),!Kr&&(Kr=!0,window.setTimeout(function(){var i=$r.slice();$r.length=0,Kr=!1,i.forEach(function(r){return r()})},0))}function Gt(f,i){void 0===i&&(i=0),f.length>0&&window.setTimeout(function(){return f.forEach(function(r){return r()})},i)}function _s(f,i,r){var o;return void 0===r&&(r=!1),function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];var m=this,w=r&&!o;window.clearTimeout(o),o=window.setTimeout(function(){o=null,r||f.apply(m,c)},i),w&&f.apply(m,c)}}function lh(f,i){var r=0;return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];var h=this,m=(new Date).getTime();m-r<i||(r=m,f.apply(h,o))}}function ag(f,i,r,o){void 0===r&&(r=100);var c=(new Date).getTime(),h=null,m=!1,w=function(){var A=(new Date).getTime()-c>r;(f()||A)&&(i(),m=!0,null!=h&&(window.clearInterval(h),h=null),A&&o&&console.warn(o))};w(),m||(h=window.setInterval(w,10))}function K_(f){f&&f()}var nO=Object.freeze({doOnce:zt,getFunctionName:sh,getFunctionParameters:function aa(f){var i=f.toString().replace(vr,"");return i.slice(i.indexOf("(")+1,i.indexOf(")")).match(fm)||[]},isFunction:ah,executeInAWhile:og,executeNextVMTurn:sg,executeAfter:Gt,debounce:_s,throttle:lh,waitUntil:ag,compose:function $u(){for(var f=[],i=0;i<arguments.length;i++)f[i]=arguments[i];return function(r){return f.reduce(function(o,c){return c(o)},r)}},callIfPresent:K_}),vm=function(){function f(i,r){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=r,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return f.prototype.getBeanInstances=function(){return ms(this.beanWrappers).map(function(i){return i.beanInstance})},f.prototype.createBean=function(i,r){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],r),i},f.prototype.wireBeans=function(i,r){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),re(r)&&i.forEach(r),this.callLifeCycleMethods(i,"postConstructMethods")},f.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),Jt(this.beanWrappers,function(o,c){var h;c.bean.__agBeanMetaData&&c.bean.__agBeanMetaData.autowireMethods&&c.bean.__agBeanMetaData.autowireMethods.agConstructor&&(h=c.bean.__agBeanMetaData.autowireMethods.agConstructor);var m=i.getBeansForParameters(h,c.bean.name),w=function Y_(f,i){var r=[null].concat(i);return new(f.bind.apply(f,r))}(c.bean,m);c.beanInstance=w});var r=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+r)},f.prototype.createBeanWrapper=function(i){var r=i.__agBeanMetaData;if(!r){var o;return o=i.prototype.constructor?sh(i.prototype.constructor):""+i,void console.error("Context item "+o+" is not a bean")}this.beanWrappers[r.beanName]={bean:i,beanInstance:null,beanName:r.beanName}},f.prototype.autoWireBeans=function(i){var r=this;i.forEach(function(o){r.forEachMetaDataInHierarchy(o,function(c,h){var m=c.agClassAttributes;!m||m.forEach(function(w){var A=r.lookupBeanInstance(h,w.beanName,w.optional);o[w.attributeName]=A})})})},f.prototype.methodWireBeans=function(i){var r=this;i.forEach(function(o){r.forEachMetaDataInHierarchy(o,function(c,h){Jt(c.autowireMethods,function(m,w){if("agConstructor"!==m){var A=r.getBeansForParameters(w,h);o[m].apply(o,A)}})})})},f.prototype.forEachMetaDataInHierarchy=function(i,r){for(var o=Object.getPrototypeOf(i);null!=o;){var c=o.constructor;c.hasOwnProperty("__agBeanMetaData")&&r(c.__agBeanMetaData,this.getBeanName(c)),o=Object.getPrototypeOf(o)}},f.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var r=i.toString();return r.substring(9,r.indexOf("("))},f.prototype.getBeansForParameters=function(i,r){var o=this,c=[];return i&&Jt(i,function(h,m){var w=o.lookupBeanInstance(r,m);c[Number(h)]=w}),c},f.prototype.lookupBeanInstance=function(i,r,o){if(void 0===o&&(o=!1),"context"===r)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(r))return this.contextParams.providedBeanInstances[r];var c=this.beanWrappers[r];return c?c.beanInstance:(o||console.error("AG Grid: unable to find bean reference "+r+" while initialising "+i),null)},f.prototype.callLifeCycleMethods=function(i,r){var o=this;i.forEach(function(c){return o.callLifeCycleMethodsOnBean(c,r)})},f.prototype.callLifeCycleMethodsOnBean=function(i,r,o){var c={};this.forEachMetaDataInHierarchy(i,function(m){var w=m[r];w&&w.forEach(function(A){A!=o&&(c[A]=!0)})}),Object.keys(c).forEach(function(m){return i[m]()})},f.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},f.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},f.prototype.destroyBean=function(i){!i||this.destroyBeans([i])},f.prototype.destroyBeans=function(i){var r=this;return i?(i.forEach(function(o){r.callLifeCycleMethodsOnBean(o,"preDestroyMethods","destroy"),"function"==typeof o.destroy&&o.destroy()}),[]):[]},f}();function lg(f,i,r){var o=zi(f.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(i)}function je(f,i,r){var o=zi(f.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(i)}function An(f,i,r){var o=zi(f.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(i)}function Xe(f){return function(i){zi(i).beanName=f}}function K(f){return function(i,r,o){ym(i,f,!1,0,r,null)}}function $t(f){return function(i,r,o){ym(i,f,!0,0,r,null)}}function ym(f,i,r,o,c,h){if(null!==i)if("number"!=typeof h){var m=zi(f.constructor);m.agClassAttributes||(m.agClassAttributes=[]),m.agClassAttributes.push({attributeName:c,beanName:i,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Rr(f){return function(i,r,o){var h,c="function"==typeof i?i:i.constructor;if("number"==typeof o){var m=void 0;r?(h=zi(c),m=r):(h=zi(c),m="agConstructor"),h.autowireMethods||(h.autowireMethods={}),h.autowireMethods[m]||(h.autowireMethods[m]={}),h.autowireMethods[m][o]=f}}}function zi(f){return f.hasOwnProperty("__agBeanMetaData")||(f.__agBeanMetaData={}),f.__agBeanMetaData}var f,mm=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ug=function(f,i){return function(r,o){i(r,o,f)}},la=function(){function f(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return f.prototype.setBeans=function(i,r,o,c){if(void 0===c&&(c=null),this.frameworkOverrides=o,c){var h=r.useAsyncEvents();this.addGlobalListener(c,h)}},f.prototype.getListeners=function(i,r,o){var c=r?this.allAsyncListeners:this.allSyncListeners,h=c.get(i);return!h&&o&&c.set(i,h=new Set),h},f.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},f.prototype.addEventListener=function(i,r,o){void 0===o&&(o=!1),this.getListeners(i,o,!0).add(r)},f.prototype.removeEventListener=function(i,r,o){void 0===o&&(o=!1);var c=this.getListeners(i,o,!1);c&&(c.delete(r),0===c.size)&&(o?this.allAsyncListeners:this.allSyncListeners).delete(i)},f.prototype.addGlobalListener=function(i,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).add(i)},f.prototype.removeGlobalListener=function(i,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},f.prototype.dispatchEvent=function(i){this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0},f.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},f.prototype.dispatchToListeners=function(i,r){var o=this,c=i.type,m=this.getListeners(c,r,!1);m&&m.forEach(function(x){r?o.dispatchAsync(function(){return x(i)}):x(i)}),(r?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(A){r?o.dispatchAsync(function(){return o.frameworkOverrides.dispatchEvent(c,function(){return A(c,i)},!0)}):o.frameworkOverrides.dispatchEvent(c,function(){return A(c,i)},!0)})},f.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},f.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(r){return r()})},mm([ug(0,Rr("loggerFactory")),ug(1,Rr("gridOptionsWrapper")),ug(2,Rr("frameworkOverrides")),ug(3,Rr("globalEventListener"))],f.prototype,"setBeans",null),mm([Xe("eventService")],f)}(),ge=function(){function f(){}return f.ROW_BUFFER_SIZE=10,f.LAYOUT_INTERVAL=500,f.BATCH_WAIT_MILLIS=50,f.EXPORT_TYPE_DRAG_COPY="dragCopy",f.EXPORT_TYPE_CLIPBOARD="clipboard",f.EXPORT_TYPE_EXCEL="excel",f.EXPORT_TYPE_CSV="csv",f.ROW_MODEL_TYPE_INFINITE="infinite",f.ROW_MODEL_TYPE_VIEWPORT="viewport",f.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",f.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",f.ALWAYS="always",f.ONLY_WHEN_GROUPING="onlyWhenGrouping",f.PINNED_TOP="top",f.PINNED_BOTTOM="bottom",f.DOM_LAYOUT_NORMAL="normal",f.DOM_LAYOUT_PRINT="print",f.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",f.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",f.SOURCE_PASTE="paste",f.PINNED_RIGHT="right",f.PINNED_LEFT="left",f.SORT_ASC="asc",f.SORT_DESC="desc",f.INPUT_SELECTOR="input, select, button, textarea",f.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",f.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",f}();(f=W.ModuleNames||(W.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",f.CommunityAllModules="@ag-grid-community/all",f.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",f.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",f.CsvExportModule="@ag-grid-community/csv-export",f.EnterpriseCoreModule="@ag-grid-enterprise/core",f.EnterpriseAllModules="@ag-grid-enterprise/all",f.RowGroupingModule="@ag-grid-enterprise/row-grouping",f.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",f.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",f.MenuModule="@ag-grid-enterprise/menu",f.SetFilterModule="@ag-grid-enterprise/set-filter",f.MultiFilterModule="@ag-grid-enterprise/multi-filter",f.StatusBarModule="@ag-grid-enterprise/status-bar",f.SideBarModule="@ag-grid-enterprise/side-bar",f.RangeSelectionModule="@ag-grid-enterprise/range-selection",f.MasterDetailModule="@ag-grid-enterprise/master-detail",f.RichSelectModule="@ag-grid-enterprise/rich-select",f.GridChartsModule="@ag-grid-enterprise/charts",f.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",f.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",f.ExcelExportModule="@ag-grid-enterprise/excel-export",f.ClipboardModule="@ag-grid-enterprise/clipboard",f.SparklinesModule="@ag-grid-enterprise/sparklines",f.AngularModule="@ag-grid-community/angular",f.ReactModule="@ag-grid-community/react",f.VueModule="@ag-grid-community/vue",f.PolymerModule="@ag-grid-community/polymer";var wt=function(){function f(){}return f.register=function(i,r){void 0===r&&(r=!0),f.modulesMap[i.moduleName]=i,void 0===f.moduleBased?f.moduleBased=r:f.moduleBased!==r&&zt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},f.registerModules=function(i,r){void 0===r&&(r=!0),i&&i.forEach(function(o){return f.register(o,r)})},f.assertRegistered=function(i,r){return!!this.isRegistered(i)||(c=f.moduleBased?"AG Grid: unable to use "+r+" as module "+i+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+r+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",zt(function(){console.warn(c)},r+i),!1);var c},f.isRegistered=function(i){return!!f.modulesMap[i]},f.getRegisteredModules=function(){return ms(f.modulesMap)},f.isPackageBased=function(){return!f.moduleBased},f.modulesMap={},f}(),fp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},iO=0,Bt=function(){function f(i,r,o,c){this.instanceId=iO++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new la,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=r,this.colId=o,this.primary=c,this.setState(i)}return f.prototype.getInstanceId=function(){return this.instanceId},f.prototype.setState=function(i){void 0!==i.sort?(i.sort===ge.SORT_ASC||i.sort===ge.SORT_DESC)&&(this.sort=i.sort):(i.initialSort===ge.SORT_ASC||i.initialSort===ge.SORT_DESC)&&(this.sort=i.initialSort);var r=xr(i.sortIndex),o=xr(i.initialSortIndex);void 0!==r?null!==r&&(this.sortIndex=r):null!==o&&(this.sortIndex=o);var c=$o(i.hide),h=$o(i.initialHide);this.visible=void 0!==c?!c:!h,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var m=xr(i.flex),w=xr(i.initialFlex);void 0!==m?this.flex=m:void 0!==w&&(this.flex=w)},f.prototype.setColDef=function(i,r){this.colDef=i,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation()},f.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},f.prototype.setParent=function(i){this.parent=i},f.prototype.getParent=function(){return this.parent},f.prototype.setOriginalParent=function(i){this.originalParent=i},f.prototype.getOriginalParent=function(){return this.originalParent},f.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},f.prototype.initDotNotation=function(){var i=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=re(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=re(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},f.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},f.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var r=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(r,i,!0)},f.prototype.isEmptyGroup=function(){return!1},f.prototype.isRowGroupDisplayed=function(i){return!(b(this.colDef)||b(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},f.prototype.isPrimary=function(){return this.primary},f.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},f.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},f.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},f.prototype.validate=function(){var i=this.colDef;function r(m,w,A){zt(function(){A?console.warn(m,A):zt(function(){return console.warn(m)},w)},w)}this.gridOptionsWrapper.isRowModelDefault()&&!wt.isRegistered(W.ModuleNames.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(m){re(i[m])&&(wt.isPackageBased()?r("AG Grid: "+m+" is only valid in ag-grid-enterprise, your column definition should not have "+m,"ColumnRowGroupingMissing"+m):r("AG Grid: "+m+" is only valid with AG Grid Enterprise Module "+W.ModuleNames.RowGroupingModule+" - your column definition should not have "+m,"ColumnRowGroupingMissing"+m))}),wt.isRegistered(W.ModuleNames.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(wt.isPackageBased()?r("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):r("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+W.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(m){re(i[m])&&r("AG Grid: "+m+" is not possible when doing tree data, your column definition should not have "+m,"TreeDataCannotRowGroup")}),re(this.colDef.width)&&"number"!=typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),i.pinnedRowCellRenderer&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererParams&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererFramework&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowValueGetter&&r("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},f.prototype.addEventListener=function(i,r){this.eventService.addEventListener(i,r)},f.prototype.removeEventListener=function(i,r){this.eventService.removeEventListener(i,r)},f.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},f.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var r=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(r)}return!1},f.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(i,this.colDef.editable)},f.prototype.isSuppressFillHandle=function(){return!!$o(this.colDef.suppressFillHandle)},f.prototype.isAutoHeight=function(){return!!$o(this.colDef.autoHeight)},f.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},f.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},f.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},f.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},f.prototype.isResizable=function(){return!!$o(this.colDef.resizable)},f.prototype.isColumnFunc=function(i,r){return"boolean"==typeof r?r:"function"==typeof r&&r(this.createColumnFunctionCallbackParams(i))},f.prototype.setMoving=function(i,r){void 0===r&&(r="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_MOVING_CHANGED,r))},f.prototype.createColumnEvent=function(i,r){return{api:this.gridApi,columnApi:this.columnApi,type:i,column:this,columns:[this],source:r}},f.prototype.isMoving=function(){return this.moving},f.prototype.getSort=function(){return this.sort},f.prototype.setSort=function(i,r){void 0===r&&(r="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_SORT_CHANGED,r)))},f.prototype.setMenuVisible=function(i,r){void 0===r&&(r="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_MENU_VISIBLE_CHANGED,r)))},f.prototype.isMenuVisible=function(){return this.menuVisible},f.prototype.isSortAscending=function(){return this.sort===ge.SORT_ASC},f.prototype.isSortDescending=function(){return this.sort===ge.SORT_DESC},f.prototype.isSortNone=function(){return b(this.sort)},f.prototype.isSorting=function(){return re(this.sort)},f.prototype.getSortIndex=function(){return this.sortIndex},f.prototype.setSortIndex=function(i){this.sortIndex=i},f.prototype.setAggFunc=function(i){this.aggFunc=i},f.prototype.getAggFunc=function(){return this.aggFunc},f.prototype.getLeft=function(){return this.left},f.prototype.getOldLeft=function(){return this.oldLeft},f.prototype.getRight=function(){return this.left+this.actualWidth},f.prototype.setLeft=function(i,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_LEFT_CHANGED,r)))},f.prototype.isFilterActive=function(){return this.filterActive},f.prototype.setFilterActive=function(i,r,o){void 0===r&&(r="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_FILTER_ACTIVE_CHANGED,r)));var c=this.createColumnEvent(f.EVENT_FILTER_CHANGED,r);o&&Wn(c,o),this.eventService.dispatchEvent(c)},f.prototype.setPinned=function(i){this.pinned=!0===i||i===ge.PINNED_LEFT?ge.PINNED_LEFT:i===ge.PINNED_RIGHT?ge.PINNED_RIGHT:null},f.prototype.setFirstRightPinned=function(i,r){void 0===r&&(r="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_FIRST_RIGHT_PINNED_CHANGED,r)))},f.prototype.setLastLeftPinned=function(i,r){void 0===r&&(r="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_LAST_LEFT_PINNED_CHANGED,r)))},f.prototype.isFirstRightPinned=function(){return this.firstRightPinned},f.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},f.prototype.isPinned=function(){return this.pinned===ge.PINNED_LEFT||this.pinned===ge.PINNED_RIGHT},f.prototype.isPinnedLeft=function(){return this.pinned===ge.PINNED_LEFT},f.prototype.isPinnedRight=function(){return this.pinned===ge.PINNED_RIGHT},f.prototype.getPinned=function(){return this.pinned},f.prototype.setVisible=function(i,r){void 0===r&&(r="api");var o=!0===i;this.visible!==o&&(this.visible=o,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_VISIBLE_CHANGED,r)))},f.prototype.isVisible=function(){return this.visible},f.prototype.getColDef=function(){return this.colDef},f.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},f.prototype.getColId=function(){return this.colId},f.prototype.getId=function(){return this.getColId()},f.prototype.getUniqueId=function(){return this.getId()},f.prototype.getDefinition=function(){return this.colDef},f.prototype.getActualWidth=function(){return this.actualWidth},f.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},f.prototype.getColSpan=function(i){if(b(this.colDef.colSpan))return 1;var r=this.createBaseColDefParams(i),o=this.colDef.colSpan(r);return Math.max(o,1)},f.prototype.getRowSpan=function(i){if(b(this.colDef.rowSpan))return 1;var r=this.createBaseColDefParams(i),o=this.colDef.rowSpan(r);return Math.max(o,1)},f.prototype.setActualWidth=function(i,r,o){void 0===r&&(r="api"),void 0===o&&(o=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==r&&"gridInitializing"!==r&&(this.flex=null),o||this.fireColumnWidthChangedEvent(r))},f.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_WIDTH_CHANGED,i))},f.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},f.prototype.getMinWidth=function(){return this.minWidth},f.prototype.getMaxWidth=function(){return this.maxWidth},f.prototype.getFlex=function(){return this.flex||0},f.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},f.prototype.setMinimum=function(i){void 0===i&&(i="api"),re(this.minWidth)&&this.setActualWidth(this.minWidth,i)},f.prototype.setRowGroupActive=function(i,r){void 0===r&&(r="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_ROW_GROUP_CHANGED,r)))},f.prototype.isRowGroupActive=function(){return this.rowGroupActive},f.prototype.setPivotActive=function(i,r){void 0===r&&(r="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_PIVOT_CHANGED,r)))},f.prototype.isPivotActive=function(){return this.pivotActive},f.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},f.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},f.prototype.setValueActive=function(i,r){void 0===r&&(r="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent(f.EVENT_VALUE_CHANGED,r)))},f.prototype.isValueActive=function(){return this.aggregationActive},f.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},f.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},f.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},f.prototype.getMenuTabs=function(i){var r=this.getColDef().menuTabs;return null==r&&(r=i),r},f.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},f.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},f.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},f.EVENT_MOVING_CHANGED="movingChanged",f.EVENT_LEFT_CHANGED="leftChanged",f.EVENT_WIDTH_CHANGED="widthChanged",f.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",f.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",f.EVENT_VISIBLE_CHANGED="visibleChanged",f.EVENT_FILTER_CHANGED="filterChanged",f.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",f.EVENT_SORT_CHANGED="sortChanged",f.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",f.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",f.EVENT_PIVOT_CHANGED="columnPivotChanged",f.EVENT_VALUE_CHANGED="columnValueChanged",fp([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),fp([K("columnUtils")],f.prototype,"columnUtils",void 0),fp([K("columnApi")],f.prototype,"columnApi",void 0),fp([K("gridApi")],f.prototype,"gridApi",void 0),fp([K("context")],f.prototype,"context",void 0),fp([je],f.prototype,"initialise",null),f}();function Ss(){for(var f=[],i=0;i<arguments.length;i++)f[i]=arguments[i];for(var r=0;r<f.length;r++){var o=f[r];if(re(o))return o}return null}function rr(f){if(f&&f.length)return f[f.length-1]}function Xa(f,i,r){return null==f&&null==i||null!=f&&null!=i&&f.length===i.length&&f.every(function(o,c){return r?r(o,i[c]):i[c]===o})}function cg(f){return f.sort(function(i,r){return i-r})}function pn(f,i){var r=f.indexOf(i);r>=0&&f.splice(r,1)}function ch(f,i){i.forEach(function(r){return pn(f,r)})}function Yo(f,i,r){f.splice(r,0,i)}function wo(f,i,r){ch(f,i),i.slice().reverse().forEach(function(o){return Yo(f,o,r)})}function Ei(f,i){return f.indexOf(i)>-1}function pg(f,i){null==i||null==f||i.forEach(function(r){return f.push(r)})}var _m=Object.freeze({firstExistingValue:Ss,existsAndNotEmpty:function q_(f){return null!=f&&f.length>0},last:rr,areEqual:Xa,compareArrays:function Cm(f,i){return Xa(f,i)},shallowCompare:function uh(f,i){return Xa(f,i)},sortNumerically:cg,removeRepeatsFromArray:function Ku(f,i){if(f)for(var r=f.length-2;r>=0;r--)f[r]===i&&f[r+1]===i&&f.splice(r+1,1)},removeFromArray:pn,removeAllFromArray:ch,insertIntoArray:Yo,insertArrayIntoArray:function ph(f,i,r){if(null!=f&&null!=i)for(var o=i.length-1;o>=0;o--)Yo(f,i[o],r)},moveInArray:wo,includes:Ei,flatten:function X_(f){return[].concat.apply([],f)},pushAll:pg,toStrings:function dg(f){return f.map(jl)},forEachReverse:function wm(f,i){if(null!=f)for(var r=f.length-1;r>=0;r--)i(f[r],r)}}),nr=function(){function f(i,r,o,c){this.displayedChildren=[],this.localEventService=new la,this.groupId=r,this.instanceId=o,this.providedColumnGroup=i,this.pinned=c}return f.createUniqueId=function(i,r){return i+"_"+r},f.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},f.prototype.getParent=function(){return this.parent},f.prototype.setParent=function(i){this.parent=i},f.prototype.getUniqueId=function(){return f.createUniqueId(this.groupId,this.instanceId)},f.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},f.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(r){return r.isMoving()})},f.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(c){c instanceof f&&c.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var r=rr(this.displayedChildren).getLeft();this.setLeft(r)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},f.prototype.getLeft=function(){return this.left},f.prototype.getOldLeft=function(){return this.oldLeft},f.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(f.EVENT_LEFT_CHANGED)))},f.prototype.getPinned=function(){return this.pinned},f.prototype.createAgEvent=function(i){return{type:i}},f.prototype.addEventListener=function(i,r){this.localEventService.addEventListener(i,r)},f.prototype.removeEventListener=function(i,r){this.localEventService.removeEventListener(i,r)},f.prototype.getGroupId=function(){return this.groupId},f.prototype.getInstanceId=function(){return this.instanceId},f.prototype.isChildInThisGroupDeepSearch=function(i){var r=!1;return this.children.forEach(function(o){i===o&&(r=!0),o instanceof f&&o.isChildInThisGroupDeepSearch(i)&&(r=!0)}),r},f.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(r){i+=r.getActualWidth()}),i},f.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(r){r.isResizable()&&(i=!0)}),i},f.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(r){i+=r.getMinWidth()||0}),i},f.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},f.prototype.getDisplayedChildren=function(){return this.displayedChildren},f.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},f.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},f.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},f.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},f.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},f.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},f.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},f.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},f.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(r){r instanceof Bt?i.push(r):r instanceof f&&r.addDisplayedLeafColumns(i)})},f.prototype.addLeafColumns=function(i){this.children.forEach(function(r){r instanceof Bt?i.push(r):r instanceof f&&r.addLeafColumns(i)})},f.prototype.getChildren=function(){return this.children},f.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},f.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},f.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},f.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},f.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!r||!r.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(f.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(c){if(!(c instanceof f)||c.displayedChildren&&c.displayedChildren.length)switch(c.getColumnGroupShow()){case f.HEADER_GROUP_SHOW_OPEN:r.providedColumnGroup.isExpanded()&&i.displayedChildren.push(c);break;case f.HEADER_GROUP_SHOW_CLOSED:r.providedColumnGroup.isExpanded()||i.displayedChildren.push(c);break;default:i.displayedChildren.push(c)}}),this.localEventService.dispatchEvent(this.createAgEvent(f.EVENT_DISPLAYED_CHILDREN_CHANGED))},f.HEADER_GROUP_SHOW_OPEN="open",f.HEADER_GROUP_SHOW_CLOSED="closed",f.EVENT_LEFT_CHANGED="leftChanged",f.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),f}(),Ar=function(){function f(i,r,o,c){this.localEventService=new la,this.expandable=!1,this.colGroupDef=i,this.groupId=r,this.expanded=!!i&&!!i.openByDefault,this.padding=o,this.level=c}return f.prototype.setOriginalParent=function(i){this.originalParent=i},f.prototype.getOriginalParent=function(){return this.originalParent},f.prototype.getLevel=function(){return this.level},f.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},f.prototype.isPadding=function(){return this.padding},f.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:f.EVENT_EXPANDED_CHANGED})},f.prototype.isExpandable=function(){return this.expandable},f.prototype.isExpanded=function(){return this.expanded},f.prototype.getGroupId=function(){return this.groupId},f.prototype.getId=function(){return this.getGroupId()},f.prototype.setChildren=function(i){this.children=i},f.prototype.getChildren=function(){return this.children},f.prototype.getColGroupDef=function(){return this.colGroupDef},f.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},f.prototype.addLeafColumns=function(i){!this.children||this.children.forEach(function(r){r instanceof Bt?i.push(r):r instanceof f&&r.addLeafColumns(i)})},f.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},f.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.getLeafColumns().forEach(function(r){return r.addEventListener(Bt.EVENT_VISIBLE_CHANGED,i.onColumnVisibilityChanged.bind(i))})},f.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,r=!1,o=!1,c=this.findChildrenRemovingPadding(),h=0,m=c.length;h<m;h++){var w=c[h];if(w.isVisible()){var A=w.getColumnGroupShow();A===nr.HEADER_GROUP_SHOW_OPEN?(i=!0,o=!0):A===nr.HEADER_GROUP_SHOW_CLOSED?(r=!0,o=!0):(i=!0,r=!0)}}var x=i&&r&&o;this.expandable!==x&&(this.expandable=x,this.localEventService.dispatchEvent({type:f.EVENT_EXPANDABLE_CHANGED}))}},f.prototype.findChildrenRemovingPadding=function(){var i=[],r=function(o){o.forEach(function(c){c instanceof f&&c.isPadding()?r(c.children):i.push(c)})};return r(this.children),i},f.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},f.prototype.addEventListener=function(i,r){this.localEventService.addEventListener(i,r)},f.prototype.removeEventListener=function(i,r){this.localEventService.removeEventListener(i,r)},f.EVENT_EXPANDED_CHANGED="expandedChanged",f.EVENT_EXPANDABLE_CHANGED="expandableChanged",f}(),bn={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},Za="__ag_Grid_Stop_Propagation",qo=["touchstart","touchend","touchmove","touchcancel"],Sm={};function $l(f){f[Za]=!0}function bs(f){return!0===f[Za]}var gp=function(){var f={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r){if("boolean"==typeof Sm[r])return Sm[r];var o=document.createElement(f[r]||"div");return Sm[r="on"+r]=r in o}}();function Yu(f,i,r){for(var o=i.target;o;){var c=f.getDomData(o,r);if(c)return c;o=o.parentElement}return null}function dh(f,i){return!(!i||!f)&&fg(i).indexOf(f)>=0}function vp(f){for(var i=[],r=f.target;r;)i.push(r),r=r.parentElement;return i}function fg(f){var i=f;return i.path?i.path:i.composedPath?i.composedPath():i.__agGridEventPath?i.__agGridEventPath:vp(f)}function yp(f,i,r,o){var c=Ei(qo,r);f&&f.addEventListener&&f.addEventListener(i,r,o,c?{passive:!0}:void 0)}var bm=Object.freeze({stopPropagationForAgGrid:$l,isStopPropagationForAgGrid:bs,isEventSupported:gp,getCtrlForEvent:Yu,addChangeListener:function qu(f,i){f.addEventListener("changed",i),f.addEventListener("paste",i),f.addEventListener("input",i)},isElementInEventPath:dh,createEventPath:vp,addAgGridEventPath:function hg(f){f.__agGridEventPath=fg(f)},getEventPath:fg,addSafePassiveEventListener:yp}),mp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ge=function(){function f(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return f.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},f.prototype.getContext=function(){return this.context},f.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:f.EVENT_DESTROYED})},f.prototype.addEventListener=function(i,r){this.localEventService||(this.localEventService=new la),this.localEventService.addEventListener(i,r)},f.prototype.removeEventListener=function(i,r){this.localEventService&&this.localEventService.removeEventListener(i,r)},f.prototype.dispatchEventAsync=function(i){var r=this;window.setTimeout(function(){return r.dispatchEvent(i)},0)},f.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},f.prototype.addManagedListener=function(i,r,o){var c=this;if(!this.destroyed){i instanceof HTMLElement?yp(this.getFrameworkOverrides(),i,r,o):i.addEventListener(r,o);var h=function(){return i.removeEventListener(r,o),c.destroyFunctions=c.destroyFunctions.filter(function(m){return m!==h}),null};return this.destroyFunctions.push(h),h}},f.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},f.prototype.createManagedBean=function(i,r){var o=this.createBean(i,r);return this.addDestroyFunc(this.destroyBean.bind(this,i,r)),o},f.prototype.createBean=function(i,r,o){return(r||this.getContext()).createBean(i,o)},f.prototype.destroyBean=function(i,r){return(r||this.getContext()).destroyBean(i)},f.prototype.destroyBeans=function(i,r){var o=this;return i&&i.forEach(function(c){return o.destroyBean(c,r)}),[]},f.EVENT_DESTROYED="destroyed",mp([K("frameworkOverrides")],f.prototype,"frameworkOverrides",void 0),mp([K("context")],f.prototype,"context",void 0),mp([K("eventService")],f.prototype,"eventService",void 0),mp([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),mp([An],f.prototype,"destroy",null),f}(),Q_=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gg=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Yr=function(f,i){return function(r,o){i(r,o,f)}},Em=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Q_(i,f),i.prototype.setBeans=function(r){this.logger=r.create("ColumnFactory")},i.prototype.createColumnTree=function(r,o,c){var h=new Sn,m=this.extractExistingTreeData(c),w=m.existingCols,A=m.existingGroups;h.addExistingKeys(m.existingColKeys);var N=this.recursivelyCreateColumns(r,0,o,w,h,A),k=this.findMaxDept(N,0);this.logger.log("Number of levels for grouped columns is "+k);var q=this.balanceColumnTree(N,0,k,h);return this.columnUtils.depthFirstOriginalTreeSearch(null,q,function(le,de){le instanceof Ar&&le.setupExpandable(),le.setOriginalParent(de)}),{columnTree:q,treeDept:k}},i.prototype.extractExistingTreeData=function(r){var o=[],c=[],h=[];return r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(m){if(m instanceof Ar)c.push(m);else{var A=m;h.push(A.getId()),o.push(A)}}),{existingCols:o,existingGroups:c,existingColKeys:h}},i.prototype.createForAutoGroups=function(r,o){var c=this;return r.map(function(h){return c.createAutoGroupTreeItem(o,h)})},i.prototype.createAutoGroupTreeItem=function(r,o){for(var h=o,m=this.findDepth(r)-1;m>=0;m--){var w=new Ar(null,"FAKE_PATH_"+o.getId()+"}_"+m,!0,m);this.context.createBean(w),w.setChildren([h]),h.setOriginalParent(w),h=w}return h},i.prototype.findDepth=function(r){for(var o=0,c=r;c&&c[0]&&c[0]instanceof Ar;)o++,c=c[0].getChildren();return o},i.prototype.balanceColumnTree=function(r,o,c,h){for(var m=[],w=0;w<r.length;w++){var A=r[w];if(A instanceof Ar){var x=A,N=this.balanceColumnTree(x.getChildren(),o+1,c,h);x.setChildren(N),m.push(x)}else{for(var k=void 0,q=void 0,te=c-1;te>=o;te--){var le=h.getUniqueKey(null,null),de=this.createMergedColGroupDef(null),ye=new Ar(de,le,!0,o);this.context.createBean(ye),q&&q.setChildren([ye]),q=ye,k||(k=q)}if(k&&q){if(m.push(k),r.some(function(Oe){return Oe instanceof Ar})){q.setChildren([A]);continue}q.setChildren(r);break}m.push(A)}}return m},i.prototype.findMaxDept=function(r,o){for(var c=o,h=0;h<r.length;h++){var m=r[h];if(m instanceof Ar){var A=this.findMaxDept(m.getChildren(),o+1);c<A&&(c=A)}}return c},i.prototype.recursivelyCreateColumns=function(r,o,c,h,m,w){var A=this;return(r||[]).map(function(x){return A.isColumnGroup(x)?A.createColumnGroup(c,x,o,h,m,w):A.createColumn(c,x,h,m)})},i.prototype.createColumnGroup=function(r,o,c,h,m,w){var A=this.createMergedColGroupDef(o),x=m.getUniqueKey(A.groupId||null,null),N=new Ar(A,x,!1,c);this.context.createBean(N);var k=this.findExistingGroup(o,w);k&&pn(w,k),k&&k.isExpanded()&&N.setExpanded(!0);var q=this.recursivelyCreateColumns(A.children,c+1,r,h,m,w);return N.setChildren(q),N},i.prototype.createMergedColGroupDef=function(r){var o={};return Object.assign(o,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(o,r),this.checkForDeprecatedItems(o),o},i.prototype.createColumn=function(r,o,c,h){var m=this.mergeColDefs(o);this.checkForDeprecatedItems(m);var w=this.findExistingColumn(o,c);if(c&&w&&pn(c,w),w)w.setColDef(m,o),this.applyColumnState(w,m);else{var A=h.getUniqueKey(m.colId,m.field);w=new Bt(m,o,A,r),this.context.createBean(w)}return w},i.prototype.applyColumnState=function(r,o){var c=xr(o.flex);if(void 0!==c&&r.setFlex(c),r.getFlex()<=0){var m=xr(o.width);if(null!=m)r.setActualWidth(m);else{var w=r.getActualWidth();r.setActualWidth(w)}}void 0!==o.sort&&r.setSort(o.sort==ge.SORT_ASC||o.sort==ge.SORT_DESC?o.sort:void 0);var A=xr(o.sortIndex);void 0!==A&&r.setSortIndex(A);var x=$o(o.hide);void 0!==x&&r.setVisible(!x),void 0!==o.pinned&&r.setPinned(o.pinned)},i.prototype.findExistingColumn=function(r,o){return(o||[]).find(function(c){var h=c.getUserProvidedColDef();if(!h)return!1;var w=null!=r.field;return null!=r.colId?c.getId()===r.colId:w?h.field===r.field:h===r})},i.prototype.findExistingGroup=function(r,o){return o.find(function(c){return!(!c.getColGroupDef()||null==r.groupId||c.getId()!==r.groupId)})},i.prototype.mergeColDefs=function(r){var o={},c=this.gridOptionsWrapper.getDefaultColDef();Wn(o,c,!1,!0);var h=r.type;return h||(h=c&&c.type),h&&this.assignColumnTypes(h,o),Wn(o,r,!1,!0),o},i.prototype.assignColumnTypes=function(r,o){var c=[];if(r instanceof Array)r.some(function(A){return"string"!=typeof A})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):c=r;else{if("string"!=typeof r)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");c=r.split(",")}var m=Object.assign({},bn);Jt(this.gridOptionsWrapper.getColumnTypes()||{},function(A,x){A in m?console.warn("AG Grid: the column type '"+A+"' is a default column type and cannot be overridden."):m[A]=x}),c.forEach(function(A){var x=m[A.trim()];x?Wn(o,x,!1,!0):console.warn("AG Grid: colDef.type '"+A+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.checkForDeprecatedItems=function(r){if(r){var o=r;void 0!==o.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==o.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(o.suppressRowGroup||o.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),o.displayName&&(console.warn("AG Grid: Found displayName "+o.displayName+", please use headerName instead, displayName is deprecated."),o.headerName=o.displayName)}},i.prototype.isColumnGroup=function(r){return void 0!==r.children},gg([K("columnUtils")],i.prototype,"columnUtils",void 0),gg([Yr(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),gg([Xe("columnFactory")],i)}(Ge),ne=function(){function f(){}return f.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",f.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",f.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",f.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",f.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",f.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",f.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",f.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",f.EVENT_COLUMN_MOVED="columnMoved",f.EVENT_COLUMN_VISIBLE="columnVisible",f.EVENT_COLUMN_PINNED="columnPinned",f.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",f.EVENT_COLUMN_RESIZED="columnResized",f.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",f.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",f.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",f.EVENT_ROW_GROUP_OPENED="rowGroupOpened",f.EVENT_ROW_DATA_CHANGED="rowDataChanged",f.EVENT_ROW_DATA_UPDATED="rowDataUpdated",f.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",f.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",f.EVENT_CHART_CREATED="chartCreated",f.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",f.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",f.EVENT_CHART_DESTROYED="chartDestroyed",f.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",f.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",f.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",f.EVENT_MODEL_UPDATED="modelUpdated",f.EVENT_PASTE_START="pasteStart",f.EVENT_PASTE_END="pasteEnd",f.EVENT_FILL_START="fillStart",f.EVENT_FILL_END="fillEnd",f.EVENT_CELL_CLICKED="cellClicked",f.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",f.EVENT_CELL_MOUSE_DOWN="cellMouseDown",f.EVENT_CELL_CONTEXT_MENU="cellContextMenu",f.EVENT_CELL_VALUE_CHANGED="cellValueChanged",f.EVENT_CELL_EDIT_REQUEST="cellEditRequest",f.EVENT_ROW_VALUE_CHANGED="rowValueChanged",f.EVENT_CELL_FOCUSED="cellFocused",f.EVENT_ROW_SELECTED="rowSelected",f.EVENT_SELECTION_CHANGED="selectionChanged",f.EVENT_CELL_KEY_DOWN="cellKeyDown",f.EVENT_CELL_KEY_PRESS="cellKeyPress",f.EVENT_CELL_MOUSE_OVER="cellMouseOver",f.EVENT_CELL_MOUSE_OUT="cellMouseOut",f.EVENT_FILTER_CHANGED="filterChanged",f.EVENT_FILTER_MODIFIED="filterModified",f.EVENT_FILTER_OPENED="filterOpened",f.EVENT_SORT_CHANGED="sortChanged",f.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",f.EVENT_ROW_CLICKED="rowClicked",f.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",f.EVENT_GRID_READY="gridReady",f.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",f.EVENT_VIEWPORT_CHANGED="viewportChanged",f.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",f.EVENT_FIRST_DATA_RENDERED="firstDataRendered",f.EVENT_DRAG_STARTED="dragStarted",f.EVENT_DRAG_STOPPED="dragStopped",f.EVENT_CHECKBOX_CHANGED="checkboxChanged",f.EVENT_ROW_EDITING_STARTED="rowEditingStarted",f.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",f.EVENT_CELL_EDITING_STARTED="cellEditingStarted",f.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",f.EVENT_BODY_SCROLL="bodyScroll",f.EVENT_BODY_SCROLL_END="bodyScrollEnd",f.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",f.EVENT_PAGINATION_CHANGED="paginationChanged",f.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",f.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",f.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",f.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",f.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",f.EVENT_FLASH_CELLS="flashCells",f.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",f.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",f.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",f.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",f.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",f.EVENT_ROW_DRAG_ENTER="rowDragEnter",f.EVENT_ROW_DRAG_MOVE="rowDragMove",f.EVENT_ROW_DRAG_LEAVE="rowDragLeave",f.EVENT_ROW_DRAG_END="rowDragEnd",f.EVENT_POPUP_TO_FRONT="popupToFront",f.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",f.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",f.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",f.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",f.EVENT_KEYBOARD_FOCUS="keyboardFocus",f.EVENT_MOUSE_FOCUS="mouseFocus",f.EVENT_STORE_UPDATED="storeUpdated",f}(),hh=function(){function f(){this.existingIds={}}return f.prototype.getInstanceIdForKey=function(i){var o,r=this.existingIds[i];return this.existingIds[i]=o="number"!=typeof r?0:r+1,o},f}(),vg=/[&<>"']/g,lr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ir(f){return null==f?null:f.replace(/([A-Z])/g,function(i){return"-"+i[0].toLowerCase()})}function fh(f){return null==f?null:f.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}function yg(f){return f[0].toUpperCase()+f.substr(1).toLowerCase()}function Ht(f){return null==f?null:f.toString().toString().replace(vg,function(i){return lr[i]})}function Dt(f){return f&&null!=f?f.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(o){return o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")}).join(" "):null}var Om=Object.freeze({utf8_encode:function ua(f){var i=String.fromCharCode;function c(k,q){return i(k>>q&63|128)}function h(k){if(k>=0&&k<=31&&10!==k)return"_x"+k.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&k))return i(k);var le="";return 0==(4294965248&k)?le=i(k>>6&31|192):0==(4294901760&k)?(function o(k){if(k>=55296&&k<=57343)throw Error("Lone surrogate U+"+k.toString(16).toUpperCase()+" is not a scalar value")}(k),le=i(k>>12&15|224),le+=c(k,6)):0==(4292870144&k)&&(le=i(k>>18&7|240),le+=c(k,12),le+=c(k,6)),le+i(63&k|128)}for(var m=function r(k){var q=[];if(!k)return[];for(var de,ye,te=k.length,le=0;le<te;)(de=k.charCodeAt(le++))>=55296&&de<=56319&&le<te?56320==(64512&(ye=k.charCodeAt(le++)))?q.push(((1023&de)<<10)+(1023&ye)+65536):(q.push(de),le--):q.push(de);return q}(f),w=m.length,A=-1,N="";++A<w;)N+=h(m[A]);return N},camelCaseToHyphen:ir,hyphenToCamelCase:fh,capitalise:yg,escapeString:Ht,camelCaseToHumanText:Dt});function Kl(f){var i=new Map;return f.forEach(function(r){return i.set(r[0],r[1])}),i}var Ot=Object.freeze({convertToMap:Kl,mapById:function Kt(f,i){var r=new Map;return f.forEach(function(o){return r.set(i(o),o)}),r},keys:function mg(f){var i=[];return f.forEach(function(r,o){return i.push(o)}),i}}),Pn=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dn=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},oO=function(f,i){return function(r,o){i(r,o,f)}},J_=function(f){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&f[i],o=0;if(r)return r.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&o>=f.length&&(f=void 0),{value:f&&f[o++],done:!f}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},gh=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},Tn=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(gh(arguments[i]));return f},Dm=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.primaryHeaderRowCount=0,r.secondaryHeaderRowCount=0,r.gridHeaderRowCount=0,r.displayedColumnsLeft=[],r.displayedColumnsRight=[],r.displayedColumnsCenter=[],r.displayedColumns=[],r.displayedColumnsAndGroupsMap={},r.viewportColumns=[],r.viewportColumnsCenter=[],r.autoHeightActiveAtLeastOnce=!1,r.rowGroupColumns=[],r.valueColumns=[],r.pivotColumns=[],r.ready=!1,r.autoGroupsNeedBuilding=!1,r.forceRecreateAutoGroups=!1,r.pivotMode=!1,r.bodyWidth=0,r.leftWidth=0,r.rightWidth=0,r.bodyWidthDirty=!0,r.colDefVersion=0,r.flexColsCalculatedAtLestOnce=!1,r}return Pn(i,f),i.prototype.init=function(){var r=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var o=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(o)&&(this.pivotMode=o),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return r.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return r.onDefaultColDefChanged()})},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},i.prototype.getColDefVersion=function(){return this.colDefVersion},i.prototype.setColumnDefs=function(r,o){void 0===o&&(o="api");var c=!!this.columnDefs;this.colDefVersion++,this.columnDefs=r,this.createColumnsFromColumnDefs(c,o)},i.prototype.createColumnsFromColumnDefs=function(r,o){var c=this;void 0===o&&(o="api");var h=r?this.compareColumnStatesAndRaiseEvents(o):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var m=this.primaryColumns,A=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=A.columnTree,this.primaryHeaderRowCount=A.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(k){return c.primaryColumnsMap[k.getId()]=k}),this.extractRowGroupColumns(o,m),this.extractPivotColumns(o,m),this.extractValueColumns(o,m),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),r&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(o),this.checkViewportColumns()),this.dispatchEverythingChanged(o),h&&h(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:ne.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.dispatchEverythingChanged=function(r){void 0===r&&(r="api"),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:r})},i.prototype.orderGridColumnsLikePrimary=function(){var r=this,o=this.primaryColumns;!o||this.gridColumns.sort(function(c,h){var m=o.indexOf(c),w=o.indexOf(h),A=m>=0,x=w>=0;return A&&x?m-w:A?1:x?-1:r.gridColumns.indexOf(c)-r.gridColumns.indexOf(h)})},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(r){for(var o=r,c=[];null!=o;)c.push(o),o=this.getDisplayedColAfter(o);return c},i.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var r=this.viewportColumns.map(function(h){return h.getId()}).join("#");this.extractViewport(),r!==this.viewportColumns.map(function(h){return h.getId()}).join("#")&&this.eventService.dispatchEvent({type:ne.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.setViewportPosition=function(r,o){(r!==this.scrollWidth||o!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=o,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(r){return!r||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(r,o){void 0===o&&(o="api"),r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getSecondaryPivotColumn=function(r,o){if(b(this.secondaryColumns))return null;var c=this.getPrimaryColumn(o),h=null;return this.secondaryColumns.forEach(function(m){var w=m.getColDef().pivotKeys,A=m.getColDef().pivotValueColumn;Xa(w,r)&&A===c&&(h=m)}),h},i.prototype.setBeans=function(r){this.logger=r.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(r){var o,c;this.gridOptionsWrapper.isEnableRtl()?(o=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,c=this.displayedColumnsRight?rr(this.displayedColumnsRight):null):(o=this.displayedColumnsLeft?rr(this.displayedColumnsLeft):null,c=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(h){h.setLastLeftPinned(h===o,r),h.setFirstRightPinned(h===c,r)})},i.prototype.autoSizeColumns=function(r){var o=this,c=r.columns,h=r.skipHeader,m=r.skipHeaderGroups,w=r.stopAtGroup,A=r.source,x=void 0===A?"api":A;this.animationFrameService.flushAllFrames();for(var N=[],k=-1,q=null!=h?h:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),te=null!=m?m:q;0!==k;)k=0,this.actionOnGridColumns(c,function(le){if(N.indexOf(le)>=0)return!1;var de=o.autoWidthCalculator.getPreferredWidthForColumn(le,q);if(de>0){var ye=o.normaliseColumnWidth(le,de);le.setActualWidth(ye,x),N.push(le),k++}return!0},x);te||this.autoSizeColumnGroupsByColumns(c,w),this.fireColumnResizedEvent(N,!0,"autosizeColumns")},i.prototype.fireColumnResizedEvent=function(r,o,c,h){void 0===h&&(h=null),r&&r.length&&this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:h,finished:o,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.autoSizeColumn=function(r,o,c){void 0===c&&(c="api"),r&&this.autoSizeColumns({columns:[r],skipHeader:o,skipHeaderGroups:!0,source:c})},i.prototype.autoSizeColumnGroupsByColumns=function(r,o){var c,h,m,w,N,A=new Set;this.getGridColumns(r).forEach(function(Oe){for(var Ee=Oe.getParent();Ee&&Ee!=o;)Ee.isPadding()||A.add(Ee),Ee=Ee.getParent()});try{for(var q=J_(A),te=q.next();!te.done;te=q.next()){var le=te.value;try{for(var de=(m=void 0,J_(this.ctrlsService.getHeaderRowContainerCtrls())),ye=de.next();!ye.done&&!(N=ye.value.getHeaderCtrlForColumn(le));ye=de.next());}catch(Oe){m={error:Oe}}finally{try{ye&&!ye.done&&(w=de.return)&&w.call(de)}finally{if(m)throw m.error}}N&&N.resizeLeafColumnsToFit()}}catch(Oe){c={error:Oe}}finally{try{te&&!te.done&&(h=q.return)&&h.call(q)}finally{if(c)throw c.error}}return[]},i.prototype.autoSizeAllColumns=function(r,o){void 0===o&&(o="api");var c=this.getAllDisplayedColumns();this.autoSizeColumns({columns:c,skipHeader:r,source:o})},i.prototype.getColumnsFromTree=function(r){var o=[],c=function(h){for(var m=0;m<h.length;m++){var w=h[m];w instanceof Bt?o.push(w):w instanceof Ar&&c(w.getChildren())}};return c(r),o},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(r){return this.getAllDisplayedColumns().indexOf(r)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.getDisplayedColumnsForRow=function(r,o,c,h){for(var x,m=[],w=null,A=function(k){var Oe,q=o[k],te=o.length-k,le=Math.min(q.getColSpan(r),te),de=[q];if(le>1){for(var ye=le-1,xe=1;xe<=ye;xe++)de.push(o[k+xe]);k+=ye}c?(Oe=!1,de.forEach(function(Ke){c(Ke)&&(Oe=!0)})):Oe=!0,Oe&&(0===m.length&&w&&h&&h(q)&&m.push(w),m.push(q)),w=q,x=k},N=0;N<o.length;N++)A(N),N=x;return m},i.prototype.getViewportCenterColumnsForRow=function(r){var o=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var h=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,h,function(m){var w=m.getLeft();return re(w)&&w>o.viewportLeft})},i.prototype.getAriaColumnIndex=function(r){return this.getAllGridColumns().indexOf(r)+1},i.prototype.isColumnInViewport=function(r){if(r.isAutoHeight())return!0;var o=r.getLeft()||0,c=o+r.getActualWidth(),h=this.viewportLeft-200,m=this.viewportRight+200;return!(o<h&&c<h||o>m&&c>m)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(r,o,c,h,m,w){var A=this;if(void 0===w&&(w="api"),r&&!ti(r)){var x=!1;r.forEach(function(k){var q=A.getPrimaryColumn(k);if(q){if(c){if(o.indexOf(q)>=0)return;o.push(q)}else{if(o.indexOf(q)<0)return;pn(o,q)}h(q),x=!0}}),x&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(w),this.eventService.dispatchEvent({type:m,columns:o,column:1===o.length?o[0]:null,api:this.gridApi,columnApi:this.columnApi,source:w}))}},i.prototype.setRowGroupColumns=function(r,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),o)},i.prototype.setRowGroupActive=function(r,o,c){r!==o.isRowGroupActive()&&(o.setRowGroupActive(r,c),!r&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&o.setVisible(!0,c))},i.prototype.addRowGroupColumn=function(r,o){void 0===o&&(o="api"),r&&this.addRowGroupColumns([r],o)},i.prototype.addRowGroupColumns=function(r,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),ne.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},i.prototype.removeRowGroupColumns=function(r,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),ne.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},i.prototype.removeRowGroupColumn=function(r,o){void 0===o&&(o="api"),r&&this.removeRowGroupColumns([r],o)},i.prototype.addPivotColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!0,function(c){return c.setPivotActive(!0,o)},ne.EVENT_COLUMN_PIVOT_CHANGED,o)},i.prototype.setPivotColumns=function(r,o){void 0===o&&(o="api"),this.setPrimaryColumnList(r,this.pivotColumns,ne.EVENT_COLUMN_PIVOT_CHANGED,function(c,h){h.setPivotActive(c,o)},o)},i.prototype.addPivotColumn=function(r,o){void 0===o&&(o="api"),this.addPivotColumns([r],o)},i.prototype.removePivotColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!1,function(c){return c.setPivotActive(!1,o)},ne.EVENT_COLUMN_PIVOT_CHANGED,o)},i.prototype.removePivotColumn=function(r,o){void 0===o&&(o="api"),this.removePivotColumns([r],o)},i.prototype.setPrimaryColumnList=function(r,o,c,h,m){var w=this;o.length=0,re(r)&&r.forEach(function(A){var x=w.getPrimaryColumn(A);x&&o.push(x)}),(this.primaryColumns||[]).forEach(function(A){var x=o.indexOf(A)>=0;h(x,A)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(m),this.fireColumnEvent(c,o,m)},i.prototype.setValueColumns=function(r,o){void 0===o&&(o="api"),this.setPrimaryColumnList(r,this.valueColumns,ne.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),o)},i.prototype.setValueActive=function(r,o,c){if(r!==o.isValueActive()&&(o.setValueActive(r,c),r&&!o.getAggFunc())){var h=this.aggFuncService.getDefaultAggFunc(o);o.setAggFunc(h)}},i.prototype.addValueColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),ne.EVENT_COLUMN_VALUE_CHANGED,o)},i.prototype.addValueColumn=function(r,o){void 0===o&&(o="api"),r&&this.addValueColumns([r],o)},i.prototype.removeValueColumn=function(r,o){void 0===o&&(o="api"),this.removeValueColumns([r],o)},i.prototype.removeValueColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),ne.EVENT_COLUMN_VALUE_CHANGED,o)},i.prototype.normaliseColumnWidth=function(r,o){var c=r.getMinWidth();re(c)&&o<c&&(o=c);var h=r.getMaxWidth();return re(h)&&r.isGreaterThanMax(o)&&(o=h),o},i.prototype.getPrimaryOrGridColumn=function(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)},i.prototype.setColumnWidths=function(r,o,c,h){var m=this;void 0===h&&(h="api");var w=[];r.forEach(function(A){var x=m.getPrimaryOrGridColumn(A.key);if(x&&(w.push({width:A.newWidth,ratios:[1],columns:[x]}),"shift"===m.gridOptionsWrapper.getColResizeDefault()&&(o=!o),o)){var k=m.getDisplayedColAfter(x);if(!k)return;var q=x.getActualWidth()-A.newWidth,te=k.getActualWidth()+q;w.push({width:te,ratios:[1],columns:[k]})}}),0!==w.length&&this.resizeColumnSets({resizeSets:w,finished:c,source:h})},i.prototype.checkMinAndMaxWidthsForSet=function(r){var c=r.width,h=0,m=0,w=!0;return r.columns.forEach(function(N){var k=N.getMinWidth();h+=k||0;var q=N.getMaxWidth();re(q)&&q>0?m+=q:w=!1}),c>=h&&(!w||c<=m)},i.prototype.resizeColumnSets=function(r){var o=this,c=r.resizeSets,h=r.finished,m=r.source;if(!c||c.every(function(le){return o.checkMinAndMaxWidthsForSet(le)})){var x=[],N=[];c.forEach(function(le){var de=le.width,ye=le.columns,xe=le.ratios,Oe={},Ee={};ye.forEach(function(ze){return N.push(ze)});for(var Ke=!0,pt=0,mt=function(){if(++pt>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";Ke=!1;var ze=[],Mt=0,Tt=de;ye.forEach(function(ar,cs){Ee[ar.getId()]?Tt-=Oe[ar.getId()]:(ze.push(ar),Mt+=xe[cs])});var zr=1/Mt;ze.forEach(function(ar,cs){var yi;cs===ze.length-1?yi=Tt:(yi=Math.round(xe[cs]*de*zr),Tt-=yi);var ta=ar.getMinWidth(),xl=ar.getMaxWidth();re(ta)&&yi<ta?(yi=ta,Ee[ar.getId()]=!0,Ke=!0):re(xl)&&xl>0&&yi>xl&&(yi=xl,Ee[ar.getId()]=!0,Ke=!0),Oe[ar.getId()]=yi})};Ke&&"break"!==mt(););ye.forEach(function(ze){var Mt=Oe[ze.getId()];ze.getActualWidth()!==Mt&&(ze.setActualWidth(Mt,m),x.push(ze))})});var k=x.length>0,q=[];k&&(q=this.refreshFlexedColumns({resizingCols:N,skipSetLeft:!0}),this.setLeftValues(m),this.updateBodyWidths(),this.checkViewportColumns());var te=N.concat(q);(k||h)&&this.fireColumnResizedEvent(te,h,m,q)}else h&&this.fireColumnResizedEvent(c&&c.length>0?c[0].columns:null,h,m)},i.prototype.setColumnAggFunc=function(r,o,c){if(void 0===c&&(c="api"),r){var h=this.getPrimaryColumn(r);!h||(h.setAggFunc(o),this.fireColumnEvent(ne.EVENT_COLUMN_VALUE_CHANGED,[h],c))}},i.prototype.fireColumnEvent=function(r,o,c){this.eventService.dispatchEvent({type:r,columns:o,column:o&&1==o.length?o[0]:null,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.moveRowGroupColumn=function(r,o,c){void 0===c&&(c="api");var h=this.rowGroupColumns[r];this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(o,0,h),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:c})},i.prototype.moveColumns=function(r,o,c){if(void 0===c&&(c="api"),this.columnAnimationService.start(),o>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+o),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var h=this.getGridColumns(r);!this.doesMovePassRules(h,o)||(wo(this.gridColumns,h,o),this.updateDisplayedColumns(c),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_MOVED,columns:h,column:1===h.length?h[0]:null,toIndex:o,api:this.gridApi,columnApi:this.columnApi,source:c}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(r,o){var c=this.gridColumns.slice();return wo(c,r,o),!(!this.doesMovePassMarryChildren(c)||!this.doesMovePassLockedPositions(c))},i.prototype.sortColumnsLikeGridColumns=function(r){var o=this;!r||r.length<=1||r.filter(function(h){return o.gridColumns.indexOf(h)<0}).length>0||r.sort(function(h,m){return o.gridColumns.indexOf(h)-o.gridColumns.indexOf(m)})},i.prototype.doesMovePassLockedPositions=function(r){var o=0,c=!0;return r.forEach(function(m){var w=function(m){return m?!0===m||"left"===m?0:2:1}(m.getColDef().lockPosition);w<o&&(c=!1),o=w}),c},i.prototype.doesMovePassMarryChildren=function(r){var o=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){if(c instanceof Ar){var h=c,m=h.getColGroupDef();if(m&&m.marryChildren){var A=[];h.getLeafColumns().forEach(function(te){var le=r.indexOf(te);A.push(le)}),Math.max.apply(Math,A)-Math.min.apply(Math,A)>h.getLeafColumns().length-1&&(o=!1)}}}),o},i.prototype.moveColumn=function(r,o,c){void 0===c&&(c="api"),this.moveColumns([r],o,c)},i.prototype.moveColumnByIndex=function(r,o,c){void 0===c&&(c="api"),this.moveColumn(this.gridColumns[r],o,c)},i.prototype.getColumnDefs=function(){var r=this;if(this.primaryColumns){var o=this.primaryColumns.slice();return this.gridColsArePrimary?o.sort(function(c,h){return r.gridColumns.indexOf(c)-r.gridColumns.indexOf(h)}):this.lastPrimaryOrder&&o.sort(function(c,h){return r.lastPrimaryOrder.indexOf(c)-r.lastPrimaryOrder.indexOf(h)}),this.columnDefFactory.buildColumnDefs(o,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(r){switch(r){case ge.PINNED_LEFT:return this.leftWidth;case ge.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var r=this.getWidthOfColsInList(this.displayedColumnsCenter),o=this.getWidthOfColsInList(this.displayedColumnsLeft),c=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==o||this.rightWidth!==c)&&(this.bodyWidth=r,this.leftWidth=o,this.rightWidth=c,this.eventService.dispatchEvent({type:ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(r){switch(r){case ge.PINNED_LEFT:return this.getDisplayedLeftColumns();case ge.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return ti(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return ti(this.rowGroupColumns)},i.prototype.setColumnVisible=function(r,o,c){void 0===c&&(c="api"),this.setColumnsVisible([r],o,c)},i.prototype.setColumnsVisible=function(r,o,c){var h=this;void 0===o&&(o=!1),void 0===c&&(c="api"),this.columnAnimationService.start(),this.actionOnGridColumns(r,function(m){return m.isVisible()!==o&&(m.setVisible(o,c),!0)},c,function(){return{type:ne.EVENT_COLUMN_VISIBLE,visible:o,column:null,columns:null,api:h.gridApi,columnApi:h.columnApi,source:c}}),this.columnAnimationService.finish()},i.prototype.setColumnPinned=function(r,o,c){void 0===c&&(c="api"),r&&this.setColumnsPinned([r],o,c)},i.prototype.setColumnsPinned=function(r,o,c){var m,h=this;void 0===c&&(c="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),m=!0===o||o===ge.PINNED_LEFT?ge.PINNED_LEFT:o===ge.PINNED_RIGHT?ge.PINNED_RIGHT:null,this.actionOnGridColumns(r,function(w){return w.getPinned()!==m&&(w.setPinned(m),!0)},c,function(){return{type:ne.EVENT_COLUMN_PINNED,pinned:m,column:null,columns:null,api:h.gridApi,columnApi:h.columnApi,source:c}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},i.prototype.actionOnGridColumns=function(r,o,c,h){var m=this;if(!ti(r)){var w=[];if(r.forEach(function(x){var N=m.getGridColumn(x);N&&!1!==o(N)&&w.push(N)}),w.length&&(this.updateDisplayedColumns(c),re(h)&&h)){var A=h();A.columns=w,A.column=1===w.length?w[0]:null,this.eventService.dispatchEvent(A)}}},i.prototype.getDisplayedColBefore=function(r){var o=this.getAllDisplayedColumns(),c=o.indexOf(r);return c>0?o[c-1]:null},i.prototype.getDisplayedColAfter=function(r){var o=this.getAllDisplayedColumns(),c=o.indexOf(r);return c<o.length-1?o[c+1]:null},i.prototype.getDisplayedGroupAfter=function(r){return this.getDisplayedGroupAtDirection(r,"After")},i.prototype.getDisplayedGroupBefore=function(r){return this.getDisplayedGroupAtDirection(r,"Before")},i.prototype.getDisplayedGroupAtDirection=function(r,o){for(var c=r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel(),h=r.getDisplayedLeafColumns(),m="After"===o?rr(h):h[0],w="getDisplayedCol"+o;;){var A=this[w](m);if(!A)return null;var x=this.getColumnGroupAtLevel(A,c);if(x!==r)return x}},i.prototype.getColumnGroupAtLevel=function(r,o){for(var c=r.getParent();!(c.getProvidedColumnGroup().getLevel()+c.getPaddingLevel()<=o);)c=c.getParent();return c},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var r;return(r=[]).concat.apply(r,Tn([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},i.prototype.getPrimaryAndAutoGroupCols=function(){var r;return(r=[]).concat.apply(r,Tn([this.primaryColumns||[],this.groupAutoColumns||[]]))},i.prototype.getPrimaryAndSecondaryColumns=function(){var r;return(r=[]).concat.apply(r,Tn([this.primaryColumns||[],this.secondaryColumns||[]]))},i.prototype.createStateItemFromColumn=function(r){var o=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,c=r.isPivotActive()?this.pivotColumns.indexOf(r):null,h=r.isValueActive()?r.getAggFunc():null,m=null!=r.getSort()?r.getSort():null,w=null!=r.getSortIndex()?r.getSortIndex():null,A=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:m,sortIndex:w,aggFunc:h,rowGroup:r.isRowGroupActive(),rowGroupIndex:o,pivot:r.isPivotActive(),pivotIndex:c,flex:A}},i.prototype.getColumnState=function(){if(b(this.primaryColumns)||!this.isAlive())return[];var o=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(o),o},i.prototype.orderColumnStateList=function(r){var o=Kl(this.gridColumns.map(function(c,h){return[c.getColId(),h]}));r.sort(function(c,h){return(o.has(c.colId)?o.get(c.colId):-1)-(o.has(h.colId)?o.get(h.colId):-1)})},i.prototype.resetColumnState=function(r){void 0===r&&(r="api");var o=this.getColumnsFromTree(this.primaryColumnTree),c=[],h=1e3,m=1e3,w=[];this.groupAutoColumns&&(w=w.concat(this.groupAutoColumns)),o&&(w=w.concat(o)),w.forEach(function(A){var x=function(ut,ze){return null!=ut?ut:null!=ze?ze:null},N=A.getColDef(),k=x(N.sort,N.initialSort),q=x(N.sortIndex,N.initialSortIndex),te=x(N.hide,N.initialHide),le=x(N.pinned,N.initialPinned),de=x(N.width,N.initialWidth),ye=x(N.flex,N.initialFlex),xe=x(N.rowGroupIndex,N.initialRowGroupIndex),Oe=x(N.rowGroup,N.initialRowGroup);null==xe&&(null==Oe||0==Oe)&&(xe=null,Oe=null);var Ee=x(N.pivotIndex,N.initialPivotIndex),Ke=x(N.pivot,N.initialPivot);null==Ee&&(null==Ke||0==Ke)&&(Ee=null,Ke=null);var pt=x(N.aggFunc,N.initialAggFunc),mt={colId:A.getColId(),sort:k,sortIndex:q,hide:te,pinned:le,width:de,flex:ye,rowGroup:Oe,rowGroupIndex:xe,pivot:Ke,pivotIndex:Ee,aggFunc:pt};b(xe)&&Oe&&(mt.rowGroupIndex=h++),b(Ee)&&Ke&&(mt.pivotIndex=m++),c.push(mt)}),this.applyColumnState({state:c,applyOrder:!0},r)},i.prototype.applyColumnState=function(r,o){var c=this;if(void 0===o&&(o="api"),ti(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var h=function(x,N,k){var q=c.compareColumnStatesAndRaiseEvents(o);c.autoGroupsNeedBuilding=!0;var te=N.slice(),le={},de={},ye=[],xe=[],Oe=0,Ee=c.rowGroupColumns.slice(),Ke=c.pivotColumns.slice();x.forEach(function(ze){var Mt=ze.colId||"";if(Mt.startsWith(ge.GROUP_AUTO_COLUMN_ID))return ye.push(ze),void xe.push(ze);var zr=k(Mt);zr?(c.syncColumnWithStateItem(zr,ze,r.defaultState,le,de,!1,o),pn(te,zr)):(xe.push(ze),Oe+=1)});var pt=function(ze){return c.syncColumnWithStateItem(ze,null,r.defaultState,le,de,!1,o)};te.forEach(pt);var mt=function(ze,Mt,Tt,zr){var ar=ze[Tt.getId()],cs=ze[zr.getId()],ps=null!=ar,yi=null!=cs;if(ps&&yi)return ar-cs;if(ps)return-1;if(yi)return 1;var ta=Mt.indexOf(Tt),xl=Mt.indexOf(zr),my=ta>=0;return my&&xl>=0?ta-xl:my?-1:1};c.rowGroupColumns.sort(mt.bind(c,le,Ee)),c.pivotColumns.sort(mt.bind(c,de,Ke)),c.updateGridColumns();var ut=c.groupAutoColumns?c.groupAutoColumns.slice():[];return ye.forEach(function(ze){var Mt=c.getAutoColumn(ze.colId);pn(ut,Mt),c.syncColumnWithStateItem(Mt,ze,r.defaultState,null,null,!0,o)}),ut.forEach(pt),c.applyOrderAfterApplyState(r),c.updateDisplayedColumns(o),c.dispatchEverythingChanged(o),q(),{unmatchedAndAutoStates:xe,unmatchedCount:Oe}};this.columnAnimationService.start();var m=h(r.state||[],this.primaryColumns||[],function(x){return c.getPrimaryColumn(x)}),w=m.unmatchedAndAutoStates,A=m.unmatchedCount;return(w.length>0||re(r.defaultState))&&(A=h(w,this.secondaryColumns||[],function(x){return c.getSecondaryColumn(x)}).unmatchedCount),this.columnAnimationService.finish(),0===A},i.prototype.applyOrderAfterApplyState=function(r){var o=this;if(r.applyOrder&&r.state){var c=[],h={};r.state.forEach(function(w){if(w.colId&&!h[w.colId]){var A=o.gridColumnsMap[w.colId];A&&(c.push(A),h[w.colId]=!0)}});var m=0;if(this.gridColumns.forEach(function(w){var A=w.getColId();null!=h[A]||(A.startsWith(ge.GROUP_AUTO_COLUMN_ID)?Yo(c,w,m++):c.push(w))}),c=this.placeLockedColumns(c),!this.doesMovePassMarryChildren(c))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=c}},i.prototype.compareColumnStatesAndRaiseEvents=function(r){var o=this,c={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},h=this.getColumnState(),m={};return h.forEach(function(w){m[w.colId]=w}),function(){if(!o.gridOptionsWrapper.isSuppressColumnStateEvents()){var w=o.getPrimaryAndSecondaryAndAutoColumns(),A=function(xe,Oe,Ee,Ke){Xa(Oe.map(Ke),Ee.map(Ke))||o.eventService.dispatchEvent({type:xe,columns:Ee,column:1===Ee.length?Ee[0]:null,api:o.gridApi,columnApi:o.columnApi,source:r})},x=function(xe){var Oe=[];return w.forEach(function(Ee){var Ke=m[Ee.getColId()];Ke&&xe(Ke,Ee)&&Oe.push(Ee)}),Oe},N=function(xe){return xe.getColId()};A(ne.EVENT_COLUMN_ROW_GROUP_CHANGED,c.rowGroupColumns,o.rowGroupColumns,N),A(ne.EVENT_COLUMN_PIVOT_CHANGED,c.pivotColumns,o.pivotColumns,N),x(function(xe,Oe){var Ee=null!=xe.aggFunc,Ke=Ee!=Oe.isValueActive(),pt=Ee&&xe.aggFunc!=Oe.getAggFunc();return Ke||pt}).length>0&&o.fireColumnEvent(ne.EVENT_COLUMN_VALUE_CHANGED,o.valueColumns,r),o.fireColumnResizedEvent(x(function(xe,Oe){return xe.width!=Oe.getActualWidth()}),!0,r),o.raiseColumnPinnedEvent(x(function(xe,Oe){return xe.pinned!=Oe.getPinned()}),r),o.raiseColumnVisibleEvent(x(function(xe,Oe){return xe.hide==Oe.isVisible()}),r),x(function(xe,Oe){return xe.sort!=Oe.getSort()||xe.sortIndex!=Oe.getSortIndex()}).length>0&&o.sortController.dispatchSortChangedEvents(r),o.raiseColumnMovedEvent(h,r)}}},i.prototype.raiseColumnPinnedEvent=function(r,o){if(r.length){var c=1===r.length?r[0]:null,h=this.getCommonValue(r,function(w){return w.getPinned()});this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_PINNED,pinned:null!=h?h:null,columns:r,column:c,api:this.gridApi,columnApi:this.columnApi,source:o})}},i.prototype.getCommonValue=function(r,o){if(r&&0!=r.length){for(var c=o(r[0]),h=1;h<r.length;h++)if(c!==o(r[h]))return;return c}},i.prototype.raiseColumnVisibleEvent=function(r,o){if(r.length){var c=1===r.length?r[0]:null,h=this.getCommonValue(r,function(w){return w.isVisible()});this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_VISIBLE,visible:h,columns:r,column:c,api:this.gridApi,columnApi:this.columnApi,source:o})}},i.prototype.raiseColumnMovedEvent=function(r,o){var c=this,h=this.getColumnState(),m={};h.forEach(function(q){return m[q.colId]=q});var w={};r.forEach(function(q){m[q.colId]&&(w[q.colId]=!0)});var A=r.filter(function(q){return w[q.colId]}),x=h.filter(function(q){return w[q.colId]}),N=[];x.forEach(function(q,te){var le=A&&A[te];if(le&&le.colId!==q.colId){var de=c.getGridColumn(le.colId);de&&N.push(de)}}),N.length&&this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_MOVED,columns:N,column:null,api:this.gridApi,columnApi:this.columnApi,source:o})},i.prototype.syncColumnWithStateItem=function(r,o,c,h,m,w,A){if(r){var x=function(Mt,Tt){var zr={value1:void 0,value2:void 0},ar=!1;return o&&(void 0!==o[Mt]&&(zr.value1=o[Mt],ar=!0),re(Tt)&&void 0!==o[Tt]&&(zr.value2=o[Tt],ar=!0)),!ar&&c&&(void 0!==c[Mt]&&(zr.value1=c[Mt]),re(Tt)&&void 0!==c[Tt]&&(zr.value2=c[Tt])),zr},N=x("hide").value1;void 0!==N&&r.setVisible(!N,A);var k=x("pinned").value1;void 0!==k&&r.setPinned(k);var q=this.columnUtils.calculateColMinWidth(r.getColDef()),te=x("flex").value1;if(void 0!==te&&r.setFlex(te),r.getFlex()<=0){var de=x("width").value1;null!=de&&null!=q&&de>=q&&r.setActualWidth(de,A)}var ye=x("sort").value1;void 0!==ye&&r.setSort(ye===ge.SORT_DESC||ye===ge.SORT_ASC?ye:void 0,A);var xe=x("sortIndex").value1;if(void 0!==xe&&r.setSortIndex(xe),!w&&r.isPrimary()){var Oe=x("aggFunc").value1;void 0!==Oe&&("string"==typeof Oe?(r.setAggFunc(Oe),r.isValueActive()||(r.setValueActive(!0,A),this.valueColumns.push(r))):(re(Oe)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,A),pn(this.valueColumns,r))));var Ee=x("rowGroup","rowGroupIndex"),Ke=Ee.value1,pt=Ee.value2;(void 0!==Ke||void 0!==pt)&&("number"==typeof pt||Ke?(r.isRowGroupActive()||(r.setRowGroupActive(!0,A),this.rowGroupColumns.push(r)),h&&"number"==typeof pt&&(h[r.getId()]=pt)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,A),pn(this.rowGroupColumns,r)));var mt=x("pivot","pivotIndex"),ut=mt.value1,ze=mt.value2;(void 0!==ut||void 0!==ze)&&("number"==typeof ze||ut?(r.isPivotActive()||(r.setPivotActive(!0,A),this.pivotColumns.push(r)),m&&"number"==typeof ze&&(m[r.getId()]=ze)):r.isPivotActive()&&(r.setPivotActive(!1,A),pn(this.pivotColumns,r)))}}},i.prototype.getGridColumns=function(r){return this.getColumns(r,this.getGridColumn.bind(this))},i.prototype.getColumns=function(r,o){var c=[];return r&&r.forEach(function(h){var m=o(h);m&&c.push(m)}),c},i.prototype.getColumnWithValidation=function(r){if(null==r)return null;var o=this.getGridColumn(r);return o||console.warn("AG Grid: could not find column "+r),o},i.prototype.getPrimaryColumn=function(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)},i.prototype.getSecondaryColumn=function(r){return this.secondaryColumns?this.getColumn(r,this.secondaryColumns,this.secondaryColumnsMap):null},i.prototype.getColumn=function(r,o,c){if(!r)return null;if("string"==typeof r&&c[r])return c[r];for(var h=0;h<o.length;h++)if(this.columnsMatch(o[h],r))return o[h];return this.getAutoColumn(r)},i.prototype.getAutoColumn=function(r){var o=this;return this.groupAutoColumns&&re(this.groupAutoColumns)&&!b(this.groupAutoColumns)&&this.groupAutoColumns.find(function(c){return o.columnsMatch(c,r)})||null},i.prototype.columnsMatch=function(r,o){var c=r===o,h=r.getColDef()===o,m=r.getColId()==o;return c||h||m},i.prototype.getDisplayNameForColumn=function(r,o,c){if(void 0===c&&(c=!1),!r)return null;var h=this.getHeaderName(r.getColDef(),r,null,null,o);return c?this.wrapHeaderNameWithAggFunc(r,h):h},i.prototype.getDisplayNameForProvidedColumnGroup=function(r,o,c){var h=o?o.getColGroupDef():null;return h?this.getHeaderName(h,null,r,o,c):null},i.prototype.getDisplayNameForColumnGroup=function(r,o){return this.getDisplayNameForProvidedColumnGroup(r,r.getProvidedColumnGroup(),o)},i.prototype.getHeaderName=function(r,o,c,h,m){var w=r.headerValueGetter;if(w){var A={colDef:r,column:o,columnGroup:c,providedColumnGroup:h,location:m,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof w?w(A):"string"==typeof w?this.expressionService.evaluate(w,A):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?Dt(r.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(r,o){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return o;var w,c=r.getColDef().pivotValueColumn,m=null;if(re(c))m=c?c.getAggFunc():null,w=!0;else{var A=r.isValueActive(),x=this.pivotMode||!this.isRowGroupEmpty();A&&x?(m=r.getAggFunc(),w=!0):w=!1}if(w){var N="string"==typeof m?m:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(N,N)+"("+o+")"}return o},i.prototype.getColumnGroup=function(r,o){if(!r)return null;if(r instanceof nr)return r;var c=this.getAllDisplayedTrees(),h="number"==typeof o,m=null;return this.columnUtils.depthFirstAllColumnTreeSearch(c,function(w){if(w instanceof nr){var A=w;(h?r===A.getGroupId()&&o===A.getInstanceId():r===A.getGroupId())&&(m=A)}}),m},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(r,o){this.valueColumns=this.extractColumns(o,this.valueColumns,function(c,h){return c.setValueActive(h,r)},function(){},function(){},function(c){var h=c.aggFunc;return null===h||""===h?null:void 0!==h?!!h:void 0},function(c){return null!=c.initialAggFunc&&""!=c.initialAggFunc}),this.valueColumns.forEach(function(c){var h=c.getColDef();null!=h.aggFunc&&""!=h.aggFunc?c.setAggFunc(h.aggFunc):c.getAggFunc()||c.setAggFunc(h.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(r,o){this.rowGroupColumns=this.extractColumns(o,this.rowGroupColumns,function(c,h){return c.setRowGroupActive(h,r)},function(c){return c.rowGroupIndex},function(c){return c.initialRowGroupIndex},function(c){return c.rowGroup},function(c){return c.initialRowGroup})},i.prototype.extractColumns=function(r,o,c,h,m,w,A){void 0===r&&(r=[]),void 0===o&&(o=[]);var x=[],N=[];(this.primaryColumns||[]).forEach(function(te){var le=r.indexOf(te)<0,de=te.getColDef(),ye=$o(w(de)),xe=$o(A(de)),Oe=xr(h(de)),Ee=xr(m(de));(void 0!==ye?ye:void 0!==Oe?null!==Oe&&Oe>=0:le?void 0!==xe?xe:void 0!==Ee&&null!=Ee&&Ee>=0:o.indexOf(te)>=0)&&((le?null!=Oe||null!=Ee:null!=Oe)?x.push(te):N.push(te))});var k=function(te){var le=h(te.getColDef()),de=m(te.getColDef());return null!=le?le:de};x.sort(function(te,le){var de=k(te),ye=k(le);return de===ye?0:de<ye?-1:1});var q=[].concat(x);return o.forEach(function(te){N.indexOf(te)>=0&&q.push(te)}),N.forEach(function(te){q.indexOf(te)<0&&q.push(te)}),o.forEach(function(te){q.indexOf(te)<0&&c(te,!1)}),q.forEach(function(te){o.indexOf(te)<0&&c(te,!0)}),q},i.prototype.extractPivotColumns=function(r,o){this.pivotColumns=this.extractColumns(o,this.pivotColumns,function(c,h){return c.setPivotActive(h,r)},function(c){return c.pivotIndex},function(c){return c.initialPivotIndex},function(c){return c.pivot},function(c){return c.initialPivot})},i.prototype.resetColumnGroupState=function(r){void 0===r&&(r="api");var o=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(c){if(c instanceof Ar){var h=c.getColGroupDef(),m={groupId:c.getGroupId(),open:h?h.openByDefault:void 0};o.push(m)}}),this.setColumnGroupState(o,r)},i.prototype.getColumnGroupState=function(){var r=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){o instanceof Ar&&r.push({groupId:o.getGroupId(),open:o.isExpanded()})}),r},i.prototype.setColumnGroupState=function(r,o){var c=this;void 0===o&&(o="api"),this.columnAnimationService.start();var h=[];r.forEach(function(m){var A=m.open,x=c.getProvidedColumnGroup(m.groupId);!x||x.isExpanded()!==A&&(c.logger.log("columnGroupOpened("+x.getGroupId()+","+A+")"),x.setExpanded(A),h.push(x))}),this.updateGroupsAndDisplayedColumns(o),this.setFirstRightAndLastLeftPinned(o),h.forEach(function(m){c.eventService.dispatchEvent({type:ne.EVENT_COLUMN_GROUP_OPENED,columnGroup:m,api:c.gridApi,columnApi:c.columnApi})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(r,o,c){var h;void 0===c&&(c="api"),h=r instanceof Ar?r.getId():r||"",this.setColumnGroupState([{groupId:h,open:o}],c)},i.prototype.getProvidedColumnGroup=function(r){"string"!=typeof r&&console.error("AG Grid: group key must be a string");var o=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(c){c instanceof Ar&&c.getId()===r&&(o=c)}),o},i.prototype.calculateColumnsForDisplay=function(){var r=this;return this.pivotMode&&b(this.secondaryColumns)?this.gridColumns.filter(function(c){var h=r.groupAutoColumns&&Ei(r.groupAutoColumns,c),m=r.valueColumns&&Ei(r.valueColumns,c);return h||m}):this.gridColumns.filter(function(c){return r.groupAutoColumns&&Ei(r.groupAutoColumns,c)||c.isVisible()})},i.prototype.checkColSpanActiveInCols=function(r){var o=!1;return r.forEach(function(c){re(c.getColDef().colSpan)&&(o=!0)}),o},i.prototype.calculateColumnsForGroupDisplay=function(){var r=this;this.groupDisplayColumns=[];var o=function(c){var h=c.getColDef();h&&re(h.showRowGroup)&&r.groupDisplayColumns.push(c)};this.gridColumns.forEach(o),this.groupAutoColumns&&this.groupAutoColumns.forEach(o)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.updateDisplayedColumns=function(r){var o=this.calculateColumnsForDisplay();this.buildDisplayedTrees(o),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)},i.prototype.isSecondaryColumnsPresent=function(){return re(this.secondaryColumns)},i.prototype.setSecondaryColumns=function(r,o){var c=this;void 0===o&&(o="api");var h=r&&r.length>0;if(h||!b(this.secondaryColumns)){if(h){this.processSecondaryColumnDefinitions(r);var m=this.columnFactory.createColumnTree(r,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=m.columnTree,this.secondaryHeaderRowCount=m.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(w){return c.secondaryColumnsMap[w.getId()]=w}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(o)}},i.prototype.processSecondaryColumnDefinitions=function(r){var o=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),c=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(o||c){var h=function(m){m.forEach(function(w){if(re(w.children)){var x=w;c&&c(x),h(x.children)}else o&&o(w)})};r&&h(r)}},i.prototype.updateGridColumns=function(){var r=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(h){return void 0!==r.gridColumnsMap[h.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(h){return r.gridColumnsMap[h.getId()]=h}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:ne.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(h){return h.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var r=this.rowModel.getType();r!==ge.ROW_MODEL_TYPE_CLIENT_SIDE&&r!==ge.ROW_MODEL_TYPE_SERVER_SIDE&&zt(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},i.prototype.orderGridColsLike=function(r){if(!b(r)){var o=Kl(r.map(function(N,k){return[N,k]})),c=!0;if(this.gridColumns.forEach(function(N){o.has(N)&&(c=!1)}),!c){var h=Kl(this.gridColumns.map(function(N){return[N,!0]})),m=r.filter(function(N){return h.has(N)}),w=Kl(m.map(function(N){return[N,!0]})),A=this.gridColumns.filter(function(N){return!w.has(N)}),x=m.slice();A.forEach(function(N){var k=N.getOriginalParent();if(k){for(var q=[];!q.length&&k;)k.getLeafColumns().forEach(function(ye){var xe=x.indexOf(ye)>=0,Oe=q.indexOf(ye)<0;xe&&Oe&&q.push(ye)}),k=k.getOriginalParent();if(q.length){var le=q.map(function(ye){return x.indexOf(ye)}),de=Math.max.apply(Math,Tn(le));Yo(x,N,de+1)}else x.push(N)}else x.push(N)}),this.gridColumns=x}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},i.prototype.placeLockedColumns=function(r){var o=[],c=[],h=[];return r.forEach(function(m){var w=m.getColDef().lockPosition;"right"===w?h.push(m):"left"===w||!0===w?o.push(m):c.push(m)}),Tn(o,c,h)},i.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!b(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=r.concat(this.gridBalancedTree)}},i.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},i.prototype.updateGroupsAndDisplayedColumns=function(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:ne.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.deriveDisplayedColumns=function(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(function(o){return o.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(r){var o=this;if(this.primaryColumns){var c=this.primaryColumns.slice(0),h=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(m){if(h){var w=o.getWidthOfColsInList(m);m.forEach(function(x){w-=x.getActualWidth(),x.setLeft(w,r)})}else{var A=0;m.forEach(function(x){x.setLeft(A,r),A+=x.getActualWidth()})}ch(c,m)}),c.forEach(function(m){m.setLeft(null,r)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(r){r.forEach(function(o){o instanceof nr&&o.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(r,o){o.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(r,function(c){c instanceof Bt&&o.push(c)})},i.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(r,o){var c;switch(r){case ge.PINNED_LEFT:c=this.viewportRowLeft[o];break;case ge.PINNED_RIGHT:c=this.viewportRowRight[o];break;default:c=this.viewportRowCenter[o]}return b(c)&&(c=[]),c},i.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var r={};this.viewportColumns.forEach(function(c){return r[c.getId()]=!0});var o=function(c,h,m){for(var w=!1,A=0;A<c.length;A++){var x=c[A],N=!1;if(x instanceof Bt)N=!0===r[x.getId()];else{var q=x.getDisplayedChildren();q&&(N=o(q,h,m+1))}N&&(w=!0,h[m]||(h[m]=[]),h[m].push(x))}return w};o(this.displayedTreeLeft,this.viewportRowLeft,0),o(this.displayedTreeRight,this.viewportRowRight,0),o(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},i.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},i.prototype.refreshFlexedColumns=function(r){var o=this;void 0===r&&(r={});var c=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];var h=-1;r.resizingCols&&r.resizingCols.forEach(function(Ke){var pt=o.displayedColumnsCenter.indexOf(Ke);h<pt&&(h=pt)});var m=function(Ke){var pt=o.displayedColumnsCenter.indexOf(Ke)>h;return Ke.getFlex()&&pt},w=this.displayedColumnsCenter.filter(function(Ke){return!m(Ke)}),A=this.displayedColumnsCenter.filter(function(Ke){return m(Ke)}),x=[];if(!A.length)return[];var k,N=[];e:for(;;){var q=A.reduce(function(Ke,pt){return Ke+pt.getFlex()},0);k=this.flexViewportWidth-this.getWidthOfColsInList(w);for(var te=0;te<A.length;te++){var le=A[te],de=k*le.getFlex()/q,ye=0,xe=le.getMinWidth(),Oe=le.getMaxWidth();if(re(xe)&&de<xe?ye=xe:re(Oe)&&de>Oe&&(ye=Oe),ye){le.setActualWidth(ye,c),pn(A,le),x.push(le),w.push(le);continue e}N[te]=Math.round(de)}break}var Ee=k;return A.forEach(function(Ke,pt){Ke.setActualWidth(Math.min(N[pt],Ee),c),x.push(Ke),Ee-=N[pt]}),r.skipSetLeft||this.setLeftValues(c),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.fireColumnResizedEvent(x,!0,c,A),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),A},i.prototype.sizeColumnsToFit=function(r,o,c){void 0===o&&(o="sizeColumnsToFit");var h=this.getAllDisplayedColumns();if(!(r<=0)&&h.length){var m=[],w=[];h.forEach(function(Ee){!0===Ee.getColDef().suppressSizeToFit?w.push(Ee):m.push(Ee)});var A=m.slice(0),x=!1,N=function(Ee){pn(m,Ee),w.push(Ee)};for(m.forEach(function(Ee){return Ee.resetActualWidth(o)});!x;){x=!0;var k=r-this.getWidthOfColsInList(w);if(k<=0)m.forEach(function(Ee){Ee.setMinimum(o)});else for(var q=k/this.getWidthOfColsInList(m),te=k,le=m.length-1;le>=0;le--){var de=m[le],ye=de.getMinWidth(),xe=de.getMaxWidth(),Oe=Math.round(de.getActualWidth()*q);re(ye)&&Oe<ye?(Oe=ye,N(de),x=!1):re(xe)&&de.isGreaterThanMax(Oe)?(Oe=xe,N(de),x=!1):0===le&&(Oe=te),de.setActualWidth(Oe,o,!0),te-=Oe}}A.forEach(function(Ee){Ee.fireColumnWidthChangedEvent(o)}),this.setLeftValues(o),this.updateBodyWidths(),!c&&this.fireColumnResizedEvent(A,!0,o)}},i.prototype.buildDisplayedTrees=function(r){var o=[],c=[],h=[];r.forEach(function(w){switch(w.getPinned()){case"left":o.push(w);break;case"right":c.push(w);break;default:h.push(w)}});var m=new hh;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,m,ge.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(c,this.gridBalancedTree,m,ge.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(h,this.gridBalancedTree,m,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var r=this;this.displayedColumnsAndGroupsMap={};var o=function(c){r.displayedColumnsAndGroupsMap[c.getUniqueId()]=c};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,o),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,o),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,o)},i.prototype.isDisplayed=function(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var r=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(r,function(o){o instanceof nr&&o.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),o=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||o||r)this.groupAutoColumns=null;else{var w=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(w,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=w)}}},i.prototype.autoColsEqual=function(r,o){return Xa(r,o,function(c,h){return c.getColId()===h.getColId()})},i.prototype.getWidthOfColsInList=function(r){return r.reduce(function(o,c){return o+c.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(o){return o.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var r=this.gridOptionsWrapper.isEnableRtl(),o=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&o.reverse();for(var c=0;c<o.length;c++){var h=this[o[c]]();if(h.length)return r?rr(h):h[0]}return null},dn([K("expressionService")],i.prototype,"expressionService",void 0),dn([K("columnFactory")],i.prototype,"columnFactory",void 0),dn([K("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),dn([K("ctrlsService")],i.prototype,"ctrlsService",void 0),dn([K("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),dn([K("columnUtils")],i.prototype,"columnUtils",void 0),dn([K("columnAnimationService")],i.prototype,"columnAnimationService",void 0),dn([K("autoGroupColService")],i.prototype,"autoGroupColService",void 0),dn([$t("aggFuncService")],i.prototype,"aggFuncService",void 0),dn([$t("valueCache")],i.prototype,"valueCache",void 0),dn([$t("animationFrameService")],i.prototype,"animationFrameService",void 0),dn([K("rowModel")],i.prototype,"rowModel",void 0),dn([K("columnApi")],i.prototype,"columnApi",void 0),dn([K("gridApi")],i.prototype,"gridApi",void 0),dn([K("sortController")],i.prototype,"sortController",void 0),dn([K("columnDefFactory")],i.prototype,"columnDefFactory",void 0),dn([je],i.prototype,"init",null),dn([oO(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),dn([Xe("columnModel")],i)}(Ge),Rm=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Es=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Rm(i,f),i.prototype.calculateColMinWidth=function(r){return null!=r.minWidth?r.minWidth:this.gridOptionsWrapper.getMinColWidth()},i.prototype.calculateColMaxWidth=function(r){return null!=r.maxWidth?r.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(r){var h,o=this.calculateColMinWidth(r),c=this.calculateColMaxWidth(r),m=xr(r.width),w=xr(r.initialWidth);return h=null!=m?m:null!=w?w:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(h,c),o)},i.prototype.getOriginalPathForColumn=function(r,o){var c=[],h=!1,m=function(w,A){for(var x=0;x<w.length;x++){if(h)return;var N=w[x];N instanceof Ar?(m(N.getChildren(),A+1),c[A]=N):N===r&&(h=!0)}};return m(o,0),h?c:null},i.prototype.depthFirstOriginalTreeSearch=function(r,o,c){var h=this;!o||o.forEach(function(m){m instanceof Ar&&h.depthFirstOriginalTreeSearch(m,m.getChildren(),c),c(m,r)})},i.prototype.depthFirstAllColumnTreeSearch=function(r,o){var c=this;!r||r.forEach(function(h){h instanceof nr&&c.depthFirstAllColumnTreeSearch(h.getChildren(),o),o(h)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(r,o){var c=this;!r||r.forEach(function(h){h instanceof nr&&c.depthFirstDisplayedColumnTreeSearch(h.getDisplayedChildren(),o),o(h)})},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("columnUtils")],i),i}(Ge),eS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tS=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return eS(i,f),i.prototype.createDisplayedGroups=function(r,o,c,h,m){var x,N,w=this,A=[],k=this.mapOldGroupsById(m);return r.forEach(function(q){for(var te=w.getOriginalPathForColumn(o,q),le=[],de=!N,ye=0;ye<te.length;ye++)if(de||te[ye]!==N[ye]){var xe=w.createColumnGroup(te[ye],c,k,h);le[ye]=xe,0==ye?A.push(xe):le[ye-1].addChild(xe)}else le[ye]=x[ye];0===le.length?A.push(q):rr(le).addChild(q),x=le,N=te}),this.setupParentsIntoColumns(A,null),A},i.prototype.createColumnGroup=function(r,o,c,h){var m=r.getGroupId(),w=o.getInstanceIdForKey(m),x=c[nr.createUniqueId(m,w)];return x&&x.getProvidedColumnGroup()!==r&&(x=null),re(x)?x.reset():(x=new nr(r,m,w,h),this.context.createBean(x)),x},i.prototype.mapOldGroupsById=function(r){var o={},c=function(h){h.forEach(function(m){if(m instanceof nr){var w=m;o[m.getUniqueId()]=w,c(w.getChildren())}})};return r&&c(r),o},i.prototype.setupParentsIntoColumns=function(r,o){var c=this;r.forEach(function(h){if(h.setParent(o),h instanceof nr){var m=h;c.setupParentsIntoColumns(m.getChildren(),m)}})},i.prototype.getOriginalPathForColumn=function(r,o){var c=[],h=!1,m=function(w,A){for(var x=0;x<w.length;x++){if(h)return;var N=w[x];N instanceof Ar?(m(N.getChildren(),A+1),c[A]=N):N===o&&(h=!0)}};return m(r,0),h?c:(console.warn("AG Grid: could not get path"),null)},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("displayedGroupCreator")],i),i}(Ge),Cp=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},ca=function(){function f(){}return f.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],f.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],f.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],f.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],f.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation"],f.ALL_PROPERTIES=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(Cp(arguments[i]));return f}(f.ARRAY_PROPERTIES,f.OBJECT_PROPERTIES,f.STRING_PROPERTIES,f.NUMBER_PROPERTIES,f.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],f.BOOLEAN_PROPERTIES),f.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],f}(),pa=function(){return pa=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},pa.apply(this,arguments)},Yl=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},ri=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(Yl(arguments[i]));return f},Wt=function(){function f(){}return f.getEventCallbacks=function(){return f.EVENT_CALLBACKS||(f.EVENT_CALLBACKS=f.EVENTS.map(function(i){return f.getCallbackForEvent(i)})),f.EVENT_CALLBACKS},f.copyAttributesToGridOptions=function(i,r,o){"object"!=typeof i&&(i={});var c=i,h=function(m){return void 0!==r[m]};return h("groupAggFiltering")&&"function"!=typeof r.groupAggFiltering&&(c.groupAggFiltering=f.toBoolean(r.groupAggFiltering),delete r.groupAggFiltering),ri(f.ARRAY_PROPERTIES,f.STRING_PROPERTIES,f.OBJECT_PROPERTIES,f.FUNCTION_PROPERTIES,f.getEventCallbacks()).filter(h).forEach(function(m){return c[m]=r[m]}),f.BOOLEAN_PROPERTIES.filter(h).forEach(function(m){return c[m]=f.toBoolean(r[m])}),f.NUMBER_PROPERTIES.filter(h).forEach(function(m){return c[m]=f.toNumber(r[m])}),i},f.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},f.processOnChange=function(i,r,o,c){if(i){var h=pa({},i),m=r,w=function(N){return h[N]};w("groupAggFiltering")&&(m.groupAggFiltering="function"==typeof h.groupAggFiltering?h.groupAggFiltering:f.toBoolean(h.groupAggFiltering),delete h.groupAggFiltering),ri(f.ARRAY_PROPERTIES,f.OBJECT_PROPERTIES,f.STRING_PROPERTIES,f.getEventCallbacks()).filter(w).forEach(function(N){return m[N]=h[N].currentValue}),f.BOOLEAN_PROPERTIES.filter(w).forEach(function(N){return m[N]=f.toBoolean(h[N].currentValue)}),f.NUMBER_PROPERTIES.filter(w).forEach(function(N){return m[N]=f.toNumber(h[N].currentValue)}),h.enableCellTextSelection&&(o.setEnableCellTextSelection(f.toBoolean(h.enableCellTextSelection.currentValue)),delete h.enableCellTextSelection),h.quickFilterText&&(o.setQuickFilter(h.quickFilterText.currentValue),delete h.quickFilterText),h.autoGroupColumnDef&&(o.setAutoGroupColumnDef(h.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete h.autoGroupColumnDef),h.columnDefs&&(o.setColumnDefs(h.columnDefs.currentValue,"gridOptionsChanged"),delete h.columnDefs),h.defaultColDef&&(o.setDefaultColDef(h.defaultColDef.currentValue,"gridOptionsChanged"),delete h.defaultColDef),h.paginationPageSize&&(o.paginationSetPageSize(f.toNumber(h.paginationPageSize.currentValue)),delete h.paginationPageSize),h.pivotMode&&(c.setPivotMode(f.toBoolean(h.pivotMode.currentValue)),delete h.pivotMode),h.groupRemoveSingleChildren&&(o.setGroupRemoveSingleChildren(f.toBoolean(h.groupRemoveSingleChildren.currentValue)),delete h.groupRemoveSingleChildren),h.suppressRowDrag&&(o.setSuppressRowDrag(f.toBoolean(h.suppressRowDrag.currentValue)),delete h.suppressRowDrag),h.suppressMoveWhenRowDragging&&(o.setSuppressMoveWhenRowDragging(f.toBoolean(h.suppressMoveWhenRowDragging.currentValue)),delete h.suppressMoveWhenRowDragging),h.suppressRowClickSelection&&(o.setSuppressRowClickSelection(f.toBoolean(h.suppressRowClickSelection.currentValue)),delete h.suppressRowClickSelection),h.suppressClipboardPaste&&(o.setSuppressClipboardPaste(f.toBoolean(h.suppressClipboardPaste.currentValue)),delete h.suppressClipboardPaste),h.headerHeight&&(o.setHeaderHeight(f.toNumber(h.headerHeight.currentValue)),delete h.headerHeight);var A=o;Object.keys(h).forEach(function(N){var k="set"+N.charAt(0).toUpperCase()+N.substring(1);A[k]&&A[k](i[N].currentValue)});var x={type:ne.EVENT_COMPONENT_STATE_CHANGED,api:r.api,columnApi:r.columnApi};Jt(i,function(N,k){x[N]=k}),o.dispatchEvent(x)}},f.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},f.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},f.EVENTS=[],f.PUBLIC_EVENTS=[],f.EXCLUDED_INTERNAL_EVENTS=[],f.STRING_PROPERTIES=ca.STRING_PROPERTIES,f.OBJECT_PROPERTIES=ca.OBJECT_PROPERTIES,f.ARRAY_PROPERTIES=ca.ARRAY_PROPERTIES,f.NUMBER_PROPERTIES=ca.NUMBER_PROPERTIES,f.BOOLEAN_PROPERTIES=ca.BOOLEAN_PROPERTIES,f.FUNCTION_PROPERTIES=ca.FUNCTION_PROPERTIES,f.ALL_PROPERTIES=ca.ALL_PROPERTIES,f}();Wt.EVENTS=ms(ne),Wt.EXCLUDED_INTERNAL_EVENTS=[ne.EVENT_SCROLLBAR_WIDTH_CHANGED,ne.EVENT_CHECKBOX_CHANGED,ne.EVENT_HEIGHT_SCALE_CHANGED,ne.EVENT_BODY_HEIGHT_CHANGED,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,ne.EVENT_SCROLL_VISIBILITY_CHANGED,ne.EVENT_COLUMN_HOVER_CHANGED,ne.EVENT_FLASH_CELLS,ne.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,ne.EVENT_DISPLAYED_ROWS_CHANGED,ne.EVENT_LEFT_PINNED_WIDTH_CHANGED,ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED,ne.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,ne.EVENT_POPUP_TO_FRONT,ne.EVENT_KEYBOARD_FOCUS,ne.EVENT_MOUSE_FOCUS,ne.EVENT_STORE_UPDATED,ne.EVENT_COLUMN_PANEL_ITEM_DRAG_START,ne.EVENT_COLUMN_PANEL_ITEM_DRAG_END,ne.EVENT_FILL_START,ne.EVENT_FILL_END],Wt.PUBLIC_EVENTS=Wt.EVENTS.filter(function(f){return!Ei(Wt.EXCLUDED_INTERNAL_EVENTS,f)});var Cg=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rS=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.componentsMappedByName={},r}return Cg(i,f),i.prototype.setupComponents=function(r){var o=this;r&&r.forEach(function(c){return o.addComponent(c)})},i.prototype.addComponent=function(r){var c=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[c]=r.componentClass},i.prototype.getComponentClass=function(r){return this.componentsMappedByName[r]},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("agStackComponentsRegistry")],i),i}(Ge),Rt=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},En=function(){function f(){}return f.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],f.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],f.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],f.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],f.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],f.ALL_PROPERTIES=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(Rt(arguments[i]));return f}(f.ARRAY_PROPERTIES,f.OBJECT_PROPERTIES,f.STRING_PROPERTIES,f.NUMBER_PROPERTIES,f.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],f.BOOLEAN_PROPERTIES),f.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],f}(),vh=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},Qa=function(){function f(i,r,o,c){void 0===c&&(c=1),this.r=Math.min(1,Math.max(0,i||0)),this.g=Math.min(1,Math.max(0,r||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,c||0))}return f.fromString=function(i){if(i.indexOf("#")>=0)return f.fromHexString(i);var r=f.nameToHex[i];if(r)return f.fromHexString(r);if(i.indexOf("rgb")>=0)return f.fromRgbaString(i);throw new Error("Invalid color string: '"+i+"'")},f.parseHex=function(i){var r;switch((i=i.replace(/ /g,"").slice(1)).length){case 6:case 8:r=[];for(var o=0;o<i.length;o+=2)r.push(parseInt(""+i[o]+i[o+1],16));break;case 3:case 4:r=i.split("").map(function(c){return parseInt(c,16)}).map(function(c){return c+16*c})}if(r.length>=3&&r.every(function(c){return c>=0}))return 3===r.length&&r.push(255),r},f.fromHexString=function(i){var r=f.parseHex(i);if(r){var o=vh(r,4);return new f(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+i+"'")},f.stringToRgba=function(i){for(var r=vh([NaN,NaN],2),o=r[0],c=r[1],h=0;h<i.length;h++){var m=i[h];if(o||"("!==m){if(")"===m){c=h;break}}else o=h}var w=o&&c&&i.substring(o+1,c);if(w){var A=w.split(","),x=[];for(h=0;h<A.length;h++){var N=A[h],k=parseFloat(N);if(isNaN(k))return;N.indexOf("%")>=0?(k=Math.max(0,Math.min(100,k)),k/=100):3===h?k=Math.max(0,Math.min(1,k)):(k=Math.max(0,Math.min(255,k)),k/=255),x.push(k)}return x}},f.fromRgbaString=function(i){var r=f.stringToRgba(i);if(r){if(3===r.length)return new f(r[0],r[1],r[2]);if(4===r.length)return new f(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+i+"'")},f.fromArray=function(i){if(4===i.length)return new f(i[0],i[1],i[2],i[3]);if(3===i.length)return new f(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},f.fromHSB=function(i,r,o,c){void 0===c&&(c=1);var h=f.HSBtoRGB(i,r,o);return new f(h[0],h[1],h[2],c)},f.padHex=function(i){return 1===i.length?"0"+i:i},f.prototype.toHexString=function(){var i="#"+f.padHex(Math.round(255*this.r).toString(16))+f.padHex(Math.round(255*this.g).toString(16))+f.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(i+=f.padHex(Math.round(255*this.a).toString(16))),i},f.prototype.toRgbaString=function(i){void 0===i&&(i=3);var r=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,i);return 1!==this.a?(r.push(Math.round(this.a*o)/o),"rgba("+r.join(", ")+")"):"rgb("+r.join(", ")+")"},f.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},f.prototype.toHSB=function(){return f.RGBtoHSB(this.r,this.g,this.b)},f.RGBtoHSB=function(i,r,o){var c=Math.min(i,r,o),h=Math.max(i,r,o),w=NaN;if(c!==h){var A=h-c,x=(h-i)/A,N=(h-r)/A,k=(h-o)/A;w=i===h?k-N:r===h?2+x-k:4+N-x,(w/=6)<0&&(w+=1)}return[360*w,0!==h?(h-c)/h:0,h]},f.HSBtoRGB=function(i,r,o){isNaN(i)&&(i=0),i=(i%360+360)%360/360;var c=0,h=0,m=0;if(0===r)c=h=m=o;else{var w=6*(i-Math.floor(i)),A=w-Math.floor(w),x=o*(1-r),N=o*(1-r*A),k=o*(1-r*(1-A));switch(w>>0){case 0:c=o,h=k,m=x;break;case 1:c=N,h=o,m=x;break;case 2:c=x,h=o,m=k;break;case 3:c=x,h=N,m=o;break;case 4:c=k,h=x,m=o;break;case 5:c=o,h=x,m=N}}return[c,h,m]},f.prototype.derive=function(i,r,o,c){var h=f.RGBtoHSB(this.r,this.g,this.b),m=h[2];0==m&&o>1&&(m=.05);var w=((h[0]+i)%360+360)%360,A=Math.max(Math.min(h[1]*r,1),0);m=Math.max(Math.min(m*o,1),0);var x=Math.max(Math.min(this.a*c,1),0),N=f.HSBtoRGB(w,A,m);return N.push(x),f.fromArray(N)},f.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},f.prototype.darker=function(){return this.derive(0,1,.7,1)},f.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),f}();function xm(f,i){void 0===i&&(i=",");var r=[],o=function(q){return"\r"===q||"\n"===q},c=!1;if(""===f)return[[""]];for(var m,w,A,h=function(q,te,le){var de=f[le-1],ye=f[le],xe=f[le+1],Oe=function(){r[q]||(r[q]=[]),r[q][te]||(r[q][te]="")};if(Oe(),'"'===ye){if(c)return'"'===xe?(r[q][te]+='"',le++):c=!1,m=q,w=te,A=le,"continue";if(void 0===de||de===i||o(de))return c=!0,m=q,w=te,A=le,"continue"}if(!c){if(ye===i)return te++,Oe(),m=q,w=te,A=le,"continue";if(o(ye))return te=0,q++,Oe(),"\r"===ye&&"\n"===xe&&le++,m=q,w=te,A=le,"continue"}r[q][te]+=ye,m=q,w=te,A=le},x=0,N=0,k=0;k<f.length;k++)h(x,N,k),x=m,N=w,k=A;return r}var Xu,Ja,yh,wg,lt,da,_g,Oi,nS=Object.freeze({stringToArray:xm});function mh(){return void 0===yh&&(yh=!function Mm(){return void 0===Ja&&(Ja=!!document.documentMode),Ja}()&&!!window.StyleMedia),yh}function $i(){return void 0===Xu&&(Xu=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Xu}function ii(){if(void 0===wg){var f=window;wg=!!f.chrome&&(!!f.chrome.webstore||!!f.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return wg}function Fm(){if(void 0===lt){var f=window;lt=void 0!==f.InstallTrigger}return lt}function wp(){return void 0===da&&(da=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),da}function Ki(f){if(!f)return null;var i=f.tabIndex,r=f.getAttribute("tabIndex");return-1!==i||null!==r&&(""!==r||Fm())?i.toString():null}function Im(){if(!document.body)return-1;var f=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var o=2*f;if(r.style.height=o+"px",o>i||r.clientHeight!==o)break;f=o}return document.body.removeChild(r),f}function Nm(){return null==Oi&&Lm(),Oi}function Lm(){var f=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",f.appendChild(i);var r=i.offsetWidth-i.clientWidth;0===r&&0===i.clientWidth&&(r=null),i.parentNode&&i.parentNode.removeChild(i),null!=r&&(Oi=r,_g=0===r)}function Gm(){return null==_g&&Lm(),_g}function iS(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function km(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var or,Zu=Object.freeze({isBrowserEdge:mh,isBrowserSafari:$i,isBrowserChrome:ii,isBrowserFirefox:Fm,isIOSUserAgent:wp,getTabIndex:Ki,getMaxDivHeight:Im,getScrollbarWidth:Nm,isInvisibleScrollbar:Gm,hasOverflowScrolling:function dr(){var f,i,r=["webkit","moz","o","ms"],o=document.createElement("div"),h=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",r.map(function(N){return"-"+N+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var w=window.getComputedStyle(o);if("touch"===w.overflowScrolling&&(h=!0),!h)try{for(var A=function(f){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&f[i],o=0;if(r)return r.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&o>=f.length&&(f=void 0),{value:f&&f[o++],done:!f}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),x=A.next();!x.done;x=A.next())if("touch"===w[x.value+"OverflowScrolling"]){h=!0;break}}catch(N){f={error:N}}finally{try{x&&!x.done&&(i=A.return)&&i.call(A)}finally{if(f)throw f.error}}return o.parentNode&&o.parentNode.removeChild(o),h},getBodyWidth:iS,getBodyHeight:km});function wh(f){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,r=i.call(f,ge.INPUT_SELECTOR),o=i.call(f,ge.FOCUSABLE_EXCLUDE),c=qr(f);return r&&!o&&c}function ur(f,i){f.classList.toggle("ag-hidden",!i)}function Sg(f,i){f.classList.toggle("ag-invisible",!i)}function Di(f,i){var r="disabled",o=i?function(c){return c.setAttribute(r,"")}:function(c){return c.removeAttribute(r)};o(f),Sp(f.querySelectorAll("input"),function(c){return o(c)})}function hn(f,i,r){for(var o=0;f;){if(f.classList.contains(i))return!0;if(f=f.parentElement,r&&++o>r)break}return!1}function Qu(f){var i=window.getComputedStyle(f),o=i.width,c=i.paddingTop,h=i.paddingRight,m=i.paddingBottom,w=i.paddingLeft,A=i.marginTop,x=i.marginRight,N=i.marginBottom,k=i.marginLeft,q=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(o),paddingTop:parseFloat(c),paddingRight:parseFloat(h),paddingBottom:parseFloat(m),paddingLeft:parseFloat(w),marginTop:parseFloat(A),marginRight:parseFloat(x),marginBottom:parseFloat(N),marginLeft:parseFloat(k),boxSizing:q}}function Yi(f){var i=Qu(f);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function Be(f){var i=Qu(f);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function _h(f){var i=Qu(f);return Math.ceil(f.offsetHeight+(i.marginBottom+i.marginTop))}function ha(f){var i=Qu(f);return Math.ceil(f.offsetWidth+(i.marginLeft+i.marginRight))}function oi(){if("boolean"==typeof or)return or;var f=document.createElement("div");return f.style.direction="rtl",f.style.width="1px",f.style.height="1px",f.style.position="fixed",f.style.top="0px",f.style.overflow="hidden",f.dir="rtl",f.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(f),f.scrollLeft=1,or=0===Math.floor(f.scrollLeft),document.body.removeChild(f),or}function fn(f,i){var r=f.scrollLeft;return i&&(r=Math.abs(r),ii()&&!oi()&&(r=f.scrollWidth-f.clientWidth-r)),r}function Xl(f,i,r){r&&(oi()?i*=-1:($i()||ii())&&(i=f.scrollWidth-f.clientWidth-i)),f.scrollLeft=i}function jn(f){for(;f&&f.firstChild;)f.removeChild(f.firstChild)}function yr(f){f&&f.parentNode&&f.parentNode.removeChild(f)}function qr(f){return null!==f.offsetParent}function br(f){if(null!==DOMParser)return(new DOMParser).parseFromString(f,"text/html").body.firstChild;var o=document.createElement("div");return o.innerHTML=(f||"").trim(),o.firstChild}function Ju(f){return f&&f.clientHeight?f.clientHeight:0}function _p(f){return f&&f.clientWidth?f.clientWidth:0}function Ql(f,i,r){r&&r.nextSibling===i||(r?r.nextSibling?f.insertBefore(i,r.nextSibling):f.appendChild(i):f.firstChild&&f.firstChild!==i&&f.insertAdjacentElement("afterbegin",i))}function ec(f,i){for(var r=0;r<i.length;r++){var o=i[r],c=f.children[r];c!==o&&f.insertBefore(o,c)}}function el(f,i,r){r?r.insertAdjacentElement("afterend",i):f.firstChild?f.insertAdjacentElement("afterbegin",i):f.appendChild(i)}function bg(f,i){!i||Object.keys(i).forEach(function(r){var o=fh(r);o&&(f.style[o]=i[r])})}function Ri(f){return f.clientWidth<f.scrollWidth}function Ze(f){return f.clientHeight<f.scrollHeight}function Pt(f,i){"flex"===i?(f.style.removeProperty("width"),f.style.removeProperty("minWidth"),f.style.removeProperty("maxWidth"),f.style.flex="1 1 auto"):qt(f,i)}function qt(f,i){i=rn(i),f.style.width=i.toString(),f.style.maxWidth=i.toString(),f.style.minWidth=i.toString()}function Xi(f,i){i=rn(i),f.style.height=i.toString(),f.style.maxHeight=i.toString(),f.style.minHeight=i.toString()}function rn(f){return"number"==typeof f?f+"px":f}function tl(f){return"function"==typeof Node?f instanceof Node:f&&"object"==typeof f&&"number"==typeof f.nodeType&&"string"==typeof f.nodeName}function Gr(f){return"function"==typeof HTMLElement?f instanceof HTMLElement:f&&hp(f)&&1===f.nodeType&&"string"==typeof f.nodeName}function fa(f){return tl(f)||Gr(f)}function Jl(f){if(null==f)return[];var i=[];return Sp(f,function(r){return i.push(r)}),i}function _t(f,i){if(f)for(var r=0;r<f.length;r++){var o=f[r];i(o.name,o.value)}}function Os(f,i,r){null==r?f.removeAttribute(i):f.setAttribute(i,r.toString())}function Sp(f,i){if(null!=f)for(var r=0;r<f.length;r++)i(f[r])}var Ds=Object.freeze({radioCssClass:function Ch(f,i,r){for(var o=f.parentElement,c=o&&o.firstChild;c;)i&&c.classList.toggle(i,c===f),r&&c.classList.toggle(r,c!==f),c=c.nextSibling},isFocusableFormField:wh,setDisplayed:ur,setVisible:Sg,setDisabled:Di,isElementChildOfClass:hn,getElementSize:Qu,getInnerHeight:Yi,getInnerWidth:Be,getAbsoluteHeight:_h,getAbsoluteWidth:ha,isRtlNegativeScroll:oi,getScrollLeft:fn,setScrollLeft:Xl,clearElement:jn,removeElement:function Ct(f,i){yr(f.querySelector(i))},removeFromParent:yr,isVisible:qr,loadTemplate:br,appendHtml:function Zl(f,i){f.lastChild?f.insertAdjacentHTML("afterbegin",i):f.innerHTML=i},getElementAttribute:function _o(f,i){return f.attributes&&f.attributes[i]?f.attributes[i].value:null},offsetHeight:Ju,offsetWidth:_p,ensureDomOrder:Ql,setDomChildOrder:ec,insertWithDomOrder:el,prependDC:function Un(f,i){re(f.firstChild)?f.insertBefore(i,f.firstChild):f.appendChild(i)},addStylesToElement:bg,isHorizontalScrollShowing:Ri,isVerticalScrollShowing:Ze,setElementWidth:Pt,setFixedWidth:qt,setElementHeight:function qi(f,i){"flex"===i?(f.style.removeProperty("height"),f.style.removeProperty("minHeight"),f.style.removeProperty("maxHeight"),f.style.flex="1 1 auto"):Xi(f,i)},setFixedHeight:Xi,formatSize:rn,isNode:tl,isElement:Gr,isNodeOrElement:fa,copyNodeList:Jl,iterateNamedNodeMap:_t,setCheckboxState:function eu(f,i){"boolean"==typeof i?(f.checked=i,f.indeterminate=!1):f.indeterminate=!0},addOrRemoveAttribute:Os,nodeListForEach:Sp}),Vm=Object.freeze({getNameOfClass:function Ai(f){var r=f.toString(),o=/function (.{1,})\(/.exec(r);return o&&o.length>1?o[1]:""},findLineByLeastSquares:function bp(f){var i=f.length,r=0;if(i<=1)return f;for(var o=0;o<f.length;o++){var c=f[o],h=c.toString().split("e-");h.length>1?r=Math.max(r,parseInt(h[1],10)):Math.floor(c)!==c&&(r=Math.max(r,c.toString().split(".")[1].length))}for(var m=0,w=0,A=0,x=0,N=0,k=0;k<i;k++)m+=k,w+=N=f[k],x+=k*k,A+=k*N;var q=(i*A-m*w)/(i*x-m*m),te=w/i-q*m/i,le=[];for(k=0;k<=i;k++)le.push(parseFloat((k*q+te).toFixed(r)));return le},cssStyleObjectToMarkup:function tc(f){if(!f)return"";var i=[];return Jt(f,function(r,o){var c=ir(r);i.push(c+": "+o+";")}),i.join(" ")},message:function Xo(f){var i=document.createElement("div"),r=document.querySelector("#__ag__message");i.innerHTML=f,r||(r=br('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(r)),r.insertBefore(i,r.children[0])},bindCellRendererToHtmlElement:function mr(f,i){f.then(function(r){var o=r.getGui();null!=o&&("object"==typeof o?i.appendChild(o):i.innerHTML=o)})}});function xn(f,i,r){f.setAttribute(So(i),r.toString())}function si(f,i){f.removeAttribute(So(i))}function So(f){return"aria-"+f}function Mn(f,i){i?f.setAttribute("role",i):f.removeAttribute("role")}function rl(f){return f.isSortAscending()?"ascending":f.isSortDescending()?"descending":"none"}function nl(f){return parseInt(f.getAttribute("aria-level"),10)}function Fn(f){return parseInt(f.getAttribute("aria-posinset"),10)}function Rs(f,i){var r="label";i?xn(f,r,i):si(f,r)}function tu(f,i){var r="labelledby";i?xn(f,r,i):si(f,r)}function Op(f,i){var r="describedby";i?xn(f,r,i):si(f,r)}function Sh(f,i){xn(f,"level",i)}function rc(f,i){xn(f,"disabled",i)}function Pi(f,i){xn(f,"expanded",i)}function Eg(f,i){xn(f,"setsize",i)}function Bm(f,i){xn(f,"posinset",i)}function sS(f,i){xn(f,"multiselectable",i)}function aS(f,i){xn(f,"rowcount",i)}function Hm(f,i){xn(f,"rowindex",i)}function lS(f,i){xn(f,"colcount",i)}function Wm(f,i){xn(f,"colindex",i)}function uS(f,i){xn(f,"colspan",i)}function cS(f,i){xn(f,"sort",i)}function pS(f){si(f,"sort")}function ru(f,i){var r="selected";i?xn(f,r,i):si(f,r)}function bh(f,i){xn(f,"checked",void 0===i?"mixed":i)}var aO=Object.freeze({setAriaRole:Mn,getAriaSortState:rl,getAriaLevel:nl,getAriaPosInSet:Fn,getAriaDescribedBy:function Ep(f){return f.getAttribute("aria-describedby")||""},setAriaLabel:Rs,setAriaLabelledBy:tu,setAriaDescribedBy:Op,setAriaLevel:Sh,setAriaDisabled:rc,setAriaExpanded:Pi,removeAriaExpanded:function oS(f){si(f,"expanded")},setAriaSetSize:Eg,setAriaPosInSet:Bm,setAriaMultiSelectable:sS,setAriaRowCount:aS,setAriaRowIndex:Hm,setAriaColCount:lS,setAriaColIndex:Wm,setAriaColSpan:uS,setAriaSort:cS,removeAriaSort:pS,setAriaSelected:ru,setAriaChecked:bh});function jm(f,i){return f.toString().padStart(i,"0")}function dS(f,i){for(var r=[],o=f;o<=i;o++)r.push(o);return r}function As(f){return""!==f&&!isNaN(parseFloat(f))&&isFinite(f)}function Og(f,i,r){return"number"!=typeof f?"":f.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}var zm=Object.freeze({padStartWidthZeros:jm,createArrayOfNumbers:dS,isNumeric:As,cleanNumber:function hS(f){return"string"==typeof f&&(f=parseInt(f,10)),"number"==typeof f?Math.floor(f):null},decToHex:function Zi(f,i){for(var r="",o=0;o<i;o++)r+=String.fromCharCode(255&f),f>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function Um(f,i,r){return"number"!=typeof f?"":Og(Math.round(100*f)/100,i,r)},formatNumberCommas:Og,sum:function fS(f){return null==f?null:f.reduce(function(i,r){return i+r},0)}}),Eh=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h};function il(f,i,r){if(void 0===i&&(i=!0),void 0===r&&(r="-"),!f)return null;var o=[f.getFullYear(),f.getMonth()+1,f.getDate()].map(function(c){return jm(c,2)}).join(r);return i&&(o+=" "+[f.getHours(),f.getMinutes(),f.getSeconds()].map(function(c){return jm(c,2)}).join(":")),o}function Ps(f){if(!f)return null;var i=Eh(f.split(" "),2),r=i[0],o=i[1];if(!r)return null;var c=r.split("-").map(function(le){return parseInt(le,10)});if(3!==c.filter(function(le){return!isNaN(le)}).length)return null;var h=Eh(c,3),m=h[0],w=h[1],A=h[2],x=new Date(m,w-1,A);if(x.getFullYear()!==m||x.getMonth()!==w-1||x.getDate()!==A)return null;if(!o||"00:00:00"===o)return x;var N=Eh(o.split(":").map(function(le){return parseInt(le,10)}),3),k=N[0],q=N[1],te=N[2];return k>=0&&k<24&&x.setHours(k),q>=0&&q<60&&x.setMinutes(q),te>=0&&te<60&&x.setSeconds(te),x}var gS=Object.freeze({serialiseDate:il,parseDateTimeFromString:Ps});function Qi(f,i,r){var o={},c=f.filter(function(h){return!i.some(function(m){return m===h})});return c.length>0&&c.forEach(function(h){return o[h]=Oh(h,r)}),o}function Oh(f,i,r,o){var c=o?$m:Dh,h=i.map(function(m){return{value:m,relevance:c(f.toLowerCase(),m.toLocaleLowerCase())}});return h.sort(function(m,w){return w.relevance-m.relevance}),r&&(h=h.filter(function(m){return 0!==m.relevance})),h.map(function(m){return m.value})}function Dg(f){var o,c,h,i=f.toLowerCase(),r=new Array(i.length-1);for(o=c=0,h=r.length;c<=h;o=c+=1)r[o]=i.slice(o,o+2);return r}function Dh(f,i){if(0===f.length&&0===i.length)return 0;var m,w,r=Dg(f),o=Dg(i),c=r.length+o.length,h=0;for(m=0,w=r.length;m<w;m++){var N,A=r[m],x=void 0;for(x=0,N=o.length;x<N;x++)A===o[x]&&h++}return h>0?2*h/c:0}function $m(f,i){for(var r=f.replace(/\s/g,""),o=i.replace(/\s/g,""),c=0,h=0,m=0;m<r.length;m++){var w=o.indexOf(r[m],h);-1!==w&&(c+=100-100*(h=w)/1e4*100)}return c}var vS=Object.freeze({fuzzyCheckStrings:Qi,fuzzySuggestions:Oh,get_bigrams:Dg,string_distances:Dh,string_weighted_distances:$m}),Rh={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function bo(f,i,r){var o=kr(f,i,r);if(o&&o.className.indexOf("ag-icon")>-1)return o;var c=document.createElement("span");return c.appendChild(o),c}function kr(f,i,r,o){var c=null,h=r&&r.getColDef().icons;if(h&&(c=h[f]),i&&!c){var m=i.getIcons();m&&(c=m[f])}if(!c){var A=document.createElement("span"),x=Rh[f];return x||(o?x=f:(console.warn("AG Grid: Did not find icon "+f),x="")),A.setAttribute("class","ag-icon ag-icon-"+x),A.setAttribute("unselectable","on"),Mn(A,"presentation"),A}var w=void 0;if("function"==typeof c)w=c();else{if("string"!=typeof c)throw new Error("icon from grid options needs to be a string or a function");w=c}return"string"==typeof w?br(w):fa(w)?w:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var lO=Object.freeze({iconNameClassMap:Rh,createIcon:bo,createIconNoSpan:kr});function Ym(f){if(f.altKey||f.ctrlKey||f.metaKey)return!1;var i=1===f.key.length,r=function uO(f){return mh()&&"Del"===f.key&&46===f.charCode}(f);return i||r}function Cr(f,i,r,o,c){var h=f.getSuppressKeyboardEventFunc(),m=o?o.getColDef().suppressKeyboardEvent:void 0;if(!h&&!m)return!1;var w={event:i,editing:c,column:o,api:f.getApi(),node:r,data:r.data,colDef:o.getColDef(),context:f.getContext(),columnApi:f.getColumnApi()};return!(!m||!m(w))||!!h&&h(w)}function qm(f,i,r,o){var c=o.getDefinition(),h=c&&c.suppressHeaderKeyboardEvent;return!!re(h)&&!!h({api:f.getApi(),columnApi:f.getColumnApi(),context:f.getContext(),colDef:c,column:o,headerRowIndex:r,event:i})}var er=Object.freeze({isEventFromPrintableCharacter:Ym,isUserSuppressingKeyboardEvent:Cr,isUserSuppressingHeaderKeyboardEvent:qm});function Ti(f,i,r){if(0===r)return!1;var o=Math.abs(f.clientX-i.clientX),c=Math.abs(f.clientY-i.clientY);return Math.max(o,c)<=r}var yS=Object.freeze({areEventsNear:Ti}),nn=Object.freeze({sortRowNodesByOrder:function Rg(f,i){if(f){for(var r=function(w,A){var x=i[w.id],N=i[A.id],k=void 0!==x,q=void 0!==N;return k&&q?x-N:k||q?k?1:-1:w.__objectId-A.__objectId},h=!1,m=0;m<f.length-1;m++)if(r(f[m],f[m+1])>0){h=!0;break}h&&f.sort(r)}},traverseNodesWithKey:function ga(f,i){var r=[];!function o(c){!c||c.forEach(function(h){if(h.group||h.hasChildren()){r.push(h.key);var m=r.join("|");i(h,m),o(h.childrenAfterGroup),r.pop()}})}(f)}});function nu(f){var i=new Set;return f.forEach(function(r){return i.add(r)}),i}var Ah=Object.freeze({convertToSet:nu}),Br=function(){return Br=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Br.apply(this,arguments)},gt=Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br(Br({},Vm),aO),_m),Zu),nS),gS),Ds),bm),nO),vS),um),lO),er),Ot),yS),zm),hm),nn),Ah),Om),va=function(){function f(i,r){void 0===i&&(i=0),void 0===r&&(r=1),this.nextValue=i,this.step=r}return f.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},f.prototype.peek=function(){return this.nextValue},f.prototype.skip=function(i){this.nextValue+=i},f}();!function(f){f[f.IN_PROGRESS=0]="IN_PROGRESS",f[f.RESOLVED=1]="RESOLVED"}(W.AgPromiseStatus||(W.AgPromiseStatus={}));var ot=function(){function f(i){var r=this;this.status=W.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(o){return r.onDone(o)},function(o){return r.onReject(o)})}return f.all=function(i){return new f(function(r){var o=i.length,c=new Array(o);i.forEach(function(h,m){h.then(function(w){c[m]=w,0==--o&&r(c)})})})},f.resolve=function(i){return void 0===i&&(i=null),new f(function(r){return r(i)})},f.prototype.then=function(i){var r=this;return new f(function(o){r.status===W.AgPromiseStatus.RESOLVED?o(i(r.resolution)):r.waiters.push(function(c){return o(i(c))})})},f.prototype.resolveNow=function(i,r){return this.status===W.AgPromiseStatus.RESOLVED?r(this.resolution):i},f.prototype.onDone=function(i){this.status=W.AgPromiseStatus.RESOLVED,this.resolution=i,this.waiters.forEach(function(r){return r(i)})},f.prototype.onReject=function(i){console.warn("TBI")},f}(),Eo=function(){function f(){this.timestamp=(new Date).getTime()}return f.prototype.print=function(i){var r=(new Date).getTime()-this.timestamp;console.info(i+" = "+r),this.timestamp=(new Date).getTime()},f}(),cO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ag=function(){return Ag=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Ag.apply(this,arguments)},Oo=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ji=(()=>(function(f){f[f.NOTHING=0]="NOTHING",f[f.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",f[f.SHOWING=2]="SHOWING"}(Ji||(Ji={})),Ji))(),Dp=function(f){function i(r){var o=f.call(this)||this;return o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.state=Ji.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o.parentComp=r,o}return cO(i,f),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var r=this.parentComp.getGui();this.addManagedListener(r,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(r,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),f.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(r){if(!wp()&&this.state==Ji.NOTHING){var o=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),o),this.lastMouseEvent=r,this.state=Ji.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===Ji.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=Ji.NOTHING},i.prototype.onMouseMove=function(r){this.lastMouseEvent=r,this.tooltipMouseTrack&&this.state===Ji.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=Ji.NOTHING},i.prototype.destroyTooltipComp=function(){var r=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var o=this.tooltipPopupDestroyFunc,c=this.tooltipComp;window.setTimeout(function(){o(),r.getContext().destroyBean(c)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var r=Ag({},this.parentComp.getTooltipParams());if(re(r.value)){this.state=Ji.SHOWING,this.tooltipInstanceCount++;var o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(r).newAgStackInstance().then(o)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(r,o){if(this.state!==Ji.SHOWING||this.tooltipInstanceCount!==r)this.getContext().destroyBean(o);else{var h=o.getGui();this.tooltipComp=o,h.classList.contains("ag-tooltip")||h.classList.add("ag-tooltip-custom");var m=this.gridOptionsWrapper.getLocaleTextFunc(),w=this.popupService.addPopup({eChild:h,ariaLabel:m("ariaLabelTooltip","Tooltip")});w&&(this.tooltipPopupDestroyFunc=w.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},Oo([K("popupService")],i.prototype,"popupService",void 0),Oo([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Oo([K("columnApi")],i.prototype,"columnApi",void 0),Oo([K("gridApi")],i.prototype,"gridApi",void 0),Oo([je],i.prototype,"postConstruct",null),i}(Ge),Ph=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sl=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ke=new va,Nt=function(){function f(i){this.cssClassStates={},this.getGui=i}return f.prototype.addCssClass=function(i){var r=this,o=(i||"").split(" ");o.length>1?o.forEach(function(h){return r.addCssClass(h)}):!0!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.add(i),this.cssClassStates[i]=!0)},f.prototype.removeCssClass=function(i){var r=this,o=(i||"").split(" ");o.length>1?o.forEach(function(h){return r.removeCssClass(h)}):!1!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.remove(i),this.cssClassStates[i]=!1)},f.prototype.containsCssClass=function(i){return this.getGui().classList.contains(i)},f.prototype.addOrRemoveCssClass=function(i,r){var o=this,c=(i||"").split(" ");c.length>1?c.forEach(function(m){return o.addOrRemoveCssClass(m,r)}):this.cssClassStates[i]!==r&&i.length&&(this.getGui().classList.toggle(i,r),this.cssClassStates[i]=r)},f}(),At=function(f){function i(r){var o=f.call(this)||this;return o.displayed=!0,o.visible=!0,o.compId=ke.next(),o.cssClassManager=new Nt(function(){return o.eGui}),r&&o.setTemplate(r),o}return Ph(i,f),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(r){var o=this;this.tooltipText!=r&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=r&&(this.tooltipText=r,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new Dp(o)))))},i.prototype.createChildComponentsFromTags=function(r,o){var c=this;Jl(r.childNodes).forEach(function(m){if(m instanceof HTMLElement){var w=c.createComponentFromElement(m,function(x){x.getGui()&&c.copyAttributesFromNode(m,x.getGui())},o);if(w){if(w.addItems&&m.children.length){c.createChildComponentsFromTags(m,o);var A=Array.prototype.slice.call(m.children);w.addItems(A)}c.swapComponentForNode(w,r,m)}else m.childNodes&&c.createChildComponentsFromTags(m,o)}})},i.prototype.createComponentFromElement=function(r,o,c){var h=r.nodeName,m=c?c[r.getAttribute("ref")]:void 0,w=this.agStackComponentsRegistry.getComponentClass(h);if(w){i.elementGettingCreated=r;var A=new w(m);return A.setParentComponent(this),this.createBean(A,null,o),A}return null},i.prototype.copyAttributesFromNode=function(r,o){_t(r.attributes,function(c,h){return o.setAttribute(c,h)})},i.prototype.swapComponentForNode=function(r,o,c){var h=r.getGui();o.replaceChild(h,c),o.insertBefore(document.createComment(c.nodeName),h),this.addDestroyFunc(this.destroyBean.bind(this,r)),this.swapInComponentForQuerySelectors(r,c)},i.prototype.swapInComponentForQuerySelectors=function(r,o){var c=this;this.iterateOverQuerySelectors(function(h){c[h.attributeName]===o&&(c[h.attributeName]=r)})},i.prototype.iterateOverQuerySelectors=function(r){for(var o=Object.getPrototypeOf(this);null!=o;){var c=o.__agComponentMetaData,h=sh(o.constructor);c&&c[h]&&c[h].querySelectors&&c[h].querySelectors.forEach(function(m){return r(m)}),o=Object.getPrototypeOf(o)}},i.prototype.setTemplate=function(r,o){var c=br(r);this.setTemplateFromElement(c,o)},i.prototype.setTemplateFromElement=function(r,o){this.eGui=r,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),o)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var r=this;if(this.eGui){var o=this;this.iterateOverQuerySelectors(function(c){var h=function(A){return o[c.attributeName]=A};if(c.refSelector&&r.eGui.getAttribute("ref")===c.refSelector)h(r.eGui);else{var w=r.eGui.querySelector(c.querySelector);w&&h(w.__agComponent||w)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(r){this.parentComponent=r},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(r){this.eGui=r},i.prototype.queryForHtmlElement=function(r){return this.eGui.querySelector(r)},i.prototype.queryForHtmlInputElement=function(r){return this.eGui.querySelector(r)},i.prototype.appendChild=function(r,o){if(o||(o=this.eGui),null!=r)if(fa(r))o.appendChild(r);else{var c=r;o.appendChild(c.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,c))}},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(r){r!==this.visible&&(this.visible=r,Sg(this.eGui,r))},i.prototype.setDisplayed=function(r){r!==this.displayed&&(this.displayed=r,ur(this.eGui,r),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),f.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(r,o){var c=this;this.eGui.addEventListener(r,o),this.addDestroyFunc(function(){return c.eGui.removeEventListener(r,o)})},i.prototype.addCssClass=function(r){this.cssClassManager.addCssClass(r)},i.prototype.removeCssClass=function(r){this.cssClassManager.removeCssClass(r)},i.prototype.containsCssClass=function(r){return this.cssClassManager.containsCssClass(r)},i.prototype.addOrRemoveCssClass=function(r,o){this.cssClassManager.addOrRemoveCssClass(r,o)},i.prototype.getAttribute=function(r){var o=this.eGui;return o?o.getAttribute(r):null},i.prototype.getRefElement=function(r){return this.queryForHtmlElement('[ref="'+r+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",sl([K("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),sl([lg],i.prototype,"preConstructOnComponent",null),sl([lg],i.prototype,"createChildComponentsPreConstruct",null),i}(Ge);function Ne(f){return nc.bind(this,"[ref="+f+"]",f)}function nc(f,i,r,o,c){null!==f?"number"!=typeof c?function Ts(f,i,r){var o=function ya(f,i){return f.__agComponentMetaData||(f.__agComponentMetaData={}),f.__agComponentMetaData[i]||(f.__agComponentMetaData[i]={}),f.__agComponentMetaData[i]}(f,sh(f.constructor));o[i]||(o[i]=[]),o[i].push(r)}(r,"querySelectors",{attributeName:o,querySelector:f,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var iu=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Pg=function(f){function i(){return f.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return iu(i,f),i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.init=function(r){this.params=r;var o=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),c=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(o+" "+c("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(r){var o=this;r?this.params.parentFilterInstance(function(c){if(c.getModelAsString){var h=c.getModelAsString(r);o.eFloatingFilterText.setValue(h)}}):this.eFloatingFilterText.setValue("")},Rp([Ne("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),Rp([K("columnModel")],i.prototype,"columnModel",void 0),i}(At),mS=function(){function f(i,r,o,c){var h=this;this.alive=!0,this.context=i,this.eParent=c,r.getDateCompDetails(o).newAgStackInstance().then(function(A){h.alive?(h.dateComp=A,A&&(c.appendChild(A.getGui()),A.afterGuiAttached&&A.afterGuiAttached(),h.tempValue&&A.setDate(h.tempValue),null!=h.disabled&&h.setDateCompDisabled(h.disabled))):i.destroyBean(A)})}return f.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},f.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},f.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},f.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},f.prototype.setDisplayed=function(i){ur(this.eParent,i)},f.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},f.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},f.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},f.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},f}(),Zo=function(){return Zo=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Zo.apply(this,arguments)},Mr=function(){function f(){this.customFilterOptions={}}return f.prototype.init=function(i,r){this.filterOptions=i.filterOptions||r,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},f.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},f.prototype.getFilterOptions=function(){return this.filterOptions},f.prototype.mapCustomOptions=function(){var i=this;!this.filterOptions||this.filterOptions.forEach(function(r){if("string"!=typeof r){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(w){return!!w.some(function(A){return null!=r[A]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+w+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(w){return w===r})||[]);var h=r.test,m=Zo({},r);null!=h&&null==r.predicate&&(m.predicate=function(w,A){return h(w[0],A)},delete m.test),m.hideFilterInput&&null==m.numberOfInputs&&(m.numberOfInputs=0,delete m.hideFilterInput),i.customFilterOptions[r.displayKey]=m}})},f.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var r=this.filterOptions[0];"string"==typeof r?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},f.prototype.getDefaultOption=function(){return this.defaultOption},f.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},f}(),ma={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ie=function(){function f(){}return f.BACKSPACE="Backspace",f.TAB="Tab",f.ENTER="Enter",f.ESCAPE="Escape",f.SPACE=" ",f.LEFT="ArrowLeft",f.UP="ArrowUp",f.RIGHT="ArrowRight",f.DOWN="ArrowDown",f.DELETE="Delete",f.A="A",f.C="C",f.V="V",f.D="D",f.Z="Z",f.Y="Y",f.F2="F2",f.PAGE_UP="PageUp",f.PAGE_DOWN="PageDown",f.PAGE_HOME="Home",f.PAGE_END="End",f}(),Ca=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qo=function(){return Qo=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Qo.apply(this,arguments)},xs=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Jo=function(f){function i(r,o){void 0===o&&(o={});var c=f.call(this)||this;return c.eFocusableElement=r,c.callbacks=o,c.callbacks=Qo({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(h){if(!h.defaultPrevented){var m=c.focusService.findNextFocusableElement(c.eFocusableElement,!1,h.shiftKey);!m||(m.focus(),h.preventDefault())}}},o),c}return Ca(i,f),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(r){var o=this;this.addManagedListener(r,"keydown",function(c){if(!c.defaultPrevented&&!bs(c)){if(o.callbacks.shouldStopEventPropagation(c))return void $l(c);c.key===Ie.TAB?o.callbacks.onTabKeyDown(c):o.callbacks.handleKeyDown&&o.callbacks.handleKeyDown(c)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",xs([K("focusService")],i.prototype,"focusService",void 0),xs([je],i.prototype,"postConstruct",null),i}(Ge),CS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Tg=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ou=function(f){function i(r){var o=f.call(this)||this;return o.filterNameKey=r,o.applyActive=!1,o.hidePopup=null,o.appliedModel=null,o}return CS(i,f),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Jo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},i.prototype.handleKeyDown=function(r){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(r){var o='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(o,r)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(r){var o=this;this.setParams(r),this.resetUiToDefaults(!0).then(function(){o.updateUiVisibility(),o.setupOnBtApplyDebounce()})},i.prototype.setParams=function(r){this.providedFilterParams=r,this.applyActive=i.isUseApplyButton(r),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var r=this,o=this.providedFilterParams.buttons;if(!(!o||o.length<1||this.isReadOnly())){var c=document.createElement("div");c.classList.add("ag-filter-apply-panel"),nu(o).forEach(function(m){return function(m){var w,A;switch(m){case"apply":w=r.translate("applyFilter"),A=function(N){return r.onBtApply(!1,!1,N)};break;case"clear":w=r.translate("clearFilter"),A=function(){return r.onBtClear()};break;case"reset":w=r.translate("resetFilter"),A=function(){return r.onBtReset()};break;case"cancel":w=r.translate("cancelFilter"),A=function(N){r.onBtCancel(N)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var x=br('<button\n                    type="button"\n                    ref="'+m+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+w+"\n                </button>");c.appendChild(x),r.addManagedListener(x,"click",A)}(m)}),this.getGui().appendChild(c)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var r=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=_s(this.onBtApply.bind(this),r)},i.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},i.prototype.setModel=function(r){var o=this;return(null!=r?this.setModelIntoUi(r):this.resetUiToDefaults()).then(function(){o.updateUiVisibility(),o.applyModel()})},i.prototype.onBtCancel=function(r){var o=this,c=this.getModel(),h=function(){o.onUiChanged(!1,"prevent"),o.providedFilterParams.closeOnApply&&o.close(r)};null!=c?this.setModelIntoUi(c).then(h):this.resetUiToDefaults().then(h)},i.prototype.onBtClear=function(){var r=this;this.resetUiToDefaults().then(function(){return r.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var o=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(o,r)},i.prototype.isModelValid=function(r){return!0},i.prototype.onBtApply=function(r,o,c){void 0===r&&(r=!1),void 0===o&&(o=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:r,afterDataChange:o}),this.providedFilterParams.closeOnApply&&this.applyActive&&!r&&!o&&this.close(c)},i.prototype.onNewRowsLoaded=function(){},i.prototype.close=function(r){if(this.hidePopup){var h,c=r&&r.key;("Enter"===c||"Space"===c)&&(h={keyboardEvent:r}),this.hidePopup(h),this.hidePopup=null}},i.prototype.onUiChanged=function(r,o){if(void 0===r&&(r=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var c=this.isModelValid(this.getModelFromUi());Di(this.getRefElement("applyFilterButton"),!c)}r&&!o||"immediately"===o?this.onBtApply(r):(!this.applyActive&&!o||"debounce"===o)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(r){null!=r&&(this.hidePopup=r.hidePopup)},i.getDebounceMs=function(r,o){return i.isUseApplyButton(r)?(null!=r.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=r.debounceMs?r.debounceMs:o},i.isUseApplyButton=function(r){return!!r.buttons&&r.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){this.hidePopup=null,f.prototype.destroy.call(this)},i.prototype.translate=function(r){return this.gridOptionsWrapper.getLocaleTextFunc()(r,ma[r])},i.prototype.getCellValue=function(r){var o=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:o.api,colDef:o.colDef,column:o.column,columnApi:o.columnApi,context:o.context,data:r.data,getValue:function(x){return r.data[x]},node:r})},Tg([K("rowModel")],i.prototype,"rowModel",void 0),Tg([K("valueService")],i.prototype,"valueService",void 0),Tg([je],i.prototype,"postConstruct",null),i}(At),Ap=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ic=function(f){function i(r,o){var c=f.call(this,o)||this;return c.labelSeparator="",c.labelAlignment="left",c.label="",c.config=r||{},c}return Ap(i,f),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var r=this.config,o=r.labelSeparator,c=r.label,h=r.labelWidth,m=r.labelAlignment;null!=o&&this.setLabelSeparator(o),null!=c&&this.setLabel(c),null!=h&&this.setLabelWidth(h),this.setLabelAlignment(m||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){jn(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),Mn(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),Mn(this.eLabel,null))},i.prototype.setLabelSeparator=function(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(r){return this.label===r||(this.label=r,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(r){var c=this.getGui().classList;return c.toggle("ag-label-align-left","left"===r),c.toggle("ag-label-align-right","right"===r),c.toggle("ag-label-align-top","top"===r),this},i.prototype.setLabelWidth=function(r){return null==this.label||Pt(this.eLabel,r),this},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(At),wS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),es=function(f){function i(r,o,c){var h=f.call(this,r,o)||this;return h.className=c,h.disabled=!1,h}return wS(i,f),i.prototype.postConstruct=function(){f.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(r){var o=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return r(o.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(r){return qt(this.getGui(),r),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(r,o){return this.value===r||(this.previousValue=this.value,this.value=r,o||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.prototype.setDisabled=function(r){r=!!r;var o=this.getGui();return Di(o,r),o.classList.toggle("ag-disabled",r),this.disabled=r,this},i.prototype.isDisabled=function(){return!!this.disabled},i.EVENT_CHANGED="valueChange",i}(ic),oc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},al=function(f){function i(r,o,c,h){var m=f.call(this,r,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(h?'role="'+h+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',o)||this;return m.pickerIcon=c,m.isPickerDisplayed=!1,m.isDestroyingPicker=!1,m.skipClick=!1,m}return oc(i,f),i.prototype.postConstruct=function(){var r=this;f.prototype.postConstruct.call(this);var o=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",o),Op(this.eWrapper,o);var c=function(){r.skipClick?r.skipClick=!1:r.isDisabled()||(r.pickerComponent=r.showPicker())},h=this.getGui();if(this.addManagedListener(h,"mousedown",function(w){!r.skipClick&&r.pickerComponent&&r.pickerComponent.isAlive()&&qr(r.pickerComponent.getGui())&&h.contains(w.target)&&(r.skipClick=!0)}),this.addManagedListener(h,"keydown",function(w){switch(w.key){case Ie.UP:case Ie.DOWN:case Ie.ENTER:case Ie.SPACE:c();case Ie.ESCAPE:r.isPickerDisplayed&&w.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",c),this.addManagedListener(this.eLabel,"click",c),this.pickerIcon){var m=kr(this.pickerIcon,this.gridOptionsWrapper);m&&this.eIcon.appendChild(m)}},i.prototype.refreshLabel=function(){re(this.getLabel())?tu(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),f.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(r){return Rs(this.eWrapper,r),this},i.prototype.setInputWidth=function(r){return Pt(this.eWrapper,r),this},i.prototype.getFocusableElement=function(){return this.eWrapper},Pp([Ne("eLabel")],i.prototype,"eLabel",void 0),Pp([Ne("eWrapper")],i.prototype,"eWrapper",void 0),Pp([Ne("eDisplayField")],i.prototype,"eDisplayField",void 0),Pp([Ne("eIcon")],i.prototype,"eIcon",void 0),i}(es),xg=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sc=function(f){function i(r){void 0===r&&(r="default");var o=f.call(this,'<div class="ag-list ag-'+r+'-list" role="listbox"></div>')||this;return o.cssIdentifier=r,o.options=[],o.itemEls=[],o}return xg(i,f),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(r){var o=r.key;switch(o){case Ie.ENTER:if(this.highlightedEl){var c=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(c)}else this.setValue(this.getValue());break;case Ie.DOWN:case Ie.UP:var h=o===Ie.DOWN,m=void 0;if(r.preventDefault(),this.highlightedEl){var A=this.itemEls.indexOf(this.highlightedEl)+(h?1:-1);A=Math.min(Math.max(A,0),this.itemEls.length-1),m=this.itemEls[A]}else m=this.itemEls[h?0:this.itemEls.length-1];this.highlightItem(m)}},i.prototype.addOptions=function(r){var o=this;return r.forEach(function(c){return o.addOption(c)}),this},i.prototype.addOption=function(r){var o=r.value,h=Ht(r.text||o);return this.options.push({value:o,text:h}),this.renderOption(o,h),this.updateIndices(),this},i.prototype.updateIndices=function(){var r=this.getGui().querySelectorAll(".ag-list-item");r.forEach(function(o,c){Bm(o,c+1),Eg(o,r.length)})},i.prototype.renderOption=function(r,o){var c=this,h=document.createElement("div");Mn(h,"option"),h.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),h.innerHTML="<span>"+o+"</span>",h.tabIndex=-1,this.itemEls.push(h),this.addManagedListener(h,"mouseover",function(){return c.highlightItem(h)}),this.addManagedListener(h,"mouseleave",function(){return c.clearHighlighted()}),this.addManagedListener(h,"click",function(){return c.setValue(r)}),this.getGui().appendChild(h)},i.prototype.setValue=function(r,o){if(this.value===r)return this.fireItemSelected(),this;if(null==r)return this.reset(),this;var c=this.options.findIndex(function(m){return m.value===r});if(-1!==c){var h=this.options[c];this.value=h.value,this.displayValue=null!=h.text?h.text:h.value,this.highlightItem(this.itemEls[c]),o||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(r){return this.setValue(this.options[r].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var r=this;this.clearHighlighted();var o=this.options.findIndex(function(c){return c.value===r.value});-1!==o&&this.highlightItem(this.itemEls[o])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(r){!r.offsetParent||(this.clearHighlighted(),this.highlightedEl=r,this.highlightedEl.classList.add(i.ACTIVE_CLASS),ru(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),ru(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:es.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"init",null),i}(At),Th=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ms=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},In=function(f){function i(r){return f.call(this,r,"ag-select","smallDown","listbox")||this}return Th(i,f),i.prototype.init=function(){var r=this;this.listComponent=this.createBean(new sc("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,sc.EVENT_ITEM_SELECTED,function(){r.hideList&&r.hideList()}),this.listComponent.addManagedListener(this.listComponent,es.EVENT_CHANGED,function(){r.setValue(r.listComponent.getValue(),!1,!0),r.hideList&&r.hideList()})},i.prototype.showPicker=function(){var r=this,o=this.listComponent.getGui(),c=this.gridOptionsWrapper.getDocument(),h=this.addManagedListener(c.body,"wheel",function(x){!o.contains(x.target)&&r.hideList&&r.hideList()}),m=this.addManagedListener(o,"focusout",function(x){!o.contains(x.relatedTarget)&&r.hideList&&r.hideList()}),w=this.gridOptionsWrapper.getLocaleTextFunc(),A=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:function(){r.hideList=null,r.isPickerDisplayed=!1,m(),h(),r.isAlive()&&(Pi(r.eWrapper,!1),r.getFocusableElement().focus())},ariaLabel:w("ariaLabelSelectField","Select Field")});return A&&(this.hideList=A.hideFunc),this.isPickerDisplayed=!0,Pt(o,ha(this.eWrapper)),Pi(this.eWrapper,!0),o.style.maxHeight=Yi(this.popupService.getPopupParent())+"px",o.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:o,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(r){var o=this;return r.forEach(function(c){return o.addOption(c)}),this},i.prototype.addOption=function(r){return this.listComponent.addOption(r),this},i.prototype.setValue=function(r,o,c){return this.value===r?this:(c||this.listComponent.setValue(r,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),f.prototype.setValue.call(this,r,o)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),f.prototype.destroy.call(this)},Ms([K("popupService")],i.prototype,"popupService",void 0),Ms([je],i.prototype,"init",null),i}(al),ll=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pr=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Do=function(f){function i(r,o,c,h){void 0===c&&(c="text"),void 0===h&&(h="input");var m=f.call(this,r,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+h+' ref="eInput" class="ag-input-field-input"></'+h+">\n                </div>\n            </div>",o)||this;return m.inputType=c,m.displayFieldTag=h,m}return ll(i,f),i.prototype.postConstruct=function(){f.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var r=this.config,o=r.width,c=r.value;null!=o&&this.setWidth(o),null!=c&&this.setValue(c),this.addInputListeners()},i.prototype.refreshLabel=function(){re(this.getLabel())?tu(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),f.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(o){return r.setValue(o.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(r){return Pt(this.eWrapper,r),this},i.prototype.setInputName=function(r){return this.getInputElement().setAttribute("name",r),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(r){return this.eInput.maxLength=r,this},i.prototype.setInputPlaceholder=function(r){return Os(this.eInput,"placeholder",r),this},i.prototype.setInputAriaLabel=function(r){return Rs(this.eInput,r),this},i.prototype.setDisabled=function(r){return Di(this.eInput,r),f.prototype.setDisabled.call(this,r)},Pr([Ne("eLabel")],i.prototype,"eLabel",void 0),Pr([Ne("eWrapper")],i.prototype,"eWrapper",void 0),Pr([Ne("eInput")],i.prototype,"eInput",void 0),i}(es),Tp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ro=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Nn=(()=>(function(f){f[f.One=0]="One",f[f.Two=1]="Two"}(Nn||(Nn={})),Nn))(),Hr=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Tp(i,f),i.prototype.getNumberOfInputs=function(r){var o=this.optionsFactory.getCustomOption(r);if(o){var c=o.numberOfInputs;return null!=c?c:1}return r&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(r)>=0?0:r===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(r,o){this.setTypeFromFloatingFilter(r),this.setValueFromFloatingFilter(o),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(r){this.eType1.setValue(r),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},i.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Nn.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Nn.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Nn.One),condition2:this.createCondition(Nn.Two)}:this.createCondition(Nn.One):null},i.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},i.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(r,o){if(!r&&!o)return!0;if(!r&&o||r&&!o)return!1;var w,c=!r.operator,h=!o.operator;if(!c&&h||c&&!h)return!1;if(c)w=this.areSimpleModelsEqual(r,o);else{var N=r,k=o;w=N.operator===k.operator&&this.areSimpleModelsEqual(N.condition1,k.condition1)&&this.areSimpleModelsEqual(N.condition2,k.condition2)}return w},i.prototype.setModelIntoUi=function(r){if(r.operator){var c=r,h="OR"===c.operator;this.eJoinOperatorAnd.setValue(!h),this.eJoinOperatorOr.setValue(h),this.eType1.setValue(c.condition1.type),this.eType2.setValue(c.condition2.type),this.setConditionIntoUi(c.condition1,Nn.One),this.setConditionIntoUi(c.condition2,Nn.Two)}else{var m=r;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(m.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(m,Nn.One),this.setConditionIntoUi(null,Nn.Two)}return ot.resolve()},i.prototype.doesFilterPass=function(r){var o=this,c=this.getModel();if(null==c)return!0;var h=c.operator,m=[];return h?m.push(c.condition1,c.condition2):m.push(c),m[h&&"OR"===h?"some":"every"](function(x){return o.individualConditionPasses(r,x)})},i.prototype.setParams=function(r){f.prototype.setParams.call(this,r),this.optionsFactory=new Mr,this.optionsFactory.init(r,this.getDefaultFilterOptions()),this.allowTwoConditions=!r.suppressAndOrCondition,this.alwaysShowBothConditions=!!r.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(r.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},i.prototype.getDefaultJoinOperator=function(r){return Ei(["AND","OR"],r)?r:"AND"},i.prototype.putOptionsIntoDropdown=function(){var r=this,o=this.optionsFactory.getFilterOptions(),c=[this.eType1,this.eType2];o.forEach(function(h){var m="string"==typeof h?r.createBoilerplateListOption(h):r.createCustomListOption(h);c.forEach(function(w){return w.addOption(m)})}),c.forEach(function(h){return h.setDisabled(o.length<=1)})},i.prototype.createBoilerplateListOption=function(r){return{value:r,text:this.translate(r)}},i.prototype.createCustomListOption=function(r){var o=r.displayKey,c=this.optionsFactory.getCustomOption(r.displayKey);return{value:o,text:c?this.gridOptionsWrapper.getLocaleTextFunc()(c.displayKey,c.displayName):this.translate(o)}},i.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},i.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Nn.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Nn.Two)},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var r=this,c=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(h,m){var w=r.isConditionVisible(m),A=r.isConditionDisabled(m);h.forEach(function(x){x instanceof Do||x instanceof In?(x.setDisabled(A),x.setDisplayed(w)):(Di(x,A),ur(x,w))})}),c.forEach(function(h,m){ur(h,r.isConditionBodyVisible(m))}),this.forEachInput(function(h,m,w,A){r.setElementDisplayed(h,m<A),r.setElementDisabled(h,r.isConditionDisabled(w))}),this.resetPlaceholder()},i.prototype.afterGuiAttached=function(r){if(f.prototype.afterGuiAttached.call(this,r),this.resetPlaceholder(),!r||!r.suppressFocus&&!this.isReadOnly()){var o=this.getInputs()[0][0];if(!o)return;o instanceof Do&&o.getInputElement().focus()}},i.prototype.resetPlaceholder=function(){var r=this,o=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(c,h,m,w){if(c instanceof Do){var A=0===h&&w>1?"inRangeStart":0===h?"filterOoo":"inRangeEnd",x=0===h&&w>1?o("ariaFilterFromValue","Filter from value"):0===h?o("ariaFilterValue","Filter Value"):o("ariaFilterToValue","Filter to Value");c.setInputPlaceholder(r.translate(A)),c.setInputAriaLabel(x)}})},i.prototype.setElementValue=function(r,o,c){r instanceof Do&&r.setValue(null!=o?String(o):null,c)},i.prototype.setElementDisplayed=function(r,o){r instanceof At&&ur(r.getGui(),o)},i.prototype.setElementDisabled=function(r,o){r instanceof At&&Di(r.getGui(),o)},i.prototype.attachElementOnChange=function(r,o){r instanceof Do&&r.onValueChange(o)},i.prototype.forEachInput=function(r){var o=this,c=this.getInputs();this.getConditionTypes().forEach(function(h,m){for(var w=o.getNumberOfInputs(h),A=0;A<c[m].length;A++){var x=c[m][A];null!=x&&r(x,A,m,w)}})},i.prototype.isConditionVisible=function(r){return 0===r||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(r):!!this.alwaysShowBothConditions||this.isConditionUiComplete(r-1))},i.prototype.isConditionDisabled=function(r){return!(!this.isReadOnly()&&this.isConditionVisible(r))||0!==r&&!this.isConditionUiComplete(r-1)},i.prototype.isConditionBodyVisible=function(r){if(!this.isConditionVisible(r))return!1;var o=this.getConditionTypes()[r];return this.getNumberOfInputs(o)>0},i.prototype.isConditionUiComplete=function(r){return!(this.getConditionTypes()[r]===i.EMPTY||this.getValues(r).some(function(c){return null==c}))},i.prototype.resetUiToDefaults=function(r){var o=this,h=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),m="ag-simple-filter-and-or-"+this.getCompId(),w=this.optionsFactory.getDefaultOption();return this.eType1.setValue(w,r).setAriaLabel(h).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),r).setAriaLabel(h).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),r).setName(m).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),r).setName(m).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(A){o.setElementValue(A,null,r),o.setElementDisabled(A,o.isReadOnly())}),this.resetPlaceholder(),ot.resolve()},i.prototype.setConditionIntoUi=function(r,o){var c=this,h=this.mapValuesFromModel(r);this.forEachInput(function(m,w,A,x){A===o&&c.setElementValue(m,null!=h[w]?h[w]:null)})},i.prototype.setValueFromFloatingFilter=function(r){var o=this;this.forEachInput(function(c,h,m,w){o.setElementValue(c,0===h&&0===m?r:null)})},i.prototype.isDefaultOperator=function(r){return r===this.defaultJoinOperator},i.prototype.addChangedListeners=function(){var r=this;if(!this.isReadOnly()){var o=function(){return r.onUiChanged()};this.eType1.onValueChange(o),this.eType2.onValueChange(o),this.eJoinOperatorOr.onValueChange(o),this.eJoinOperatorAnd.onValueChange(o),this.forEachInput(function(c){r.attachElementOnChange(c,o)})}},i.prototype.individualConditionPasses=function(r,o){var c=this.getCellValue(r.node),h=this.mapValuesFromModel(o),m=this.optionsFactory.getCustomOption(o.type),w=this.evaluateCustomFilter(m,h,c);return null!=w?w:null==c?this.evaluateNullValue(o.type):this.evaluateNonNullValue(h,c,o,r)},i.prototype.evaluateCustomFilter=function(r,o,c){if(null!=r){var h=r.predicate;if(null!=h&&!o.some(function(m){return null==m}))return h(o,c)}},i.prototype.isBlank=function(r){return null==r||"string"==typeof r&&0===r.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",Ro([Ne("eOptions1")],i.prototype,"eType1",void 0),Ro([Ne("eOptions2")],i.prototype,"eType2",void 0),Ro([Ne("eJoinOperatorPanel")],i.prototype,"eJoinOperatorPanel",void 0),Ro([Ne("eJoinOperatorAnd")],i.prototype,"eJoinOperatorAnd",void 0),Ro([Ne("eJoinOperatorOr")],i.prototype,"eJoinOperatorOr",void 0),Ro([Ne("eCondition1Body")],i.prototype,"eCondition1Body",void 0),Ro([Ne("eCondition2Body")],i.prototype,"eCondition2Body",void 0),i}(ou),xi=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Wr=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return xi(i,f),i.prototype.setParams=function(r){f.prototype.setParams.call(this,r),this.scalarFilterParams=r},i.prototype.evaluateNullValue=function(r){switch(r){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(r,o,c){var h=this.comparator(),m=null!=r[0]?h(r[0],o):0;switch(c.type){case i.EQUALS:return 0===m;case i.NOT_EQUAL:return 0!==m;case i.GREATER_THAN:return m>0;case i.GREATER_THAN_OR_EQUAL:return m>=0;case i.LESS_THAN:return m<0;case i.LESS_THAN_OR_EQUAL:return m<=0;case i.IN_RANGE:var w=h(r[1],o);return this.scalarFilterParams.inRangeInclusive?m>=0&&w<=0:m>0&&w<0;case i.BLANK:return this.isBlank(o);case i.NOT_BLANK:return!this.isBlank(o);default:return console.warn('AG Grid: Unexpected type of filter "'+c.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(Hr),xh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ul=function(){return ul=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},ul.apply(this,arguments)},cl=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Fs=function(f){function i(){var r=f.call(this,"dateFilter")||this;return r.minValidYear=1e3,r.maxValidYear=1/0,r}return xh(i,f),i.prototype.afterGuiAttached=function(r){f.prototype.afterGuiAttached.call(this,r),this.dateCondition1FromComp.afterGuiAttached(r)},i.prototype.mapValuesFromModel=function(r){var o=r||{},c=o.dateFrom,h=o.dateTo,m=o.type;return[c&&Ps(c)||null,h&&Ps(h)||null].slice(0,this.getNumberOfInputs(m))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(r,o){return null==o||o<r?-1:o>r?1:0},i.prototype.setParams=function(r){f.prototype.setParams.call(this,r),this.dateFilterParams=r;var o=function(c,h){if(null!=r[c]){if(!isNaN(r[c]))return null==r[c]?h:Number(r[c]);console.warn("AG Grid: DateFilter "+c+" is not a number")}return h};this.minValidYear=o("minValidYear",1e3),this.maxValidYear=o("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},i.prototype.createDateComponents=function(){var r=this,o=function(c){return new mS(r.getContext(),r.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:r.dateFilterParams},c)};this.dateCondition1FromComp=o(this.eCondition1PanelFrom),this.dateCondition1ToComp=o(this.eCondition1PanelTo),this.dateCondition2FromComp=o(this.eCondition2PanelFrom),this.dateCondition2ToComp=o(this.eCondition2PanelTo),this.addDestroyFunc(function(){r.forEachInput(function(c){return c.destroy()})})},i.prototype.setElementValue=function(r,o,c){r.setDate(o)},i.prototype.setElementDisplayed=function(r,o){r.setDisplayed(o)},i.prototype.setElementDisabled=function(r,o){r.setDisabled(o)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var o=r===Nn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+o+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+o+'PanelTo"></div>\n            </div>'},i.prototype.isConditionUiComplete=function(r){var o=this;if(!f.prototype.isConditionUiComplete.call(this,r))return!1;var h=!0;return this.forEachInput(function(m,w,A,x){A!==r||!h||w>=x||(h=h&&function(m){return null!=m&&m.getUTCFullYear()>=o.minValidYear&&m.getUTCFullYear()<=o.maxValidYear}(m.getDate()))}),h},i.prototype.areSimpleModelsEqual=function(r,o){return r.dateFrom===o.dateFrom&&r.dateTo===o.dateTo&&r.type===o.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(r){var o=this.getConditionTypes()[r],c={},h=this.getValues(r);return h.length>0&&(c.dateFrom=il(h[0])),h.length>1&&(c.dateTo=il(h[1])),ul({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:o},c)},i.prototype.resetPlaceholder=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.translate("dateFormatOoo"),c=r("ariaFilterValue","Filter Value");this.forEachInput(function(h){h.setInputPlaceholder(o),h.setInputAriaLabel(c)})},i.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},i.prototype.getValues=function(r){var o=[];return this.forEachInput(function(c,h,m,w){r===m&&h<w&&o.push(c.getDate())}),o},i.DEFAULT_FILTER_OPTIONS=[Wr.EQUALS,Wr.GREATER_THAN,Wr.LESS_THAN,Wr.NOT_EQUAL,Wr.IN_RANGE,Wr.BLANK,Wr.NOT_BLANK],cl([Ne("eCondition1PanelFrom")],i.prototype,"eCondition1PanelFrom",void 0),cl([Ne("eCondition1PanelTo")],i.prototype,"eCondition1PanelTo",void 0),cl([Ne("eCondition2PanelFrom")],i.prototype,"eCondition2PanelFrom",void 0),cl([Ne("eCondition2PanelTo")],i.prototype,"eCondition2PanelTo",void 0),cl([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(Wr),ts=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qm=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return ts(i,f),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.getTextFromModel=function(r){if(!r)return null;if(null!=r.operator){var c=r,h=c||{},m=h.condition1,w=h.condition2,A=this.optionsFactory.getCustomOption(m.type),x=this.optionsFactory.getCustomOption(w.type);return[this.conditionToString(m,A),c.operator,this.conditionToString(w,x)].join(" ")}var N=r,k=this.optionsFactory.getCustomOption(N.type),q=k||{},te=q.displayKey,le=q.displayName;return te&&le&&0===q.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(te,le),le):this.conditionToString(N,k)},i.prototype.isEventFromFloatingFilter=function(r){return r&&r.afterFloatingFilter},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(r){r?this.lastType=(r.operator?r.condition1:r).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(r){this.optionsFactory=new Mr,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!r.filterParams.readOnly;var o=this.isTypeEditable(this.lastType);this.setEditable(o)},i.prototype.doesFilterHaveSingleInput=function(r){var c=(this.optionsFactory.getCustomOption(r)||{}).numberOfInputs;return null==c||1==c},i.prototype.isTypeEditable=function(r){var o=[Hr.IN_RANGE,Hr.EMPTY,Hr.BLANK,Hr.NOT_BLANK];return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&o.indexOf(r)<0},i}(At),_S=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),su=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Mh=function(f){function i(){return f.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return _S(i,f),i.prototype.getDefaultFilterOptions=function(){return Fs.DEFAULT_FILTER_OPTIONS},i.prototype.conditionToString=function(r,o){var c=r.type,m=c==Hr.IN_RANGE||2===(o||{}).numberOfInputs,w=Ps(r.dateFrom),A=Ps(r.dateTo);return m?il(w,!1)+"-"+il(A,!1):null!=w?""+il(w,!1):""+c},i.prototype.init=function(r){f.prototype.init.call(this,r),this.params=r,this.createDateComponent();var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))},i.prototype.setEditable=function(r){ur(this.eDateWrapper,r),ur(this.eReadOnlyText.getGui(),!r)},i.prototype.onParentModelChanged=function(r,o){if(!this.isEventFromFloatingFilter(o)){f.prototype.setLastTypeFromModel.call(this,r);var c=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(c),c?(this.dateComp.setDate(r?Ps(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(r)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var r=this,c=il(this.dateComp.getDate());this.params.parentFilterInstance(function(h){if(h){var m=Ps(c);h.onFloatingFilterChanged(r.getLastType()||null,m)}})},i.prototype.createDateComponent=function(){var r=this,o=ou.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c={onDateChanged:_s(this.onDateChanged.bind(this),o),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new mS(this.getContext(),this.userComponentFactory,c,this.eDateWrapper),this.addDestroyFunc(function(){return r.dateComp.destroy()})},su([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),su([Ne("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),su([Ne("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(Qm),_a=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),eC=function(f){function i(){return f.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return _a(i,f),i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.init=function(r){var o=this,c=this.gridOptionsWrapper.getDocument(),h=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(r)&&(h.type="date"),this.addManagedListener(h,"mousedown",function(){o.eDateInput.isDisabled()||h.focus()}),this.addManagedListener(h,"input",function(x){x.target===c.activeElement&&(o.eDateInput.isDisabled()||r.onDateChanged())});var m=r.filterParams||{},w=m.minValidYear,A=m.maxValidYear;w&&(h.min=w+"-01-01"),A&&(h.max=A+"-12-31")},i.prototype.getDate=function(){return Ps(this.eDateInput.getValue())},i.prototype.setDate=function(r){this.eDateInput.setValue(il(r,!1))},i.prototype.setInputPlaceholder=function(r){this.eDateInput.setInputPlaceholder(r)},i.prototype.setDisabled=function(r){this.eDateInput.setDisabled(r)},i.prototype.afterGuiAttached=function(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:ii()||Fm()},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([Ne("eDateInput")],i.prototype,"eDateInput",void 0),i}(At),pO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),au=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Sa=function(f){function i(){return f.call(this,"numberFilter")||this}return pO(i,f),i.prototype.mapValuesFromModel=function(r){var o=r||{},c=o.filter,h=o.filterTo;return[null==c?null:c,null==h?null:h].slice(0,this.getNumberOfInputs(o.type))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(r,o){return r===o?0:r<o?1:-1}},i.prototype.setParams=function(r){this.numberFilterParams=r;var o=this.getAllowedCharPattern();if(o){var c={allowedCharPattern:o};this.resetTemplate({"eValue-index0-1":c,"eValue-index1-1":c,"eValue-index0-2":c,"eValue-index1-2":c})}f.prototype.setParams.call(this,r)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var o=r===Nn.One?"1":"2",h=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body" role="presentation">\n                <'+h+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+o+'"></'+h+">\n                <"+h+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+o+'"></'+h+">\n            </div>"},i.prototype.getValues=function(r){var o=this,c=[];return this.forEachInput(function(h,m,w,A){r===w&&m<A&&c.push(o.stringToFloat(h.getValue()))}),c},i.prototype.areSimpleModelsEqual=function(r,o){return r.filter===o.filter&&r.filterTo===o.filterTo&&r.type===o.type},i.prototype.getFilterType=function(){return"number"},i.prototype.stringToFloat=function(r){if("number"==typeof r)return r;var o=ys(r);return null!=o&&""===o.trim()&&(o=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(o):null==o||"-"===o.trim()?null:parseFloat(o)},i.prototype.createCondition=function(r){var o=this.getConditionTypes()[r],c={filterType:this.getFilterType(),type:o},h=this.getValues(r);return h.length>0&&(c.filter=h[0]),h.length>1&&(c.filterTo=h[1]),c},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(ii()||mh()?null:"\\d\\-\\.")},i.DEFAULT_FILTER_OPTIONS=[Wr.EQUALS,Wr.NOT_EQUAL,Wr.LESS_THAN,Wr.LESS_THAN_OR_EQUAL,Wr.GREATER_THAN,Wr.GREATER_THAN_OR_EQUAL,Wr.IN_RANGE,Wr.BLANK,Wr.NOT_BLANK],au([Ne("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),au([Ne("eValue-index1-1")],i.prototype,"eValueTo1",void 0),au([Ne("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),au([Ne("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Wr),Fh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pl=function(){return pl=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},pl.apply(this,arguments)},xp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Mp=function(f){function i(){return f.call(this,"textFilter")||this}return Fh(i,f),i.trimInput=function(r){var o=r&&r.trim();return""===o?r:o},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(r){f.prototype.setParams.call(this,r),this.textFilterParams=r,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER)},i.prototype.getTextMatcher=function(){var r=this.textFilterParams.textCustomComparator;return r?(gt.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(o){return r(o.filterOption,o.value,o.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(r){var o=this.getConditionTypes()[r],c={filterType:this.getFilterType(),type:o},h=this.getValues(r);return h.length>0&&(c.filter=h[0]),h.length>1&&(c.filterTo=h[1]),c},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(r,o){return r.filter===o.filter&&r.filterTo===o.filterTo&&r.type===o.type},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getValues=function(r){var o=this,c=[];return this.forEachInput(function(h,m,w,A){if(r===w&&m<A){var x=ys(h.getValue()),N=(o.textFilterParams.trimInput?i.trimInput(x):x)||null;c.push(N),h.setValue(N,!0)}}),c},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var o=r===Nn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+o+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+o+'"></ag-input-text-field>\n            </div>'},i.prototype.mapValuesFromModel=function(r){var o=r||{};return[o.filter||null,o.filterTo||null].slice(0,this.getNumberOfInputs(o.type))},i.prototype.evaluateNullValue=function(r){return!!r&&[Hr.NOT_EQUAL,Hr.NOT_CONTAINS,Hr.BLANK].indexOf(r)>=0},i.prototype.evaluateNonNullValue=function(r,o,c,h){var m=this,w=r.map(function(xe){return m.formatter(xe)})||[],A=this.formatter(o),x=this.textFilterParams,N=x.api,k=x.colDef,q=x.column,te=x.columnApi,le=x.context,de=x.textFormatter;if(c.type===Hr.BLANK)return this.isBlank(o);if(c.type===Hr.NOT_BLANK)return!this.isBlank(o);var ye={api:N,colDef:k,column:q,columnApi:te,context:le,node:h.node,data:h.data,filterOption:c.type,value:A,textFormatter:de};return w.some(function(xe){return m.matcher(pl(pl({},ye),{filterText:xe}))})},i.DEFAULT_FILTER_OPTIONS=[Hr.CONTAINS,Hr.NOT_CONTAINS,Hr.EQUALS,Hr.NOT_EQUAL,Hr.STARTS_WITH,Hr.ENDS_WITH,Hr.BLANK,Hr.NOT_BLANK],i.DEFAULT_FORMATTER=function(r){return r},i.DEFAULT_LOWERCASE_FORMATTER=function(r){return null==r?null:r.toString().toLowerCase()},i.DEFAULT_MATCHER=function(r){var c=r.value,h=r.filterText;if(null==h)return!1;switch(r.filterOption){case i.CONTAINS:return c.indexOf(h)>=0;case i.NOT_CONTAINS:return c.indexOf(h)<0;case i.EQUALS:return c===h;case i.NOT_EQUAL:return c!=h;case i.STARTS_WITH:return 0===c.indexOf(h);case i.ENDS_WITH:var m=c.lastIndexOf(h);return m>=0&&m===c.length-h.length;default:return!1}},xp([Ne("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),xp([Ne("eValue-index1-1")],i.prototype,"eValueTo1",void 0),xp([Ne("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),xp([Ne("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Hr),dl=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ba=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return dl(i,f),i.prototype.postConstruct=function(){this.resetTemplate()},i.prototype.resetTemplate=function(r){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',r)},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(r,o){this.isEventFromFloatingFilter(o)||(this.setLastTypeFromModel(r),this.eFloatingFilterInput.setValue(this.getTextFromModel(r)),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)))},i.prototype.init=function(r){f.prototype.init.call(this,r),this.params=r,this.applyActive=ou.isUseApplyButton(this.params.filterParams);var o=this.params.filterParams.allowedCharPattern;if(null!=o&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:o}}),!this.isReadOnly()){var c=ou.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),h=_s(this.syncUpWithParentFilter.bind(this),c),m=this.eFloatingFilterInput.getGui();this.addManagedListener(m,"input",h),this.addManagedListener(m,"keypress",h),this.addManagedListener(m,"keydown",h)}var w=r.column.getDefinition();(this.isReadOnly()||w.filterParams&&w.filterParams.filterOptions&&1===w.filterParams.filterOptions.length&&"inRange"===w.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var A=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),x=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(A+" "+x("ariaFilterInput","Filter Input"))},i.prototype.syncUpWithParentFilter=function(r){var o=this;if(!this.applyActive||r.key===Ie.ENTER){var h=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(h=Mp.trimInput(h),this.eFloatingFilterInput.setValue(h,!0)),this.params.parentFilterInstance(function(m){m&&m.onFloatingFilterChanged(o.getLastType()||null,h||null)})}},i.prototype.conditionToString=function(r,o){return r.type==Hr.IN_RANGE||2===(o||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},i.prototype.setEditable=function(r){this.eFloatingFilterInput.setDisabled(!r)},Fp([K("columnModel")],i.prototype,"columnModel",void 0),Fp([Ne("eFloatingFilterInput")],i.prototype,"eFloatingFilterInput",void 0),Fp([je],i.prototype,"postConstruct",null),i}(Qm),ac=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lc=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return ac(i,f),i.prototype.getDefaultFilterOptions=function(){return Sa.DEFAULT_FILTER_OPTIONS},i}(ba),dO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fg=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return dO(i,f),i.prototype.getDefaultFilterOptions=function(){return Mp.DEFAULT_FILTER_OPTIONS},i}(ba),eo=function(){function f(i,r){var o=this;void 0===r&&(r=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new la,this.eElement=i,this.preventMouseClick=r;var c=this.onTouchStart.bind(this),h=this.onTouchMove.bind(this),m=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",c,{passive:!0}),this.eElement.addEventListener("touchmove",h,{passive:!0}),this.eElement.addEventListener("touchend",m,{passive:!1}),this.destroyFuncs.push(function(){o.eElement.removeEventListener("touchstart",c,{passive:!0}),o.eElement.removeEventListener("touchmove",h,{passive:!0}),o.eElement.removeEventListener("touchend",m,{passive:!1})})}return f.prototype.getActiveTouch=function(i){for(var r=0;r<i.length;r++)if(i[r].identifier===this.touchStart.identifier)return i[r];return null},f.prototype.addEventListener=function(i,r){this.eventService.addEventListener(i,r)},f.prototype.removeEventListener=function(i,r){this.eventService.removeEventListener(i,r)},f.prototype.onTouchStart=function(i){var r=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout(function(){r.touching&&r.touchStart===o&&!r.moved&&(r.moved=!0,r.eventService.dispatchEvent({type:f.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:i}))},500)}},f.prototype.onTouchMove=function(i){if(this.touching){var r=this.getActiveTouch(i.touches);r&&!Ti(r,this.touchStart,4)&&(this.moved=!0)}},f.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:f.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.preventDefault(),this.touching=!1)},f.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>f.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:f.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},f.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},f.EVENT_TAP="tap",f.EVENT_DOUBLE_TAP="doubleTap",f.EVENT_LONG_TAP="longTap",f.DOUBLE_TAP_MILLIS=500,f}(),tC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rs=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},lu=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.lastMovingChanged=0,r}return tC(i,f),i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.refresh=function(r){return this.params=r,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(r),!0)},i.prototype.workOutTemplate=function(){var r=Ss(this.params.template,i.TEMPLATE);return r&&r.trim?r.trim():r},i.prototype.init=function(r){this.params=r,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(r.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(r)},i.prototype.setDisplayName=function(r){if(this.currentDisplayName!=r.displayName){this.currentDisplayName=r.displayName;var o=Ht(this.currentDisplayName);this.eText&&(this.eText.innerHTML=o)}},i.prototype.setupIcons=function(r){this.addInIcon("sortAscending",this.eSortAsc,r),this.addInIcon("sortDescending",this.eSortDesc,r),this.addInIcon("sortUnSort",this.eSortNone,r),this.addInIcon("menu",this.eMenu,r),this.addInIcon("filter",this.eFilter,r)},i.prototype.addInIcon=function(r,o,c){if(null!=o){var h=kr(r,this.gridOptionsWrapper,c);h&&o.appendChild(h)}},i.prototype.setupTap=function(){var r=this,o=this.gridOptionsWrapper;if(!o.isSuppressTouch()){var c=new eo(this.getGui(),!0),h=o.isSuppressMenuHide(),m=h&&re(this.eMenu),w=m?new eo(this.eMenu,!0):c;this.params.enableMenu&&this.addManagedListener(w,eo[m?"EVENT_TAP":"EVENT_LONG_TAP"],function(k){o.getApi().showColumnMenuAfterMouseClick(r.params.column,k.touchStart)}),this.params.enableSorting&&this.addManagedListener(c,eo.EVENT_TAP,function(k){h&&r.eMenu.contains(k.touchStart.target)||r.sortController.progressSort(r.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return c.destroy()}),m&&this.addDestroyFunc(function(){return w.destroy()})}},i.prototype.workOutShowMenu=function(){var r=!this.gridOptionsWrapper.isSuppressMenuHide(),o=wp()&&r;return this.params.enableMenu&&!o},i.prototype.setMenu=function(){var r=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void yr(this.eMenu);var o=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return r.showMenu(r.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",o)}},i.prototype.showMenu=function(r){r||(r=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,r,"columnMenu")},i.prototype.removeSortIcons=function(){yr(this.eSortAsc),yr(this.eSortDesc),yr(this.eSortNone),yr(this.eSortOrder)},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var r=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var o=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,Bt.EVENT_MOVING_CHANGED,function(){r.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(c){var h=r.params.column.isMoving(),m=(new Date).getTime();h||m-r.lastMovingChanged<50||r.params.progressSort(o?c.ctrlKey||c.metaKey:c.shiftKey)}),this.addManagedListener(this.params.column,Bt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},i.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var r=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",r||!this.params.column.isSortNone())}},i.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var r=this.params.column,o=this.sortController.getColumnsWithSortingOrdered(),c=o.indexOf(r),h=o.length>1,m=r.isSorting()&&h;ur(this.eSortOrder,m),c>=0?this.eSortOrder.innerHTML=(c+1).toString():jn(this.eSortOrder)}},i.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,Bt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var r=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!r)},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',rs([K("sortController")],i.prototype,"sortController",void 0),rs([K("menuFactory")],i.prototype,"menuFactory",void 0),rs([Ne("eFilter")],i.prototype,"eFilter",void 0),rs([Ne("eSortAsc")],i.prototype,"eSortAsc",void 0),rs([Ne("eSortDesc")],i.prototype,"eSortDesc",void 0),rs([Ne("eSortNone")],i.prototype,"eSortNone",void 0),rs([Ne("eSortOrder")],i.prototype,"eSortOrder",void 0),rs([Ne("eMenu")],i.prototype,"eMenu",void 0),rs([Ne("eLabel")],i.prototype,"eLabel",void 0),rs([Ne("eText")],i.prototype,"eText",void 0),i}(At),Ig=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),uc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},cc=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return Ig(i,f),i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.init=function(r){this.params=r,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&zt(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var r=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var o=function(m){if(!bs(m)){var w=!r.params.columnGroup.isExpanded();r.columnModel.setColumnGroupOpened(r.params.columnGroup.getProvidedColumnGroup(),w,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,o),this.addTouchAndClickListeners(this.eOpenIcon,o);var c=function(m){$l(m)};this.addManagedListener(this.eCloseIcon,"dblclick",c),this.addManagedListener(this.eOpenIcon,"dblclick",c),this.addManagedListener(this.getGui(),"dblclick",o),this.updateIconVisibility();var h=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(h,Ar.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(h,Ar.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(r,o){var c=new eo(r,!0);this.addManagedListener(c,eo.EVENT_TAP,o),this.addDestroyFunc(function(){return c.destroy()}),this.addManagedListener(r,"click",o)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var o=this.params.columnGroup.isExpanded();ur(this.eOpenIcon,o),ur(this.eCloseIcon,!o)}else ur(this.eOpenIcon,!1),ur(this.eCloseIcon,!1)},i.prototype.addInIcon=function(r,o){var c=kr(r,this.gridOptionsWrapper,null);c&&this.getRefElement(o).appendChild(c)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return ur(this.eOpenIcon,!1),void ur(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var r=this.params.displayName;if(re(r)){var o=Ht(r);this.getRefElement("agLabel").innerHTML=o}},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',uc([K("columnModel")],i.prototype,"columnModel",void 0),uc([Ne("agOpened")],i.prototype,"eOpenIcon",void 0),uc([Ne("agClosed")],i.prototype,"eCloseIcon",void 0),i}(At),Ih=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hl=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Ih(i,f),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(r){r.addCssClass("ag-has-popup"),f.prototype.setParentComponent.call(this,r)},i.prototype.destroy=function(){var r=this.parentComponent;r&&r.isAlive()&&r.getGui().classList.remove("ag-has-popup"),f.prototype.destroy.call(this)},i}(At),rC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ng=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return rC(i,f),i.prototype.init=function(r){this.params=r,this.focusAfterAttached=r.cellStartedEdit,this.eTextArea.setMaxLength(r.maxLength||200).setCols(r.cols||60).setRows(r.rows||10),re(r.value)&&this.eTextArea.setValue(r.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(r){var o=r.key;(o===Ie.LEFT||o===Ie.UP||o===Ie.RIGHT||o===Ie.DOWN||r.shiftKey&&o===Ie.ENTER)&&r.stopPropagation()},i.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([Ne("eTextArea")],i.prototype,"eTextArea",void 0),i}(hl),iC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),oC=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Nh=function(f){function i(){var r=f.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return r.startedByEnter=!1,r}return iC(i,f),i.prototype.init=function(r){var o=this;if(this.focusAfterAttached=r.cellStartedEdit,b(r.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=r.eventKey&&r.eventKey===Ie.ENTER;var c=!1;r.values.forEach(function(h){var m={value:h},w=o.valueFormatterService.formatValue(r.column,null,null,h);m.text=null!=w?w:h,o.eSelect.addOption(m),c=c||r.value===h}),c?this.eSelect.setValue(r.value,!0):r.values.length&&this.eSelect.setValue(r.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return r.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},oC([K("valueFormatterService")],i.prototype,"valueFormatterService",void 0),oC([Ne("eSelect")],i.prototype,"eSelect",void 0),i}(hl),uu=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cu=function(f){function i(){var r=f.call(this)||this;return zt(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),r}return uu(i,f),i.prototype.isPopup=function(){return!0},i}(Nh),Lg=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pc=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return Lg(i,f),i.prototype.init=function(r){this.params=r;var c,o=this.eInput;r.cellStartedEdit?(this.focusAfterAttached=!0,r.eventKey===Ie.BACKSPACE||r.eventKey===Ie.DELETE?c="":r.charPress?c=r.charPress:(c=this.getStartValue(r),r.eventKey!==Ie.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,c=this.getStartValue(r)),null!=c&&o.setValue(c,!0),this.addManagedListener(o.getGui(),"keydown",function(h){var m=h.key;(m===Ie.PAGE_UP||m===Ie.PAGE_DOWN)&&h.preventDefault()})},i.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){$i()||o.getFocusableElement().focus();var c=o.getInputElement();if(this.highlightAllOnFocus)c.select();else{var h=o.getValue(),m=re(h)&&h.length||0;m&&c.setSelectionRange(m,m)}}},i.prototype.focusIn=function(){var r=this.eInput,o=r.getFocusableElement(),c=r.getInputElement();o.focus(),c.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(r){return r.useFormatter||r.column.getColDef().refData?r.formatValue(r.value):r.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([Ne("eInput")],i.prototype,"eInput",void 0),i}(hl),dc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fr=function(f){function i(){var r=f.call(this)||this;return zt(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),r}return dc(i,f),i.prototype.isPopup=function(){return!0},i}(pc),kg=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pu=function(f){function i(){var r=f.call(this,i.TEMPLATE)||this;return r.refreshCount=0,r}return kg(i,f),i.prototype.init=function(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r)},i.prototype.showDelta=function(r,o){var c=Math.abs(o),h=r.formatValue(c),m=re(h)?h:c,w=o>=0;this.eDelta.innerHTML=w?"\u2191"+m:"\u2193"+m,this.eDelta.classList.toggle("ag-value-change-delta-up",w),this.eDelta.classList.toggle("ag-value-change-delta-down",!w)},i.prototype.setTimerToRemoveDelta=function(){var r=this;this.refreshCount++;var o=this.refreshCount;window.setTimeout(function(){o===r.refreshCount&&r.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),jn(this.eDelta)},i.prototype.refresh=function(r){var o=r.value;return o!==this.lastValue&&(re(r.valueFormatted)?this.eValue.innerHTML=r.valueFormatted:re(r.value)?this.eValue.innerHTML=o:jn(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof o&&"number"==typeof this.lastValue&&this.showDelta(r,o-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=o,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([K("filterManager")],i.prototype,"filterManager",void 0),i}(At),Lh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ea=function(f){function i(){var r=f.call(this,i.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return Lh(i,f),i.prototype.init=function(r){this.refresh(r)},i.prototype.addSlideAnimation=function(){var r=this;this.refreshCount++;var o=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=br('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){o===r.refreshCount&&r.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){o===r.refreshCount&&(r.getGui().removeChild(r.ePrevious),r.ePrevious=null)},3e3)},i.prototype.refresh=function(r){var o=r.value;return b(o)&&(o=""),o!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=o,re(r.valueFormatted)?this.eCurrent.innerHTML=r.valueFormatted:re(r.value)?this.eCurrent.innerHTML=o:jn(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([K("filterManager")],i.prototype,"filterManager",void 0),i}(At);!function(f){f[f.Above=0]="Above",f[f.Below=1]="Below"}(W.RowHighlightPosition||(W.RowHighlightPosition={}));var bt=function(){function f(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=f.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=i}return f.prototype.setData=function(i){this.setDataCommon(i,!1)},f.prototype.updateData=function(i){this.setDataCommon(i,!0)},f.prototype.setDataCommon=function(i,r){var o=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var c=this.createDataChangedEvent(i,o,r);this.dispatchLocalEvent(c)},f.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},f.prototype.createDataChangedEvent=function(i,r,o){return{type:f.EVENT_DATA_CHANGED,node:this,oldData:r,newData:i,update:o}},f.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},f.prototype.getRowIndexString=function(){return this.rowPinned===ge.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ge.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},f.prototype.createDaemonNode=function(){var i=new f(this.beans);return i.id=this.id,i.data=this.data,i.daemon=!0,i.selected=this.selected,i.level=this.level,i},f.prototype.setDataAndId=function(i,r){var o=re(this.id)?this.createDaemonNode():null,c=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(r),this.beans.selectionService.syncInRowNode(this,o),this.checkRowSelectable();var h=this.createDataChangedEvent(i,c,!1);this.dispatchLocalEvent(h)},f.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!i||i(this))},f.prototype.setRowSelectable=function(i){this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_SELECTABLE_CHANGED)))},f.prototype.setId=function(i){var r=this.beans.gridOptionsWrapper.getRowIdFunc();if(r)if(this.data){var o=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(f.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+f.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=i},f.prototype.getGroupKeys=function(i){void 0===i&&(i=!1);var r=[],o=this;for(i&&(o=o.parent);o&&o.level>=0;)r.push(o.key),o=o.parent;return r.reverse(),r},f.prototype.isPixelInRange=function(i){return!(!re(this.rowTop)||!re(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},f.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_FIRST_CHILD_CHANGED)))},f.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_LAST_CHILD_CHANGED)))},f.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_CHILD_INDEX_CHANGED)))},f.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},f.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},f.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_DISPLAYED_CHANGED)))},f.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_DRAGGING_CHANGED)))},f.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_HIGHLIGHT_CHANGED)))},f.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},f.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_MASTER_CHANGED)))},f.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_GROUP_CHANGED)))},f.prototype.setRowHeight=function(i,r){void 0===r&&(r=!1),this.rowHeight=i,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_HEIGHT_CHANGED))},f.prototype.setRowAutoHeight=function(i,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=_s(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},f.prototype.checkAutoHeights=function(){var i=!1,r=!0,o=0,c=this.__autoHeights;if(null!=c&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(w){var A=c[w.getId()];null!=A?(r=!1,A>o&&(o=A)):i=!0}),!i&&((r||o<10)&&(o=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),o!=this.rowHeight))){this.setRowHeight(o);var m=this.beans.rowModel;m.onRowHeightChanged&&m.onRowHeightChanged()}},f.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_ROW_INDEX_CHANGED)))},f.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_UI_LEVEL_CHANGED)))},f.prototype.setExpanded=function(i){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(ne.EVENT_ROW_GROUP_OPENED),{expanded:i});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},f.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},f.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},f.prototype.setDataValue=function(i,r,o){var c=this.beans.columnModel.getPrimaryColumn(i),h=this.beans.valueService.getValue(c,this),m=this.beans.valueService.setValue(this,c,r,o);return this.dispatchCellChangedEvent(c,r,h),m},f.prototype.setGroupValue=function(i,r){var o=this.beans.columnModel.getGridColumn(i);b(this.groupData)&&(this.groupData={});var c=o.getColId(),h=this.groupData[c];h!==r&&(this.groupData[c]=r,this.dispatchCellChangedEvent(o,r,h))},f.prototype.setAggData=function(i){var r=this,o=nh([this.aggData,i]),c=this.aggData;this.aggData=i,this.eventService&&o.forEach(function(h){var m=r.beans.columnModel.getGridColumn(h);r.dispatchCellChangedEvent(m,r.aggData?r.aggData[h]:void 0,c?c[h]:void 0)})},f.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(f.EVENT_HAS_CHILDREN_CHANGED)))},f.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},f.prototype.isEmptyRowGroupNode=function(){return this.group&&ti(this.childrenAfterGroup)},f.prototype.dispatchCellChangedEvent=function(i,r,o){this.dispatchLocalEvent({type:f.EVENT_CELL_CHANGED,node:this,column:i,newValue:r,oldValue:o})},f.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},f.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},f.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},f.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(r){return r.depthFirstSearch(i)}),i(this)},f.prototype.calculateSelectedFromChildren=function(){var i=!1,r=!1,o=!1;if(this.childrenAfterGroup)for(var h=0;h<this.childrenAfterGroup.length;h++){var m=this.childrenAfterGroup[h];if(m.selectable)switch(m.isSelected()){case!0:i=!0;break;case!1:r=!0;break;default:o=!0}}this.selectThisNode(o?void 0:!(!i||r)||!(!i&&r)&&void 0)},f.prototype.setSelectedInitialValue=function(i){this.selected=i},f.prototype.setSelected=function(i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:i,clearSelection:r,suppressFinishActions:o,rangeSelect:!1})},f.prototype.isRowPinned=function(){return this.rowPinned===ge.PINNED_TOP||this.rowPinned===ge.PINNED_BOTTOM},f.prototype.setSelectedParams=function(i){var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),o=!0===i.newValue,c=!0===i.clearSelection,h=!0===i.suppressFinishActions,m=!0===i.rangeSelect,w=r&&!0===i.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(i);if(m&&this.beans.selectionService.getLastSelectedNode()){var A=this.beans.selectionService.getLastSelectedNode()!==this,x=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(A&&x){var N=this.doRowRangeSelection(i.newValue);return this.beans.selectionService.setLastSelectedNode(this),N}}var k=0;return w&&this.group||this.selectThisNode(o)&&k++,r&&this.group&&(k+=this.selectChildNodes(o,w)),h||(o&&(c||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(k+=this.beans.selectionService.clearOtherNodes(this)),k>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),o&&this.beans.selectionService.setLastSelectedNode(this)),k},f.prototype.doRowRangeSelection=function(i){var r=this;void 0===i&&(i=!0);var o=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),c=this.beans.selectionService.getLastSelectedNode(),h=this.beans.rowModel.getNodesInRangeForSelection(this,c),m=0;return h.forEach(function(A){A.group&&o||!1===i&&r===A||A.selectThisNode(i)&&m++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),m},f.prototype.isParentOfNode=function(i){for(var r=this.parent;r;){if(r===i)return!0;r=r.parent}return!1},f.prototype.selectThisNode=function(i){if(!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(f.EVENT_ROW_SELECTED));var c=this.createGlobalRowEvent(ne.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(c),!0},f.prototype.selectChildNodes=function(i,r){var o=r?this.childrenAfterAggFilter:this.childrenAfterGroup;if(b(o))return 0;for(var c=0,h=0;h<o.length;h++)c+=o[h].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r});return c},f.prototype.addEventListener=function(i,r){this.eventService||(this.eventService=new la),this.eventService.addEventListener(i,r)},f.prototype.removeEventListener=function(i,r){!this.eventService||(this.eventService.removeEventListener(i,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},f.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(f.EVENT_MOUSE_ENTER))},f.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(f.EVENT_MOUSE_LEAVE))},f.prototype.getFirstChildOfFirstChild=function(i){for(var r=this,o=!0,c=!1,h=null;o&&!c;){var m=r.parent;re(m)&&r.firstChild?m.rowGroupColumn===i&&(c=!0,h=m):o=!1,r=m}return c?h:null},f.prototype.isFullWidthCell=function(){var i=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!i&&i({rowNode:this})},f.prototype.getRoute=function(){if(null!=this.key){for(var i=[],r=this;null!=r.key;)i.push(r.key),r=r.parent;return i.reverse()}},f.ID_PREFIX_ROW_GROUP="row-group-",f.ID_PREFIX_TOP_PINNED="t-",f.ID_PREFIX_BOTTOM_PINNED="b-",f.OBJECT_ID_SEQUENCE=0,f.EVENT_ROW_SELECTED="rowSelected",f.EVENT_DATA_CHANGED="dataChanged",f.EVENT_CELL_CHANGED="cellChanged",f.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",f.EVENT_MASTER_CHANGED="masterChanged",f.EVENT_GROUP_CHANGED="groupChanged",f.EVENT_MOUSE_ENTER="mouseEnter",f.EVENT_MOUSE_LEAVE="mouseLeave",f.EVENT_HEIGHT_CHANGED="heightChanged",f.EVENT_TOP_CHANGED="topChanged",f.EVENT_DISPLAYED_CHANGED="displayedChanged",f.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",f.EVENT_LAST_CHILD_CHANGED="lastChildChanged",f.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",f.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",f.EVENT_EXPANDED_CHANGED="expandedChanged",f.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",f.EVENT_SELECTABLE_CHANGED="selectableChanged",f.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",f.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",f.EVENT_DRAGGING_CHANGED="draggingChanged",f}(),SS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yt=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Np=function(f){function i(){return f.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return SS(i,f),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.rowNode.isSelected(),c=void 0===o?r("ariaIndeterminate","indeterminate"):!0===o?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),h=r("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(o,!0),this.eCheckbox.setInputAriaLabel(h+" ("+c+")")},i.prototype.onCheckedClicked=function(r){var o=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:o})},i.prototype.onUncheckedClicked=function(r){var o=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:r.shiftKey,groupSelectsFiltered:o})},i.prototype.init=function(r){var o=this;if(this.rowNode=r.rowNode,this.column=r.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(w){return $l(w)}),this.addGuiEventListener("dblclick",function(w){return $l(w)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(w){var A=o.eCheckbox.getValue();void 0===o.eCheckbox.getPreviousValue()||void 0===A?0===o.onUncheckedClicked(w||{})&&o.onCheckedClicked(w):A?o.onCheckedClicked(w):o.onUncheckedClicked(w||{})}),this.addManagedListener(this.rowNode,bt.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var m=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,m),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,m),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,m),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var r=this.rowNode.selectable;r&&this.checkboxCallbackExists()&&(r=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(r)},i.prototype.checkboxCallbackExists=function(){var r=this.column?this.column.getColDef():null;return!!r&&"function"==typeof r.checkboxSelection},yt([Ne("eCheckbox")],i.prototype,"eCheckbox",void 0),yt([je],i.prototype,"postConstruct",null),i}(At),bS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),du=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Bg=function(f){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&f[i],o=0;if(r)return r.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&o>=f.length&&(f=void 0),{value:f&&f[o++],done:!f}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(f){f[f.ToolPanel=0]="ToolPanel",f[f.HeaderCell=1]="HeaderCell",f[f.RowDrag=2]="RowDrag",f[f.ChartPanel=3]="ChartPanel"})(W.DragSourceType||(W.DragSourceType={})),function(f){f[f.Up=0]="Up",f[f.Down=1]="Down"}(W.VerticalDirection||(W.VerticalDirection={})),function(f){f[f.Left=0]="Left",f[f.Right=1]="Right"}(W.HorizontalDirection||(W.HorizontalDirection={}));var jr=function(f){function i(){var o=null!==f&&f.apply(this,arguments)||this;return o.dragSourceAndParamsList=[],o.dropTargets=[],o}var r;return bS(i,f),r=i,i.prototype.init=function(){this.ePinnedIcon=bo("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=bo("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=bo("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=bo("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=bo("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=bo("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=bo("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=bo("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=bo("dropNotAllowed",this.gridOptionsWrapper,null)},i.prototype.addDragSource=function(o,c){void 0===c&&(c=!1);var h={eElement:o.eElement,dragStartPixels:o.dragStartPixels,onDragStart:this.onDragStart.bind(this,o),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:h,dragSource:o}),this.dragService.addDragSource(h,c)},i.prototype.removeDragSource=function(o){var c=this.dragSourceAndParamsList.find(function(h){return h.dragSource===o});c&&(this.dragService.removeDragSource(c.params),pn(this.dragSourceAndParamsList,c))},i.prototype.clearDragSourceParamsList=function(){var o=this;this.dragSourceAndParamsList.forEach(function(c){return o.dragService.removeDragSource(c.params)}),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(o,c){this.dragging=!0,this.dragSource=o,this.eventLastTime=c,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(o){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var c=this.createDropTargetEvent(this.lastDropTarget,o,null,null,!1);this.lastDropTarget.onDragStop(c)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(o,c){var h=this,m=this.getHorizontalDirection(o),w=this.getVerticalDirection(o);this.eventLastTime=o,this.positionGhost(o);var A=this.dropTargets.filter(function(q){return h.isMouseOnDropTarget(o,q)}),x=A.length,N=null;if(x>0&&(N=1===x?A[0]:A.reduce(function(q,te){if(!q)return te;var le=q.getContainer(),de=te.getContainer();return le.contains(de)?te:q})),N!==this.lastDropTarget)this.leaveLastTargetIfExists(o,m,w,c),this.enterDragTargetIfExists(N,o,m,w,c),this.lastDropTarget=N;else if(N&&N.onDragging){var k=this.createDropTargetEvent(N,o,m,w,c);N.onDragging(k)}},i.prototype.enterDragTargetIfExists=function(o,c,h,m,w){if(o){if(o.onDragEnter){var A=this.createDropTargetEvent(o,c,h,m,w);o.onDragEnter(A)}this.setGhostIcon(o.getIconName?o.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(o,c,h,m){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var w=this.createDropTargetEvent(this.lastDropTarget,o,c,h,m);this.lastDropTarget.onDragLeave(w)}this.setGhostIcon(null)}},i.prototype.getAllContainersFromDropTarget=function(o){var c=o.getSecondaryContainers?o.getSecondaryContainers():null,h=[[o.getContainer()]];return c?h.concat(c):h},i.prototype.allContainersIntersect=function(o,c){var h,m;try{for(var w=Bg(c),A=w.next();!A.done;A=w.next()){var N=A.value.getBoundingClientRect();if(0===N.width||0===N.height)return!1;if(!(o.clientX>=N.left&&o.clientX<N.right&&o.clientY>=N.top&&o.clientY<N.bottom))return!1}}catch(te){h={error:te}}finally{try{A&&!A.done&&(m=w.return)&&m.call(w)}finally{if(h)throw h.error}}return!0},i.prototype.isMouseOnDropTarget=function(o,c){var h,m,w=this.getAllContainersFromDropTarget(c),A=!1;try{for(var x=Bg(w),N=x.next();!N.done;N=x.next())if(this.allContainersIntersect(o,N.value)){A=!0;break}}catch(q){h={error:q}}finally{try{N&&!N.done&&(m=x.return)&&m.call(x)}finally{if(h)throw h.error}}return!(c.targetContainsSource&&!c.getContainer().contains(this.dragSource.eElement))&&A&&c.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},i.prototype.addDropTarget=function(o){this.dropTargets.push(o)},i.prototype.removeDropTarget=function(o){this.dropTargets=this.dropTargets.filter(function(c){return c.getContainer()!==o.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(o){return o.external})},i.prototype.findExternalZone=function(o){return this.dropTargets.filter(function(h){return h.external}).find(function(h){return h.getContainer()===o.getContainer()})||null},i.prototype.getHorizontalDirection=function(o){var c=this.eventLastTime&&this.eventLastTime.clientX,h=o.clientX;return c===h?null:c>h?W.HorizontalDirection.Left:W.HorizontalDirection.Right},i.prototype.getVerticalDirection=function(o){var c=this.eventLastTime&&this.eventLastTime.clientY,h=o.clientY;return c===h?null:c>h?W.VerticalDirection.Up:W.VerticalDirection.Down},i.prototype.createDropTargetEvent=function(o,c,h,m,w){var A=o.getContainer(),x=A.getBoundingClientRect(),N=this;return{event:c,x:c.clientX-x.left,y:c.clientY-x.top,vDirection:m,hDirection:h,dragSource:N.dragSource,fromNudge:w,dragItem:N.dragItem,api:N.gridApi,columnApi:N.columnApi,dropZoneTarget:A}},i.prototype.positionGhost=function(o){var c=this.eGhost;if(c){var m=c.getBoundingClientRect().height,w=iS()-2,A=km()-2,x=o.pageY-m/2,N=o.pageX-10,k=this.gridOptionsWrapper.getDocument(),q=k.defaultView||window,te=q.pageYOffset||k.documentElement.scrollTop,le=q.pageXOffset||k.documentElement.scrollLeft;w>0&&N+c.clientWidth>w+le&&(N=w+le-c.clientWidth),N<0&&(N=0),A>0&&x+c.clientHeight>A+te&&(x=A+te-c.clientHeight),x<0&&(x=0),c.style.left=N+"px",c.style.top=x+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=br(r.GHOST_TEMPLATE);var o=this.environment.getTheme().theme;o&&this.eGhost.classList.add(o),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var c=this.eGhost.querySelector(".ag-dnd-ghost-label"),h=this.dragSource.dragItemName;ah(h)&&(h=h()),c.innerHTML=Ht(h)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var m=this.gridOptionsWrapper.getDocument(),w=null;try{w=m.fullscreenElement}catch(A){}finally{w||(w=m.querySelector("body"))}this.eGhostParent=w,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(o,c){void 0===c&&(c=!1),jn(this.eGhostIcon);var h=null;switch(o||(o=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),o){case r.ICON_PINNED:h=this.ePinnedIcon;break;case r.ICON_MOVE:h=this.eMoveIcon;break;case r.ICON_LEFT:h=this.eLeftIcon;break;case r.ICON_RIGHT:h=this.eRightIcon;break;case r.ICON_GROUP:h=this.eGroupIcon;break;case r.ICON_AGGREGATE:h=this.eAggregateIcon;break;case r.ICON_PIVOT:h=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:h=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:h=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",c),(h!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&h&&this.eGhostIcon.appendChild(h)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',du([K("dragService")],i.prototype,"dragService",void 0),du([K("environment")],i.prototype,"environment",void 0),du([K("columnApi")],i.prototype,"columnApi",void 0),du([K("gridApi")],i.prototype,"gridApi",void 0),du([je],i.prototype,"init",null),du([An],i.prototype,"clearDragSourceParamsList",null),r=du([Xe("dragAndDropService")],i)}(Ge),Ao=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Is=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Mi=function(f){function i(r,o,c,h,m,w){var A=f.call(this)||this;return A.cellValueFn=r,A.rowNode=o,A.column=c,A.customGui=h,A.dragStartPixels=m,A.suppressVisibilityChange=w,A.dragSource=null,A}return Ao(i,f),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(kr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var r=this.beans.gridOptionsWrapper.isRowDragManaged()?new Lp(this,this.beans,this.rowNode,this.column):new on(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}},i.prototype.setDragElement=function(r,o){this.setTemplateFromElement(r),this.addDragSource(o)},i.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var o=this.beans.selectionService.getSelectedNodes();return-1!==o.indexOf(this.rowNode)?o.length:1},i.prototype.checkCompatibility=function(){var r=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&r&&zt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.addDragSource=function(r){var o=this;void 0===r&&(r=4),this.dragSource&&this.removeDragSource();var c={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},h=this.column&&this.column.getColDef().rowDragText,m=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:W.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var w=o.getSelectedCount();return h?h(c,w):1===w?o.cellValueFn():w+" "+m("rowDragRows","rows")},getDragItem:function(){return c},dragStartPixels:r,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Is([K("beans")],i.prototype,"beans",void 0),Is([je],i.prototype,"postConstruct",null),Is([An],i.prototype,"removeDragSource",null),i}(At),Hg=function(f){function i(r,o,c){var h=f.call(this)||this;return h.parent=r,h.rowNode=o,h.column=c,h}return Ao(i,f),i.prototype.setDisplayedOrVisible=function(r){if(r)this.parent.setDisplayed(!1);else{var o=!0,c=!1;this.column&&(o=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=ah(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0),this.parent.setVisible(o)):(this.parent.setDisplayed(o),this.parent.setVisible(!0))}},i}(Ge),on=function(f){function i(r,o,c,h){var m=f.call(this,r,c,h)||this;return m.beans=o,m}return Ao(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var r=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(r)},Is([je],i.prototype,"postConstruct",null),i}(Hg),Lp=function(f){function i(r,o,c,h){var m=f.call(this,r,c,h)||this;return m.beans=o,m}return Ao(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,ne.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var o=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),c=o&&o.shouldPreventRowMove(),h=this.beans.gridOptionsWrapper.isSuppressRowDrag(),m=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(c&&!m||h)},Is([je],i.prototype,"postConstruct",null),i}(Hg),Gp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Wg=function(){return Wg=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Wg.apply(this,arguments)},kp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},to=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Gp(i,f),i.prototype.init=function(r,o,c,h,m,w,A){this.params=A,this.eGui=o,this.eCheckbox=c,this.eExpanded=h,this.eContracted=m,this.comp=r,this.compClass=w;var x=this.isTopLevelFooter(),N=this.isEmbeddedRowMismatch(),k=null==A.value,q=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var te=A.node;te.footer&&(q=(A.colDef&&A.colDef.showRowGroup)!==(te.rowGroupColumn&&te.rowGroupColumn.getColId()))}this.cellIsBlank=!x&&(N||k||q),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var r=this.params.colDef;if(null==r||!0===r.showRowGroup)return!0;var c=this.columnModel.getRowGroupColumns();return!c||0===c.length||c[0].getId()===r.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var r=this.params.pinned===ge.PINNED_LEFT,o=this.params.pinned===ge.PINNED_RIGHT,c=!r&&!o;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!o:!c:this.columnModel.isPinningLeft()?!r:!c},i.prototype.findDisplayedGroupNode=function(){var r=this.params.column,o=this.params.node;if(this.showingValueForOpenedParent)for(var c=o.parent;null!=c;){if(c.rowGroupColumn&&r.isRowGroupDisplayed(c.rowGroupColumn.getId())){this.displayedGroupNode=c;break}c=c.parent}b(this.displayedGroupNode)&&(this.displayedGroupNode=o)},i.prototype.setupShowingValueForOpenedParent=function(){var r=this.params.node,o=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(r.groupData){if(null!=r.rowGroupColumn){var h=r.rowGroupColumn.getId();if(o.isRowGroupDisplayed(h))return void(this.showingValueForOpenedParent=!1)}var w=null!=r.groupData[o.getId()];this.showingValueForOpenedParent=w}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var r=this.adjustParamsWithDetailsFromRelatedColumn(),o=this.getInnerCompDetails(r),c=r.valueFormatted;this.comp.setInnerRenderer(o,null!=c?c:r.value)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var r=this.displayedGroupNode.rowGroupColumn,o=this.params.column;if(!r)return this.params;if(null!=o&&!o.isRowGroupDisplayed(r.getId()))return this.params;var m=this.params,w=this.params,N=this.valueFormatterService.formatValue(r,w.node,w.value);return Wg(Wg({},m),{valueFormatted:N})},i.prototype.addFooterValue=function(){var r=this.params.footerValueGetter,o="";if(r){var c=zl(this.params);c.value=this.params.value,"function"==typeof r?o=r(c):"string"==typeof r?o=this.expressionService.evaluate(r,c):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else o="Total "+(null!=this.params.value?this.params.value:"");var h=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(h,o)},i.prototype.getInnerCompDetails=function(r){var o=this;if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,r);var c=this.userComponentFactory.getInnerRendererDetails(r,r),h=function(N){return N&&N.componentClass==o.compClass};if(c&&!h(c))return c;var m=this.displayedGroupNode.rowGroupColumn,w=m?m.getColDef():void 0;if(w){var A=this.userComponentFactory.getCellRendererDetails(w,r);if(A&&!h(A))return A;if(h(A)&&w.cellRendererParams&&w.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(w.cellRendererParams,r)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,bt.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var r=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow();this.comp.setChildCount(o&&null!=r&&r>=0?"("+r+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;var o=this.params.column;return null==o||o.isRowGroupDisplayed(r.getId())},i.prototype.addExpandAndContract=function(){var r=this.params,o=kr("groupExpanded",this.gridOptionsWrapper,null),c=kr("groupContracted",this.gridOptionsWrapper,null);o&&this.eExpanded.appendChild(o),c&&this.eContracted.appendChild(c);var h=r.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(h,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(h,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,bt.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var m=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,bt.EVENT_ALL_CHILDREN_COUNT_CHANGED,m),this.addManagedListener(this.displayedGroupNode,bt.EVENT_MASTER_CHANGED,m),this.addManagedListener(this.displayedGroupNode,bt.EVENT_GROUP_CHANGED,m),this.addManagedListener(this.displayedGroupNode,bt.EVENT_HAS_CHILDREN_CHANGED,m)},i.prototype.onExpandClicked=function(r){bs(r)||($l(r),this.onExpandOrContract())},i.prototype.onExpandOrContract=function(){var r=this.displayedGroupNode;r.setExpanded(!r.expanded)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var r=this.displayedGroupNode,o=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||o)return!1;var h=this.params.column;return null==h||"string"!=typeof h.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var r=this,c=r.displayedGroupNode,h=r.columnModel,m=r.params.node,w=this.isExpandable();if(w){var A=!!this.showingValueForOpenedParent||m.expanded;this.comp.setExpandedDisplayed(A),this.comp.setContractedDisplayed(!A)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var x=h.isPivotMode(),N=x&&c.leafGroup,k=w&&!N,q=m.footer&&-1===m.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",k),this.comp.addOrRemoveCssClass("ag-row-group",k),x?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",N):q||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!k)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,bt.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var r=this.params,o=r.node,c=!!r.colDef,h=this.gridOptionsWrapper.isTreeData(),w=!c||h||!0===r.colDef.showRowGroup?o.uiLevel:0;r.padding>=0&&zt(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+w,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var r=this;if(this.params.fullWidth&&this.params.rowDrag){var o=new Mi(function(){return r.params.value},this.params.node);this.createManagedBean(o,this.context),this.eGui.insertAdjacentElement("afterbegin",o.getGui())}},i.prototype.isUserWantsSelected=function(){var r=this.params.checkbox;return"function"==typeof r?r(this.params):!0===r},i.prototype.addCheckboxIfNeeded=function(){var r=this,o=this.displayedGroupNode,c=this.isUserWantsSelected()&&!o.footer&&!o.rowPinned&&!o.detail;if(c){var h=new Np;this.getContext().createBean(h),h.init({rowNode:o,column:this.params.column}),this.eCheckbox.appendChild(h.getGui()),this.addDestroyFunc(function(){return r.getContext().destroyBean(h)})}this.comp.setCheckboxVisible(c)},i.prototype.onKeyDown=function(r){r.key!==Ie.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract()},i.prototype.onCellDblClicked=function(r){bs(r)||dh(this.eExpanded,r)||dh(this.eContracted,r)||this.onExpandOrContract()},kp([K("expressionService")],i.prototype,"expressionService",void 0),kp([K("valueFormatterService")],i.prototype,"valueFormatterService",void 0),kp([K("columnModel")],i.prototype,"columnModel",void 0),kp([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),kp([K("gridOptions")],i.prototype,"gridOptions",void 0),i}(Ge),Ns=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},vc=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return Ns(i,f),i.prototype.init=function(r){var o=this,c={setInnerRenderer:function(A,x){return o.setRenderDetails(A,x)},setChildCount:function(A){return o.eChildCount.innerHTML=A},addOrRemoveCssClass:function(A,x){return o.addOrRemoveCssClass(A,x)},setContractedDisplayed:function(A){return ur(o.eContracted,A)},setExpandedDisplayed:function(A){return ur(o.eExpanded,A)},setCheckboxVisible:function(A){return o.eCheckbox.classList.toggle("ag-invisible",!A)}},h=this.createManagedBean(new to),m=!r.colDef,w=this.getGui();h.init(c,w,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),m&&Mn(w,"gridcell")},i.prototype.setRenderDetails=function(r,o){var c=this;if(r){var h=r.newAgStackInstance();if(!h)return;h.then(function(m){if(m){var w=function(){return c.context.destroyBean(m)};c.isAlive()?(c.eValue.appendChild(m.getGui()),c.addDestroyFunc(w)):w()}})}else this.eValue.innerText=o},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),f.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',gc([Ne("eExpanded")],i.prototype,"eExpanded",void 0),gc([Ne("eContracted")],i.prototype,"eContracted",void 0),gc([Ne("eCheckbox")],i.prototype,"eCheckbox",void 0),gc([Ne("eValue")],i.prototype,"eValue",void 0),gc([Ne("eChildCount")],i.prototype,"eChildCount",void 0),i}(At),Vp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jg=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ES=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return Vp(i,f),i.prototype.init=function(r){r.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},i.prototype.setupLoading=function(){var r=kr("groupLoading",this.gridOptionsWrapper,null);r&&this.eLoadingIcon.appendChild(r);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")},i.prototype.refresh=function(r){return!1},i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',jg([Ne("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),jg([Ne("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(At),OS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hO=function(f){function i(){return f.call(this)||this}return OS(i,f),i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.init=function(r){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():i.DEFAULT_LOADING_OVERLAY_TEMPLATE,c=this.gridOptionsWrapper.getLocaleTextFunc(),h=o.replace("[LOADING...]",c("loadingOoo","Loading..."));this.setTemplate(h)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(At),fO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sC=function(f){function i(){return f.call(this)||this}return fO(i,f),i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.init=function(r){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():i.DEFAULT_NO_ROWS_TEMPLATE,c=this.gridOptionsWrapper.getLocaleTextFunc(),h=o.replace("[NO_ROWS_TO_SHOW]",c("noRowsToShow","No Rows To Show"));this.setTemplate(h)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(At),ro=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ug=function(f){function i(){return f.call(this,'<div class="ag-tooltip"></div>')||this}return ro(i,f),i.prototype.init=function(r){var o=r.value;this.getGui().innerHTML=Ht(o)},i}(hl),yc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zg=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Bp=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.agGridDefaults={agDateInput:eC,agColumnHeader:lu,agColumnGroupHeader:cc,agTextColumnFloatingFilter:Fg,agNumberColumnFloatingFilter:lc,agDateColumnFloatingFilter:Mh,agReadOnlyFloatingFilter:Pg,agAnimateShowChangeCellRenderer:pu,agAnimateSlideCellRenderer:Ea,agGroupCellRenderer:vc,agGroupRowRenderer:vc,agLoadingCellRenderer:ES,agCellEditor:pc,agTextCellEditor:pc,agSelectCellEditor:Nh,agPopupTextCellEditor:Fr,agPopupSelectCellEditor:cu,agLargeTextCellEditor:Ng,agTextColumnFilter:Mp,agNumberColumnFilter:Sa,agDateColumnFilter:Fs,agLoadingOverlay:hO,agNoRowsOverlay:sC,agTooltipComponent:Ug},r.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},r.jsComps={},r.fwComps={},r}return yc(i,f),i.prototype.init=function(){var r=this;null!=this.gridOptions.components&&Jt(this.gridOptions.components,function(o,c){return r.registerJsComponent(o,c)}),null!=this.gridOptions.frameworkComponents&&Jt(this.gridOptions.frameworkComponents,function(o,c){return r.registerFwComponent(o,c)})},i.prototype.registerDefaultComponent=function(r,o){var c=this.translateIfDeprecated(r);this.agGridDefaults[c]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[c]=o},i.prototype.registerJsComponent=function(r,o){var c=this.translateIfDeprecated(r);this.fwComps[c]?console.error("Trying to register a component that you have already registered for frameworks: "+c):this.jsComps[c]=o},i.prototype.registerFwComponent=function(r,o){zt(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var h=this.translateIfDeprecated(r);this.fwComps[h]=o},i.prototype.retrieve=function(r){var o=this.translateIfDeprecated(r),c=function(N,k){return{componentFromFramework:k,component:N}},h=this.getFrameworkOverrides().frameworkComponent(o);if(null!=h)return c(h,!0);var m=this.fwComps[o];if(m)return c(m,!0);var w=this.jsComps[o];if(w)return c(w,this.getFrameworkOverrides().isFrameworkComponent(w));var x=this.agGridDefaults[o];return x?c(x,!1):(Object.keys(this.agGridDefaults).indexOf(o)<0&&console.warn("AG Grid: Looking for component ["+o+"] but it wasn't found."),null)},i.prototype.translateIfDeprecated=function(r){var o=this.agDeprecatedNames[r];return null!=o?(zt(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+o.propertyHolder+":"+r+" to "+o.propertyHolder+":"+o.newComponentName)},"DEPRECATE_COMPONENT_"+r),o.newComponentName):r},zg([K("gridOptions")],i.prototype,"gridOptions",void 0),zg([K("agComponentUtils")],i.prototype,"agComponentUtils",void 0),zg([je],i.prototype,"init",null),zg([Xe("userComponentRegistry")],i)}(Ge),hu={propertyName:"dateComponent",cellRenderer:!1},aC={propertyName:"headerComponent",cellRenderer:!1},$g={propertyName:"headerGroupComponent",cellRenderer:!1},DS={propertyName:"cellRenderer",cellRenderer:!0},gO={propertyName:"cellEditor",cellRenderer:!1},Hp={propertyName:"innerRenderer",cellRenderer:!0},lC={propertyName:"loadingOverlayComponent",cellRenderer:!1},Kg={propertyName:"noRowsOverlayComponent",cellRenderer:!1},vO={propertyName:"tooltipComponent",cellRenderer:!1},fu={propertyName:"filter",cellRenderer:!1},Yg={propertyName:"floatingFilterComponent",cellRenderer:!1},Gh={propertyName:"toolPanel",cellRenderer:!1},RS={propertyName:"statusPanel",cellRenderer:!1},AS={propertyName:"fullWidthCellRenderer",cellRenderer:!0},PS={propertyName:"loadingCellRenderer",cellRenderer:!0},uC={propertyName:"groupRowRenderer",cellRenderer:!0},TS={propertyName:"detailCellRenderer",cellRenderer:!0},Ls=function(){function f(){}return f.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},f.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},f}(),cC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},st=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return cC(i,f),i.prototype.getHeaderCompDetails=function(r,o){return this.getCompDetails(r,aC,"agColumnHeader",o)},i.prototype.getHeaderGroupCompDetails=function(r){var o=r.columnGroup.getColGroupDef();return this.getCompDetails(o,$g,"agColumnGroupHeader",r)},i.prototype.getFullWidthCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,AS,null,r,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,PS,"agLoadingCellRenderer",r,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,uC,"agGroupRowRenderer",r,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,TS,"agDetailCellRenderer",r,!0)},i.prototype.getInnerRendererDetails=function(r,o){return this.getCompDetails(r,Hp,null,o)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(r,o){return this.getCompDetails(r,Hp,null,o)},i.prototype.getCellRendererDetails=function(r,o){return this.getCompDetails(r,DS,null,o)},i.prototype.getCellEditorDetails=function(r,o){return this.getCompDetails(r,gO,"agCellEditor",o,!0)},i.prototype.getFilterDetails=function(r,o,c){return this.getCompDetails(r,fu,c,o,!0)},i.prototype.getDateCompDetails=function(r){return this.getCompDetails(this.gridOptions,hu,"agDateInput",r,!0)},i.prototype.getLoadingOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,lC,"agLoadingOverlay",r,!0)},i.prototype.getNoRowsOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,Kg,"agNoRowsOverlay",r,!0)},i.prototype.getTooltipCompDetails=function(r){return this.getCompDetails(r.colDef,vO,"agTooltipComponent",r,!0)},i.prototype.getSetFilterCellRendererDetails=function(r,o){return this.getCompDetails(r,DS,null,o)},i.prototype.getFloatingFilterCompDetails=function(r,o,c){return this.getCompDetails(r,Yg,c,o)},i.prototype.getToolPanelCompDetails=function(r,o){return this.getCompDetails(r,Gh,null,o,!0)},i.prototype.getStatusPanelCompDetails=function(r,o){return this.getCompDetails(r,RS,null,o,!0)},i.prototype.getCompDetails=function(r,o,c,h,m){var w=this;void 0===m&&(m=!1);var A=o.propertyName,x=o.cellRenderer,N=this.getCompKeys(r,o,h),k=N.compName,q=N.jsComp,te=N.fwComp,le=N.paramsFromSelector,de=N.popupFromSelector,ye=N.popupPositionFromSelector,xe=function(pt){var mt=w.userComponentRegistry.retrieve(pt);mt&&(q=mt.componentFromFramework?void 0:mt.component,te=mt.componentFromFramework?mt.component:void 0)};if(null!=k&&xe(k),null==q&&null==te&&null!=c&&xe(c),q&&x&&!this.agComponentUtils.doesImplementIComponent(q)&&(q=this.agComponentUtils.adaptFunction(A,q)),q||te){var Oe=this.mergeParamsWithApplicationProvidedParams(r,o,h,le),Ee=null==q,Ke=q||te;return{componentFromFramework:Ee,componentClass:Ke,params:Oe,type:o,popupFromSelector:de,popupPositionFromSelector:ye,newAgStackInstance:function(){return w.newAgStackInstance(Ke,Ee,Oe,o)}}}m&&console.error("Could not find component "+k+", did you forget to configure this component?")},i.prototype.getCompKeys=function(r,o,c){var w,A,x,N,k,q,h=this,m=o.propertyName;if(r){var te=r,le=te[m+"Selector"],de=le?le(c):null,ye=function(Oe,Ee){var Ke=function(){var mt="AG Grid: As of v27, the property "+m+"Framework is deprecated. The property "+m+" can now be used for JavaScript AND Framework Components.";zt(function(){return console.warn(mt)},"UserComponentFactory."+m+"FrameworkDeprecated")};"string"==typeof Oe?w=Oe:"string"==typeof Ee?(Ke(),w=Ee):null!=Oe&&!0!==Oe?h.getFrameworkOverrides().isFrameworkComponent(Oe)?x=Oe:A=Oe:null!=Ee&&(Ke(),x=Ee)};if(de){if(null!=de.frameworkComponent){var xe="AG Grid: As of v27, the return for "+m+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";zt(function(){return console.warn(xe)},"UserComponentFactory."+m+"FrameworkSelectorDeprecated"),ye(de.frameworkComponent,void 0)}else ye(de.component,void 0);N=de.params,k=de.popup,q=de.popupPosition}else ye(te[m],te[m+"Framework"])}return{compName:w,jsComp:A,fwComp:x,paramsFromSelector:N,popupFromSelector:k,popupPositionFromSelector:q}},i.prototype.newAgStackInstance=function(r,o,c,h){var A;if(o){var x=this.componentMetadataProvider.retrieve(h.propertyName);A=this.frameworkComponentWrapper.wrap(r,x.mandatoryMethodList,x.optionalMethodList,h)}else A=new r;var N=this.initComponent(A,c);return null==N?ot.resolve(A):N.then(function(){return A})},i.prototype.mergeParamsWithApplicationProvidedParams=function(r,o,c,h){void 0===h&&(h=null);var m={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};Wn(m,c);var A=r&&r[o.propertyName+"Params"];return"function"==typeof A?Wn(m,A(c)):"object"==typeof A&&Wn(m,A),Wn(m,h),m},i.prototype.initComponent=function(r,o){if(this.context.createBean(r),null!=r.init)return r.init(o)},i.prototype.getDefaultFloatingFilterType=function(r){if(null==r)return null;var o=null,c=this.getCompKeys(r,fu),h=c.compName,m=c.jsComp,w=c.fwComp;return h?o=Ls.getFloatingFilterType(h):null==m&&null==w&&!0===r.filter&&(o=wt.isRegistered(W.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),o},mc([K("gridOptions")],i.prototype,"gridOptions",void 0),mc([K("agComponentUtils")],i.prototype,"agComponentUtils",void 0),mc([K("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),mc([K("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),mc([$t("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),mc([Xe("userComponentFactory")],i)}(Ge);!function(f){f[f.SINGLE_SHEET=0]="SINGLE_SHEET",f[f.MULTI_SHEET=1]="MULTI_SHEET"}(W.ExcelFactoryMode||(W.ExcelFactoryMode={}));var pC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gu=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},kh=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.dragEndFunctions=[],r.dragSources=[],r}return pC(i,f),i.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(r){var o=r.dragSource.eElement;o.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&o.removeEventListener("touchstart",r.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(r){var o=this.dragSources.find(function(c){return c.dragSource===r});!o||(this.removeListener(o),pn(this.dragSources,o))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(r,o){var c=this;void 0===o&&(o=!1);var h=this.onMouseDown.bind(this,r);r.eElement.addEventListener("mousedown",h);var m=null,w=this.gridOptionsWrapper.isSuppressTouch();o&&!w&&r.eElement.addEventListener("touchstart",m=function(A){A.cancelable&&A.preventDefault(),c.onTouchStart(r,A)},{passive:!0}),this.dragSources.push({dragSource:r,mouseDownListener:h,touchStartListener:m,touchEnabled:o})},i.prototype.onTouchStart=function(r,o){var c=this;this.currentDragParams=r,this.dragging=!1;var h=o.touches[0];this.touchLastTime=h,this.touchStart=h;var w=function(k){return c.onTouchUp(k,r.eElement)},x=r.eElement,N=[{target:document,type:"touchmove",listener:function(k){k.cancelable&&k.preventDefault()},options:{passive:!1}},{target:x,type:"touchmove",listener:function(k){return c.onTouchMove(k,r.eElement)},options:{passive:!0}},{target:x,type:"touchend",listener:w,options:{passive:!0}},{target:x,type:"touchcancel",listener:w,options:{passive:!0}}];this.addTemporaryEvents(N),0===r.dragStartPixels&&this.onCommonMove(h,this.touchStart,r.eElement)},i.prototype.onMouseDown=function(r,o){var c=this,h=o;if(!(r.skipMouseEvent&&r.skipMouseEvent(o)||h._alreadyProcessedByDragService||(h._alreadyProcessedByDragService=!0,0!==o.button))){this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=o;var m=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:m,type:"mousemove",listener:function(q){return c.onMouseMove(q,r.eElement)}},{target:m,type:"mouseup",listener:function(q){return c.onMouseUp(q,r.eElement)}},{target:m,type:"contextmenu",listener:function(q){return q.preventDefault()}}]),0===r.dragStartPixels&&this.onMouseMove(o,r.eElement)}},i.prototype.addTemporaryEvents=function(r){r.forEach(function(o){o.target.addEventListener(o.type,o.listener,o.options)}),this.dragEndFunctions.push(function(){r.forEach(function(o){o.target.removeEventListener(o.type,o.listener,o.options)})})},i.prototype.isEventNearStartEvent=function(r,o){var c=this.currentDragParams.dragStartPixels;return Ti(r,o,re(c)?c:4)},i.prototype.getFirstActiveTouch=function(r){for(var o=0;o<r.length;o++)if(r[o].identifier===this.touchStart.identifier)return r[o];return null},i.prototype.onCommonMove=function(r,o,c){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,o))return;this.dragging=!0,this.eventService.dispatchEvent({type:ne.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:c}),this.currentDragParams.onDragStart(o),this.currentDragParams.onDragging(o)}this.currentDragParams.onDragging(r)},i.prototype.onTouchMove=function(r,o){var c=this.getFirstActiveTouch(r.touches);!c||this.onCommonMove(c,this.touchStart,o)},i.prototype.onMouseMove=function(r,o){$i()&&"mousemove"===r.type&&r.cancelable&&this.mouseEventService.isEventFromThisGrid(r)&&!this.isOverFormFieldElement(r)&&r.preventDefault(),this.onCommonMove(r,this.mouseStartEvent,o)},i.prototype.isOverFormFieldElement=function(r){var o,c;return!!(null===(c=null===(o=r.target)||void 0===o?void 0:o.tagName.toLocaleLowerCase())||void 0===c?void 0:c.match("^a$|textarea|input|select|button"))},i.prototype.onTouchUp=function(r,o){var c=this.getFirstActiveTouch(r.changedTouches);c||(c=this.touchLastTime),this.onUpCommon(c,o)},i.prototype.onMouseUp=function(r,o){this.onUpCommon(r,o)},i.prototype.onUpCommon=function(r,o){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:ne.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:o})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(h){return h()}),this.dragEndFunctions.length=0},gu([K("loggerFactory")],i.prototype,"loggerFactory",void 0),gu([K("columnApi")],i.prototype,"columnApi",void 0),gu([K("gridApi")],i.prototype,"gridApi",void 0),gu([K("mouseEventService")],i.prototype,"mouseEventService",void 0),gu([je],i.prototype,"init",null),gu([An],i.prototype,"removeAllListeners",null),gu([Xe("dragService")],i)}(Ge),Wp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jp=function(){return jp=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},jp.apply(this,arguments)},Gs=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},dC=function(f){function i(){var o=null!==f&&f.apply(this,arguments)||this;return o.allColumnFilters=new Map,o.activeAggregateFilters=[],o.activeColumnFilters=[],o.quickFilter=null,o.quickFilterParts=null,o.processingFilterChange=!1,o}var r;return Wp(i,f),r=i,i.prototype.init=function(){var o=this;this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,function(){return o.onColumnsChanged()}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VALUE_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(o){var c=this,h=[],m=this.getFilterModel();if(o){var w=nu(Object.keys(o));this.allColumnFilters.forEach(function(A,x){h.push(c.setModelOnFilterWrapper(A.filterPromise,o[x])),w.delete(x)}),w.forEach(function(A){var x=c.columnModel.getPrimaryColumn(A)||c.columnModel.getGridColumn(A);if(x)if(x.isFilterAllowed()){var N=c.getOrCreateFilterWrapper(x,"NO_UI");N?h.push(c.setModelOnFilterWrapper(N.filterPromise,o[A])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+A)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+A);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+A)})}else this.allColumnFilters.forEach(function(A){h.push(c.setModelOnFilterWrapper(A.filterPromise,null))});ot.all(h).then(function(){var A=c.getFilterModel(),x=[];c.allColumnFilters.forEach(function(N,k){gt.jsonEquals(m?m[k]:null,A?A[k]:null)||x.push(N.column)}),x.length>0&&c.onFilterChanged({columns:x})})},i.prototype.setModelOnFilterWrapper=function(o,c){return new ot(function(h){o.then(function(m){"function"!=typeof m.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),h()),(m.setModel(c)||ot.resolve()).then(function(){return h()})})})},i.prototype.getFilterModel=function(){var o={};return this.allColumnFilters.forEach(function(c,h){var w=c.filterPromise.resolveNow(null,function(x){return x});if(null==w)return null;if("function"==typeof w.getModel){var A=w.getModel();re(A)&&(o[h]=A)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),o},i.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},i.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},i.prototype.doAggregateFiltersPass=function(o,c){return this.doColumnFiltersPass(o,c,!0)},i.prototype.updateActiveFilters=function(){var o=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var c=function(w){return!!w&&(w.isFilterActive?w.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},h=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(w){if(w.filterPromise.resolveNow(!1,c)){var A=w.filterPromise.resolveNow(null,function(x){return x});!function(w){if(!w.isPrimary())return!0;var x=!o.columnModel.isPivotActive();return!(!w.isValueActive()||!x)&&(!!o.columnModel.isPivotMode()||h)}(w.column)?o.activeColumnFilters.push(A):o.activeAggregateFilters.push(A)}})},i.prototype.updateFilterFlagInColumns=function(o,c){this.allColumnFilters.forEach(function(h){var m=h.filterPromise.resolveNow(!1,function(w){return w.isFilterActive()});h.column.setFilterActive(m,o,c)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},i.prototype.doColumnFiltersPass=function(o,c,h){for(var A=h?this.activeAggregateFilters:this.activeColumnFilters,x=h?o.aggData:o.data,N=0;N<A.length;N++){var k=A[N];if(null!=k&&k!==c){if("function"!=typeof k.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!k.doesFilterPass({node:o,data:x}))return!1}}return!0},i.prototype.parseQuickFilter=function(o){return re(o)?this.gridOptionsWrapper.isRowModelDefault()?o.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(o){if(null==o||"string"==typeof o){var c=this.parseQuickFilter(o);this.quickFilter!==c&&(this.quickFilter=c,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof o)},i.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},i.prototype.callOnFilterChangedOutsideRenderCycle=function(o){var c=this;void 0===o&&(o={});var h=function(){return c.onFilterChanged(o)};this.rowRenderer.isRefreshInProgress()?setTimeout(h,0):h()},i.prototype.onFilterChanged=function(o){void 0===o&&(o={});var c=o.filterInstance,h=o.additionalEventAttributes,m=o.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",h),this.allColumnFilters.forEach(function(A){!A.filterPromise||A.filterPromise.then(function(x){x&&x!==c&&x.onAnyFilterChanged&&x.onAnyFilterChanged()})});var w={type:ne.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:m||[]};h&&Wn(w,h),this.processingFilterChange=!0,this.eventService.dispatchEvent(w),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(o,c){return this.doesRowPassFilter({rowNode:c,filterInstanceToSkip:o})},i.prototype.doesRowPassQuickFilterNoCache=function(o,c){var h=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(w){var A=h.getQuickFilterTextForColumn(w,o);return re(A)&&A.indexOf(c)>=0})},i.prototype.doesRowPassQuickFilterCache=function(o,c){return o.quickFilterAggregateText||this.aggregateRowForQuickFilter(o),o.quickFilterAggregateText.indexOf(c)>=0},i.prototype.doesRowPassQuickFilter=function(o){var c=this,h=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(m){return h?c.doesRowPassQuickFilterCache(o,m):c.doesRowPassQuickFilterNoCache(o,m)})},i.prototype.doesRowPassAggregateFilters=function(o){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(o.rowNode,o.filterInstanceToSkip))},i.prototype.doesRowPassFilter=function(o){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(o.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(o.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(o.rowNode,o.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(o,c){var h=this.valueService.getValue(o,c,!0),m=o.getColDef();if(m.getQuickFilterText){var w={value:h,node:c,data:c.data,column:o,colDef:m,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};h=m.getQuickFilterText(w)}return re(h)?h.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(o){var c=this,h=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(w){var A=c.getQuickFilterTextForColumn(w,o);re(A)&&h.push(A)}),o.quickFilterAggregateText=h.join(r.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(o){this.allColumnFilters.forEach(function(c){c.filterPromise.then(function(h){h.onNewRowsLoaded&&h.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(o),this.updateActiveFilters()},i.prototype.createValueGetter=function(o){var c=this;return function(h){return c.valueService.getValue(o,h.node,!0)}},i.prototype.getFilterComponent=function(o,c,h){var m;if(void 0===h&&(h=!0),h)return(null===(m=this.getOrCreateFilterWrapper(o,c))||void 0===m?void 0:m.filterPromise)||null;var w=this.cachedFilter(o);return w?w.filterPromise:null},i.prototype.isFilterActive=function(o){var c=this.cachedFilter(o);return!!c&&c.filterPromise.resolveNow(!1,function(h){return h.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(o,c){if(!o.isFilterAllowed())return null;var h=this.cachedFilter(o);return h?"NO_UI"!==c&&this.putIntoGui(h,c):(h=this.createFilterWrapper(o,c),this.allColumnFilters.set(o.getColId(),h)),h},i.prototype.cachedFilter=function(o){return this.allColumnFilters.get(o.getColId())},i.prototype.createFilterInstance=function(o){var w,c=this,h=wt.isRegistered(W.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",m=o.getColDef(),A=jp(jp({},this.createFilterParams(o,m)),{filterModifiedCallback:function(){c.eventService.dispatchEvent({type:ne.EVENT_FILTER_MODIFIED,api:c.gridApi,columnApi:c.columnApi,column:o,filterInstance:w})},filterChangedCallback:function(k){c.callOnFilterChangedOutsideRenderCycle({filterInstance:w,additionalEventAttributes:k,columns:[o]})},doesRowPassOtherFilter:function(k){return c.doesRowPassOtherFilters(w,k)}}),x=this.userComponentFactory.getFilterDetails(m,A,h);if(!x)return null;var N=x.newAgStackInstance();return N&&N.then(function(k){return w=k}),N},i.prototype.createFilterParams=function(o,c){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:o,colDef:zl(c),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(o),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},i.prototype.createFilterWrapper=function(o,c){var h={column:o,filterPromise:null,compiledElement:null,guiPromise:ot.resolve(null)};return h.filterPromise=this.createFilterInstance(o),h.filterPromise&&this.putIntoGui(h,c),h},i.prototype.putIntoGui=function(o,c){var h=this,m=document.createElement("div");m.className="ag-filter",o.guiPromise=new ot(function(w){o.filterPromise.then(function(A){var x=A.getGui();re(x)||console.warn("AG Grid: getGui method from filter returned "+x+", it should be a DOM element or an HTML template string."),"string"==typeof x&&(x=br(x)),m.appendChild(x),w(m),h.eventService.dispatchEvent({type:ne.EVENT_FILTER_OPENED,column:o.column,source:c,eGui:m,api:h.gridApi,columnApi:h.columnApi})})})},i.prototype.onColumnsChanged=function(){var o=this,c=[];this.allColumnFilters.forEach(function(h,m){!(h.column.isPrimary()?o.columnModel.getPrimaryColumn(m):o.columnModel.getGridColumn(m))&&(c.push(h.column),o.disposeFilterWrapper(h,"filterDestroyed"))}),c.length>0&&this.onFilterChanged({columns:c})},i.prototype.destroyFilter=function(o,c){void 0===c&&(c="api");var h=this.allColumnFilters.get(o.getColId());h&&(this.disposeFilterWrapper(h,c),this.onFilterChanged({columns:[o]}))},i.prototype.disposeFilterWrapper=function(o,c){var h=this;o.filterPromise.then(function(m){(m.setModel(null)||ot.resolve()).then(function(){h.getContext().destroyBean(m),o.column.setFilterActive(!1,c),h.allColumnFilters.delete(o.column.getColId())})})},i.prototype.destroy=function(){var o=this;f.prototype.destroy.call(this),this.allColumnFilters.forEach(function(c){return o.disposeFilterWrapper(c,"filterDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",Gs([K("valueService")],i.prototype,"valueService",void 0),Gs([K("columnModel")],i.prototype,"columnModel",void 0),Gs([K("rowModel")],i.prototype,"rowModel",void 0),Gs([K("columnApi")],i.prototype,"columnApi",void 0),Gs([K("gridApi")],i.prototype,"gridApi",void 0),Gs([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Gs([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Gs([je],i.prototype,"init",null),Gs([An],i.prototype,"destroy",null),r=Gs([Xe("filterManager")],i)}(Ge),Vh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ks=function(f){function i(r,o){var c=f.call(this,r)||this;return c.ctrl=o,c}return Vh(i,f),i.prototype.getCtrl=function(){return this.ctrl},i}(At),Up=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fi=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},hC=function(f){function i(r){return f.call(this,i.TEMPLATE,r)||this}return Up(i,f),i.prototype.postConstruct=function(){var r=this,o=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(h,m){return r.addOrRemoveCssClass(h,m)},addOrRemoveBodyCssClass:function(h,m){return r.eFloatingFilterBody.classList.toggle(h,m)},addOrRemoveButtonWrapperCssClass:function(h,m){return r.eButtonWrapper.classList.toggle(h,m)},setCompDetails:function(h){return r.setCompDetails(h)},getFloatingFilterComp:function(){return r.compPromise},setWidth:function(h){return o.style.width=h},setMenuIcon:function(h){return r.eButtonShowMainFilter.appendChild(h)}},o,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(r){var o=this;this.compPromise=r.newAgStackInstance(),this.compPromise.then(function(c){return o.afterCompCreated(c)})},i.prototype.afterCompCreated=function(r){var o=this;!r||(this.addDestroyFunc(function(){return o.context.destroyBean(r)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Fi([Ne("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Fi([Ne("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Fi([Ne("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),Fi([je],i.prototype,"postConstruct",null),i}(ks),zp=function(){function f(){}return f.parse=function(i){if(!i)return null;if(!0===i)return{toolPanels:[f.DEFAULT_COLUMN_COMP,f.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof i)return f.parse([i]);if(Array.isArray(i)){var r=[];return i.forEach(function(c){var h=f.DEFAULT_BY_KEY[c];h?r.push(h):console.warn("AG Grid: the key "+c+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(f.DEFAULT_BY_KEY).join(","))}),0===r.length?null:{toolPanels:r,defaultToolPanel:r[0].id}}return{toolPanels:f.parseComponents(i.toolPanels),defaultToolPanel:i.defaultToolPanel,hiddenByDefault:i.hiddenByDefault,position:i.position}},f.parseComponents=function(i){var r=[];return i&&i.forEach(function(o){var c=null;if("string"==typeof o){var h=f.DEFAULT_BY_KEY[o];if(!h)return void console.warn("AG Grid: the key "+o+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(f.DEFAULT_BY_KEY).join(","));c=h}else c=o;r.push(c)}),r},f.DEFAULT_BY_KEY={columns:f.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:f.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},f}(),$p=function(){return $p=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},$p.apply(this,arguments)},Vs=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Kp=function(f,i){return function(r,o){i(r,o,f)}},yO=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},fC=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(yO(arguments[i]));return f};function Se(f){return!0===f||"true"===f}function gC(f){return"number"==typeof f?f:"string"==typeof f?parseInt(f,10):void 0}function vC(f,i){var r=parseInt(f,10);return As(r)&&r>0?r:i}var Ye=function(){function f(){this.propertyEventService=new la,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var i;return i=f,f.prototype.agWire=function(r,o){this.gridOptions.api=r,this.gridOptions.columnApi=o,this.checkForDeprecated(),this.checkForViolations()},f.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},f.prototype.init=function(){var r=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=zp.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var c=function(m){return"AG Grid: '"+m+"' is not supported on the Server-Side Row Model"};re(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupDefaultExpanded")),re(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupIncludeFooter")),re(this.gridOptions.groupDefaultExpanded)&&console.warn(c("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var h=function(m){r.gridOptions.icons&&r.gridOptions.icons[m]&&console.warn("gridOptions.icons."+m+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};h("radioButtonOff"),h("radioButtonOn"),h("checkboxChecked"),h("checkboxUnchecked"),h("checkboxIndeterminate"),this.getScrollbarWidth()},f.prototype.checkColumnDefProperties=function(){var r=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(o){var c=Object.getOwnPropertyNames(o),h=fC(En.ALL_PROPERTIES,En.FRAMEWORK_PROPERTIES);r.checkProperties(c,h,h,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},f.prototype.checkGridOptionsProperties=function(){var r=Object.getOwnPropertyNames(this.gridOptions),o=fC(ca.ALL_PROPERTIES,ca.FRAMEWORK_PROPERTIES,ms(ne).map(function(h){return Wt.getCallbackForEvent(h)})),c=fC(o,["api","columnApi"]);this.checkProperties(r,c,o,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},f.prototype.checkProperties=function(r,o,c,h,m){var w=Qi(r,o,c);Jt(w,function(A,x){console.warn("ag-grid: invalid "+h+" property '"+A+"' did you mean any of these: "+x.slice(0,8).join(", "))}),Object.keys(w).length>0&&console.warn("ag-grid: to see all the valid "+h+" properties please check: "+m)},f.prototype.mergeGridCommonParams=function(r){var o=this;return r?function(h){var m=$p($p({},h),{api:o.getApi(),columnApi:o.getColumnApi(),context:o.getContext()});return r(m)}:r},f.prototype.getDomDataKey=function(){return this.domDataKey},f.prototype.getDomData=function(r,o){var c=r[this.getDomDataKey()];return c?c[o]:void 0},f.prototype.setDomData=function(r,o,c){var h=this.getDomDataKey(),m=r[h];b(m)&&(r[h]=m={}),m[o]=c},f.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},f.prototype.isSuppressRowDeselection=function(){return Se(this.gridOptions.suppressRowDeselection)},f.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},f.prototype.isRowMultiSelectWithClick=function(){return Se(this.gridOptions.rowMultiSelectWithClick)},f.prototype.getContext=function(){return this.gridOptions.context},f.prototype.isPivotMode=function(){return Se(this.gridOptions.pivotMode)},f.prototype.isSuppressExpandablePivotGroups=function(){return Se(this.gridOptions.suppressExpandablePivotGroups)},f.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},f.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},f.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_INFINITE},f.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_VIEWPORT},f.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_SERVER_SIDE},f.prototype.isRowModelDefault=function(){return b(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_CLIENT_SIDE},f.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},f.prototype.isSuppressFocusAfterRefresh=function(){return Se(this.gridOptions.suppressFocusAfterRefresh)},f.prototype.isSuppressBrowserResizeObserver=function(){return Se(this.gridOptions.suppressBrowserResizeObserver)},f.prototype.isSuppressMaintainUnsortedOrder=function(){return Se(this.gridOptions.suppressMaintainUnsortedOrder)},f.prototype.isSuppressClearOnFillReduction=function(){return Se(this.gridOptions.suppressClearOnFillReduction)},f.prototype.isShowToolPanel=function(){return Se(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},f.prototype.getSideBar=function(){return this.gridOptions.sideBar},f.prototype.isSuppressTouch=function(){return Se(this.gridOptions.suppressTouch)},f.prototype.isMaintainColumnOrder=function(){return Se(this.gridOptions.maintainColumnOrder)},f.prototype.isSuppressRowTransform=function(){return Se(this.gridOptions.suppressRowTransform)},f.prototype.isSuppressColumnStateEvents=function(){return Se(this.gridOptions.suppressColumnStateEvents)},f.prototype.isAllowDragFromColumnsToolPanel=function(){return Se(this.gridOptions.allowDragFromColumnsToolPanel)},f.prototype.useAsyncEvents=function(){return!Se(this.gridOptions.suppressAsyncEvents)},f.prototype.isEnableCellChangeFlash=function(){return Se(this.gridOptions.enableCellChangeFlash)},f.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},f.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},f.prototype.isGroupSelectsChildren=function(){var r=Se(this.gridOptions.groupSelectsChildren);return r&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):r},f.prototype.isSuppressRowHoverHighlight=function(){return Se(this.gridOptions.suppressRowHoverHighlight)},f.prototype.isColumnHoverHighlight=function(){return Se(this.gridOptions.columnHoverHighlight)},f.prototype.isGroupSelectsFiltered=function(){return Se(this.gridOptions.groupSelectsFiltered)},f.prototype.isGroupHideOpenParents=function(){return Se(this.gridOptions.groupHideOpenParents)},f.prototype.isGroupMaintainOrder=function(){return Se(this.gridOptions.groupMaintainOrder)},f.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},f.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Se(this.gridOptions.groupHideOpenParents)},f.prototype.isGroupUseEntireRow=function(r){return!r&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},f.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},f.prototype.isGroupRemoveSingleChildren=function(){return Se(this.gridOptions.groupRemoveSingleChildren)},f.prototype.isGroupRemoveLowestSingleChildren=function(){return Se(this.gridOptions.groupRemoveLowestSingleChildren)},f.prototype.isGroupIncludeFooter=function(){return Se(this.gridOptions.groupIncludeFooter)},f.prototype.isGroupIncludeTotalFooter=function(){return Se(this.gridOptions.groupIncludeTotalFooter)},f.prototype.isGroupSuppressBlankHeader=function(){return Se(this.gridOptions.groupSuppressBlankHeader)},f.prototype.isSuppressRowClickSelection=function(){return Se(this.gridOptions.suppressRowClickSelection)},f.prototype.isSuppressCellFocus=function(){return Se(this.gridOptions.suppressCellFocus)},f.prototype.isSuppressMultiSort=function(){return Se(this.gridOptions.suppressMultiSort)},f.prototype.isAlwaysMultiSort=function(){return Se(this.gridOptions.alwaysMultiSort)},f.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},f.prototype.isPivotSuppressAutoColumn=function(){return Se(this.gridOptions.pivotSuppressAutoColumn)},f.prototype.isSuppressDragLeaveHidesColumns=function(){return Se(this.gridOptions.suppressDragLeaveHidesColumns)},f.prototype.isSuppressScrollOnNewData=function(){return Se(this.gridOptions.suppressScrollOnNewData)},f.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Se(this.gridOptions.suppressScrollWhenPopupsAreOpen)},f.prototype.isRowDragEntireRow=function(){return Se(this.gridOptions.rowDragEntireRow)},f.prototype.isSuppressRowDrag=function(){return Se(this.gridOptions.suppressRowDrag)},f.prototype.isRowDragManaged=function(){return Se(this.gridOptions.rowDragManaged)},f.prototype.isSuppressMoveWhenRowDragging=function(){return Se(this.gridOptions.suppressMoveWhenRowDragging)},f.prototype.isRowDragMultiRow=function(){return Se(this.gridOptions.rowDragMultiRow)},f.prototype.getDomLayout=function(){var r=this.gridOptions.domLayout||ge.DOM_LAYOUT_NORMAL;return-1===[ge.DOM_LAYOUT_PRINT,ge.DOM_LAYOUT_AUTO_HEIGHT,ge.DOM_LAYOUT_NORMAL].indexOf(r)?(zt(function(){return console.warn("AG Grid: "+r+" is not valid for DOM Layout, valid values are "+ge.DOM_LAYOUT_NORMAL+", "+ge.DOM_LAYOUT_AUTO_HEIGHT+" and "+ge.DOM_LAYOUT_PRINT)},"warn about dom layout values"),ge.DOM_LAYOUT_NORMAL):r},f.prototype.isSuppressHorizontalScroll=function(){return Se(this.gridOptions.suppressHorizontalScroll)},f.prototype.isSuppressMaxRenderedRowRestriction=function(){return Se(this.gridOptions.suppressMaxRenderedRowRestriction)},f.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Se(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},f.prototype.isAlwaysShowHorizontalScroll=function(){return Se(this.gridOptions.alwaysShowHorizontalScroll)},f.prototype.isAlwaysShowVerticalScroll=function(){return Se(this.gridOptions.alwaysShowVerticalScroll)},f.prototype.isDebounceVerticalScrollbar=function(){return Se(this.gridOptions.debounceVerticalScrollbar)},f.prototype.isSuppressLoadingOverlay=function(){return Se(this.gridOptions.suppressLoadingOverlay)},f.prototype.isSuppressNoRowsOverlay=function(){return Se(this.gridOptions.suppressNoRowsOverlay)},f.prototype.isSuppressFieldDotNotation=function(){return Se(this.gridOptions.suppressFieldDotNotation)},f.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},f.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},f.prototype.isFunctionsPassive=function(){return Se(this.gridOptions.functionsPassive)},f.prototype.isSuppressChangeDetection=function(){return Se(this.gridOptions.suppressChangeDetection)},f.prototype.isSuppressAnimationFrame=function(){return Se(this.gridOptions.suppressAnimationFrame)},f.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},f.prototype.isCacheQuickFilter=function(){return Se(this.gridOptions.cacheQuickFilter)},f.prototype.isUnSortIcon=function(){return Se(this.gridOptions.unSortIcon)},f.prototype.isSuppressMenuHide=function(){return Se(this.gridOptions.suppressMenuHide)},f.prototype.isEnterMovesDownAfterEdit=function(){return Se(this.gridOptions.enterMovesDownAfterEdit)},f.prototype.isEnterMovesDown=function(){return Se(this.gridOptions.enterMovesDown)},f.prototype.isUndoRedoCellEditing=function(){return Se(this.gridOptions.undoRedoCellEditing)},f.prototype.getUndoRedoCellEditingLimit=function(){return gC(this.gridOptions.undoRedoCellEditingLimit)},f.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},f.prototype.getRowClass=function(){return this.gridOptions.rowClass},f.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},f.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},f.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},f.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},f.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},f.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},f.prototype.getPopupParent=function(){return this.gridOptions.popupParent},f.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},f.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},f.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},f.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},f.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},f.prototype.getInitialGroupOrderComparator=function(){var r=this.gridOptions,o=r.initialGroupOrderComparator,c=r.defaultGroupOrderComparator;return o?this.mergeGridCommonParams(o):c?function(h){return c(h.nodeA,h.nodeB)}:void 0},f.prototype.getIsFullWidthCellFunc=function(){var r=this.gridOptions,o=r.isFullWidthRow,c=r.isFullWidthCell;return o?this.mergeGridCommonParams(o):c?function(h){return c(h.rowNode)}:void 0},f.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},f.prototype.isEmbedFullWidthRows=function(){return Se(this.gridOptions.embedFullWidthRows)||Se(this.gridOptions.deprecatedEmbedFullWidthRows)},f.prototype.isDetailRowAutoHeight=function(){return Se(this.gridOptions.detailRowAutoHeight)},f.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},f.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},f.prototype.getApi=function(){return this.gridOptions.api},f.prototype.getColumnApi=function(){return this.gridOptions.columnApi},f.prototype.isReadOnlyEdit=function(){return Se(this.gridOptions.readOnlyEdit)},f.prototype.isImmutableData=function(){return null!=this.gridOptions.getRowId||Se(this.gridOptions.immutableData)},f.prototype.isEnsureDomOrder=function(){return Se(this.gridOptions.ensureDomOrder)},f.prototype.isEnableCharts=function(){return!!Se(this.gridOptions.enableCharts)&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"enableCharts")},f.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},f.prototype.isSingleClickEdit=function(){return Se(this.gridOptions.singleClickEdit)},f.prototype.isSuppressClickEdit=function(){return Se(this.gridOptions.suppressClickEdit)},f.prototype.isStopEditingWhenCellsLoseFocus=function(){return Se(this.gridOptions.stopEditingWhenCellsLoseFocus)},f.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},f.prototype.getMaxConcurrentDatasourceRequests=function(){var r=gC(this.gridOptions.maxConcurrentDatasourceRequests);return null==r?2:r<=0?void 0:r},f.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},f.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},f.prototype.getPaginationPageSize=function(){return gC(this.gridOptions.paginationPageSize)},f.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Se(this.gridOptions.paginateChildRows)},f.prototype.getCacheBlockSize=function(){return vC(this.gridOptions.cacheBlockSize)},f.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},f.prototype.isPurgeClosedRowNodes=function(){return Se(this.gridOptions.purgeClosedRowNodes)},f.prototype.isSuppressPaginationPanel=function(){return Se(this.gridOptions.suppressPaginationPanel)},f.prototype.getRowData=function(){return this.gridOptions.rowData},f.prototype.isEnableRtl=function(){return Se(this.gridOptions.enableRtl)},f.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},f.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},f.prototype.isAngularCompileRows=function(){return Se(this.gridOptions.angularCompileRows)},f.prototype.isAngularCompileFilters=function(){return Se(this.gridOptions.angularCompileFilters)},f.prototype.isDebug=function(){return Se(this.gridOptions.debug)},f.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},f.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},f.prototype.getDatasource=function(){return this.gridOptions.datasource},f.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},f.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},f.prototype.isAccentedSort=function(){return Se(this.gridOptions.accentedSort)},f.prototype.isEnableBrowserTooltips=function(){return Se(this.gridOptions.enableBrowserTooltips)},f.prototype.isEnableCellExpressions=function(){return Se(this.gridOptions.enableCellExpressions)},f.prototype.isEnableGroupEdit=function(){return Se(this.gridOptions.enableGroupEdit)},f.prototype.isSuppressMiddleClickScrolls=function(){return Se(this.gridOptions.suppressMiddleClickScrolls)},f.prototype.isPreventDefaultOnContextMenu=function(){return Se(this.gridOptions.preventDefaultOnContextMenu)},f.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Se(this.gridOptions.suppressPreventDefaultOnMouseWheel)},f.prototype.isSuppressColumnVirtualisation=function(){return Se(this.gridOptions.suppressColumnVirtualisation)},f.prototype.isSuppressRowVirtualisation=function(){return Se(this.gridOptions.suppressRowVirtualisation)},f.prototype.isSuppressContextMenu=function(){return Se(this.gridOptions.suppressContextMenu)},f.prototype.isAllowContextMenuWithControlKey=function(){return Se(this.gridOptions.allowContextMenuWithControlKey)},f.prototype.isSuppressCopyRowsToClipboard=function(){return Se(this.gridOptions.suppressCopyRowsToClipboard)},f.prototype.isCopyHeadersToClipboard=function(){return Se(this.gridOptions.copyHeadersToClipboard)},f.prototype.isCopyGroupHeadersToClipboard=function(){return Se(this.gridOptions.copyGroupHeadersToClipboard)},f.prototype.isSuppressClipboardPaste=function(){return Se(this.gridOptions.suppressClipboardPaste)},f.prototype.isSuppressLastEmptyLineOnPaste=function(){return Se(this.gridOptions.suppressLastEmptyLineOnPaste)},f.prototype.isPagination=function(){return Se(this.gridOptions.pagination)},f.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Se(this.gridOptions.suppressEnterpriseResetOnNewColumns)},f.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},f.prototype.getAsyncTransactionWaitMillis=function(){return re(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ge.BATCH_WAIT_MILLIS},f.prototype.isSuppressMovableColumns=function(){return Se(this.gridOptions.suppressMovableColumns)},f.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Se(this.gridOptions.animateRows)},f.prototype.isSuppressColumnMoveAnimation=function(){return Se(this.gridOptions.suppressColumnMoveAnimation)},f.prototype.isSuppressAggFuncInHeader=function(){return Se(this.gridOptions.suppressAggFuncInHeader)},f.prototype.isSuppressAggAtRootLevel=function(){return Se(this.gridOptions.suppressAggAtRootLevel)},f.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||Se(this.gridOptions.suppressAggFilteredOnly)},f.prototype.isShowOpenedGroup=function(){return Se(this.gridOptions.showOpenedGroup)},f.prototype.isReactUi=function(){return Se(this.gridOptions.reactUi)},f.prototype.isSuppressReactUi=function(){return Se(this.gridOptions.suppressReactUi)},f.prototype.isEnableRangeSelection=function(){return wt.isRegistered(W.ModuleNames.RangeSelectionModule)&&Se(this.gridOptions.enableRangeSelection)},f.prototype.isEnableRangeHandle=function(){return Se(this.gridOptions.enableRangeHandle)},f.prototype.isEnableFillHandle=function(){return Se(this.gridOptions.enableFillHandle)},f.prototype.getFillHandleDirection=function(){var r=this.gridOptions.fillHandleDirection;return r?"x"!==r&&"y"!==r&&"xy"!==r?(zt(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):r:"xy"},f.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},f.prototype.isSuppressMultiRangeSelection=function(){return Se(this.gridOptions.suppressMultiRangeSelection)},f.prototype.isPaginationAutoPageSize=function(){return Se(this.gridOptions.paginationAutoPageSize)},f.prototype.isRememberGroupStateWhenNewData=function(){return Se(this.gridOptions.rememberGroupStateWhenNewData)},f.prototype.getIcons=function(){return this.gridOptions.icons},f.prototype.getGroupAggFiltering=function(){var r=this.gridOptions.groupAggFiltering;return"function"==typeof r?this.mergeGridCommonParams(r):Se(r)?function(){return!0}:void 0},f.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},f.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},f.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},f.prototype.isMasterDetail=function(){return!!Se(this.gridOptions.masterDetail)&&wt.assertRegistered(W.ModuleNames.MasterDetailModule,"masterDetail")},f.prototype.isKeepDetailRows=function(){return Se(this.gridOptions.keepDetailRows)},f.prototype.getKeepDetailRowsCount=function(){var r=this.gridOptions.keepDetailRowsCount;return re(r)&&r>0?this.gridOptions.keepDetailRowsCount:10},f.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},f.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},f.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},f.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},f.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},f.prototype.isSuppressAutoSize=function(){return Se(this.gridOptions.suppressAutoSize)},f.prototype.isEnableCellTextSelection=function(){return Se(this.gridOptions.enableCellTextSelection)},f.prototype.isSuppressParentsInRowNodes=function(){return Se(this.gridOptions.suppressParentsInRowNodes)},f.prototype.isSuppressClipboardApi=function(){return Se(this.gridOptions.suppressClipboardApi)},f.prototype.isFunctionsReadOnly=function(){return Se(this.gridOptions.functionsReadOnly)},f.prototype.isEnableCellTextSelect=function(){return Se(this.gridOptions.enableCellTextSelection)},f.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},f.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},f.prototype.getDefaultExportParams=function(r){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+yg(r)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===r&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===r&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},f.prototype.isSuppressCsvExport=function(){return Se(this.gridOptions.suppressCsvExport)},f.prototype.isAllowShowChangeAfterFilter=function(){return Se(this.gridOptions.allowShowChangeAfterFilter)},f.prototype.isSuppressExcelExport=function(){return Se(this.gridOptions.suppressExcelExport)},f.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Se(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},f.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},f.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},f.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},f.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},f.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},f.prototype.getGroupRowAggFunc=function(){var r=this.gridOptions,o=r.getGroupRowAgg,c=r.groupRowAggNodes;return o?this.mergeGridCommonParams(o):c?function(h){return c(h.nodes)}:void 0},f.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},f.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},f.prototype.getRowIdFunc=function(){var r=this.gridOptions,o=r.getRowId,c=r.getRowNodeId;return o?this.mergeGridCommonParams(o):c?function(h){return c(h.data)}:void 0},f.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},f.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},f.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},f.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},f.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},f.prototype.isTreeData=function(){return!!Se(this.gridOptions.treeData)&&wt.assertRegistered(W.ModuleNames.RowGroupingModule,"Tree Data")},f.prototype.isValueCache=function(){return Se(this.gridOptions.valueCache)},f.prototype.isValueCacheNeverExpires=function(){return Se(this.gridOptions.valueCacheNeverExpires)},f.prototype.isDeltaSort=function(){return Se(this.gridOptions.deltaSort)},f.prototype.isAggregateOnlyChangedColumns=function(){return Se(this.gridOptions.aggregateOnlyChangedColumns)},f.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},f.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},f.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},f.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},f.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},f.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},f.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},f.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},f.prototype.getViewportRowModelPageSize=function(){return vC(this.gridOptions.viewportRowModelPageSize,5)},f.prototype.getViewportRowModelBufferSize=function(){return function xS(f,i){return f>=0?f:i}(this.gridOptions.viewportRowModelBufferSize,5)},f.prototype.isServerSideSortingAlwaysResets=function(){return Se(this.gridOptions.serverSideSortingAlwaysResets)},f.prototype.isServerSideFilteringAlwaysResets=function(){return Se(this.gridOptions.serverSideFilteringAlwaysResets)},f.prototype.getPostSortFunc=function(){var r=this.gridOptions,o=r.postSortRows,c=r.postSort;return o?this.mergeGridCommonParams(o):c?function(h){return c(h.nodes)}:void 0},f.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},f.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},f.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},f.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},f.prototype.getClipboardDelimiter=function(){return re(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},f.prototype.setProperty=function(r,o,c){void 0===c&&(c=!1);var h=this.gridOptions,m=h[r];(c||m!==o)&&(h[r]=o,this.propertyEventService.dispatchEvent({type:r,currentValue:o,previousValue:m}))},f.prototype.addEventListener=function(r,o){this.propertyEventService.addEventListener(r,o)},f.prototype.removeEventListener=function(r,o){this.propertyEventService.removeEventListener(r,o)},f.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},f.prototype.getAutoSizePadding=function(){var r=this.gridOptions.autoSizePadding;return null!=r&&r>=0?r:20},f.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},f.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},f.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},f.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},f.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},f.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},f.prototype.doesExternalFilterPass=function(r){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(r)},f.prototype.getTooltipDelay=function(r){var o=this.gridOptions,m="show"===r?o.tooltipShowDelay:o.tooltipHideDelay,w=yg(r);return re(m)?(m<0&&zt(function(){return console.warn("ag-grid: tooltip"+w+"Delay should not be lower than 0")},"tooltip"+w+"DelayWarn"),Math.max(200,m)):null},f.prototype.isTooltipMouseTrack=function(){return Se(this.gridOptions.tooltipMouseTrack)},f.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Se(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},f.prototype.getDocument=function(){var r=null;return this.gridOptions.getDocument&&re(this.gridOptions.getDocument)?r=this.gridOptions.getDocument():this.eGridDiv&&(r=this.eGridDiv.ownerDocument),r&&re(r)?r:document},f.prototype.getMinColWidth=function(){var r=this.gridOptions.minColWidth;if(re(r)&&r>i.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var o=this.getFromTheme(null,"headerCellMinWidth");return re(o)?Math.max(o,i.MIN_COL_WIDTH):i.MIN_COL_WIDTH},f.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>i.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},f.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<i.MIN_COL_WIDTH?200:this.gridOptions.colWidth},f.prototype.getRowBuffer=function(){var r=this.gridOptions.rowBuffer;return"number"==typeof r?r<0&&(zt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=r=0):r=ge.ROW_BUFFER_SIZE,r},f.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},f.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var o="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:Nm();null!=o&&(this.scrollbarWidth=o,this.eventService.dispatchEvent({type:ne.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},f.prototype.checkForDeprecated=function(){var r=this.gridOptions;r.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),r.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),r.enableMultiRowDragging&&(r.rowDragMultiRow=!0,delete r.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var o=function(m,w,A){null!=r[m]&&(console.warn("AG Grid: since version "+A+", '"+m+"' is deprecated / renamed, please use the new property name '"+w+"' instead."),null==r[w]&&(r[w]=r[m]))};if(o("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),o("deltaRowDataMode","immutableData","23.1.x"),(r.immutableColumns||r.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),o("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),r.groupRowInnerRenderer||r.groupRowInnerRendererParams||r.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),r.groupRowRendererParams||(r.groupRowRendererParams={});var c=r.groupRowRendererParams;r.groupRowInnerRenderer&&(c.innerRenderer=r.groupRowInnerRenderer),r.groupRowInnerRendererParams&&(c.innerRendererParams=r.groupRowInnerRendererParams),r.groupRowInnerRendererFramework&&(c.innerRendererFramework=r.groupRowInnerRendererFramework)}r.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),r.detailCellRendererParams&&r.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),r.detailRowAutoHeight=!0),r.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),r.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),r.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),r.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),r.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),r.stopEditingWhenCellsLoseFocus=!0),r.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),r.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),r.groupDisplayType="multipleColumns"),r.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),r.groupDisplayType="groupRows"),r.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(r.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),r.groupDisplayType="custom"),r.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),r.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),r.defaultGroupOrderComparator=r.defaultGroupSortComparator),r.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),r.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),r.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),r.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),r.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),r.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),r.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),r.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),r.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),r.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),r.suppressCellFocus=r.suppressCellSelection),r.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),r.immutableData&&(r.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),r.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),r.clipboardDelimiter=r.clipboardDeliminator)},f.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},f.prototype.treeDataViolations=function(){this.isRowModelDefault()&&b(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(b(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),b(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},f.prototype.getLocaleTextFunc=function(){var r=this,o=this.gridOptions,c=o.localeText,h=o.getLocaleText;return h?function(w,A,x){var N={key:w,defaultValue:A,variableValues:x,api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()};return h(N)}:o.localeTextFunc||function(w,A,x){var N=c&&c[w];if(N&&x&&x.length)for(var k=0;!(k>=x.length)&&-1!==N.indexOf("${variable}");)N=N.replace("${variable}",x[k++]);return null!=N?N:A}},f.prototype.globalEventHandler=function(r,o){if(!this.destroyed){var c=Wt.getCallbackForEvent(r);"function"==typeof this.gridOptions[c]&&this.gridOptions[c](o)}},f.prototype.setRowHeightVariable=function(r){var c=r+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=c&&this.eGridDiv.style.setProperty("--ag-line-height",c)},f.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||b(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var r=this.gridOptions.rowHeight;return r&&this.isNumeric(r)?(this.setRowHeightVariable(r),r):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},f.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},f.prototype.getRowHeightForNode=function(r,o,c){if(void 0===o&&(o=!1),null==c&&(c=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(o)return{height:c,estimated:!0};var h={node:r,data:r.data},m=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(h);if(this.isNumeric(m))return 0===m&&zt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,m),estimated:!1}}return r.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:c,estimated:!1}},f.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},f.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},f.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},f.prototype.isNumeric=function(r){return!isNaN(r)&&"number"==typeof r&&isFinite(r)},f.prototype.getFromTheme=function(r,o){var c=this.environment.getTheme().theme;return c&&0===c.indexOf("ag-theme")?this.environment.getSassVariable(c,o):r},f.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},f.prototype.matchesGroupDisplayType=function(r,o){var c=["groupRows","multipleColumns","custom","singleColumn"];return c.indexOf(o)<0?(console.warn("AG Grid: '"+o+"' is not a valid groupDisplayType value - possible values are: '"+c.join("', '")+"'"),!1):o===r},f.prototype.matchesTreeDataDisplayType=function(r,o){var c=["auto","custom"];return c.indexOf(o)<0?(console.warn("AG Grid: '"+o+"' is not a valid treeDataDisplayType value - possible values are: '"+c.join("', '")+"'"),!1):o===r},f.MIN_COL_WIDTH=10,f.PROP_HEADER_HEIGHT="headerHeight",f.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",f.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",f.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",f.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",f.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",f.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",f.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",f.PROP_TAB_TO_NEXT_CELL="tabToNextCell",f.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",f.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",f.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",f.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",f.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",f.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",f.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",f.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",f.PROP_GET_ROW_CLASS="getRowClass",f.PROP_GET_ROW_STYLE="getRowStyle",f.PROP_GET_ROW_HEIGHT="getRowHeight",f.PROP_POPUP_PARENT="popupParent",f.PROP_DOM_LAYOUT="domLayout",f.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",f.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",f.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",f.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",f.PROP_GET_CHILD_COUNT="getChildCount",f.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",f.PROP_GET_ROW_NODE_ID="getRowNodeId",f.PROP_GET_ROW_ID="getRowId",f.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",f.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",f.PROP_IS_ROW_SELECTABLE="isRowSelectable",f.PROP_IS_ROW_MASTER="isRowMaster",f.PROP_POST_SORT="postSort",f.PROP_POST_SORT_ROWS="postSortRows",f.PROP_GET_DOCUMENT="getDocument",f.PROP_POST_PROCESS_POPUP="postProcessPopup",f.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",f.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",f.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",f.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",f.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",f.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",f.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",f.PROP_SEND_TO_CLIPBOARD="sendToClipboard",f.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",f.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",f.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",f.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",f.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",f.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",f.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",f.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Vs([K("gridOptions")],f.prototype,"gridOptions",void 0),Vs([K("eventService")],f.prototype,"eventService",void 0),Vs([K("environment")],f.prototype,"environment",void 0),Vs([K("eGridDiv")],f.prototype,"eGridDiv",void 0),Vs([Kp(0,Rr("gridApi")),Kp(1,Rr("columnApi"))],f.prototype,"agWire",null),Vs([An],f.prototype,"destroy",null),Vs([je],f.prototype,"init",null),i=Vs([Xe("gridOptionsWrapper")],f)}(),qp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tr=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h};!function(f){f.AUTO_HEIGHT="ag-layout-auto-height",f.NORMAL="ag-layout-normal",f.PRINT="ag-layout-print"}(W.LayoutCssClasses||(W.LayoutCssClasses={}));var gl=function(f){function i(r){var o=f.call(this)||this;return o.view=r,o}return qp(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var r=this.gridOptionsWrapper.getDomLayout(),o={autoHeight:r===ge.DOM_LAYOUT_AUTO_HEIGHT,normal:r===ge.DOM_LAYOUT_NORMAL,print:r===ge.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(o.autoHeight?W.LayoutCssClasses.AUTO_HEIGHT:o.print?W.LayoutCssClasses.PRINT:W.LayoutCssClasses.NORMAL,o)},tr([K("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),tr([je],i.prototype,"postConstruct",null),i}(Ge),Xg=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bs=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},mO=function(f){function i(r){var o=f.call(this)||this;return o.scrollLeft=-1,o.nextScrollTop=-1,o.scrollTop=-1,o.eBodyViewport=r,o.resetLastHorizontalScrollElementDebounced=_s(o.resetLastHorizontalScrollElement.bind(o),500),o}return Xg(i,f),i.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(o){r.centerRowContainerCtrl=o.centerRowContainerCtrl,r.onDisplayedColumnsWidthChanged(),r.addScrollListener()})},i.prototype.addScrollListener=function(){var r=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(r.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var o=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?_s(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(r){if(null!=this.centerRowContainerCtrl){void 0===r&&(r=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var c=this.enableRtl?r:-r,h=this.ctrlsService.getTopCenterRowContainerCtrl(),m=this.ctrlsService.getBottomCenterRowContainerCtrl(),w=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(c),m.setContainerTranslateX(c),h.setContainerTranslateX(c),Xl(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?w.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl)}},i.prototype.isControllingScroll=function(r){return this.lastHorizontalScrollElement?r===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=r,!0)},i.prototype.onFakeHorizontalScroll=function(){var r=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},i.prototype.onCenterViewportScroll=function(){var r=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},i.prototype.onBodyHorizontalScroll=function(r){var o=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",o.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(fn(r,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},i.prototype.onVerticalScroll=function(){var r=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",r,!0)||(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},i.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},i.prototype.doHorizontalScroll=function(r){var c=fn(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===r&&r===c||(this.scrollLeft=r,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(r){var o=this,c={type:ne.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:r,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(c),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var h=Object.assign({},c,{type:ne.EVENT_BODY_SCROLL_END});o.eventService.dispatchEvent(h)},100)},i.prototype.shouldBlockScrollUpdate=function(r,o,c){if(void 0===c&&(c=!1),c&&!wp())return!1;if("vertical"===r){var h=Yi(this.eBodyViewport);if(o<0||o+h>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===r){var w=this.centerRowContainerCtrl.getCenterWidth(),A=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&oi()){if(o>0)return!0}else if(o<0)return!0;if(Math.abs(o)+w>A)return!0}return!1},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},i.prototype.executeAnimationFrameScroll=function(){var r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r},i.prototype.setHorizontalScrollPosition=function(r){var c=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",r)&&(r=this.enableRtl&&oi()?r>0?0:c:Math.min(Math.max(r,0),c)),Xl(this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)},i.prototype.setVerticalScrollPosition=function(r){this.eBodyViewport.scrollTop=r},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(r){var o=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(o+r),this.centerRowContainerCtrl.getViewportElement().scrollLeft-o},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(r,o){void 0===o&&(o=null);for(var c=this.rowModel.getRowCount(),h="function"==typeof r,m=-1,w=0;w<c;w++){var A=this.rowModel.getRow(w);if(h){if(r(A)){m=w;break}}else if(r===A||r===A.data){m=w;break}}m>=0&&this.ensureIndexVisible(m,o)},i.prototype.ensureIndexVisible=function(r,o){if(this.gridOptionsWrapper.getDomLayout()!==ge.DOM_LAYOUT_PRINT){var c=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=c)return void console.warn("invalid row index for ensureIndexVisible: "+r);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(r);var A,w=this.paginationProxy.getRow(r);do{var x=w.rowTop,N=w.rowHeight,k=this.paginationProxy.getPixelOffset(),q=w.rowTop-k,te=q+w.rowHeight,le=this.getVScrollPosition(),de=this.heightScaler.getDivStretchOffset(),ye=le.top+de,xe=le.bottom+de,Oe=xe-ye,Ee=this.heightScaler.getScrollPositionForPixel(q),Ke=this.heightScaler.getScrollPositionForPixel(te-Oe),pt=Math.min((Ee+Ke)/2,q),ze=null;"top"===o?ze=Ee:"bottom"===o?ze=Ke:"middle"===o?ze=pt:ye>q?ze=Ee:xe<te&&(ze=Ke),null!==ze&&(this.eBodyViewport.scrollTop=ze,this.rowRenderer.redrawAfterScroll()),A=x!==w.rowTop||N!==w.rowHeight}while(A);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(r,o){void 0===o&&(o="auto");var c=this.columnModel.getGridColumn(r);if(c&&!c.isPinned()&&this.columnModel.isColumnDisplayed(c)){var h=this.getPositionedHorizontalScroll(c,o);null!==h&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(h),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(r,o){var c=this.isColumnOutsideViewport(r),h=c.columnBeforeStart,m=c.columnAfterEnd,w=this.centerRowContainerCtrl.getCenterWidth()<r.getActualWidth(),A=this.centerRowContainerCtrl.getCenterWidth(),x=this.enableRtl,N=(x?h:m)||w,k=x?m:h;"auto"!==o&&(N="start"===o,k="end"===o);var q="middle"===o;if(N||k||q){var te=this.getColumnBounds(r),le=te.colLeft,ye=te.colRight;return q?te.colMiddle-A/2:N?x?ye:le:x?le-A:ye-A}return null},i.prototype.isColumnOutsideViewport=function(r){var o=this.getViewportBounds(),c=o.start,h=o.end,m=this.getColumnBounds(r),w=m.colLeft,A=m.colRight,x=this.enableRtl;return{columnBeforeStart:x?c>A:h<A,columnAfterEnd:x?h<w:c>w}},i.prototype.getColumnBounds=function(r){var o=this.enableRtl,c=this.columnModel.getBodyContainerWidth(),h=r.getActualWidth(),m=r.getLeft(),w=o?-1:1,A=o?c-m:m;return{colLeft:A,colMiddle:A+h/2*w,colRight:A+h*w}},i.prototype.getViewportBounds=function(){var r=this.centerRowContainerCtrl.getCenterWidth(),o=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:o,end:r+o,width:r}},Bs([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Bs([K("animationFrameService")],i.prototype,"animationFrameService",void 0),Bs([K("columnApi")],i.prototype,"columnApi",void 0),Bs([K("gridApi")],i.prototype,"gridApi",void 0),Bs([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Bs([K("rowModel")],i.prototype,"rowModel",void 0),Bs([K("rowContainerHeightService")],i.prototype,"heightScaler",void 0),Bs([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Bs([K("columnModel")],i.prototype,"columnModel",void 0),Bs([je],i.prototype,"postConstruct",null),i}(Ge),vu=function(){function f(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return f.prototype.check=function(i,r){void 0===r&&(r=!1);var o=r||this.shouldSkipVerticalScroll();if(!o||!this.shouldSkipHorizontalScroll()){var c=this.scrollContainer.getBoundingClientRect(),h=this.scrollByTick;this.tickLeft=i.clientX<c.left+h,this.tickRight=i.clientX>c.right-h,this.tickUp=i.clientY<c.top+h&&!o,this.tickDown=i.clientY>c.bottom-h&&!o,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},f.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},f.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var r=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(r-i),this.tickDown&&this.setVerticalPosition(r+i)}if(this.scrollHorizontally){var o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-i),this.tickRight&&this.setHorizontalPosition(o+i)}this.onScrollCallback&&this.onScrollCallback()},f.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},f}(),Hh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zg=function(){return Zg=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Zg.apply(this,arguments)},ai=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},wc=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},MS=function(f){function i(r){var o=f.call(this)||this;return o.isMultiRowDrag=!1,o.isGridSorted=!1,o.isGridFiltered=!1,o.isRowGroupActive=!1,o.eContainer=r,o}return Hh(i,f),i.prototype.postConstruct=function(){var r=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var o=function(){r.onSortChanged(),r.onFilterChanged(),r.onRowGroupChanged()};this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,function(){o()}),o(),this.ctrlsService.whenReady(function(){var c=r.ctrlsService.getGridBodyCtrl();r.autoScrollService=new vu({scrollContainer:c.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return c.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(h){return c.getScrollFeature().setVerticalScrollPosition(h)},onScrollCallback:function(){r.onDragging(r.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var r=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!ti(r)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(r){return r===W.DragSourceType.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?jr.ICON_NOT_ALLOWED:jr.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(r){var o=this;if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];var c=this.gridOptionsWrapper.isRowDragMultiRow(),h=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(wc(arguments[i]));return f}(this.selectionService.getSelectedNodes()).sort(function(w,A){return o.getRowIndexNumber(w)-o.getRowIndexNumber(A)}),m=r.dragItem.rowNode;return c&&-1!==h.indexOf(m)?(this.isMultiRowDrag=!0,h):(this.isMultiRowDrag=!1,[m])},i.prototype.onDragEnter=function(r){r.dragItem.rowNodes=this.getRowNodes(r),this.dispatchGridEvent(ne.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(function(o){o.setDragging(!0)}),this.onEnterOrDragging(r)},i.prototype.onDragging=function(r){this.onEnterOrDragging(r)},i.prototype.isFromThisGrid=function(r){return r.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(r){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(r.dropZoneTarget)},i.prototype.onEnterOrDragging=function(r){this.dispatchGridEvent(ne.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;var o=this.mouseEventService.getNormalisedPosition(r).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(r,o),this.autoScrollService.check(r.event)},i.prototype.doManagedDrag=function(r,o){var c=this.isFromThisGrid(r),h=this.gridOptionsWrapper.isRowDragManaged(),m=r.dragItem.rowNodes;h&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!c?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(m[0],o):this.moveRows(m,o))},i.prototype.getRowIndexNumber=function(r){return parseInt(rr(r.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(r){var o=this,c=this.clientSideRowModel.getLastHighlightedRowNode(),h=c&&c.highlighted===W.RowHighlightPosition.Below,m=this.mouseEventService.getNormalisedPosition(r).y,w=r.dragItem.rowNodes,A=h?1:0;if(this.isFromThisGrid(r))w.forEach(function(k){k.rowTop<m&&(A-=1)}),this.moveRows(w,m,A);else{var x=this.gridOptionsWrapper.getRowIdFunc(),N=this.clientSideRowModel.getRowIndexAtPixel(m)+1;this.clientSideRowModel.getHighlightPosition(m)===W.RowHighlightPosition.Above&&N--,this.clientSideRowModel.updateRowData({add:w.map(function(k){return k.data}).filter(function(k){return!o.clientSideRowModel.getRowNode(x?x({data:k,level:0}):k.id)}),addIndex:N})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(r,o,c){void 0===c&&(c=0),this.clientSideRowModel.ensureRowsAtPixel(r,o,c)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(r){var o=this;if(r.getContainer())if(this.dragAndDropService.findExternalZone(r))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var c={getContainer:r.getContainer};r.fromGrid?(r.fromGrid=void 0,c=r):(r.onDragEnter&&(c.onDragEnter=function(h){r.onDragEnter(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_ENTER,h))}),r.onDragLeave&&(c.onDragLeave=function(h){r.onDragLeave(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_LEAVE,h))}),r.onDragging&&(c.onDragging=function(h){r.onDragging(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_MOVE,h))}),r.onDragStop&&(c.onDragStop=function(h){r.onDragStop(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_END,h))})),this.dragAndDropService.addDropTarget(Zg({isInterestedIn:function(h){return h===W.DragSourceType.RowDrag},getIconName:function(){return jr.ICON_MOVE},external:!0},c))}else zt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(r){var o=this,c=this.getContainer.bind(this),h=this.onDragEnter.bind(this),m=this.onDragLeave.bind(this),w=this.onDragging.bind(this),A=this.onDragStop.bind(this);return r?{getContainer:c,onDragEnter:r.onDragEnter?function(x){h(x),r.onDragEnter(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_ENTER,x))}:h,onDragLeave:r.onDragLeave?function(x){m(x),r.onDragLeave(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_LEAVE,x))}:m,onDragging:r.onDragging?function(x){w(x),r.onDragging(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_MOVE,x))}:w,onDragStop:r.onDragStop?function(x){A(x),r.onDragStop(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_END,x))}:A,fromGrid:!0}:{getContainer:c,onDragEnter:h,onDragLeave:m,onDragging:w,onDragStop:A,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(r,o){var w,A,c=this.mouseEventService.getNormalisedPosition(o).y,m=-1;switch(c>this.paginationProxy.getCurrentPageHeight()||(m=this.rowModel.getRowIndexAtPixel(c),w=this.rowModel.getRow(m)),o.vDirection){case W.VerticalDirection.Down:A="down";break;case W.VerticalDirection.Up:A="up";break;default:A=null}return{type:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:m,overNode:w,y:c,vDirection:A}},i.prototype.dispatchGridEvent=function(r,o){var c=this.draggingToRowDragEvent(r,o);this.eventService.dispatchEvent(c)},i.prototype.onDragLeave=function(r){this.dispatchGridEvent(ne.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(r)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(r){this.dispatchGridEvent(ne.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)},i.prototype.stopDragging=function(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(function(o){o.setDragging(!1)})},ai([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),ai([K("rowModel")],i.prototype,"rowModel",void 0),ai([K("paginationProxy")],i.prototype,"paginationProxy",void 0),ai([K("columnModel")],i.prototype,"columnModel",void 0),ai([K("focusService")],i.prototype,"focusService",void 0),ai([K("sortController")],i.prototype,"sortController",void 0),ai([K("filterManager")],i.prototype,"filterManager",void 0),ai([K("selectionService")],i.prototype,"selectionService",void 0),ai([K("mouseEventService")],i.prototype,"mouseEventService",void 0),ai([K("ctrlsService")],i.prototype,"ctrlsService",void 0),ai([$t("rangeService")],i.prototype,"rangeService",void 0),ai([K("columnApi")],i.prototype,"columnApi",void 0),ai([K("gridApi")],i.prototype,"gridApi",void 0),ai([je],i.prototype,"postConstruct",null),i}(Ge),FS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ii=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h};!function(f){f.ANIMATION_ON="ag-row-animation",f.ANIMATION_OFF="ag-row-no-animation"}(W.RowAnimationCssClasses||(W.RowAnimationCssClasses={}));var yC="ag-selectable",yu="ag-force-vertical-scroll",li="ag-column-moving",_c=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return FS(i,f),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(r,o,c,h,m){this.comp=r,this.eGridBody=o,this.eBodyViewport=c,this.eTop=h,this.eBottom=m,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new gl(this.comp)),this.bodyScrollFeature=this.createManagedBean(new mO(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([h,c,m]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},i.prototype.addFocusListeners=function(r){var o=this;r.forEach(function(c){o.addManagedListener(c,"focusin",function(){c.classList.add("ag-has-focus")}),o.addManagedListener(c,"focusout",function(h){c.contains(h.relatedTarget)||c.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(r){this.comp.setColumnMovingCss(r?li:null,r)},i.prototype.setCellTextSelection=function(r){void 0===r&&(r=!1),this.comp.setCellSelectableCss(r?yC:null,r)},i.prototype.onScrollVisibilityChanged=function(){var r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r)},i.prototype.onGridColumnsChanged=function(){var r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r?r.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(r){if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var r=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var o=function(h){var m=h.relatedTarget;if(null!==Ki(m)){var w=c.some(function(x){return x.contains(m)})&&r.mouseEventService.isElementInThisGrid(m);if(!w){var A=r.popupService;w=A.getActivePopups().some(function(x){return x.contains(m)})||A.isElementWithinCustomPopup(m)}w||r.rowRenderer.stopEditing()}else r.rowRenderer.stopEditing()},c=[this.eBodyViewport,this.eBottom,this.eTop];c.forEach(function(h){return r.addManagedListener(h,"focusout",o)})}},i.prototype.updateRowCount=function(){var r=this.headerNavigationService.getHeaderRowCount(),o=this.paginationProxy.getType(),c=-1;o===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(c=0,this.paginationProxy.forEachNode(function(m){m.group||c++})),this.comp.setRowCount(-1===c?-1:r+c)},i.prototype.registerBodyViewportResizeListener=function(r){this.comp.registerBodyViewportResizeListener(r)},i.prototype.setVerticalScrollPaddingVisible=function(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var r=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(r?yu:null,r),r||Ze(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var r=this,o=function(){var c=r.gridOptionsWrapper.isAnimateRows()&&!r.rowContainerHeightService.isStretching();r.comp.setRowAnimationCssOnBodyViewport(c?W.RowAnimationCssClasses.ANIMATION_ON:W.RowAnimationCssClasses.ANIMATION_OFF,c)};o(),this.addManagedListener(this.eventService,ne.EVENT_HEIGHT_SCALE_CHANGED,o)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var r=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(c){r.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&c.preventDefault();var h=c.target;(h===r.eBodyViewport||h===r.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&r.contextMenuFactory&&r.contextMenuFactory.onContextMenu(c,null,null,null,null,r.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},i.prototype.onWheel=function(r){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&r.preventDefault()},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(r){var o=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(o+r),this.eBodyViewport.scrollTop-o},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new MS(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.setFloatingHeights=function(){var r=this.pinnedRowModel,o=r.getPinnedTopTotalHeight();o&&(o+=1);var c=r.getPinnedBottomTotalHeight();c&&(c+=1),this.comp.setTopHeight(o),this.comp.setBottomHeight(c),this.comp.setTopDisplay(o?"inherit":"none"),this.comp.setBottomDisplay(c?"inherit":"none")},i.prototype.sizeColumnsToFit=function(r){var o=this,h=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,w=Be(this.eBodyViewport)-h;w>0?this.columnModel.sizeColumnsToFit(w,"sizeColumnsToFit"):void 0===r?window.setTimeout(function(){o.sizeColumnsToFit(100)},0):100===r?window.setTimeout(function(){o.sizeColumnsToFit(500)},100):500===r?window.setTimeout(function(){o.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(r){this.eBodyViewport.addEventListener("scroll",r)},i.prototype.removeScrollEventListener=function(r){this.eBodyViewport.removeEventListener("scroll",r)},Ii([K("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Ii([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ii([K("columnModel")],i.prototype,"columnModel",void 0),Ii([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Ii([$t("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ii([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Ii([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Ii([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ii([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ii([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Ii([K("popupService")],i.prototype,"popupService",void 0),Ii([K("mouseEventService")],i.prototype,"mouseEventService",void 0),i}(Ge);(function(f){f[f.FILL=0]="FILL",f[f.RANGE=1]="RANGE"})(W.SelectionHandleType||(W.SelectionHandleType={})),function(f){f[f.VALUE=0]="VALUE",f[f.DIMENSION=1]="DIMENSION"}(W.CellRangeType||(W.CellRangeType={}));var mu="ag-cell-range-selected",NS=function(){function f(i,r){this.beans=i,this.cellCtrl=r}return f.prototype.setComp=function(i,r){this.cellComp=i,this.eGui=r,this.onRangeSelectionChanged()},f.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(mu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(mu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(mu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(mu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(mu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),ru(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},f.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),r=this.isSingleCell(),c=!r&&i.right,h=!r&&i.bottom,m=!r&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!r&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",c),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",h),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",m)},f.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},f.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var r=i.getCellRanges();return r.length>0&&r.every(function(o){return Ei([W.CellRangeType.DIMENSION,W.CellRangeType.VALUE],o.type)})},f.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},f.prototype.getRangeBorders=function(){var k,q,i=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,c=!1,h=!1,m=!1,w=this.cellCtrl.getCellPosition().column,A=this.beans,x=A.rangeService,N=A.columnModel;r?(k=N.getDisplayedColAfter(w),q=N.getDisplayedColBefore(w)):(k=N.getDisplayedColBefore(w),q=N.getDisplayedColAfter(w));var te=x.getCellRanges().filter(function(Oe){return x.isCellInSpecificRange(i.cellCtrl.getCellPosition(),Oe)});k||(m=!0),q||(c=!0);for(var le=0;le<te.length&&!(o&&c&&h&&m);le++){var de=te[le],ye=x.getRangeStartRow(de),xe=x.getRangeEndRow(de);!o&&this.beans.rowPositionUtils.sameRow(ye,this.cellCtrl.getCellPosition())&&(o=!0),!h&&this.beans.rowPositionUtils.sameRow(xe,this.cellCtrl.getCellPosition())&&(h=!0),!m&&k&&de.columns.indexOf(k)<0&&(m=!0),!c&&q&&de.columns.indexOf(q)<0&&(c=!0)}return{top:o,right:c,bottom:h,left:m}},f.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},f.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,r=i.gridOptionsWrapper,o=i.rangeService,c=o.getCellRanges(),h=c.length;if(this.rangeCount<1||h<1)return!1;var m=rr(c),w=this.cellCtrl.getCellPosition(),A=r.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),x=r.isEnableRangeHandle(),N=1===h&&!this.cellCtrl.isEditing()&&(A||x);if(this.hasChartRange){var q=c[0].type===W.CellRangeType.DIMENSION&&o.isCellInSpecificRange(w,c[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",q),N=m.type===W.CellRangeType.VALUE}return N&&null!=m.endRow&&o.isContiguousRange(m)&&o.isBottomRightCell(m,w)},f.prototype.addSelectionHandle=function(){var i=this.beans,r=i.gridOptionsWrapper,c=rr(i.rangeService.getCellRanges()).type,m=r.isEnableFillHandle()&&b(c)?W.SelectionHandleType.FILL:W.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==m&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(m)),this.selectionHandle.refresh(this.cellCtrl)},f.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},f}(),LS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bO=function(f){function i(r,o){var c=f.call(this)||this;return c.cellCtrl=r,c.beans=o,c.column=r.getColumn(),c.rowNode=r.getRowNode(),c.setupColSpan(),c.setupRowSpan(),c}return LS(i,f),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(r){this.eGui=r,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var r=this.getColSpanningList();Xa(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var r=this.getCellWidth();this.eGui.style.width=r+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(r,o){return r+o.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var r=this.column.getColSpan(this.rowNode),o=[];if(1===r)o.push(this.column);else for(var c=this.column,h=this.column.getPinned(),m=0;c&&m<r&&(o.push(c),(c=this.beans.columnModel.getDisplayedColAfter(c))&&!b(c)&&h===c.getPinned());m++);return o},i.prototype.onLeftChanged=function(){if(this.eGui){var r=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=r+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?rr(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(r){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===ge.PINNED_LEFT)return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===ge.PINNED_RIGHT?o+this.beans.columnModel.getBodyContainerWidth()+(r||0):o+(r||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var r=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=r*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){f.prototype.destroy.call(this)},i}(Ge),GS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jh=function(f){function i(r,o){var c=f.call(this)||this;return c.staticClasses=[],c.cellCtrl=r,c.beans=o,c.column=r.getColumn(),c.rowNode=r.getRowNode(),c}return GS(i,f),i.prototype.setComp=function(r){this.cellComp=r,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var r=this,o=this.column.getColDef(),c={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(o.cellClassRules,c,function(h){return r.cellComp.addOrRemoveCssClass(h,!0)},function(h){return r.cellComp.addOrRemoveCssClass(h,!1)})},i.prototype.applyUserStyles=function(){var r=this.column.getColDef();if(r.cellStyle){var o;if("function"==typeof r.cellStyle){var c={column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};o=(0,r.cellStyle)(c)}else o=r.cellStyle;this.cellComp.setUserStyles(o)}},i.prototype.applyClassesFromColDef=function(){var r=this,o=this.column.getColDef(),c={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(h){return r.cellComp.addOrRemoveCssClass(h,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(o,c),this.staticClasses.length&&this.staticClasses.forEach(function(h){return r.cellComp.addOrRemoveCssClass(h,!0)})},i.prototype.destroy=function(){f.prototype.destroy.call(this)},i}(Ge),wC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Po=function(f){function i(r,o){var c=f.call(this)||this;return c.ctrl=r,c.beans=o,c}return wC(i,f),i.prototype.setComp=function(r){this.comp=r,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var r=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new Dp({getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var r=this.ctrl,o=r.getColumn?r.getColumn():void 0,c=r.getColDef?r.getColDef():void 0,h=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:c,column:o,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:h,data:h?h.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){f.prototype.destroy.call(this)},i}(Ge),Et=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Uh=function(){function f(){}return f.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},Et([K("resizeObserverService")],f.prototype,"resizeObserverService",void 0),Et([K("paginationProxy")],f.prototype,"paginationProxy",void 0),Et([K("context")],f.prototype,"context",void 0),Et([K("columnApi")],f.prototype,"columnApi",void 0),Et([K("gridApi")],f.prototype,"gridApi",void 0),Et([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),Et([K("expressionService")],f.prototype,"expressionService",void 0),Et([K("rowRenderer")],f.prototype,"rowRenderer",void 0),Et([K("templateService")],f.prototype,"templateService",void 0),Et([K("valueService")],f.prototype,"valueService",void 0),Et([K("eventService")],f.prototype,"eventService",void 0),Et([K("columnModel")],f.prototype,"columnModel",void 0),Et([K("headerNavigationService")],f.prototype,"headerNavigationService",void 0),Et([K("navigationService")],f.prototype,"navigationService",void 0),Et([K("columnAnimationService")],f.prototype,"columnAnimationService",void 0),Et([$t("rangeService")],f.prototype,"rangeService",void 0),Et([K("focusService")],f.prototype,"focusService",void 0),Et([$t("contextMenuFactory")],f.prototype,"contextMenuFactory",void 0),Et([K("popupService")],f.prototype,"popupService",void 0),Et([K("valueFormatterService")],f.prototype,"valueFormatterService",void 0),Et([K("stylingService")],f.prototype,"stylingService",void 0),Et([K("columnHoverService")],f.prototype,"columnHoverService",void 0),Et([K("userComponentFactory")],f.prototype,"userComponentFactory",void 0),Et([K("userComponentRegistry")],f.prototype,"userComponentRegistry",void 0),Et([K("animationFrameService")],f.prototype,"animationFrameService",void 0),Et([K("dragAndDropService")],f.prototype,"dragAndDropService",void 0),Et([K("sortController")],f.prototype,"sortController",void 0),Et([K("filterManager")],f.prototype,"filterManager",void 0),Et([K("rowContainerHeightService")],f.prototype,"rowContainerHeightService",void 0),Et([K("frameworkOverrides")],f.prototype,"frameworkOverrides",void 0),Et([K("cellPositionUtils")],f.prototype,"cellPositionUtils",void 0),Et([K("rowPositionUtils")],f.prototype,"rowPositionUtils",void 0),Et([K("selectionService")],f.prototype,"selectionService",void 0),Et([$t("selectionHandleFactory")],f.prototype,"selectionHandleFactory",void 0),Et([K("rowCssClassCalculator")],f.prototype,"rowCssClassCalculator",void 0),Et([K("rowModel")],f.prototype,"rowModel",void 0),Et([K("ctrlsService")],f.prototype,"ctrlsService",void 0),Et([K("ctrlsFactory")],f.prototype,"ctrlsFactory",void 0),Et([K("agStackComponentsRegistry")],f.prototype,"agStackComponentsRegistry",void 0),Et([K("valueCache")],f.prototype,"valueCache",void 0),Et([K("rowNodeEventThrottle")],f.prototype,"rowNodeEventThrottle",void 0),Et([je],f.prototype,"postConstruct",null),Et([Xe("beans")],f)}(),_C=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),SC=function(f){function i(r,o,c){var h=f.call(this)||this;return h.cellCtrl=r,h.beans=o,h.column=c,h}return _C(i,f),i.prototype.onMouseEvent=function(r,o){if(!bs(o))switch(r){case"click":this.onCellClicked(o);break;case"mousedown":case"touchstart":this.onMouseDown(o);break;case"dblclick":this.onCellDoubleClicked(o);break;case"mouseout":this.onMouseOut(o);break;case"mouseover":this.onMouseOver(o)}},i.prototype.onCellClicked=function(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();var o=this.beans,c=o.eventService,h=o.gridOptionsWrapper,m=this.cellCtrl.createEvent(r,ne.EVENT_CELL_CLICKED);c.dispatchEvent(m);var w=this.column.getColDef();w.onCellClicked&&window.setTimeout(function(){return w.onCellClicked(m)},0),(h.isSingleClickEdit()||w.singleClickEdit)&&!h.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!wp()||gp("dblclick"))return!1;var r=(new Date).getTime(),o=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,o},i.prototype.onCellDoubleClicked=function(r){var o=this.column.getColDef(),c=this.cellCtrl.createEvent(r,ne.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(c),"function"==typeof o.onCellDoubleClicked&&window.setTimeout(function(){return o.onCellDoubleClicked(c)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,r)},i.prototype.onMouseDown=function(r){var o=r.ctrlKey,c=r.metaKey,h=r.shiftKey,m=r.target,w=this.beans,A=w.eventService,x=w.rangeService;if(!this.isRightClickInExistingRange(r)){var N=x&&0!=x.getCellRanges().length;if(!h||!N){var k=mh()&&!this.cellCtrl.isEditing()&&!wh(m);this.cellCtrl.focusCell(k)}if(h&&N&&r.preventDefault(),!this.containsWidget(m)){if(x){var q=this.cellCtrl.getCellPosition();h?x.extendLatestRangeToCell(q):x.setRangeToCell(q,o||c)}A.dispatchEvent(this.cellCtrl.createEvent(r,ne.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(r){var o=this.beans.rangeService;return!(!o||!o.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==r.button)},i.prototype.containsWidget=function(r){return hn(r,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(r){if(!this.mouseStayingInsideCell(r)){var o=this.cellCtrl.createEvent(r,ne.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(r){if(!this.mouseStayingInsideCell(r)){var o=this.cellCtrl.createEvent(r,ne.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(r){if(!r.target||!r.relatedTarget)return!1;var o=this.cellCtrl.getGui(),c=o.contains(r.target),h=o.contains(r.relatedTarget);return c&&h},i.prototype.destroy=function(){},i}(Uh),EO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),OO=function(f){function i(r,o,c,h,m){var w=f.call(this)||this;return w.cellCtrl=r,w.beans=o,w.rowNode=h,w.rowCtrl=m,w}return EO(i,f),i.prototype.setComp=function(r){this.eGui=r},i.prototype.onKeyDown=function(r){var o=r.key;switch(o){case Ie.ENTER:this.onEnterKeyDown(r);break;case Ie.F2:this.onF2KeyDown(r);break;case Ie.ESCAPE:this.onEscapeKeyDown(r);break;case Ie.TAB:this.onTabKeyDown(r);break;case Ie.BACKSPACE:case Ie.DELETE:this.onBackspaceOrDeleteKeyPressed(o,r);break;case Ie.DOWN:case Ie.UP:case Ie.RIGHT:case Ie.LEFT:this.onNavigationKeyPressed(r,o)}},i.prototype.onNavigationKeyPressed=function(r,o){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(o):this.beans.navigationService.navigateToNextCell(r,o,this.cellCtrl.getCellPosition(),!0),r.preventDefault())},i.prototype.onShiftRangeSelect=function(r){if(this.beans.rangeService){var o=this.beans.rangeService.extendLatestRangeInDirection(r);o&&this.beans.navigationService.ensureCellVisible(o)}},i.prototype.onTabKeyDown=function(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)},i.prototype.onBackspaceOrDeleteKeyPressed=function(r,o){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(r,void 0,o)},i.prototype.onEnterKeyDown=function(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Ie.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Ie.ENTER,void 0,r),this.cellCtrl.isEditing()&&r.preventDefault())},i.prototype.onF2KeyDown=function(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Ie.F2,void 0,r)},i.prototype.onEscapeKeyDown=function(r){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(r){if(r.target===this.eGui&&!this.cellCtrl.isEditing()){var h=String.fromCharCode(r.charCode);" "===h?this.onSpaceKeyPressed(r):Ym(r)&&(this.cellCtrl.startRowOrCellEdit(null,h,r),r.preventDefault())}},i.prototype.onSpaceKeyPressed=function(r){var o=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&o.isRowSelection()){var c=this.rowNode.isSelected(),h=!c;if(h||!o.isSuppressRowDeselection()){var m=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),w=this.rowNode.setSelectedParams({newValue:h,rangeSelect:r.shiftKey,groupSelectsFiltered:m});void 0===c&&0===w&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:m})}}r.preventDefault()},i.prototype.destroy=function(){},i}(Ge),wR=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jg=function(f){function i(r,o,c,h){var m=f.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return m.rowNode=r,m.column=o,m.beans=c,m.eCell=h,m}return wR(i,f),i.prototype.postConstruct=function(){this.getGui().appendChild(kr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(o){o.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(r){var o=this,c=this.column.getColDef().dndSourceOnRowDrag;r.dataTransfer.setDragImage(this.eCell,0,0),c?c({rowNode:this.rowNode,dragEvent:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var w=JSON.stringify(o.rowNode.data);r.dataTransfer.setData("application/json",w),r.dataTransfer.setData("text/plain",w)}catch(A){}}()},i.prototype.checkVisibility=function(){var r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(At),vl=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ev=function(){return ev=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},ev.apply(this,arguments)},tv="ag-cell-not-inline-editing",sn=0,yl=function(f){function i(r,o,c,h){var m=f.call(this)||this;return m.suppressRefreshCell=!1,m.column=r,m.rowNode=o,m.beans=c,m.rowCtrl=h,m.instanceId=r.getId()+"-"+sn++,m.createCellPosition(),m.addFeatures(),m}return vl(i,f),i.prototype.addFeatures=function(){var r=this;this.cellPositionFeature=new bO(this,this.beans),this.addDestroyFunc(function(){return r.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new jh(this,this.beans),this.addDestroyFunc(function(){return r.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new SC(this,this.beans,this.column),this.addDestroyFunc(function(){return r.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new OO(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return r.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new NS(this.beans,this),this.addDestroyFunc(function(){return r.cellRangeFeature.destroy()})),this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var r=this;this.tooltipFeature=new Po({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getRowIndex:function(){return r.cellPosition.rowIndex},getRowNode:function(){return r.rowNode},getGui:function(){return r.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var h=r.column.getColDef(),m=r.rowNode.data;if(h.tooltipField&&re(m))return qa(m,h.tooltipField,r.column.isTooltipFieldContainsDots());var w=h.tooltipValueGetter;return w?w({location:"cell",api:r.beans.gridOptionsWrapper.getApi(),columnApi:r.beans.gridOptionsWrapper.getColumnApi(),context:r.beans.gridOptionsWrapper.getContext(),colDef:r.column.getColDef(),column:r.column,rowIndex:r.cellPosition.rowIndex,node:r.rowNode,data:r.rowNode.data,value:r.value,valueFormatted:r.valueFormatted}):null},getValueFormatted:function(){return r.valueFormatted}},this.beans),this.addDestroyFunc(function(){return r.tooltipFeature.destroy()})},i.prototype.setComp=function(r,o,c,h,m){this.cellComp=r,this.gow=this.beans.gridOptionsWrapper,this.eGui=o,this.eCellWrapper=c,this.printLayout=h,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var w=Ht(this.column.getId());this.cellComp.setColId(w),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(o),this.cellCustomStyleFeature.setComp(r),this.tooltipFeature.setComp(r),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(r,o),m&&this.isCellEditable()?this.startEditing():this.showValue()},i.prototype.setupAutoHeight=function(){var r=this;if(this.column.isAutoHeight()){var o=this.eCellWrapper,c=o.parentElement,h=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,m=function(x){if(!r.editing&&r.isAlive()){var N=r.beans.gridOptionsWrapper.getDocument();if((!N||!N.contains(o))&&x<5)return void r.beans.frameworkOverrides.setTimeout(function(){return m(x+1)},0);var k=Qu(c),ye=Math.max(o.offsetHeight+k.paddingTop+k.paddingBottom,h);r.rowNode.setRowAutoHeight(ye,r.column)}},w=function(){return m(0)};w();var A=this.beans.resizeObserverService.observeResize(o,w);this.addDestroyFunc(function(){A(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(r){void 0===r&&(r=!1);var o=null!=this.valueFormatted?this.valueFormatted:this.value,c=this.createCellRendererParams(),h=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),c);this.cellComp.setRenderDetails(h,o,r),this.refreshHandle()},i.prototype.setupControlComps=function(){var r=this.column.getColDef();this.includeSelection=this.isIncludeControl(r.checkboxSelection),this.includeRowDrag=this.isIncludeControl(r.rowDrag),this.includeDndSource=this.isIncludeControl(r.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(r){return!(null!=this.rowNode.rowPinned||"function"!=typeof r&&!0!==r)},i.prototype.setupAriaExpanded=function(){var r=this,o=this.column.getColDef();if(this.rowNode.isExpandable()){var c=o.showRowGroup,h=this.rowNode.rowGroupColumn,m=!0===c,w=h&&h.getColId()===c;if(m||w){var x=function(){Pi(r.eGui,!!r.rowNode.expanded)};this.addManagedListener(this.rowNode,bt.EVENT_EXPANDED_CHANGED,x),x()}}},i.prototype.refreshShouldDestroy=function(){var r=this.column.getColDef(),o=this.includeSelection!=this.isIncludeControl(r.checkboxSelection),c=this.includeRowDrag!=this.isIncludeControl(r.rowDrag),h=this.includeDndSource!=this.isIncludeControl(r.dndSource);return o||c||h},i.prototype.startEditing=function(r,o,c,h){var m,w;if(void 0===r&&(r=null),void 0===o&&(o=null),void 0===c&&(c=!1),void 0===h&&(h=null),this.isCellEditable()&&!this.editing){var A=this.createCellEditorParams(r,o,c),x=this.column.getColDef(),N=this.beans.userComponentFactory.getCellEditorDetails(x,A),k=null!=(null===(m=N)||void 0===m?void 0:m.popupFromSelector)?N.popupFromSelector:!!x.cellEditorPopup,q=null!=(null===(w=N)||void 0===w?void 0:w.popupPositionFromSelector)?N.popupPositionFromSelector:x.cellEditorPopupPosition;this.setEditing(!0,k),this.cellComp.setEditDetails(N,k,q);var te=this.createEvent(h,ne.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(te)}},i.prototype.setEditing=function(r,o){void 0===o&&(o=!1),this.editing!==r&&(this.editing=r,this.editingInPopup=o,this.setInlineEditingClass())},i.prototype.stopRowOrCellEdit=function(r){void 0===r&&(r=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(r):this.stopEditing(r)},i.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(r){var o={newValueExists:!1};if(r)return o;var c=this.cellComp.getCellEditor();return c?c.isCancelAfterEnd&&c.isCancelAfterEnd()?o:{newValue:c.getValue(),newValueExists:!0}:o},i.prototype.saveNewValue=function(r,o){if(o===r)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(r,o),!1;this.suppressRefreshCell=!0;var c=this.rowNode.setDataValue(this.column,o);return this.suppressRefreshCell=!1,c},i.prototype.dispatchEventForSaveValueReadOnly=function(r,o){var c=this.rowNode,h={type:ne.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:c.rowIndex,rowPinned:c.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:c.data,node:c,oldValue:r,newValue:o,value:o,source:void 0};this.beans.eventService.dispatchEvent(h)},i.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),!this.editing)return!1;var o=this.takeValueFromCellEditor(r),c=o.newValue,h=o.newValueExists,m=this.getValueFromValueService(),w=!1;return h&&(w=this.saveNewValue(m,c)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(m,c),w},i.prototype.dispatchEditingStoppedEvent=function(r,o){var c=ev(ev({},this.createEvent(null,ne.EVENT_CELL_EDITING_STOPPED)),{oldValue:r,newValue:o});this.beans.eventService.dispatchEvent(c)},i.prototype.setInlineEditingClass=function(){if(this.isAlive()){var r=this.editing&&!this.editingInPopup,o=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",r),this.cellComp.addOrRemoveCssClass(tv,!r),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",o),this.rowCtrl.setInlineEditingCss(this.editing)}},i.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},i.prototype.createCellEditorParams=function(r,o,c){return{value:this.getValueFromValueService(),key:r,eventKey:r,charPress:o,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:c,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},i.prototype.createCellRendererParams=function(){var r=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(h){return r.beans.valueService.setValue(r.rowNode,r.column,h)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(h,m,w,A){return r.registerRowDragger(h,m,A)},addRowCompListener:function(h,m){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),r.rowCtrl.addEventListener(h,m)}}},i.prototype.parseValue=function(r){var o=this.column.getColDef(),c={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:r,colDef:o,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},h=o.valueParser;return re(h)?this.beans.expressionService.evaluate(h,c):r},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusOut&&r.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusIn?r.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(r){this.cellComp&&r.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(r){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var o=this.column.getColDef(),c=null!=r&&!!r.newData,h=null!=r&&!!r.suppressFlash||!!o.suppressCellFlash,w=r&&r.forceRefresh||null==o.field&&null==o.valueGetter&&null==o.showRowGroup||c,A=this.updateAndFormatValue();if(w||A){this.showValue(c);var N=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!h&&!N&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||o.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(r){void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),r||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Ie.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(r){this.animateCell("data-changed",r&&r.flashDelay,r&&r.fadeDelay)},i.prototype.animateCell=function(r,o,c){var h=this,m="ag-cell-"+r,w="ag-cell-"+r+"-animation",A=this.beans.gridOptionsWrapper;o||(o=A.getCellFlashDelay()),re(c)||(c=A.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(m,!0),this.cellComp.addOrRemoveCssClass(w,!1),window.setTimeout(function(){h.cellComp.addOrRemoveCssClass(m,!1),h.cellComp.addOrRemoveCssClass(w,!0),h.eGui.style.transition="background-color "+c+"ms",window.setTimeout(function(){h.cellComp.addOrRemoveCssClass(w,!1),h.eGui.style.transition=""},c)},o)},i.prototype.onFlashCells=function(r){if(this.cellComp){var o=this.beans.cellPositionUtils.createId(this.getCellPosition());r.cells[o]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(r){var o=this.callValueFormatter(r);return null!=o?o:r},i.prototype.callValueFormatter=function(r){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,r)},i.prototype.updateAndFormatValue=function(r){void 0===r&&(r=!1);var o=this.value,c=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!r||!this.valuesAreEqual(o,this.value)||this.valueFormatted!=c},i.prototype.valuesAreEqual=function(r,o){var c=this.column.getColDef();return c.equals?c.equals(r,o):r===o},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValueFromValueService=function(){var r=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),o=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!r,c=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),h=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,o&&c&&!h)},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var r=this,o=this.getGui();this.beans.gridOptionsWrapper.setDomData(o,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return r.beans.gridOptionsWrapper.setDomData(o,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(r,o){return{type:o,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:r,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyPress=function(r){this.cellKeyboardListenerFeature.onKeyPress(r)},i.prototype.onKeyDown=function(r){this.cellKeyboardListenerFeature.onKeyDown(r)},i.prototype.onMouseEvent=function(r,o){this.cellMouseListenerFeature.onMouseEvent(r,o)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},i.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var r=this.beans.columnModel.getAriaColumnIndex(this.column);Wm(this.getGui(),r)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(r){this.eGui.appendChild(r)},i.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(r,o,c){void 0===c&&(c=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(r,o,this):this.startEditing(r,o,!0,c)},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(r){void 0===r&&(r=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,r)},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var r=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",r)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var r=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",r)}},i.prototype.onCellFocused=function(r){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var o=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",o),o&&r&&r.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var h=this.beans.gridOptionsWrapper.isFullRowEdit();!o&&!h&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:ys(this.rowNode.rowPinned),column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(tv,!0);var r=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",r),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!r)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var r=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",r)}},i.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var r=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",r)},i.prototype.dispatchCellContextMenuEvent=function(r){var o=this.column.getColDef(),c=this.createEvent(r,ne.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(c),o.onCellContextMenu&&window.setTimeout(function(){return o.onCellContextMenu(c)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){f.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var r=new Np;return this.beans.context.createBean(r),r.init({rowNode:this.rowNode,column:this.column}),r},i.prototype.createDndSource=function(){var r=new Jg(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(r),r},i.prototype.registerRowDragger=function(r,o,c){var h=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(r,o);else{var m=this.createRowDragComp(r,o,c);m&&(this.customRowDragComp=m,this.addDestroyFunc(function(){return h.beans.context.destroyBean(m)}))}},i.prototype.createRowDragComp=function(r,o,c){var h=this,m=this.beans.gridOptionsWrapper.isPagination(),w=this.beans.gridOptionsWrapper.isRowDragManaged(),A=this.beans.gridOptionsWrapper.isRowModelDefault();if(w){if(!A)return void zt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(m)return void zt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var x=new Mi(function(){return h.value},this.rowNode,this.column,r,o,c);return this.beans.context.createBean(x),x},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(Ge),HS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nv=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},ui=(()=>(function(f){f.Normal="Normal",f.FullWidth="FullWidth",f.FullWidthLoading="FullWidthLoading",f.FullWidthGroup="FullWidthGroup",f.FullWidthDetail="FullWidthDetail"}(ui||(ui={})),ui))(),WS=0,Oa=function(f){function i(r,o,c,h,m){var w=f.call(this)||this;return w.allRowGuis=[],w.active=!0,w.centerCellCtrls={list:[],map:{}},w.leftCellCtrls={list:[],map:{}},w.rightCellCtrls={list:[],map:{}},w.lastMouseDownOnDragger=!1,w.updateColumnListsPending=!1,w.beans=o,w.rowNode=r,w.paginationPage=w.beans.paginationProxy.getCurrentPage(),w.useAnimationFrameForCreate=h,w.printLayout=m,w.instanceId=r.id+"-"+WS++,w.setAnimateFlags(c),w.rowFocused=w.beans.focusService.isRowFocused(w.rowNode.rowIndex,w.rowNode.rowPinned),w.rowLevel=w.beans.rowCssClassCalculator.calculateRowLevel(w.rowNode),w.setRowType(),w.addListeners(),w.setInitialRowTop(),w}return HS(i,f),i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(r,o,c){var h={rowComp:r,element:o,containerType:c};this.allRowGuis.push(h),c===W.RowContainerType.LEFT?this.leftGui=h:c===W.RowContainerType.RIGHT?this.rightGui=h:c===W.RowContainerType.FULL_WIDTH?this.fullWidthGui=h:this.centerGui=h,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},i.prototype.isCacheable=function(){return this.rowType===ui.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},i.prototype.setCached=function(r){var o=r?"none":"";this.allRowGuis.forEach(function(c){return c.element.style.display=o})},i.prototype.initialiseRowComps=function(){var r=this,o=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&sg(this.onTopChanged.bind(this)),this.fadeRowIn&&sg(function(){r.allRowGuis.forEach(function(w){return w.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var c=this.getRowBusinessKey(),h=Ht(this.rowNode.id),m=Ht(c);this.allRowGuis.forEach(function(w){var A=w.rowComp;A.setRole("row"),r.getInitialRowClasses(w.containerType).forEach(function(N){return A.addOrRemoveCssClass(N,!0)}),r.rowNode.group&&Pi(w.element,1==r.rowNode.expanded),null!=h&&A.setRowId(h),null!=m&&A.setRowBusinessKey(m),r.isFullWidth()&&!r.beans.gridOptionsWrapper.isSuppressCellFocus()&&A.setTabIndex(-1),o.setDomData(w.element,i.DOM_DATA_KEY_ROW_CTRL,r),r.addDestroyFunc(function(){return o.setDomData(w.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),r.useAnimationFrameForCreate?r.beans.animationFrameService.createTask(r.addHoverFunctionality.bind(r,w.element),r.rowNode.rowIndex,"createTasksP2"):r.addHoverFunctionality(w.element),r.isFullWidth()&&r.setupFullWidth(w),o.isRowDragEntireRow()&&r.addRowDraggerToRow(w),r.useAnimationFrameForCreate&&r.beans.animationFrameService.addDestroyTask(function(){!r.isAlive()||w.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},i.prototype.addRowDraggerToRow=function(r){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())zt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var c=new Mi(function(){return"1 row"},this.rowNode,void 0,r.element,void 0,!0);this.createManagedBean(c,this.beans.context)}},i.prototype.setupFullWidth=function(r){var o=this.getPinnedForContainer(r.containerType),c=this.createFullWidthParams(r.element,o),h=wt.isRegistered(W.ModuleNames.MasterDetailModule);if(this.rowType!=ui.FullWidthDetail||h){var m;switch(this.rowType){case ui.FullWidthDetail:m=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(c);break;case ui.FullWidthGroup:m=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(c);break;case ui.FullWidthLoading:m=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(c);break;default:m=this.beans.userComponentFactory.getFullWidthCellRendererDetails(c)}r.rowComp.showFullWidth(m)}else wt.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+W.ModuleNames.MasterDetailModule)},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.getCellElement=function(r){var o=this.getCellCtrl(r);return o?o.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var r=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();r&&r({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},i.prototype.setRowType=function(){var r=this.rowNode.stub,o=this.rowNode.isFullWidthCell(),c=this.beans.doingMasterDetail&&this.rowNode.detail,h=this.beans.columnModel.isPivotMode(),w=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(h);this.rowType=r?ui.FullWidthLoading:c?ui.FullWidthDetail:o?ui.FullWidth:w?ui.FullWidthGroup:ui.Normal},i.prototype.updateColumnLists=function(r){var o=this;if(void 0===r&&(r=!1),!this.isFullWidth()){if(r||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!o.active||o.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(r,o,c){var h=this;void 0===c&&(c=null);var m={list:[],map:{}},w=function(A,x){m.list.push(x),m.map[A]=x};return o.forEach(function(A){var x=A.getInstanceId(),N=r.map[x];N||(N=new yl(A,h.rowNode,h.beans,h)),w(x,N)}),r.list.forEach(function(A){if(null==m.map[A.getColumn().getInstanceId()]){if(!h.isCellEligibleToBeRemoved(A,c))return void w(A.getColumn().getInstanceId(),A);A.destroy()}}),m},i.prototype.updateColumnListsImpl=function(){var r=this;this.updateColumnListsPending=!1;var o=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var c=o.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);var h=o.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,h,ge.PINNED_LEFT);var m=o.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,m,ge.PINNED_RIGHT)}this.allRowGuis.forEach(function(w){w.rowComp.setCellCtrls((w.containerType===W.RowContainerType.LEFT?r.leftCellCtrls:w.containerType===W.RowContainerType.RIGHT?r.rightCellCtrls:r.centerCellCtrls).list)})},i.prototype.isCellEligibleToBeRemoved=function(r,o){var c=!0;if(r.getColumn().getPinned()!=o)return c;var w=r.isEditing(),A=this.beans.focusService.isCellFocused(r.getCellPosition());if(w||A){var N=r.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(N)>=0)&&c}return c},i.prototype.setAnimateFlags=function(r){if(r){var o=re(this.rowNode.oldRowTop);this.slideRowIn=o,this.fadeRowIn=!o}else this.slideRowIn=!1,this.fadeRowIn=!1},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(r){this.stopEditing(r)},i.prototype.isFullWidth=function(){return this.rowType!==ui.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var r=this,o=function(x,N){if(!x)return!0;var k=x.rowComp.getFullWidthCellRenderer();if(!k||!k.refresh)return!1;var q=r.createFullWidthParams(x.element,N);return k.refresh(q)},c=o(this.fullWidthGui,null),h=o(this.centerGui,null),m=o(this.leftGui,ge.PINNED_LEFT),w=o(this.rightGui,ge.PINNED_RIGHT);return c&&h&&m&&w},i.prototype.addListeners=function(){this.addManagedListener(this.rowNode,bt.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,bt.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,ne.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,ne.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,ne.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,ne.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,ne.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,ne.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(r,ne.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var r=this;this.addManagedListener(this.rowNode,bt.EVENT_ROW_INDEX_CHANGED,function(){r.getAllCellCtrls().forEach(function(o){return o.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,bt.EVENT_CELL_CHANGED,function(o){r.getAllCellCtrls().forEach(function(c){return c.onCellChanged(o)})})},i.prototype.onRowNodeDataChanged=function(r){this.getAllCellCtrls().forEach(function(o){return o.refreshCell({suppressFlash:!r.update,newData:!r.update})}),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var r=this.rowNode.highlighted;this.allRowGuis.forEach(function(o){var h=r===W.RowHighlightPosition.Below;o.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r===W.RowHighlightPosition.Above),o.rowComp.addOrRemoveCssClass("ag-row-highlight-below",h)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var r=this.rowNode.dragging;this.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass("ag-row-dragging",r)})},i.prototype.updateExpandedCss=function(){var r=this.rowNode.isExpandable(),o=1==this.rowNode.expanded;this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-group",r),c.rowComp.addOrRemoveCssClass("ag-row-group-expanded",r&&o),c.rowComp.addOrRemoveCssClass("ag-row-group-contracted",r&&!o),Pi(c.element,r&&o)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},i.prototype.getRowPosition=function(){return{rowPinned:ys(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(r){var o=this.allRowGuis.find(function(x){return x.element.contains(r.target)});if((o?o.element:null)===r.target){var m=this.rowNode,w=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(r,r.key,{rowIndex:m.rowIndex,rowPinned:m.rowPinned,column:w&&w.column},!0),r.preventDefault()}},i.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented&&!bs(r)){var o=this.allRowGuis.find(function(w){return w.element.contains(r.target)}),c=o?o.element:null,h=c===r.target,m=null;h||(m=this.beans.focusService.findNextFocusableElement(c,!1,r.shiftKey)),(this.isFullWidth()&&h||!m)&&this.beans.navigationService.onTabKeyDown(this,r)}},i.prototype.onFullWidthRowFocused=function(r){var o,c=this.rowNode,h=this.isFullWidth()&&r.rowIndex===c.rowIndex&&r.rowPinned==c.rowPinned,m=this.fullWidthGui?this.fullWidthGui.element:null===(o=this.centerGui)||void 0===o?void 0:o.element;!m||(m.classList.toggle("ag-full-width-focus",h),h&&m.focus({preventScroll:!0}))},i.prototype.refreshCell=function(r){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,r),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,r),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,r),this.updateColumnLists()},i.prototype.removeCellCtrl=function(r,o){var c={list:[],map:{}};return r.list.forEach(function(h){h!==o&&(c.list.push(h),c.map[h.getInstanceId()]=h)}),c},i.prototype.onMouseEvent=function(r,o){switch(r){case"dblclick":this.onRowDblClick(o);break;case"click":this.onRowClick(o);break;case"touchstart":case"mousedown":this.onRowMouseDown(o)}},i.prototype.createRowEvent=function(r,o){return{type:r,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:o}},i.prototype.createRowEventWithSource=function(r,o){var c=this.createRowEvent(r,o);return c.source=this,c},i.prototype.onRowDblClick=function(r){if(!bs(r)){var o=this.createRowEventWithSource(ne.EVENT_ROW_DOUBLE_CLICKED,r);this.beans.eventService.dispatchEvent(o)}},i.prototype.onRowMouseDown=function(r){if(this.lastMouseDownOnDragger=hn(r.target,"ag-row-drag",3),this.isFullWidth()){var o=this.rowNode;this.beans.focusService.setFocusedCell(o.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],o.rowPinned,!0)}},i.prototype.onRowClick=function(r){if(!bs(r)&&!this.lastMouseDownOnDragger){var c=this.createRowEventWithSource(ne.EVENT_ROW_CLICKED,r);this.beans.eventService.dispatchEvent(c);var h=r.ctrlKey||r.metaKey,m=r.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var A=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),x=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?A?this.rowNode.setSelectedParams({newValue:!1}):h?x&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!m,clearSelection:!m,rangeSelect:m}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!A&&!h,rangeSelect:m})}}},i.prototype.setupDetailRowAutoHeight=function(r){var o=this;if(this.rowType===ui.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var c=function(){var m=r.clientHeight;null!=m&&m>0&&o.beans.frameworkOverrides.setTimeout(function(){o.rowNode.setRowHeight(m),o.beans.clientSideRowModel?o.beans.clientSideRowModel.onRowHeightChanged():o.beans.serverSideRowModel&&o.beans.serverSideRowModel.onRowHeightChanged()},0)},h=this.beans.resizeObserverService.observeResize(r,c);this.addDestroyFunc(h),c()}},i.prototype.createFullWidthParams=function(r,o){var c=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:r,eParentOfValue:r,pinned:o,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(m,w,A,x){return c.addFullWidthRowDragging(m,w,A,x)}}},i.prototype.addFullWidthRowDragging=function(r,o,c,h){if(void 0===c&&(c=""),this.isFullWidth()){var m=new Mi(function(){return c},this.rowNode,void 0,r,o,h);this.createManagedBean(m,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var r=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=r){var o="ag-row-level-"+r,c="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(h){h.rowComp.addOrRemoveCssClass(o,!0),h.rowComp.addOrRemoveCssClass(c,!1)})}this.rowLevel=r},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},i.prototype.refreshFirstAndLastRowStyles=function(){var r=this.isFirstRowOnPage(),o=this.isLastRowOnPage();this.firstRowOnPage!==r&&(this.firstRowOnPage=r,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-first",r)})),this.lastRowOnPage!==o&&(this.lastRowOnPage=o,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-last",o)}))},i.prototype.stopEditing=function(r){void 0===r&&(r=!1);var o=this.getAllCellCtrls().map(function(h){return h.stopEditing(r)});if(this.editingRow){if(!r&&o.some(function(h){return h})){var c=this.createRowEvent(ne.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(c)}this.setEditingRow(!1)}},i.prototype.setInlineEditingCss=function(r){this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-inline-editing",r),o.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!r)})},i.prototype.setEditingRow=function(r){this.editingRow=r,this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-row-editing",r)});var o=this.createRowEvent(r?ne.EVENT_ROW_EDITING_STARTED:ne.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(o)},i.prototype.startRowEditing=function(r,o,c,h){void 0===r&&(r=null),void 0===o&&(o=null),void 0===c&&(c=null),void 0===h&&(h=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(m){var w=m===c;w?m.startEditing(r,o,w,h):m.startEditing(null,null,w,h)}),this.setEditingRow(!0))},i.prototype.getAllCellCtrls=function(){var r=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(nv(arguments[i]));return f}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return r},i.prototype.postProcessClassesFromGridOptions=function(){var r=this,o=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!o||!o.length||o.forEach(function(c){r.allRowGuis.forEach(function(h){return h.rowComp.addOrRemoveCssClass(c,!0)})})},i.prototype.postProcessRowClassRules=function(){var r=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(o){r.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(o,!0)})},function(o){r.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass(o,!1)})})},i.prototype.setStylesFromGridOptions=function(){var r=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(o){return o.rowComp.setUserStyles(r)})},i.prototype.getRowBusinessKey=function(){var r=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof r)return r(this.rowNode)},i.prototype.getPinnedForContainer=function(r){return r===W.RowContainerType.LEFT?ge.PINNED_LEFT:r===W.RowContainerType.RIGHT?ge.PINNED_RIGHT:null},i.prototype.getInitialRowClasses=function(r){var o=this.getPinnedForContainer(r),c={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:o};return this.beans.rowCssClassCalculator.getInitialRowClasses(c)},i.prototype.processStylesFromGridOptions=function(){var r=this.beans.gridOptionsWrapper.getRowStyle();if(!r||"function"!=typeof r){var c,o=this.beans.gridOptionsWrapper.getRowStyleFunc();return o&&(c=o({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},r,c)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(){var r=this,o=this.rowNode.isSelected();this.allRowGuis.forEach(function(c){c.rowComp.addOrRemoveCssClass("ag-row-selected",o),ru(c.element,!!o||void 0);var h=r.createAriaLabel();Rs(c.element,null==h?"":h)})},i.prototype.createAriaLabel=function(){var r=this.rowNode.isSelected();if(!r||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(r?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(r?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(r){var o=this;!this.active||(this.addManagedListener(r,"mouseenter",function(){return o.rowNode.onMouseEnter()}),this.addManagedListener(r,"mouseleave",function(){return o.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,bt.EVENT_MOUSE_ENTER,function(){o.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||r.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,bt.EVENT_MOUSE_LEAVE,function(){r.classList.remove("ag-row-hover")}))},i.prototype.roundRowTopToBounds=function(r){var c=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),h=this.applyPaginationOffset(c.top,!0)-100,m=this.applyPaginationOffset(c.bottom,!0)+100;return Math.min(Math.max(h,r),m)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var r=this.rowNode.rowHeight,o=this.beans.gridOptionsWrapper.getDefaultRowHeight(),h=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,m=h?Math.min(o,h)-2+"px":void 0;this.allRowGuis.forEach(function(w){w.element.style.height=r+"px",m&&w.element.style.setProperty("--ag-line-height",m)})}},i.prototype.addEventListener=function(r,o){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=ne.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+ne.EVENT_VIRTUAL_ROW_REMOVED)),f.prototype.addEventListener.call(this,r,o)},i.prototype.removeEventListener=function(r,o){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=ne.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+ne.EVENT_VIRTUAL_ROW_REMOVED)),f.prototype.removeEventListener.call(this,r,o)},i.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var r=this.createRowEvent(ne.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),f.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var o=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(function(c){return c.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var r=function(o){return o.list.forEach(function(c){return c.destroy()}),{list:[],map:{}}};this.centerCellCtrls=r(this.centerCellCtrls),this.leftCellCtrls=r(this.leftCellCtrls),this.rightCellCtrls=r(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(){var r=this;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),o.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},i.prototype.onCellFocusChanged=function(){var r=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var r=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==r&&(this.paginationPage=r,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(r,o){return void 0===o&&(o=!1),this.rowNode.isRowPinned()?r:r+this.beans.paginationProxy.getPixelOffset()*(o?1:-1)},i.prototype.setRowTop=function(r){if(!this.printLayout&&re(r)){var o=this.applyPaginationOffset(r),c=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o);this.setRowTopStyle(c+"px")}},i.prototype.getInitialRowTop=function(){return this.initialTop},i.prototype.getInitialTransform=function(){return this.initialTransform},i.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var r=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r),h=(this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=h:this.initialTransform="translateY("+h+")"},i.prototype.setRowTopStyle=function(r){var o=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(c){return o?c.rowComp.setTop(r):c.rowComp.setTransform("translateY("+r+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(r){var o=null;return this.getAllCellCtrls().forEach(function(c){c.getColumn()==r&&(o=c)}),null!=o||this.getAllCellCtrls().forEach(function(c){c.getColSpanningList().indexOf(r)>=0&&(o=c)}),o},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(){var r=this.rowNode.getRowIndexString(),o=this.beans.headerNavigationService.getHeaderRowCount(),c=this.rowNode.rowIndex%2==0,h=o+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(m){m.rowComp.setRowIndex(r),m.rowComp.addOrRemoveCssClass("ag-row-even",c),m.rowComp.addOrRemoveCssClass("ag-row-odd",!c),Hm(m.element,h)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(Ge),jS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ni=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},US=function(f){function i(r){var o=f.call(this)||this;return o.element=r,o}return jS(i,f),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var r=this;["keydown","keypress"].forEach(function(c){var h=r.processKeyboardEvent.bind(r,c);r.addManagedListener(r.element,c,h)})},i.prototype.addMouseListeners=function(){var r=this;["dblclick","contextmenu","mouseover","mouseout","click",gp("touchstart")?"touchstart":"mousedown"].forEach(function(h){var m=r.processMouseEvent.bind(r,h);r.addManagedListener(r.element,h,m)})},i.prototype.processMouseEvent=function(r,o){if(this.mouseEventService.isEventFromThisGrid(o)&&!bs(o)){var c=this.getRowForEvent(o),h=this.mouseEventService.getRenderedCellForEvent(o);"contextmenu"===r?this.handleContextMenuMouseEvent(o,null,c,h):(h&&h.onMouseEvent(r,o),c&&c.onMouseEvent(r,o))}},i.prototype.mockContextMenuForIPad=function(){var r=this;if(wp()){var o=new eo(this.element);this.addManagedListener(o,eo.EVENT_LONG_TAP,function(h){var m=r.getRowForEvent(h.touchEvent),w=r.mouseEventService.getRenderedCellForEvent(h.touchEvent);r.handleContextMenuMouseEvent(null,h.touchEvent,m,w)}),this.addDestroyFunc(function(){return o.destroy()})}},i.prototype.getRowForEvent=function(r){for(var o=r.target;o;){var c=this.gridOptionsWrapper.getDomData(o,Oa.DOM_DATA_KEY_ROW_CTRL);if(c)return c;o=o.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(r,o,c,h){var m=c?c.getRowNode():null,w=h?h.getColumn():null,A=null;w&&(h.dispatchCellContextMenuEvent(r||o),A=this.valueService.getValue(w,m));var N=this.ctrlsService.getGridBodyCtrl(),k=h?h.getGui():N.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(r,o,m,w,A,k)},i.prototype.processKeyboardEvent=function(r,o){var c=Yu(this.gridOptionsWrapper,o,yl.DOM_DATA_KEY_CELL_CTRL),h=Yu(this.gridOptionsWrapper,o,Oa.DOM_DATA_KEY_ROW_CTRL);o.defaultPrevented||(c?this.processCellKeyboardEvent(c,r,o):h&&h.isFullWidth()&&this.processFullWidthRowKeyboardEvent(h,r,o))},i.prototype.processCellKeyboardEvent=function(r,o,c){var h=r.getRowNode(),m=r.getColumn(),w=r.isEditing();if(!Cr(this.gridOptionsWrapper,c,h,m,w))switch(o){case"keydown":!w&&this.navigationService.handlePageScrollingKey(c)||r.onKeyDown(c),this.doGridOperations(c,r.isEditing());break;case"keypress":r.onKeyPress(c)}if("keydown"===o){var N=r.createEvent(c,ne.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(N)}if("keypress"===o){var k=r.createEvent(c,ne.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(k)}},i.prototype.processFullWidthRowKeyboardEvent=function(r,o,c){var h=r.getRowNode(),m=this.focusService.getFocusedCell();if(!Cr(this.gridOptionsWrapper,c,h,m&&m.column,!1)&&"keydown"===o)switch(c.key){case Ie.UP:case Ie.DOWN:r.onKeyboardNavigate(c);break;case Ie.TAB:r.onTabKeyDown(c)}if("keydown"===o){var N=r.createRowEvent(ne.EVENT_CELL_KEY_DOWN,c);this.eventService.dispatchEvent(N)}if("keypress"===o){var k=r.createRowEvent(ne.EVENT_CELL_KEY_PRESS,c);this.eventService.dispatchEvent(k)}},i.prototype.doGridOperations=function(r,o){if((r.ctrlKey||r.metaKey)&&!o&&this.mouseEventService.isEventFromThisGrid(r))switch(r.key.toUpperCase()){case Ie.A:return this.onCtrlAndA(r);case Ie.C:return this.onCtrlAndC(r);case Ie.V:return this.onCtrlAndV();case Ie.D:return this.onCtrlAndD(r);case Ie.Z:return r.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Ie.Y:return this.undoRedoService.redo()}},i.prototype.onCtrlAndA=function(r){var o=this,c=o.pinnedRowModel,m=o.rangeService,w=ge.PINNED_BOTTOM,A=ge.PINNED_TOP;if(m&&o.paginationProxy.isRowsToRender()){var x=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h}([c.isEmpty(A),c.isEmpty(w)],2),q=x[0]?null:A,te=void 0,le=void 0;x[1]?(te=null,le=this.paginationProxy.getRowCount()-1):(te=w,le=c.getPinnedBottomRowData().length-1);var de=this.columnModel.getAllDisplayedColumns();if(ti(de))return;m.setCellRange({rowStartIndex:0,rowStartPinned:q,rowEndIndex:le,rowEndPinned:te,columnStart:de[0],columnEnd:rr(de)})}r.preventDefault()},i.prototype.onCtrlAndC=function(r){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),r.preventDefault())},i.prototype.onCtrlAndV=function(){wt.isRegistered(W.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(r){wt.isRegistered(W.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),r.preventDefault()},Ni([K("mouseEventService")],i.prototype,"mouseEventService",void 0),Ni([K("valueService")],i.prototype,"valueService",void 0),Ni([$t("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ni([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ni([K("navigationService")],i.prototype,"navigationService",void 0),Ni([K("focusService")],i.prototype,"focusService",void 0),Ni([K("undoRedoService")],i.prototype,"undoRedoService",void 0),Ni([K("columnModel")],i.prototype,"columnModel",void 0),Ni([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Ni([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ni([$t("rangeService")],i.prototype,"rangeService",void 0),Ni([$t("clipboardService")],i.prototype,"clipboardService",void 0),Ni([je],i.prototype,"postConstruct",null),i}(Ge),Zp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),an=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},iv=function(f){function i(r){var o=f.call(this)||this;return o.centerContainerCtrl=r,o}return Zp(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.listenForResize()}),this.addManagedListener(this.eventService,ne.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var r=this,o=function(){return r.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(o),this.gridBodyCtrl.registerBodyViewportResizeListener(o)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var o=Yi(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==o&&(this.bodyHeight=o,this.eventService.dispatchEvent({type:ne.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r),this.gridBodyCtrl.setVerticalScrollPaddingVisible(r.verticalScrollShowing)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var r=this.centerContainerCtrl.getCenterWidth(),o=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(r,o)},an([K("ctrlsService")],i.prototype,"ctrlsService",void 0),an([K("columnModel")],i.prototype,"columnModel",void 0),an([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),an([K("columnApi")],i.prototype,"columnApi",void 0),an([K("gridApi")],i.prototype,"gridApi",void 0),an([je],i.prototype,"postConstruct",null),i}(Ge),ov=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kh=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ln=function(f){function i(r){var o=f.call(this)||this;return o.element=r,o}return ov(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var r=this.pinnedWidthService.getPinnedLeftWidth(),o=r>0;ur(this.element,o),o&&qt(this.element,r)},Kh([K("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Kh([je],i.prototype,"postConstruct",null),i}(Ge),Qp=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jp=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},zS=function(f){function i(r){var o=f.call(this)||this;return o.element=r,o}return Qp(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var r=this.pinnedWidthService.getPinnedRightWidth(),o=r>0;ur(this.element,o),o&&qt(this.element,r)},Jp([K("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Jp([je],i.prototype,"postConstruct",null),i}(Ge),vt=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},av=function(f){function i(r,o){var c=f.call(this)||this;return c.eContainer=r,c.eWrapper=o,c}return vt(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var r=this.maxDivHeightScaler.getUiContainerHeight(),o=null!=r?r+"px":"";this.eContainer.style.height=o,this.eWrapper&&(this.eWrapper.style.height=o)},sv([K("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),sv([je],i.prototype,"postConstruct",null),i}(Ge),Yh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},DC=function(f){function i(r){var o=f.call(this)||this;return o.eContainer=r,o}return Yh(i,f),i.prototype.postConstruct=function(){var r=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!b(this.rangeService)){var o={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(o),this.addDestroyFunc(function(){return r.dragService.removeDragSource(o)})}},lv([$t("rangeService")],i.prototype,"rangeService",void 0),lv([K("dragService")],i.prototype,"dragService",void 0),lv([je],i.prototype,"postConstruct",null),i}(Ge),uv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),RC=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ed=function(f){function i(r){var o=f.call(this)||this;return o.callback=r,o}return uv(i,f),i.prototype.postConstruct=function(){var r=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.setWidth()},i.prototype.setWidth=function(){var r=this.columnModel,o=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,c=r.getBodyContainerWidth(),h=r.getDisplayedColumnsLeftWidth(),m=r.getDisplayedColumnsRightWidth();this.callback(o?c+h+m:c)},RC([K("columnModel")],i.prototype,"columnModel",void 0),RC([je],i.prototype,"postConstruct",null),i}(Ge),$S=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),To=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},cv=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h};function Cu(f){switch(f){case W.RowContainerName.CENTER:case W.RowContainerName.TOP_CENTER:case W.RowContainerName.BOTTOM_CENTER:return W.RowContainerType.CENTER;case W.RowContainerName.LEFT:case W.RowContainerName.TOP_LEFT:case W.RowContainerName.BOTTOM_LEFT:return W.RowContainerType.LEFT;case W.RowContainerName.RIGHT:case W.RowContainerName.TOP_RIGHT:case W.RowContainerName.BOTTOM_RIGHT:return W.RowContainerType.RIGHT;case W.RowContainerName.FULL_WIDTH:case W.RowContainerName.TOP_FULL_WIDTH:case W.RowContainerName.BOTTOM_FULL_WIDTH:return W.RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(function(f){f.LEFT="left",f.RIGHT="right",f.CENTER="center",f.FULL_WIDTH="fullWidth",f.TOP_LEFT="topLeft",f.TOP_RIGHT="topRight",f.TOP_CENTER="topCenter",f.TOP_FULL_WIDTH="topFullWidth",f.BOTTOM_LEFT="bottomLeft",f.BOTTOM_RIGHT="bottomRight",f.BOTTOM_CENTER="bottomCenter",f.BOTTOM_FULL_WIDTH="bottomFullWidth"})(W.RowContainerName||(W.RowContainerName={})),function(f){f.LEFT="left",f.RIGHT="right",f.CENTER="center",f.FULL_WIDTH="fullWidth"}(W.RowContainerType||(W.RowContainerType={}));var td=Kl([[W.RowContainerName.CENTER,"ag-center-cols-container"],[W.RowContainerName.LEFT,"ag-pinned-left-cols-container"],[W.RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[W.RowContainerName.FULL_WIDTH,"ag-full-width-container"],[W.RowContainerName.TOP_CENTER,"ag-floating-top-container"],[W.RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[W.RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[W.RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[W.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[W.RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[W.RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[W.RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),qh=Kl([[W.RowContainerName.CENTER,"ag-center-cols-viewport"],[W.RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[W.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),rd=Kl([[W.RowContainerName.CENTER,"ag-center-cols-clipper"]]),wu=function(f){function i(r){var o=f.call(this)||this;return o.name=r,o}return $S(i,f),i.getRowContainerCssClasses=function(r){return{container:td.get(r),viewport:qh.get(r),wrapper:rd.get(r)}},i.getPinned=function(r){switch(r){case W.RowContainerName.BOTTOM_LEFT:case W.RowContainerName.TOP_LEFT:case W.RowContainerName.LEFT:return ge.PINNED_LEFT;case W.RowContainerName.BOTTOM_RIGHT:case W.RowContainerName.TOP_RIGHT:case W.RowContainerName.RIGHT:return ge.PINNED_RIGHT;default:return null}},i.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([W.RowContainerName.CENTER],function(){return r.viewportSizeFeature=r.createManagedBean(new iv(r))})},i.prototype.registerWithCtrlsService=function(){switch(this.name){case W.RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case W.RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case W.RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case W.RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case W.RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case W.RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case W.RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case W.RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case W.RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(r,o){r.indexOf(this.name)>=0&&o()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(r,o,c,h){var m=this;this.comp=r,this.eContainer=o,this.eViewport=c,this.eWrapper=h,this.createManagedBean(new US(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var N=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(cv(arguments[i]));return f}([W.RowContainerName.TOP_CENTER,W.RowContainerName.TOP_LEFT,W.RowContainerName.TOP_RIGHT],[W.RowContainerName.BOTTOM_CENTER,W.RowContainerName.BOTTOM_LEFT,W.RowContainerName.BOTTOM_RIGHT],[W.RowContainerName.CENTER,W.RowContainerName.LEFT,W.RowContainerName.RIGHT]),k=[W.RowContainerName.CENTER,W.RowContainerName.LEFT,W.RowContainerName.RIGHT,W.RowContainerName.FULL_WIDTH],q=[W.RowContainerName.CENTER,W.RowContainerName.TOP_CENTER,W.RowContainerName.BOTTOM_CENTER],le=[W.RowContainerName.RIGHT,W.RowContainerName.BOTTOM_RIGHT,W.RowContainerName.TOP_RIGHT];this.forContainers([W.RowContainerName.LEFT,W.RowContainerName.BOTTOM_LEFT,W.RowContainerName.TOP_LEFT],function(){return m.createManagedBean(new Ln(m.eContainer))}),this.forContainers(le,function(){return m.createManagedBean(new zS(m.eContainer))}),this.forContainers(k,function(){return m.createManagedBean(new av(m.eContainer,m.eWrapper))}),this.forContainers(N,function(){return m.createManagedBean(new DC(m.eContainer))}),this.forContainers(q,function(){return m.createManagedBean(new ed(function(de){return m.comp.setContainerWidth(de+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},i.prototype.addListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return r.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return r.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return r.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_ROWS_CHANGED,function(){return r.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},i.prototype.listenOnDomOrder=function(){var r=this,o=function(){return r.comp.setDomOrder(r.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,o),o()},i.prototype.stopHScrollOnPinnedRows=function(){var r=this;this.forContainers([W.RowContainerName.TOP_CENTER,W.RowContainerName.BOTTOM_CENTER],function(){r.addManagedListener(r.eViewport,"scroll",function(){return r.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var r=this;this.forContainers([W.RowContainerName.CENTER],function(){return r.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var r=this;this.forContainers([W.RowContainerName.CENTER],function(){return r.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){if(this.name===W.RowContainerName.CENTER){var o=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==o?"100%":"calc(100% + "+o+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var r=this,o=function(c){r.dragService.isDragging()&&c.cancelable&&c.preventDefault()};this.eContainer.addEventListener("touchmove",o,{passive:!1}),this.addDestroyFunc(function(){return r.eContainer.removeEventListener("touchmove",o)})},i.prototype.onHorizontalViewportChanged=function(){var r=this.getCenterWidth(),o=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,o)},i.prototype.getCenterWidth=function(){return Be(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return fn(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(r){var o=this.resizeObserverService.observeResize(this.eViewport,r);this.addDestroyFunc(function(){return o()})},i.prototype.isViewportVisible=function(){return qr(this.eViewport)},i.prototype.isViewportHScrollShowing=function(){return Ri(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return fn(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||Ri(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(r){this.eContainer.style.transform="translateX("+r+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(r){Xl(this.eViewport,r,this.enableRtl)},i.prototype.onDisplayedRowsChanged=function(){var r=this,o=this.name===W.RowContainerName.TOP_FULL_WIDTH||this.name===W.RowContainerName.BOTTOM_FULL_WIDTH||this.name===W.RowContainerName.FULL_WIDTH,m=this.getRowCtrls().filter(function(w){var A=w.isFullWidth(),x=r.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,N=r.embedFullWidthRows||x;return o?!N&&A:N||!A});this.comp.setRowCtrls(m)},i.prototype.getRowCtrls=function(){switch(this.name){case W.RowContainerName.TOP_CENTER:case W.RowContainerName.TOP_LEFT:case W.RowContainerName.TOP_RIGHT:case W.RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case W.RowContainerName.BOTTOM_CENTER:case W.RowContainerName.BOTTOM_LEFT:case W.RowContainerName.BOTTOM_RIGHT:case W.RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},To([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),To([K("dragService")],i.prototype,"dragService",void 0),To([K("ctrlsService")],i.prototype,"ctrlsService",void 0),To([K("columnModel")],i.prototype,"columnModel",void 0),To([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),To([K("rowRenderer")],i.prototype,"rowRenderer",void 0),To([je],i.prototype,"postConstruct",null),i}(Ge),ci=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),be=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},AC='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+W.RowContainerName.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+W.RowContainerName.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+W.RowContainerName.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+W.RowContainerName.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+W.RowContainerName.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+W.RowContainerName.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+W.RowContainerName.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+W.RowContainerName.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+W.RowContainerName.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+W.RowContainerName.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+W.RowContainerName.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+W.RowContainerName.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',nd=function(f){function i(){return f.call(this,AC)||this}return ci(i,f),i.prototype.init=function(){var r=this,o=function(h,m){var w=h+"px";m.style.minHeight=w,m.style.height=w},c={setRowAnimationCssOnBodyViewport:function(h,m){return r.setRowAnimationCssOnBodyViewport(h,m)},setColumnCount:function(h){return lS(r.getGui(),h)},setRowCount:function(h){return aS(r.getGui(),h)},setTopHeight:function(h){return o(h,r.eTop)},setBottomHeight:function(h){return o(h,r.eBottom)},setTopDisplay:function(h){return r.eTop.style.display=h},setBottomDisplay:function(h){return r.eBottom.style.display=h},setColumnMovingCss:function(h,m){return r.addOrRemoveCssClass(li,m)},updateLayoutClasses:function(h,m){var w=r.eBodyViewport.classList;w.toggle(W.LayoutCssClasses.AUTO_HEIGHT,m.autoHeight),w.toggle(W.LayoutCssClasses.NORMAL,m.normal),w.toggle(W.LayoutCssClasses.PRINT,m.print),r.addOrRemoveCssClass(W.LayoutCssClasses.AUTO_HEIGHT,m.autoHeight),r.addOrRemoveCssClass(W.LayoutCssClasses.NORMAL,m.normal),r.addOrRemoveCssClass(W.LayoutCssClasses.PRINT,m.print)},setAlwaysVerticalScrollClass:function(h,m){return r.eBodyViewport.classList.toggle(yu,m)},registerBodyViewportResizeListener:function(h){var m=r.resizeObserverService.observeResize(r.eBodyViewport,h);r.addDestroyFunc(function(){return m()})},setPinnedTopBottomOverflowY:function(h){return r.eTop.style.overflowY=r.eBottom.style.overflowY=h},setCellSelectableCss:function(h,m){[r.eTop,r.eBodyViewport,r.eBottom].forEach(function(w){return w.classList.toggle(yC,m)})}};this.ctrl=this.createManagedBean(new _c),this.ctrl.setComp(c,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&sS(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(r,o){var c=this.eBodyViewport.classList;c.toggle(W.RowAnimationCssClasses.ANIMATION_ON,o),c.toggle(W.RowAnimationCssClasses.ANIMATION_OFF,!o)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},be([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),be([$t("rangeService")],i.prototype,"rangeService",void 0),be([Ne("eBodyViewport")],i.prototype,"eBodyViewport",void 0),be([Ne("eTop")],i.prototype,"eTop",void 0),be([Ne("eBottom")],i.prototype,"eBottom",void 0),be([Ne("gridHeader")],i.prototype,"headerRootComp",void 0),be([je],i.prototype,"init",null),i}(At),Xh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Tr=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Sc=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Xh(i,f),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var r=this.ctrlsService.getCenterRowContainerCtrl();if(r){var o={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(o)}},i.prototype.setScrollsVisible=function(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:ne.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Tr([K("columnApi")],i.prototype,"columnApi",void 0),Tr([K("gridApi")],i.prototype,"gridApi",void 0),Tr([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Tr([je],i.prototype,"postConstruct",null),Tr([Xe("scrollVisibleService")],i)}(Ge),ml=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_u=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},PC=function(f){function i(){var o=null!==f&&f.apply(this,arguments)||this;return o.gridInstanceId=r.gridInstanceSequence.next(),o}var r;return ml(i,f),r=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(o){o[r.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(o){return Yu(this.gridOptionsWrapper,o,yl.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(o){return this.isElementInThisGrid(o.target)},i.prototype.isElementInThisGrid=function(o){for(var c=o;c;){var h=c[r.GRID_DOM_KEY];if(re(h))return h===this.gridInstanceId;c=c.parentElement}return!1},i.prototype.getCellPositionForEvent=function(o){var c=this.getRenderedCellForEvent(o);return c?c.getCellPosition():null},i.prototype.getNormalisedPosition=function(o){var m,w,c=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_NORMAL;if(null!=o.clientX||null!=o.clientY?(m=o.clientX,w=o.clientY):(m=o.x,w=o.y),c){var A=this.ctrlsService.getGridBodyCtrl(),x=A.getScrollFeature().getVScrollPosition();m+=A.getScrollFeature().getHScrollPosition().left,w+=x.top}return{x:m,y:w}},i.gridInstanceSequence=new va,i.GRID_DOM_KEY="__ag_grid_instance",_u([K("ctrlsService")],i.prototype,"ctrlsService",void 0),r=_u([Xe("mouseEventService")],i)}(Ge),no=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gn=function(){return Gn=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Gn.apply(this,arguments)},wr=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},YS=function(f){function i(){var r=f.call(this)||this;return r.onPageDown=lh(r.onPageDown,100),r.onPageUp=lh(r.onPageUp,100),r}return no(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridBodyCon=o.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(r){var o=r.key,c=r.altKey,h=r.ctrlKey||r.metaKey,m=this.mouseEventService.getCellPositionForEvent(r);if(!m)return!1;var w=!1;switch(o){case Ie.PAGE_HOME:case Ie.PAGE_END:!h&&!c&&(this.onHomeOrEndKey(o),w=!0);break;case Ie.LEFT:case Ie.RIGHT:h&&!c&&(this.onCtrlLeftOrRight(o,m),w=!0);break;case Ie.UP:case Ie.DOWN:h&&!c&&(this.onCtrlUpOrDown(o,m),w=!0);break;case Ie.PAGE_DOWN:!h&&!c&&(this.onPageDown(m),w=!0);break;case Ie.PAGE_UP:!h&&!c&&(this.onPageUp(m),w=!0)}return w&&r.preventDefault(),w},i.prototype.navigateTo=function(r){var o=r.scrollIndex,c=r.scrollType,h=r.scrollColumn,m=r.focusIndex,w=r.focusColumn;re(h)&&!h.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(h),re(o)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,c),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(m,w,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:m,rowPinned:null,column:w})},i.prototype.onPageDown=function(r){var c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),h=this.getViewportHeight(),m=this.paginationProxy.getPixelOffset(),A=this.paginationProxy.getRowIndexAtPixel(c.top+h+m);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,A):this.navigateToNextPage(r,A)},i.prototype.onPageUp=function(r){var c=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),h=this.paginationProxy.getPixelOffset(),w=this.paginationProxy.getRowIndexAtPixel(c.top+h);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,w,!0):this.navigateToNextPage(r,w,!0)},i.prototype.navigateToNextPage=function(r,o,c){void 0===c&&(c=!1);var h,m,ye,w=this.getViewportHeight(),A=this.paginationProxy.getPageFirstRow(),x=this.paginationProxy.getPageLastRow(),N=this.paginationProxy.getPixelOffset(),k=this.paginationProxy.getRow(r.rowIndex),q=c?(null===(h=k)||void 0===h?void 0:h.rowHeight)-w-N:w-N,te=(null===(m=k)||void 0===m?void 0:m.rowTop)+q,le=this.paginationProxy.getRowIndexAtPixel(te+N);le===r.rowIndex&&(o=le=r.rowIndex+(c?-1:1)),c?(ye="bottom",le<A&&(le=A),o<A&&(o=A)):(ye="top",le>x&&(le=x),o>x&&(o=x)),this.isRowTallerThanView(le)&&(o=le,ye="top"),this.navigateTo({scrollIndex:o,scrollType:ye,scrollColumn:null,focusIndex:le,focusColumn:r.column})},i.prototype.navigateToNextPageWithAutoHeight=function(r,o,c){var h=this;void 0===c&&(c=!1),this.navigateTo({scrollIndex:o,scrollType:c?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:r.column}),setTimeout(function(){var m=h.getNextFocusIndexForAutoHeight(r,c);h.navigateTo({scrollIndex:o,scrollType:c?"bottom":"top",scrollColumn:null,focusIndex:m,focusColumn:r.column})},50)},i.prototype.getNextFocusIndexForAutoHeight=function(r,o){void 0===o&&(o=!1);for(var c,h=o?-1:1,m=this.getViewportHeight(),w=this.paginationProxy.getPageLastRow(),A=0,x=r.rowIndex;x>=0&&x<=w;){var N=this.paginationProxy.getRow(x);if(N){var k=null!=(c=N.rowHeight)?c:0;if(A+k>m)break;A+=k}x+=h}return Math.max(0,Math.min(x,w))},i.prototype.getViewportHeight=function(){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.gridOptionsWrapper.getScrollbarWidth(),h=o.bottom-o.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(h-=c),h},i.prototype.isRowTallerThanView=function(r){var o=this.paginationProxy.getRow(r);if(!o)return!1;var c=o.rowHeight;return"number"==typeof c&&c>this.getViewportHeight()},i.prototype.onCtrlUpOrDown=function(r,o){var h=r===Ie.UP?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:h,scrollType:null,scrollColumn:o.column,focusIndex:h,focusColumn:o.column})},i.prototype.onCtrlLeftOrRight=function(r,o){var c=r===Ie.LEFT,h=this.columnModel.getAllDisplayedColumns(),w=c!==this.gridOptionsWrapper.isEnableRtl()?h[0]:rr(h);this.navigateTo({scrollIndex:o.rowIndex,scrollType:null,scrollColumn:w,focusIndex:o.rowIndex,focusColumn:w})},i.prototype.onHomeOrEndKey=function(r){var o=r===Ie.PAGE_HOME,c=this.columnModel.getAllDisplayedColumns(),h=o?c[0]:rr(c),m=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:m,scrollType:null,scrollColumn:h,focusIndex:m,focusColumn:h})},i.prototype.onTabKeyDown=function(r,o){var c=o.shiftKey;if(this.tabToNextCellCommon(r,c,o))o.preventDefault();else if(c){var m=r.getRowPosition(),w=m.rowIndex;(m.rowPinned?0===w:w===this.paginationProxy.getPageFirstRow())&&(o.preventDefault(),this.focusService.focusLastHeader(o))}else r instanceof yl&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(c)&&o.preventDefault()},i.prototype.tabToNextCell=function(r,o){var c=this.focusService.getFocusedCell();if(!c)return!1;var h=this.getCellByPosition(c);return!!(h||(h=this.rowRenderer.getRowByPosition(c),h&&h.isFullWidth()))&&this.tabToNextCellCommon(h,r,o)},i.prototype.tabToNextCellCommon=function(r,o,c){var h=r.isEditing();if(!h&&r instanceof yl){var w=r.getRowCtrl();w&&(h=w.isEditing())}return(h?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(r,o,c):this.moveToNextEditingCell(r,o,c):this.moveToNextCellNotEditing(r,o))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(r,o,c){void 0===c&&(c=null);var h=r.getCellPosition();r.stopEditing();var m=this.findNextCellToFocusOn(h,o,!0);return null!=m&&(m.startEditing(null,null,!0,c),m.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(r,o,c){void 0===c&&(c=null);var h=r.getCellPosition(),m=this.findNextCellToFocusOn(h,o,!0);if(null==m)return!1;var w=m.getCellPosition(),A=this.isCellEditable(h),x=this.isCellEditable(w),N=w&&h.rowIndex===w.rowIndex&&h.rowPinned===w.rowPinned;return A&&r.setFocusOutOnEditor(),N||(r.getRowCtrl().stopEditing(),m.getRowCtrl().startRowEditing(void 0,void 0,void 0,c)),x?(m.setFocusInOnEditor(),m.focusCell()):m.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(r,o){var h,c=this.columnModel.getAllDisplayedColumns();h=r instanceof Oa?Gn(Gn({},r.getRowPosition()),{column:o?c[0]:rr(c)}):r.getCellPosition();var m=this.findNextCellToFocusOn(h,o,!1);if(m instanceof yl)m.focusCell(!0);else if(m)return this.tryToFocusFullWidthRow(m.getRowPosition(),o);return re(m)},i.prototype.findNextCellToFocusOn=function(r,o,c){for(var h=r;;){r!==h&&(r=h),o||(h=this.getLastCellOfColSpan(h)),h=this.cellNavigationService.getNextTabbedCell(h,o);var m=this.gridOptionsWrapper.getTabToNextCellFunc();if(re(m)){var A=m({backwards:o,editing:c,previousCellPosition:r,nextCellPosition:h||null});re(A)?(A.floating&&(zt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),A.rowPinned=A.floating),h={rowIndex:A.rowIndex,column:A.column,rowPinned:A.rowPinned}):h=null}if(!h)return null;if(h.rowIndex<0){var x=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x+h.rowIndex,column:h.column}}),null}var N=this.gridOptionsWrapper.isFullRowEdit();if(!c||N||this.isCellEditable(h)){this.ensureCellVisible(h);var q=this.getCellByPosition(h);if(!q){var te=this.rowRenderer.getRowByPosition(h);if(!te||!te.isFullWidth())continue;return te}if(!q.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(h),q}}},i.prototype.isCellEditable=function(r){var o=this.lookupRowNodeForCell(r);return!!o&&r.column.isCellEditable(o)},i.prototype.getCellByPosition=function(r){var o=this.rowRenderer.getRowByPosition(r);return o?o.getCellCtrl(r.column):null},i.prototype.lookupRowNodeForCell=function(r){return r.rowPinned===ge.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):r.rowPinned===ge.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)},i.prototype.navigateToNextCell=function(r,o,c,h){for(var m=c,w=!1;m&&(m===c||!this.isValidNavigateCell(m));)this.gridOptionsWrapper.isEnableRtl()?o===Ie.LEFT&&(m=this.getLastCellOfColSpan(m)):o===Ie.RIGHT&&(m=this.getLastCellOfColSpan(m)),w=b(m=this.cellNavigationService.getNextCellToFocus(o,m));if(w&&r&&r.key===Ie.UP&&(m={rowIndex:-1,rowPinned:null,column:c.column}),h){var A=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(re(A)){var N=A({key:o,previousCellPosition:c,nextCellPosition:m||null,event:r});re(N)?(N.floating&&(zt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),N.rowPinned=N.floating),m={rowPinned:N.rowPinned,rowIndex:N.rowIndex,column:N.column}):m=null}}if(m){if(m.rowIndex<0){var k=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:k+m.rowIndex,column:c.column},event:r||void 0})}var q=this.getNormalisedPosition(m);q?this.focusPosition(q):this.tryToFocusFullWidthRow(m)}},i.prototype.getNormalisedPosition=function(r){this.ensureCellVisible(r);var o=this.getCellByPosition(r);return o?(r=o.getCellPosition(),this.ensureCellVisible(r),r):null},i.prototype.tryToFocusFullWidthRow=function(r,o){void 0===o&&(o=!1);var c=this.columnModel.getAllDisplayedColumns(),h=this.rowRenderer.getRowByPosition(r);if(!h||!h.isFullWidth())return!1;var m={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(o?rr(c):c[0])};return this.focusPosition(m),!0},i.prototype.focusPosition=function(r){this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(r)},i.prototype.isValidNavigateCell=function(r){return!!this.rowPositionUtils.getRowNode(r)},i.prototype.getLastCellOfColSpan=function(r){var o=this.getCellByPosition(r);if(!o)return r;var c=o.getColSpanningList();return 1===c.length?r:{rowIndex:r.rowIndex,column:rr(c),rowPinned:r.rowPinned}},i.prototype.ensureCellVisible=function(r){b(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},wr([K("mouseEventService")],i.prototype,"mouseEventService",void 0),wr([K("paginationProxy")],i.prototype,"paginationProxy",void 0),wr([K("focusService")],i.prototype,"focusService",void 0),wr([K("animationFrameService")],i.prototype,"animationFrameService",void 0),wr([$t("rangeService")],i.prototype,"rangeService",void 0),wr([K("columnModel")],i.prototype,"columnModel",void 0),wr([K("ctrlsService")],i.prototype,"ctrlsService",void 0),wr([K("rowRenderer")],i.prototype,"rowRenderer",void 0),wr([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),wr([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),wr([K("cellNavigationService")],i.prototype,"cellNavigationService",void 0),wr([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),wr([je],i.prototype,"postConstruct",null),wr([Xe("navigationService")],i)}(Ge),AO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qS=function(f){function i(r){var o=f.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.params=r,o}return AO(i,f),i.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var r=this,o=this.getGui(),c=this.params;this.addManagedListener(o,"keydown",function(m){Cr(r.gridOptionsWrapper,m,c.node,c.column,!0)||c.onKeyDown(m)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(hl),io=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zh=function(f){function i(r,o,c,h,m){var w=f.call(this)||this;w.rendererVersion=0,w.editorVersion=0,w.beans=r,w.column=o.getColumn(),w.rowNode=o.getRowNode(),w.rowCtrl=o.getRowCtrl(),w.eRow=h,w.setTemplate('<div comp-id="'+w.getCompId()+'"/>');var A=w.getGui();w.forceWrapper=o.isForceWrapper(),w.refreshWrapper(!1);var x=function(k,q,te){var le=te||A;null!=q&&""!=q?le.setAttribute(k,q):le.removeAttribute(k)},N={addOrRemoveCssClass:function(k,q){return w.addOrRemoveCssClass(k,q)},setUserStyles:function(k){return bg(A,k)},getFocusableElement:function(){return w.getFocusableElement()},setTabIndex:function(k){return x("tabindex",k.toString())},setRole:function(k){return Mn(A,k)},setColId:function(k){return x("col-id",k)},setTitle:function(k){return x("title",k)},setIncludeSelection:function(k){return w.includeSelection=k},setIncludeRowDrag:function(k){return w.includeRowDrag=k},setIncludeDndSource:function(k){return w.includeDndSource=k},setRenderDetails:function(k,q,te){return w.setRenderDetails(k,q,te)},setEditDetails:function(k,q,te){return w.setEditDetails(k,q,te)},getCellEditor:function(){return w.cellEditor||null},getCellRenderer:function(){return w.cellRenderer||null},getParentOfValue:function(){return w.getParentOfValue()}};return w.cellCtrl=o,o.setComp(N,w.getGui(),w.eCellWrapper,c,m),w}return io(i,f),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(r,o,c){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var m=this.refreshWrapper(!1);r?!c&&!m&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(o))}},i.prototype.setEditDetails=function(r,o,c){r?this.createCellEditorInstance(r,o,c):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(r){var o=this.includeRowDrag||this.includeDndSource||this.includeSelection,c=o||this.forceWrapper,h=c&&null==this.eCellWrapper;h&&(this.eCellWrapper=br('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var m=!c&&null!=this.eCellWrapper;m&&(yr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!c);var w=!r&&c,A=w&&null==this.eCellValue;A&&(this.eCellValue=br('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var x=!w&&null!=this.eCellValue;x&&(yr(this.eCellValue),this.eCellValue=void 0);var N=h||m||A||x;return N&&this.removeControls(),!r&&o&&this.addControls(),N},i.prototype.addControls=function(){var r=this.eCellValue.id="cell-"+this.getCompId(),o=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),o.push(this.checkboxSelectionComp.getCheckboxId())),o.push(r),Op(this.getGui(),o.join(" "))},i.prototype.createCellEditorInstance=function(r,o,c){var h=this,m=this.editorVersion,w=r.newAgStackInstance();if(w){var A=r.params;w.then(function(N){return h.afterCellEditorCreated(m,N,A,o,c)}),b(this.cellEditor)&&A.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(r){var o=this.getParentOfValue();jn(o);var c=null!=r?Ht(r):null;null!=c&&(o.innerHTML=c)},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),yr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var r=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),yr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;var o=this.cellRenderer.refresh(r.params);return!0===o||void 0===o},i.prototype.createCellRendererInstance=function(r){var o=this,c=this.beans.gridOptionsWrapper.isAngularCompileRows(),h=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),w=this.rendererVersion,A=r.componentClass,x=function(){if(o.rendererVersion===w&&o.isAlive()){var k=r.newAgStackInstance(),q=o.afterCellRendererCreated.bind(o,w,A);k&&k.then(q)}};c||h||!this.firstRender?x():this.beans.animationFrameService.createTask(x,this.rowNode.rowIndex,"createTasksP2")},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(r,o,c){if(this.isAlive()&&r===this.rendererVersion){if(this.cellRenderer=c,this.cellRendererClass=o,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var m=this.getParentOfValue();jn(m),m.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(c)},i.prototype.afterCellEditorCreated=function(r,o,c,h,m){if(r!==this.editorVersion)this.beans.context.destroyBean(o);else{if(o.isCancelBeforeStart&&o.isCancelBeforeStart())return this.beans.context.destroyBean(o),void this.cellCtrl.stopEditing();if(!o.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(o);this.cellEditor=o,this.cellEditorGui=o.getGui(),h||void 0!==o.isPopup&&o.isPopup()?(h||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(c,m)):this.addInCellEditor(),o.afterGuiAttached&&o.afterGuiAttached()}},i.prototype.addInCellEditor=function(){var r=this.getGui(),o=this.beans.gridOptionsWrapper.getDocument();r.contains(o.activeElement)&&r.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(r,o){var c=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var h=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new qS(r));var m=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&m.appendChild(this.cellEditorGui);var w=this.beans.popupService,A=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),x=null!=o?o:h.getPopupPosition?h.getPopupPosition():"over",N={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:m,keepWithinBounds:!0},k="under"===x?w.positionPopupUnderComponent.bind(w,N):w.positionPopupOverComponent.bind(w,N),q=this.beans.gridOptionsWrapper.getLocaleTextFunc(),te=w.addPopup({modal:A,eChild:m,closeOnEsc:!0,closedCallback:function(){c.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:k,ariaLabel:q("ariaLabelCellEditor","Cell Editor")});te&&(this.hideEditorPopup=te.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),f.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var r=this.getGui(),o=this.beans.gridOptionsWrapper.getDocument();r.contains(o.activeElement)&&r.focus({preventScroll:!0}),jn(this.getParentOfValue())},i}(At),Qh=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),TC=function(f){function i(r,o,c){var h=f.call(this)||this;h.cellComps={},h.beans=o,h.rowCtrl=r,h.setTemplate('<div comp-id="'+h.getCompId()+'" style="'+h.getInitialStyle()+'"/>');var m=h.getGui(),w=m.style;return r.setComp({setDomOrder:function(x){return h.domOrder=x},setCellCtrls:function(x){return h.setCellCtrls(x)},showFullWidth:function(x){return h.showFullWidth(x)},getFullWidthCellRenderer:function(){return h.getFullWidthCellRenderer()},addOrRemoveCssClass:function(x,N){return h.addOrRemoveCssClass(x,N)},setUserStyles:function(x){return bg(m,x)},setTop:function(x){return w.top=x},setTransform:function(x){return w.transform=x},setRowIndex:function(x){return m.setAttribute("row-index",x)},setRole:function(x){return Mn(m,x)},setRowId:function(x){return m.setAttribute("row-id",x)},setRowBusinessKey:function(x){return m.setAttribute("row-business-key",x)},setTabIndex:function(x){return m.setAttribute("tabindex",x.toString())}},h.getGui(),c),h}return Qh(i,f),i.prototype.getInitialStyle=function(){var r=this.rowCtrl.getInitialTransform(),o=this.rowCtrl.getInitialRowTop();return r?"transform: "+r:"top: "+o},i.prototype.showFullWidth=function(r){var o=this,h=r.newAgStackInstance();!h||h.then(function(m){if(o.isAlive()){var w=m.getGui();o.getGui().appendChild(w),o.rowCtrl.setupDetailRowAutoHeight(w),o.setFullWidthRowComp(m)}else o.beans.context.destroyBean(m)})},i.prototype.setCellCtrls=function(r){var o=this,c=Object.assign({},this.cellComps);r.forEach(function(m){var w=m.getInstanceId();null==o.cellComps[w]?o.newCellComp(m):c[w]=null});var h=Ko(c).filter(function(m){return null!=m});this.destroyCells(h),this.ensureDomOrder(r)},i.prototype.ensureDomOrder=function(r){var o=this;if(this.domOrder){var c=[];r.forEach(function(h){var m=o.cellComps[h.getInstanceId()];m&&c.push(m.getGui())}),ec(this.getGui(),c)}},i.prototype.newCellComp=function(r){var o=new Zh(this.beans,r,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=o,this.getGui().appendChild(o.getGui())},i.prototype.destroy=function(){f.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var r=Ko(this.cellComps).filter(function(o){return null!=o});this.destroyCells(r)},i.prototype.setFullWidthRowComp=function(r){var o=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(function(){o.fullWidthCellRenderer=o.beans.context.destroyBean(o.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(r){var o=this;r.forEach(function(c){if(c){var h=c.getCtrl().getInstanceId();o.cellComps[h]===c&&(c.detach(),c.destroy(),o.cellComps[h]=null)}})},i}(At),xC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Su=function(){return Su=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Su.apply(this,arguments)},Cl=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Jh=function(f){function i(){var r=f.call(this,function MC(){var f=At.elementGettingCreated.getAttribute("name"),i=wu.getRowContainerCssClasses(f);return f===W.RowContainerName.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer" role="rowgroup"></div>\n                </div>\n            </div>':f===W.RowContainerName.TOP_CENTER||f===W.RowContainerName.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer" role="presentation"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer" role="presentation"></div>'}())||this;return r.rowComps={},r.name=At.elementGettingCreated.getAttribute("name"),r.type=Cu(r.name),r}return xC(i,f),i.prototype.postConstruct=function(){var r=this,o={setViewportHeight:function(h){return r.eViewport.style.height=h},setRowCtrls:function(h){return r.setRowCtrls(h)},setDomOrder:function(h){r.domOrder=h},setContainerWidth:function(h){return r.eContainer.style.width=h}};this.createManagedBean(new wu(this.name)).setComp(o,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(r){var o=this,c=Su({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(function(m){var w=m.getInstanceId(),A=c[w];if(A)o.rowComps[w]=A,delete c[w],o.ensureDomOrder(A.getGui());else{var x=o.newRowComp(m);o.rowComps[w]=x,o.appendRow(x.getGui())}}),Ko(c).forEach(function(m){o.eContainer.removeChild(m.getGui()),m.destroy()})},i.prototype.appendRow=function(r){this.domOrder?el(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r},i.prototype.ensureDomOrder=function(r){this.domOrder&&(Ql(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)},i.prototype.newRowComp=function(r){return wu.getPinned(this.name),new TC(r,this.beans,this.type)},Cl([K("beans")],i.prototype,"beans",void 0),Cl([Ne("eViewport")],i.prototype,"eViewport",void 0),Cl([Ne("eContainer")],i.prototype,"eContainer",void 0),Cl([Ne("eWrapper")],i.prototype,"eWrapper",void 0),Cl([je],i.prototype,"postConstruct",null),Cl([An],i.prototype,"preDestroy",null),i}(At),pi=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},pv=function(){function f(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return f.prototype.onDragEnter=function(i){var r=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var o=i.dragItem.columns;!o||o.forEach(function(c){!c.isPrimary()||c.isAnyFunctionActive()||(c.isAllowValue()?r.columnsToAggregate.push(c):c.isAllowRowGroup()?r.columnsToGroup.push(c):c.isAllowPivot()&&r.columnsToPivot.push(c))})}},f.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?jr.ICON_PINNED:jr.ICON_MOVE:null},f.prototype.onDragLeave=function(i){this.clearColumnsList()},f.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},f.prototype.onDragging=function(i){},f.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},pi([K("columnModel")],f.prototype,"columnModel",void 0),pi([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),f}(),ef=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Li=function(){function f(i,r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=i,this.eContainer=r,this.centerContainer=!re(i)}return f.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},f.prototype.getIconName=function(){return this.pinned?jr.ICON_PINNED:jr.ICON_MOVE},f.prototype.onDragEnter=function(i){var r=i.dragItem.columns;if(i.dragSource.type===W.DragSourceType.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var c=i.dragItem.visibleState,h=(r||[]).filter(function(m){return c[m.getId()]});this.setColumnsVisible(h,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(i,!0)},f.prototype.onDragLeave=function(i){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!i.fromNudge){var o=i.dragSource.getDragItem();this.setColumnsVisible(o.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},f.prototype.setColumnsVisible=function(i,r,o){if(void 0===o&&(o="api"),i){var c=i.filter(function(h){return!h.getColDef().lockVisible});this.columnModel.setColumnsVisible(c,r,o)}},f.prototype.setColumnsPinned=function(i,r,o){if(void 0===o&&(o="api"),i){var c=i.filter(function(h){return!h.getColDef().lockPinned});this.columnModel.setColumnsPinned(c,r,o)}},f.prototype.onDragStop=function(){this.ensureIntervalCleared()},f.prototype.normaliseX=function(i){return this.gridOptionsWrapper.isEnableRtl()&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},f.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var r=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),o=r+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=i<r+50,this.needToMoveLeft=i>o-50):(this.needToMoveLeft=i<r+50,this.needToMoveRight=i>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},f.prototype.onDragging=function(i,r){var o=this;if(void 0===r&&(r=!1),this.lastDraggingEvent=i,!b(i.hDirection)){var c=this.normaliseX(i.x);r||this.checkCenterForScrolling(c);var h=this.normaliseDirection(i.hDirection),m=i.dragSource.type,w=i.dragSource.getDragItem().columns;w=w.filter(function(A){return!A.getColDef().lockPinned||A.getPinned()==o.pinned}),this.attemptMoveColumns(m,w,h,c,r)}},f.prototype.normaliseDirection=function(i){if(!this.gridOptionsWrapper.isEnableRtl())return i;switch(i){case W.HorizontalDirection.Left:return W.HorizontalDirection.Right;case W.HorizontalDirection.Right:return W.HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+i)}},f.prototype.calculateOldIndex=function(i){var r=this.columnModel.getAllGridColumns(),o=cg(i.map(function(A){return r.indexOf(A)})),c=o[0];return rr(o)-c!=o.length-1?null:c},f.prototype.attemptMoveColumns=function(i,r,o,c,h){var m=o===W.HorizontalDirection.Left,w=o===W.HorizontalDirection.Right,A=r.slice();this.columnModel.sortColumnsLikeGridColumns(A);var x=this.calculateValidMoves(A,w,c),N=this.calculateOldIndex(A);if(0!==x.length){var k=x[0],q=null!==N&&!h;if(i==W.DragSourceType.HeaderCell&&(q=null!==N),!q||!(m&&k>=N||w&&k<=N))for(var te=0;te<x.length;te++){var le=x[te];if(this.columnModel.doesMovePassRules(A,le))return void this.columnModel.moveColumns(A,le,"uiColumnDragged")}}},f.prototype.calculateValidMoves=function(i,r,o){if(this.gridOptionsWrapper.isSuppressMovableColumns()||i.some(function(ut){return ut.getColDef().suppressMovable}))return[];var de,h=this.columnModel.getDisplayedColumns(this.pinned),m=this.columnModel.getAllGridColumns(),w=h.filter(function(ut){return Ei(i,ut)}),A=h.filter(function(ut){return!Ei(i,ut)}),x=m.filter(function(ut){return!Ei(i,ut)}),N=0,k=o;if(r){var q=0;w.forEach(function(ut){return q+=ut.getActualWidth()}),k-=q}if(k>0){for(var te=0;te<A.length&&!((k-=A[te].getActualWidth())<0);te++)N++;r&&N++}N>0?de=x.indexOf(A[N-1])+1:-1===(de=x.indexOf(A[0]))&&(de=0);var xe=[de],Oe=function(ut,ze){return ut-ze};if(r){for(var Ee=de+1,Ke=m.length-1;Ee<=Ke;)xe.push(Ee),Ee++;xe.sort(Oe)}else{Ke=m.length-1;for(var pt=m[Ee=de];Ee<=Ke&&this.isColumnHidden(h,pt);)Ee++,xe.push(Ee),pt=m[Ee];for(Ee=de-1;Ee>=0;)xe.push(Ee),Ee--;xe.sort(Oe).reverse()}return xe},f.prototype.isColumnHidden=function(i,r){return i.indexOf(r)<0},f.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?jr.ICON_LEFT:jr.ICON_RIGHT,!0))},f.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(jr.ICON_MOVE))},f.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var r=null,o=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?r=o.scrollHorizontally(-i):this.needToMoveRight&&(r=o.scrollHorizontally(i)),0!==r)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var h=this.lastDraggingEvent.dragItem.columns.filter(function(w){return!w.getColDef().lockPinned});h.length>0&&(this.dragAndDropService.setGhostIcon(jr.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(h,this.needToMoveLeft?ge.PINNED_LEFT:ge.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},ef([K("columnModel")],f.prototype,"columnModel",void 0),ef([K("dragAndDropService")],f.prototype,"dragAndDropService",void 0),ef([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),ef([K("ctrlsService")],f.prototype,"ctrlsService",void 0),ef([je],f.prototype,"init",null),f}(),Da=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ec=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},zn=function(f){function i(r,o){var c=f.call(this)||this;return c.pinned=r,c.eContainer=o,c}return Da(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){switch(r.pinned){case ge.PINNED_LEFT:r.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.leftRowContainerCtrl.getContainerElement()],[o.bottomLeftRowContainerCtrl.getContainerElement()],[o.topLeftRowContainerCtrl.getContainerElement()]];break;case ge.PINNED_RIGHT:r.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.rightRowContainerCtrl.getContainerElement()],[o.bottomRightRowContainerCtrl.getContainerElement()],[o.topRightRowContainerCtrl.getContainerElement()]];break;default:r.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.centerRowContainerCtrl.getViewportElement()],[o.bottomCenterRowContainerCtrl.getViewportElement()],[o.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(r){return r===W.DragSourceType.HeaderCell||r===W.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Li(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new pv(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(r){return this.columnModel.isPivotMode()&&r.dragSource.type===W.DragSourceType.ToolPanel},i.prototype.onDragEnter=function(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)},i.prototype.onDragLeave=function(r){this.currentDropListener.onDragLeave(r)},i.prototype.onDragging=function(r){this.currentDropListener.onDragging(r)},i.prototype.onDragStop=function(r){this.currentDropListener.onDragStop(r)},Ec([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Ec([K("columnModel")],i.prototype,"columnModel",void 0),Ec([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ec([je],i.prototype,"postConstruct",null),Ec([je],i.prototype,"init",null),i}(Ge),tf=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},rf=function(){function f(){}return f.getHeaderClassesFromColDef=function(i,r,o,c){return b(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,r,o,c)},f.getToolPanelClassesFromColDef=function(i,r,o,c){return b(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,r,o,c)},f.getClassParams=function(i,r,o,c){return{colDef:i,column:o,columnGroup:c,api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()}},f.getColumnClassesFromCollDef=function(i,r,o,c,h){return b(i)?[]:"string"==typeof(m="function"==typeof i?i(this.getClassParams(r,o,c,h)):i)?[m]:Array.isArray(m)?function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(tf(arguments[i]));return f}(m):[];var m},f}(),dv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},nf=function(f){function i(r){var o=f.call(this,i.TEMPLATE,r)||this;return o.headerCompVersion=0,o.column=r.getColumnGroupChild(),o.pinned=r.getPinned(),o}return dv(i,f),i.prototype.postConstruct=function(){var r=this,o=this.getGui(),c=function(w,A,x){var N=x||o;null!=A&&""!=A?N.setAttribute(w,A):N.removeAttribute(w)};this.ctrl.setComp({setWidth:function(w){return o.style.width=w},addOrRemoveCssClass:function(w,A){return r.addOrRemoveCssClass(w,A)},setAriaSort:function(w){return w?cS(o,w):pS(o)},setColId:function(w){return c("col-id",w)},setTitle:function(w){return c("title",w)},setAriaDescribedBy:function(w){return Op(o,w)},setUserCompDetails:function(w){return r.setUserCompDetails(w)},getUserCompInstance:function(){return r.headerComp}},this.getGui(),this.eResize);var m=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",m)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(r){var o=this;this.headerCompVersion++;var c=this.headerCompVersion;r.newAgStackInstance().then(function(h){return o.afterCompCreated(c,h)})},i.prototype.afterCompCreated=function(r,o){r==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=o,this.headerCompGui=o.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(o)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',hv([Ne("eResize")],i.prototype,"eResize",void 0),hv([je],i.prototype,"postConstruct",null),hv([An],i.prototype,"destroyHeaderComp",null),i}(ks),fv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Oc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},id=function(f){function i(r){return f.call(this,i.TEMPLATE,r)||this}return fv(i,f),i.prototype.postConstruct=function(){var r=this,o=this.getGui(),c=function(m,w){return null!=w?o.setAttribute(m,w):o.removeAttribute(m)};this.ctrl.setComp({addOrRemoveCssClass:function(m,w){return r.addOrRemoveCssClass(m,w)},addOrRemoveResizableCssClass:function(m,w){return r.eResize.classList.toggle(m,w)},setWidth:function(m){return o.style.width=m},setColId:function(m){return o.setAttribute("col-id",m)},setAriaExpanded:function(m){return c("aria-expanded",m)},setTitle:function(m){return c("title",m)},setUserCompDetails:function(m){return r.setUserCompDetails(m)}},o,this.eResize)},i.prototype.setUserCompDetails=function(r){var o=this;r.newAgStackInstance().then(function(c){return o.afterHeaderCompCreated(c)})},i.prototype.afterHeaderCompCreated=function(r){var o=this,c=function(){return o.destroyBean(r)};this.isAlive()?(this.getGui().appendChild(r.getGui()),this.addDestroyFunc(c),this.ctrl.setDragSource(r.getGui())):c()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',Oc([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Oc([Ne("eResize")],i.prototype,"eResize",void 0),Oc([je],i.prototype,"postConstruct",null),i}(ks),Dc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h};!function(f){f.COLUMN_GROUP="group",f.COLUMN="column",f.FLOATING_FILTER="filter"}(W.HeaderRowType||(W.HeaderRowType={}));var gv=function(f){function i(r){var o=f.call(this)||this;o.headerComps={};var c=r.getType()==W.HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==W.HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.setTemplate('<div class="ag-header-row '+c+'" role="row"></div>'),o.ctrl=r,o}return Dc(i,f),i.prototype.init=function(){var r=this;this.ctrl.setComp({setTransform:function(c){return r.getGui().style.transform=c},setHeight:function(c){return r.getGui().style.height=c},setTop:function(c){return r.getGui().style.top=c},setHeaderCtrls:function(c){return r.setHeaderCtrls(c)},setWidth:function(c){return r.getGui().style.width=c},setAriaRowIndex:function(c){return Hm(r.getGui(),c)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(r){var o=this;if(this.isAlive()){var c=this.headerComps;if(this.headerComps={},r.forEach(function(A){var x=A.getInstanceId(),N=c[x];delete c[x],null==N&&(N=o.createHeaderComp(A),o.getGui().appendChild(N.getGui())),o.headerComps[x]=N}),Jt(c,function(A,x){o.getGui().removeChild(x.getGui()),o.destroyBean(x)}),this.gridOptionsWrapper.isEnsureDomOrder()){var m=Ko(this.headerComps);m.sort(function(A,x){return A.getCtrl().getColumnGroupChild().getLeft()-x.getCtrl().getColumnGroupChild().getLeft()});var w=m.map(function(A){return A.getGui()});ec(this.getGui(),w)}}},i.prototype.createHeaderComp=function(r){var o;switch(this.ctrl.getType()){case W.HeaderRowType.COLUMN_GROUP:o=new id(r);break;case W.HeaderRowType.FLOATING_FILTER:o=new hC(r);break;default:o=new nf(r)}return this.createBean(o),o.setParentComponent(this),o},Rc([je],i.prototype,"init",null),Rc([An],i.prototype,"destroyHeaderCtrls",null),i}(At),ZS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),IC=0,ns=function(f){function i(r,o){var c=f.call(this)||this;return c.lastFocusEvent=null,c.columnGroupChild=r,c.parentRowCtrl=o,c.instanceId=r.getUniqueId()+"-"+IC++,c}return ZS(i,f),i.prototype.shouldStopEventPropagation=function(r){var o=this.focusService.getFocusedHeader();return qm(this.gridOptionsWrapper,r,o.headerRowIndex,o.column)},i.prototype.setGui=function(r){this.eGui=r,this.addDomData()},i.prototype.addDomData=function(){var r=this,o=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,o,this),this.addDestroyFunc(function(){return r.gridOptionsWrapper.setDomData(r.eGui,o,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(r){return!!this.eGui&&(this.lastFocusEvent=r||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([K("focusService")],i.prototype,"focusService",void 0),i}(Ge);!function(f){f.EVERYTHING="group",f.FILTER="filter",f.SORT="sort",f.MAP="map",f.AGGREGATE="aggregate",f.FILTER_AGGREGATES="filter_aggregates",f.PIVOT="pivot",f.NOTHING="nothing"}(W.ClientSideRowModelSteps||(W.ClientSideRowModelSteps={}));var kt=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h};function wl(f){return null!=f&&null!=f.getFrameworkComponentInstance?f.getFrameworkComponentInstance():f}var NC=function(){function f(){this.detailGridInfoMap={},this.destroyCalled=!1}return f.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},f.prototype.registerSideBarComp=function(i){this.sideBarComp=i},f.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case ge.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ge.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ge.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl()})},f.prototype.__getAlignedGridService=function(){return this.alignedGridsService},f.prototype.__getContext=function(){return this.context},f.prototype.addDetailGridInfo=function(i,r){this.detailGridInfoMap[i]=r},f.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},f.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},f.prototype.forEachDetailGridInfo=function(i){var r=0;Jt(this.detailGridInfoMap,function(o,c){re(c)&&(i(c,r),r++)})},f.prototype.getDataAsCsv=function(i){if(wt.assertRegistered(W.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},f.prototype.exportDataAsCsv=function(i){wt.assertRegistered(W.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},f.prototype.getExcelExportMode=function(i){var r=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},r,i).exportMode},f.prototype.getDataAsExcel=function(i){if(wt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var r=this.getExcelExportMode(i);return this.excelCreator.getFactoryMode(r)===W.ExcelFactoryMode.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(i)}},f.prototype.exportDataAsExcel=function(i){if(wt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var r=this.getExcelExportMode(i);if(this.excelCreator.getFactoryMode(r)===W.ExcelFactoryMode.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(i)}},f.prototype.getSheetDataForExcel=function(i){if(wt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var r=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(W.ExcelFactoryMode.MULTI_SHEET,r),this.excelCreator.getSheetDataForExcel(i)}},f.prototype.getMultipleSheetsAsExcel=function(i){if(wt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},f.prototype.exportMultipleSheetsAsExcel=function(i){if(wt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},f.prototype.setEnterpriseDatasource=function(i){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(i)},f.prototype.setGridAriaProperty=function(i,r){if(i){var o=this.ctrlsService.getGridBodyCtrl().getGui(),c="aria-"+i;null===r?o.removeAttribute(c):o.setAttribute(c,r)}},f.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ge.ROW_MODEL_TYPE_SERVER_SIDE+"'")},f.prototype.setDatasource=function(i){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(i):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+ge.ROW_MODEL_TYPE_INFINITE+"'")},f.prototype.setViewportDatasource=function(i){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(i):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ge.ROW_MODEL_TYPE_VIEWPORT+"'")},f.prototype.setRowData=function(i){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(i):(this.selectionService.reset(),this.clientSideRowModel.setRowData(i))},f.prototype.setFloatingTopRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(i)},f.prototype.setFloatingBottomRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(i)},f.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},f.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},f.prototype.getFloatingTopRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(i)},f.prototype.getFloatingBottomRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(i)},f.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},f.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},f.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},f.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},f.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},f.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},f.prototype.setColumnDefs=function(i,r){void 0===r&&(r="api"),this.columnModel.setColumnDefs(i,r)},f.prototype.setAutoGroupColumnDef=function(i,r){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",i,!0)},f.prototype.setDefaultColDef=function(i,r){this.gridOptionsWrapper.setProperty("defaultColDef",i,!0)},f.prototype.expireValueCache=function(){this.valueCache.expire()},f.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},f.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},f.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",i)},f.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",i)},f.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},f.prototype.refreshCells=function(i){void 0===i&&(i={}),Array.isArray(i)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(i)},f.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},f.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},f.prototype.setFunctionsReadOnly=function(i){this.gridOptionsWrapper.setProperty("functionsReadOnly",i)},f.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},f.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},f.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},f.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},f.prototype.getModel=function(){return this.rowModel},f.prototype.setRowNodeExpanded=function(i,r){i&&i.setExpanded(r)},f.prototype.onGroupExpandedOrCollapsed=function(i){b(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),re(i)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:W.ClientSideRowModelSteps.MAP})},f.prototype.refreshInMemoryRowModel=function(i){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(i)},f.prototype.refreshClientSideRowModel=function(i){b(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var r=W.ClientSideRowModelSteps.EVERYTHING,o={group:W.ClientSideRowModelSteps.EVERYTHING,filter:W.ClientSideRowModelSteps.FILTER,map:W.ClientSideRowModelSteps.MAP,aggregate:W.ClientSideRowModelSteps.AGGREGATE,sort:W.ClientSideRowModelSteps.SORT,pivot:W.ClientSideRowModelSteps.PIVOT};if(re(i)&&(r=o[i]),b(r))console.error("AG Grid: invalid step "+i+", available steps are "+Object.keys(o).join(", "));else{var c=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:c})}},f.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},f.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},f.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},f.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},f.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},f.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},f.prototype.getToolPanelInstance=function(i){if(this.sideBarComp)return wl(this.sideBarComp.getToolPanelInstance(i));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},f.prototype.addVirtualRowListener=function(i,r,o){"string"!=typeof i&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(i,r,o)},f.prototype.addRenderedRowListener=function(i,r,o){"virtualRowSelected"===i&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(i,r,o)},f.prototype.setQuickFilter=function(i){this.filterManager.setQuickFilter(i)},f.prototype.selectIndex=function(i,r,o){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(i,r)},f.prototype.deselectIndex=function(i,r){void 0===r&&(r=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(i)},f.prototype.selectNode=function(i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!0,clearSelection:!r})},f.prototype.deselectNode=function(i,r){void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!1})},f.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},f.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},f.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},f.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},f.prototype.recomputeAggregates=function(){b(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:W.ClientSideRowModelSteps.AGGREGATE})},f.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},f.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},f.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},f.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},f.prototype.isNodeSelected=function(i){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),i.isSelected()},f.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},f.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},f.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},f.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},f.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},f.prototype.ensureColIndexVisible=function(i){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},f.prototype.ensureColumnVisible=function(i,r){void 0===r&&(r="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(i,r)},f.prototype.ensureIndexVisible=function(i,r){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i,r)},f.prototype.ensureNodeVisible=function(i,r){void 0===r&&(r=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(i,r)},f.prototype.forEachLeafNode=function(i){b(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(i)},f.prototype.forEachNode=function(i){this.rowModel.forEachNode(i)},f.prototype.forEachNodeAfterFilter=function(i){b(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(i)},f.prototype.forEachNodeAfterFilterAndSort=function(i){b(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},f.prototype.getFilterInstance=function(i,r){var o=this.getFilterInstanceImpl(i,function(h){if(r){var m=wl(h);r(m)}});return wl(o)},f.prototype.getFilterInstanceImpl=function(i,r){var o=this.columnModel.getPrimaryColumn(i);if(o){var c=this.filterManager.getFilterComponent(o,"NO_UI"),h=c&&c.resolveNow(null,function(m){return m});return h?setTimeout(r,0,h):c&&c.then(function(m){r(m)}),h}},f.prototype.destroyFilter=function(i){var r=this.columnModel.getPrimaryColumn(i);if(r)return this.filterManager.destroyFilter(r,"filterDestroyed")},f.prototype.getStatusPanel=function(i){if(this.statusBarService)return wl(this.statusBarService.getStatusPanel(i))},f.prototype.getColumnDef=function(i){var r=this.columnModel.getPrimaryColumn(i);return r?r.getColDef():null},f.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},f.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},f.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},f.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},f.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},f.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},f.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},f.prototype.setFocusedCell=function(i,r,o){this.focusService.setFocusedCell(i,r,o,!0)},f.prototype.setSuppressRowDrag=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_SUPPRESS_ROW_DRAG,i)},f.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,i)},f.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_SUPPRESS_ROW_CLICK_SELECTION,i)},f.prototype.addRowDropZone=function(i){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(i)},f.prototype.removeRowDropZone=function(i){var r=this.dragAndDropService.findExternalZone(i);r&&this.dragAndDropService.removeDropTarget(r)},f.prototype.getRowDropZoneParams=function(i){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(i)},f.prototype.setHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_HEADER_HEIGHT,i)},f.prototype.setDomLayout=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_DOM_LAYOUT,i)},f.prototype.setEnableCellTextSelection=function(i){this.gridBodyCtrl.setCellTextSelection(i)},f.prototype.setFillHandleDirection=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_FILL_HANDLE_DIRECTION,i)},f.prototype.setGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GROUP_HEADER_HEIGHT,i)},f.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_FLOATING_FILTERS_HEIGHT,i)},f.prototype.setPivotHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PIVOT_HEADER_HEIGHT,i)},f.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PIVOT_GROUP_HEADER_HEIGHT,i)},f.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_EXTERNAL_FILTER_PRESENT,i)},f.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_DOES_EXTERNAL_FILTER_PASS,i)},f.prototype.setNavigateToNextCell=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_NAVIGATE_TO_NEXT_CELL,i)},f.prototype.setTabToNextCell=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_TAB_TO_NEXT_CELL,i)},f.prototype.setTabToNextHeader=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_TAB_TO_NEXT_HEADER,i)},f.prototype.setNavigateToNextHeader=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_NAVIGATE_TO_NEXT_HEADER,i)},f.prototype.setGroupRowAggNodes=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GROUP_ROW_AGG_NODES,i)},f.prototype.setGetGroupRowAgg=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_GROUP_ROW_AGG,i)},f.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_BUSINESS_KEY_FOR_NODE,i)},f.prototype.setGetChildCount=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_CHILD_COUNT,i)},f.prototype.setProcessRowPostCreate=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PROCESS_ROW_POST_CREATE,i)},f.prototype.setGetRowNodeId=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_ROW_NODE_ID,i)},f.prototype.setGetRowId=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_ROW_ID,i)},f.prototype.setGetRowClass=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_ROW_CLASS,i)},f.prototype.setIsFullWidthCell=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_FULL_WIDTH_CELL,i)},f.prototype.setIsFullWidthRow=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_FULL_WIDTH_ROW,i)},f.prototype.setIsRowSelectable=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_ROW_SELECTABLE,i)},f.prototype.setIsRowMaster=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_ROW_MASTER,i)},f.prototype.setPostSort=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_POST_SORT,i)},f.prototype.setPostSortRows=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_POST_SORT_ROWS,i)},f.prototype.setGetDocument=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_DOCUMENT,i)},f.prototype.setGetContextMenuItems=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_CONTEXT_MENU_ITEMS,i)},f.prototype.setGetMainMenuItems=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_MAIN_MENU_ITEMS,i)},f.prototype.setProcessCellForClipboard=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PROCESS_CELL_FOR_CLIPBOARD,i)},f.prototype.setSendToClipboard=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_SEND_TO_CLIPBOARD,i)},f.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PROCESS_CELL_FROM_CLIPBOARD,i)},f.prototype.setProcessSecondaryColDef=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PROCESS_TO_SECONDARY_COLDEF,i)},f.prototype.setProcessSecondaryColGroupDef=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,i)},f.prototype.setPostProcessPopup=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_POST_PROCESS_POPUP,i)},f.prototype.setDefaultGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,i)},f.prototype.setInitialGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_INITIAL_GROUP_ORDER_COMPARATOR,i)},f.prototype.setGetChartToolbarItems=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_CHART_TOOLBAR_ITEMS,i)},f.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_PAGINATION_NUMBER_FORMATTER,i)},f.prototype.setGetServerSideStoreParams=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_SERVER_SIDE_STORE_PARAMS,i)},f.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,i)},f.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,i)},f.prototype.setIsServerSideGroup=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_IS_SERVER_SIDE_GROUP,i)},f.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_SERVER_SIDE_GROUP_KEY,i)},f.prototype.setGetRowStyle=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_ROW_STYLE,i)},f.prototype.setGetRowHeight=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GET_ROW_HEIGHT,i)},f.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},f.prototype.setSideBarVisible=function(i){this.sideBarComp?this.sideBarComp.setDisplayed(i):i&&console.warn("AG Grid: sideBar is not loaded")},f.prototype.setSideBarPosition=function(i){this.sideBarComp?this.sideBarComp.setSideBarPosition(i):console.warn("AG Grid: sideBar is not loaded")},f.prototype.openToolPanel=function(i){this.sideBarComp?this.sideBarComp.openToolPanel(i):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},f.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},f.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},f.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},f.prototype.setSideBar=function(i){this.gridOptionsWrapper.setProperty("sideBar",zp.parse(i))},f.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_SUPPRESS_CLIPBOARD_PASTE,i)},f.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},f.prototype.doLayout=function(){zt(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},f.prototype.resetRowHeights=function(){if(re(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},f.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i)},f.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i)},f.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},f.prototype.getValue=function(i,r){var o=this.columnModel.getPrimaryColumn(i);return b(o)&&(o=this.columnModel.getGridColumn(i)),b(o)?null:this.valueService.getValue(o,r)},f.prototype.addEventListener=function(i,r){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(i,r,o)},f.prototype.addGlobalListener=function(i){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(i,r)},f.prototype.removeEventListener=function(i,r){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(i,r,o)},f.prototype.removeGlobalListener=function(i){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(i,r)},f.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},f.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},f.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ws.bind(window,this,"Grid API"),100)},f.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},f.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},f.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},f.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},f.prototype.camelCaseToHumanReadable=function(i){return Dt(i)},f.prototype.addRangeSelection=function(i){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},f.prototype.addCellRange=function(i){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(i)},f.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},f.prototype.undoCellEditing=function(){this.undoRedoService.undo()},f.prototype.redoCellEditing=function(){this.undoRedoService.redo()},f.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},f.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},f.prototype.getChartModels=function(){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.getChartModels")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},f.prototype.getChartRef=function(i){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.getChartRef")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},f.prototype.getChartImageDataURL=function(i){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.getChartImageDataURL")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},f.prototype.createRangeChart=function(i){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},f.prototype.createCrossFilterChart=function(i){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},f.prototype.restoreChart=function(i,r){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.restoreChart")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,r)},f.prototype.createPivotChart=function(i){if(wt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&wt.assertRegistered(W.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},f.prototype.copySelectedRowsToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(i)},f.prototype.copySelectedRangeToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(i)},f.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},f.prototype.showColumnMenuAfterButtonClick=function(i,r){var o=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(o,r,"columnMenu")},f.prototype.showColumnMenuAfterMouseClick=function(i,r){var o=this.columnModel.getGridColumn(i);o||(o=this.columnModel.getPrimaryColumn(i)),o?this.menuFactory.showMenuAfterMouseEvent(o,r):console.error("AG Grid: column '"+i+"' not found")},f.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},f.prototype.setPopupParent=function(i){this.gridOptionsWrapper.setProperty(Ye.PROP_POPUP_PARENT,i)},f.prototype.tabToNextCell=function(i){return this.navigationService.tabToNextCell(!1,i)},f.prototype.tabToPreviousCell=function(i){return this.navigationService.tabToNextCell(!0,i)},f.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(wl)},f.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(wl)},f.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},f.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},f.prototype.startEditingCell=function(i){var r=this.columnModel.getGridColumn(i.colKey);if(r){var o={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:r};null==i.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i.rowIndex);var h=this.navigationService.getCellByPosition(o);!h||h.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},f.prototype.addAggFunc=function(i,r){this.aggFuncService&&this.aggFuncService.addAggFunc(i,r)},f.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},f.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},f.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},f.prototype.applyServerSideTransactionAsync=function(i,r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,r);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},f.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},f.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},f.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var r=this.clientSideRowModel.updateRowData(i);return this.rowRenderer.refreshFullWidthRows(r.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),r}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},f.prototype.updateRowData=function(i){return zt(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(i)},f.prototype.applyTransactionAsync=function(i,r){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,r):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},f.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},f.prototype.batchUpdateRowData=function(i,r){zt(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(i,r)},f.prototype.insertItemsAtIndex=function(i,r,o){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:r,addIndex:i,update:null,remove:null})},f.prototype.removeItems=function(i,r){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=i.map(function(c){return c.data});this.updateRowData({add:null,addIndex:null,update:null,remove:o})},f.prototype.addItems=function(i,r){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:null,update:null,remove:null})},f.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},f.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},f.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},f.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},f.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},f.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},f.prototype.purgeEnterpriseCache=function(i){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(i)},f.prototype.purgeServerSideCache=function(i){void 0===i&&(i=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:i,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},f.prototype.refreshServerSideStore=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},f.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},f.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},f.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},f.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},f.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},f.prototype.setVirtualRowCount=function(i,r){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(i,r)},f.prototype.setInfiniteRowCount=function(i,r){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(i,r)},f.prototype.setRowCount=function(i,r){this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,r):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},f.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},f.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},f.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},f.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},f.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},f.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},f.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},f.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},f.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},f.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},f.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},f.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},f.prototype.paginationSetPageSize=function(i){this.gridOptionsWrapper.setProperty("paginationPageSize",i)},f.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},f.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},f.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},f.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},f.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},f.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},f.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},f.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},kt([$t("immutableService")],f.prototype,"immutableService",void 0),kt([$t("csvCreator")],f.prototype,"csvCreator",void 0),kt([$t("excelCreator")],f.prototype,"excelCreator",void 0),kt([K("rowRenderer")],f.prototype,"rowRenderer",void 0),kt([K("navigationService")],f.prototype,"navigationService",void 0),kt([K("filterManager")],f.prototype,"filterManager",void 0),kt([K("columnModel")],f.prototype,"columnModel",void 0),kt([K("selectionService")],f.prototype,"selectionService",void 0),kt([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),kt([K("valueService")],f.prototype,"valueService",void 0),kt([K("alignedGridsService")],f.prototype,"alignedGridsService",void 0),kt([K("eventService")],f.prototype,"eventService",void 0),kt([K("pinnedRowModel")],f.prototype,"pinnedRowModel",void 0),kt([K("context")],f.prototype,"context",void 0),kt([K("rowModel")],f.prototype,"rowModel",void 0),kt([K("sortController")],f.prototype,"sortController",void 0),kt([K("paginationProxy")],f.prototype,"paginationProxy",void 0),kt([K("focusService")],f.prototype,"focusService",void 0),kt([K("dragAndDropService")],f.prototype,"dragAndDropService",void 0),kt([$t("rangeService")],f.prototype,"rangeService",void 0),kt([$t("clipboardService")],f.prototype,"clipboardService",void 0),kt([$t("aggFuncService")],f.prototype,"aggFuncService",void 0),kt([K("menuFactory")],f.prototype,"menuFactory",void 0),kt([$t("contextMenuFactory")],f.prototype,"contextMenuFactory",void 0),kt([K("valueCache")],f.prototype,"valueCache",void 0),kt([K("animationFrameService")],f.prototype,"animationFrameService",void 0),kt([$t("statusBarService")],f.prototype,"statusBarService",void 0),kt([$t("chartService")],f.prototype,"chartService",void 0),kt([$t("undoRedoService")],f.prototype,"undoRedoService",void 0),kt([$t("rowNodeBlockLoader")],f.prototype,"rowNodeBlockLoader",void 0),kt([$t("ssrmTransactionManager")],f.prototype,"serverSideTransactionManager",void 0),kt([K("ctrlsService")],f.prototype,"ctrlsService",void 0),kt([$t("frameworkComponentWrapper")],f.prototype,"frameworkComponentWrapper",void 0),kt([je],f.prototype,"init",null),kt([An],f.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),kt([Xe("gridApi")],f)}(),Ws=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),od=function(f){function i(r,o,c,h){var m=f.call(this)||this;return m.columnOrGroup=r,m.eCell=o,m.ariaEl=m.eCell.querySelector("[role=columnheader]")||m.eCell,m.colsSpanning=h,m.beans=c,m}return Ws(i,f),i.prototype.setColsSpanning=function(r){this.colsSpanning=r,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?rr(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,Bt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var r=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),o=re(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&o&&!r?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var r=this,o=this.getColumnOrGroup(),c=o.getLeft(),h=o.getOldLeft(),m=this.modifyLeftForPrintLayout(o,h),w=this.modifyLeftForPrintLayout(o,c);this.setLeft(m),this.actualLeft=w,this.beans.columnAnimationService.executeNextVMTurn(function(){r.actualLeft===w&&r.setLeft(w)})},i.prototype.onLeftChanged=function(){var r=this.getColumnOrGroup(),o=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,o),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(r,o){if(this.beans.gridOptionsWrapper.getDomLayout()!==ge.DOM_LAYOUT_PRINT||r.getPinned()===ge.PINNED_LEFT)return o;var h=this.beans.columnModel.getDisplayedColumnsLeftWidth();return r.getPinned()===ge.PINNED_RIGHT?h+this.beans.columnModel.getBodyContainerWidth()+o:h+o},i.prototype.setLeft=function(r){var o;if(re(r)&&(this.eCell.style.left=r+"px"),this.columnOrGroup instanceof Bt)o=this.columnOrGroup;else{var h=this.columnOrGroup.getLeafColumns();if(!h.length)return;h.length>1&&uS(this.ariaEl,h.length),o=h[0]}var m=this.beans.columnModel.getAriaColumnIndex(o);Wm(this.ariaEl,m)},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(Ge),LC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),of=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},oo=function(f){function i(r,o){var c=f.call(this)||this;return c.columns=r,c.element=o,c}return LC(i,f),i.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},of([K("columnHoverService")],i.prototype,"columnHoverService",void 0),of([je],i.prototype,"postConstruct",null),i}(Ge),vv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),is=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ac=function(f){function i(r,o){var c=f.call(this,r,o)||this;return c.column=r,c}return vv(i,f),i.prototype.setComp=function(r,o,c,h){f.prototype.setGui.call(this,o),this.comp=r,this.eButtonShowMainFilter=c,this.eFloatingFilterBody=h;var m=this.column.getColDef();this.active=!(!m.filter&&!m.filterFramework||!m.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},i.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var r=kr("filter",this.gridOptionsWrapper,this.column);r&&this.eButtonShowMainFilter.appendChild(r)}},i.prototype.setupFocus=function(){this.createManagedBean(new Jo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(r){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var m=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);if(m)return this.beans.headerNavigationService.scrollToColumn(this.column),r.preventDefault(),void m.focus();var w=this.findNextColumnWithFloatingFilter(r.shiftKey);!w||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:w},event:r})&&r.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(r){var o=this.beans.columnModel,c=this.column;do{if(!(c=r?o.getDisplayedColBefore(c):o.getDisplayedColAfter(c)))break}while(!c.getColDef().filter||!c.getColDef().floatingFilter);return c},i.prototype.handleKeyDown=function(r){var h=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(r.key){case Ie.UP:case Ie.DOWN:h||r.preventDefault();case Ie.LEFT:case Ie.RIGHT:if(h)return;r.stopPropagation();case Ie.ENTER:h&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case Ie.ESCAPE:h||this.eGui.focus()}},i.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var c=!!r.relatedTarget&&!r.relatedTarget.classList.contains("ag-floating-filter"),h=!!r.relatedTarget&&hn(r.relatedTarget,"ag-floating-filter");if(c&&h&&r.target===this.eGui){var m=this.lastFocusEvent;m&&m&&m.key===Ie.TAB&&this.focusService.focusInto(this.eGui,m.shiftKey)}var x=this.getRowIndex();this.beans.focusService.setFocusedHeader(x,this.column)}},i.prototype.setupHover=function(){var r=this;this.createManagedBean(new oo([this.column],this.eGui));var o=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var c=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",c)}};this.addManagedListener(this.eventService,ne.EVENT_COLUMN_HOVER_CHANGED,o),o()},i.prototype.setupLeft=function(){var r=new od(this.column,this.eGui,this.beans);this.createManagedBean(r)},i.prototype.setupUserComp=function(){var r=this;if(this.active){var o=this.column.getColDef(),c=this.filterManager.createFilterParams(this.column,o),h=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,fu,c),m=this.userComponentFactory.getDefaultFloatingFilterType(o);null==m&&(m="agReadOnlyFloatingFilter");var w={column:this.column,filterParams:h,currentParentModel:function(){return r.currentParentModel()},parentFilterInstance:function(x){return r.parentFilterInstance(x)},showParentFilter:function(){return r.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!o.floatingFilterComponentParams&&!!o.floatingFilterComponentParams.suppressFilterButton;var A=this.userComponentFactory.getFloatingFilterCompDetails(o,w,m);A&&this.comp.setCompDetails(A)}},i.prototype.currentParentModel=function(){var r=this.getFilterComponent(!1);return r?r.resolveNow(null,function(o){return o&&o.getModel()}):null},i.prototype.getFilterComponent=function(r){return void 0===r&&(r=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",r)},i.prototype.parentFilterInstance=function(r){var o=this.getFilterComponent();null!=o&&o.then(function(c){r(wl(c))})},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var r=this;if(this.active){var o=function(c){var h=r.comp.getFloatingFilterComp();if(h){var m=r.currentParentModel();h.then(function(w){w&&w.onParentModelChanged(m,c)})}};this.addManagedListener(this.column,Bt.EVENT_FILTER_CHANGED,o),this.filterManager.isFilterActive(this.column)&&o(null)}},i.prototype.setupWidth=function(){var r=this,o=function(){var c=r.column.getActualWidth()+"px";r.comp.setWidth(c)};this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,o),o()},is([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),is([K("filterManager")],i.prototype,"filterManager",void 0),is([K("columnHoverService")],i.prototype,"columnHoverService",void 0),is([K("gridApi")],i.prototype,"gridApi",void 0),is([K("menuFactory")],i.prototype,"menuFactory",void 0),is([K("beans")],i.prototype,"beans",void 0),i}(ns),GC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},kC=function(f){function i(r,o,c,h,m){var w=f.call(this)||this;return w.pinned=r,w.column=o,w.eResize=c,w.comp=h,w.ctrl=m,w}return GC(i,f),i.prototype.postConstruct=function(){var h,m,r=this,o=this.column.getColDef(),c=[],A=function(){c.forEach(function(N){return N()}),c.length=0},x=function(){var N=r.column.isResizable(),k=!r.gridOptionsWrapper.isSuppressAutoSize()&&!o.suppressAutoSize;(N!==h||k!==m)&&(h=N,m=k,A(),function(){if(ur(r.eResize,h),h){var N=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(c.push(N),m){var k=r.gridOptionsWrapper.isSkipHeaderOnAutoSize(),q=function(){r.columnModel.autoSizeColumn(r.column,k,"uiColumnResized")};r.eResize.addEventListener("dblclick",q);var te=new eo(r.eResize);te.addEventListener(eo.EVENT_DOUBLE_TAP,q),r.addDestroyFunc(function(){r.eResize.removeEventListener("dblclick",q),te.removeEventListener(eo.EVENT_DOUBLE_TAP,q),te.destroy()})}}}())};x(),this.addDestroyFunc(A),this.ctrl.addRefreshFunction(x)},i.prototype.onResizing=function(r,o){var c=this.normaliseResizeAmount(o);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+c}],this.resizeWithShiftKey,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(r){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=r,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(r){var o=r,c=this.pinned!==ge.PINNED_LEFT,h=this.pinned===ge.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?c&&(o*=-1):h&&(o*=-1),o},sd([K("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),sd([K("columnModel")],i.prototype,"columnModel",void 0),sd([je],i.prototype,"postConstruct",null),i}(Ge),yv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),js=function(f){function i(r,o,c){void 0===o&&(o="ag-checkbox"),void 0===c&&(c="checkbox");var h=f.call(this,r,o,c)||this;return h.labelAlignment="right",h.selected=!1,h.readOnly=!1,h.passive=!1,h}return yv(i,f),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(r){this.passive=r},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(r){this.eWrapper.classList.toggle("ag-disabled",r),this.eInput.disabled=r,this.readOnly=r},i.prototype.setDisabled=function(r){return this.eWrapper.classList.toggle("ag-disabled",r),f.prototype.setDisabled.call(this,r)},i.prototype.toggle=function(){if(!this.eInput.disabled){var r=this.isSelected(),o=this.getNextValue();this.passive?this.dispatchChange(o,r):this.setValue(o)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(r,o){return this.refreshSelectedClass(r),this.setSelected(r,o),this},i.prototype.setName=function(r){return this.getInputElement().name=r,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(r,o){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,o||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(r,o,c){this.dispatchEvent({type:i.EVENT_CHANGED,selected:r,previousValue:o,event:c});var h=this.getInputElement();this.eventService.dispatchEvent({type:ne.EVENT_CHECKBOX_CHANGED,id:h.id,name:h.name,selected:r,previousValue:o})},i.prototype.onCheckboxClick=function(r){if(!this.passive&&!this.eInput.disabled){var o=this.isSelected(),c=this.selected=r.target.checked;this.refreshSelectedClass(c),this.dispatchChange(c,o,r)}},i.prototype.refreshSelectedClass=function(r){this.eWrapper.classList.toggle("ag-checked",!0===r),this.eWrapper.classList.toggle("ag-indeterminate",null==r)},i}(Do),Pc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Us=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},so=function(f){function i(r){var o=f.call(this)||this;o.cbSelectAllVisible=!1,o.processingEventFromCheckbox=!1,o.column=r;var c=r.getColDef();return o.filteredOnly=!!c&&!!c.headerCheckboxSelectionFilteredOnly,o}return Pc(i,f),i.prototype.onSpaceKeyPressed=function(r){var o=this.cbSelectAll,c=this.gridOptionsWrapper.getDocument();o.isDisplayed()&&!o.getGui().contains(c.activeElement)&&(r.preventDefault(),o.setValue(!o.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(r){this.comp=r,this.cbSelectAll=this.createManagedBean(new js),this.cbSelectAll.addCssClass("ag-header-select-all"),Mn(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,js.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},i.prototype.refreshHeaderAriaDescribedBy=function(r){var o=r?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(o)},i.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.getNextCheckboxState=function(r){return(0!==r.selected||0!==r.notSelected)&&(r.selected>0&&r.notSelected>0?null:r.selected>0)},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var r=this.getSelectionCount(),o=this.getNextCheckboxState(r);this.cbSelectAll.setValue(o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),c=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),h=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(h+" ("+c+")")},i.prototype.getSelectionCount=function(){var r=this,o=0,c=0,h=function(m){r.gridOptionsWrapper.isGroupSelectsChildren()&&m.group||(m.isSelected()?o++:m.selectable&&c++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(h):this.gridApi.forEachNode(h),{notSelected:c,selected:o}},i.prototype.checkRightRowModelType=function(){var r=this.rowModel.getType();r===ge.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+r)},i.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},i.prototype.isCheckboxSelection=function(){var r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!r||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Us([K("gridApi")],i.prototype,"gridApi",void 0),Us([K("columnApi")],i.prototype,"columnApi",void 0),Us([K("rowModel")],i.prototype,"rowModel",void 0),Us([K("selectionService")],i.prototype,"selectionService",void 0),i}(Ge),JS=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xo=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ad=function(f){function i(r,o){var c=f.call(this,r,o)||this;return c.refreshFunctions=[],c.userHeaderClasses=new Set,c.column=r,c}return JS(i,f),i.prototype.setComp=function(r,o,c){var h=this;f.prototype.setGui.call(this,o),this.comp=r,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new kC(this.getPinned(),this.column,c,r,this)),this.createManagedBean(new oo([this.column],o)),this.createManagedBean(new od(this.column,o,this.beans)),this.createManagedBean(new Jo(o,{shouldStopEventPropagation:function(m){return h.shouldStopEventPropagation(m)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},i.prototype.setupUserComp=function(){var r=this.lookupUserCompDetails();this.setCompDetails(r)},i.prototype.setCompDetails=function(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)},i.prototype.lookupUserCompDetails=function(){var r=this.createParams(),o=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(o,r)},i.prototype.createParams=function(){var r=this,o=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:o.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(h){r.gridApi.showColumnMenuAfterButtonClick(r.column,h)},progressSort:function(h){r.sortController.progressSort(r.column,!!h,"uiColumnSorted")},setSort:function(h,m){r.sortController.setSortForColumn(r.column,h,!!m,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new so(this.column)),this.selectAllFeature.setComp(this.comp)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(r){r.key===Ie.SPACE&&this.selectAllFeature.onSpaceKeyPressed(r),r.key===Ie.ENTER&&this.onEnterKeyPressed(r)},i.prototype.onEnterKeyPressed=function(r){var o=this.comp.getUserCompInstance();o&&(r.ctrlKey||r.metaKey?this.menuEnabled&&o.showMenu&&(r.preventDefault(),o.showMenu()):this.sortable&&this.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(r){if(!this.getGui().contains(r.relatedTarget)){var o=this.getRowIndex();this.focusService.setFocusedHeader(o,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var r=this,c=this.createManagedBean(new Po({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getGui:function(){return r.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return r.column.getColDef().headerTooltip}},this.beans));c.setComp(this.comp),this.refreshFunctions.push(function(){return c.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var r=this,o=function(){var c=r.column.getColDef(),m=rf.getHeaderClassesFromColDef(c,r.gridOptionsWrapper,r.column,null),w=r.userHeaderClasses;r.userHeaderClasses=new Set(m),m.forEach(function(A){w.has(A)?w.delete(A):r.comp.addOrRemoveCssClass(A,!0)}),w.forEach(function(A){return r.comp.addOrRemoveCssClass(A,!1)})};this.refreshFunctions.push(o),o()},i.prototype.setDragSource=function(r){var o=this;this.dragSourceElement=r,this.removeDragSource(),r&&(!this.draggable||(this.moveDragSource={type:W.DragSourceType.HeaderCell,eElement:r,defaultIconName:jr.ICON_HIDE,getDragItem:function(){return o.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return o.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},i.prototype.createDragItem=function(){var r={};return r[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:r}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onNewColumnsLoaded=function(){var r=this.columnModel.getColDefVersion();r!=this.colDefVersion&&(this.colDefVersion=r,this.refresh())},i.prototype.updateState=function(){var r=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!r.suppressMenu,this.sortable=r.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(r){this.refreshFunctions.push(r)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(r){return r()})},i.prototype.refreshHeaderComp=function(){var r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)},i.prototype.attemptHeaderCompRefresh=function(r){var o=this.comp.getUserCompInstance();return!(!o||!o.refresh)&&o.refresh(r)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var r=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var r=this,o=function(){r.comp.setWidth(r.column.getActualWidth()+"px")};this.addManagedListener(this.column,Bt.EVENT_WIDTH_CHANGED,o),o()},i.prototype.setupMovingCss=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.column.isMoving())};this.addManagedListener(this.column,Bt.EVENT_MOVING_CHANGED,o),o()},i.prototype.setupMenuClass=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-column-menu-visible",r.column.isMenuVisible())};this.addManagedListener(this.column,Bt.EVENT_MENU_VISIBLE_CHANGED,o),o()},i.prototype.setupSortableClass=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!r.sortable)},c=function(){r.comp.setAriaSort(r.sortable?rl(r.column):void 0)};o(),c(),this.addRefreshFunction(o),this.addRefreshFunction(c),this.addManagedListener(this.column,Bt.EVENT_SORT_CHANGED,c)},i.prototype.addColumnHoverListener=function(){var r=this,o=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var c=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",c)}};this.addManagedListener(this.eventService,ne.EVENT_COLUMN_HOVER_CHANGED,o),o()},i.prototype.setupFilterCss=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-header-cell-filtered",r.column.isFilterActive())};this.addManagedListener(this.column,Bt.EVENT_FILTER_ACTIVE_CHANGED,o),o()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var r=this,o=function(c){return r.setActiveHeader("mouseenter"===c.type)};this.addManagedListener(this.getGui(),"mouseenter",o),this.addManagedListener(this.getGui(),"mouseleave",o)},i.prototype.setActiveHeader=function(r){this.comp.addOrRemoveCssClass("ag-header-active",r)},xo([K("columnModel")],i.prototype,"columnModel",void 0),xo([K("columnHoverService")],i.prototype,"columnHoverService",void 0),xo([K("beans")],i.prototype,"beans",void 0),xo([K("sortController")],i.prototype,"sortController",void 0),xo([K("menuFactory")],i.prototype,"menuFactory",void 0),xo([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),xo([K("gridApi")],i.prototype,"gridApi",void 0),xo([K("columnApi")],i.prototype,"columnApi",void 0),xo([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),xo([An],i.prototype,"removeDragSource",null),i}(ns),sf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Cv=function(f){function i(r,o,c,h){var m=f.call(this)||this;return m.eResize=o,m.comp=r,m.pinned=c,m.columnGroup=h,m}return sf(i,f),i.prototype.postConstruct=function(){var r=this;if(this.columnGroup.isResizable()){var o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(o),!this.gridOptionsWrapper.isSuppressAutoSize()){var c=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var h=[];r.columnGroup.getDisplayedLeafColumns().forEach(function(w){w.getColDef().suppressAutoSize||h.push(w.getColId())}),h.length>0&&r.columnModel.autoSizeColumns({columns:h,skipHeader:c,stopAtGroup:r.columnGroup,source:"uiColumnResized"}),r.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},i.prototype.onResizeStart=function(r){var o=this;this.calculateInitialValues();var c=null;if(r&&(c=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),c){var h=c.getDisplayedLeafColumns();this.resizeTakeFromCols=h.filter(function(m){return m.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(m){return o.resizeTakeFromStartWidth+=m.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(m){return o.resizeTakeFromRatios.push(m.getActualWidth()/o.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(r,o){var c=this.normaliseDragChange(o);this.resizeColumns(this.resizeStartWidth+c,r)},i.prototype.resizeLeafColumnsToFit=function(){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),r>this.resizeStartWidth&&this.resizeColumns(r,!0)},i.prototype.resizeColumns=function(r,o){void 0===o&&(o=!0);var c=[];c.push({columns:this.resizeCols,ratios:this.resizeRatios,width:r}),this.resizeTakeFromCols&&c.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(r-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:c,finished:o,source:"uiColumnDragged"}),o&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var r=this,o=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=o.filter(function(c){return c.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(c){return r.resizeStartWidth+=c.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(c){return r.resizeRatios.push(c.getActualWidth()/r.resizeStartWidth)})},i.prototype.normaliseDragChange=function(r){var o=r;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ge.PINNED_LEFT&&(o*=-1):this.pinned===ge.PINNED_RIGHT&&(o*=-1),o},mv([K("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),mv([K("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),mv([K("columnModel")],i.prototype,"columnModel",void 0),mv([je],i.prototype,"postConstruct",null),i}(Ge),wv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_v=function(f){function i(r,o){var c=f.call(this)||this;return c.removeChildListenersFuncs=[],c.columnGroup=o,c.comp=r,c}return wv(i,f),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,nr.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var r=this;this.removeListenersOnChildrenColumns();var o=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(c){c.addEventListener(Bt.EVENT_WIDTH_CHANGED,o),c.addEventListener(Bt.EVENT_VISIBLE_CHANGED,o),r.removeChildListenersFuncs.push(function(){c.removeEventListener(Bt.EVENT_WIDTH_CHANGED,o),c.removeEventListener(Bt.EVENT_VISIBLE_CHANGED,o)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(r){return r()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(Ge),eb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$n=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},BC=function(f){function i(r,o){var c=f.call(this,r,o)||this;return c.columnGroup=r,c}return eb(i,f),i.prototype.setComp=function(r,o,c){f.prototype.setGui.call(this,o),this.comp=r,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var h=this.getParentRowCtrl().getPinned(),m=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new oo(m,o)),this.createManagedBean(new od(this.columnGroup,o,this.beans)),this.createManagedBean(new _v(r,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new Cv(r,c,h,this.columnGroup)),this.createManagedBean(new Jo(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},i.prototype.setupUserComp=function(){var r=this,o=this.displayName,c={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(x){r.columnModel.setColumnGroupOpened(r.columnGroup.getProvidedColumnGroup(),x,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!o){for(var h=this.columnGroup,m=h.getLeafColumns();h.getParent()&&h.getParent().getLeafColumns().length===m.length;)h=h.getParent();var w=h.getColGroupDef();w&&(o=w.headerName),o||(o=m?this.columnModel.getDisplayNameForColumn(m[0],"header",!0):"")}var A=this.userComponentFactory.getHeaderGroupCompDetails(c);this.comp.setUserCompDetails(A)},i.prototype.setupTooltip=function(){var r=this,o=this.columnGroup.getColGroupDef(),c={getColumn:function(){return r.columnGroup},getGui:function(){return r.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return o&&o.headerTooltip}};o&&(c.getColDef=function(){return o}),this.createManagedBean(new Po(c,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var r=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(r,Ar.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,Ar.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var r=this.columnGroup;this.expandable=r.isExpandable();var o=r.isExpanded();this.comp.setAriaExpanded(this.expandable?o?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var r=this,o=this.columnGroup.getColGroupDef(),c=rf.getHeaderClassesFromColDef(o,this.gridOptionsWrapper,null,this.columnGroup);c.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),c.forEach(function(h){return r.comp.addOrRemoveCssClass(h,!0)})},i.prototype.setupMovingCss=function(){var r=this,c=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),h=function(){return r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.columnGroup.isMoving())};c.forEach(function(m){r.addManagedListener(m,Bt.EVENT_MOVING_CHANGED,h)}),h()},i.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.columnGroup)}},i.prototype.handleKeyDown=function(r){var o=this.gridOptionsWrapper.getDocument();if(this.expandable&&o.activeElement===this.eGui&&r.key===Ie.ENTER){var m=this.columnGroup,w=!m.isExpanded();this.columnModel.setColumnGroupOpened(m.getProvidedColumnGroup(),w,"uiColumnExpanded")}},i.prototype.setDragSource=function(r){var o=this;if(!this.isSuppressMoving()){var c=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),h={type:W.DragSourceType.HeaderCell,eElement:r,defaultIconName:jr.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return c.forEach(function(m){return m.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return c.forEach(function(m){return m.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(h,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(h)})}},i.prototype.getDragItemForGroup=function(){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o={};r.forEach(function(h){return o[h.getId()]=h.isVisible()});var c=[];return this.columnModel.getAllDisplayedColumns().forEach(function(h){r.indexOf(h)>=0&&(c.push(h),pn(r,h))}),r.forEach(function(h){return c.push(h)}),{columns:c,visibleState:o}},i.prototype.isSuppressMoving=function(){var r=!1;return this.columnGroup.getLeafColumns().forEach(function(c){(c.getColDef().suppressMovable||c.getColDef().lockPosition)&&(r=!0)}),r||this.gridOptionsWrapper.isSuppressMovableColumns()},$n([K("beans")],i.prototype,"beans",void 0),$n([K("columnModel")],i.prototype,"columnModel",void 0),$n([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),$n([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),$n([K("gridApi")],i.prototype,"gridApi",void 0),$n([K("columnApi")],i.prototype,"columnApi",void 0),i}(ns),HC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},WC=0,bu=function(f){function i(r,o,c){var h=f.call(this)||this;return h.instanceId=WC++,h.headerCellCtrls={},h.rowIndex=r,h.pinned=o,h.type=c,h}return HC(i,f),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(r){this.comp=r,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),$i()&&this.comp.setTransform("translateZ(0)"),r.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ne.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(r){return ms(this.headerCellCtrls).find(function(o){return o.getColumnGroupChild()===r})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var r=this.getWidthForRow();this.comp.setWidth(r+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(ge.PINNED_RIGHT)+this.columnModel.getContainerWidth(ge.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var h,m,r=this.columnModel.getHeaderRowCount(),o=[],c=0;this.columnModel.hasFloatingFilters()&&(r++,c=1),this.columnModel.isPivotMode()?(h=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),m=this.gridOptionsWrapper.getPivotHeaderHeight()):(h=this.gridOptionsWrapper.getGroupHeaderHeight(),m=this.gridOptionsWrapper.getHeaderHeight());for(var A=r-(1+c),x=0;x<A;x++)o.push(h);for(o.push(m),x=0;x<c;x++)o.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var N=0;for(x=0;x<this.rowIndex;x++)N+=o[x];this.comp.setTop(N+"px"),this.comp.setHeight(o[this.rowIndex]+"px")},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var r=this,o=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(w){if(!w.isEmptyGroup()){var A=w.getUniqueId(),x=o[A];if(delete o[A],x&&x.getColumnGroupChild()!=w&&(r.destroyBean(x),x=void 0),null==x)switch(r.type){case W.HeaderRowType.FLOATING_FILTER:x=r.createBean(new Ac(w,r));break;case W.HeaderRowType.COLUMN_GROUP:x=r.createBean(new BC(w,r));break;default:x=r.createBean(new ad(w,r))}r.headerCellCtrls[A]=x}}),Jt(o,function(w,A){var x=function(w){return!!r.focusService.isHeaderWrapperFocused(w)&&r.columnModel.isDisplayed(w.getColumnGroupChild())}(A);x?r.headerCellCtrls[w]=A:r.destroyBean(A)});var m=Ko(this.headerCellCtrls);this.comp.setHeaderCtrls(m)},i.prototype.destroyCtrls=function(){var r=this;Jt(this.headerCellCtrls,function(o,c){r.destroyBean(c)}),this.headerCellCtrls={}},i.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var r=this;if(null!=this.pinned)return[];var o=[],c=this.getActualDepth();return[ge.PINNED_LEFT,null,ge.PINNED_RIGHT].forEach(function(h){var m=r.columnModel.getVirtualHeaderGroupRow(h,c);o=o.concat(m)}),o},i.prototype.getActualDepth=function(){return this.type==W.HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(r,o){var h=Ko(this.headerCellCtrls).find(function(m){return m.getColumnGroupChild()==r});return!!h&&(h.focus(o),!0)},Sv([K("columnModel")],i.prototype,"columnModel",void 0),Sv([K("focusService")],i.prototype,"focusService",void 0),Sv([An],i.prototype,"destroyCtrls",null),i}(Ge),jC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_l=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},bv=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},zC=function(f){function i(r){var o=f.call(this)||this;return o.groupsRowCtrls=[],o.pinned=r,o}return jC(i,f),i.prototype.setComp=function(r,o){this.comp=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(o),this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(r){var o=new zn(this.pinned,r);this.createManagedBean(o)},i.prototype.refresh=function(r){var o=this;void 0===r&&(r=!1);var N,c=new va,h=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var N=o.columnModel.getHeaderRowCount()-1;o.groupsRowCtrls=o.destroyBeans(o.groupsRowCtrls);for(var k=0;k<N;k++){var q=o.createBean(new bu(c.next(),o.pinned,W.HeaderRowType.COLUMN_GROUP));o.groupsRowCtrls.push(q)}})(),N=c.next(),(null==o.columnsRowCtrl||!r||o.columnsRowCtrl.getRowIndex()!==N)&&(o.destroyBean(o.columnsRowCtrl),o.columnsRowCtrl=o.createBean(new bu(N,o.pinned,W.HeaderRowType.COLUMN))),function(){var k=function(){o.filtersRowCtrl=o.destroyBean(o.filtersRowCtrl)};if(o.columnModel.hasFloatingFilters()){var q=c.next();if(o.filtersRowCtrl){var te=o.filtersRowCtrl.getRowIndex()!==q;(!r||te)&&k()}o.filtersRowCtrl||(o.filtersRowCtrl=o.createBean(new bu(q,o.pinned,W.HeaderRowType.FLOATING_FILTER)))}else k()}();var x=this.getAllCtrls();this.comp.setCtrls(x),this.restoreFocusOnHeader(h)},i.prototype.restoreFocusOnHeader=function(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})},i.prototype.getAllCtrls=function(){var r=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(bv(arguments[i]));return f}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var r=this;null==this.pinned&&this.createManagedBean(new ed(function(o){return r.comp.setCenterWidth(o+"px")}))},i.prototype.setHorizontalScroll=function(r){this.comp.setContainerTransform("translateX("+r+"px)")},i.prototype.setupPinnedWidth=function(){var r=this;if(null!=this.pinned){var o=this.pinned===ge.PINNED_LEFT,c=this.pinned===ge.PINNED_RIGHT,h=function(){var m=o?r.pinnedWidthService.getPinnedLeftWidth():r.pinnedWidthService.getPinnedRightWidth();if(null!=m){var w=0==m,A=r.gridOptionsWrapper.isEnableRtl(),x=r.gridOptionsWrapper.getScrollbarWidth(),N=r.scrollVisibleService.isVerticalScrollShowing()&&(A&&o||!A&&c);r.comp.setPinnedContainerWidth((N?m+x:m)+"px"),r.comp.addOrRemoveCssClass("ag-hidden",w)}};this.addManagedListener(this.eventService,ne.EVENT_LEFT_PINNED_WIDTH_CHANGED,h),this.addManagedListener(this.eventService,ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED,h),this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,h),this.addManagedListener(this.eventService,ne.EVENT_SCROLLBAR_WIDTH_CHANGED,h)}},i.prototype.getHeaderCtrlForColumn=function(r){if(r instanceof Bt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(r):void 0;if(0!==this.groupsRowCtrls.length)for(var o=0;o<this.groupsRowCtrls.length;o++){var c=this.groupsRowCtrls[o].getHeaderCellCtrl(r);if(c)return c}},i.prototype.getHtmlElementForColumnHeader=function(r){var o=this.getHeaderCtrlForColumn(r);return o?o.getGui():null},i.prototype.getRowType=function(r){var c=this.getAllCtrls()[r];return c?c.getType():void 0},i.prototype.focusHeader=function(r,o,c){var m=this.getAllCtrls()[r];return!!m&&m.focusHeader(o,c)},i.prototype.getRowCount=function(){return this.getAllCtrls().length},_l([K("ctrlsService")],i.prototype,"ctrlsService",void 0),_l([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),_l([K("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),_l([K("columnModel")],i.prototype,"columnModel",void 0),_l([K("focusService")],i.prototype,"focusService",void 0),i}(Ge),St=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ln=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ld=function(f){function i(r){var o=f.call(this)||this;return o.headerRowComps={},o.rowCompsList=[],o.pinned=r,o}return St(i,f),i.prototype.init=function(){var r=this;this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(h,m){return r.addOrRemoveCssClass(h,m)},setCtrls:function(h){return r.setCtrls(h)},setCenterWidth:function(h){return r.eCenterContainer.style.width=h},setContainerTransform:function(h){return r.eCenterContainer.style.transform=h},setPinnedContainerWidth:function(h){var m=r.getGui();m.style.width=h,m.style.maxWidth=h,m.style.minWidth=h}};this.createManagedBean(new zC(this.pinned)).setComp(o,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==ge.PINNED_LEFT?i.PINNED_LEFT_TEMPLATE:this.pinned==ge.PINNED_RIGHT?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(r){this.destroyBean(r),this.eRowContainer.removeChild(r.getGui())},i.prototype.setCtrls=function(r){var h,o=this,c=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],r.forEach(function(w){var A=w.getInstanceId(),x=c[A];delete c[A];var N=x||o.createBean(new gv(w));o.headerRowComps[A]=N,o.rowCompsList.push(N),function(w){var A=w.getGui();A.parentElement!=o.eRowContainer&&o.eRowContainer.appendChild(A),h&&Ql(o.eRowContainer,A,h),h=A}(N)}),Ko(c).forEach(function(w){return o.destroyRowComp(w)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',ln([Ne("eCenterContainer")],i.prototype,"eCenterContainer",void 0),ln([je],i.prototype,"init",null),ln([An],i.prototype,"destroyRowComps",null),i}(At),$C=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ra=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h};!function(f){f[f.UP=0]="UP",f[f.DOWN=1]="DOWN",f[f.LEFT=2]="LEFT",f[f.RIGHT=3]="RIGHT"}(W.HeaderNavigationDirection||(W.HeaderNavigationDirection={}));var Mo=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return $C(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridBodyCon=o.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0},i.prototype.getHeaderRowType=function(r){var o=this.ctrlsService.getHeaderRowContainerCtrl();if(o)return o.getRowType(r)},i.prototype.navigateVertically=function(r,o,c){if(o||(o=this.focusService.getFocusedHeader()),!o)return!1;var h=o.headerRowIndex,m=o.column,w=this.getHeaderRowCount(),A=r===W.HeaderNavigationDirection.UP,x=A?h-1:h+1,N=null,k=!1;x<0&&(x=0,N=m,k=!0),x>=w&&(x=-1);var q=this.getHeaderRowType(h);if(!k){if(q===W.HeaderRowType.COLUMN_GROUP){var te=m;N=A?m.getParent():te.getDisplayedChildren()[0]}else q===W.HeaderRowType.FLOATING_FILTER?N=m:(te=m,N=A?te.getParent():te);if(!N)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x,column:N},allowUserOverride:!0,event:c})},i.prototype.navigateHorizontally=function(r,o,c){void 0===o&&(o=!1);var A,x,h=this.focusService.getFocusedHeader();return(A=r===W.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(h,x="Before"):this.headerPositionUtils.findHeader(h,x="After"))?this.focusService.focusHeaderPosition({headerPosition:A,direction:x,fromTab:o,allowUserOverride:!0,event:c}):!o||this.focusNextHeaderRow(h,x,c)},i.prototype.focusNextHeaderRow=function(r,o,c){var h=r.headerRowIndex,m=null;return"Before"===o?h>0&&(m=this.headerPositionUtils.findColAtEdgeForHeaderRow(h-1,"end")):m=this.headerPositionUtils.findColAtEdgeForHeaderRow(h+1,"start"),this.focusService.focusHeaderPosition({headerPosition:m,direction:o,fromTab:!0,allowUserOverride:!0,event:c})},i.prototype.scrollToColumn=function(r,o){if(void 0===o&&(o="After"),!r.getPinned()){var c;if(r instanceof nr){var h=r.getDisplayedLeafColumns();c="Before"===o?rr(h):h[0]}else c=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},Ra([K("focusService")],i.prototype,"focusService",void 0),Ra([K("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),Ra([K("animationFrameService")],i.prototype,"animationFrameService",void 0),Ra([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ra([je],i.prototype,"postConstruct",null),Ra([Xe("headerNavigationService")],i)}(Ge),un=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),af=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Tc=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return un(i,f),i.prototype.setComp=function(r,o,c){this.comp=r,this.eGui=o,this.createManagedBean(new Jo(c,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var r=this.setHeaderHeight.bind(this);r(),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_PIVOT_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_PIVOT_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_FLOATING_FILTERS_HEIGHT,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,r)},i.prototype.setHeaderHeight=function(){var w,A,x,o=this.columnModel,c=this.gridOptionsWrapper,h=0,m=o.getHeaderRowCount();o.hasFloatingFilters()&&(m++,h=1),o.isPivotMode()?(A=c.getPivotGroupHeaderHeight(),x=c.getPivotHeaderHeight()):(A=c.getGroupHeaderHeight(),x=c.getHeaderHeight());var q=m-(1+h);w=h*c.getFloatingFiltersHeight(),w+=q*A,this.comp.setHeightAndMinHeight((w+=x)+1+"px")},i.prototype.onPivotModeChanged=function(){var r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)},i.prototype.onTabKeyDown=function(r){var o=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(r.shiftKey!==o?W.HeaderNavigationDirection.LEFT:W.HeaderNavigationDirection.RIGHT,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()},i.prototype.handleKeyDown=function(r){var o=null;switch(r.key){case Ie.LEFT:o=W.HeaderNavigationDirection.LEFT;case Ie.RIGHT:re(o)||(o=W.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(o,!1,r);break;case Ie.UP:o=W.HeaderNavigationDirection.UP;case Ie.DOWN:re(o)||(o=W.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(o,null,r)&&r.preventDefault();break;default:return}},i.prototype.onFocusOut=function(r){var o=this.gridOptionsWrapper.getDocument(),c=r.relatedTarget;!c&&this.eGui.contains(o.activeElement)||this.eGui.contains(c)||this.focusService.clearFocusedHeader()},af([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),af([K("focusService")],i.prototype,"focusService",void 0),af([K("columnModel")],i.prototype,"columnModel",void 0),af([K("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(Ge),Aa=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ev=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return Aa(i,f),i.prototype.postConstruct=function(){var r=this,o={addOrRemoveCssClass:function(m,w){return r.addOrRemoveCssClass(m,w)},setHeightAndMinHeight:function(m){r.getGui().style.height=m,r.getGui().style.minHeight=m}};this.createManagedBean(new Tc).setComp(o,this.getGui(),this.getFocusableElement());var h=function(m){r.createManagedBean(m),r.appendChild(m)};h(new ld(ge.PINNED_LEFT)),h(new ld(null)),h(new ld(ge.PINNED_RIGHT))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(At),zs=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),KC=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ov=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return zs(i,f),i.prototype.addResizeBar=function(r){var o=this,c={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r)};return this.dragService.addDragSource(c,!0),function(){return o.dragService.removeDragSource(c)}},i.prototype.onDragStart=function(r,o){this.dragStartX=o.clientX,this.setResizeIcons();var c=o instanceof MouseEvent&&!0===o.shiftKey;r.onResizeStart(c)},i.prototype.setResizeIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!0),r.disableUserSelect(!0)},i.prototype.onDragStop=function(r,o){r.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!1),r.disableUserSelect(!1)},i.prototype.onDragging=function(r,o){this.resizeAmount=o.clientX-this.dragStartX,r.onResizing(this.resizeAmount)},KC([K("dragService")],i.prototype,"dragService",void 0),KC([K("ctrlsService")],i.prototype,"ctrlsService",void 0),KC([Xe("horizontalResizeService")],i)}(Ge),PO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pa=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ud=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return PO(i,f),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(r,o){var c=this;this.showPopup(r,function(h){c.popupService.positionPopupUnderMouseEvent({column:r,type:"columnMenu",mouseEvent:o,ePopup:h})},o.target)},i.prototype.showMenuAfterButtonClick=function(r,o,c){var h=this;this.showPopup(r,function(m){h.popupService.positionPopupUnderComponent({type:c,eventSource:o,ePopup:m,keepWithinBounds:!0,column:r})},o)},i.prototype.showPopup=function(r,o,c){var h=this,m=this.filterManager.getOrCreateFilterWrapper(r,"COLUMN_MENU");if(!m)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var w=document.createElement("div");Mn(w,"presentation"),w.classList.add("ag-menu"),this.tabListener=this.addManagedListener(w,"keydown",function(te){return h.trapFocusWithin(te,w)}),m.guiPromise.then(function(te){return w.appendChild(te)});var A,x=c||this.ctrlsService.getGridBodyCtrl().getGui(),k=this.gridOptionsWrapper.getLocaleTextFunc(),q=this.popupService.addPopup({modal:!0,eChild:w,closeOnEsc:!0,closedCallback:function(te){r.setMenuVisible(!1,"contextMenu");var le=te instanceof KeyboardEvent;if(h.tabListener&&(h.tabListener=h.tabListener()),le&&c&&qr(c)){var de=h.focusService.findTabbableParent(c);de&&de.focus()}},positionCallback:function(){return o(w)},anchorToElement:x,ariaLabel:k("ariaLabelColumnMenu","Column Menu")});q&&(this.hidePopup=A=q.hideFunc),m.filterPromise.then(function(te){o(w),te.afterGuiAttached&&te.afterGuiAttached({container:"columnMenu",hidePopup:A})}),r.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(r,o){r.key!==Ie.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(o,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(o,r.shiftKey))},i.prototype.isMenuEnabled=function(r){return r.isFilterAllowed()},Pa([K("filterManager")],i.prototype,"filterManager",void 0),Pa([K("popupService")],i.prototype,"popupService",void 0),Pa([K("focusService")],i.prototype,"focusService",void 0),Pa([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Pa([Xe("menuFactory")],i)}(Ge),cd=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cn=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Dv=function(f){function i(r){var o=f.call(this,i.getTemplate(r.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=r,r.items&&r.items.forEach(function(c){return o.addItem(c)}),o}return cd(i,f),i.prototype.postConstruct=function(){this.createManagedBean(new Jo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},i.getTemplate=function(r){return'<div class="ag-tabs '+r+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(r?r+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(r?r+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(r){var o=this.gridOptionsWrapper.getDocument();switch(r.key){case Ie.RIGHT:case Ie.LEFT:if(!this.eHeader.contains(o.activeElement))return;var c=this.items.indexOf(this.activeItem),h=r.key===Ie.RIGHT?Math.min(c+1,this.items.length-1):Math.max(c-1,0);if(c===h)return;r.preventDefault();var m=this.items[h];this.showItemWrapper(m),m.eHeaderButton.focus();break;case Ie.UP:case Ie.DOWN:r.stopPropagation()}},i.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented){var o=this,c=o.focusService,h=o.eHeader,m=o.eBody,w=o.activeItem,x=this.gridOptionsWrapper.getDocument().activeElement;if(r.preventDefault(),h.contains(x))c.focusInto(m,r.shiftKey);else if(c.isFocusUnderManagedComponent(m))w.eHeaderButton.focus();else{var N=c.findNextFocusableElement(m,!1,r.shiftKey);N?N.focus():w.eHeaderButton.focus()}}},i.prototype.setAfterAttachedParams=function(r){this.afterAttachedParams=r},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(r){var o=document.createElement("span");Mn(o,"tab"),o.setAttribute("tabIndex","-1"),o.appendChild(r.title),o.classList.add("ag-tab"),this.eHeader.appendChild(o),Rs(o,r.titleLabel);var c={tabbedItem:r,eHeaderButton:o};this.items.push(c),o.addEventListener("click",this.showItemWrapper.bind(this,c))},i.prototype.showItem=function(r){var o=this.items.find(function(c){return c.tabbedItem===r});o&&this.showItemWrapper(o)},i.prototype.showItemWrapper=function(r){var o=this,c=r.tabbedItem,h=r.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:c}),this.activeItem!==r?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),jn(this.eBody),c.bodyPromise.then(function(m){o.eBody.appendChild(m);var w=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,w),c.afterAttachedCallback&&c.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var A=c.getScrollableContainer&&c.getScrollableContainer()||m;o.lastScrollListener=o.addManagedListener(A,"scroll",function(){o.tabbedItemScrollMap.set(c.name,A.scrollTop)});var x=o.tabbedItemScrollMap.get(c.name);void 0!==x&&setTimeout(function(){A.scrollTop=x},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),h.classList.add("ag-tab-selected"),this.activeItem=r):K_(this.params.onActiveItemClicked)},cn([K("focusService")],i.prototype,"focusService",void 0),cn([Ne("eHeader")],i.prototype,"eHeader",void 0),cn([Ne("eBody")],i.prototype,"eBody",void 0),cn([je],i.prototype,"postConstruct",null),i}(At),YC=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fo=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.polyfillFunctions=[],r}return YC(i,f),i.prototype.observeResize=function(r,o){var q,c=this,m=this.gridOptionsWrapper.getDocument().defaultView||window,w=_s(o,50),N=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return m.ResizeObserver&&!N?((q=new m.ResizeObserver(w)).observe(r),function(){return q.disconnect()}):function(){var q=_p(r),te=Ju(r),le=!0,de=function(){if(le){var ye=_p(r),xe=Ju(r);(ye!==q||xe!==te)&&(q=ye,te=xe,o()),c.doNextPolyfillTurn(de)}};return de(),function(){return le=!1}}()},i.prototype.doNextPolyfillTurn=function(r){this.polyfillFunctions.push(r),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var r=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var c=r.polyfillFunctions;r.polyfillScheduled=!1,r.polyfillFunctions=[],c.forEach(function(h){return h()})},50))},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("resizeObserverService")],i),i}(Ge),Rv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),XC=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ZC=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.createTasksP1={list:[],sorted:!1},r.createTasksP2={list:[],sorted:!1},r.destroyTasks=[],r.ticking=!1,r.scrollGoingDown=!0,r.lastScrollTop=0,r.taskCount=0,r.cancelledTasks=new Set,r}return Rv(i,f),i.prototype.setScrollTop=function(r){this.scrollGoingDown=r>this.lastScrollTop,this.lastScrollTop=r},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(r){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+r+" called but animation frames are off")},i.prototype.createTask=function(r,o,c){this.verifyAnimationFrameOn(c);var h={task:r,index:o,createOrder:++this.taskCount};this.addTaskToList(this[c],h),this.schedule()},i.prototype.cancelTask=function(r){this.cancelledTasks.add(r)},i.prototype.addTaskToList=function(r,o){r.list.push(o),r.sorted=!1},i.prototype.sortTaskList=function(r){if(!r.sorted){var o=this.scrollGoingDown?1:-1;r.list.sort(function(c,h){return c.index!==h.index?o*(h.index-c.index):h.createOrder-c.createOrder}),r.sorted=!0}},i.prototype.addDestroyTask=function(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()},i.prototype.executeFrame=function(r){this.verifyAnimationFrameOn("executeFrame");for(var o=this.createTasksP1,c=o.list,h=this.createTasksP2,m=h.list,w=this.destroyTasks,A=(new Date).getTime(),x=(new Date).getTime()-A,N=r<=0,k=this.ctrlsService.getGridBodyCtrl();N||x<r;){if(!k.getScrollFeature().executeAnimationFrameScroll()){var te=void 0;if(c.length)this.sortTaskList(o),te=c.pop().task;else if(m.length)this.sortTaskList(h),te=m.pop().task;else{if(!w.length){this.cancelledTasks.clear();break}te=w.pop()}this.cancelledTasks.has(te)||te()}x=(new Date).getTime()-A}c.length||m.length||w.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},i.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},i.prototype.requestFrame=function(){var r=this.executeFrame.bind(this,60),c=this.gridOptionsWrapper.getDocument().defaultView||window;c.requestAnimationFrame?c.requestAnimationFrame(r):c.webkitRequestAnimationFrame?c.webkitRequestAnimationFrame(r):c.setTimeout(r,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(r){var o=this,c=!1;return function(){o.isOn()?c||(c=!0,o.addDestroyTask(function(){c=!1,r()})):o.getFrameworkOverrides().setTimeout(r,0)}},XC([K("ctrlsService")],i.prototype,"ctrlsService",void 0),XC([je],i.prototype,"init",null),XC([Xe("animationFrameService")],i)}(Ge),TO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},dd=function(f){function i(r,o){var c=f.call(this)||this;return c.element=r,c.dragStartPosition={x:0,y:0},c.position={x:0,y:0},c.lastSize={width:-1,height:-1},c.positioned=!1,c.resizersAdded=!1,c.resizeListeners=[],c.boundaryEl=null,c.isResizing=!1,c.isMoving=!1,c.resizable={},c.movable=!1,c.currentResizer=null,c.config=Object.assign({},{popup:!1},o),c}return TO(i,f),i.prototype.center=function(){var r=this.offsetParent,o=r.clientHeight,h=r.clientWidth/2-this.getWidth()/2,m=o/2-this.getHeight()/2;this.offsetElement(h,m)},i.prototype.initialisePosition=function(){var r=this.config,o=r.centered,c=r.forcePopupParentAsOffsetParent,h=r.minWidth,m=r.width,w=r.minHeight,A=r.height,x=r.x,N=r.y;this.offsetParent||this.setOffsetParent();var k=0,q=0,te=!!this.element.offsetParent;if(te){var le=this.findBoundaryElement(),de=window.getComputedStyle(le);if(null!=de.minWidth){var ye=le.offsetWidth-this.element.offsetWidth;q=parseInt(de.minWidth,10)-ye}if(null!=de.minHeight){var xe=le.offsetHeight-this.element.offsetHeight;k=parseInt(de.minHeight,10)-xe}}if(this.minHeight=w||k,this.minWidth=h||q,m&&this.setWidth(m),A&&this.setHeight(A),(!m||!A)&&this.refreshSize(),o)this.center();else if(x||N)this.offsetElement(x,N);else if(te&&c&&this.boundaryEl){var Oe=parseFloat(this.boundaryEl.style.top),Ee=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Ee)?0:Ee,isNaN(Oe)?0:Oe)}this.positioned=!!this.offsetParent},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(r,o){if(this.config.popup&&r!==this.movable){this.movable=r;var c=this.moveElementDragListener||{eElement:o,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(c),this.moveElementDragListener=c):(this.dragService.removeDragSource(c),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(r){var o=this;if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(function(c){var m=!!r[c],w=o.getResizerElement(c),A={dragStartPixels:0,eElement:w,onDragStart:function(x){return o.onResizeStart(x,c)},onDragging:o.onResize.bind(o),onDragStop:function(x){return o.onResizeEnd(x,c)}};(!!o.resizable[c]!==m||!o.isAlive()&&!m)&&(m?(o.dragService.addDragSource(A),o.resizeListeners.push(A),w.style.pointerEvents="all"):w.style.pointerEvents="none")})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var r=this.lastSize,o=r.height,c=r.width;-1!==c&&(this.element.style.width=c+"px"),-1!==o&&(this.element.style.height=o+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(r){var o=this.config.popup,c=this.element,h=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Xi(c,r),r=_h(c),h=!0;else if(this.positioned){var m=this.element.getBoundingClientRect(),w=this.offsetParent.getBoundingClientRect();r=Math.max(this.minHeight,r);var A=this.offsetParent.clientHeight,x=o?this.position.y:m.top;A&&r+x>A+(o?0:w.top)&&(r=A-x)}this.getHeight()!==r&&(h?(c.style.maxHeight="unset",c.style.minHeight="unset"):o?Xi(c,r):(c.style.height=r+"px",c.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(r){var o=this.element,c=this.config.popup,h=!1;if("string"==typeof r&&-1!==r.indexOf("%"))qt(o,r),r=ha(o),h=!0;else if(this.positioned){r=Math.max(this.minWidth,r);var m=this.offsetParent.clientWidth,w=c?this.position.x:this.element.getBoundingClientRect().left;m&&r+w>m&&(r=m-w)}this.getWidth()!==r&&(h?(o.style.maxWidth="unset",o.style.minWidth="unset"):this.config.popup?qt(o,r):(o.style.width=r+"px",o.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))},i.prototype.offsetElement=function(r,o){void 0===r&&(r=0),void 0===o&&(o=0);var c=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:c,x:r,y:o,keepWithinBounds:!0}),this.setPosition(parseFloat(c.style.left),parseFloat(c.style.top))},i.prototype.setPosition=function(r,o){this.position.x=r,this.position.y=o},i.prototype.updateDragStartPosition=function(r,o){this.dragStartPosition={x:r,y:o}},i.prototype.calculateMouseMovement=function(r){var o=r.e,h=r.isTop,w=r.topBuffer,A=o.clientX-this.dragStartPosition.x,x=o.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(o,!!r.isLeft,!!r.anywhereWithin,A)?0:A,movementY:this.shouldSkipY(o,!!h,w,x)?0:x}},i.prototype.shouldSkipX=function(r,o,c,h){var m=this.element.getBoundingClientRect(),w=this.offsetParent.getBoundingClientRect(),A=this.boundaryEl.getBoundingClientRect(),x=this.config.popup?this.position.x:m.left,N=x<=0&&w.left>=r.clientX||w.right<=r.clientX&&w.right<=A.right;return!!N||(o?h<0&&r.clientX>x+w.left||h>0&&r.clientX<x+w.left:c?h<0&&r.clientX>A.right||h>0&&r.clientX<x+w.left:h<0&&r.clientX>A.right||h>0&&r.clientX<A.right)},i.prototype.shouldSkipY=function(r,o,c,h){void 0===c&&(c=0);var m=this.element.getBoundingClientRect(),w=this.offsetParent.getBoundingClientRect(),A=this.boundaryEl.getBoundingClientRect(),x=this.config.popup?this.position.y:m.top,N=x<=0&&w.top>=r.clientY||w.bottom<=r.clientY&&w.bottom<=A.bottom;return!!N||(o?h<0&&r.clientY>x+w.top+c||h>0&&r.clientY<x+w.top:h<0&&r.clientY>A.bottom||h>0&&r.clientY<A.bottom)},i.prototype.createResizeMap=function(){var r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var r=this.element;if(r){var c=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;r.appendChild(c.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var r=this.element.querySelector(".ag-resizer-wrapper");r&&this.element.removeChild(r),this.resizersAdded=!1},i.prototype.getResizerElement=function(r){return this.resizerMap[r].element},i.prototype.onResizeStart=function(r,o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!o.match(/top/i),isRight:!!o.match(/right/i),isBottom:!!o.match(/bottom/i),isLeft:!!o.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[o].element.classList.add("ag-active");var c=this.config;!c.popup&&!c.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)},i.prototype.getSiblings=function(){var o=this.element.parentElement;return o?Array.prototype.slice.call(o.children).filter(function(c){return!c.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var r=this.getSiblings()||[],o=0,c=0,h=0;h<r.length;h++){var m=r[h];if(m!==this.element){var A=this.minHeight||0,x=this.minWidth||0;if(m.style.flex&&"0 0 auto"!==m.style.flex){var N=window.getComputedStyle(m);N.minHeight&&(A=parseInt(N.minHeight,10)),N.minWidth&&(x=parseInt(N.minWidth,10))}else A=m.offsetHeight,x=m.offsetWidth;o+=A,c+=x}}return{height:o,width:c}},i.prototype.applySizeToSiblings=function(r){var o=null,c=this.getSiblings();if(c){for(var h=0;h<c.length;h++){var m=c[h];m!==o&&(r?m.style.height=m.offsetHeight+"px":m.style.width=m.offsetWidth+"px",m.style.flex="0 0 auto",m===this.element&&(o=c[h+1]))}o&&(o.style.removeProperty("height"),o.style.removeProperty("min-height"),o.style.removeProperty("max-height"),o.style.flex="1 1 auto")}},i.prototype.onResize=function(r){if(this.isResizing&&this.currentResizer){var o=this.config,c=o.popup,h=o.forcePopupParentAsOffsetParent,m=this.currentResizer,w=m.isTop,N=m.isLeft,k=m.isRight||N,q=m.isBottom||w,te=this.calculateMouseMovement({e:r,isLeft:N,isTop:w}),le=te.movementX,de=te.movementY,ye=this.position.x,xe=this.position.y,Oe=0,Ee=0;if(k&&le){var Ke=N?-1:1,pt=this.getWidth(),mt=pt+le*Ke,ut=!1;N&&(ye+(Oe=pt-mt)<=0||mt<=this.minWidth)&&(ut=!0,Oe=0),ut||this.setWidth(mt)}if(q&&de){Ke=w?-1:1;var ze=this.getHeight(),Mt=ze+de*Ke,Tt=!1;w?(xe+(Ee=ze-Mt)<=0||Mt<=this.minHeight)&&(Tt=!0,Ee=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&ze<Mt&&this.getMinSizeOfSiblings().height+Mt>this.element.parentElement.offsetHeight&&(Tt=!0),Tt||this.setHeight(Mt)}this.updateDragStartPosition(r.clientX,r.clientY),((c||h)&&Oe||Ee)&&this.offsetElement(ye+Oe,xe+Ee)}},i.prototype.onResizeEnd=function(r,o){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var c={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[o].element.classList.remove("ag-active"),this.dispatchEvent(c)},i.prototype.refreshSize=function(){var r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))},i.prototype.onMoveStart=function(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)},i.prototype.onMove=function(r){if(this.isMoving){var m,o=this.position,c=o.x,h=o.y;this.config.calculateTopBuffer&&(m=this.config.calculateTopBuffer());var w=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:m});this.offsetElement(c+w.movementX,h+w.movementY),this.updateDragStartPosition(r.clientX,r.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var r=this.element;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}},i.prototype.destroy=function(){f.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},pd([K("popupService")],i.prototype,"popupService",void 0),pd([K("dragService")],i.prototype,"dragService",void 0),i}(Ge),xO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),kn=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},$s=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return xO(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.centerRowContainerCtrl=o.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(r,o){var c=this.getHeaderCellForColumn(r);if(!c)return-1;var h=this.rowRenderer.getAllCellsForColumn(r);return o||h.push(c),this.addElementsToContainerAndGetWidth(h)},i.prototype.getPreferredWidthForColumnGroup=function(r){var o=this.getHeaderCellForColumn(r);return o?this.addElementsToContainerAndGetWidth([o]):-1},i.prototype.addElementsToContainerAndGetWidth=function(r){var o=this,c=document.createElement("span");c.style.position="fixed";var h=this.centerRowContainerCtrl.getContainerElement();h.appendChild(c),r.forEach(function(A){return o.cloneItemIntoDummy(A,c)});var m=c.offsetWidth;return h.removeChild(c),m+this.gridOptionsWrapper.getAutoSizePadding()},i.prototype.getHeaderCellForColumn=function(r){var o=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(c){var h=c.getHtmlElementForColumnHeader(r);null!=h&&(o=h)}),o},i.prototype.cloneItemIntoDummy=function(r,o){var c=r.cloneNode(!0);c.style.width="",c.style.position="static",c.style.left="";var h=document.createElement("div"),m=h.classList;["ag-header-cell","ag-header-group-cell"].some(function(q){return c.classList.contains(q)})?(m.add("ag-header","ag-header-row"),h.style.position="static"):m.add("ag-row");for(var A=r.parentElement;A;){if(["ag-header-row","ag-row"].some(function(q){return A.classList.contains(q)})){for(var N=0;N<A.classList.length;N++){var k=A.classList[N];"ag-row-position-absolute"!=k&&m.add(k)}break}A=A.parentElement}h.appendChild(c),o.appendChild(h)},kn([K("rowRenderer")],i.prototype,"rowRenderer",void 0),kn([K("ctrlsService")],i.prototype,"ctrlsService",void 0),kn([K("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),kn([je],i.prototype,"postConstruct",null),kn([Xe("autoWidthCalculator")],i)}(Ge),Ks=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),os=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},MO=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},mn=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(MO(arguments[i]));return f},JC=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.destroyFuncsForColumnListeners=[],r.rowCtrlsByRowIndex={},r.zombieRowCtrls={},r.allRowCtrls=[],r.topRowCtrls=[],r.bottomRowCtrls=[],r.refreshInProgress=!1,r}return Ks(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.initialise()})},i.prototype.initialise=function(){this.addManagedListener(this.eventService,ne.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var r=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new ew(null!=r?r:3)}},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.updateAllRowCtrls=function(){var r=Ko(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&r.sort(function(h,m){return h.getRowNode().rowIndex-m.getRowNode.rowIndex});var o=Ko(this.zombieRowCtrls),c=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=mn(r,o,c)},i.prototype.registerCellEventListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_CELL_FOCUSED,function(c){r.getAllCellCtrls().forEach(function(h){return h.onCellFocused(c)}),r.getFullWidthRowCtrls().forEach(function(h){h.onFullWidthRowFocused(c)})}),this.addManagedListener(this.eventService,ne.EVENT_FLASH_CELLS,function(c){r.getAllCellCtrls().forEach(function(h){return h.onFlashCells(c)})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_HOVER_CHANGED,function(){r.getAllCellCtrls().forEach(function(c){return c.onColumnHover()})}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){r.getAllCellCtrls().forEach(function(c){return c.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){r.printLayout&&r.getAllCellCtrls().forEach(function(c){return c.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,ne.EVENT_RANGE_SELECTION_CHANGED,function(){r.getAllCellCtrls().forEach(function(c){return c.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_MOVED,function(){r.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PINNED,function(){r.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VISIBLE,function(){r.getAllCellCtrls().forEach(function(c){return c.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(r){return r()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var r=this;this.removeGridColumnListeners();var o=this.columnModel.getAllGridColumns();!o||o.forEach(function(c){var h=function(N){r.getAllCellCtrls().forEach(function(k){k.getColumn()===c&&N(k)})},m=function(){h(function(N){return N.onLeftChanged()})},w=function(){h(function(N){return N.onWidthChanged()})},A=function(){h(function(N){return N.onFirstRightPinnedChanged()})},x=function(){h(function(N){return N.onLastLeftPinnedChanged()})};c.addEventListener(Bt.EVENT_LEFT_CHANGED,m),c.addEventListener(Bt.EVENT_WIDTH_CHANGED,w),c.addEventListener(Bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,A),c.addEventListener(Bt.EVENT_LAST_LEFT_PINNED_CHANGED,x),r.destroyFuncsForColumnListeners.push(function(){c.removeEventListener(Bt.EVENT_LEFT_CHANGED,m),c.removeEventListener(Bt.EVENT_WIDTH_CHANGED,w),c.removeEventListener(Bt.EVENT_FIRST_RIGHT_PINNED_CHANGED,A),c.removeEventListener(Bt.EVENT_LAST_LEFT_PINNED_CHANGED,x)})})},i.prototype.onDomLayoutChanged=function(){var r=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,o=r||this.gridOptionsWrapper.isEmbedFullWidthRows(),c=o!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=o,c&&this.redrawAfterModelUpdate()},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},i.prototype.onPageLoaded=function(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(r){var o=[];return this.getAllRowCtrls().forEach(function(c){var h=c.getCellElement(r);h&&o.push(h)}),o},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(r,o){var c=this;r.forEach(function(h){h.destroyFirstPass(),h.destroySecondPass()}),r.length=0,o&&o.forEach(function(h){var m=new Oa(h,c.beans,!1,!1,c.printLayout);r.push(m)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(r){var o=[];return b(r)||Jt(this.rowCtrlsByRowIndex,function(c,h){var m=h.getRowNode();r.indexOf(m)>=0&&o.push(c)}),o},i.prototype.redrawRows=function(r){var o=null!=r&&r.length>0;if(o){var c=this.getRenderedIndexesForRowNodes(r);this.removeRowCtrls(c)}this.redrawAfterModelUpdate({recycleRows:o})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(r){var o=r.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==o)return null;var h=this.gridOptionsWrapper.getDocument().activeElement,m=this.gridOptionsWrapper.getDomData(h,yl.DOM_DATA_KEY_CELL_CTRL),w=this.gridOptionsWrapper.getDomData(h,Oa.DOM_DATA_KEY_ROW_CTRL);return m||w?o:null},i.prototype.redrawAfterModelUpdate=function(r){void 0===r&&(r={}),this.getLockOnRefresh();var o=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);var c=!this.printLayout&&!!r.recycleRows,h=r.animate&&this.gridOptionsWrapper.isAnimateRows(),m=c?this.recycleRows():null;c||this.removeAllRowComps();var A=function(){if(null==o||null==m)return!1;var x=!1;return Jt(m,function(N,k){var q=k.getRowNode();q.rowIndex==o.rowIndex&&q.rowPinned==o.rowPinned&&(x=!0)}),x}();this.redraw(m,h),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),A||this.restoreFocusedCell(o),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(r){var o=r.newData||r.newPage,c=this.gridOptionsWrapper.isSuppressScrollOnNewData();o&&!c&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.isRefreshInProgress=function(){return this.refreshInProgress},i.prototype.restoreFocusedCell=function(r){r&&this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0)},i.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.getAllRowCtrls().forEach(function(o){o.stopEditing(r)})},i.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(r){return r.onNewColumnsLoaded()})},i.prototype.getAllCellCtrls=function(){var r=[];return this.getAllRowCtrls().forEach(function(o){return r=r.concat(o.getAllCellCtrls())}),r},i.prototype.getAllRowCtrls=function(){var r=this,o=mn(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(c){return o.push(r.rowCtrlsByRowIndex[c])}),o},i.prototype.addRenderedRowListener=function(r,o,c){var h=this.rowCtrlsByRowIndex[o];h&&h.addEventListener(r,c)},i.prototype.flashCells=function(r){void 0===r&&(r={});var o=r.flashDelay,c=r.fadeDelay;this.getCellCtrls(r.rowNodes,r.columns).forEach(function(h){return h.flashCell({flashDelay:o,fadeDelay:c})})},i.prototype.refreshCells=function(r){void 0===r&&(r={});var o={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(function(c){if(c.refreshShouldDestroy()){var h=c.getRowCtrl();h&&h.refreshCell(c)}else c.refreshCell(o)}),this.getFullWidthRowCtrls(r.rowNodes).forEach(function(c){c.refreshFullWidth()})},i.prototype.getCellRendererInstances=function(r){return this.getCellCtrls(r.rowNodes,r.columns).map(function(c){return c.getCellRenderer()}).filter(function(c){return null!=c})},i.prototype.getCellEditorInstances=function(r){var o=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(function(c){var h=c.getCellEditor();h&&o.push(h)}),o},i.prototype.getEditingCells=function(){var r=[];return this.getAllCellCtrls().forEach(function(o){if(o.isEditing()){var c=o.getCellPosition();r.push(c)}}),r},i.prototype.mapRowNodes=function(r){if(r){var o={top:{},bottom:{},normal:{}};return r.forEach(function(c){var h=c.id;c.rowPinned===ge.PINNED_TOP?o.top[h]=c:c.rowPinned===ge.PINNED_BOTTOM?o.bottom[h]=c:o.normal[h]=c}),o}},i.prototype.isRowInMap=function(r,o){var c=r.id,h=r.rowPinned;return h===ge.PINNED_BOTTOM?null!=o.bottom[c]:h===ge.PINNED_TOP?null!=o.top[c]:null!=o.normal[c]},i.prototype.getCellCtrls=function(r,o){var w,c=this,h=this.mapRowNodes(r),m=[];re(o)&&(w={},o.forEach(function(x){var N=c.columnModel.getGridColumn(x);re(N)&&(w[N.getId()]=!0)}));var A=function(x){var N=x.getRowNode();null!=h&&!c.isRowInMap(N,h)||x.getAllCellCtrls().forEach(function(k){var q=k.getColumn().getId();w&&!w[q]||m.push(k)})};return Jt(this.rowCtrlsByRowIndex,function(x,N){A(N)}),this.topRowCtrls&&this.topRowCtrls.forEach(A),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(A),m},i.prototype.destroy=function(){this.removeAllRowComps(),f.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},i.prototype.recycleRows=function(){var r=[];Jt(this.rowCtrlsByRowIndex,function(c,h){null==h.getRowNode().id&&r.push(c)}),this.removeRowCtrls(r);var o={};return Jt(this.rowCtrlsByRowIndex,function(c,h){var m=h.getRowNode();o[m.id]=h}),this.rowCtrlsByRowIndex={},o},i.prototype.removeRowCtrls=function(r){var o=this;r.forEach(function(c){var h=o.rowCtrlsByRowIndex[c];h&&(h.destroyFirstPass(),h.destroySecondPass()),delete o.rowCtrlsByRowIndex[c]})},i.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},i.prototype.removeRowCompsNotToDraw=function(r){var o={};r.forEach(function(m){return o[m]=!0});var h=Object.keys(this.rowCtrlsByRowIndex).filter(function(m){return!o[m]});this.removeRowCtrls(h)},i.prototype.calculateIndexesToDraw=function(r){var o=this,c=dS(this.firstRenderedRow,this.lastRenderedRow),h=function(m,w){var A=w.getRowNode().rowIndex;null!=A&&(A<o.firstRenderedRow||A>o.lastRenderedRow)&&o.doNotUnVirtualiseRow(w)&&c.push(A)};return Jt(this.rowCtrlsByRowIndex,h),Jt(r,h),c.sort(function(m,w){return m-w}),c},i.prototype.redraw=function(r,o,c){var h=this;void 0===o&&(o=!1),void 0===c&&(c=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var m=this.calculateIndexesToDraw(r);this.removeRowCompsNotToDraw(m),this.printLayout&&(o=!1),m.forEach(function(A){re(h.createOrUpdateRowCtrl(A,r,o,c))}),r&&(!c||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(r,o):this.beans.animationFrameService.addDestroyTask(function(){h.destroyRowCtrls(r,o),h.updateAllRowCtrls(),h.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},i.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:ne.EVENT_DISPLAYED_ROWS_CHANGED})},i.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.isPinningLeft(),o=this.columnModel.isPinningRight();(this.pinningLeft!==r||o!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var r=[];this.getFullWidthRowCtrls().forEach(function(o){var c=o.getRowNode().rowIndex;r.push(c.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redrawAfterScroll()},i.prototype.getFullWidthRowCtrls=function(r){var o=this,c=this.mapRowNodes(r);return Ko(this.rowCtrlsByRowIndex).filter(function(h){if(!h.isFullWidth())return!1;var m=h.getRowNode();return!(null!=c&&!o.isRowInMap(m,c))})},i.prototype.refreshFullWidthRows=function(r){var o=[],c=!!r,h=c?{}:void 0;c&&h&&r.forEach(function(m){return h[m.id]=!0}),this.getFullWidthRowCtrls().forEach(function(m){var w=m.getRowNode();if((!c||!h||h[w.id]||h[w.level>0&&w.parent?w.parent.id:void 0])&&!m.refreshFullWidth()){var k=m.getRowNode().rowIndex;o.push(k.toString())}}),this.removeRowCtrls(o),this.redrawAfterScroll()},i.prototype.createOrUpdateRowCtrl=function(r,o,c,h){var m,w=this.rowCtrlsByRowIndex[r];if(w||re(m=this.paginationProxy.getRow(r))&&re(o)&&o[m.id]&&m.alreadyRendered&&(w=o[m.id],o[m.id]=null),!w){if(m||(m=this.paginationProxy.getRow(r)),!re(m))return;w=this.createRowCon(m,c,h)}return m&&(m.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=w,w},i.prototype.destroyRowCtrls=function(r,o){var c=this,h=[];Jt(r,function(m,w){if(w){if(c.cachedRowCtrls&&w.isCacheable())return void c.cachedRowCtrls.addRow(w);w.destroyFirstPass(),o?(c.zombieRowCtrls[w.getInstanceId()]=w,h.push(function(){w.destroySecondPass(),delete c.zombieRowCtrls[w.getInstanceId()]})):w.destroySecondPass()}}),o&&(h.push(function(){c.updateAllRowCtrls(),c.dispatchDisplayedRowsChanged()}),og(h))},i.prototype.workOutFirstAndLastRowsToRender=function(){var o,c,r=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)o=this.paginationProxy.getPageFirstRow(),c=this.paginationProxy.getPageLastRow();else{var h=this.gridOptionsWrapper.getRowBufferInPixels(),m=this.ctrlsService.getGridBodyCtrl(),w=this.gridOptionsWrapper.isSuppressRowVirtualisation(),A=!1,x=void 0,N=void 0;do{var k=this.paginationProxy.getPixelOffset(),q=this.paginationProxy.getCurrentPagePixelRange(),te=q.pageFirstPixel,le=q.pageLastPixel,de=this.rowContainerHeightService.getDivStretchOffset();if(w)x=te+de,N=le+de;else{var ye=m.getScrollFeature().getVScrollPosition(),Oe=ye.bottom;x=Math.max(ye.top+k-h,te)+de,N=Math.min(Oe+k+h,le)+de}A=this.ensureAllRowsInRangeHaveHeightsCalculated(x,N)}while(A);var Ee=this.paginationProxy.getRowIndexAtPixel(x),Ke=this.paginationProxy.getRowIndexAtPixel(N),pt=this.paginationProxy.getPageFirstRow(),mt=this.paginationProxy.getPageLastRow();Ee<pt&&(Ee=pt),Ke>mt&&(Ke=mt),o=Ee,c=Ke}else o=0,c=-1;var ut=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_NORMAL,ze=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),Mt=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(ut&&!ze&&c-o>Mt&&(c=o+Mt),(o!==this.firstRenderedRow||c!==this.lastRenderedRow)&&(this.firstRenderedRow=o,this.lastRenderedRow=c,this.eventService.dispatchEvent({type:ne.EVENT_VIEWPORT_CHANGED,firstRow:o,lastRow:c,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var cs={type:ne.EVENT_FIRST_DATA_RENDERED,firstRow:o,lastRow:c,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return r.eventService.dispatchEventOnce(cs)},50)}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(r,o){var c=this.paginationProxy.ensureRowHeightsValid(r,o,-1,-1);return c&&this.updateContainerHeights(),c},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(r){var h=r.getRowNode(),m=this.focusService.isRowNodeFocused(h),w=r.isEditing();return!!(m||w||h.detail)&&!!this.paginationProxy.isRowPresent(h)},i.prototype.createRowCon=function(r,o,c){var h=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(h)return h;var m=this.gridOptionsWrapper.isSuppressAnimationFrame();return new Oa(r,this.beans,o,c&&!m&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var r=this.rowCtrlsByRowIndex;return Object.keys(r).map(function(o){return r[o].getRowNode()})},i.prototype.getRowByPosition=function(r){var o;switch(r.rowPinned){case ge.PINNED_TOP:o=this.topRowCtrls[r.rowIndex];break;case ge.PINNED_BOTTOM:o=this.bottomRowCtrls[r.rowIndex];break;default:o=this.rowCtrlsByRowIndex[r.rowIndex]}return o},i.prototype.getRowNode=function(r){switch(r.rowPinned){case ge.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case ge.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(r,o){return!(null==r||null==o||o<this.firstRenderedRow||r>this.lastRenderedRow)},os([K("paginationProxy")],i.prototype,"paginationProxy",void 0),os([K("columnModel")],i.prototype,"columnModel",void 0),os([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),os([K("rowModel")],i.prototype,"rowModel",void 0),os([K("focusService")],i.prototype,"focusService",void 0),os([K("columnApi")],i.prototype,"columnApi",void 0),os([K("gridApi")],i.prototype,"gridApi",void 0),os([K("beans")],i.prototype,"beans",void 0),os([K("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),os([$t("ctrlsService")],i.prototype,"ctrlsService",void 0),os([je],i.prototype,"postConstruct",null),os([Xe("rowRenderer")],i)}(Ge),ew=function(){function f(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return f.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var r=this.entriesList[0];r.destroyFirstPass(),r.destroySecondPass(),this.removeFromCache(r)}},f.prototype.getRow=function(i){if(null==i||null==i.id)return null;var r=this.entriesMap[i.id];return r?(this.removeFromCache(r),r.setCached(!1),r.getRowNode()!=i?null:r):null},f.prototype.removeFromCache=function(i){var r=i.getRowNode().id;delete this.entriesMap[r],pn(this.entriesList,i)},f.prototype.getEntries=function(){return this.entriesList},f}(),FO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),di=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},xc=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return FO(i,f),i.prototype.formatValue=function(r,o,c,h,m){void 0===m&&(m=!0);var A,w=null,x=r.getColDef();if(h?A=h:m&&(A=o&&o.rowPinned&&x.pinnedRowValueFormatter?x.pinnedRowValueFormatter:x.valueFormatter),A){var N={value:c,node:o,data:o?o.data:null,colDef:x,column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};w=this.expressionService.evaluate(A,N)}else if(x.refData)return x.refData[c]||"";return null==w&&Array.isArray(c)&&(w=c.join(", ")),w},di([K("expressionService")],i.prototype,"expressionService",void 0),di([Xe("valueFormatterService")],i)}(Ge),tw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ta=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},lf=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return tw(i,f),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},i.prototype.isEmpty=function(r){return ti(r===ge.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(r){return!this.isEmpty(r)},i.prototype.getRowAtPixel=function(r,o){var c=o===ge.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(ti(c))return 0;for(var h=0;h<c.length;h++){var m=c[h];if(m.rowTop+m.rowHeight-1>=r)return h}return c.length-1},i.prototype.setPinnedTopRowData=function(r){this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:ne.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setPinnedBottomRowData=function(r){this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:ne.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.createNodesFromData=function(r,o){var c=this,h=[];if(r){var m=0;r.forEach(function(w,A){var x=new bt(c.beans);x.data=w,x.id=(o?bt.ID_PREFIX_TOP_PINNED:bt.ID_PREFIX_BOTTOM_PINNED)+A,x.rowPinned=o?ge.PINNED_TOP:ge.PINNED_BOTTOM,x.setRowTop(m),x.setRowHeight(c.gridOptionsWrapper.getRowHeightForNode(x).height),x.setRowIndex(A),m+=x.rowHeight,h.push(x)})}return h},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(r){return this.pinnedTopRows[r]},i.prototype.getPinnedBottomRow=function(r){return this.pinnedBottomRows[r]},i.prototype.forEachPinnedTopRow=function(r){ti(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)},i.prototype.forEachPinnedBottomRow=function(r){ti(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(r){if(!r||0===r.length)return 0;var o=rr(r);return o.rowTop+o.rowHeight},Ta([K("columnApi")],i.prototype,"columnApi",void 0),Ta([K("gridApi")],i.prototype,"gridApi",void 0),Ta([K("beans")],i.prototype,"beans",void 0),Ta([je],i.prototype,"init",null),Ta([Xe("pinnedRowModel")],i)}(Ge);!function(f){f.Applied="Applied",f.StoreNotFound="StoreNotFound",f.StoreLoading="StoreLoading",f.StoreWaitingToLoad="StoreWaitingToLoad",f.StoreLoadingFailed="StoreLoadingFailed",f.StoreWrongType="StoreWrongType",f.Cancelled="Cancelled"}(W.ServerSideTransactionResultStatus||(W.ServerSideTransactionResultStatus={}));var lo=function(){function f(i,r){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:r,children:null},this.mapToItems[r.id]=this.pathRoot}return f.prototype.setInactive=function(){this.active=!1},f.prototype.isActive=function(){return this.active},f.prototype.depthFirstSearchChangedPath=function(i,r){if(i.children)for(var o=0;o<i.children.length;o++)this.depthFirstSearchChangedPath(i.children[o],r);r(i.rowNode)},f.prototype.depthFirstSearchEverything=function(i,r,o){if(i.childrenAfterGroup)for(var c=0;c<i.childrenAfterGroup.length;c++){var h=i.childrenAfterGroup[c];h.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[c],r,o):o&&r(h)}r(i)},f.prototype.forEachChangedNodeDepthFirst=function(i,r){void 0===r&&(r=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,r)},f.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},f.prototype.createPathItems=function(i){for(var r=i,o=0;!this.mapToItems[r.id];)this.mapToItems[r.id]={rowNode:r,children:null},o++,r=r.parent;return o},f.prototype.populateColumnsMap=function(i,r){var o=this;if(this.keepingColumns&&r)for(var c=i;c;)this.nodeIdsToColumns[c.id]||(this.nodeIdsToColumns[c.id]={}),r.forEach(function(h){return o.nodeIdsToColumns[c.id][h.getId()]=!0}),c=c.parent},f.prototype.linkPathItems=function(i,r){for(var o=i,c=0;c<r;c++){var h=this.mapToItems[o.id],m=this.mapToItems[o.parent.id];m.children||(m.children=[]),m.children.push(h),o=o.parent}},f.prototype.addParentNode=function(i,r){if(i&&!i.isRowPinned()){var o=this.createPathItems(i);this.linkPathItems(i,o),this.populateColumnsMap(i,r)}},f.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},f.prototype.getValueColumnsForNode=function(i,r){if(!this.keepingColumns)return r;var o=this.nodeIdsToColumns[i.id];return r.filter(function(h){return o[h.getId()]})},f.prototype.getNotValueColumnsForNode=function(i,r){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[i.id];return r.filter(function(h){return!o[h.getId()]})},f}(),Pv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hd=function(f){function i(r){var o=f.call(this)||this;return o.state=i.STATE_WAITING_TO_LOAD,o.version=0,o.id=r,o}return Pv(i,f),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(r){this.isRequestMostRecentAndLive(r)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(r,o){this.successCommon(r,o)},i.prototype.pageLoaded=function(r,o,c){this.successCommon(r,{rowData:o,rowCount:c})},i.prototype.isRequestMostRecentAndLive=function(r){var o=r===this.version,c=this.isAlive();return o&&c},i.prototype.successCommon=function(r,o){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(r)&&(this.state=i.STATE_LOADED,this.processServerResult(o))},i.prototype.dispatchLoadCompleted=function(r){void 0===r&&(r=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:r,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(Ge),Sl=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),uf=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},sr=function(f,i){return function(r,o){i(r,o,f)}},fd=function(f){function i(){var o=null!==f&&f.apply(this,arguments)||this;return o.activeBlockLoadsCount=0,o.blocks=[],o.active=!0,o}var r;return Sl(i,f),r=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var o=this.gridOptionsWrapper.getBlockLoadDebounceMillis();o&&o>0&&(this.checkBlockToLoadDebounce=gt.debounce(this.performCheckBlocksToLoad.bind(this),o))},i.prototype.setBeans=function(o){this.logger=o.create("RowNodeBlockLoader")},i.prototype.addBlock=function(o){this.blocks.push(o),o.addEventListener(hd.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(o){gt.removeFromArray(this.blocks,o)},i.prototype.destroy=function(){f.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var o=null;this.blocks.forEach(function(c){c.getState()===hd.STATE_WAITING_TO_LOAD&&(o=c)}),o&&(o.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},i.prototype.getBlockState=function(){var o={};return this.blocks.forEach(function(c){var h=c.getBlockStateJson();o[h.id]=h.state}),o},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",uf([je],i.prototype,"postConstruct",null),uf([sr(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),r=uf([Xe("rowNodeBlockLoader")],i)}(Ge),xt=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xa=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},rw=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.currentPage=0,r.topDisplayedRowIndex=0,r.bottomDisplayedRowIndex=0,r.pixelOffset=0,r.masterRowCount=0,r}return xt(i,f),i.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(r,o,c,h){var m=this.rowModel.ensureRowHeightsValid(r,o,this.getPageFirstRow(),this.getPageLastRow());return m&&this.calculatePages(),m},i.prototype.onModelUpdated=function(r){this.calculatePages(),this.eventService.dispatchEvent({type:ne.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,keepRenderedRows:!!r&&r.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},i.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:ne.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},i.prototype.goToPage=function(r){this.active&&this.currentPage!==r&&(this.currentPage=r,this.onModelUpdated({type:ne.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(r){return this.rowModel.getRow(r)},i.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},i.prototype.getRowIndexAtPixel=function(r){return this.rowModel.getRowIndexAtPixel(r)},i.prototype.getCurrentPageHeight=function(){return b(this.topRowBounds)||b(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.getNodesInRangeForSelection=function(r,o){return this.rowModel.getNodesInRangeForSelection(r,o)},i.prototype.forEachNode=function(r){return this.rowModel.forEachNode(r)},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(r){var o=this.rowModel.getRowBounds(r);return o.rowIndex=r,o},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(r){return Math.floor(r/this.pageSize)},i.prototype.goToPageWithIndex=function(r){if(this.active){var o=this.getPageForIndex(r);this.goToPage(o)}},i.prototype.isRowInPage=function(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var r=this.rowModel.getRowCount(),o=Math.floor(r/this.pageSize);this.goToPage(o)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(re(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:ne.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!As(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var c=this.pageSize*(this.currentPage+1)-1;if(c>r&&(c=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),c===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var h=this.rowModel.getTopLevelRowDisplayedIndex(c+1);this.bottomDisplayedRowIndex=h-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!As(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},xa([K("rowModel")],i.prototype,"rowModel",void 0),xa([K("columnApi")],i.prototype,"columnApi",void 0),xa([K("gridApi")],i.prototype,"gridApi",void 0),xa([je],i.prototype,"postConstruct",null),xa([Xe("paginationProxy")],i)}(Ge),nw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Eu=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Io=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return nw(i,f),i.prototype.processAllCellClasses=function(r,o,c,h){this.processClassRules(r.cellClassRules,o,c,h),this.processStaticCellClasses(r,o,c)},i.prototype.processClassRules=function(r,o,c,h){if(null!=r){for(var m=Object.keys(r),w={},A={},x=function(q){var de,te=m[q],le=r[te];"string"==typeof le?de=N.expressionService.evaluate(le,o):"function"==typeof le&&(de=le(o)),te.split(" ").forEach(function(ye){null==ye||""==ye.trim()||(de?w[ye]=!0:A[ye]=!0)})},N=this,k=0;k<m.length;k++)x(k);h&&Object.keys(A).forEach(h),Object.keys(w).forEach(c)}},i.prototype.getStaticCellClasses=function(r,o){var h,c=r.cellClass;return c?("string"==typeof(h="function"==typeof c?c(o):c)&&(h=[h]),h||[]):[]},i.prototype.processStaticCellClasses=function(r,o,c){this.getStaticCellClasses(r,o).forEach(function(m){c(m)})},Eu([K("expressionService")],i.prototype,"expressionService",void 0),Eu([Xe("stylingService")],i)}(Ge),cf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kn=function(f){function i(r){return f.call(this,r,"ag-radio-button","radio")||this}return cf(i,f),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){f.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,ne.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)},i}(js),gd=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),uo=function(f){function i(r){return f.call(this,r,"ag-toggle-button")||this}return gd(i,f),i.prototype.setValue=function(r,o){return f.prototype.setValue.call(this,r,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(js),iw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pf=function(f){function i(r,o,c){return void 0===o&&(o="ag-text-field"),void 0===c&&(c="text"),f.call(this,r,o,c)||this}return iw(i,f),i.prototype.postConstruct=function(){f.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(r,o){var c=f.prototype.setValue.call(this,r,o);return this.eInput.value!==r&&(this.eInput.value=re(r)?r:""),c},i.prototype.preventDisallowedCharacters=function(){var r=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(c){c.key&&!r.test(c.key)&&c.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(c){var h,m=null===(h=c.clipboardData)||void 0===h?void 0:h.getData("text");m&&m.split("").some(function(w){return!r.test(w)})&&c.preventDefault()})},i}(Do),ow=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),df=function(f){function i(r){return f.call(this,r,"ag-text-area",null,"textarea")||this}return ow(i,f),i.prototype.setValue=function(r,o){var c=f.prototype.setValue.call(this,r,o);return this.eInput.value=r,c},i.prototype.setCols=function(r){return this.eInput.cols=r,this},i.prototype.setRows=function(r){return this.eInput.rows=r,this},i}(Do),Tv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xv=function(f){function i(r){return f.call(this,r,"ag-number-field","number")||this}return Tv(i,f),i.prototype.postConstruct=function(){var r=this;f.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var o=parseFloat(r.eInput.value),c=isNaN(o)?"":r.normalizeValue(o.toString());r.value!==c&&r.setValue(c)}),this.eInput.step="any"},i.prototype.normalizeValue=function(r){if(""===r)return"";this.precision&&(r=this.adjustPrecision(r));var o=parseFloat(r);return null!=this.min&&o<this.min?r=this.min.toString():null!=this.max&&o>this.max&&(r=this.max.toString()),r},i.prototype.adjustPrecision=function(r){if(this.precision){var o=parseFloat(r).toFixed(this.precision);r=parseFloat(o).toString()}return r},i.prototype.setMin=function(r){return this.min===r||(this.min=r,Os(this.eInput,"min",r)),this},i.prototype.setMax=function(r){return this.max===r||(this.max=r,Os(this.eInput,"max",r)),this},i.prototype.setPrecision=function(r){return this.precision=r,this},i.prototype.setStep=function(r){return this.step===r||(this.step=r,Os(this.eInput,"step",r)),this},i.prototype.setValue=function(r,o){return(r=this.adjustPrecision(r))!=this.normalizeValue(r)?this:f.prototype.setValue.call(this,r,o)},i}(pf),hf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mv=function(f){function i(r){return f.call(this,r,"ag-range-field","range")||this}return hf(i,f),i.prototype.postConstruct=function(){f.prototype.postConstruct.call(this);var r=this.config,o=r.min,c=r.max,h=r.step;null!=o&&this.setMinValue(o),null!=c&&this.setMaxValue(c),this.setStep(h||1)},i.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(o){r.setValue(o.target.value)})},i.prototype.setMinValue=function(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this},i.prototype.setMaxValue=function(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this},i.prototype.setStep=function(r){return this.eInput.setAttribute("step",r.toString()),this},i.prototype.setValue=function(r,o){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());var c=f.prototype.setValue.call(this,r,o);return this.eInput.value=r,c},i}(Do),Fv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ff=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},gf=function(f){function i(r){var o=f.call(this,r,i.TEMPLATE)||this;return o.labelAlignment="top",o}return Fv(i,f),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(r){var o=this,c=es.EVENT_CHANGED;return this.addManagedListener(this.eText,c,function(){var h=parseFloat(o.eText.getValue());o.eSlider.setValue(h.toString(),!0),r(h||0)}),this.addManagedListener(this.eSlider,c,function(){var h=o.eSlider.getValue();o.eText.setValue(h,!0),r(parseFloat(h))}),this},i.prototype.setSliderWidth=function(r){return this.eSlider.setWidth(r),this},i.prototype.setTextFieldWidth=function(r){return this.eText.setWidth(r),this},i.prototype.setMinValue=function(r){return this.eSlider.setMinValue(r),this.eText.setMin(r),this},i.prototype.setMaxValue=function(r){return this.eSlider.setMaxValue(r),this.eText.setMax(r),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(r){return this.getValue()===r||(this.eText.setValue(r,!0),this.eSlider.setValue(r,!0),this.dispatchEvent({type:es.EVENT_CHANGED})),this},i.prototype.setStep=function(r){return this.eSlider.setStep(r),this.eText.setStep(r),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',ff([Ne("eLabel")],i.prototype,"eLabel",void 0),ff([Ne("eSlider")],i.prototype,"eSlider",void 0),ff([Ne("eText")],i.prototype,"eText",void 0),ff([je],i.prototype,"init",null),i}(ic),sw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},vf=function(f){function i(r){var o=f.call(this,r,i.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return sw(i,f),i.prototype.postConstruct=function(){var r=this;f.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(o){r.parentCircleRect=r.eParentCircle.getBoundingClientRect()},onDragging:function(o){return r.calculateAngleDrag(o)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(o){(null==o||""===o)&&(o="0"),o=r.eAngleValue.normalizeValue(o);var c=parseFloat(o);c>180&&(c-=360),r.setValue(c)}),this.updateNumberInput(),re(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,es.EVENT_CHANGED,function(){var o=r.gridOptionsWrapper.getDocument();r.eAngleValue.getInputElement().contains(o.activeElement)||r.updateNumberInput()})},i.prototype.updateNumberInput=function(){var r=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(r.toString())},i.prototype.positionChildCircle=function(r){var o=this.parentCircleRect||{width:24,height:24},c=this.eChildCircle,m=o.height/2;c.style.left=o.width/2+8*Math.cos(r)+"px",c.style.top=m+8*Math.sin(r)+"px"},i.prototype.calculatePolar=function(){var r=this.offsetX,o=this.offsetY,c=Math.atan2(o,r);this.degrees=this.toDegrees(c),this.radius=Math.sqrt(r*r+o*o),this.positionChildCircle(c)},i.prototype.calculateCartesian=function(){var r=this.toRadians(this.getValue()),o=this.getRadius();this.setOffsetX(Math.cos(r)*o).setOffsetY(Math.sin(r)*o)},i.prototype.setOffsetX=function(r){return this.offsetX!==r&&(this.offsetX=r,this.calculatePolar()),this},i.prototype.setOffsetY=function(r){return this.offsetY!==r&&(this.offsetY=r,this.calculatePolar()),this},i.prototype.calculateAngleDrag=function(r){var o=this.parentCircleRect,N=Math.atan2(r.clientY-o.top-o.height/2,r.clientX-o.left-o.width/2);this.setValue(N,!0)},i.prototype.toDegrees=function(r){return r/Math.PI*180},i.prototype.toRadians=function(r){return r/180*Math.PI},i.prototype.normalizeNegativeValue=function(r){return r<0?360+r:r},i.prototype.normalizeAngle180=function(r){return(r%=2*Math.PI)<-Math.PI?r+=2*Math.PI:r>=Math.PI&&(r-=2*Math.PI),r},i.prototype.getRadius=function(){return this.radius},i.prototype.setRadius=function(r){return this.radius===r||(this.radius=r,this.calculateCartesian()),this},i.prototype.onValueChange=function(r){var o=this;return this.addManagedListener(this,es.EVENT_CHANGED,function(){r(o.degrees)}),this},i.prototype.getValue=function(r){return r?this.toRadians(this.degrees):this.degrees},i.prototype.setValue=function(r,o){var c;return c=o?r:this.normalizeAngle180(this.toRadians(r)),r=this.toDegrees(c),this.degrees!==r&&(this.degrees=Math.floor(r),this.calculateCartesian(),this.positionChildCircle(c),this.dispatchEvent({type:es.EVENT_CHANGED})),this},i.prototype.setWidth=function(r){return qt(this.getGui(),r),this},i.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),f.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',vd([Ne("eLabel")],i.prototype,"eLabel",void 0),vd([Ne("eParentCircle")],i.prototype,"eParentCircle",void 0),vd([Ne("eChildCircle")],i.prototype,"eChildCircle",void 0),vd([Ne("eAngleValue")],i.prototype,"eAngleValue",void 0),vd([K("dragService")],i.prototype,"dragService",void 0),i}(ic),tb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gi=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Iv=function(f){function i(r){var o=f.call(this,i.TEMPLATE)||this;return o.H=1,o.S=1,o.B=1,o.A=1,o.isSpectrumDragging=!1,o.isSpectrumHueDragging=!1,o.isSpectrumAlphaDragging=!1,o.colorChanged=!1,o.picker=r.picker,o}return tb(i,f),i.prototype.postConstruct=function(){var r=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},i.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},i.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},i.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},i.prototype.onSpectrumDraggerDown=function(r){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(r)},i.prototype.onSpectrumDraggerMove=function(r){this.isSpectrumDragging&&this.moveDragger(r)},i.prototype.onSpectrumHueDown=function(r){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(r)},i.prototype.onSpectrumHueMove=function(r){this.isSpectrumHueDragging&&this.moveHueSlider(r)},i.prototype.onSpectrumAlphaDown=function(r){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(r)},i.prototype.onSpectrumAlphaMove=function(r){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(r)},i.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},i.prototype.moveDragger=function(r){var o=this.spectrumValRect;if(o){var c=r.clientX-o.left,h=r.clientY-o.top;c=Math.max(c,0),c=Math.min(c,o.width),h=Math.max(h,0),h=Math.min(h,o.height),this.setSpectrumValue(c/o.width,1-h/o.height)}},i.prototype.moveHueSlider=function(r){var o=this.spectrumHueRect;if(o){var c=this.spectrumHueSlider,h=c.getBoundingClientRect(),m=r.clientX-o.left;m=Math.max(m,0),m=Math.min(m,o.width),this.H=1-m/o.width,c.style.left=m+h.width/2+"px",this.update()}},i.prototype.moveAlphaSlider=function(r){var o=this.spectrumAlphaRect;if(o){var c=this.spectrumAlphaSlider,h=c.getBoundingClientRect(),m=r.clientX-o.left;m=Math.max(m,0),m=Math.min(m,o.width),this.A=m/o.width,c.style.left=m+h.width/2+"px",this.update()}},i.prototype.update=function(){var r=Qa.fromHSB(360*this.H,this.S,this.B,this.A),o=Qa.fromHSB(360*this.H,1,1),c=r.toRgbaString(),h=this.picker;Qa.fromString(h.getValue()).toRgbaString()!==c&&(this.colorChanged=!0),h.setValue(c),this.spectrumColor.style.backgroundColor=o.toRgbaString(),this.spectrumDragger.style.backgroundColor=c},i.prototype.setSpectrumValue=function(r,o){var c=this.spectrumValRect||this.refreshSpectrumRect();if(c){var h=this.spectrumDragger,m=h.getBoundingClientRect();r=Math.max(0,r),r=Math.min(1,r),o=Math.max(0,o),o=Math.min(1,o),this.S=r,this.B=o,h.style.left=r*c.width-m.width/2+"px",h.style.top=(1-o)*c.height-m.height/2+"px",this.update()}},i.prototype.initRecentColors=function(){var o=i.recentColors.map(function(c,h){return'<div class="ag-recent-color" id='+h+' style="background-color: '+c+'; width: 15px; height: 15px;" recent-color="'+c+'"></div>'});this.recentColors.innerHTML=o.join("")},i.prototype.setValue=function(r){var o=Qa.fromString(r),c=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h}(o.toHSB(),3),h=c[0],m=c[1],w=c[2];this.H=(isNaN(h)?0:h)/360,this.A=o.a;var A=this.spectrumHueRect||this.refreshHueRect(),x=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-A.width+"px",this.spectrumAlphaSlider.style.left=this.A*x.width+"px",this.setSpectrumValue(m,w)},i.prototype.onRecentColorClick=function(r){var o=r.target;if(re(o.id)){var c=parseInt(o.id,10);this.setValue(i.recentColors[c]),this.destroy()}},i.prototype.addRecentColor=function(){var o=Qa.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),c=i.recentColors;!this.colorChanged||c[0]===o||(c=c.filter(function(h){return h!=o}),(c=[o].concat(c)).length>i.maxRecentColors&&(c=c.slice(0,i.maxRecentColors)),i.recentColors=c)},i.prototype.destroy=function(){this.addRecentColor(),f.prototype.destroy.call(this)},i.maxRecentColors=8,i.recentColors=[],i.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Gi([Ne("spectrumColor")],i.prototype,"spectrumColor",void 0),Gi([Ne("spectrumVal")],i.prototype,"spectrumVal",void 0),Gi([Ne("spectrumDragger")],i.prototype,"spectrumDragger",void 0),Gi([Ne("spectrumHue")],i.prototype,"spectrumHue",void 0),Gi([Ne("spectrumHueSlider")],i.prototype,"spectrumHueSlider",void 0),Gi([Ne("spectrumAlpha")],i.prototype,"spectrumAlpha",void 0),Gi([Ne("spectrumAlphaSlider")],i.prototype,"spectrumAlphaSlider",void 0),Gi([Ne("recentColors")],i.prototype,"recentColors",void 0),Gi([je],i.prototype,"postConstruct",null),i}(At),Nv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},hi=function(f){function i(r){var o=f.call(this,i.getTemplate(r))||this;return o.closable=!0,o.config=r,o}return Nv(i,f),i.getTemplate=function(r){var o=r&&r.cssIdentifier||"default";return'<div class="ag-panel ag-'+o+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+o+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+o+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+o+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+o+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var r=this,o=this.config,c=o.component,h=o.closable,m=o.hideTitleBar,w=o.title,A=o.minWidth,x=void 0===A?250:A,N=o.width,k=o.minHeight,q=void 0===k?250:k,te=o.height,le=o.centered,de=o.popup,ye=o.x,xe=o.y;this.positionableFeature=new dd(this.getGui(),{minWidth:x,width:N,minHeight:q,height:te,centered:le,x:ye,y:xe,popup:de,calculateTopBuffer:function(){return r.positionableFeature.getHeight()-r.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Oe=this.getGui();c&&this.setBodyComponent(c),m?this.eTitleBar.classList.add("ag-hidden"):(w&&this.setTitle(w),this.setClosable(null!=h?h:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ee){var Ke=r.gridOptionsWrapper.getDocument();if(Oe.contains(Ee.relatedTarget)||Oe.contains(Ke.activeElement)||r.eTitleBarButtons.contains(Ee.target))Ee.preventDefault();else{var pt=r.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");pt&&pt.focus()}}),(!de||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var r=this,o=this.getGui();o.focus(),this.close=function(){o.parentElement.removeChild(o),r.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(r){this.positionableFeature.setHeight(r)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(r){this.positionableFeature.setWidth(r)},i.prototype.setClosable=function(r){if(r!==this.closable&&(this.closable=r),r){var o=this.closeButtonComp=new At(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o);var c=o.getGui(),h=kr("close",this.gridOptionsWrapper);h.classList.add("ag-panel-title-bar-button-icon"),c.appendChild(h),this.addTitleBarButton(o),o.addManagedListener(c,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((c=this.closeButtonComp.getGui()).parentElement.removeChild(c),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())},i.prototype.addTitleBarButton=function(r,o){var c=this.eTitleBarButtons,h=c.children,m=h.length;null==o&&(o=m),o=Math.max(0,Math.min(o,m)),r.addCssClass("ag-panel-title-bar-button");var w=r.getGui();0===o?c.insertAdjacentElement("afterbegin",w):o===m?c.insertAdjacentElement("beforeend",w):h[o-1].insertAdjacentElement("afterend",w),r.setParentComponent(this)},i.prototype.getBodyHeight=function(){return Yi(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return Be(this.eContentWrapper)},i.prototype.setTitle=function(r){this.eTitle.innerText=r},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var r=this.getGui();r&&r.offsetParent&&this.close(),f.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',yd([Ne("eContentWrapper")],i.prototype,"eContentWrapper",void 0),yd([Ne("eTitleBar")],i.prototype,"eTitleBar",void 0),yd([Ne("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),yd([Ne("eTitle")],i.prototype,"eTitle",void 0),yd([je],i.prototype,"postConstruct",null),i}(At),aw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lv=function(){return Lv=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Lv.apply(this,arguments)},md=function(f){function i(r){var o=f.call(this,Lv(Lv({},r),{popup:!0}))||this;return o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.lastPosition={x:0,y:0,width:0,height:0},o}return aw(i,f),i.prototype.postConstruct=function(){var r=this,o=this.getGui(),c=this.config,h=c.movable,m=c.resizable,w=c.maximizable;this.addCssClass("ag-dialog"),f.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",function(A){o.contains(A.relatedTarget)||r.popupService.bringPopupToFront(o)}),h&&this.setMovable(h),w&&this.setMaximizable(w),m&&this.setResizable(m)},i.prototype.renderComponent=function(){var r=this.getGui(),o=this.config,c=o.alwaysOnTop,h=o.modal,m=o.title,w=this.gridOptionsWrapper.getLocaleTextFunc(),A=this.popupService.addPopup({modal:h,eChild:r,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:c,ariaLabel:m||w("ariaLabelDialog","Dialog")});A&&(this.close=A.hideFunc)},i.prototype.toggleMaximize=function(){var r=this.positionableFeature.getPosition();if(this.isMaximized){var o=this.lastPosition,c=o.x,h=o.y,w=o.height;this.setWidth(o.width),this.setHeight(w),this.positionableFeature.offsetElement(c,h)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){ur(this.maximizeIcon,!this.isMaximized),ur(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(r){return r()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),f.prototype.destroy.call(this)},i.prototype.setResizable=function(r){this.positionableFeature.setResizable(r)},i.prototype.setMovable=function(r){this.positionableFeature.setMovable(r,this.eTitleBar)},i.prototype.setMaximizable=function(r){var o=this;if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var c=this.eTitleBar;if(c&&r!==this.isMaximizable){var h=this.maximizeButtonComp=this.createBean(new At('<div class="ag-dialog-button"></span>')),m=h.getGui();m.appendChild(this.maximizeIcon=kr("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),m.appendChild(this.minimizeIcon=kr("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),h.addManagedListener(m,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(h,0),this.maximizeListeners.push(this.addManagedListener(c,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){o.isMaximized=!1,o.refreshMaximizeIcon()})}},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([K("popupService")],i.prototype,"popupService",void 0),i}(hi),Ys=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),po=function(f){function i(r){var o=f.call(this,r,"ag-color-picker","colorPicker")||this;return r&&r.color&&(o.value=r.color),o}return Ys(i,f),i.prototype.postConstruct=function(){f.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},i.prototype.showPicker=function(){var r=this,o=this.getGui().getBoundingClientRect(),c=this.createBean(new md({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:o.right-190,y:o.top-250}));this.isPickerDisplayed=!0,c.addCssClass("ag-color-dialog"),Pi(this.eWrapper,!0);var h=this.createBean(new Iv({picker:this}));return h.addDestroyFunc(function(){c.isAlive()&&r.destroyBean(c)}),c.setParentComponent(this),c.setBodyComponent(h),h.setValue(this.getValue()),c.addDestroyFunc(function(){r.isDestroyingPicker?r.isDestroyingPicker=!1:(r.isDestroyingPicker=!0,h.isAlive()&&r.destroyBean(h)),r.isAlive()&&(Pi(r.eWrapper,!1),r.getFocusableElement().focus()),r.isPickerDisplayed=!1}),c},i.prototype.setValue=function(r){return this.value===r?this:(this.eDisplayField.style.backgroundColor=r,f.prototype.setValue.call(this,r))},i.prototype.getValue=function(){return this.value},i}(al),Ma=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ki=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Cd=function(f){function i(r){void 0===r&&(r={});var o=f.call(this,i.getTemplate(r))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var h=r.enabled,m=r.items,w=r.suppressEnabledCheckbox,A=r.suppressOpenCloseIcons;return o.title=r.title,o.cssIdentifier=r.cssIdentifier||"default",o.enabled=null==h||h,o.items=m||[],o.alignItems=r.alignItems||"center",null!=w&&(o.suppressEnabledCheckbox=w),null!=A&&(o.suppressOpenCloseIcons=A),o}return Ma(i,f),i.getTemplate=function(r){var o=r.cssIdentifier||"default";return'<div class="ag-group ag-'+o+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+o+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+o+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+o+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+o+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+o+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(r.direction||"vertical")+" ag-"+o+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var r=this.items;this.items=[],this.addItems(r)}var o=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(o("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var r=this;this.eGroupClosedIcon.appendChild(bo("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(bo("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return r.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(o){switch(o.key){case Ie.ENTER:case Ie.SPACE:o.preventDefault(),r.toggleGroupExpand();break;case Ie.RIGHT:case Ie.LEFT:o.preventDefault(),r.toggleGroupExpand(o.key===Ie.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||Pi(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var r=!this.suppressOpenCloseIcons;ur(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),ur(this.eGroupOpenedIcon,r&&this.expanded),ur(this.eGroupClosedIcon,r&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(r){return this.alignItems!==r&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=r,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(r){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),ur(this.eContainer,!0),this):(this.expanded===(r=null!=r?r:!this.expanded)||(this.expanded=r,this.refreshAriaStatus(),this.refreshChildDisplay(),ur(this.eContainer,r),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(r){var o=this;r.forEach(function(c){return o.addItem(c)})},i.prototype.addItem=function(r){var o=this.eContainer,c=r instanceof At?r.getGui():r;c.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),o.appendChild(c),this.items.push(c)},i.prototype.hideItem=function(r,o){this.items[o].classList.toggle("ag-hidden",r)},i.prototype.setTitle=function(r){return this.eTitle.innerText=r,this},i.prototype.addCssClassToTitleBar=function(r){this.eTitleBar.classList.add(r)},i.prototype.setEnabled=function(r,o){return this.enabled=r,this.refreshDisabledStyles(),this.toggleGroupExpand(r),o||this.cbGroupEnabled.setValue(r),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(r){var o=this;return this.cbGroupEnabled.onValueChange(function(c){o.setEnabled(c,!0),r(c)}),this},i.prototype.hideEnabledCheckbox=function(r){return this.suppressEnabledCheckbox=r,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(r){return this.suppressOpenCloseIcons=r,r&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",ki([Ne("eTitleBar")],i.prototype,"eTitleBar",void 0),ki([Ne("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),ki([Ne("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),ki([Ne("eToolbar")],i.prototype,"eToolbar",void 0),ki([Ne("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),ki([Ne("eTitle")],i.prototype,"eTitle",void 0),ki([Ne("eContainer")],i.prototype,"eContainer",void 0),ki([je],i.prototype,"postConstruct",null),i}(At),lw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},uw=function(f){function i(r){var o=f.call(this)||this;o.skipTabGuardFocus=!1;var h=r.eTopGuard,m=r.eBottomGuard,w=r.focusInnerElement,A=r.onFocusIn,x=r.onFocusOut,N=r.shouldStopEventPropagation,k=r.onTabKeyDown,q=r.handleKeyDown,te=r.eFocusableElement;return o.comp=r.comp,o.eTopGuard=h,o.eBottomGuard=m,o.providedFocusInnerElement=w,o.eFocusableElement=te,o.providedFocusIn=A,o.providedFocusOut=x,o.providedShouldStopEventPropagation=N,o.providedOnTabKeyDown=k,o.providedHandleKeyDown=q,o}return lw(i,f),i.prototype.postConstruct=function(){var r=this;this.createManagedBean(new Jo(this.eFocusableElement,{shouldStopEventPropagation:function(){return r.shouldStopEventPropagation()},onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)},onFocusIn:function(o){return r.onFocusIn(o)},onFocusOut:function(o){return r.onFocusOut(o)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(o){return r.addManagedListener(o,"focus",r.onFocus.bind(r))})},i.prototype.handleKeyDown=function(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(r){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var o=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)}},i.prototype.onFocusIn=function(r){this.providedFocusIn&&this.providedFocusIn(r)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(r){this.providedFocusOut&&this.providedFocusOut(r)||this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(r){var o=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(r);else if(!r.defaultPrevented){var c=this.tabGuardsAreActive();c&&this.deactivateTabGuards();var h=this.getNextFocusableElement(r.shiftKey);c&&setTimeout(function(){return o.activateTabGuards()},0),h&&(h.focus(),r.preventDefault())}},i.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},i.prototype.focusInnerElement=function(r){void 0===r&&(r=!1);var o=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(o.splice(0,1),o.splice(o.length-1,1)),o.length&&o[r?o.length-1:0].focus()},i.prototype.getNextFocusableElement=function(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1);var o=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,o.focus()},wd([K("focusService")],i.prototype,"focusService",void 0),wd([je],i.prototype,"postConstruct",null),i}(Ge),nb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cw=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},_d=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return nb(i,f),i.prototype.initialiseTabGuard=function(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var o=[this.eTopGuard,this.eBottomGuard],c={setTabIndex:function(h){o.forEach(function(m){return null!=h?m.setAttribute("tabIndex",h):m.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new uw({comp:c,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(r){var o=document.createElement("div");return o.classList.add("ag-tab-guard","ag-tab-guard-"+r),Mn(o,"presentation"),o},i.prototype.addTabGuards=function(r,o){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",o)},i.prototype.removeAllChildrenExceptTabGuards=function(){var r=[this.eTopGuard,this.eBottomGuard];jn(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(cw(arguments[i]));return f}(r))},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.tabGuardCtrl.forceFocusOutOfContainer(r)},i.prototype.appendChild=function(r,o){fa(r)||(r=r.getGui());var c=this.eBottomGuard;c?c.insertAdjacentElement("beforebegin",r):f.prototype.appendChild.call(this,r,o)},i}(At),qs=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mc=function(){return Mc=Object.assign||function(f){for(var i,r=1,o=arguments.length;r<o;r++)for(var c in i=arguments[r])Object.prototype.hasOwnProperty.call(i,c)&&(f[c]=i[c]);return f},Mc.apply(this,arguments)},dw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},hw=function(f){function i(r){void 0===r&&(r=1);var o=f.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return o.level=r,o.menuItems=[],o}return qs(i,f),i.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)}})},i.prototype.onTabKeyDown=function(r){var o=this.getParentComponent(),c=o&&o.getGui();c&&c.classList.contains("ag-focus-managed")||r.preventDefault(),r.shiftKey&&this.closeIfIsChild(r)},i.prototype.handleKeyDown=function(r){switch(r.key){case Ie.UP:case Ie.RIGHT:case Ie.DOWN:case Ie.LEFT:r.preventDefault(),this.handleNavKey(r.key);break;case Ie.ESCAPE:var o=this.findTopMenu();o&&this.focusService.focusInto(o.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(r){var o=this;null!=r&&r.forEach(function(c){"separator"===c?o.addSeparator():"string"==typeof c?console.warn("AG Grid: unrecognised menu item "+c):o.addItem(c)})},i.prototype.addItem=function(r){var o=this,c=this.createManagedBean(new bl(Mc(Mc({},r),{isAnotherSubMenuOpen:function(){return o.menuItems.some(function(h){return h.isSubMenuOpen()})}})));c.setParentComponent(this),Sh(c.getGui(),this.level),this.menuItems.push(c),this.appendChild(c.getGui()),this.addManagedListener(c,bl.EVENT_MENU_ITEM_SELECTED,function(h){o.dispatchEvent(h)}),this.addManagedListener(c,bl.EVENT_MENU_ITEM_ACTIVATED,function(h){o.activeMenuItem&&o.activeMenuItem!==h.menuItem&&o.activeMenuItem.deactivate(),o.activeMenuItem=h.menuItem})},i.prototype.activateFirstItem=function(){var r=this.menuItems.filter(function(o){return!o.isDisabled()})[0];!r||r.activate()},i.prototype.addSeparator=function(){this.appendChild(br('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var r=this.getParentComponent();if(!r&&this instanceof i)return this;for(;;){var o=r&&r.getParentComponent&&r.getParentComponent();if(!o||!(o instanceof i||o instanceof bl))break;r=o}return r instanceof i?r:void 0},i.prototype.handleNavKey=function(r){switch(r){case Ie.UP:case Ie.DOWN:var o=this.findNextItem(r===Ie.UP);return void(o&&o!==this.activeMenuItem&&o.activate())}r===(this.gridOptionsWrapper.isEnableRtl()?Ie.RIGHT:Ie.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(r){var o=this.getParentComponent();o&&o instanceof bl&&(r&&r.preventDefault(),o.closeSubMenu(),o.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(r){var o=this.menuItems.filter(function(A){return!A.isDisabled()});if(o.length){if(!this.activeMenuItem)return r?rr(o):o[0];r&&o.reverse();for(var c,h=!1,m=0;m<o.length;m++){var w=o[m];if(h){c=w;break}w===this.activeMenuItem&&(h=!0)}return c||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),f.prototype.destroy.call(this)},dw([K("focusService")],i.prototype,"focusService",void 0),dw([je],i.prototype,"postConstruct",null),i}(_d),IO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gw=function(f){function i(r){var o=f.call(this)||this;return o.wrappedComponent=r,o.setTemplateFromElement(r.getGui()),o}return IO(i,f),i.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)}})},i.prototype.handleKeyDown=function(r){r.key===Ie.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(r){r.defaultPrevented||(this.closePanel(),r.preventDefault())},i.prototype.closePanel=function(){var r=this.parentComponent;r.closeSubMenu(),setTimeout(function(){return r.getGui().focus()},0)},function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);c>3&&h&&Object.defineProperty(i,r,h)}([je],i.prototype,"postConstruct",null),i}(_d),ib=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},bl=function(f){function i(r){var o=f.call(this)||this;return o.params=r,o.isActive=!1,o.subMenuIsOpen=!1,o.setTemplate('<div class="'+o.getClassName()+'" tabindex="-1" role="treeitem"></div>'),o}return ib(i,f),i.prototype.init=function(){var r=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var o=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),rc(o,!0)):(this.addGuiEventListener("click",function(c){return r.onItemSelected(c)}),this.addGuiEventListener("keydown",function(c){(c.key===Ie.ENTER||c.key===Ie.SPACE)&&(c.preventDefault(),r.onItemSelected(c))}),this.addGuiEventListener("mousedown",function(c){c.stopPropagation(),c.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return r.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return r.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(c){return r.addCssClass(c)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(r){var o=this;if(void 0===r&&(r=!1),this.closeSubMenu(),this.params.subMenu){var h,c=br('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var m=nl(this.getGui()),w=isNaN(m)?1:m+1,A=this.createBean(new hw(w));A.setParentComponent(this),A.addMenuItems(this.params.subMenu),c.appendChild(A.getGui()),this.addManagedListener(A,i.EVENT_MENU_ITEM_SELECTED,function(Oe){return o.dispatchEvent(Oe)}),A.addGuiEventListener("mouseenter",function(){return o.cancelDeactivate()}),h=function(){return o.destroyBean(A)},r&&setTimeout(function(){return A.activateFirstItem()},0)}else{var x=this.params.subMenu,N=this.createBean(new gw(x));N.setParentComponent(this);var k=N.getGui(),q="mouseenter",te=function(){return o.cancelDeactivate()};k.addEventListener(q,te),h=function(){return k.removeEventListener(q,te)},c.appendChild(k),x.afterGuiAttached&&setTimeout(function(){return x.afterGuiAttached()},0)}var le=this.getGui(),de=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:le,ePopup:c}),ye=this.gridOptionsWrapper.getLocaleTextFunc(),xe=this.popupService.addPopup({modal:!0,eChild:c,positionCallback:de,anchorToElement:le,ariaLabel:ye("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,Pi(le,!0),this.hideSubMenu=function(){xe&&xe.hideFunc(),o.subMenuIsOpen=!1,Pi(le,!1),h()}}},i.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,Pi(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(r){var o=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),r&&this.params.subMenu&&window.setTimeout(function(){o.isAlive()&&o.isActive&&o.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var r=br('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?r.appendChild(kr("check",this.gridOptionsWrapper)):this.params.icon&&(fa(this.params.icon)?r.appendChild(this.params.icon):"string"==typeof this.params.icon?r.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(r)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var r=br('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(r)}},i.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new Dp(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var r=br('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(r)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var r=br('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),o=this.getGui();if(this.params.subMenu){var c=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";Pi(o,!1),r.appendChild(kr(c,this.gridOptionsWrapper))}o.appendChild(r)}},i.prototype.onItemSelected=function(r){this.params.action?this.params.action():this.openSubMenu(r&&"keydown"===r.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:r})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var r=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return r.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var r=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return r.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(r){var o=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return r?o+"-"+r:o},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,vw([K("popupService")],i.prototype,"popupService",void 0),vw([je],i.prototype,"init",null),i}(At),ob=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),No=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},yf=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},Lo=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}var r;return ob(i,f),r=i,i.addKeyboardModeEvents=function(o,c){var h=r.instancesMonitored.get(o);h&&h.length>0?-1===h.indexOf(c)&&h.push(c):(r.instancesMonitored.set(o,[c]),o.addEventListener("keydown",r.toggleKeyboardMode),o.addEventListener("mousedown",r.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(o,c){var h=r.instancesMonitored.get(o),m=[];h&&h.length&&(m=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(yf(arguments[i]));return f}(h).filter(function(w){return w!==c}),r.instancesMonitored.set(o,m)),0===m.length&&(o.removeEventListener("keydown",r.toggleKeyboardMode),o.removeEventListener("mousedown",r.toggleKeyboardMode))},i.toggleKeyboardMode=function(o){var c=r.keyboardModeActive,h="keydown"===o.type;if(!(h&&(o.ctrlKey||o.metaKey||o.altKey)||c&&h||!c&&!h)){r.keyboardModeActive=h;var m=o.target.ownerDocument;if(m){var w=r.instancesMonitored.get(m);w&&w.forEach(function(A){A.dispatchEvent({type:h?ne.EVENT_KEYBOARD_FOCUS:ne.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var o=this,c=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,c),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_GROUP_OPENED,c),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,c),this.ctrlsService.whenReady(function(h){o.gridCtrl=h.gridCtrl;var m=o.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(m,o.gridCtrl),o.addDestroyFunc(function(){return o.unregisterGridCompController(o.gridCtrl)})})},i.prototype.unregisterGridCompController=function(o){var c=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(c,o)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var o=this.focusedCellPosition.column,c=this.columnModel.getGridColumn(o.getId());o!==c&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return r.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var o=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(o.activeElement,Oa.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var o=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(o.activeElement,ns.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(o,c){for(var h=o;h;){if(this.gridOptionsWrapper.getDomData(h,c))return!1;h=h.parentNode}return!0},i.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.setFocusedCell=function(o,c,h,m){void 0===m&&(m=!1);var w=this.columnModel.getGridColumn(c);w?(this.focusedCellPosition=w?{rowIndex:o,rowPinned:ys(h),column:w}:null,this.onCellFocused(m)):this.focusedCellPosition=null},i.prototype.isCellFocused=function(o){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===o.column&&this.isRowFocused(o.rowIndex,o.rowPinned)},i.prototype.isRowNodeFocused=function(o){return this.isRowFocused(o.rowIndex,o.rowPinned)},i.prototype.isHeaderWrapperFocused=function(o){if(null==this.focusedHeaderPosition)return!1;var c=o.getColumnGroupChild(),h=o.getRowIndex(),m=o.getPinned(),w=this.focusedHeaderPosition,A=w.column;return c===A&&h===w.headerRowIndex&&m==A.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(o,c){this.focusedHeaderPosition={headerRowIndex:o,column:c}},i.prototype.focusHeaderPosition=function(o){var c=o.direction,h=o.fromTab,w=o.event,A=o.headerPosition;if(o.allowUserOverride){var q,x=this.gridOptionsWrapper,N=this.getFocusedHeader(),k=this.headerNavigationService.getHeaderRowCount();h?(q=x.getTabToNextHeaderFunc())&&(A=q({backwards:"Before"===c,previousHeaderPosition:N,nextHeaderPosition:A,headerRowCount:k})):(q=x.getNavigateToNextHeaderFunc())&&w&&(A=q({key:w.key,previousHeaderPosition:N,nextHeaderPosition:A,headerRowCount:k,event:w}))}return!!A&&(-1===A.headerRowIndex?this.focusGridView(A.column):(this.headerNavigationService.scrollToColumn(A.column,c),this.ctrlsService.getHeaderRowContainerCtrl(A.column.getPinned()).focusHeader(A.headerRowIndex,A.column,w)))},i.prototype.focusFirstHeader=function(){var o=this.columnModel.getAllDisplayedColumns()[0];return!!o&&(o.getParent()&&(o=this.columnModel.getColumnGroupAtLevel(o,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:o}}))},i.prototype.focusLastHeader=function(o){var c=this.headerNavigationService.getHeaderRowCount()-1,h=rr(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:c,column:h},event:o})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(o,c){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===o&&this.focusedCellPosition.rowPinned===ys(c)},i.prototype.findFocusableElements=function(o,c,h){void 0===h&&(h=!1);var w=ge.FOCUSABLE_EXCLUDE;c&&(w+=", "+c),h&&(w+=', [tabindex="-1"]');var q,A=Array.prototype.slice.apply(o.querySelectorAll(ge.FOCUSABLE_SELECTOR)),x=Array.prototype.slice.apply(o.querySelectorAll(w));return x.length?(q=x,A.filter(function(te){return-1===q.indexOf(te)})):A},i.prototype.focusInto=function(o,c,h){void 0===c&&(c=!1),void 0===h&&(h=!1);var m=this.findFocusableElements(o,null,h),w=c?rr(m):m[0];return!!w&&(w.focus(),!0)},i.prototype.findNextFocusableElement=function(o,c,h){void 0===o&&(o=this.eGridDiv);var m=this.findFocusableElements(o,c?':not([tabindex="-1"])':null),A=this.gridOptionsWrapper.getDocument().activeElement,N=(c?m.findIndex(function(k){return k.contains(A)}):m.indexOf(A))+(h?-1:1);return N<0||N>=m.length?null:m[N]},i.prototype.isFocusUnderManagedComponent=function(o){var c=this.gridOptionsWrapper.getDocument(),h=o.querySelectorAll("."+Jo.FOCUS_MANAGED_CLASS);if(!h.length)return!1;for(var m=0;m<h.length;m++)if(h[m].contains(c.activeElement))return!0;return!1},i.prototype.findTabbableParent=function(o,c){void 0===c&&(c=5);for(var h=0;o&&null===Ki(o)&&++h<=c;)o=o.parentElement;return null===Ki(o)?null:o},i.prototype.onCellFocused=function(o){var c={type:ne.EVENT_CELL_FOCUSED,forceBrowserFocus:o,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var h=c.rowIndex=this.focusedCellPosition.rowIndex,m=c.rowPinned=this.focusedCellPosition.rowPinned;c.column=this.focusedCellPosition.column;var w=this.rowRenderer.getRowByPosition({rowIndex:h,rowPinned:m});w&&(c.isFullWidthCell=w.isFullWidth())}this.eventService.dispatchEvent(c)},i.prototype.focusGridView=function(o,c){if(this.gridOptionsWrapper.isSuppressCellFocus())return c?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var h=c?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!h)return!1;var m=h.rowIndex,w=h.rowPinned,A=this.getFocusedHeader();return!o&&A&&(o=A.column),!(null==m||!o)&&(this.navigationService.ensureCellVisible({rowIndex:m,column:o,rowPinned:w}),this.setFocusedCell(m,o,ys(w),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:m,rowPinned:w,column:o}),!0)},i.prototype.focusNextGridCoreContainer=function(o){return!!this.gridCtrl.focusNextInnerContainer(o)||(o||this.gridCtrl.forceFocusOutOfContainer(),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,No([K("eGridDiv")],i.prototype,"eGridDiv",void 0),No([K("columnModel")],i.prototype,"columnModel",void 0),No([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),No([K("columnApi")],i.prototype,"columnApi",void 0),No([K("gridApi")],i.prototype,"gridApi",void 0),No([K("rowRenderer")],i.prototype,"rowRenderer",void 0),No([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),No([$t("rangeService")],i.prototype,"rangeService",void 0),No([K("navigationService")],i.prototype,"navigationService",void 0),No([K("ctrlsService")],i.prototype,"ctrlsService",void 0),No([je],i.prototype,"init",null),r=No([Xe("focusService")],i)}(Ge),mf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fa=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ia=(()=>(function(f){f[f.vertical=0]="vertical",f[f.horizontal=1]="horizontal"}(Ia||(Ia={})),Ia))(),_R=0,Gv=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.popupList=[],r}return mf(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl,r.addManagedListener(r.gridCtrl,ne.EVENT_KEYBOARD_FOCUS,function(){r.popupList.forEach(function(c){return c.element.classList.add(Lo.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,ne.EVENT_MOUSE_FOCUS,function(){r.popupList.forEach(function(c){return c.element.classList.remove(Lo.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(r){var o=r.eventSource.getBoundingClientRect(),c=this.getParentRect(),h=this.keepXYWithinBounds(r.ePopup,o.top-c.top,Ia.vertical),m=r.ePopup.clientWidth>0?r.ePopup.clientWidth:200;r.ePopup.style.minWidth=m+"px";var x,A=c.right-c.left-m;function N(){return o.right-c.left-2}function k(){return o.left-c.left-m}this.gridOptionsWrapper.isEnableRtl()?((x=k())<0&&(x=N()),x>A&&(x=0)):((x=N())>A&&(x=k()),x<0&&(x=0)),r.ePopup.style.left=x+"px",r.ePopup.style.top=h+"px"},i.prototype.positionPopupUnderMouseEvent=function(r){var o=r.ePopup,c=r.nudgeX,h=r.nudgeY,m=this.calculatePointerAlign(r.mouseEvent);this.positionPopup({ePopup:o,x:m.x,y:m.y,nudgeX:c,nudgeY:h,keepWithinBounds:!0}),this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)},i.prototype.calculatePointerAlign=function(r){var o=this.getParentRect();return{x:r.clientX-o.left,y:r.clientY-o.top}},i.prototype.positionPopupUnderComponent=function(r){var o=r.eventSource.getBoundingClientRect(),c=r.alignSide||"left",h=this.getParentRect(),m=o.left-h.left;"right"===c&&(m-=r.ePopup.offsetWidth-o.width),this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:m,y:o.top-h.top+o.height,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},i.prototype.positionPopupOverComponent=function(r){var o=r.eventSource.getBoundingClientRect(),c=this.getParentRect();this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:o.left-c.left,y:o.top-c.top,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},i.prototype.callPostProcessPopup=function(r,o,c,h,m,w){var A=this.gridOptionsWrapper.getPostProcessPopupFunc();A&&A({column:m,rowNode:w,ePopup:o,type:r,eventSource:c,mouseEvent:h})},i.prototype.positionPopup=function(r){var o=r.ePopup,h=r.nudgeX,m=r.nudgeY,w=r.x,A=r.y;h&&(w+=h),m&&(A+=m),r.keepWithinBounds&&(w=this.keepXYWithinBounds(o,w,Ia.horizontal),A=this.keepXYWithinBounds(o,A,Ia.vertical)),o.style.left=w+"px",o.style.top=A+"px"},i.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var r=this.gridOptionsWrapper.getDocument(),o=this.getPopupParent();o===r.body&&(o=r.documentElement);var c=getComputedStyle(o),h=o.getBoundingClientRect();return{top:h.top+parseFloat(c.borderTopWidth)||0,left:h.left+parseFloat(c.borderLeftWidth)||0,right:h.right+parseFloat(c.borderRightWidth)||0,bottom:h.bottom+parseFloat(c.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(r,o,c){var h=c===Ia.vertical,m=h?"clientHeight":"clientWidth",w=h?"top":"left",A=h?"offsetHeight":"offsetWidth",x=h?"scrollTop":"scrollLeft",N=this.gridOptionsWrapper.getDocument(),k=N.documentElement,q=this.getPopupParent(),te=q.getBoundingClientRect(),le=N.documentElement.getBoundingClientRect(),de=q===N.body,ye=r[A],Oe=de?(h?_h:ha)(k)+k[x]:q[m];de&&(Oe-=Math.abs(le[w]-te[w]));var Ee=Oe-ye;return Math.min(Math.max(o,0),Math.abs(Ee))},i.prototype.keepPopupPositionedRelativeTo=function(r){var o=this,c=this.getPopupParent(),h=c.getBoundingClientRect(),m=r.element.getBoundingClientRect(),w=h.top-m.top,A=h.left-m.left,x=w,N=A,k=r.ePopup.style.top,q=parseInt(k.substring(0,k.length-1),10),te=r.ePopup.style.left,le=parseInt(te.substring(0,te.length-1),10);return new ot(function(de){o.getFrameworkOverrides().setInterval(function(){var ye=c.getBoundingClientRect(),xe=r.element.getBoundingClientRect();if(0==xe.top&&0==xe.left&&0==xe.height&&0==xe.width)r.hidePopup();else{var Ee=ye.top-xe.top;if(Ee!=x){var Ke=o.keepXYWithinBounds(r.ePopup,q+w-Ee,Ia.vertical);r.ePopup.style.top=Ke+"px"}x=Ee;var pt=ye.left-xe.left;if(pt!=N){var mt=o.keepXYWithinBounds(r.ePopup,le+A-pt,Ia.horizontal);r.ePopup.style.left=mt+"px"}N=pt}},200).then(function(ye){de(function(){null!=ye&&window.clearInterval(ye)})})})},i.prototype.addPopup=function(r){var o=this,c=r.modal,h=r.eChild,m=r.closeOnEsc,w=r.closedCallback,A=r.click,x=r.alwaysOnTop,N=r.afterGuiAttached,k=r.positionCallback,q=r.anchorToElement,te=r.ariaLabel,le=this.gridOptionsWrapper.getDocument(),de=new ot(function(Tt){return Tt(function(){})});if(!le)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:de};var ye=this.popupList.findIndex(function(Tt){return Tt.element===h});if(-1!==ye){var xe=this.popupList[ye];return{hideFunc:xe.hideFunc,stopAnchoringPromise:xe.stopAnchoringPromise}}var Oe=this.getPopupParent();null==h.style.top&&(h.style.top="0px"),null==h.style.left&&(h.style.left="0px");var Ee=document.createElement("div"),Ke=this.environment.getTheme().theme;Ke&&Ee.classList.add(Ke),Ee.classList.add("ag-popup"),h.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),h.hasAttribute("role")||Mn(h,"dialog"),Rs(h,te),this.focusService.isKeyboardMode()&&h.classList.add(Lo.AG_KEYBOARD_FOCUS),Ee.appendChild(h),Oe.appendChild(Ee),x?this.setAlwaysOnTop(Ee,!0):this.bringPopupToFront(Ee);var pt=!1,mt=function(Tt){Ee.contains(le.activeElement)&&Tt.key===Ie.ESCAPE&&Mt({keyboardEvent:Tt})},ut=function(Tt){return Mt({mouseEvent:Tt})},ze=function(Tt){return Mt({touchEvent:Tt})},Mt=function(Tt){void 0===Tt&&(Tt={});var zr=Tt.mouseEvent,ar=Tt.touchEvent,cs=Tt.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:zr,touchEvent:ar},h)||o.isEventSameChainAsOriginalEvent({originalMouseEvent:A,mouseEvent:zr,touchEvent:ar})||pt||(pt=!0,Oe.removeChild(Ee),le.removeEventListener("keydown",mt),le.removeEventListener("mousedown",ut),le.removeEventListener("touchstart",ze),le.removeEventListener("contextmenu",ut),o.eventService.removeEventListener(ne.EVENT_DRAG_STARTED,ut),w&&w(zr||ar||cs),o.popupList=o.popupList.filter(function(ps){return ps.element!==h}),de&&de.then(function(ps){return ps&&ps()}))};return N&&N({hidePopup:Mt}),window.setTimeout(function(){m&&le.addEventListener("keydown",mt),c&&(le.addEventListener("mousedown",ut),o.eventService.addEventListener(ne.EVENT_DRAG_STARTED,ut),le.addEventListener("touchstart",ze),le.addEventListener("contextmenu",ut))},0),k&&k(),q&&(de=this.keepPopupPositionedRelativeTo({element:q,ePopup:h,hidePopup:Mt})),this.popupList.push({element:h,wrapper:Ee,hideFunc:Mt,stopAnchoringPromise:de,instanceId:_R++,isAnchored:!!q}),{hideFunc:Mt,stopAnchoringPromise:de}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},i.prototype.isEventFromCurrentPopup=function(r,o){var m=r.mouseEvent||r.touchEvent;if(!m)return!1;var w=this.popupList.findIndex(function(N){return N.element===o});if(-1===w)return!1;for(var A=w;A<this.popupList.length;A++)if(dh(this.popupList[A].element,m))return!0;return this.isElementWithinCustomPopup(m.target)},i.prototype.isElementWithinCustomPopup=function(r){for(var o=this.gridOptionsWrapper.getDocument();r&&r!==o.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(r){var o=r.originalMouseEvent,c=r.mouseEvent,h=r.touchEvent,m=null;if(c?m=c:h&&(m=h.touches[0]),m&&o){var A=c?c.screenY:0,x=Math.abs(o.screenX-(c?c.screenX:0))<5,N=Math.abs(o.screenY-A)<5;if(x&&N)return!0}return!1},i.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},i.prototype.setAlwaysOnTop=function(r,o){var c=this.getWrapper(r);!c||(c.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(c))},i.prototype.bringPopupToFront=function(r){var o=this.getPopupParent(),c=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),h=c.length,m=Array.prototype.slice.call(o.querySelectorAll(".ag-popup.ag-always-on-top")),w=m.length,A=this.getWrapper(r);if(A&&!(h<=1)&&o.contains(r)){var x=c.indexOf(A),N=A.querySelectorAll("div"),k=[];for(N.forEach(function(de){0!==de.scrollTop&&k.push([de,de.scrollTop])}),w?A.classList.contains("ag-always-on-top")?x!==h-1&&rr(m).insertAdjacentElement("afterend",A):x!==h-w-1&&m[0].insertAdjacentElement("beforebegin",A):x!==h-1&&rr(c).insertAdjacentElement("afterend",A);k.length;){var te=k.pop();te[0].scrollTop=te[1]}var le={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:A};this.eventService.dispatchEvent(le)}},Fa([K("environment")],i.prototype,"environment",void 0),Fa([K("focusService")],i.prototype,"focusService",void 0),Fa([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Fa([je],i.prototype,"postConstruct",null),Fa([Xe("popupService")],i)}(Ge),yw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},sb=function(f){function i(r,o,c){void 0===r&&(r="default"),void 0===o&&(o="listbox");var h=f.call(this,i.getTemplate(r))||this;return h.cssIdentifier=r,h.ariaRole=o,h.listName=c,h.renderedRows=new Map,h.rowHeight=20,h.isDestroyed=!1,h}return yw(i,f),i.prototype.postConstruct=function(){var r=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(o){return r.onFocusIn(o)},onFocusOut:function(o){return r.onFocusOut(o)},focusInnerElement:function(o){return r.focusInnerElement(o)},onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)}}),this.setAriaProperties()},i.prototype.setAriaProperties=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),c=this.eContainer;Mn(c,this.ariaRole),Rs(c,o)},i.prototype.addResizeObserver=function(){var r=this.drawVirtualRows.bind(this),o=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(o)},i.prototype.focusInnerElement=function(r){this.focusRow(r?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(r){var o=r.target;return o.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Fn(o)-1),!1},i.prototype.onFocusOut=function(r){return this.getFocusableElement().contains(r.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(r){switch(r.key){case Ie.UP:case Ie.DOWN:this.navigate(r.key===Ie.UP)&&r.preventDefault()}},i.prototype.onTabKeyDown=function(r){this.navigate(r.shiftKey)?r.preventDefault():this.focusService.focusInto(this.getGui(),!r.shiftKey)},i.prototype.navigate=function(r){if(null==this.lastFocusedRowIndex)return!1;var o=this.lastFocusedRowIndex+(r?-1:1);return!(o<0||o>=this.model.getRowCount()||(this.focusRow(o),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(r){var o=this;this.ensureIndexVisible(r),window.setTimeout(function(){var c=o.renderedRows.get(r);c&&c.eDiv.focus()},10)},i.prototype.getComponentAt=function(r){var o=this.renderedRows.get(r);return o&&o.rowComponent},i.getTemplate=function(r){return'\n            <div class="ag-virtual-list-viewport ag-'+r+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+r+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},i.prototype.ensureIndexVisible=function(r){var o=this.model.getRowCount();if("number"!=typeof r||r<0||r>=o)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+r);else{var c=r*this.rowHeight,h=c+this.rowHeight,m=this.getGui(),w=m.scrollTop,A=m.offsetHeight,k=w+A<h;w>c?m.scrollTop=c:k&&(m.scrollTop=h-A)}},i.prototype.setComponentCreator=function(r){this.componentCreator=r},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(r){this.rowHeight=r,this.refresh()},i.prototype.refresh=function(){var r=this;if(null!=this.model&&!this.isDestroyed){var o=this.model.getRowCount();this.eContainer.style.height=o*this.rowHeight+"px",ag(function(){return r.eContainer.clientHeight>=o*r.rowHeight},function(){r.isDestroyed||(r.clearVirtualRows(),r.drawVirtualRows())})}},i.prototype.clearVirtualRows=function(){var r=this;this.renderedRows.forEach(function(o,c){return r.removeRow(c)})},i.prototype.drawVirtualRows=function(){var r=this.getGui(),o=r.scrollTop,c=o+r.offsetHeight,h=Math.floor(o/this.rowHeight),m=Math.floor(c/this.rowHeight);this.ensureRowsRendered(h,m)},i.prototype.ensureRowsRendered=function(r,o){var c=this;this.renderedRows.forEach(function(m,w){(w<r||w>o)&&w!==c.lastFocusedRowIndex&&c.removeRow(w)});for(var h=r;h<=o;h++)this.renderedRows.has(h)||h<this.model.getRowCount()&&this.insertRow(h)},i.prototype.insertRow=function(r){var o=this,c=this.model.getRow(r),h=document.createElement("div");if(h.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),Mn(h,"tree"===this.ariaRole?"treeitem":"option"),Eg(h,this.model.getRowCount()),Bm(h,r+1),h.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var m=this.model.isRowSelected(r);ru(h,!!m),bh(h,m)}h.style.height=this.rowHeight+"px",h.style.top=this.rowHeight*r+"px";var w=this.componentCreator(c,h);w.addGuiEventListener("focusin",function(){return o.lastFocusedRowIndex=r}),h.appendChild(w.getGui()),this.renderedRows.has(r-1)?this.renderedRows.get(r-1).eDiv.insertAdjacentElement("afterend",h):this.renderedRows.has(r+1)?this.renderedRows.get(r+1).eDiv.insertAdjacentElement("beforebegin",h):this.eContainer.appendChild(h),this.renderedRows.set(r,{rowComponent:w,eDiv:h})},i.prototype.removeRow=function(r){var o=this.renderedRows.get(r);this.eContainer.removeChild(o.eDiv),this.destroyBean(o.rowComponent),this.renderedRows.delete(r)},i.prototype.addScrollListener=function(){var r=this;this.addGuiEventListener("scroll",function(){return r.drawVirtualRows()})},i.prototype.setModel=function(r){this.model=r},i.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,f.prototype.destroy.call(this))},mw([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),mw([K("focusService")],i.prototype,"focusService",void 0),mw([Ne("eContainer")],i.prototype,"eContainer",void 0),mw([je],i.prototype,"postConstruct",null),i}(_d),Cw=["mouseover","mouseout","mouseenter","mouseleave"],ww=["touchstart","touchend","touchmove","touchcancel"],kv=function(){function f(){this.isOutsideAngular=function(i){return Ei(Cw,i)}}return f.prototype.setTimeout=function(i,r){window.setTimeout(i,r)},f.prototype.setInterval=function(i,r){return new ot(function(o){o(window.setInterval(i,r))})},f.prototype.addEventListener=function(i,r,o,c){var h=Ei(ww,r);i.addEventListener(r,o,{capture:!!c,passive:h})},f.prototype.dispatchEvent=function(i,r,o){r()},f.prototype.frameworkComponent=function(i){return null},f.prototype.isFrameworkComponent=function(i){return!1},f}(),_w=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Xs=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return _w(i,f),i.prototype.getNextCellToFocus=function(r,o){for(var c=o,h=!1;!h;){switch(r){case Ie.UP:c=this.getCellAbove(c);break;case Ie.DOWN:c=this.getCellBelow(c);break;case Ie.RIGHT:c=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(c):this.getCellToRight(c);break;case Ie.LEFT:c=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(c):this.getCellToLeft(c);break;default:c=null,console.warn("AG Grid: unknown key for navigation "+r)}h=!c||this.isCellGoodToFocusOn(c)}return c},i.prototype.isCellGoodToFocusOn=function(r){var c,o=r.column;switch(r.rowPinned){case ge.PINNED_TOP:c=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case ge.PINNED_BOTTOM:c=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:c=this.rowModel.getRow(r.rowIndex)}return!!c&&!o.isSuppressNavigable(c)},i.prototype.getCellToLeft=function(r){if(!r)return null;var o=this.columnModel.getDisplayedColBefore(r.column);return o?{rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned}:null},i.prototype.getCellToRight=function(r){if(!r)return null;var o=this.columnModel.getDisplayedColAfter(r.column);return o?{rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned}:null},i.prototype.getRowBelow=function(r){var o=r.rowIndex,c=r.rowPinned;if(this.isLastRowInContainer(r))switch(c){case ge.PINNED_BOTTOM:return null;case ge.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ge.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ge.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ge.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ge.PINNED_BOTTOM}:null}return{rowIndex:o+1,rowPinned:c}},i.prototype.getCellBelow=function(r){if(!r)return null;var o=this.getRowBelow(r);return o?{rowIndex:o.rowIndex,column:r.column,rowPinned:o.rowPinned}:null},i.prototype.isLastRowInContainer=function(r){var o=r.rowPinned,c=r.rowIndex;return o===ge.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=c:o===ge.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=c:this.paginationProxy.getPageLastRow()<=c},i.prototype.getRowAbove=function(r){var o=r.rowIndex,c=r.rowPinned;return(c?0===o:o===this.paginationProxy.getPageFirstRow())?c===ge.PINNED_TOP?null:c&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ge.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:o-1,rowPinned:c}},i.prototype.getCellAbove=function(r){if(!r)return null;var o=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return o?{rowIndex:o.rowIndex,column:r.column,rowPinned:o.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ge.PINNED_TOP}},i.prototype.getNextTabbedCell=function(r,o){return o?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)},i.prototype.getNextTabbedCellForwards=function(r){var o=this.columnModel.getAllDisplayedColumns(),c=r.rowIndex,h=r.rowPinned,m=this.columnModel.getDisplayedColAfter(r.column);if(!m){m=o[0];var w=this.getRowBelow(r);if(b(w)||!w.rowPinned&&!this.paginationProxy.isRowInPage(w))return null;c=w?w.rowIndex:null,h=w?w.rowPinned:null}return{rowIndex:c,column:m,rowPinned:h}},i.prototype.getNextTabbedCellBackwards=function(r){var o=this.columnModel.getAllDisplayedColumns(),c=r.rowIndex,h=r.rowPinned,m=this.columnModel.getDisplayedColBefore(r.column);if(!m){m=rr(o);var w=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(b(w)||!w.rowPinned&&!this.paginationProxy.isRowInPage(w))return null;c=w?w.rowIndex:null,h=w?w.rowPinned:null}return{rowIndex:c,column:m,rowPinned:h}},Fc([K("columnModel")],i.prototype,"columnModel",void 0),Fc([K("rowModel")],i.prototype,"rowModel",void 0),Fc([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Fc([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Fc([Xe("cellNavigationService")],i)}(Ge),Cf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Ed=function(f,i){return function(r,o){i(r,o,f)}},ab=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.consuming=!1,r}return Cf(i,f),i.prototype.setBeans=function(r){this.logger=r.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,ne.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(r){if(!this.consuming){var o=this.gridOptionsWrapper.getAlignedGrids();o&&o.forEach(function(c){if(c.api){var h=c.api.__getAlignedGridService();r(h)}})}},i.prototype.onEvent=function(r){this.consuming=!0,r(),this.consuming=!1},i.prototype.fireColumnEvent=function(r){this.fireEvent(function(o){o.onColumnEvent(r)})},i.prototype.fireScrollEvent=function(r){"horizontal"===r.direction&&this.fireEvent(function(o){o.onScrollEvent(r)})},i.prototype.onScrollEvent=function(r){var o=this;this.onEvent(function(){o.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left)})},i.prototype.getMasterColumns=function(r){var o=[];return r.columns?r.columns.forEach(function(c){o.push(c)}):r.column&&o.push(r.column),o},i.prototype.getColumnIds=function(r){var o=[];return r.columns?r.columns.forEach(function(c){o.push(c.getColId())}):r.column&&o.push(r.column.getColId()),o},i.prototype.onColumnEvent=function(r){var o=this;this.onEvent(function(){switch(r.type){case ne.EVENT_COLUMN_MOVED:case ne.EVENT_COLUMN_VISIBLE:case ne.EVENT_COLUMN_PINNED:case ne.EVENT_COLUMN_RESIZED:o.processColumnEvent(r);break;case ne.EVENT_COLUMN_GROUP_OPENED:o.processGroupOpenedEvent(r);break;case ne.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(r){var o=r.columnGroup,c=null;if(o){var h=o.getGroupId();c=this.columnModel.getProvidedColumnGroup(h)}o&&!c||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+o.isExpanded()),this.columnModel.setColumnGroupOpened(c,o.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(r){var o=this,c=r.column,h=null;if(c&&(h=this.columnModel.getPrimaryColumn(c.getColId())),!c||h){var m=this.getMasterColumns(r);switch(r.type){case ne.EVENT_COLUMN_MOVED:var w=r,x=r.columnApi.getColumnState().map(function(ye){return{colId:ye.colId}});this.columnModel.applyColumnState({state:x,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" toIndex = "+w.toIndex);break;case ne.EVENT_COLUMN_VISIBLE:var N=r;x=r.columnApi.getColumnState().map(function(Oe){return{colId:Oe.colId,hide:Oe.hide}}),this.columnModel.applyColumnState({state:x},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" visible = "+N.visible);break;case ne.EVENT_COLUMN_PINNED:var k=r;x=r.columnApi.getColumnState().map(function(Oe){return{colId:Oe.colId,pinned:Oe.pinned}}),this.columnModel.applyColumnState({state:x},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" pinned = "+k.pinned);break;case ne.EVENT_COLUMN_RESIZED:var q=r;m.forEach(function(ye){o.logger.log("onColumnEvent-> processing "+r.type+" actualWidth = "+ye.getActualWidth());var xe=[{key:ye.getColId(),newWidth:ye.getActualWidth()}];o.columnModel.setColumnWidths(xe,!1,q.finished,"alignedGridChanged")})}var le=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),de=this.gridOptionsWrapper.getAlignedGrids();de&&de.forEach(function(ye){ye.api&&ye.api.setAlwaysShowVerticalScroll(le)})}},bd([K("columnModel")],i.prototype,"columnModel",void 0),bd([K("ctrlsService")],i.prototype,"ctrlsService",void 0),bd([Ed(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),bd([je],i.prototype,"init",null),bd([Xe("alignedGridsService")],i)}(Ge),Vv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ou=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Bv=function(f,i){return function(r,o){i(r,o,f)}},Du=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Vv(i,f),i.prototype.setBeans=function(r){this.logger=r.create("selectionService"),this.reset()},i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,ne.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.setLastSelectedNode=function(r){this.lastSelectedNode=r},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var r=[];return Jt(this.selectedNodes,function(o,c){c&&r.push(c)}),r},i.prototype.getSelectedRows=function(){var r=[];return Jt(this.selectedNodes,function(o,c){c&&c.data&&r.push(c.data)}),r},i.prototype.removeGroupsFromSelection=function(){var r=this;Jt(this.selectedNodes,function(o,c){c&&c.group&&(r.selectedNodes[c.id]=void 0)})},i.prototype.updateGroupsFromChildrenSelections=function(r){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE){var c=this.rowModel.getRootNode();r||(r=new lo(!0,c)).setInactive(),r.forEachChangedNodeDepthFirst(function(h){h!==c&&h.calculateSelectedFromChildren()})}},i.prototype.getNodeForIdIfSelected=function(r){return this.selectedNodes[r]},i.prototype.clearOtherNodes=function(r){var o=this,c={},h=0;return Jt(this.selectedNodes,function(m,w){w&&w.id!==r.id&&(h+=o.selectedNodes[w.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),o.groupSelectsChildren&&w.parent&&(c[w.parent.id]=w.parent))}),Jt(c,function(m,w){w.calculateSelectedFromChildren()}),h},i.prototype.onRowSelected=function(r){var o=r.node;this.groupSelectsChildren&&o.group||(this.selectedNodes[o.id]=o.isSelected()?o:void 0)},i.prototype.syncInRowNode=function(r,o){this.syncInOldRowNode(r,o),this.syncInNewRowNode(r)},i.prototype.syncInOldRowNode=function(r,o){re(o)&&r.id!==o.id&&o&&this.selectedNodes[o.id]==r&&(this.selectedNodes[o.id]=o)},i.prototype.syncInNewRowNode=function(r){re(this.selectedNodes[r.id])?(r.setSelectedInitialValue(!0),this.selectedNodes[r.id]=r):r.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE){var o=this.rowModel.getTopLevelNodes();if(null!==o){var c=[];return function h(m){for(var w=0,A=m.length;w<A;w++){var x=m[w];x.isSelected()?c.push(x):x.group&&x.children&&h(x.children)}}(o),c}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},i.prototype.setRowModel=function(r){this.rowModel=r},i.prototype.isEmpty=function(){var r=0;return Jt(this.selectedNodes,function(o,c){c&&r++}),0===r},i.prototype.deselectAllRowNodes=function(r){void 0===r&&(r=!1);var o=function(w){return w.selectThisNode(!1)},c=this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE;if(r){if(!c)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(o)}else Jt(this.selectedNodes,function(w,A){A&&o(A)}),this.reset();c&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectAllRowNodes=function(r){if(void 0===r&&(r=!1),this.rowModel.getType()!==ge.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var o=this.rowModel,c=function(m){return m.selectThisNode(!0)};r?o.forEachNodeAfterFilter(c):o.forEachNode(c),this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectNode=function(r,o){r&&r.setSelectedParams({newValue:!0,clearSelection:!o})},i.prototype.deselectIndex=function(r){var o=this.rowModel.getRow(r);this.deselectNode(o)},i.prototype.deselectNode=function(r){r&&r.setSelectedParams({newValue:!1,clearSelection:!1})},i.prototype.selectIndex=function(r,o){var c=this.rowModel.getRow(r);this.selectNode(c,o)},Ou([K("rowModel")],i.prototype,"rowModel",void 0),Ou([K("columnApi")],i.prototype,"columnApi",void 0),Ou([K("gridApi")],i.prototype,"gridApi",void 0),Ou([Bv(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),Ou([je],i.prototype,"init",null),Ou([Xe("selectionService")],i)}(Ge),Hv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},wf=function(){function f(){}return f.prototype.sizeColumnsToFit=function(i){void 0===i&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},f.prototype.setColumnGroupOpened=function(i,r){this.columnModel.setColumnGroupOpened(i,r,"api")},f.prototype.getColumnGroup=function(i,r){return this.columnModel.getColumnGroup(i,r)},f.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},f.prototype.getDisplayNameForColumn=function(i,r){return this.columnModel.getDisplayNameForColumn(i,r)||""},f.prototype.getDisplayNameForColumnGroup=function(i,r){return this.columnModel.getDisplayNameForColumnGroup(i,r)||""},f.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},f.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},f.prototype.getColumnState=function(){return this.columnModel.getColumnState()},f.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},f.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},f.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},f.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},f.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},f.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},f.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},f.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},f.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},f.prototype.setColumnVisible=function(i,r){this.columnModel.setColumnVisible(i,r,"api")},f.prototype.setColumnsVisible=function(i,r){this.columnModel.setColumnsVisible(i,r,"api")},f.prototype.setColumnPinned=function(i,r){this.columnModel.setColumnPinned(i,r,"api")},f.prototype.setColumnsPinned=function(i,r){this.columnModel.setColumnsPinned(i,r,"api")},f.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},f.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},f.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},f.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},f.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},f.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},f.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},f.prototype.moveColumn=function(i,r){"number"==typeof i?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(i,r,"api")):this.columnModel.moveColumn(i,r,"api")},f.prototype.moveColumnByIndex=function(i,r){this.columnModel.moveColumnByIndex(i,r,"api")},f.prototype.moveColumns=function(i,r){this.columnModel.moveColumns(i,r,"api")},f.prototype.moveRowGroupColumn=function(i,r){this.columnModel.moveRowGroupColumn(i,r)},f.prototype.setColumnAggFunc=function(i,r){this.columnModel.setColumnAggFunc(i,r)},f.prototype.setColumnWidth=function(i,r,o,c){void 0===o&&(o=!0),this.columnModel.setColumnWidths([{key:i,newWidth:r}],!1,o,c)},f.prototype.setColumnWidths=function(i,r,o){void 0===r&&(r=!0),this.columnModel.setColumnWidths(i,!1,r,o)},f.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},f.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},f.prototype.getSecondaryPivotColumn=function(i,r){return this.columnModel.getSecondaryPivotColumn(i,r)},f.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},f.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},f.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},f.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},f.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},f.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},f.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},f.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},f.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},f.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},f.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},f.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},f.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},f.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},f.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},f.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},f.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},f.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},f.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},f.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},f.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},f.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},f.prototype.autoSizeColumn=function(i,r){return this.columnModel.autoSizeColumn(i,r,"api")},f.prototype.autoSizeColumns=function(i,r){this.columnModel.autoSizeColumns({columns:i,skipHeader:r})},f.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},f.prototype.setSecondaryColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},f.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},f.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},f.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(gt.removeAllReferences.bind(window,this,"Column API"),100)},f.prototype.columnGroupOpened=function(i,r){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(i,r)},f.prototype.hideColumns=function(i,r){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(i,!r,"api")},f.prototype.hideColumn=function(i,r){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(i,!r,"api")},f.prototype.setState=function(i){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(i)},f.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},f.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},f.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},f.prototype.removeAggregationColumn=function(i){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(i,"api")},f.prototype.removeAggregationColumns=function(i){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(i,"api")},f.prototype.addAggregationColumn=function(i){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(i,"api")},f.prototype.addAggregationColumns=function(i){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(i,"api")},f.prototype.setColumnAggFunction=function(i,r){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(i,r,"api")},f.prototype.getDisplayNameForCol=function(i){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(i,null)},f.prototype.setColumnState=function(i){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:i,applyOrder:!0},"api")},f.prototype.getOriginalColumnGroup=function(i){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},Hv([K("columnModel")],f.prototype,"columnModel",void 0),Hv([An],f.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Hv([Xe("columnApi")],f)}(),Sw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ic=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Nc=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.initialised=!1,r}return Sw(i,f),i.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},i.prototype.getValue=function(r,o,c,h){if(void 0===c&&(c=!1),void 0===h&&(h=!1),this.initialised||this.init(),o){var N,m=r.getColDef(),w=m.field,A=r.getId(),x=o.data,k=o.groupData&&void 0!==o.groupData[A],q=!h&&o.aggData&&void 0!==o.aggData[A];if(c&&m.filterValueGetter?N=this.executeFilterValueGetter(m.filterValueGetter,x,r,o):this.gridOptionsWrapper.isTreeData()&&q?N=o.aggData[A]:this.gridOptionsWrapper.isTreeData()&&m.valueGetter?N=this.executeValueGetter(m.valueGetter,x,r,o):this.gridOptionsWrapper.isTreeData()&&w&&x?N=qa(x,w,r.isFieldContainsDots()):k?N=o.groupData[A]:q?N=o.aggData[A]:m.valueGetter?N=this.executeValueGetter(m.valueGetter,x,r,o):w&&x&&(N=qa(x,w,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof N&&0===N.indexOf("=")){var te=N.substring(1);N=this.executeValueGetter(te,x,r,o)}if(null==N){var le=this.getOpenedGroup(o,r);if(null!=le)return le}return N}},i.prototype.getOpenedGroup=function(r,o){if(this.gridOptionsWrapper.isShowOpenedGroup()&&o.getColDef().showRowGroup)for(var h=o.getColDef().showRowGroup,m=r.parent;null!=m;){if(m.rowGroupColumn&&(!0===h||h===m.rowGroupColumn.getId()))return m.key;m=m.parent}},i.prototype.setValue=function(r,o,c,h){var m=this.columnModel.getPrimaryColumn(o);if(!r||!m)return!1;b(r.data)&&(r.data={});var w=m.getColDef(),A=w.field,x=w.newValueHandler,N=w.valueSetter;if(b(A)&&b(x)&&b(N))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var q,k={node:r,data:r.data,oldValue:this.getValue(m,r),newValue:c,colDef:m.getColDef(),column:m,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(k.newValue=c,void 0===(q=x&&re(x)?x(k):re(N)?this.expressionService.evaluate(N,k):this.setValueUsingField(r.data,A,c,m.isFieldContainsDots()))&&(q=!0),!q)return!1;r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),k.newValue=this.getValue(m,r);var te=m.getColDef().onCellValueChanged;return"function"==typeof te&&setTimeout(function(){return te(k)},0),this.eventService.dispatchEvent({type:ne.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:k.column,api:k.api,columnApi:k.columnApi,colDef:k.colDef,context:k.context,data:r.data,node:r,oldValue:k.oldValue,newValue:k.newValue,value:k.newValue,source:h}),!0},i.prototype.setValueUsingField=function(r,o,c,h){if(!o)return!1;if(h)for(var w=o.split("."),A=r;w.length>0&&A;){var x=w.shift();0===w.length?A[x]=c:A=A[x]}else r[o]=c;return!0},i.prototype.executeFilterValueGetter=function(r,o,c,h){var m={data:o,node:h,column:c,colDef:c.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,h)};return this.expressionService.evaluate(r,m)},i.prototype.executeValueGetter=function(r,o,c,h){var m=c.getId(),w=this.valueCache.getValue(h,m);if(void 0!==w)return w;var A={data:o,node:h,column:c,colDef:c.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,h)},x=this.expressionService.evaluate(r,A);return this.valueCache.setValue(h,m,x),x},i.prototype.getValueCallback=function(r,o){var c=this.columnModel.getPrimaryColumn(o);return c?this.getValue(c,r):null},i.prototype.getKeyForNode=function(r,o){var c=this.getValue(r,o),h=r.getColDef().keyCreator,m=c;return h&&(m=h({value:c,colDef:r.getColDef(),column:r,node:o,data:o.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof m||null==m||"[object Object]"===(m=String(m))&&zt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),m},Ic([K("expressionService")],i.prototype,"expressionService",void 0),Ic([K("columnModel")],i.prototype,"columnModel",void 0),Ic([K("valueCache")],i.prototype,"valueCache",void 0),Ic([je],i.prototype,"init",null),Ic([Xe("valueService")],i)}(Ge),Ru=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_f=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Wv=function(f,i){return function(r,o){i(r,o,f)}},lb=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.expressionToFunctionCache={},r}return Ru(i,f),i.prototype.setBeans=function(r){this.logger=r.create("ExpressionService")},i.prototype.evaluate=function(r,o){return"function"==typeof r?r(o):"string"==typeof r?this.evaluateExpression(r,o):void console.error("AG Grid: value should be either a string or a function",r)},i.prototype.evaluateExpression=function(r,o){try{return this.createExpressionFunction(r)(o.value,o.context,o.oldValue,o.newValue,o.value,o.node,o.data,o.colDef,o.rowIndex,o.api,o.columnApi,o.getValue,o.column,o.columnGroup)}catch(m){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",o),console.log("Exception = "+m),null}},i.prototype.createExpressionFunction=function(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];var o=this.createFunctionBody(r),c=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",o);return this.expressionToFunctionCache[r]=c,c},i.prototype.createFunctionBody=function(r){return r.indexOf("return")>=0?r:"return "+r+";"},_f([Wv(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),_f([Xe("expressionService")],i)}(Ge),ub=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bw=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.templateCache={},r.waitingCallbacks={},r}return ub(i,f),i.prototype.getTemplate=function(r,o){var c=this.templateCache[r];if(c)return c;var h=this.waitingCallbacks[r],m=this;if(!h){this.waitingCallbacks[r]=h=[];var w=new XMLHttpRequest;w.onload=function(){m.handleHttpResult(this,r)},w.open("GET",r),w.send()}return o&&h.push(o),null},i.prototype.handleHttpResult=function(r,o){if(200===r.status&&null!==r.response){this.templateCache[o]=r.response||r.responseText;for(var c=this.waitingCallbacks[o],h=0;h<c.length;h++)(0,c[h])()}else console.warn("AG Grid: Unable to get template error "+r.status+" - "+o)},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("templateService")],i),i}(Ge),NO=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ew=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Na=function(f,i){return function(r,o){i(r,o,f)}},Lc=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return NO(i,f),i.prototype.setBeans=function(r){this.logging=r.isDebug()},i.prototype.create=function(r){return new Ol(r,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},Ew([Na(0,Rr("gridOptionsWrapper"))],i.prototype,"setBeans",null),Ew([Xe("loggerFactory")],i)}(Ge),Ol=function(){function f(i,r){this.name=i,this.isLoggingFunc=r}return f.prototype.isLogging=function(){return this.isLoggingFunc()},f.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},f}(),Ow=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ir=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Yn=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Ow(i,f),i.prototype.setComp=function(r,o,c){var h=this;this.view=r,this.eGridHostDiv=o,this.eGui=c,this.mouseEventService.stampTopLevelGridCompWithGridInstance(o),this.createManagedBean(new gl(this.view)),this.addRtlSupport(),this.addManagedListener(this,ne.EVENT_KEYBOARD_FOCUS,function(){h.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,ne.EVENT_MOUSE_FOCUS,function(){h.view.addOrRemoveKeyboardFocusClass(!1)});var m=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return m()}),this.ctrlsService.registerGridCtrl(this)},i.prototype.showDropZones=function(){return wt.isRegistered(W.ModuleNames.RowGroupingModule)},i.prototype.showSideBar=function(){return wt.isRegistered(W.ModuleNames.SideBarModule)},i.prototype.showStatusBar=function(){return wt.isRegistered(W.ModuleNames.StatusBarModule)},i.prototype.showWatermark=function(){return wt.isRegistered(W.ModuleNames.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:ne.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var r=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(r){this.view.setCursor(r?"ew-resize":null)},i.prototype.disableUserSelect=function(r){this.view.setUserSelect(r?"none":null)},i.prototype.focusNextInnerContainer=function(r){var o=this.gridOptionsWrapper.getDocument(),c=this.view.getFocusableContainers(),m=c.findIndex(function(w){return w.contains(o.activeElement)})+(r?-1:1);return!(m<=0||m>=c.length)&&this.focusService.focusInto(c[m])},i.prototype.focusInnerElement=function(r){var o=this.view.getFocusableContainers();if(r){if(o.length>1)return this.focusService.focusInto(rr(o),!0);var c=rr(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(c,!0))return!0}return this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.view.forceFocusOutOfContainer(r)},Ir([K("columnApi")],i.prototype,"columnApi",void 0),Ir([K("gridApi")],i.prototype,"gridApi",void 0),Ir([K("focusService")],i.prototype,"focusService",void 0),Ir([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Ir([K("columnModel")],i.prototype,"columnModel",void 0),Ir([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ir([K("mouseEventService")],i.prototype,"mouseEventService",void 0),i}(Ge),jv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Au=function(f){function i(r){var o=f.call(this,void 0)||this;return o.eGridDiv=r,o}return jv(i,f),i.prototype.postConstruct=function(){var r=this;this.logger=this.loggerFactory.create("GridComp");var o={destroyGridUi:function(){return r.destroyBean(r)},setRtlClass:function(h){return r.addCssClass(h)},addOrRemoveKeyboardFocusClass:function(h){return r.addOrRemoveCssClass(Lo.AG_KEYBOARD_FOCUS,h)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(h){r.getGui().style.userSelect=null!=h?h:"",r.getGui().style.webkitUserSelect=null!=h?h:""},setCursor:function(h){r.getGui().style.cursor=null!=h?h:""}};this.ctrl=this.createManagedBean(new Yn);var c=this.createTemplate();this.setTemplate(c),this.ctrl.setComp(o,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(h){return r.ctrl.focusInnerElement(h)}})},i.prototype.insertGridIntoDom=function(){var r=this,o=this.getGui();this.eGridDiv.appendChild(o),this.addDestroyFunc(function(){r.eGridDiv.removeChild(o),r.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(r,o){var c=this.eRootWrapperBody.classList;c.toggle(W.LayoutCssClasses.AUTO_HEIGHT,o.autoHeight),c.toggle(W.LayoutCssClasses.NORMAL,o.normal),c.toggle(W.LayoutCssClasses.PRINT,o.print),this.addOrRemoveCssClass(W.LayoutCssClasses.AUTO_HEIGHT,o.autoHeight),this.addOrRemoveCssClass(W.LayoutCssClasses.NORMAL,o.normal),this.addOrRemoveCssClass(W.LayoutCssClasses.PRINT,o.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(function(o){return qr(o)})},Gc([K("loggerFactory")],i.prototype,"loggerFactory",void 0),Gc([Ne("gridBody")],i.prototype,"gridBodyComp",void 0),Gc([Ne("sideBar")],i.prototype,"sideBarComp",void 0),Gc([Ne("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),Gc([je],i.prototype,"postConstruct",null),i}(_d),Uv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xt=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Dw=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}var r;return Uv(i,f),r=i,i.prototype.progressSort=function(o,c,h){var m=this.getNextSortDirection(o);this.setSortForColumn(o,m,c,h)},i.prototype.setSortForColumn=function(o,c,h,m){c!==ge.SORT_ASC&&c!==ge.SORT_DESC&&(c=null),o.setSort(c,m),(h||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(o,m),this.updateSortIndex(o),this.dispatchSortChangedEvents(m)},i.prototype.updateSortIndex=function(o){var c=this.getColumnsWithSortingOrdered(),h=0;c.forEach(function(w){w!==o&&(w.setSortIndex(h),h++)}),o.getSort()&&o.setSortIndex(h),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(w){return null==w.getSort()}).forEach(function(w){return w.setSortIndex()})},i.prototype.onSortChanged=function(o){this.dispatchSortChangedEvents(o)},i.prototype.isSortActive=function(){var c=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(h){return!!h.getSort()});return c&&c.length>0},i.prototype.dispatchSortChangedEvents=function(o){this.eventService.dispatchEvent({type:ne.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:o})},i.prototype.clearSortBarThisColumn=function(o,c){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(h){h!==o&&h.setSort(void 0,c)})},i.prototype.getNextSortDirection=function(o){var c;if(c=o.getColDef().sortingOrder?o.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(c)||c.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+c),null;var A,h=c.indexOf(o.getSort());return r.DEFAULT_SORTING_ORDER.indexOf(A=h<0||h==c.length-1?c[0]:c[h+1])<0?(console.warn("AG Grid: invalid sort type "+A),null):A},i.prototype.getColumnsWithSortingOrdered=function(){var o=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),c=o.filter(function(m){return!!m.getSort()}),h={};return o.forEach(function(m,w){return h[m.getId()]=w}),c.sort(function(m,w){var A=m.getSortIndex(),x=w.getSortIndex();return null!=A&&null!=x?A-x:null==A&&null==x?h[m.getId()]>h[w.getId()]?1:-1:null==x?-1:1}),c},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(o){return{sort:o.getSort(),colId:o.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(o){return{sort:o.getSort(),column:o}})},i.DEFAULT_SORTING_ORDER=[ge.SORT_ASC,ge.SORT_DESC,null],Xt([K("columnModel")],i.prototype,"columnModel",void 0),Xt([K("columnApi")],i.prototype,"columnApi",void 0),Xt([K("gridApi")],i.prototype,"gridApi",void 0),r=Xt([Xe("sortController")],i)}(Ge),zv=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$v=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},cb=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return zv(i,f),i.prototype.setMouseOver=function(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.isHovered=function(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0},$v([K("columnApi")],i.prototype,"columnApi",void 0),$v([K("gridApi")],i.prototype,"gridApi",void 0),$v([Xe("columnHoverService")],i)}(Ge),Sf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Aw=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.executeNextFuncs=[],r.executeLaterFuncs=[],r.active=!1,r.animationThreadCount=0,r}return Sf(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){return r.gridBodyCtrl=o.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(r){this.active?this.executeNextFuncs.push(r):r()},i.prototype.executeLaterVMTurn=function(r){this.active?this.executeLaterFuncs.push(r):r()},i.prototype.ensureAnimationCssClassPresent=function(){var r=this;this.animationThreadCount++;var o=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){r.animationThreadCount===o&&r.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var r=this.executeNextFuncs;this.executeNextFuncs=[];var o=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==r.length||0!==o.length)&&(window.setTimeout(function(){return r.forEach(function(c){return c()})},0),window.setTimeout(function(){return o.forEach(function(c){return c()})},300))},Rw([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Rw([je],i.prototype,"postConstruct",null),Rw([Xe("columnAnimationService")],i)}(Ge),Od=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},LO=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}var r;return Od(i,f),r=i,i.prototype.createAutoGroupColumns=function(o,c){var h=this,m=[],w=this.gridOptionsWrapper.isTreeData(),A=this.gridOptionsWrapper.isGroupMultiAutoColumn();return w&&A&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),A=!1),A?c.forEach(function(x,N){m.push(h.createOneAutoGroupColumn(o,x,N))}):m.push(this.createOneAutoGroupColumn(o)),m},i.prototype.createOneAutoGroupColumn=function(o,c,h){var w,m=this.generateDefaultColDef(c);w=c?ge.GROUP_AUTO_COLUMN_ID+"-"+c.getId():r.GROUP_AUTO_COLUMN_BUNDLE_ID,Wn(m,this.gridOptionsWrapper.getAutoGroupColumnDef()),(m=this.columnFactory.mergeColDefs(m)).colId=w,this.gridOptionsWrapper.isTreeData()||b(m.field)&&b(m.valueGetter)&&b(m.filterValueGetter)&&(m.filter=!1),h&&h>0&&(m.headerCheckboxSelection=!1);var N=o.find(function(q){return q.getId()==w});if(N)return N.setColDef(m,null),this.columnFactory.applyColumnState(N,m),N;var k=new Bt(m,null,w,!0);return this.context.createBean(k),k},i.prototype.generateDefaultColDef=function(o){var c=this.gridOptionsWrapper.getAutoGroupColumnDef(),m={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(c&&(c.cellRenderer||c.cellRendererFramework||c.cellRendererSelector)||(m.cellRenderer="agGroupCellRenderer"),o){var A=o.getColDef();Object.assign(m,{headerName:this.columnModel.getDisplayNameForColumn(o,"header"),headerValueGetter:A.headerValueGetter}),(A.cellRenderer||A.cellRendererFramework)&&Object.assign(m,{cellRendererParams:{innerRenderer:A.cellRenderer,innerRendererFramework:A.cellRendererFramework,innerRendererParams:A.cellRendererParams}}),m.showRowGroup=o.getColId()}else m.showRowGroup=!0;return m},i.GROUP_AUTO_COLUMN_BUNDLE_ID=ge.GROUP_AUTO_COLUMN_ID,Kv([K("columnModel")],i.prototype,"columnModel",void 0),Kv([K("columnFactory")],i.prototype,"columnFactory",void 0),r=Kv([Xe("autoGroupColService")],i)}(Ge),pb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Dd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},db=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return pb(i,f),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.centerRowContainerCon=o.centerRowContainerCtrl,r.addManagedListener(r.eventService,ne.EVENT_BODY_HEIGHT_CHANGED,r.onBodyHeightChanged.bind(r)),r.addManagedListener(r.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,r.onScrollVisibilityChanged.bind(r)),r.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},i.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},i.prototype.onBodyHeightChanged=function(){this.checkPageSize()},i.prototype.checkPageSize=function(){if(!this.notActive()){var r=this.gridOptionsWrapper.getRowHeightAsNumber(),o=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(o>0){var c=Math.floor(o/r);this.gridOptionsWrapper.setProperty("paginationPageSize",c)}}},Dd([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Dd([je],i.prototype,"postConstruct",null),Dd([Xe("paginationAutoPageSizeService")],i)}(Ge),Pw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Yv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},kc=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.cacheVersion=0,r}return Pw(i,f),i.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(r,o,c){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[o]=c)},i.prototype.getValue=function(r,o){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[o]},Yv([je],i.prototype,"init",null),Yv([Xe("valueCache")],i)}(Ge),Cn=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qv=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Vc=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Cn(i,f),i.prototype.init=function(){this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ne.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(r){r.source!==ge.SOURCE_PASTE&&this.doChangeDetection(r.node,r.column)},i.prototype.doChangeDetection=function(r,o){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!r.isRowPinned()){var c=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),h=new lo(c,this.clientSideRowModel.getRootNode());h.addParentNode(r.parent,[o]),this.clientSideRowModel.doAggregate(h)}this.rowRenderer.refreshCells()}},qv([K("rowModel")],i.prototype,"rowModel",void 0),qv([K("rowRenderer")],i.prototype,"rowRenderer",void 0),qv([je],i.prototype,"init",null),qv([Xe("changeDetectionService")],i)}(Ge),Tw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},xw=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Tw(i,f),i.prototype.adaptFunction=function(r,o){var c=this.componentMetadataProvider.retrieve(r);return c&&c.functionAdapter?c.functionAdapter(o):null},i.prototype.adaptCellRendererFunction=function(r){return function(){function c(){}return c.prototype.refresh=function(h){return!1},c.prototype.getGui=function(){return this.eGui},c.prototype.init=function(h){var m=r(h),w=typeof m;this.eGui="string"!==w&&"number"!==w&&"boolean"!==w?null!=m?m:br("<span></span>"):br("<span>"+m+"</span>")},c}()},i.prototype.doesImplementIComponent=function(r){return!!r&&r.prototype&&"getGui"in r.prototype},Bc([K("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),Bc([Xe("agComponentUtils")],i)}(Ge),hb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Xv=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return hb(i,f),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(r){return this.componentMetaData[r]},Mw([K("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Mw([je],i.prototype,"postConstruct",null),Mw([Xe("componentMetadataProvider")],i)}(Ge),cr=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},gb={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},Iw={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},Ad={},Pd=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return cr(i,f),i.prototype.getSassVariable=function(r,o){var c="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),h=gb[c][o],m=0;Ad[r]||(Ad[r]={});var w=Ad[r][o];if(null!=w)return w;if(Iw[o]){var A=Iw[o],x=document.createElement("div");x.classList.add(r),x.style.position="absolute";var N=A.reduce(function(q,te){var le=document.createElement("div");return le.style.position="static",le.classList.add(te),q.appendChild(le),le},x);if(document.body){document.body.appendChild(x);var k=-1!==o.toLowerCase().indexOf("height")?"height":"width";m=parseInt(window.getComputedStyle(N)[k],10),document.body.removeChild(x)}}return Ad[r][o]=m||h,Ad[r][o]},i.prototype.isThemeDark=function(){var r=this.getTheme().theme;return!!r&&r.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){var r=this.getTheme().themeFamily;return this.getSassVariable(r,"chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var r=/\bag-(material|(?:theme-([\w\-]*)))\b/,o=this.eGridDiv,c=null;o&&!(c=r.exec(o.className));)o=o.parentElement||void 0;if(!c)return{};var h=c[0];if(void 0===c[2]){var w=h.replace("ag-","ag-theme-");zt(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+h+" with "+w+".")},"using-old-theme")}return{theme:h,el:o,themeFamily:h.replace(/-dark$/,"")}},Fw([K("eGridDiv")],i.prototype,"eGridDiv",void 0),Fw([Xe("environment")],i)}(Ge),ss=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pu=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Xr=function(f,i){return function(r,o){i(r,o,f)}},Dl=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.scrollY=0,r.uiBodyHeight=0,r}return ss(i,f),i.prototype.agWire=function(r){this.logger=r.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=Im(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,c=this.getUiBodyHeight();(o!==this.scrollY||c!==this.uiBodyHeight)&&(this.scrollY=o,this.uiBodyHeight=c,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var r=this.scrollY/this.maxScrollY,o=r*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+o+" ("+this.pixelsToShave+" * "+r+")"),this.setDivStretchOffset(o)},i.prototype.setUiContainerHeight=function(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:ne.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(r){var o="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==o&&(this.divStretchOffset=o,this.eventService.dispatchEvent({type:ne.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(r){return r-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return o.bottom-o.top},i.prototype.getScrollPositionForPixel=function(r){if(this.pixelsToShave<=0)return r;var o=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/o)},Pu([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Pu([Xr(0,Rr("loggerFactory"))],i.prototype,"agWire",null),Pu([je],i.prototype,"postConstruct",null),Pu([Xe("rowContainerHeightService")],i)}(Ge),Rl=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bf=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},as=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Rl(i,f),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},i.prototype.updateSelectableAfterGrouping=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(c){return c.childrenAfterGroup})},i.prototype.recurseDown=function(r,o){var c=this;!r||r.forEach(function(h){var m;h.group&&(h.hasChildren()&&c.recurseDown(o(h),o),m=c.groupSelectsChildren?re((o(h)||[]).find(function(A){return!0===A.selectable})):!!c.isRowSelectableFunc&&c.isRowSelectableFunc(h),h.setRowSelectable(m))})},bf([je],i.prototype,"init",null),bf([Xe("selectableService")],i)}(Ge),Td=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fr=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Tu=function(f){function i(){var r=f.call(this)||this;return r.previousAndFirstButtonsDisabled=!1,r.nextButtonDisabled=!1,r.lastButtonDisabled=!1,r}return Td(i,f),i.prototype.postConstruct=function(){var r=this,o=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",kr(o?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",kr(o?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",kr(o?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",kr(o?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,ne.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(m){var w=m.el,A=m.fn;r.addManagedListener(w,"click",A),r.addManagedListener(w,"keydown",function(x){(x.key===Ie.ENTER||x.key===Ie.SPACE)&&(x.preventDefault(),A())})}),this.onPaginationChanged()):this.setDisplayed(!1)},i.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var r=this.paginationProxy.getTotalPages()>0,o=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(r?o+1:0)},i.prototype.formatNumber=function(r){var o=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(o)return o({value:r});var h=this.gridOptionsWrapper.getLocaleTextFunc();return Og(r,h("thousandSeparator",","),h("decimalSeparator","."))},i.prototype.getTemplate=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=r("page","Page"),c=r("to","to"),h=r("of","of"),m=r("firstPage","First Page"),w=r("previousPage","Previous Page"),A=r("nextPage","Next Page"),x=r("lastPage","Last Page"),N=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+N+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+N+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+N+'-to">'+c+'</span>\n                    <span id="ag-'+N+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+N+'-of">'+h+'</span>\n                    <span id="ag-'+N+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+m+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+w+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+N+'-start-page">'+o+'</span>\n                        <span id="ag-'+N+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+N+'-of-page">'+h+'</span>\n                        <span id="ag-'+N+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+A+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+x+'" tabindex="0"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.isLastPageFound(),c=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,this.btFirst.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),rc(this.btFirst,this.previousAndFirstButtonsDisabled),this.btPrevious.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),rc(this.btPrevious,this.previousAndFirstButtonsDisabled);var h=this.isZeroPagesToDisplay();this.nextButtonDisabled=o&&r===c-1||h,this.btNext.classList.toggle("ag-disabled",this.nextButtonDisabled),rc(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!o||h||r===c-1,this.btLast.classList.toggle("ag-disabled",this.lastButtonDisabled),rc(this.btLast,this.lastButtonDisabled)},i.prototype.updateRowLabels=function(){var m,w,r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),c=this.paginationProxy.isLastPageFound(),h=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?m=w=0:(w=(m=o*r+1)+o-1,c&&w>h&&(w=h)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(m),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(w)},i.prototype.isZeroPagesToDisplay=function(){var r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();return r&&0===o},i.prototype.setTotalLabels=function(){var r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages(),c=r?this.paginationProxy.getMasterRowCount():null;if(1===c){var h=this.paginationProxy.getRow(0);if(h&&h.group&&!h.groupData&&!h.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.innerHTML=this.formatNumber(o),this.lbRecordCount.innerHTML=this.formatNumber(c);else{var w=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=w,this.lbRecordCount.innerHTML=w}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},fr([K("paginationProxy")],i.prototype,"paginationProxy",void 0),fr([K("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),fr([Ne("btFirst")],i.prototype,"btFirst",void 0),fr([Ne("btPrevious")],i.prototype,"btPrevious",void 0),fr([Ne("btNext")],i.prototype,"btNext",void 0),fr([Ne("btLast")],i.prototype,"btLast",void 0),fr([Ne("lbRecordCount")],i.prototype,"lbRecordCount",void 0),fr([Ne("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),fr([Ne("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),fr([Ne("lbCurrent")],i.prototype,"lbCurrent",void 0),fr([Ne("lbTotal")],i.prototype,"lbTotal",void 0),fr([je],i.prototype,"postConstruct",null),i}(At),Hc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vn=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},qn=(()=>(function(f){f[f.Loading=0]="Loading",f[f.NoRows=1]="NoRows"}(qn||(qn={})),qn))(),Wc=function(f){function i(){var r=f.call(this,i.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r}return Hc(i,f),i.prototype.updateLayoutClasses=function(r,o){var c=this.eOverlayWrapper.classList;c.toggle(W.LayoutCssClasses.AUTO_HEIGHT,o.autoHeight),c.toggle(W.LayoutCssClasses.NORMAL,o.normal),c.toggle(W.LayoutCssClasses.PRINT,o.print)},i.prototype.postConstruct=function(){this.createManagedBean(new gl(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,ne.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(r){var o=this.eOverlayWrapper.classList;o.toggle("ag-overlay-loading-wrapper",r===qn.Loading),o.toggle("ag-overlay-no-rows-wrapper",r===qn.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var c=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(c,qn.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var c=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(c,qn.NoRows)}},i.prototype.showOverlay=function(r,o){var c=this;this.inProgress||(this.setWrapperTypeClass(o),this.destroyActiveOverlay(),this.inProgress=!0,r&&r.then(function(h){c.inProgress=!1,c.eOverlayWrapper.appendChild(h.getGui()),c.activeOverlay=h,c.destroyRequested&&(c.destroyRequested=!1,c.destroyActiveOverlay())}),this.setDisplayed(!0))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),jn(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},i.prototype.destroy=function(){this.destroyActiveOverlay(),f.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var r=this.paginationProxy.isEmpty(),o=this.gridOptionsWrapper.isSuppressNoRowsOverlay();r&&!o?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Vn([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Vn([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Vn([K("gridApi")],i.prototype,"gridApi",void 0),Vn([K("columnModel")],i.prototype,"columnModel",void 0),Vn([Ne("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),Vn([je],i.prototype,"postConstruct",null),i}(At),jc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zs=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Qs=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return jc(i,f),i.prototype.getFirstRow=function(){var o,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?o=ge.PINNED_TOP:this.rowModel.getRowCount()?(o=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(o=ge.PINNED_BOTTOM),void 0===o?null:{rowIndex:r,rowPinned:o}},i.prototype.getLastRow=function(){var r,o=null,c=this.pinnedRowModel.getPinnedBottomRowCount(),h=this.pinnedRowModel.getPinnedTopRowCount();return c?(o=ge.PINNED_BOTTOM,r=c-1):this.rowModel.getRowCount()?(o=null,r=this.paginationProxy.getPageLastRow()):h&&(o=ge.PINNED_TOP,r=h-1),void 0===r?null:{rowIndex:r,rowPinned:o}},i.prototype.getRowNode=function(r){switch(r.rowPinned){case ge.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case ge.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},i.prototype.sameRow=function(r,o){return!r&&!o||!(r&&!o||!r&&o)&&r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned},i.prototype.before=function(r,o){switch(r.rowPinned){case ge.PINNED_TOP:if(o.rowPinned!==ge.PINNED_TOP)return!0;break;case ge.PINNED_BOTTOM:if(o.rowPinned!==ge.PINNED_BOTTOM)return!1;break;default:if(re(o.rowPinned))return o.rowPinned!==ge.PINNED_TOP}return r.rowIndex<o.rowIndex},Zs([K("rowModel")],i.prototype,"rowModel",void 0),Zs([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Zs([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Zs([Xe("rowPositionUtils")],i)}(Ge),ls=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xu=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return ls(i,f),i.prototype.createId=function(r){return this.createIdFromValues(r.rowIndex,r.column,r.rowPinned)},i.prototype.createIdFromValues=function(r,o,c){return r+"."+(null==c?"null":c)+"."+o.getId()},i.prototype.equals=function(r,o){return r.column===o.column&&r.rowPinned===o.rowPinned&&r.rowIndex===o.rowIndex},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("cellPositionUtils")],i),i}(Ge),Zr=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),La=function f(i){this.cellValueChanges=i},fi=function(f){function i(r,o,c){var h=f.call(this,r)||this;return h.initialRange=o,h.finalRange=c,h}return Zr(i,f),i}(La),Jv=function(){function f(i){this.actionStack=[],this.maxStackSize=i||f.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return f.prototype.pop=function(){return this.actionStack.pop()},f.prototype.push=function(i){!(i.cellValueChanges&&i.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},f.prototype.clear=function(){this.actionStack=[]},f.prototype.getCurrentStackSize=function(){return this.actionStack.length},f.DEFAULT_STACK_SIZE=10,f}(),zc=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ga=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ey=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.cellValueChanges=[],r.activeCellEdit=null,r.activeRowEdit=null,r.isPasting=!1,r.isFilling=!1,r.onCellValueChanged=function(o){var c={column:o.column,rowIndex:o.rowIndex,rowPinned:o.rowPinned},h=null!==r.activeCellEdit&&r.cellPositionUtils.equals(r.activeCellEdit,c),m=null!==r.activeRowEdit&&r.rowPositionUtils.sameRow(r.activeRowEdit,c);if(h||m||r.isPasting||r.isFilling){var k=o.oldValue,q=o.value,te={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:o.column.getColId(),newValue:q,oldValue:k};r.cellValueChanges.push(te)}},r.clearStacks=function(){r.undoStack.clear(),r.redoStack.clear()},r}return zc(i,f),i.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var r=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();r<=0||(this.undoStack=new Jv(r),this.redoStack=new Jv(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,ne.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_ROW_DRAG_END,this.clearStacks))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(){if(this.undoStack){var r=this.undoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(o){return o.oldValue}),r instanceof fi?this.processRangeAndCellFocus(r.cellValueChanges,r.initialRange):this.processRangeAndCellFocus(r.cellValueChanges),this.redoStack.push(r))}},i.prototype.redo=function(){if(this.redoStack){var r=this.redoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(o){return o.newValue}),r instanceof fi?this.processRangeAndCellFocus(r.cellValueChanges,r.finalRange):this.processRangeAndCellFocus(r.cellValueChanges),this.undoStack.push(r))}},i.prototype.processAction=function(r,o){var c=this;r.cellValueChanges.forEach(function(h){var A=h.columnId,N=c.getRowNode({rowIndex:h.rowIndex,rowPinned:h.rowPinned});!N.displayed||N.setDataValue(A,o(h))})},i.prototype.processRangeAndCellFocus=function(r,o){var c;if(o){var h=o.startRow,m=o.endRow;return c={rowPinned:h.rowPinned,rowIndex:h.rowIndex,columnId:o.startColumn.getColId()},this.setLastFocusedCell(c),void this.gridApi.addCellRange({rowStartIndex:h.rowIndex,rowStartPinned:h.rowPinned,rowEndIndex:m.rowIndex,rowEndPinned:m.rowPinned,columnStart:o.startColumn,columns:o.columns})}var A=r[0],q=this.getRowNode({rowIndex:A.rowIndex,rowPinned:A.rowPinned});this.setLastFocusedCell(c={rowPinned:A.rowPinned,rowIndex:q.rowIndex,columnId:A.columnId})},i.prototype.setLastFocusedCell=function(r){var o=r.rowIndex,c=r.columnId,h=r.rowPinned;this.gridApi.ensureIndexVisible(o),this.gridApi.ensureColumnVisible(c),wt.isRegistered(W.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(o,c,h,!0)},i.prototype.addRowEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_ROW_EDITING_STARTED,function(o){r.activeRowEdit={rowIndex:o.rowIndex,rowPinned:o.rowPinned}}),this.addManagedListener(this.eventService,ne.EVENT_ROW_EDITING_STOPPED,function(){var o=new La(r.cellValueChanges);r.pushActionsToUndoStack(o),r.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_CELL_EDITING_STARTED,function(o){r.activeCellEdit={column:o.column,rowIndex:o.rowIndex,rowPinned:o.rowPinned}}),this.addManagedListener(this.eventService,ne.EVENT_CELL_EDITING_STOPPED,function(){if(r.activeCellEdit=null,!r.activeRowEdit&&!r.isPasting&&!r.isFilling){var c=new La(r.cellValueChanges);r.pushActionsToUndoStack(c)}})},i.prototype.addPasteListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_PASTE_START,function(){r.isPasting=!0}),this.addManagedListener(this.eventService,ne.EVENT_PASTE_END,function(){var o=new La(r.cellValueChanges);r.pushActionsToUndoStack(o),r.isPasting=!1})},i.prototype.addFillListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_FILL_START,function(){r.isFilling=!0}),this.addManagedListener(this.eventService,ne.EVENT_FILL_END,function(o){var c=new fi(r.cellValueChanges,o.initialRange,o.finalRange);r.pushActionsToUndoStack(c),r.isFilling=!1})},i.prototype.pushActionsToUndoStack=function(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(r){switch(r.rowPinned){case ge.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case ge.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},Ga([K("focusService")],i.prototype,"focusService",void 0),Ga([K("gridApi")],i.prototype,"gridApi",void 0),Ga([K("rowModel")],i.prototype,"rowModel",void 0),Ga([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ga([K("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),Ga([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Ga([je],i.prototype,"init",null),Ga([Xe("undoRedoService")],i)}(Ge),Nw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ef=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ty=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Nw(i,f),i.prototype.findHeader=function(r,o){var c;if(c=r.column instanceof nr?this.columnModel["getDisplayedGroup"+o](r.column):this.columnModel["getDisplayedCol"+o](r.column))return{column:c,headerRowIndex:r.headerRowIndex}},i.prototype.findColAtEdgeForHeaderRow=function(r,o){var c=this.columnModel.getAllDisplayedColumns(),h=c["start"===o?0:c.length-1];if(h){var w=this.ctrlsService.getHeaderRowContainerCtrl(h.getPinned()).getRowType(r);return w==W.HeaderRowType.COLUMN_GROUP?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(h,r)}:{headerRowIndex:null==w?-1:r,column:h}}},Ef([K("columnModel")],i.prototype,"columnModel",void 0),Ef([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ef([Xe("headerPositionUtils")],i)}(Ge),vb=function(){function f(){}return f.prototype.buildColumnDefs=function(i,r,o){var c=this,h=[],m={};return i.forEach(function(w){for(var x=!0,N=c.createDefFromColumn(w,r,o),k=w.getOriginalParent();k;){var q=null;if(k.isPadding())k=k.getOriginalParent();else{var te=m[k.getGroupId()];if(te){te.children.push(N),x=!1;break}(q=c.createDefFromGroup(k))&&(q.children=[N],m[q.groupId]=q,N=q,k=k.getOriginalParent())}}x&&h.push(N)}),h},f.prototype.createDefFromGroup=function(i){var r=Cs(i.getColGroupDef(),["children"]);return r&&(r.groupId=i.getGroupId()),r},f.prototype.createDefFromColumn=function(i,r,o){var c=Cs(i.getColDef());return c.colId=i.getColId(),c.width=i.getActualWidth(),c.rowGroup=i.isRowGroupActive(),c.rowGroupIndex=i.isRowGroupActive()?r.indexOf(i):null,c.pivot=i.isPivotActive(),c.pivotIndex=i.isPivotActive()?o.indexOf(i):null,c.aggFunc=i.isValueActive()?i.getAggFunc():null,c.hide=!i.isVisible()||void 0,c.pinned=i.isPinned()?i.getPinned():null,c.sort=i.getSort()?i.getSort():null,c.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,c},f=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("columnDefFactory")],f),f}(),Go=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},yb=function(){function f(){}return f.prototype.getInitialRowClasses=function(i){var r=[];return re(i.extraCssClass)&&r.push(i.extraCssClass),r.push("ag-row"),r.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&r.push("ag-opacity-zero"),r.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&r.push("ag-row-pinned"),i.rowNode.isSelected()&&r.push("ag-row-selected"),i.rowNode.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&r.push("ag-row-loading"),i.fullWidthRow&&r.push("ag-full-width-row"),i.expandable&&(r.push("ag-row-group"),r.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&r.push("ag-row-dragging"),pg(r,this.processClassesFromGridOptions(i.rowNode)),pg(r,this.preProcessRowClassRules(i.rowNode)),r.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&r.push("ag-row-first"),i.lastRowOnPage&&r.push("ag-row-last"),i.fullWidthRow&&(i.pinned===ge.PINNED_LEFT&&r.push("ag-cell-last-left-pinned"),i.pinned===ge.PINNED_RIGHT&&r.push("ag-cell-first-right-pinned")),r},f.prototype.processClassesFromGridOptions=function(i){var r=[],o=function(A){"string"==typeof A?r.push(A):Array.isArray(A)&&A.forEach(function(x){return r.push(x)})},c=this.gridOptionsWrapper.getRowClass();if(c){if("function"==typeof c)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];o(c)}var h=this.gridOptionsWrapper.getRowClassFunc();return h&&o(h({data:i.data,node:i,rowIndex:i.rowIndex})),r},f.prototype.preProcessRowClassRules=function(i){var r=[];return this.processRowClassRules(i,function(o){r.push(o)},function(o){}),r},f.prototype.processRowClassRules=function(i,r,o){var c={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),c,r,o)},f.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},Go([K("stylingService")],f.prototype,"stylingService",void 0),Go([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),Go([Xe("rowCssClassCalculator")],f)}(),Al=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ry=function(){function f(){}return f.prototype.doFullSort=function(i,r){var c=i.map(function(h,m){return{currentPos:m,rowNode:h}});return c.sort(this.compareRowNodes.bind(this,r)),c.map(function(h){return h.rowNode})},f.prototype.compareRowNodes=function(i,r,o){for(var c=r.rowNode,h=o.rowNode,m=0,w=i.length;m<w;m++){var q,A=i[m],x=A.sort===ge.SORT_DESC,N=this.getValue(c,A.column),k=this.getValue(h,A.column),te=this.getComparator(A,c);if(q=te?te(N,k,c,h,x):gt.defaultComparator(N,k,this.gridOptionsWrapper.isAccentedSort()),!isNaN(q)&&0!==q)return A.sort===ge.SORT_ASC?q:-1*q}return r.currentPos-o.currentPos},f.prototype.getComparator=function(i,r){var o=i.column,c=o.getColDef().comparator;if(null!=c)return c;if(r.rowGroupColumn)return r.rowGroupColumn.getColDef().comparator;if(o.getColDef().showRowGroup){var h=!r.group&&o.getColDef().field;if(h){var m=this.columnModel.getPrimaryColumn(h);if(m)return m.getColDef().comparator}}},f.prototype.getValue=function(i,r){return this.valueService.getValue(r,i,!1,!1)},Al([K("gridOptionsWrapper")],f.prototype,"gridOptionsWrapper",void 0),Al([K("valueService")],f.prototype,"valueService",void 0),Al([K("columnModel")],f.prototype,"columnModel",void 0),Al([Xe("rowNodeSorter")],f)}(),mb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ny=function(f){function i(){var o=null!==f&&f.apply(this,arguments)||this;return o.ready=!1,o.readyCallbacks=[],o}var r;return mb(i,f),r=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var o=this.createReadyParams();this.readyCallbacks.forEach(function(c){return c(o)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(o){this.ready?o(this.createReadyParams()):this.readyCallbacks.push(o)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollCtrl=function(o){this.fakeHScrollCtrl=o,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(o){this.gridHeaderCtrl=o,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(o){this.centerRowContainerCtrl=o,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(o){this.leftRowContainerCtrl=o,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(o){this.rightRowContainerCtrl=o,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(o){this.topCenterRowContainerCtrl=o,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(o){this.topLeftRowContainerCtrl=o,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(o){this.topRightRowContainerCtrl=o,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(o){this.bottomCenterRowContainerCtrl=o,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(o){this.bottomLeftRowContainerCtrl=o,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(o){this.bottomRightRowContainerCtrl=o,this.checkReady()},i.prototype.registerHeaderContainer=function(o,c){switch(c){case ge.PINNED_LEFT:this.leftHeaderRowContainerCtrl=o;break;case ge.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=o;break;default:this.centerHeaderRowContainerCtrl=o}this.checkReady()},i.prototype.registerGridBodyCtrl=function(o){this.gridBodyCtrl=o,this.checkReady()},i.prototype.registerGridCtrl=function(o){this.gridCtrl=o,this.checkReady()},i.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(o){switch(o){case ge.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case ge.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=r=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe(r.NAME)],i),i}(Ge),Cb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wb=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.registry={},r}return Cb(i,f),i.prototype.register=function(r){this.registry[r.controllerName]=r.controllerClass},i.prototype.getInstance=function(r){var o=this.registry[r];if(null!=o)return new o},i=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h}([Xe("ctrlsFactory")],i),i}(Ge),_b=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),iy=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Sb=function(f){function i(){return f.call(this)||this}return _b(i,f),i.prototype.setComp=function(r,o,c,h){this.view=r,this.eViewport=c,this.eContainer=h,this.eGui=o,this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var m=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,m),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,m),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,m),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},i.prototype.addActiveListenerToggles=function(){var r=this;["mouseenter","mousedown","touchstart"].forEach(function(h){return r.addManagedListener(r.eGui,h,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(h){return r.addManagedListener(r.eGui,h,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=Gm()},i.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL,function(o){"horizontal"===o.direction&&r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL_END,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},i.prototype.setFakeHScrollSpacerWidths=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),o=this.columnModel.getDisplayedColumnsRightWidth(),c=!this.enableRtl&&r,h=this.gridOptionsWrapper.getScrollbarWidth();c&&(o+=h),this.view.setRightSpacerFixedWidth(o),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",o<=h);var m=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&r&&(m+=h),this.view.setLeftSpacerFixedWidth(m),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",m<=h)},i.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isHorizontalScrollShowing(),o=this.invisibleScrollbar,c=this.gridOptionsWrapper.isSuppressHorizontalScroll(),h=r&&this.gridOptionsWrapper.getScrollbarWidth()||0,w=c?0:0===h&&o?15:h;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",o),this.view.setHeight(w),this.view.setViewportHeight(w),this.view.setContainerHeight(w)},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},iy([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),iy([K("columnModel")],i.prototype,"columnModel",void 0),iy([K("ctrlsService")],i.prototype,"ctrlsService",void 0),iy([je],i.prototype,"postConstruct",null),i}(Ge),Pl=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),On=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Vw=function(f){function i(){return f.call(this,i.TEMPLATE)||this}return Pl(i,f),i.prototype.postConstruct=function(){var r=this,o={addOrRemoveCssClass:function(h,m){return r.addOrRemoveCssClass(h,m)},setHeight:function(h){return Xi(r.getGui(),h)},setContainerHeight:function(h){return Xi(r.eContainer,h)},setViewportHeight:function(h){return Xi(r.eViewport,h)},setRightSpacerFixedWidth:function(h){return qt(r.eRightSpacer,h)},setLeftSpacerFixedWidth:function(h){return qt(r.eLeftSpacer,h)},includeLeftSpacerScrollerCss:function(h,m){return r.eLeftSpacer.classList.toggle(h,m)},includeRightSpacerScrollerCss:function(h,m){return r.eRightSpacer.classList.toggle(h,m)}};this.createManagedBean(new Sb).setComp(o,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new ed(function(h){return r.eContainer.style.width=h+"px"}))},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',On([Ne("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),On([Ne("eRightSpacer")],i.prototype,"eRightSpacer",void 0),On([Ne("eViewport")],i.prototype,"eViewport",void 0),On([Ne("eContainer")],i.prototype,"eContainer",void 0),On([je],i.prototype,"postConstruct",null),i}(At),oy=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sy=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},GO=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return oy(i,f),i.prototype.postConstruct=function(){var r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_DOM_LAYOUT,r)},i.prototype.checkContainerWidths=function(){var r=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,o=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),c=r?0:this.columnModel.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,this.eventService.dispatchEvent({type:ne.EVENT_LEFT_PINNED_WIDTH_CHANGED})),c!=this.rightWidth&&(this.rightWidth=c,this.eventService.dispatchEvent({type:ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},sy([K("columnModel")],i.prototype,"columnModel",void 0),sy([je],i.prototype,"postConstruct",null),sy([Xe("pinnedWidthService")],i)}(Ge),bb=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xd=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Eb=function(f){function i(){var r=null!==f&&f.apply(this,arguments)||this;return r.events=[],r}return bb(i,f),i.prototype.postConstruct=function(){this.rowModel.getType()==ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(r){var o=this;null!=this.clientSideRowModel?(this.events.push(r),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){o.clientSideRowModel&&o.clientSideRowModel.onRowGroupOpened(),o.events.forEach(function(h){return o.eventService.dispatchEvent(h)}),o.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(r)},xd([K("animationFrameService")],i.prototype,"animationFrameService",void 0),xd([K("rowModel")],i.prototype,"rowModel",void 0),xd([je],i.prototype,"postConstruct",null),xd([Xe("rowNodeEventThrottle")],i)}(Ge),Mu=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},ko=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(Mu(arguments[i]));return f},Ob=function(){function f(i,r,o){r?(this.gridOptions=r,(new Vo).create(i,r,function(c){var h=new Au(i);c.createBean(h)},void 0,o)):console.error("AG Grid: no gridOptions provided to the grid")}return f.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},f}(),Vo=function(){function f(){}return f.prototype.create=function(i,r,o,c,h){var m=this,w=!!r.debug,A=this.getRegisteredModules(h),x=this.createBeansList(r.rowModelType,A),N=this.createProvidedBeans(i,r,h);if(x){var k={providedBeanInstances:N,beanClasses:x,debug:w},q=new Ol("AG Grid",function(){return r.debug}),te=new Ol("Context",function(){return k.debug}),le=new vm(k,te),de=le.getBean("beans");this.registerModuleUserComponents(de,A),this.registerStackComponents(de,A),this.registerControllers(de,A),o(le),de.ctrlsService.whenReady(function(){m.setColumnsAndData(de),m.dispatchGridReadyEvent(de,r);var ye=wt.isRegistered(W.ModuleNames.EnterpriseCoreModule);q.log("initialised successfully, enterprise = "+ye)}),c&&c(le)}},f.prototype.registerControllers=function(i,r){r.forEach(function(o){o.controllers&&o.controllers.forEach(function(c){return i.ctrlsFactory.register(c)})})},f.prototype.registerStackComponents=function(i,r){var o=this.createAgStackComponentsList(r);i.agStackComponentsRegistry.setupComponents(o)},f.prototype.getRegisteredModules=function(i){var r=i?i.modules:null,o=wt.getRegisteredModules(),c=[],h={};function m(w,A){(function x(N){h[N.moduleName]||(h[N.moduleName]=!0,c.push(N),wt.register(N,w))})(A),A.dependantModules&&A.dependantModules.forEach(m.bind(null,w))}return r&&r.forEach(m.bind(null,!0)),o&&o.forEach(m.bind(null,!wt.isPackageBased())),c},f.prototype.registerModuleUserComponents=function(i,r){this.extractModuleEntity(r,function(c){return c.userComponents?c.userComponents:[]}).forEach(function(c){i.userComponentRegistry.registerDefaultComponent(c.componentName,c.componentClass)})},f.prototype.createProvidedBeans=function(i,r,o){var c=o?o.frameworkOverrides:null;b(c)&&(c=new kv);var h={gridOptions:r,eGridDiv:i,globalEventListener:o?o.globalEventListener:null,frameworkOverrides:c};return o&&o.providedBeanInstances&&Object.assign(h,o.providedBeanInstances),h},f.prototype.createAgStackComponentsList=function(i){var r=[{componentName:"AgCheckbox",componentClass:js},{componentName:"AgRadioButton",componentClass:Kn},{componentName:"AgToggleButton",componentClass:uo},{componentName:"AgInputTextField",componentClass:pf},{componentName:"AgInputTextArea",componentClass:df},{componentName:"AgInputNumberField",componentClass:xv},{componentName:"AgInputRange",componentClass:Mv},{componentName:"AgSelect",componentClass:In},{componentName:"AgSlider",componentClass:gf},{componentName:"AgAngleSelect",componentClass:vf},{componentName:"AgColorPicker",componentClass:po},{componentName:"AgGridBody",componentClass:nd},{componentName:"AgHeaderRoot",componentClass:Ev},{componentName:"AgPagination",componentClass:Tu},{componentName:"AgOverlayWrapper",componentClass:Wc},{componentName:"AgGroupComponent",componentClass:Cd},{componentName:"AgPanel",componentClass:hi},{componentName:"AgDialog",componentClass:md},{componentName:"AgRowContainer",componentClass:Jh},{componentName:"AgFakeHorizontalScroll",componentClass:Vw}],o=this.extractModuleEntity(i,function(c){return c.agStackComponents?c.agStackComponents:[]});return r.concat(o)},f.prototype.createBeansList=function(i,r){var o=this.getRowModelClass(i,r);if(o){var c=[o,Uh,Qs,xu,ty,db,NC,Bp,xw,Xv,Fo,st,Dl,Ov,lf,kh,tS,la,Ye,Gv,Du,dC,Dm,Mo,rw,JC,lb,Em,bw,ab,YS,kc,Nc,Lc,Es,$s,ud,jr,wf,Lo,PC,Pd,Xs,xc,Io,Sc,Dw,cb,Aw,as,LO,Vc,ZC,ey,rS,vb,yb,fd,ry,ny,GO,Eb,wb],h=this.extractModuleEntity(r,function(w){return w.beans?w.beans:[]});c.push.apply(c,ko(h));var m=[];return c.forEach(function(w){m.indexOf(w)<0&&m.push(w)}),m}},f.prototype.extractModuleEntity=function(i,r){return[].concat.apply([],ko(i.map(r)))},f.prototype.setColumnsAndData=function(i){var r=i.gridOptionsWrapper.getColumnDefs();i.columnModel.setColumnDefs(r||[],"gridInitializing"),i.rowModel.start()},f.prototype.dispatchGridReadyEvent=function(i,r){i.eventService.dispatchEvent({type:ne.EVENT_GRID_READY,api:r.api,columnApi:r.columnApi})},f.prototype.getRowModelClass=function(i,r){i||(i=ge.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};r.forEach(function(h){Jt(h.rowModels,function(m,w){o[m]=w})});var c=o[i];if(re(c))return c;i===ge.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+W.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+i),i===ge.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+W.ModuleNames.ViewportRowModelModule+" is registered.';"),i===ge.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+W.ModuleNames.ServerSideRowModelModule+" is registered.';"),i===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+W.ModuleNames.ClientSideRowModelModule+" is registered.';")},f}(),ay=function(){function f(){}return f.prototype.wrap=function(i,r,o,c){var h=this;void 0===o&&(o=[]);var m=this.createWrapper(i,c);return r.forEach(function(w){h.createMethod(m,w,!0)}),o.forEach(function(w){h.createMethod(m,w,!1)}),m},f.prototype.unwrap=function(i){return i},f.prototype.createMethod=function(i,r,o){i.addMethod(r,this.createMethodProxy(i,r,o))},f.prototype.createMethodProxy=function(i,r,o){return function(){return i.hasMethod(r)?i.callMethod(r,arguments):(o&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}},f}();!function(f){f.InsideBase="insideBase",f.InsideEnd="insideEnd",f.Center="center",f.OutsideEnd="outsideEnd"}(W.BarColumnLabelPlacement||(W.BarColumnLabelPlacement={}));var Js="undefined"==typeof global?{}:global;Js.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,Js.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,Js.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,Js.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,Js.Node="undefined"==typeof Node?{}:Node,Js.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var kO=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h},Db=function(){function f(i,r,o,c,h,m,w,A){this.nextId=0,this.allNodesMap={},this.rootNode=i,this.gridOptionsWrapper=r,this.eventService=o,this.columnModel=c,this.gridApi=h,this.columnApi=m,this.beans=A,this.selectionService=w,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=f.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return f.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},f.prototype.getCopyOfNodesMap=function(){return gt.cloneObject(this.allNodesMap)},f.prototype.getRowNode=function(i){return this.allNodesMap[i]},f.prototype.setRowData=function(i){var r=this;if("string"!=typeof i){var o=this.rootNode,c=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},i?o.allLeafChildren=i.map(function(h){return r.createNode(h,r.rootNode,f.TOP_LEVEL)}):(o.allLeafChildren=[],o.childrenAfterGroup=[]),c&&(c.childrenAfterFilter=o.childrenAfterFilter,c.childrenAfterGroup=o.childrenAfterGroup,c.childrenAfterAggFilter=o.childrenAfterAggFilter,c.childrenAfterSort=o.childrenAfterSort,c.childrenMapped=o.childrenMapped,c.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},f.prototype.updateRowData=function(i,r){var o={remove:[],update:[],add:[]},c=[];return this.executeRemove(i,o,c),this.executeUpdate(i,o,c),this.executeAdd(i,o),this.updateSelection(c),r&&gt.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),o},f.prototype.updateSelection=function(i){var r=i.length>0;r&&i.forEach(function(c){c.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),r&&this.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},f.prototype.executeAdd=function(i,r){var o=this,c=i.add,h=i.addIndex;if(!gt.missingOrEmpty(c)){var A,x,m=c.map(function(q){return o.createNode(q,o.rootNode,f.TOP_LEVEL)});if("number"==typeof h&&h>=0){var N=this.rootNode.allLeafChildren,k=0===h?0:N.reduce(function(q,te,le){var de,ye=te.rowIndex,xe=null===(de=N[q])||void 0===de?void 0:de.rowIndex;return null!=ye&&null!=xe&&ye<h&&ye>xe?le:q},0)+1;A=N.slice(0,k),x=N.slice(k,N.length)}else A=this.rootNode.allLeafChildren,x=[];this.rootNode.allLeafChildren=function(){for(var f=[],i=0;i<arguments.length;i++)f=f.concat(kO(arguments[i]));return f}(A,m,x),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=m}},f.prototype.executeRemove=function(i,r,o){var c=this,h=i.remove;if(!gt.missingOrEmpty(h)){var m={};h.forEach(function(w){var A=c.lookupRowNode(w);!A||(A.isSelected()&&o.push(A),A.clearRowTopAndRowIndex(),m[A.id]=!0,delete c.allNodesMap[A.id],r.remove.push(A))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(w){return!m[w.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},f.prototype.executeUpdate=function(i,r,o){var c=this,h=i.update;gt.missingOrEmpty(h)||h.forEach(function(m){var w=c.lookupRowNode(m);!w||(w.updateData(m),!w.selectable&&w.isSelected()&&o.push(w),c.setMasterForRow(w,m,f.TOP_LEVEL,!1),r.update.push(w))})},f.prototype.lookupRowNode=function(i){var o,r=this.gridOptionsWrapper.getRowIdFunc();if(r){var c=r({data:i,level:0});if(!(o=this.allNodesMap[c]))return console.error("AG Grid: could not find row id="+c+", data item was not found for this id"),null}else if(!(o=this.rootNode.allLeafChildren.find(function(h){return h.data===i})))return console.error("AG Grid: could not find data item as object was not found",i),console.error("Consider using getRowId to help the Grid find matching row data"),null;return o||null},f.prototype.createNode=function(i,r,o){var c=new bt(this.beans);return c.group=!1,this.setMasterForRow(c,i,o,!0),r&&!this.suppressParentsInRowNodes&&(c.parent=r),c.level=o,c.setDataAndId(i,this.nextId.toString()),this.allNodesMap[c.id]&&console.warn("AG Grid: duplicate node id '"+c.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[c.id]=c,this.nextId++,c},f.prototype.setMasterForRow=function(i,r,o,c){if(this.doingTreeData)i.setMaster(!1),c&&(i.expanded=!1);else if(i.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(r))),c){var h=this.columnModel.getRowGroupColumns();i.expanded=!!i.master&&this.isExpanded(o+(h?h.length:0))}},f.prototype.isExpanded=function(i){var r=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===r||i<r},f.TOP_LEVEL=0,f.ROOT_NODE_ID="ROOT_NODE_ID",f}(),Ww=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qr=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ho=(()=>(function(f){f[f.Normal=0]="Normal",f[f.AfterFilter=1]="AfterFilter",f[f.AfterFilterAndSort=2]="AfterFilterAndSort",f[f.PivotNodes=3]="PivotNodes"}(ho||(ho={})),ho))(),Of=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Ww(i,f),i.prototype.init=function(){var r=this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.EVERYTHING}),o=!this.gridOptionsWrapper.isSuppressAnimationFrame(),c=this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,c),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,ne.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,r);var h=this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:o});this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_GROUP_REMOVE_SINGLE_CHILDREN,h),this.addManagedListener(this.gridOptionsWrapper,Ye.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,h),this.rootNode=new bt(this.beans),this.nodeManager=new Db(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},i.prototype.start=function(){var r=this.gridOptionsWrapper.getRowData();r&&this.setRowData(r)},i.prototype.ensureRowHeightsValid=function(r,o,c,h){var m,w=!1;do{m=!1;for(var A=this.getRowIndexAtPixel(r),x=this.getRowIndexAtPixel(o),N=Math.max(A,c),k=Math.min(x,h),q=N;q<=k;q++){var te=this.getRow(q);if(te.rowHeightEstimated){var le=this.gridOptionsWrapper.getRowHeightForNode(te);te.setRowHeight(le.height),m=!0,w=!0}}m&&this.setRowTopAndRowIndex()}while(m);return w},i.prototype.setRowTopAndRowIndex=function(){for(var r=this.gridOptionsWrapper.getDefaultRowHeight(),o=0,c=new Set,h=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_NORMAL,m=0;m<this.rowsToDisplay.length;m++){var w=this.rowsToDisplay[m];if(null!=w.id&&c.add(w.id),null==w.rowHeight){var A=this.gridOptionsWrapper.getRowHeightForNode(w,h,r);w.setRowHeight(A.height,A.estimated)}w.setRowTop(o),w.setRowIndex(m),o+=w.rowHeight}return c},i.prototype.clearRowTopAndRowIndex=function(r,o){var c=r.isActive(),h=function(w){w&&null!=w.id&&!o.has(w.id)&&w.clearRowTopAndRowIndex()},m=function(w){h(w),h(w.detailNode),h(w.sibling),w.hasChildren()&&w.childrenAfterGroup&&(c&&-1!=w.level&&!w.expanded||w.childrenAfterGroup.forEach(m))};m(this.rootNode)},i.prototype.ensureRowsAtPixel=function(r,o,c){var h=this;void 0===c&&(c=0);var m=this.getRowIndexAtPixel(o),w=this.getRow(m),A=!this.gridOptionsWrapper.isSuppressAnimationFrame();return w!==r[0]&&(r.forEach(function(x){gt.removeFromArray(h.rootNode.allLeafChildren,x)}),r.forEach(function(x,N){gt.insertIntoArray(h.rootNode.allLeafChildren,x,Math.max(m+c,0)+N)}),this.refreshModel({step:W.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:A}),!0)},i.prototype.highlightRowAtPixel=function(r,o){var c=null!=o?this.getRowIndexAtPixel(o):null,h=null!=c?this.getRow(c):null;if(h&&r&&h!==r&&null!=o){var m=this.getHighlightPosition(o,h);this.lastHighlightedRow&&this.lastHighlightedRow!==h&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),h.setHighlighted(m),this.lastHighlightedRow=h}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},i.prototype.getHighlightPosition=function(r,o){if(!o){var c=this.getRowIndexAtPixel(r);if(!(o=this.getRow(c||0)))return W.RowHighlightPosition.Below}return r-o.rowTop<o.rowHeight/2?W.RowHighlightPosition.Above:W.RowHighlightPosition.Below},i.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},i.prototype.isLastRowIndexKnown=function(){return!0},i.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},i.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var o=this.rootNode.childrenAfterAggFilter;return o?o.length:0},i.prototype.getTopLevelRowDisplayedIndex=function(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;var c=this.rootNode.childrenAfterSort[r];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;c.expanded&&c.childrenAfterSort&&c.childrenAfterSort.length>0;)c=c.childrenAfterSort[0];return c.rowIndex},i.prototype.getRowBounds=function(r){if(gt.missing(this.rowsToDisplay))return null;var o=this.rowsToDisplay[r];return o?{rowTop:o.rowTop,rowHeight:o.rowHeight}:null},i.prototype.onRowGroupOpened=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:r})},i.prototype.onFilterChanged=function(r){if(!r.afterDataChange){var o=this.gridOptionsWrapper.isAnimateRows(),c=0===r.columns.length||r.columns.some(function(m){return m.isPrimary()});this.refreshModel({step:c?W.ClientSideRowModelSteps.FILTER:W.ClientSideRowModelSteps.FILTER_AGGREGATES,keepRenderedRows:!0,animate:o})}},i.prototype.onSortChanged=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:r,keepEditingRows:!0})},i.prototype.getType=function(){return ge.ROW_MODEL_TYPE_CLIENT_SIDE},i.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:W.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:W.ClientSideRowModelSteps.AGGREGATE})},i.prototype.createChangePath=function(r){var o=gt.missingOrEmpty(r),c=new lo(!1,this.rootNode);return(o||this.gridOptionsWrapper.isTreeData())&&c.setInactive(),c},i.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(r){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==r.rowNodeTransactions)return!1;var o=r.rowNodeTransactions.filter(function(h){return null!=h.add&&h.add.length>0||null!=h.remove&&h.remove.length>0});return null==o||0==o.length},i.prototype.refreshModel=function(r){if(!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var o=this.createChangePath(r.rowNodeTransactions);switch(r.step){case W.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(r.groupState,r.rowNodeTransactions,r.rowNodeOrder,o,!!r.afterColumnsChanged);case W.ClientSideRowModelSteps.FILTER:this.doFilter(o);case W.ClientSideRowModelSteps.PIVOT:this.doPivot(o);case W.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(o);case W.ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(o);case W.ClientSideRowModelSteps.SORT:this.doSort(r.rowNodeTransactions,o);case W.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,c),this.eventService.dispatchEvent({type:ne.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1})}},i.prototype.isEmpty=function(){var r=gt.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return gt.missing(this.rootNode)||r||!this.columnModel.isReady()},i.prototype.isRowsToRender=function(){return gt.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},i.prototype.getNodesInRangeForSelection=function(r,o){var m,c=!o,h=!1,w=[],A=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(x){var N=c&&!h;if(c||(x===o||x===r)&&(c=!0),!x.group||!A){var q=c&&!h,te=x.isParentOfNode(m);(q||te)&&w.push(x)}N&&(x===o||x===r)&&(h=!0,m=x===o?o:r)}),w},i.prototype.setDatasource=function(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")},i.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},i.prototype.getRootNode=function(){return this.rootNode},i.prototype.getRow=function(r){return this.rowsToDisplay[r]},i.prototype.isRowPresent=function(r){return this.rowsToDisplay.indexOf(r)>=0},i.prototype.getRowIndexAtPixel=function(r){if(this.isEmpty())return-1;var o=0,c=this.rowsToDisplay.length-1;if(r<=0)return 0;if(gt.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;for(;;){var m=Math.floor((o+c)/2),w=this.rowsToDisplay[m];if(this.isRowInPixel(w,r))return m;w.rowTop<r?o=m+1:w.rowTop>r&&(c=m-1)}},i.prototype.isRowInPixel=function(r,o){return r.rowTop<=o&&r.rowTop+r.rowHeight>o},i.prototype.forEachLeafNode=function(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(o,c){return r(o,c)})},i.prototype.forEachNode=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,r,ho.Normal,0)},i.prototype.forEachNodeAfterFilter=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,r,ho.AfterFilter,0)},i.prototype.forEachNodeAfterFilterAndSort=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,r,ho.AfterFilterAndSort,0)},i.prototype.forEachPivotNode=function(r){this.recursivelyWalkNodesAndCallback([this.rootNode],r,ho.PivotNodes,0)},i.prototype.recursivelyWalkNodesAndCallback=function(r,o,c,h){if(!r)return h;for(var m=0;m<r.length;m++){var w=r[m];if(o(w,h++),w.hasChildren()){var A=null;switch(c){case ho.Normal:A=w.childrenAfterGroup;break;case ho.AfterFilter:A=w.childrenAfterAggFilter;break;case ho.AfterFilterAndSort:A=w.childrenAfterSort;break;case ho.PivotNodes:A=w.leafGroup?null:w.childrenAfterSort}A&&(h=this.recursivelyWalkNodesAndCallback(A,o,c,h))}}return h},i.prototype.doAggregate=function(r){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.doFilterAggregates=function(r){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:r}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},i.prototype.expandOrCollapseAll=function(r){var o=this.gridOptionsWrapper.isTreeData(),c=this.columnModel.isPivotActive(),h=function(A){!A||A.forEach(function(x){var N=function(){x.expanded=r,h(x.childrenAfterGroup)};o?gt.exists(x.childrenAfterGroup)&&N():c?!x.leafGroup&&N():x.group&&N()})};this.rootNode&&h(this.rootNode.childrenAfterGroup),this.refreshModel({step:W.ClientSideRowModelSteps.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:ne.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})},i.prototype.doSort=function(r,o){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:o})},i.prototype.doRowGrouping=function(r,o,c,h,m){this.groupStage?(o?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:o,rowNodeOrder:c,changedPath:h}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:h,afterColumnsChanged:m}),this.restoreGroupState(r)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(h)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},i.prototype.restoreGroupState=function(r){!r||gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(o,c){"boolean"==typeof r[c]&&(o.expanded=r[c])})},i.prototype.doFilter=function(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.doPivot=function(r){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var r={};return gt.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(o,c){return r[c]=o.expanded}),r},i.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},i.prototype.getRowNode=function(r){if("string"==typeof r&&0==r.indexOf(bt.ID_PREFIX_ROW_GROUP)){var c=void 0;return this.forEachNode(function(h){h.id===r&&(c=h)}),c}return this.nodeManager.getRowNode(r)},i.prototype.setRowData=function(r){var o=this.getGroupState();this.nodeManager.setRowData(r),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:ne.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:W.ClientSideRowModelSteps.EVERYTHING,groupState:o,newData:!0})},i.prototype.batchUpdateRowData=function(r,o){var c=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var h=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){c.executeBatchUpdateRowData()},h)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:o})},i.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},i.prototype.executeBatchUpdateRowData=function(){var r=this;this.valueCache.onDataChanged();var o=[],c=[],h=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(w){var A=r.nodeManager.updateRowData(w.rowDataTransaction,void 0);c.push(A),w.callback&&o.push(w.callback.bind(null,A)),"number"==typeof w.rowDataTransaction.addIndex&&(h=!0)}),this.commonUpdateRowData(c,void 0,h),o.length>0&&window.setTimeout(function(){o.forEach(function(w){return w()})},0),c.length>0){var m={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:ne.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:c};this.eventService.dispatchEvent(m)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},i.prototype.updateRowData=function(r,o){this.valueCache.onDataChanged();var c=this.nodeManager.updateRowData(r,o);return this.commonUpdateRowData([c],o,"number"==typeof r.addIndex),c},i.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var o={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var c=0;c<this.rootNode.allLeafChildren.length;c++)o[this.rootNode.allLeafChildren[c].id]=c;return o}},i.prototype.commonUpdateRowData=function(r,o,c){var h=!this.gridOptionsWrapper.isSuppressAnimationFrame();c&&(o=this.createRowNodeOrder()),this.refreshModel({step:W.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:r,rowNodeOrder:o,keepRenderedRows:!0,keepEditingRows:!0,animate:h}),this.eventService.dispatchEvent({type:ne.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},i.prototype.onRowHeightChanged=function(){this.refreshModel({step:W.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},i.prototype.resetRowHeights=function(){var r=!1;this.forEachNode(function(o){o.setRowHeight(o.rowHeight,!0);var c=o.detailNode;c&&c.setRowHeight(c.rowHeight,!0),r=!0}),r&&this.onRowHeightChanged()},Qr([K("columnModel")],i.prototype,"columnModel",void 0),Qr([K("selectionService")],i.prototype,"selectionService",void 0),Qr([K("filterManager")],i.prototype,"filterManager",void 0),Qr([K("valueCache")],i.prototype,"valueCache",void 0),Qr([K("columnApi")],i.prototype,"columnApi",void 0),Qr([K("gridApi")],i.prototype,"gridApi",void 0),Qr([K("animationFrameService")],i.prototype,"animationFrameService",void 0),Qr([K("beans")],i.prototype,"beans",void 0),Qr([K("filterStage")],i.prototype,"filterStage",void 0),Qr([K("sortStage")],i.prototype,"sortStage",void 0),Qr([K("flattenStage")],i.prototype,"flattenStage",void 0),Qr([$t("groupStage")],i.prototype,"groupStage",void 0),Qr([$t("aggregationStage")],i.prototype,"aggregationStage",void 0),Qr([$t("pivotStage")],i.prototype,"pivotStage",void 0),Qr([$t("filterAggregatesStage")],i.prototype,"filterAggregatesStage",void 0),Qr([je],i.prototype,"init",null),Qr([Xe("rowModel")],i)}(Ge),jw=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Uw=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},ly=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return jw(i,f),i.prototype.execute=function(r){this.filterService.filter(r.changedPath)},Uw([K("filterService")],i.prototype,"filterService",void 0),Uw([Xe("filterStage")],i)}(Ge),Md=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ur=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},zw=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Md(i,f),i.prototype.execute=function(r){var o=this.sortController.getSortOptions(),c=gt.exists(o)&&o.length>0,h=c&&gt.exists(r.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),m=h?this.calculateDirtyNodes(r.rowNodeTransactions):null,w=gt.missingOrEmpty(this.columnModel.getValueColumns()),A=o.some(function(x){return!!x.column.getColDef().showRowGroup});this.sortService.sort(o,c,h,m,r.changedPath,w,A)},i.prototype.calculateDirtyNodes=function(r){var o={},c=function(h){h&&h.forEach(function(m){return o[m.id]=!0})};return r&&r.forEach(function(h){c(h.add),c(h.update),c(h.remove)}),o},Ur([K("sortService")],i.prototype,"sortService",void 0),Ur([K("sortController")],i.prototype,"sortController",void 0),Ur([K("columnModel")],i.prototype,"columnModel",void 0),Ur([Xe("sortStage")],i)}(Ge),gi=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$c=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},VO=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return gi(i,f),i.prototype.execute=function(r){var o=r.rowNode,c=[],h={value:0},m=this.columnModel.isPivotMode(),w=m&&o.leafGroup;return this.recursivelyAddToRowsToDisplay(w?[o]:o.childrenAfterSort,c,h,m,0),!w&&c.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(o),this.addRowNodeToRowsToDisplay(o.sibling,c,h,0)),c},i.prototype.recursivelyAddToRowsToDisplay=function(r,o,c,h,m){if(!gt.missingOrEmpty(r))for(var w=this.gridOptionsWrapper.isGroupHideOpenParents(),A=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),x=!A&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),N=0;N<r.length;N++){var k=r[N],q=k.hasChildren(),le=A&&q&&1===k.childrenAfterGroup.length,de=x&&q&&k.leafGroup&&1===k.childrenAfterGroup.length;if(!(h&&!q||w&&k.expanded&&(!h||!k.leafGroup)||le||de)&&this.addRowNodeToRowsToDisplay(k,o,c,m),!h||!k.leafGroup)if(q){var Ee=le||de;(k.expanded||Ee)&&(this.recursivelyAddToRowsToDisplay(k.childrenAfterSort,o,c,h,Ee?m:m+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(k),this.addRowNodeToRowsToDisplay(k.sibling,o,c,m)))}else if(k.master&&k.expanded){var pt=this.createDetailNode(k);this.addRowNodeToRowsToDisplay(pt,o,c,m)}}},i.prototype.addRowNodeToRowsToDisplay=function(r,o,c,h){var m=this.gridOptionsWrapper.isGroupMultiAutoColumn();o.push(r),r.setUiLevel(m?0:h)},i.prototype.ensureFooterNodeExists=function(r){if(!gt.exists(r.sibling)){var o=new bt(this.beans);Object.keys(r).forEach(function(c){o[c]=r[c]}),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,gt.exists(o.id)&&(o.id="rowGroupFooter_"+o.id),o.sibling=r,r.sibling=o}},i.prototype.createDetailNode=function(r){if(gt.exists(r.detailNode))return r.detailNode;var o=new bt(this.beans);return o.detail=!0,o.selectable=!1,o.parent=r,gt.exists(r.id)&&(o.id="detail_"+r.id),o.data=r.data,o.level=r.level+1,r.detailNode=o,o},$c([K("columnModel")],i.prototype,"columnModel",void 0),$c([K("beans")],i.prototype,"beans",void 0),$c([Xe("flattenStage")],i)}(Ge),Ve=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kc=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Bn=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Ve(i,f),i.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},i.prototype.sort=function(r,o,c,h,m,w,A){var x=this,N=this.gridOptionsWrapper.isGroupMaintainOrder(),k=this.columnModel.getAllGridColumns().some(function(te){return te.isRowGroupActive()});m&&m.forEachChangedNodeDepthFirst(function(te){if(x.pullDownGroupDataForHideOpenParents(te.childrenAfterAggFilter,!0),!o||N&&k&&!te.leafGroup&&!A){var de=te.childrenAfterAggFilter.slice(0);if(N&&te.childrenAfterSort){var ye=te.childrenAfterSort.reduce(function(Oe,Ee,Ke){return Oe[Ee.id]=Ke,Oe},{});de.sort(function(Oe,Ee){return(ye[Oe.id]||0)-(ye[Ee.id]||0)})}te.childrenAfterSort=de}else te.childrenAfterSort=c?x.doDeltaSort(te,r,h,m,w):x.rowNodeSorter.doFullSort(te.childrenAfterAggFilter,r);te.sibling&&(te.sibling.childrenAfterSort=te.childrenAfterSort),x.updateChildIndexes(te),x.postSortFunc&&x.postSortFunc({nodes:te.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(m)},i.prototype.mapNodeToSortedNode=function(r,o){return{currentPos:o,rowNode:r}},i.prototype.doDeltaSort=function(r,o,c,h,m){var w=r.childrenAfterSort.filter(function(k){var q=!c[k.id],te=m||h&&h.canSkip(k);return q&&te}).map(this.mapNodeToSortedNode.bind(this)),A={};w.forEach(function(k){return A[k.rowNode.id]=k.rowNode});var x=r.childrenAfterAggFilter.filter(function(k){return!A[k.id]}).map(this.mapNodeToSortedNode.bind(this));return x.sort(this.rowNodeSorter.compareRowNodes.bind(this,o)),(0===x.length?w:0===w.length?x:this.mergeSortedArrays(o,w,x)).map(function(k){return k.rowNode})},i.prototype.mergeSortedArrays=function(r,o,c){for(var h=[],m=0,w=0;m<o.length&&w<c.length;){var A=this.rowNodeSorter.compareRowNodes(r,o[m],c[w]);h.push(A<0?o[m++]:c[w++])}for(;m<o.length;)h.push(o[m++]);for(;w<c.length;)h.push(c[w++]);return h},i.prototype.updateChildIndexes=function(r){if(!gt.missing(r.childrenAfterSort))for(var o=r.childrenAfterSort,c=0;c<o.length;c++){var h=o[c],w=c===r.childrenAfterSort.length-1;h.setFirstChild(0===c),h.setLastChild(w),h.setChildIndex(c)}},i.prototype.updateGroupDataForHideOpenParents=function(r){var o=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return gt.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var h=function(m){o.pullDownGroupDataForHideOpenParents(m.childrenAfterSort,!1),m.childrenAfterSort.forEach(function(w){w.hasChildren()&&h(w)})};r&&r.executeFromRootNode(function(m){return h(m)})}},i.prototype.pullDownGroupDataForHideOpenParents=function(r,o){var c=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||gt.missing(r)||r.forEach(function(h){c.columnModel.getGroupDisplayColumns().forEach(function(w){var A=w.getColDef().showRowGroup;if("string"==typeof A){var N=c.columnModel.getPrimaryColumn(A);if(N!==h.rowGroupColumn)if(o)h.setGroupValue(w.getId(),void 0);else{var q=h.getFirstChildOfFirstChild(N);q&&h.setGroupValue(w.getId(),q.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Kc([K("columnModel")],i.prototype,"columnModel",void 0),Kc([K("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),Kc([je],i.prototype,"init",null),Kc([Xe("sortService")],i)}(Ge),Fd=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Id=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},nt=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Fd(i,f),i.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},i.prototype.filter=function(r){var o=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(o,r)},i.prototype.filterNodes=function(r,o){var c=this,h=function(x,N){x.hasChildren()?(x.childrenAfterFilter=r&&!N?x.childrenAfterGroup.filter(function(k){var q=k.childrenAfterFilter&&k.childrenAfterFilter.length>0,te=k.data&&c.filterManager.doesRowPassFilter({rowNode:k});return q||te}):x.childrenAfterGroup,c.setAllChildrenCount(x)):(x.childrenAfterFilter=x.childrenAfterGroup,x.setAllChildrenCount(null)),x.sibling&&(x.sibling.childrenAfterFilter=x.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var m=function(x,N){if(x.childrenAfterGroup)for(var k=0;k<x.childrenAfterGroup.length;k++){var q=x.childrenAfterGroup[k],te=N||c.filterManager.doesRowPassFilter({rowNode:q});q.childrenAfterGroup?m(x.childrenAfterGroup[k],te):h(q,te)}h(x,N)};o.executeFromRootNode(function(x){return m(x,!1)})}else o.forEachChangedNodeDepthFirst(function(x){return h(x,!1)},!0)},i.prototype.setAllChildrenCountTreeData=function(r){var o=0;r.childrenAfterFilter.forEach(function(c){o++,o+=c.allChildrenCount}),r.setAllChildrenCount(o)},i.prototype.setAllChildrenCountGridGrouping=function(r){var o=0;r.childrenAfterFilter.forEach(function(c){c.group?o+=c.allChildrenCount:o++}),r.setAllChildrenCount(o)},i.prototype.setAllChildrenCount=function(r){this.doingTreeData?this.setAllChildrenCountTreeData(r):this.setAllChildrenCountGridGrouping(r)},i.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Id([K("filterManager")],i.prototype,"filterManager",void 0),Id([je],i.prototype,"postConstruct",null),Id([Xe("filterService")],i)}(Ge),ft=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jt=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Rb=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return ft(i,f),i.prototype.postConstruct=function(){this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},i.prototype.setRowData=function(r){var o=this.createTransactionForRowData(r);if(o){var c=function(f,i){var r="function"==typeof Symbol&&f[Symbol.iterator];if(!r)return f;var c,m,o=r.call(f),h=[];try{for(;(void 0===i||i-- >0)&&!(c=o.next()).done;)h.push(c.value)}catch(w){m={error:w}}finally{try{c&&!c.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return h}(o,2),w=this.clientSideRowModel.updateRowData(c[0],c[1]);w&&this.rowRenderer.refreshFullWidthRows(w.update),this.eventService.dispatchEvent({type:ne.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.createTransactionForRowData=function(r){if(gt.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var c={remove:[],update:[],add:[]},h=this.clientSideRowModel.getCopyOfNodesMap(),w=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return gt.exists(r)&&r.forEach(function(A,x){var N=o({data:A,level:0}),k=h[N];w&&(w[N]=x),k?(k.data!==A&&c.update.push(A),h[N]=void 0):c.add.push(A)}),gt.iterateObject(h,function(A,x){x&&c.remove.push(x.data)}),[c,w]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},jt([K("rowModel")],i.prototype,"rowModel",void 0),jt([K("rowRenderer")],i.prototype,"rowRenderer",void 0),jt([K("columnApi")],i.prototype,"columnApi",void 0),jt([K("gridApi")],i.prototype,"gridApi",void 0),jt([je],i.prototype,"postConstruct",null),jt([Xe("immutableService")],i)}(Ge),uy={moduleName:W.ModuleNames.ClientSideRowModelModule,beans:[ly,zw,VO,Bn,nt,Rb],rowModels:{clientSide:Of}},Df=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rf=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},Af=function(f){function i(r,o,c){var h=f.call(this,r)||this;return h.parentCache=o,h.params=c,h.startRow=r*c.blockSize,h.endRow=h.startRow+c.blockSize,h}return Df(i,f),i.prototype.postConstruct=function(){this.createRowNodes()},i.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},i.prototype.setDataAndId=function(r,o,c){!r.id&&r.alreadyRendered&&(r.alreadyRendered=!1),gt.exists(o)?r.setDataAndId(o,c.toString()):r.setDataAndId(void 0,void 0)},i.prototype.loadFromDatasource=function(){var r=this,o=this.createLoadParams();gt.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){r.params.datasource.getRows(o)},0)},i.prototype.processServerFail=function(){},i.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},i.prototype.forEachNode=function(r,o,c){var h=this;this.rowNodes.forEach(function(m,w){h.startRow+w<c&&r(m,o.next())})},i.prototype.getLastAccessed=function(){return this.lastAccessed},i.prototype.getRow=function(r,o){return void 0===o&&(o=!1),o||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]},i.prototype.getStartRow=function(){return this.startRow},i.prototype.getEndRow=function(){return this.endRow},i.prototype.createRowNodes=function(){this.rowNodes=[];for(var r=0;r<this.params.blockSize;r++){var o=this.startRow+r,c=new bt(this.beans);c.setRowHeight(this.params.rowHeight),c.uiLevel=0,c.setRowIndex(o),c.setRowTop(this.params.rowHeight*o),this.rowNodes.push(c)}},i.prototype.processServerResult=function(r){var o=this;this.rowNodes.forEach(function(h,m){o.setDataAndId(h,r.rowData?r.rowData[m]:void 0,o.startRow+m)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)},i.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(r){r.clearRowTopAndRowIndex()})},Rf([K("beans")],i.prototype,"beans",void 0),Rf([je],i.prototype,"postConstruct",null),Rf([An],i.prototype,"destroyRowNodes",null),i}(hd),Fu=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vi=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},cy=function(f,i){return function(r,o){i(r,o,f)}},Xn=function(f){function i(r){var o=f.call(this)||this;return o.lastRowIndexKnown=!1,o.blocks={},o.blockCount=0,o.rowCount=r.initialRowCount,o.params=r,o}return Fu(i,f),i.prototype.setBeans=function(r){this.logger=r.create("InfiniteCache")},i.prototype.getRow=function(r,o){void 0===o&&(o=!1);var c=Math.floor(r/this.params.blockSize),h=this.blocks[c];if(!h){if(o)return;h=this.createBlock(c)}return h.getRow(r)},i.prototype.createBlock=function(r){var o=this.createBean(new Af(r,this,this.params));return this.blocks[o.getId()]=o,this.blockCount++,this.purgeBlocksIfNeeded(o),this.params.rowNodeBlockLoader.addBlock(o),o},i.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(o){return o.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},i.prototype.destroyAllBlocks=function(){var r=this;this.getBlocksInOrder().forEach(function(o){return r.destroyBlock(o)})},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},i.prototype.pageLoaded=function(r,o){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+r.getId()+", lastRow = "+o),this.checkRowCount(r,o),this.onCacheUpdated())},i.prototype.purgeBlocksIfNeeded=function(r){var o=this,c=this.getBlocksInOrder().filter(function(x){return x!=r});c.sort(function(x,N){return N.getLastAccessed()-x.getLastAccessed()});var m=this.params.maxBlocksInCache>0,w=m?this.params.maxBlocksInCache-1:null,A=i.MAX_EMPTY_BLOCKS_TO_KEEP-1;c.forEach(function(x,N){if(x.getState()===Af.STATE_WAITING_TO_LOAD&&N>=A||m&&N>=w){if(o.isBlockCurrentlyDisplayed(x)||o.isBlockFocused(x))return;o.removeBlockFromCache(x)}})},i.prototype.isBlockFocused=function(r){var o=this.focusService.getFocusCellToUseAfterRefresh();if(!o||null!=o.rowPinned)return!1;var c=r.getStartRow(),h=r.getEndRow();return o.rowIndex>=c&&o.rowIndex<h},i.prototype.isBlockCurrentlyDisplayed=function(r){var o=r.getStartRow(),c=r.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(o,c)},i.prototype.removeBlockFromCache=function(r){!r||this.destroyBlock(r)},i.prototype.checkRowCount=function(r,o){if("number"==typeof o&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var h=(r.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<h&&(this.rowCount=h)}},i.prototype.setRowCount=function(r,o){this.rowCount=r,gt.exists(o)&&(this.lastRowIndexKnown=o),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},i.prototype.forEachNodeDeep=function(r){var o=this,c=new va;this.getBlocksInOrder().forEach(function(h){return h.forEachNode(r,c,o.rowCount)})},i.prototype.getBlocksInOrder=function(){return gt.getAllValuesInObject(this.blocks).sort(function(c,h){return c.getId()-h.getId()})},i.prototype.destroyBlock=function(r){delete this.blocks[r.getId()],this.destroyBean(r),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(r)},i.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:ne.EVENT_STORE_UPDATED}))},i.prototype.destroyAllBlocksPastVirtualRowCount=function(){var r=this,o=[];this.getBlocksInOrder().forEach(function(c){c.getId()*r.params.blockSize>=r.rowCount&&o.push(c)}),o.length>0&&o.forEach(function(c){return r.destroyBlock(c)})},i.prototype.purgeCache=function(){var r=this;this.getBlocksInOrder().forEach(function(o){return r.removeBlockFromCache(o)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},i.prototype.getRowNodesInRange=function(r,o){var c=this,h=[],m=-1,w=!1,A=new va;gt.missing(r)&&(w=!0);var x=!1;return this.getBlocksInOrder().forEach(function(k){if(!x){if(w&&m+1!==k.getId())return void(x=!0);m=k.getId(),k.forEachNode(function(q){var te=q===r||q===o;(w||te)&&h.push(q),te&&(w=!w)},A,c.rowCount)}}),x||w?[]:h},i.MAX_EMPTY_BLOCKS_TO_KEEP=2,vi([K("rowRenderer")],i.prototype,"rowRenderer",void 0),vi([K("focusService")],i.prototype,"focusService",void 0),vi([cy(0,Rr("loggerFactory"))],i.prototype,"setBeans",null),vi([An],i.prototype,"destroyAllBlocks",null),i}(Ge),$w=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bo=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},py=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return $w(i,f),i.prototype.getRowBounds=function(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}},i.prototype.ensureRowHeightsValid=function(r,o,c,h){return!1},i.prototype.init=function(){var r=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return r.destroyCache()}),this.verifyProps())},i.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&gt.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},i.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},i.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ne.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},i.prototype.onFilterChanged=function(){this.reset()},i.prototype.onSortChanged=function(){this.reset()},i.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},i.prototype.isSortModelDifferent=function(){return!gt.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},i.prototype.getType=function(){return ge.ROW_MODEL_TYPE_INFINITE},i.prototype.setDatasource=function(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()},i.prototype.isEmpty=function(){return!this.infiniteCache},i.prototype.isRowsToRender=function(){return!!this.infiniteCache},i.prototype.getNodesInRangeForSelection=function(r,o){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,o):[]},i.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var c=this.createModelUpdatedEvent();this.eventService.dispatchEvent(c)}},i.prototype.createModelUpdatedEvent=function(){return{type:ne.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},i.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new va},this.infiniteCache=this.createBean(new Xn(this.cacheParams))},i.prototype.defaultIfInvalid=function(r,o){return r>0?r:o},i.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},i.prototype.onCacheUpdated=function(){var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},i.prototype.getRow=function(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)},i.prototype.getRowNode=function(r){var o;return this.forEachNode(function(c){c.id===r&&(o=c)}),o},i.prototype.forEachNode=function(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)},i.prototype.getTopLevelRowCount=function(){return this.getRowCount()},i.prototype.getTopLevelRowDisplayedIndex=function(r){return r},i.prototype.getRowIndexAtPixel=function(r){if(0!==this.rowHeight){var o=Math.floor(r/this.rowHeight),c=this.getRowCount()-1;return o>c?c:o}return 0},i.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},i.prototype.isRowPresent=function(r){return!!this.getRowNode(r.id)},i.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},i.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},i.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},i.prototype.setRowCount=function(r,o){this.infiniteCache&&this.infiniteCache.setRowCount(r,o)},Bo([K("filterManager")],i.prototype,"filterManager",void 0),Bo([K("sortController")],i.prototype,"sortController",void 0),Bo([K("selectionService")],i.prototype,"selectionService",void 0),Bo([K("gridApi")],i.prototype,"gridApi",void 0),Bo([K("columnApi")],i.prototype,"columnApi",void 0),Bo([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Bo([K("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),Bo([je],i.prototype,"init",null),Bo([An],i.prototype,"destroyDatasource",null),Bo([Xe("rowModel")],i)}(Ge),Pf={moduleName:W.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:py}},ka=function(){function f(){}return f.prototype.setBeans=function(i){this.beans=i},f.prototype.getFileName=function(i){var r=this.getDefaultFileExtension();return(null==i||!i.length)&&(i=this.getDefaultFileName()),-1===i.indexOf(".")?i+"."+r:i},f.prototype.getData=function(i){var r=this.createSerializingSession(i);return this.beans.gridSerializer.serialize(r,i)},f}(),dy=function(){function f(i){this.groupColumns=[];var o=i.valueService,c=i.gridOptionsWrapper,h=i.processCellCallback,m=i.processHeaderCallback,w=i.processGroupHeaderCallback,A=i.processRowGroupCallback;this.columnModel=i.columnModel,this.valueService=o,this.gridOptionsWrapper=c,this.processCellCallback=h,this.processHeaderCallback=m,this.processGroupHeaderCallback=w,this.processRowGroupCallback=A}return f.prototype.prepare=function(i){this.groupColumns=i.filter(function(r){return!!r.getColDef().showRowGroup})},f.prototype.extractHeaderValue=function(i){var r=this.getHeaderName(this.processHeaderCallback,i);return null!=r?r:""},f.prototype.extractRowCellValue=function(i,r,o,c,h){var A,m=this.gridOptionsWrapper.isGroupMultiAutoColumn()?h.rowGroupIndex:0;A=h&&h.group&&(r===m&&-1!==this.groupColumns.indexOf(i)||0===r&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(h):this.valueService.getValue(i,h);var x=this.processCell(o,h,i,A,this.processCellCallback,c);return null!=x?x:""},f.prototype.getHeaderName=function(i,r){return i?i({column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(r,"csv",!0)},f.prototype.createValueForGroupNode=function(i){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var r=[i.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;i.parent;)r.push((i=i.parent).key);return r.reverse().join(" -> ")},f.prototype.processCell=function(i,r,o,c,h,m){return h?h({accumulatedRowIndex:i,column:o,node:r,value:c,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:m}):null!=c?c:""},f}(),hy=function(){function f(){}return f.download=function(i,r){var o=document.defaultView||window;if(o){var c=document.createElement("a"),h=o.URL.createObjectURL(r);c.setAttribute("href",h),c.setAttribute("download",i),c.style.display="none",document.body.appendChild(c),c.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(c),o.setTimeout(function(){o.URL.revokeObjectURL(h)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},f}(),fy=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Yc=function(f){function i(r){var o=f.call(this,r)||this;o.isFirstLine=!0,o.result="";var h=r.columnSeparator;return o.suppressQuotes=r.suppressQuotes,o.columnSeparator=h,o}return fy(i,f),i.prototype.addCustomContent=function(r){var o=this;!r||("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(function(c){o.beginNewLine(),c.forEach(function(h,m){0!==m&&(o.result+=o.columnSeparator),o.result+=o.putInQuotes(h.data.value||""),h.mergeAcross&&o.appendEmptyCells(h.mergeAcross)})}))},i.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},i.prototype.onNewHeaderGroupingRowColumn=function(r,o,c){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(c)},i.prototype.appendEmptyCells=function(r){for(var o=1;o<=r;o++)this.result+=this.columnSeparator+this.putInQuotes("")},i.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},i.prototype.onNewHeaderRowColumn=function(r,o){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))},i.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},i.prototype.onNewBodyRowColumn=function(r,o,c){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(r,o,o,ge.EXPORT_TYPE_CSV,c))},i.prototype.putInQuotes=function(r){return this.suppressQuotes?r:null==r?'""':("string"==typeof r?o=r:"function"==typeof r.toString?o=r.toString():(console.warn("AG Grid: unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"');var o},i.prototype.parse=function(){return this.result},i.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},i}(dy),Tf=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),us=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h},gy=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return Tf(i,f),i.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},i.prototype.getMergedParams=function(r){var o=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},o,r)},i.prototype.export=function(r){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var o=this.getMergedParams(r),c=this.getData(o),h=new Blob(["\ufeff",c],{type:"text/plain"});return hy.download(this.getFileName(o.fileName),h),c},i.prototype.exportDataAsCsv=function(r){return this.export(r)},i.prototype.getDataAsCsv=function(r){var o=this.getMergedParams(r);return this.getData(o)},i.prototype.getDefaultFileName=function(){return"export.csv"},i.prototype.getDefaultFileExtension=function(){return"csv"},i.prototype.createSerializingSession=function(r){var o=this;return new Yc({columnModel:o.columnModel,valueService:o.valueService,gridOptionsWrapper:o.gridOptionsWrapper,processCellCallback:r.processCellCallback||void 0,processHeaderCallback:r.processHeaderCallback||void 0,processGroupHeaderCallback:r.processGroupHeaderCallback||void 0,processRowGroupCallback:r.processRowGroupCallback||void 0,suppressQuotes:r.suppressQuotes||!1,columnSeparator:r.columnSeparator||","})},i.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},us([K("columnModel")],i.prototype,"columnModel",void 0),us([K("valueService")],i.prototype,"valueService",void 0),us([K("gridSerializer")],i.prototype,"gridSerializer",void 0),us([K("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),us([je],i.prototype,"postConstruct",null),us([Xe("csvCreator")],i)}(ka),vy=function(){var f=function(i,r){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var h in c)c.hasOwnProperty(h)&&(o[h]=c[h])})(i,r)};return function(i,r){function o(){this.constructor=i}f(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ea=function(f,i,r,o){var m,c=arguments.length,h=c<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(f,i,r,o);else for(var w=f.length-1;w>=0;w--)(m=f[w])&&(h=(c<3?m(h):c>3?m(i,r,h):m(i,r))||h);return c>3&&h&&Object.defineProperty(i,r,h),h};!function(f){f[f.HEADER_GROUPING=0]="HEADER_GROUPING",f[f.HEADER=1]="HEADER",f[f.BODY=2]="BODY"}(W.RowType||(W.RowType={}));var xf=function(f){function i(){return null!==f&&f.apply(this,arguments)||this}return vy(i,f),i.prototype.serialize=function(r,o){void 0===o&&(o={});var c=this.getColumnsToExport(o.allColumns,o.columnKeys);return gt.compose(this.prepareSession(c),this.prependContent(o),this.exportColumnGroups(o,c),this.exportHeaders(o,c),this.processPinnedTopRows(o,c),this.processRows(o,c),this.processPinnedBottomRows(o,c),this.appendContent(o))(r).parse()},i.prototype.processRow=function(r,o,c,h){var m=this,w=o.shouldRowBeSkipped||function(){return!1},A=this.gridOptionsWrapper,x=A.getContext(),N=A.getApi(),k=A.getColumnApi(),q=A.isGroupRemoveSingleChildren(),te=A.isGroupHideOpenParents(),le=A.isGroupRemoveLowestSingleChildren(),de=this.columnModel.isPivotMode()?h.leafGroup:!h.group,Oe=1===h.allChildrenCount&&(q||le&&h.leafGroup);(o.skipGroups||o.skipRowGroups)&&o.skipGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Ee={rowIndex:h.rowIndex,rowPinned:h.rowPinned};if(!(!de&&(o.skipRowGroups||Oe||te)||o.onlySelected&&!h.isSelected()||o.rowNodes&&!o.rowNodes.some(function(ze){return m.rowPositionUtils.sameRow(ze,Ee)})||o.skipPinnedTop&&"top"===h.rowPinned||o.skipPinnedBottom&&"bottom"===h.rowPinned)&&(-1!==h.level||h.leafGroup)&&!w({node:h,api:N,columnApi:k,context:x})){var mt=r.onNewBodyRow();if(c.forEach(function(ze,Mt){mt.onColumn(ze,Mt,h)}),o.getCustomContentBelowRow){var ut=o.getCustomContentBelowRow({node:h,api:N,columnApi:k,context:x});ut&&r.addCustomContent(ut)}}},i.prototype.appendContent=function(r){return function(o){var c=r.customFooter||r.appendContent;return c&&(r.customFooter&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),o.addCustomContent(c)),o}},i.prototype.prependContent=function(r){return function(o){var c=r.customHeader||r.prependContent;return c&&(r.customHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),o.addCustomContent(c)),o}},i.prototype.prepareSession=function(r){return function(o){return o.prepare(r),o}},i.prototype.exportColumnGroups=function(r,o){var c=this;return function(h){if(r.skipColumnGroupHeaders)r.columnGroups&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var m=new hh,w=c.displayedGroupCreator.createDisplayedGroups(o,c.columnModel.getGridBalancedTree(),m,null);c.recursivelyAddHeaderGroups(w,h,r.processGroupHeaderCallback)}return h}},i.prototype.exportHeaders=function(r,o){return function(c){if(r.skipHeader||r.skipColumnHeaders)r.skipHeader&&gt.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var h=c.onNewHeaderRow();o.forEach(function(m,w){h.onColumn(m,w,void 0)})}return c}},i.prototype.processPinnedTopRows=function(r,o){var c=this;return function(h){var m=c.processRow.bind(c,h,r,o);return c.pinnedRowModel.forEachPinnedTopRow(m),h}},i.prototype.processRows=function(r,o){var c=this;return function(h){var m=c.rowModel,w=m.getType(),A=w===ge.ROW_MODEL_TYPE_CLIENT_SIDE,x=w===ge.ROW_MODEL_TYPE_SERVER_SIDE,N=!A&&r.onlySelected,k=c.processRow.bind(c,h,r,o);return c.columnModel.isPivotMode()?A?m.forEachPivotNode(k):m.forEachNode(k):r.onlySelectedAllPages||N?c.selectionService.getSelectedNodes().forEach(k):A||x?m.forEachNodeAfterFilterAndSort(k):m.forEachNode(k),h}},i.prototype.processPinnedBottomRows=function(r,o){var c=this;return function(h){var m=c.processRow.bind(c,h,r,o);return c.pinnedRowModel.forEachPinnedBottomRow(m),h}},i.prototype.getColumnsToExport=function(r,o){void 0===r&&(r=!1);var c=this.columnModel.isPivotMode();return o&&o.length?this.columnModel.getGridColumns(o):r&&!c?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([ge.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},i.prototype.recursivelyAddHeaderGroups=function(r,o,c){var h=[];r.forEach(function(m){!m.getChildren||m.getChildren().forEach(function(A){return h.push(A)})}),r.length>0&&r[0]instanceof nr&&this.doAddHeaderHeader(o,r,c),h&&h.length>0&&this.recursivelyAddHeaderGroups(h,o,c)},i.prototype.doAddHeaderHeader=function(r,o,c){var h=this,m=r.onNewHeaderGroupingRow(),w=0;o.forEach(function(A){var N,x=A;N=c?c({columnGroup:x,api:h.gridOptionsWrapper.getApi(),columnApi:h.gridOptionsWrapper.getColumnApi(),context:h.gridOptionsWrapper.getContext()}):h.columnModel.getDisplayNameForColumnGroup(x,"header");var k=x.getLeafColumns().reduce(function(q,te,le,de){var ye=gt.last(q);return"open"===te.getColumnGroupShow()?(!ye||null!=ye[1])&&q.push(ye=[le]):ye&&null==ye[1]&&(ye[1]=le-1),le===de.length-1&&ye&&null==ye[1]&&(ye[1]=le),q},[]);m.onColumn(N||"",w++,x.getLeafColumns().length-1,k)})},ea([K("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),ea([K("columnModel")],i.prototype,"columnModel",void 0),ea([K("rowModel")],i.prototype,"rowModel",void 0),ea([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),ea([K("selectionService")],i.prototype,"selectionService",void 0),ea([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),ea([Xe("gridSerializer")],i)}(Ge),yy={moduleName:W.ModuleNames.CsvExportModule,beans:[gy,xf]},Kw=function(){function f(){}return f.createHeader=function(i){void 0===i&&(i={});var c=["version"];return i.version||(i.version="1.0"),i.encoding&&c.push("encoding"),i.standalone&&c.push("standalone"),"<?xml "+c.map(function(m){return m+'="'+i[m]+'"'}).join(" ")+" ?>"},f.createXml=function(i,r){var o=this,c="";i.properties&&(i.properties.prefixedAttributes&&i.properties.prefixedAttributes.forEach(function(m){Object.keys(m.map).forEach(function(w){c+=o.returnAttributeIfPopulated(m.prefix+w,m.map[w],r)})}),i.properties.rawMap&&Object.keys(i.properties.rawMap).forEach(function(m){c+=o.returnAttributeIfPopulated(m,i.properties.rawMap[m],r)}));var h="<"+i.name+c;return i.children||null!=i.textNode?null!=i.textNode?h+">"+i.textNode+"</"+i.name+">\r\n":(h+=">\r\n",i.children&&i.children.forEach(function(m){h+=o.createXml(m,r)}),h+"</"+i.name+">\r\n"):h+"/>\r\n"},f.returnAttributeIfPopulated=function(i,r,o){if(!r&&""!==r&&0!==r)return"";var c=r;return"boolean"==typeof r&&o&&(c=o(r))," "+i+'="'+c+'"'},f}(),Ab=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Pb=function(){function f(){}return f.addFolders=function(i){i.forEach(this.addFolder.bind(this))},f.addFolder=function(i){this.folders.push({path:i,created:new Date,isBase64:!1})},f.addFile=function(i,r,o){void 0===o&&(o=!1),this.files.push({path:i,created:new Date,content:r,isBase64:o})},f.getContent=function(i){void 0===i&&(i="application/zip");var r=this.buildFileStream(),o=this.buildUint8Array(r);return this.clearStream(),new Blob([o],{type:i})},f.clearStream=function(){this.folders=[],this.files=[]},f.buildFileStream=function(i){var r,o;void 0===i&&(i="");var c=this.folders.concat(this.files),h=c.length,m="",w=0,A=0;try{for(var x=function(f){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&f[i],o=0;if(r)return r.call(f);if(f&&"number"==typeof f.length)return{next:function(){return f&&o>=f.length&&(f=void 0),{value:f&&f[o++],done:!f}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),N=x.next();!N.done;N=x.next()){var q=this.getHeader(N.value,w),te=q.fileHeader,le=q.folderHeader,de=q.content;w+=te.length+de.length,A+=le.length,i+=te+de,m+=le}}catch(xe){r={error:xe}}finally{try{N&&!N.done&&(o=x.return)&&o.call(x)}finally{if(r)throw r.error}}return i+m+this.buildFolderEnd(h,A,w)},f.getHeader=function(i,r){var o=i.content,c=i.path,h=i.created,m=i.isBase64,A=gt.decToHex,x=(0,gt.utf8_encode)(c),N=x!==c,k=this.convertTime(h),q=this.convertDate(h),te="";if(N){var le=A(1,1)+A(this.getFromCrc32Table(x),4)+x;te="up"+A(le.length,2)+le}var de=o?this.getConvertedContent(o,m):{size:0,content:""},ye=de.size,xe=de.content,Oe="\n\0"+(N?"\0\b":"\0\0")+"\0\0"+A(k,2)+A(q,2)+A(ye?this.getFromCrc32Table(xe):0,4)+A(ye,4)+A(ye,4)+A(x.length,2)+A(te.length,2);return{fileHeader:"PK\x03\x04"+Oe+x+te,folderHeader:"PK\x01\x02\x14\0"+Oe+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+A(r,4)+x+te,content:xe||""}},f.getConvertedContent=function(i,r){return void 0===r&&(r=!1),r&&(i=i.split(";base64,")[1]),{size:(i=r?atob(i):i).length,content:i}},f.buildFolderEnd=function(i,r,o){var c=gt.decToHex;return"PK\x05\x06\0\0\0\0"+c(i,2)+c(i,2)+c(r,4)+c(o,4)+"\0\0"},f.buildUint8Array=function(i){for(var r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);return r},f.getFromCrc32Table=function(i){if(!i.length)return 0;for(var r=i.length,o=new Uint8Array(r),c=0;c<r;c++)o[c]=i.charCodeAt(c);var h=-1;for(c=0;c<r;c++)h=h>>>8^Ab[255&(h^o[c])];return-1^h},f.convertTime=function(i){var r=i.getHours();return r<<=6,r|=i.getMinutes(),(r<<=5)|i.getSeconds()/2},f.convertDate=function(i){var r=i.getFullYear()-1980;return r<<=4,r|=i.getMonth()+1,(r<<=5)|i.getDate()},f.folders=[],f.files=[],f}();wt.register(uy,!1),wt.register(Pf,!1),wt.register(yy,!1),W.AbstractHeaderCellCtrl=ns,W.AgAbstractField=es,W.AgAngleSelect=vf,W.AgCheckbox=js,W.AgColorPicker=po,W.AgDialog=md,W.AgGroupComponent=Cd,W.AgInputNumberField=xv,W.AgInputRange=Mv,W.AgInputTextArea=df,W.AgInputTextField=pf,W.AgMenuItemComponent=bl,W.AgMenuList=hw,W.AgMenuPanel=gw,W.AgPanel=hi,W.AgPromise=ot,W.AgRadioButton=Kn,W.AgSelect=In,W.AgSlider=gf,W.AgStackComponentsRegistry=rS,W.AgToggleButton=uo,W.AlignedGridsService=ab,W.AnimateShowChangeCellRenderer=pu,W.AnimateSlideCellRenderer=Ea,W.AnimationFrameService=ZC,W.AutoScrollService=vu,W.AutoWidthCalculator=$s,W.Autowired=K,W.BaseComponentWrapper=ay,W.BaseCreator=ka,W.BaseGridSerializingSession=dy,W.Bean=Xe,W.BeanStub=Ge,W.Beans=Uh,W.BodyDropPivotTarget=pv,W.BodyDropTarget=zn,W.CellComp=Zh,W.CellCtrl=yl,W.CellNavigationService=Xs,W.CellPositionUtils=xu,W.ChangedPath=lo,W.CheckboxSelectionComponent=Np,W.ColDefUtil=En,W.Color=Qa,W.Column=Bt,W.ColumnApi=wf,W.ColumnFactory=Em,W.ColumnGroup=nr,W.ColumnKeyCreator=Sn,W.ColumnModel=Dm,W.ColumnUtils=Es,W.Component=At,W.ComponentUtil=Wt,W.Constants=ge,W.Context=vm,W.CssClassApplier=rf,W.CssClassManager=Nt,W.CsvCreator=gy,W.CsvExportModule=yy,W.CtrlsService=ny,W.CustomTooltipFeature=Dp,W.DateFilter=Fs,W.DisplayedGroupCreator=tS,W.Downloader=hy,W.DragAndDropService=jr,W.DragService=kh,W.Environment=Pd,W.EventService=la,W.Events=ne,W.ExpressionService=lb,W.FilterManager=dC,W.FloatingFilterMapper=Ls,W.FocusService=Lo,W.Grid=Ob,W.GridApi=NC,W.GridBodyComp=nd,W.GridBodyCtrl=_c,W.GridComp=Au,W.GridCoreCreator=Vo,W.GridCtrl=Yn,W.GridHeaderComp=Ev,W.GridHeaderCtrl=Tc,W.GridOptionsWrapper=Ye,W.GridSerializer=xf,W.GroupCellRenderer=vc,W.GroupCellRendererCtrl=to,W.GroupInstanceIdCreator=hh,W.HeaderCellCtrl=ad,W.HeaderFilterCellComp=hC,W.HeaderFilterCellCtrl=Ac,W.HeaderGroupCellCtrl=BC,W.HeaderNavigationService=Mo,W.HeaderPositionUtils=ty,W.HeaderRowComp=gv,W.HeaderRowContainerComp=ld,W.HeaderRowContainerCtrl=zC,W.HeaderRowCtrl=bu,W.HorizontalResizeService=Ov,W.KeyCode=Ie,W.LargeTextCellEditor=Ng,W.Logger=Ol,W.LoggerFactory=Lc,W.ManagedFocusFeature=Jo,W.ModuleRegistry=wt,W.MouseEventService=PC,W.MoveColumnFeature=Li,W.NavigationService=YS,W.NumberFilter=Sa,W.NumberSequence=va,W.Optional=$t,W.PaginationProxy=rw,W.PinnedRowModel=lf,W.PopupComponent=hl,W.PopupEditorWrapper=qS,W.PopupSelectCellEditor=cu,W.PopupService=Gv,W.PopupTextCellEditor=Fr,W.PositionableFeature=dd,W.PostConstruct=je,W.PreConstruct=lg,W.PreDestroy=An,W.PropertyKeys=ca,W.ProvidedColumnGroup=Ar,W.ProvidedFilter=ou,W.Qualifier=Rr,W.QuerySelector=function gn(f){return nc.bind(this,f,void 0)},W.RefSelector=Ne,W.ResizeObserverService=Fo,W.RowContainerComp=Jh,W.RowContainerCtrl=wu,W.RowCtrl=Oa,W.RowNode=bt,W.RowNodeBlock=hd,W.RowNodeBlockLoader=fd,W.RowNodeSorter=ry,W.RowPositionUtils=Qs,W.RowRenderer=JC,W.ScalarFilter=Wr,W.ScrollVisibleService=Sc,W.SelectCellEditor=Nh,W.SelectableService=as,W.SelectionService=Du,W.SetLeftFeature=od,W.SimpleFilter=Hr,W.SortController=Dw,W.StandardMenuFactory=ud,W.StylingService=Io,W.TabGuardComp=_d,W.TabGuardCtrl=uw,W.TabbedLayout=Dv,W.TemplateService=bw,W.TextCellEditor=pc,W.TextFilter=Mp,W.TextFloatingFilter=Fg,W.Timer=Eo,W.TouchListener=eo,W.UserComponentFactory=st,W.UserComponentRegistry=Bp,W.ValueCache=kc,W.ValueFormatterService=xc,W.ValueService=Nc,W.VanillaFrameworkOverrides=kv,W.VirtualList=sb,W.XmlFactory=Kw,W.ZipContainer=Pb,W._=gt,W.defaultGroupComparator=function Bw(f,i,r,o,c){void 0===c&&(c=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var h=re(r)&&r.group,m=re(o)&&o.group,A=!h&&!m;return h&&m?Uu(r.key,o.key,c):A?Uu(f,i,c):h?1:-1},W.getRowContainerTypeForName=Cu,W.simpleHttpRequest=function vn(f){return new ot(function(i){var r=new XMLHttpRequest;r.open("GET",f.url),r.send(),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&i(JSON.parse(r.responseText))}})},W.stringToArray=xm},497:($_,W,ys)=>{var u,b=ys(564),ti=(u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)},function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},$o=function(u){function t(){var n=null!==u&&u.apply(this,arguments)||this;return n.watermarkMessage=void 0,n}var e;return ti(t,u),e=t,t.prototype.validateLicense=function(){if(b._.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var n=e.extractLicenseComponents(e.licenseKey),l=n.license,g=n.version,y=n.isTrial;n.md5===this.md5.md5(l)?b._.exists(g)&&g?this.validateLicenseKeyForVersion(g,!!y,l):this.validateLegacyKey(l):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(n){var s=n.substring(n.lastIndexOf("_")+1,n.length);return new Date(parseInt(e.decode(s),10))},t.extractLicenseComponents=function(n){var s=n.replace(/[\u200B-\u200D\uFEFF]/g,""),l=(s=s.replace(/\r?\n|\r/g,"")).length-32,g=s.substring(l),y=s.substring(0,l),S=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(e.extractBracketedInformation(s),2);return{md5:g,license:y,version:S[0],isTrial:S[1]}},t.prototype.getLicenseDetails=function(n){var s=e.extractLicenseComponents(n),g=s.license,y=s.version,S=s.isTrial,E=s.md5===this.md5.md5(g),D=null;return E&&(D=e.extractExpiry(g),E=!isNaN(D.getTime())),{licenseKey:n,valid:E,expiry:E?e.formatDate(D):null,version:y||"legacy",isTrial:S}},t.prototype.isDisplayWatermark=function(){return!b._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(n){var l=n.getDate(),g=n.getMonth(),y=n.getFullYear();return l+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][g]+" "+y},t.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},t.decode=function(n){for(var y,S,E,D,T,P,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",F=0,I=n.replace(/[^A-Za-z0-9+/=]/g,"");F<I.length;)E=s.indexOf(I.charAt(F++)),y=(15&(D=s.indexOf(I.charAt(F++))))<<4|(T=s.indexOf(I.charAt(F++)))>>2,S=(3&T)<<6|(P=s.indexOf(I.charAt(F++))),l+=String.fromCharCode(E<<2|D>>4),64!=T&&(l+=String.fromCharCode(y)),64!=P&&(l+=String.fromCharCode(S));return e.utf8_decode(l)},t.utf8_decode=function(n){n=n.replace(/rn/g,"n");for(var s="",l=0;l<n.length;l++){var g=n.charCodeAt(l);g<128?s+=String.fromCharCode(g):g>127&&g<2048?(s+=String.fromCharCode(g>>6|192),s+=String.fromCharCode(63&g|128)):(s+=String.fromCharCode(g>>12|224),s+=String.fromCharCode(g>>6&63|128),s+=String.fromCharCode(63&g|128))}return s},t.setLicenseKey=function(n){e.licenseKey=n},t.extractBracketedInformation=function(n){var s=n.split("[").filter(function(y){return y.indexOf("]")>-1}).map(function(y){return y.split("]")[0]});if(!s||0===s.length)return[null,null];var l=1===s.filter(function(y){return"TRIAL"===y}).length;return[s.filter(function(y){return 0===y.indexOf("v")}).map(function(y){return y.replace(/^v/,"")})[0],l]},t.prototype.validateLicenseKeyForVersion=function(n,s,l){"2"===n&&(s?this.validateForTrial(l):this.validateLegacyKey(l))},t.prototype.validateLegacyKey=function(n){var s=e.getGridReleaseDate(),l=e.extractExpiry(n),g=!1,y=!1;if(isNaN(l.getTime())||(g=!0,y=s<l),g){if(!y){var S=e.formatDate(l),E=e.formatDate(s);this.outputIncompatibleVersion(S,E)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(n){var s=e.extractExpiry(n),l=new Date,g=!1,y=!1;if(isNaN(s.getTime())||(g=!0,y=s>l),g){if(!y){var S=e.formatDate(s);this.outputExpiredTrialKey(S)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(n){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+n+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(n,s){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+n+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+s+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY1MDQ0NTEwMTg0NQ==",jl([b.Autowired("md5")],t.prototype,"md5",void 0),jl([b.PreConstruct],t.prototype,"validateLicense",null),e=jl([b.Bean("licenseManager")],t)}(b.BeanStub),lm=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ig=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ul=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return lm(t,u),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,n){var s=e[0],l=e[1],g=e[2],y=e[3];s=this.ff(s,l,g,y,n[0],7,-680876936),y=this.ff(y,s,l,g,n[1],12,-389564586),g=this.ff(g,y,s,l,n[2],17,606105819),l=this.ff(l,g,y,s,n[3],22,-1044525330),s=this.ff(s,l,g,y,n[4],7,-176418897),y=this.ff(y,s,l,g,n[5],12,1200080426),g=this.ff(g,y,s,l,n[6],17,-1473231341),l=this.ff(l,g,y,s,n[7],22,-45705983),s=this.ff(s,l,g,y,n[8],7,1770035416),y=this.ff(y,s,l,g,n[9],12,-1958414417),g=this.ff(g,y,s,l,n[10],17,-42063),l=this.ff(l,g,y,s,n[11],22,-1990404162),s=this.ff(s,l,g,y,n[12],7,1804603682),y=this.ff(y,s,l,g,n[13],12,-40341101),g=this.ff(g,y,s,l,n[14],17,-1502002290),l=this.ff(l,g,y,s,n[15],22,1236535329),s=this.gg(s,l,g,y,n[1],5,-165796510),y=this.gg(y,s,l,g,n[6],9,-1069501632),g=this.gg(g,y,s,l,n[11],14,643717713),l=this.gg(l,g,y,s,n[0],20,-373897302),s=this.gg(s,l,g,y,n[5],5,-701558691),y=this.gg(y,s,l,g,n[10],9,38016083),g=this.gg(g,y,s,l,n[15],14,-660478335),l=this.gg(l,g,y,s,n[4],20,-405537848),s=this.gg(s,l,g,y,n[9],5,568446438),y=this.gg(y,s,l,g,n[14],9,-1019803690),g=this.gg(g,y,s,l,n[3],14,-187363961),l=this.gg(l,g,y,s,n[8],20,1163531501),s=this.gg(s,l,g,y,n[13],5,-1444681467),y=this.gg(y,s,l,g,n[2],9,-51403784),g=this.gg(g,y,s,l,n[7],14,1735328473),l=this.gg(l,g,y,s,n[12],20,-1926607734),s=this.hh(s,l,g,y,n[5],4,-378558),y=this.hh(y,s,l,g,n[8],11,-2022574463),g=this.hh(g,y,s,l,n[11],16,1839030562),l=this.hh(l,g,y,s,n[14],23,-35309556),s=this.hh(s,l,g,y,n[1],4,-1530992060),y=this.hh(y,s,l,g,n[4],11,1272893353),g=this.hh(g,y,s,l,n[7],16,-155497632),l=this.hh(l,g,y,s,n[10],23,-1094730640),s=this.hh(s,l,g,y,n[13],4,681279174),y=this.hh(y,s,l,g,n[0],11,-358537222),g=this.hh(g,y,s,l,n[3],16,-722521979),l=this.hh(l,g,y,s,n[6],23,76029189),s=this.hh(s,l,g,y,n[9],4,-640364487),y=this.hh(y,s,l,g,n[12],11,-421815835),g=this.hh(g,y,s,l,n[15],16,530742520),l=this.hh(l,g,y,s,n[2],23,-995338651),s=this.ii(s,l,g,y,n[0],6,-198630844),y=this.ii(y,s,l,g,n[7],10,1126891415),g=this.ii(g,y,s,l,n[14],15,-1416354905),l=this.ii(l,g,y,s,n[5],21,-57434055),s=this.ii(s,l,g,y,n[12],6,1700485571),y=this.ii(y,s,l,g,n[3],10,-1894986606),g=this.ii(g,y,s,l,n[10],15,-1051523),l=this.ii(l,g,y,s,n[1],21,-2054922799),s=this.ii(s,l,g,y,n[8],6,1873313359),y=this.ii(y,s,l,g,n[15],10,-30611744),g=this.ii(g,y,s,l,n[6],15,-1560198380),l=this.ii(l,g,y,s,n[13],21,1309151649),s=this.ii(s,l,g,y,n[4],6,-145523070),y=this.ii(y,s,l,g,n[11],10,-1120210379),g=this.ii(g,y,s,l,n[2],15,718787259),l=this.ii(l,g,y,s,n[9],21,-343485551),e[0]=this.add32(s,e[0]),e[1]=this.add32(l,e[1]),e[2]=this.add32(g,e[2]),e[3]=this.add32(y,e[3])},t.prototype.cmn=function(e,n,s,l,g,y){return n=this.add32(this.add32(n,e),this.add32(l,y)),this.add32(n<<g|n>>>32-g,s)},t.prototype.ff=function(e,n,s,l,g,y,S){return this.cmn(n&s|~n&l,e,n,g,y,S)},t.prototype.gg=function(e,n,s,l,g,y,S){return this.cmn(n&l|s&~l,e,n,g,y,S)},t.prototype.hh=function(e,n,s,l,g,y,S){return this.cmn(n^s^l,e,n,g,y,S)},t.prototype.ii=function(e,n,s,l,g,y,S){return this.cmn(s^(n|~l),e,n,g,y,S)},t.prototype.md51=function(e){var l,n=e.length,s=[1732584193,-271733879,-1732584194,271733878];for(l=64;l<=e.length;l+=64)this.md5cycle(s,this.md5blk(e.substring(l-64,l)));e=e.substring(l-64);var g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(l=0;l<e.length;l++)g[l>>2]|=e.charCodeAt(l)<<(l%4<<3);if(g[l>>2]|=128<<(l%4<<3),l>55)for(this.md5cycle(s,g),l=0;l<16;l++)g[l]=0;return g[14]=8*n,this.md5cycle(s,g),s},t.prototype.md5blk=function(e){for(var n=[],s=0;s<64;s+=4)n[s>>2]=e.charCodeAt(s)+(e.charCodeAt(s+1)<<8)+(e.charCodeAt(s+2)<<16)+(e.charCodeAt(s+3)<<24);return n},t.prototype.rhex=function(e){for(var n="0123456789abcdef".split(""),s="",l=0;l<4;l++)s+=n[e>>8*l+4&15]+n[e>>8*l&15];return s},t.prototype.hex=function(e){for(var n=0;n<e.length;n++)e[n]=this.rhex(e[n]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,n){return this.ieCompatibility?this.add32Compat(e,n):this.add32Std(e,n)},t.prototype.add32Std=function(e,n){return e+n&4294967295},t.prototype.add32Compat=function(e,n){var s=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(s>>16)<<16|65535&s},ig([b.PostConstruct],t.prototype,"init",null),ig([b.Bean("md5")],t)}(b.BeanStub),Uu=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ms=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},um=function(u){function t(){return u.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return Uu(t,u),t.prototype.postConstruct=function(){var e=this,n=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!n),n&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var s=(this.gridOptionsWrapper.getDocument().defaultView||window).location,l=s.hostname,g=void 0===l?"":l,y=s.pathname,S=this.licenseManager.isDisplayWatermark(),E=null!=g.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!y&&-1!==y.indexOf("forceWatermark")||S&&!E},ms([b.Autowired("licenseManager")],t.prototype,"licenseManager",void 0),ms([b.RefSelector("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),ms([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Sn={moduleName:b.ModuleNames.EnterpriseCoreModule,beans:[$o,Ul],agStackComponents:[{componentName:"AgWatermark",componentClass:um}]},Jt=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ui=(()=>(function(u){u[u.EXPANDED=0]="EXPANDED",u[u.COLLAPSED=1]="COLLAPSED",u[u.INDETERMINATE=2]="INDETERMINATE"}(Ui||(Ui={})),Ui))(),Cs=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return Jt(t,u),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(s){s.key===b.KeyCode.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(n("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(n("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=b._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=b._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=b._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(Ui.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,n=!this.params.suppressColumnSelectAll,s=!this.params.suppressColumnExpandAll,l=this.columnModel.isPrimaryColumnGroupsPresent(),g=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(g("searchOoo","Search...")),b._.setDisplayed(this.eFilterTextField.getGui(),e),b._.setDisplayed(this.eSelect.getGui(),n),b._.setDisplayed(this.eExpand,s&&l)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=b._.debounce(function(){var n=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:n})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var n=this;e.key===b.KeyCode.ENTER&&setTimeout(function(){return n.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Ui.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,b._.setDisplayed(this.eExpandChecked,this.expandState===Ui.EXPANDED),b._.setDisplayed(this.eExpandUnchecked,this.expandState===Ui.COLLAPSED),b._.setDisplayed(this.eExpandIndeterminate,this.expandState===Ui.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',zl([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),zl([b.RefSelector("eExpand")],t.prototype,"eExpand",void 0),zl([b.RefSelector("eSelect")],t.prototype,"eSelect",void 0),zl([b.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),zl([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),oa=function(){function u(t,e,n,s,l){void 0===s&&(s=!1),this.eventService=new b.EventService,this.displayName=t,this.dept=n,this.group=s,s?(this.columnGroup=e,this.expanded=l,this.children=[]):this.column=e}return u.prototype.isGroup=function(){return this.group},u.prototype.getDisplayName=function(){return this.displayName},u.prototype.getColumnGroup=function(){return this.columnGroup},u.prototype.getColumn=function(){return this.column},u.prototype.getDept=function(){return this.dept},u.prototype.isExpanded=function(){return!!this.expanded},u.prototype.getChildren=function(){return this.children},u.prototype.isPassesFilter=function(){return this.passesFilter},u.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:u.EVENT_EXPANDED_CHANGED}))},u.prototype.setPassesFilter=function(t){this.passesFilter=t},u.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},u.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},u.EVENT_EXPANDED_CHANGED="expandedChanged",u}(),cm=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zu=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},pm=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Wn=function(u){function t(e,n,s){var l=u.call(this,'<div class="ag-menu"></div>')||this;return l.column=e,l.mouseEvent=n,l.parentEl=s,l.displayName=null,l}return cm(t,u),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof b.Column?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof b.ProvidedColumnGroup?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(n){return n.isPrimary()&&n.isAllowRowGroup()}),this.allowValues=this.columns.some(function(n){return n.isPrimary()&&n.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(n){return n.isPrimary()&&n.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,n=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(s){return s.isPrimary()&&s.isAllowRowGroup()},activeFunction:function(s){return s.isRowGroupActive()},activateLabel:function(){return n("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return n("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var s=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(s),"toolPanelUi")},deActivateFunction:function(){var s=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(s),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(s){return s.isPrimary()&&s.isAllowValue()},activeFunction:function(s){return s.isValueActive()},activateLabel:function(){return n("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return n("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var s=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(s),"toolPanelUi")},deActivateFunction:function(){var s=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(s),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(s){return e.columnModel.isPivotMode()&&s.isPrimary()&&s.isAllowPivot()},activeFunction:function(s){return s.isPivotActive()},activateLabel:function(){return n("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return n("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var s=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(s),"toolPanelUi")},deActivateFunction:function(){var s=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(s),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(pm(arguments[t]));return u}(e).concat(this.columns.filter(function(n){return-1===e.indexOf(n)}))},t.prototype.removeColumnsFromList=function(e){var n=this;return e.filter(function(s){return-1===n.columns.indexOf(s)})},t.prototype.displayContextMenu=function(){var e=this,n=this.getGui(),s=this.createBean(new b.AgMenuList),l=this.getMappedMenuItems(),g=function(){};n.appendChild(s.getGui()),s.addMenuItems(l),s.addManagedListener(s,b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),g()});var y=this.popupService.addPopup({modal:!0,eChild:n,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(s.getGui())},ariaLabel:"Foo",closedCallback:function(S){S instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(s)}});y&&(g=y.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:n})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,n,s=[],l=function(D){var T=g.columns.some(function(F){return D.allowedFunction(F)&&!D.activeFunction(F)}),P=g.columns.some(function(F){return D.allowedFunction(F)&&D.activeFunction(F)});T&&s.push({name:D.activateLabel(g.displayName),icon:b._.createIconNoSpan(D.addIcon,g.gridOptionsWrapper,null),action:function(){return D.activateFunction()}}),P&&s.push({name:D.deactivateLabel(g.displayName),icon:b._.createIconNoSpan(D.removeIcon,g.gridOptionsWrapper,null),action:function(){return D.deActivateFunction()}})},g=this;try{for(var y=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),S=y.next();!S.done;S=y.next())l(S.value)}catch(D){e={error:D}}finally{try{S&&!S.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return s},zu([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),zu([b.Autowired("popupService")],t.prototype,"popupService",void 0),zu([b.Autowired("focusService")],t.prototype,"focusService",void 0),zu([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),ih=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sa=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},oh=function(u){function t(e,n,s,l){var g=u.call(this)||this;return g.modelItem=e,g.allowDragging=n,g.eventType=s,g.focusWrapper=l,g.processingColumnStateChange=!1,g.modelItem=e,g.columnGroup=e.getColumnGroup(),g.columnDept=e.getDept(),g.allowDragging=n,g}return ih(t,u),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var n=this.cbSelect.getGui(),s=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),s.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),b._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,b.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,oa.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),b.CssClassApplier.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(g){return e.addOrRemoveCssClass(g,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,n=this.columnGroup.getColGroupDef();if(n){var s=function(){e.setTooltip(n.headerTooltip)};s(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,s)}},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case b.KeyCode.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case b.KeyCode.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case b.KeyCode.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var n=this,l=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var y=this.createBean(new Wn(l,e,this.focusWrapper));this.addDestroyFunc(function(){y.isAlive()&&n.destroyBean(y)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(n){e.addManagedListener(n,b.Column.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,b.Column.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,b.Column.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,b.Column.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var n={type:b.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})}else b._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(n){e[n.getId()]=n.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(b._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(b._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new b.TouchListener(this.eColumnGroupIcons,!0);this.addManagedListener(e,b.TouchListener.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],n=function(s){s.forEach(function(l){!l.isPassesFilter()||(l.isGroup()?n(l.getChildren()):e.push(l.getColumn()))})};return n(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("ariaColumnGroup","Column Group"),s=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),l=e("ariaToggleVisibility","Press SPACE to toggle visibility");b._.setAriaLabel(this.focusWrapper,this.displayName+" "+n),this.cbSelect.setInputAriaLabel(l+" ("+s+")"),b._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),n=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(n),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",n),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,n=this.columnModel.isPivotMode(),s=this.getVisibleLeafColumns(),l=0,g=0;if(s.forEach(function(y){!n&&y.getColDef().lockVisible||(e.isColumnChecked(y,n)?l++:g++)}),!(l>0&&g>0))return l>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),n=0;return this.columnGroup.getLeafColumns().forEach(function(s){e?s.isAnyFunctionAllowed()&&n++:s.getColDef().lockVisible||n++}),0===n},t.prototype.isColumnChecked=function(e,n){if(n){var s=e.isPivotActive(),l=e.isRowGroupActive(),g=e.isValueActive();return s||l||g}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();b._.setDisplayed(this.eGroupClosedIcon,!e),b._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){b._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var n=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!n||!e&&n)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',sa([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),sa([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),sa([b.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),sa([b.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),sa([b.RefSelector("eLabel")],t.prototype,"eLabel",void 0),sa([b.RefSelector("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),sa([b.RefSelector("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),sa([b.RefSelector("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),sa([b.PostConstruct],t.prototype,"init",null),t}(b.Component),dm=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qa=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ws="ag-list-item-hovered",hp=function(u){function t(e,n){var s=u.call(this)||this;return s.comp=e,s.virtualList=n,s.currentDragColumn=null,s.lastHoveredColumnItem=null,s}return dm(t,u),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(g){var y=g.getColDef();return!!y.suppressMovable||!!y.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(s){return s===b.DragSourceType.ToolPanel},getIconName:function(){return b.DragAndDropService[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(s){return e.onDragging(s)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new b.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var n=this.getDragColumnItem(e),s=this.virtualList.getComponentAt(n.rowIndex);if(s){var l=s.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===n.rowIndex&&this.lastHoveredColumnItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=n,b._.radioCssClass(l,""+ws),b._.radioCssClass(l,"ag-item-highlight-"+n.position))}}},t.prototype.getDragColumnItem=function(e){var n=this.virtualList.getGui(),s=parseFloat(window.getComputedStyle(n).paddingTop),l=this.virtualList.getRowHeight(),g=this.virtualList.getScrollTop(),y=Math.max(0,(e.y-s+g)/l),S=this.comp.getDisplayedColsList().length-1,E=0|Math.min(S,y);return{rowIndex:E,position:Math.round(y)>y||y>S?"bottom":"top",component:this.virtualList.getComponentAt(E)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),n=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(n,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var n=this.columnModel.getAllGridColumns(),s=this.getCurrentColumns(),g=s.length;return n.indexOf(s[0])<e?g:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof b.ProvidedColumnGroup?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var s,e=this.lastHoveredColumnItem.component,n="top"===this.lastHoveredColumnItem.position;e instanceof oh?(s=e.getColumns()[0],n=!0):s=e.getColumn();var g=this.columnModel.getAllGridColumns().indexOf(s),y=n?g:g+1;return y-this.getMoveDiff(y)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+ws).forEach(function(n){[ws,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(s){n.classList.remove(s)})}),this.lastHoveredColumnItem=null},qa([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),qa([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),qa([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.BeanStub),hm=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vr=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},fm=function(u){function t(e,n,s,l,g){var y=u.call(this)||this;return y.column=e,y.columnDept=n,y.allowDragging=s,y.groupsExist=l,y.focusWrapper=g,y.processingColumnStateChange=!1,y}return hm(t,u),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var n=this.cbSelect.getGui(),s=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),s.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var l=b._.escapeString(this.displayName);this.eLabel.innerHTML=l;var g=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+g),this.setupDragging(),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,b.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),b.CssClassApplier.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(S){return e.addOrRemoveCssClass(S,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,n=function(){var s=e.column.getColDef().headerTooltip;e.setTooltip(s)};n(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,n)},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var n=this,l=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var y=this.createBean(new Wn(l,e,this.focusWrapper));this.addDestroyFunc(function(){y.isAlive()&&n.destroyBean(y)})}},t.prototype.handleKeyDown=function(e){e.key===b.KeyCode.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("ariaColumn","Column"),s=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),l=e("ariaToggleVisibility","Press SPACE to toggle visibility");b._.setAriaLabel(this.focusWrapper,this.displayName+" "+n),this.cbSelect.setInputAriaLabel(l+" ("+s+")"),b._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var n={type:b.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})}else b._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());var s=!0,l=!0;if(e){var g=this.gridOptionsWrapper.isFunctionsReadOnly(),y=!this.column.isAnyFunctionAllowed();l=s=!g&&!y}else{var S=this.column.getColDef();s=!S.lockVisible,l=!!S.enableRowGroup||!!S.enableValue||!(S.lockPosition||S.suppressMovable)}this.cbSelect.setReadOnly(!s),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!l),this.addOrRemoveCssClass("ag-column-select-column-readonly",!l&&!s);var j=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(j),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',vr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),vr([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),vr([b.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),vr([b.RefSelector("eLabel")],t.prototype,"eLabel",void 0),vr([b.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),vr([b.PostConstruct],t.prototype,"init",null),t}(b.Component),gm=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zt=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},sh=function(){function u(t){this.items=t}return u.prototype.getRowCount=function(){return this.items.length},u.prototype.getRow=function(t){return this.items[t]},u}(),ah=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return gm(t,u),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,n,s){var l=this;this.params=e,this.allowDragging=n,this.eventType=s,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[b.Events.EVENT_COLUMN_PIVOT_CHANGED,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,b.Events.EVENT_COLUMN_VALUE_CHANGED,b.Events.EVENT_COLUMN_VISIBLE,b.Events.EVENT_NEW_COLUMNS_LOADED].forEach(function(E){l.addManagedListener(l.eventService,E,l.fireSelectionChangedEvent.bind(l))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var S=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new b.VirtualList("column-select","tree",S)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(E,D){return b._.setAriaLevel(D,E.getDept()+1),l.createComponentFromItem(E,D)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new hp(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,n){if(e.isGroup()){var s=new oh(e,this.allowDragging,this.eventType,n);return this.getContext().createBean(s),s}var l=new fm(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,n);return this.getContext().createBean(l),l},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),n=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||n?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(n){if(n.isGroup()){var s=n.getColumnGroup();s&&(e[s.getId()]=n.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(n){if(n.isGroup()){var s=n.getColumnGroup();if(s){var l=e[s.getId()];null!=l&&n.setExpanded(l)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var n=this.colDefService.createColumnTree(e);this.buildListModel(n),this.groupsExist=e.some(function(s){return s&&void 0!==s.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var n=this,s=this.onColumnExpanded.bind(this),g=function(E,D,T){E.forEach(function(P){P instanceof b.ProvidedColumnGroup?y(P,D,T):S(P,D,T)})},y=function(E,D,T){var P=E.getColGroupDef();if(!P||!P.suppressColumnsToolPanel){if(E.isPadding())return void g(E.getChildren(),D,T);var I=n.columnModel.getDisplayNameForProvidedColumnGroup(null,E,n.eventType),G=new oa(I,E,D,!0,n.expandGroupsByDefault);T.push(G),function(E){E.addEventListener(oa.EVENT_EXPANDED_CHANGED,s);var D=E.removeEventListener.bind(E,oa.EVENT_EXPANDED_CHANGED,s);n.destroyColumnItemFuncs.push(D)}(G),g(E.getChildren(),D+1,G.getChildren())}},S=function(E,D,T){if(!E.getColDef()||!E.getColDef().suppressColumnsToolPanel){var F=n.columnModel.getDisplayNameForColumn(E,"columnToolPanel");T.push(new oa(F,E,D))}};this.destroyColumnTree(),g(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var n=function(l){!l.isPassesFilter()||(e.displayedColsList.push(l),l.isGroup()&&l.isExpanded()&&l.getChildren().forEach(n))};this.allColsTree.forEach(n),this.virtualList.setModel(new sh(this.displayedColsList));var s=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=s&&this.focusRowIfAlive(s),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var n=this;window.setTimeout(function(){n.isAlive()&&n.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var n=function(s){s.forEach(function(l){e(l),l.isGroup()&&n(l.getChildren())})};n(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(n){n.isGroup()&&n.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,n){if(n){var s=[];this.forEachItem(function(g){if(g.isGroup()){var y=g.getColumnGroup().getId();n.indexOf(y)>=0&&(g.setExpanded(e),s.push(y))}});var l=n.filter(function(g){return!b._.includes(s,g)});l.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",l)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,n=0;return this.forEachItem(function(s){!s.isGroup()||(s.isExpanded()?e++:n++)}),e>0&&n>0?Ui.INDETERMINATE:n>0?Ui.COLLAPSED:Ui.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,n=0,s=this.columnModel.isPivotMode();if(this.forEachItem(function(l){if(!l.isGroup()&&l.isPassesFilter()){var S,g=l.getColumn(),y=g.getColDef();if(s){if(!g.isAllowPivot()&&!g.isAllowRowGroup()&&!g.isAllowValue())return;S=g.isValueActive()||g.isPivotActive()||g.isRowGroupActive()}else{if(y.lockVisible)return;S=g.isVisible()}S?e++:n++}}),!(e>0&&n>0))return!(0===e||n>0)},t.prototype.setFilterText=function(e){this.filterText=b._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,n=function(l){if(!b._.exists(e.filterText))return!0;var g=l.getDisplayName();return null==g||-1!==g.toLowerCase().indexOf(e.filterText)},s=function(l,g){var y=!1;if(l.isGroup()){var S=n(l);l.getChildren().forEach(function(D){var T=s(D,S||g);T&&(y=T)})}var E=!(!g&&!y)||n(l);return l.setPassesFilter(E),E};this.allColsTree.forEach(function(l){return s(l,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',zt([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),zt([b.Autowired("toolPanelColDefService")],t.prototype,"colDefService",void 0),zt([b.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),zt([b.PreDestroy],t.prototype,"destroyColumnTree",null),t}(b.Component),og=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$r=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Kr=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return og(t,u),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,b.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var n=this.gridOptionsWrapper.getApi();n&&n.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},$r([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),$r([b.RefSelector("cbPivotMode")],t.prototype,"cbPivotMode",void 0),$r([b.PreConstruct],t.prototype,"init",null),t}(b.Component),sg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gt=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},_s=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return sg(t,u),t.prototype.execute=function(e){var n=b._.missingOrEmpty(this.columnModel.getValueColumns()),s=!this.gridOptionsWrapper.getGroupRowAggFunc(),l=e.changedPath&&e.changedPath.isActive();if(!(n&&s&&l)){var g=this.createAggDetails(e);this.recursivelyCreateAggData(g)}},t.prototype.createAggDetails=function(e){var n=this.columnModel.isPivotActive(),s=this.columnModel.getValueColumns(),l=n?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:s,pivotColumns:l}},t.prototype.recursivelyCreateAggData=function(e){var n=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(l){if(l.hasChildren()){if(-1===l.level){var S=!n.columnModel.isPivotMode();if(n.gridOptionsWrapper.isSuppressAggAtRootLevel()&&S)return}n.aggregateRowNode(l,e)}else l.aggData&&l.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,n){var y,s=0===n.valueColumns.length,l=0===n.pivotColumns.length,g=this.gridOptionsWrapper.getGroupRowAggFunc();y=g?g({nodes:e.childrenAfterFilter}):s?null:l?this.aggregateRowNodeUsingValuesOnly(e,n):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(y),e.sibling&&e.sibling.setAggData(y)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var n=this,s={},l=this.pivotStage.getPivotColumnDefs();return l.filter(function(g){return!b._.exists(g.pivotTotalColumnIds)}).forEach(function(g){var S,E=g.pivotValueColumn,D=g.colId;S=e.leafGroup?n.getValuesFromMappedSet(e.childrenMapped,g.pivotKeys||[],E):n.getValuesPivotNonLeaf(e,D),s[D]=n.aggregateValues(S,E.getAggFunc(),E,e)}),l.filter(function(g){return b._.exists(g.pivotTotalColumnIds)}).forEach(function(g){var y=[],S=g.pivotValueColumn,E=g.pivotTotalColumnIds,D=g.colId;!E||!E.length||(E.forEach(function(T){y.push(s[T])}),s[D]=n.aggregateValues(y,S.getAggFunc(),S,e))}),s},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,n){var s=this,l={},g=n.changedPath.isActive()?n.changedPath.getValueColumnsForNode(e,n.valueColumns):n.valueColumns,y=n.changedPath.isActive()?n.changedPath.getNotValueColumnsForNode(e,n.valueColumns):null,S=this.getValuesNormal(e,g),E=e.aggData;return g.forEach(function(D,T){l[D.getId()]=s.aggregateValues(S[T],D.getAggFunc(),D,e)}),y&&E&&y.forEach(function(D){l[D.getId()]=E[D.getId()]}),l},t.prototype.getValuesPivotNonLeaf=function(e,n){var s=[];return e.childrenAfterFilter.forEach(function(l){s.push(l.aggData[n])}),s},t.prototype.getValuesFromMappedSet=function(e,n,s){var l=this,g=e;if(n.forEach(function(S){return g=g?g[S]:null}),!g)return[];var y=[];return g.forEach(function(S){var E=l.valueService.getValue(s,S);y.push(E)}),y},t.prototype.getValuesNormal=function(e,n){var s=[];n.forEach(function(){return s.push([])});for(var l=n.length,g=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,y=g.length,S=0;S<y;S++)for(var E=g[S],D=0;D<l;D++){var P=this.valueService.getValue(n[D],E);s[D].push(P)}return s},t.prototype.aggregateValues=function(e,n,s,l){var g="string"==typeof n?this.aggFuncService.getAggFunc(n):n;if("function"!=typeof g)return console.error("AG Grid: unrecognised aggregation function "+n),null;var y=function(){b._.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return g({values:e,column:s,colDef:s?s.getColDef():void 0,rowNode:l,data:l?l.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(D,T){return y(),e.forEach(D,T)},get length(){return y(),e.length},set length(D){y(),e.length=D}})},Gt([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Gt([b.Autowired("valueService")],t.prototype,"valueService",void 0),Gt([b.Autowired("pivotStage")],t.prototype,"pivotStage",void 0),Gt([b.Autowired("aggFuncService")],t.prototype,"aggFuncService",void 0),Gt([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Gt([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Gt([b.Bean("aggregationStage")],t)}(b.BeanStub),lh=function(){function u(){this.allSets={},this.allParents=[]}return u.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},u.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},u.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},u.prototype.getAllParents=function(){return this.allParents},u.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(s){return!n.removeFromChildrenAfterGroup[s.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(s){return!n.removeFromAllLeafChildren[s.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},u}(),ag=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$u=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},K_=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.groupIdSequence=new b.NumberSequence,e}return ag(t,u),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var n=this.createGroupingDetails(e);n.transactions?this.handleTransaction(n):this.shotgunResetEverything(n,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(n.rootNode),this.selectableService.updateSelectableAfterGrouping(n.rootNode)},t.prototype.createGroupingDetails=function(e){var n=e.rowNode,s=e.changedPath,l=e.rowNodeTransactions,g=e.rowNodeOrder,y=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:y,rootNode:n,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!y?0:y.length,rowNodeOrder:g,transactions:l,changedPath:s}},t.prototype.handleTransaction=function(e){var n=this;e.transactions.forEach(function(s){var l=n.usingTreeData?void 0:new lh;if(b._.existsAndNotEmpty(s.remove)&&n.removeNodes(s.remove,e,l),b._.existsAndNotEmpty(s.update)&&n.moveNodesInWrongPath(s.update,e,l),b._.existsAndNotEmpty(s.add)&&n.insertNodes(s.add,e,!1),l){var g=l.getAllParents().slice();l.flush(),n.removeEmptyGroups(g,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(n){b._.sortRowNodesByOrder(n.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var n=this.gridOptionsWrapper.getInitialGroupOrderComparator();b._.exists(n)&&function s(l){b._.exists(l.childrenAfterGroup)&&!l.leafGroup&&(l.childrenAfterGroup.sort(function(y,S){return n({nodeA:y,nodeB:S})}),l.childrenAfterGroup.forEach(function(y){return s(y)}))}(e)}},t.prototype.getExistingPathForNode=function(e,n){for(var s=[],l=this.usingTreeData?e:e.parent;l&&l!==n.rootNode;)s.push({key:l.key,rowGroupColumn:l.rowGroupColumn,field:l.field}),l=l.parent;return s.reverse(),s},t.prototype.moveNodesInWrongPath=function(e,n,s){var l=this;e.forEach(function(g){n.changedPath.isActive()&&n.changedPath.addParentNode(g.parent);var y=function(T){return T.key},S=l.getExistingPathForNode(g,n).map(y),E=l.getGroupInfo(g,n).map(y);b._.areEqual(S,E)||l.moveNode(g,n,s)})},t.prototype.moveNode=function(e,n,s){this.removeNodesInStages([e],n,s),this.insertOneNode(e,n,!0),e.setData(e.data),n.changedPath.isActive()&&n.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,n,s){this.removeNodesInStages(e,n,s),n.changedPath.isActive()&&e.forEach(function(l){return n.changedPath.addParentNode(l.parent)})},t.prototype.removeNodesInStages=function(e,n,s){if(this.removeNodesFromParents(e,n,s),this.usingTreeData){this.postRemoveCreateFillerNodes(e,n);var l=e.map(function(g){return g.parent});this.removeEmptyGroups(l,n)}},t.prototype.forEachParentGroup=function(e,n,s){for(var l=n;l&&l!==e.rootNode;)s(l),l=l.parent},t.prototype.removeNodesFromParents=function(e,n,s){var l=this,g=null==s,y=s||new lh;e.forEach(function(S){l.removeFromParent(S,y),l.forEachParentGroup(n,S.parent,function(E){y.removeFromAllLeafChildren(E,S)})}),g&&y.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,n){var s=this;e.forEach(function(l){if(l.hasChildren()){var y=s.getExistingPathForNode(l,n),S=s.findParentForNode(l,y,n);S.expanded=l.expanded,S.allLeafChildren=l.allLeafChildren,S.childrenAfterGroup=l.childrenAfterGroup,S.childrenMapped=l.childrenMapped,S.updateHasChildren(),S.childrenAfterGroup.forEach(function(E){return E.parent=S})}})},t.prototype.removeEmptyGroups=function(e,n){for(var s=this,l=!0,y=function(){l=!1;var S=new lh;e.forEach(function(E){s.forEachParentGroup(n,E,function(D){(function(S){var E=s.getChildrenMappedKey(S.key,S.rowGroupColumn),D=S.parent;return!!(D&&D.childrenMapped&&D.childrenMapped[E]&&S.isEmptyRowGroupNode())})(D)&&(l=!0,s.removeFromParent(D,S),D.setSelected(!1))})}),S.flush()};l;)y()},t.prototype.removeFromParent=function(e,n){e.parent&&(n?n.removeFromChildrenAfterGroup(e.parent,e):(b._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var s=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[s]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,n){var s=this.getChildrenMappedKey(e.key,e.rowGroupColumn);n&&(null!=n.childrenMapped&&(n.childrenMapped[s]=e),n.childrenAfterGroup.push(e),n.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,n){return null!=e&&null!=n&&e.pivotMode===n.pivotMode&&b._.areEqual(e.groupedCols,n.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var n=this,s=function(l){!l||l.forEach(function(g){!n.usingTreeData&&!g.group||(n.setGroupData(g,{field:g.field,key:g.key,rowGroupColumn:g.rowGroupColumn}),s(g.childrenAfterGroup))})};s(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,n){if(!this.noChangeInGroupingColumns(e,n)){this.selectionService.removeGroupsFromSelection();var s=e.rootNode;s.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,s.childrenAfterGroup=[],s.childrenMapped={},s.updateHasChildren();var g=s.sibling;g&&(g.childrenAfterGroup=s.childrenAfterGroup,g.childrenMapped=s.childrenMapped),this.insertNodes(s.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,n){var s=!1,l=this.columnModel.getGroupDisplayColumns(),g=l?l.map(function(y){return y.getId()}).join("-"):"";return n&&(s=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==g&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=g,s},t.prototype.insertNodes=function(e,n,s){var l=this;e.forEach(function(g){l.insertOneNode(g,n,s),n.changedPath.isActive()&&n.changedPath.addParentNode(g.parent)})},t.prototype.insertOneNode=function(e,n,s){var l=this.getGroupInfo(e,n),g=this.findParentForNode(e,l,n);g.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[g.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(g,e,s):(e.parent=g,e.level=l.length,g.childrenAfterGroup.push(e),g.updateHasChildren())},t.prototype.findParentForNode=function(e,n,s){var l=this,g=s.rootNode;return n.forEach(function(y,S){(g=l.getOrCreateNextNode(g,y,S,s)).allLeafChildren.push(e)}),g},t.prototype.swapGroupWithUserNode=function(e,n,s){n.parent=e.parent,n.key=e.key,n.field=e.field,n.groupData=e.groupData,n.level=e.level,s||(n.expanded=e.expanded),n.leafGroup=e.leafGroup,n.rowGroupIndex=e.rowGroupIndex,n.allLeafChildren=e.allLeafChildren,n.childrenAfterGroup=e.childrenAfterGroup,n.childrenMapped=e.childrenMapped,n.updateHasChildren(),this.removeFromParent(e),n.childrenAfterGroup.forEach(function(l){return l.parent=n}),this.addToParent(n,e.parent)},t.prototype.getOrCreateNextNode=function(e,n,s,l){var g=this.getChildrenMappedKey(n.key,n.rowGroupColumn),y=e.childrenMapped?e.childrenMapped[g]:void 0;return y||(y=this.createGroup(n,e,s,l),this.addToParent(y,e)),y},t.prototype.createGroup=function(e,n,s,l){var g=new b.RowNode(this.beans);return g.group=!0,g.field=e.field,g.rowGroupColumn=e.rowGroupColumn,this.setGroupData(g,e),g.id=b.RowNode.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),g.key=e.key,g.level=s,g.leafGroup=!this.usingTreeData&&s===l.groupedColCount-1,g.allLeafChildren=[],g.setAllChildrenCount(0),g.rowGroupIndex=this.usingTreeData?null:s,g.childrenAfterGroup=[],g.childrenMapped={},g.updateHasChildren(),g.parent=l.includeParents?n:null,this.setExpandedInitialValue(l,g),g},t.prototype.setGroupData=function(e,n){var s=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(g){(s.usingTreeData||e.rowGroupColumn&&g.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[g.getColId()]=n.key)})},t.prototype.getChildrenMappedKey=function(e,n){return n?n.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,n){if(e.pivotMode&&n.leafGroup)n.expanded=!1;else{var s=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();n.expanded=s?1==s({rowNode:n,field:n.field,key:n.key,level:n.level,rowGroupColumn:n.rowGroupColumn}):-1===e.expandByDefault||n.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,n){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,n)},t.prototype.getGroupInfoFromCallback=function(e){var n=this.getDataPath?this.getDataPath(e.data):null;return(null==n||0===n.length)&&b._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),n?n.map(function(l){return{key:l,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,n){var s=this,l=[];return n.groupedCols.forEach(function(g){var y=s.valueService.getKeyForNode(g,e),S=null!=y;if(n.pivotMode&&!S&&(y=" ",S=!0),S){var E={key:y,field:g.getColDef().field,rowGroupColumn:g};l.push(E)}}),l},$u([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),$u([b.Autowired("selectableService")],t.prototype,"selectableService",void 0),$u([b.Autowired("valueService")],t.prototype,"valueService",void 0),$u([b.Autowired("beans")],t.prototype,"beans",void 0),$u([b.Autowired("selectionService")],t.prototype,"selectionService",void 0),$u([b.PostConstruct],t.prototype,"postConstruct",null),$u([b.Bean("groupStage")],t)}(b.BeanStub),nO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vm=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Y_=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},lg=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Y_(arguments[t]));return u},je=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}var e;return nO(t,u),e=t,t.prototype.createPivotColumnDefs=function(n){var s=[],l=[],g=this.columnModel.getPivotColumns(),y=this.columnModel.getValueColumns();return this.recursivelyAddGroup(s,l,1,n,[],g.length,g),this.addRowGroupTotals(s,l,y),this.addExpandablePivotGroups(s,l),this.addPivotTotalsToGroups(s,l),{pivotColumnGroupDefs:s,pivotColumnDefs:l.map(function(D){return b._.cloneObject(D)})}},t.prototype.recursivelyAddGroup=function(n,s,l,g,y,S,E){var D=this;b._.iterateObject(g,function(I,G){var j=lg(y,[I]);if(l!==S){var z={children:[],headerName:I,pivotKeys:j,columnGroupShow:"open",groupId:D.generateColumnGroupId(j)};n.push(z),D.recursivelyAddGroup(z.children,s,l+1,G,j,S,E)}else{var Y=D.columnModel.getValueColumns(),J={children:[],headerName:I,pivotKeys:j,columnGroupShow:"open",groupId:D.generateColumnGroupId(j)};if(0===Y.length){var ae=D.createColDef(null,"-",j);J.children.push(ae),s.push(ae)}else Y.forEach(function(se){var ce=D.columnModel.getDisplayNameForColumn(se,"header"),pe=D.createColDef(se,ce,j);pe.columnGroupShow="open",J.children.push(pe),s.push(pe)});n.push(J)}});var T=E[l-1].getColDef(),F=this.headerNameComparator.bind(this,T.pivotComparator);n.sort(F)},t.prototype.addExpandablePivotGroups=function(n,s){var l=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var g=function(y,S,E){var D=y;if(D.children){var T=new Map;D.children.forEach(function(j){g(j,S,T)});var P=!D.children.some(function(j){return j.children});l.columnModel.getValueColumns().forEach(function(j){var U=l.columnModel.getDisplayNameForColumn(j,"header"),z=l.createColDef(j,U,y.pivotKeys);z.pivotTotalColumnIds=T.get(j.getColId()),z.columnGroupShow="closed",z.aggFunc=j.getAggFunc(),P||(y.children.push(z),S.push(z))}),l.merge(E,T)}else{var F=y;if(!F.pivotValueColumn)return;var I=F.pivotValueColumn.getColId(),G=E.has(I)?E.get(I):[];G.push(F.colId),E.set(I,G)}};n.forEach(function(y){g(y,s,new Map)})}},t.prototype.addPivotTotalsToGroups=function(n,s){var l=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var g="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),y=this.columnModel.getValueColumns(),S=y.map(function(D){return D.getAggFunc()});if(S&&!(S.length<1)&&this.sameAggFuncs(S)){var E=y[0];n.forEach(function(D){l.recursivelyAddPivotTotal(D,s,E,g)})}}},t.prototype.recursivelyAddPivotTotal=function(n,s,l,g){var y=this,S=n;if(!S.children)return n.colId?[n.colId]:null;var D=[];if(S.children.forEach(function(G){var j=y.recursivelyAddPivotTotal(G,s,l,g);j&&(D=D.concat(j))}),S.children.length>1){var P=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),F=this.createColDef(l,P,n.pivotKeys);F.pivotTotalColumnIds=D,F.aggFunc=l.getAggFunc();var I=n.children;g?I.push(F):I.unshift(F),s.push(F)}return D},t.prototype.addRowGroupTotals=function(n,s,l){var g=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var y="after"===this.gridOptionsWrapper.getPivotRowTotals(),S=y?l.slice():l.slice().reverse(),E=function(P){var F=S[P],I=[];n.forEach(function(G){I=I.concat(g.extractColIdsForValueColumn(G,F))}),D.createRowGroupTotal(n,s,[],F,I,y)},D=this,T=0;T<S.length;T++)E(T)},t.prototype.extractColIdsForValueColumn=function(n,s){var l=this;if(!n.children)return n.pivotValueColumn===s&&n.colId?[n.colId]:[];var S=[];return n.children.forEach(function(E){l.extractColIdsForValueColumn(E,s);var D=l.extractColIdsForValueColumn(E,s);S=S.concat(D)}),S},t.prototype.createRowGroupTotal=function(n,s,l,g,y,S){var E=l.slice(0),D=this.columnModel.getValueColumns(),T={children:[],pivotKeys:E,groupId:e.PIVOT_ROW_TOTAL_PREFIX+"_"+this.generateColumnGroupId(E)};if(0===D.length){var P=this.createColDef(null,"-",E);T.children.push(P),s.push(P)}else{var F=this.columnModel.getDisplayNameForColumn(g,"header");(P=this.createColDef(g,F,E)).pivotTotalColumnIds=y,T.children.push(P),s.push(P)}S?n.push(T):n.unshift(T)},t.prototype.createColDef=function(n,s,l){var g={};if(n){var y=n.getColDef();Object.assign(g,y),g.hide=!1}return g.headerName=s,g.colId=this.generateColumnId(l||[],n?n.getColId():""),g.field=g.colId,g.pivotKeys=l,g.pivotValueColumn=n,!0===g.filter&&(g.filter="agNumberColumnFilter"),g},t.prototype.sameAggFuncs=function(n){if(1==n.length)return!0;for(var s=1;s<n.length;s++)if(n[s]!==n[0])return!1;return!0},t.prototype.headerNameComparator=function(n,s,l){return n?n(s.headerName,l.headerName):s.headerName&&!l.headerName?1:!s.headerName&&l.headerName?-1:s.headerName&&l.headerName?s.headerName<l.headerName?-1:s.headerName>l.headerName?1:0:0},t.prototype.merge=function(n,s){s.forEach(function(l,g,y){var S=n.has(g)?n.get(g):[],E=lg(S,l);n.set(g,E)})},t.prototype.generateColumnGroupId=function(n){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(l){return l.getColId()}).join("-")+"_"+n.join("-")+"}"},t.prototype.generateColumnId=function(n,s){return"pivot_"+this.columnModel.getPivotColumns().map(function(g){return g.getColId()}).join("-")+"_"+n.join("-")+"_"+s},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",vm([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),e=vm([b.Bean("pivotColDefService")],t)}(b.BeanStub),An=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xe=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},K=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.uniqueValues={},e}return An(t,u),t.prototype.execute=function(e){var n=e.rowNode,s=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(n,s):this.executePivotOff(s)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,n){var s=this.bucketUpRowNodes(e),l=this.setUniqueValues(s),g=this.columnModel.getValueColumns(),y=g.map(function(I){return I.getId()+"-"+I.getColDef().headerName}).join("#"),S=g.map(function(I){return I.getAggFunc().toString()}).join("#"),E=this.aggregationColumnsHashLastTime!==y,D=this.aggregationFuncsHashLastTime!==S;if(this.aggregationColumnsHashLastTime=y,this.aggregationFuncsHashLastTime=S,l||E||D){var T=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),P=T.pivotColumnGroupDefs;this.pivotColumnDefs=T.pivotColumnDefs,this.columnModel.setSecondaryColumns(P,"rowModelUpdated"),n&&n.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var n=this,s={},l=function(g){g.leafGroup?n.bucketRowNode(g,s):g.childrenAfterFilter.forEach(function(y){l(y)})};return l(e),s},t.prototype.bucketRowNode=function(e,n){var s=this.columnModel.getPivotColumns();e.childrenMapped=0===s.length?null:this.bucketChildren(e.childrenAfterFilter,s,0,n),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,n,s,l){var g=this,y={},S=n[s];if(e.forEach(function(D){var T=g.valueService.getKeyForNode(S,D);b._.missing(T)&&(T=""),l[T]||(l[T]={}),y[T]||(y[T]=[]),y[T].push(D)}),s===n.length-1)return y;var E={};return b._.iterateObject(y,function(D,T){E[D]=g.bucketChildren(T,n,s+1,l[D])}),E},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},Xe([b.Autowired("valueService")],t.prototype,"valueService",void 0),Xe([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Xe([b.Autowired("pivotColDefService")],t.prototype,"pivotColDefService",void 0),Xe([b.Bean("pivotStage")],t)}(b.BeanStub),$t=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ym=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Rr="undefined"==typeof BigInt?null:BigInt,zi=function(u){function t(){var n=null!==u&&u.apply(this,arguments)||this;return n.aggFuncsMap={},n.initialised=!1,n}var e;return $t(t,u),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=mm,this.aggFuncsMap[e.AGG_FIRST]=ug,this.aggFuncsMap[e.AGG_LAST]=la,this.aggFuncsMap[e.AGG_MIN]=ge,this.aggFuncsMap[e.AGG_MAX]=wt,this.aggFuncsMap[e.AGG_COUNT]=fp,this.aggFuncsMap[e.AGG_AVG]=iO,this.initialised=!0},t.prototype.getDefaultAggFunc=function(n){var s=this.getFuncNames(n),l=b._.includes(s,e.AGG_SUM),g=b._.exists(this.aggFuncsMap[e.AGG_SUM]);return l&&g?e.AGG_SUM:b._.existsAndNotEmpty(s)?s[0]:null},t.prototype.addAggFuncs=function(n){b._.iterateObject(n,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(n,s){this.init(),this.aggFuncsMap[n]=s},t.prototype.getAggFunc=function(n){return this.init(),this.aggFuncsMap[n]},t.prototype.getFuncNames=function(n){var s=n.getColDef().allowedAggFuncs;return null==s?Object.keys(this.aggFuncsMap).sort():s},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",ym([b.PostConstruct],t.prototype,"init",null),e=ym([b.Bean("aggFuncService")],t)}(b.BeanStub);function mm(u){for(var t=u.values,e=null,n=0;n<t.length;n++){var s=t[n];"number"==typeof s?null===e?e=s:e+=Rr?"number"==typeof e?s:Rr(s):s:"bigint"==typeof s&&(e=null===e?s:("bigint"==typeof e?e:Rr(e))+s)}return e}function ug(u){return u.values.length>0?u.values[0]:null}function la(u){return u.values.length>0?b._.last(u.values):null}function ge(u){for(var t=u.values,e=null,n=0;n<t.length;n++){var s=t[n];("number"==typeof s||"bigint"==typeof s)&&(null===e||e>s)&&(e=s)}return e}function wt(u){for(var t=u.values,e=null,n=0;n<t.length;n++){var s=t[n];("number"==typeof s||"bigint"==typeof s)&&(null===e||e<s)&&(e=s)}return e}function fp(u){for(var t=u.values,e=0,n=0;n<t.length;n++){var s=t[n];e+=null!=s&&"number"==typeof s.value?s.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function iO(u){for(var t=u.values,e=0,n=0,s=0;s<t.length;s++){var l=t[s],g=null;"number"==typeof l||"bigint"==typeof l?(g=l,n++):null!=l&&("number"==typeof l.value||"bigint"==typeof l.value)&&"number"==typeof l.count&&(g=Rr?l.value*("number"==typeof l.value?l.count:Rr(l.count)):l.value*l.count,n+=l.count),"number"==typeof g?e+=Rr?"number"==typeof e?g:Rr(g):g:"bigint"==typeof g&&(e=("bigint"==typeof e?e:Rr(e))+g)}var y=null;return n>0&&(y=Rr?e/("number"==typeof e?n:Rr(n)):e/n),{count:n,value:y,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var nl,Fn,Ep,Rs,tu,Op,Sh,rc,Pi,Bt=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ss=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},q_=function(u){function t(e,n,s,l,g){var y=u.call(this)||this;return y.column=e,y.dragSourceDropTarget=n,y.ghost=s,y.valueColumn=l,y.horizontal=g,y.popupShowing=!1,y}return Bt(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE);var e=this.getGui(),n=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(b._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!n&&this.addDragSource();var s=this.gridOptionsWrapper.getLocaleTextFunc(),l=s("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),g=this.getColumnAndAggFuncName(),y=g.name,S=g.aggFuncName,E="";this.valueColumn&&!n&&(E=s("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),b._.setAriaLabel(e,S+" "+y+" "+l+" "+E),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,n=function(){var s=e.column.getColDef().headerTooltip;e.setTooltip(s)};n(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,n)},t.prototype.addDragSource=function(){var e=this,n={type:b.DragSourceType.ToolPanel,eElement:this.eDragHandle,defaultIconName:b.DragAndDropService.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;b._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var n={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(l){var g=l.key===b.KeyCode.ENTER;l.key===b.KeyCode.DELETE&&(l.preventDefault(),e.dispatchEvent(n)),g&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(l.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(l){e.dispatchEvent(n),l.stopPropagation()});var s=new b.TouchListener(this.eButton);this.addManagedListener(s,b.TouchListener.EVENT_TAP,function(){e.dispatchEvent(n)}),this.addDestroyFunc(s.destroy.bind(s))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,n="";if(this.valueColumn){var s=this.column.getAggFunc(),l="string"==typeof s?s:"agg";n=this.gridOptionsWrapper.getLocaleTextFunc()(l,l)}return{name:e,aggFuncName:n}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),n=e.name,g=b._.escapeString(this.valueColumn?e.aggFuncName+"("+n+")":n);this.eText.innerHTML=g},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var n=new b.VirtualList("select-agg-func"),s=this.aggFuncService.getFuncNames(this.column),l=this.getGui(),g=n.getGui();n.setModel({getRow:function(P){return s[P]},getRowCount:function(){return s.length}}),this.getContext().createBean(n);var y=b._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');y.style.top="0px",y.style.left="0px",y.appendChild(g),y.style.width=l.clientWidth+"px";var E=this.gridOptionsWrapper.getLocaleTextFunc(),D=this.popupService.addPopup({modal:!0,eChild:y,closeOnEsc:!0,closedCallback:function(){e.destroyBean(n),e.popupShowing=!1,l.focus()},ariaLabel:E("ariaLabelAggregationFunction","Aggregation Function")});D&&n.setComponentCreator(this.createAggSelect.bind(this,D.hideFunc)),n.addGuiEventListener("keydown",function(P){if(P.key===b.KeyCode.ENTER||P.key===b.KeyCode.SPACE){var F=n.getLastFocusedRow();if(null==F)return;var I=n.getComponentAt(F);I&&I.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:l,ePopup:y,keepWithinBounds:!0,column:this.column}),n.refresh();var T=s.findIndex(function(P){return P===e.column.getAggFunc()});-1===T&&(T=0),n.focusRow(T)}},t.prototype.createAggSelect=function(e,n){var s=this,g=this.gridOptionsWrapper.getLocaleTextFunc(),y=n.toString(),S=g(y,y);return new rr(function(){e(),s.gridOptionsWrapper.isFunctionsPassive()?s.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[s.column],aggFunc:n,api:s.gridApi,columnApi:s.columnApi}):s.columnModel.setColumnAggFunc(s.column,n,"toolPanelDragAndDrop")},S)},t.prototype.addElementClasses=function(e,n){e.classList.add("ag-column-drop-cell"+(n=n?"-"+n:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+n)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',Ss([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ss([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ss([b.Autowired("popupService")],t.prototype,"popupService",void 0),Ss([b.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),Ss([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ss([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ss([b.RefSelector("eText")],t.prototype,"eText",void 0),Ss([b.RefSelector("eDragHandle")],t.prototype,"eDragHandle",void 0),Ss([b.RefSelector("eButton")],t.prototype,"eButton",void 0),Ss([b.PostConstruct],t.prototype,"init",null),t}(b.Component),rr=function(u){function t(e,n){var s=u.call(this,'<div class="ag-select-agg-func-item"/>')||this;return s.selectItem=e,s.getGui().innerText=n,s.addGuiEventListener("click",s.selectItem),s}return Bt(t,u),t}(b.Component),Xa=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uh=function(u){function t(e,n){var s=u.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return s.horizontal=e,s.valueColumn=n,s.state=t.STATE_NOT_DRAGGING,s.guiDestroyFunctions=[],s.childColumnComponents=[],s.resizeEnabled=!1,s.addElementClasses(s.getGui()),s.eColumnDropList=document.createElement("div"),s.addElementClasses(s.eColumnDropList,"list"),b._.setAriaRole(s.eColumnDropList,"listbox"),s}return Xa(t,u),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),u.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,b._.clearElement(this.getGui()),b._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new b.ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new b.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),b._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var s=e.key===b.KeyCode.DOWN,l=e.key===b.KeyCode.UP;if(this.horizontal){var g=this.gridOptionsWrapper.isEnableRtl();s=!g&&e.key===b.KeyCode.RIGHT||g&&e.key===b.KeyCode.LEFT,l=!g&&e.key===b.KeyCode.LEFT||g&&e.key===b.KeyCode.RIGHT}if(s||l){var y=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,l);y&&(e.preventDefault(),y.focus())}},t.prototype.addElementClasses=function(e,n){e.classList.add("ag-column-drop"+(n=n?"-"+n:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+n)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===b.DragSourceType.HeaderCell||e===b.DragSourceType.ToolPanel},t.prototype.checkInsertIndex=function(e){var n=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(n<0)return!1;var s=n!==this.insertIndex;return s&&(this.insertIndex=n),s},t.prototype.getNewHorizontalInsertIndex=function(e){if(b._.missing(e.hDirection))return-1;var n=0,s=e.event,l=this.beans.gridOptionsWrapper.isEnableRtl(),g=e.hDirection===b.HorizontalDirection.Left,y=s.clientX;return this.childColumnComponents.forEach(function(S){var E=S.getGui().getBoundingClientRect(),D=g?E.right:E.left;(l?y<=D:y>=D)&&n++}),n},t.prototype.getNewVerticalInsertIndex=function(e){if(b._.missing(e.vDirection))return-1;var n=0,s=e.event;return this.childColumnComponents.forEach(function(l){var g=l.getGui().getBoundingClientRect();s.clientY>=(e.vDirection===b.VerticalDirection.Down?g.top:g.bottom)&&n++}),n},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var s=n.filter(this.isColumnDroppable.bind(this));s.length>0&&(this.potentialDndColumns=s,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return b._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var n=e.dragSource.getDragItem().columns||[];this.removeColumns(n)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var n=this.getExistingColumns().filter(function(s){return!b._.includes(e,s)});this.updateColumns(n)},t.prototype.addColumns=function(e){if(e){var n=this.getExistingColumns().slice(),s=e.filter(function(l){return n.indexOf(l)<0});b._.insertArrayIntoArray(n,s,this.insertIndex),this.updateColumns(n)}},t.prototype.rearrangeColumns=function(e){var n=this.getNonGhostColumns().slice();return b._.insertArrayIntoArray(n,e,this.insertIndex),!b._.areEqual(n,this.getExistingColumns())&&(this.updateColumns(n),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,n=this.resizeEnabled,s=this.getFocusedItem(),l=this.focusService.findNextFocusableElement();l||(l=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),n&&this.toggleResizable(n),this.restoreFocus(s,l)},t.prototype.getFocusedItem=function(){var e=this.getGui(),n=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(n)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(n):-1},t.prototype.restoreFocus=function(e,n){var s=this.getGui(),l=Array.from(s.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===l.length&&n.focus();var y=l[Math.min(l.length-1,e)];y&&y.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,n=this.getExistingColumns();return this.isPotentialDndColumns()?n.filter(function(s){return!b._.includes(e.potentialDndColumns,s)}):n},t.prototype.addColumnsToGui=function(){var e=this,n=this.getNonGhostColumns(),s=this.isPotentialDndColumns(),l=[];n.forEach(function(g,y){if(!(s&&y>=e.insertIndex)){var S=e.createColumnComponent(g,!1);l.push(S)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(g){var y=e.createColumnComponent(g,!0);l.push(y)}),n.forEach(function(g,y){if(!(y<e.insertIndex)){var S=e.createColumnComponent(g,!1);l.push(S)}})),this.appendChild(this.eColumnDropList),l.forEach(function(g,y){y>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(g.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(n,s){var l=n.getGui();b._.setAriaPosInSet(l,s+1),b._.setAriaSetSize(l,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,n){var s=this,l=new q_(e,this.dropTarget,n,this.valueColumn,this.horizontal);return l.addEventListener(q_.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(l),this.guiDestroyFunctions.push(function(){return s.destroyBean(l)}),n||this.childColumnComponents.push(l),l},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,n=document.createElement("div");if(n.setAttribute("aria-hidden","true"),this.addElementClasses(n,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),n.appendChild(e),!this.horizontal){var s=document.createElement("span");this.addElementClasses(s,"title"),s.innerHTML=this.params.title,n.appendChild(s)}this.appendChild(n)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var n=this.beans.gridOptionsWrapper.isEnableRtl(),s=b._.createIconNoSpan(n?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(s,"cell-separator"),e.appendChild(s)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.Autowired("focusService")],t.prototype,"focusService",void 0),t}(b.Component),cg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ku=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},pn=function(u){function t(e){return u.call(this,e,!1)||this}return cg(t,u),t.prototype.passBeansUp=function(){u.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),s=e("groups","Row Groups");u.prototype.init.call(this,{dragAndDropIcon:b.DragAndDropService.ICON_GROUP,icon:b._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:s}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?b.DragAndDropService.ICON_GROUP:b.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Ku([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ku([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Ku([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Ku([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ku([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ku([b.PostConstruct],t.prototype,"passBeansUp",null),t}(uh),ch=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ph=function(u){function t(e){return u.call(this,e,!1)||this}return ch(t,u),t.prototype.passBeansUp=function(){u.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),s=e("pivots","Column Labels");u.prototype.init.call(this,{dragAndDropIcon:b.DragAndDropService.ICON_GROUP,icon:b._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:s}),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var n=this.columnModel.isPivotActive();this.setDisplayed(e&&n);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?b.DragAndDropService.ICON_PIVOT:b.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},Yo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Yo([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Yo([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Yo([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Yo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Yo([b.PostConstruct],t.prototype,"passBeansUp",null),t}(uh),wo=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ei=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},X_=function(u){function t(){return u.call(this)||this}return wo(t,u),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),n=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),b._.setAriaRole(e,"presentation"),this.rowGroupComp=new pn(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new ph(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,b.Component.EVENT_DISPLAYED_CHANGED,n),this.addManagedListener(this.pivotComp,b.Component.EVENT_DISPLAYED_CHANGED,n),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===b.Constants.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===b.Constants.ONLY_WHEN_GROUPING){var n=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(n)}else this.rowGroupComp.setDisplayed(!1)}},Ei([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ei([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),pg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dg=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},wm=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return pg(t,u),t.prototype.execute=function(e){var n=this,s=this.columnModel.isPivotMode(),l=this.filterManager.isAggregateFilterPresent(),S=this.gridOptionsWrapper.getGroupAggFiltering()||(s?function(F){return F.node.leafGroup}:function(F){return!F.node.group}),T=function(F){if(F.childrenAfterFilter){F.childrenAfterAggFilter=F.childrenAfterFilter;var I=F.childrenAfterAggFilter.reduce(function(G,j){return T(j),G+(j.allChildrenCount||1)},0);F.setAllChildrenCount(I)}F.sibling&&(F.sibling.childrenAfterAggFilter=F.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(l?function(F){var I,G=0;F.childrenAfterAggFilter=(null===(I=F.childrenAfterFilter)||void 0===I?void 0:I.filter(function(j){var U;return S({node:j})&&n.filterManager.doesRowPassAggregateFilters({rowNode:j})?(T(j),G+=j.allChildrenCount||1,!0):!!(null===(U=j.childrenAfterAggFilter)||void 0===U?void 0:U.length)&&(G+=j.allChildrenCount||1,!0)}))||null,F.setAllChildrenCount(G),F.sibling&&(F.sibling.childrenAfterAggFilter=F.childrenAfterAggFilter)}:function(F){F.childrenAfterAggFilter=F.childrenAfterFilter;var I=F.childrenAfterAggFilter.reduce(function(G,j){return G+(j.allChildrenCount||1)},0);F.setAllChildrenCount(I),F.sibling&&(F.sibling.childrenAfterAggFilter=F.childrenAfterAggFilter)},!1)},dg([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),dg([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),dg([b.Bean("filterAggregatesStage")],t)}(b.BeanStub),_m={moduleName:b.ModuleNames.RowGroupingModule,beans:[_s,wm,K_,je,K,zi],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:X_}],dependantModules:[Sn]},Z_=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nr=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ar=function(u){function t(e){return u.call(this,e,!0)||this}return Z_(t,u),t.prototype.passBeansUp=function(){u.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),s=e("values","Values");u.prototype.init.call(this,{dragAndDropIcon:b.DragAndDropService.ICON_AGGREGATE,icon:b._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:s}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?b.DragAndDropService.ICON_AGGREGATE:b.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},nr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),nr([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),nr([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),nr([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),nr([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),nr([b.PostConstruct],t.prototype,"passBeansUp",null),t}(uh),bn=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Za=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},qo=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return bn(t,u),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,n,s){this.allowDragging=e,this.params=n,this.eventType=s,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new b.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',Za([b.RefSelector("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),Za([b.RefSelector("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),Za([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.TabGuardComp),Sm=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$l=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},bs=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return Sm(t,u),t.prototype.setVisible=function(e){u.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var n=this,s={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(b._.mergeDeep(s,e),this.params=s,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new Kr),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new qo),this.childDestroyFuncs.push(function(){return n.destroyBean(n.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new pn(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new Ar(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new ph(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var l=this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){n.resetChildrenHeight(),n.setLastVisible()});this.childDestroyFuncs.push(function(){return l()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var n=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new Kr),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new pn(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new Ar(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new ph(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var n=e.getGui();e.toggleResizable(!n.classList.contains("ag-last-column-drop")&&!n.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(g){return g.classList.remove("ag-last-column-drop")});var s=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),l=b._.last(s);l&&l.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var n=this.getGui().children,s=0;s<n.length;s++){var l=n[s];l.style.removeProperty("height"),l.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,b._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',$l([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),$l([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(b.Component),gp=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yu=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},qu=function(u){function t(){var e=u.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return gp(t,u),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var s=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(s=Math.min(this.maxWidth,s)),this.elementToResize.style.width=s+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},Yu([b.Autowired("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),Yu([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),dh=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vp=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},hg=function(u){function t(e){var n=u.call(this)||this;return n.toolPanelDef=e,n}return dh(t,u),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",b._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(n.labelKey,n.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",vp([b.RefSelector("eToggleButton")],t.prototype,"eToggleButton",void 0),vp([b.RefSelector("eIconWrapper")],t.prototype,"eIconWrapper",void 0),vp([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),fg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yp=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},bm=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return fg(t,u),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===b.KeyCode.TAB&&e.shiftKey){var n=b._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(n,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(n){n.setSelected(e===n.getToolPanelId())})},t.prototype.addButtonComp=function(e){var n=this,s=this.createBean(new hg(e));this.buttonComps.push(s),this.appendChild(s),s.addEventListener(hg.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),b._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',yp([b.Autowired("focusService")],t.prototype,"focusService",void 0),yp([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),yp([b.PostConstruct],t.prototype,"postConstruct",null),yp([b.PreDestroy],t.prototype,"clearButtons",null),t}(b.Component),mp=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ge=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Q_=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return mp(t,u),t.prototype.setupResize=function(){var e=this.getGui(),n=this.resizeBar=new qu;this.getContext().createBean(n),n.setElementToResize(e),this.appendChild(n)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var n=e.id,s=e.minWidth,l=e.maxWidth,g=e.width;this.toolPanelId=n,this.width=g;var E=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=E?(E.then(this.setToolPanelComponent.bind(this)),null!=s&&this.resizeBar.setMinWidth(s),null!=l&&this.resizeBar.setMaxWidth(l)):console.warn("AG Grid: error processing tool panel component "+n+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var n=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){n.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var n=this.gridOptionsWrapper.isEnableRtl(),s="left"===e;this.resizeBar.setInverted(n?s:!s)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Ge([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ge([b.PostConstruct],t.prototype,"setupResize",null),t}(b.Component),gg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yr=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Em=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return gg(t,u),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(bm.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new b.ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var s=this.focusService,l=this.sideBarButtonsComp,g=this.getGui(),y=l.getGui(),E=this.gridOptionsWrapper.getDocument().activeElement,D=g.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(D)if(y.contains(E))s.focusInto(D,e.shiftKey)&&e.preventDefault();else if(!s.isFocusUnderManagedComponent(D)&&e.shiftKey){var T=s.findFocusableElements(D)[0];if(this.gridOptionsWrapper.getDocument().activeElement===T){var F=y.querySelector(".ag-selected button");F&&(e.preventDefault(),F.focus())}}}},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(n.activeElement)){var s=this.sideBarButtonsComp.getGui(),l=Array.prototype.slice.call(s.querySelectorAll(".ag-side-button")),g=n.activeElement,y=l.findIndex(function(D){return D.contains(g)}),S=null;switch(e.key){case b.KeyCode.LEFT:case b.KeyCode.UP:S=Math.max(0,y-1);break;case b.KeyCode.RIGHT:case b.KeyCode.DOWN:S=Math.min(y+1,l.length-1)}if(null!==S){var E=l[S].querySelector("button");E&&(E.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var n=e.toolPanelId,s=this.openedItem();this.openToolPanel(s===n?void 0:n)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),n=!!e&&!!e.toolPanels;if(n){this.setDisplayed(n&&!e.hiddenByDefault);var l=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(l),this.setupToolPanels(l),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var n="left"===e,s=n?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",n),this.addOrRemoveCssClass("ag-side-bar-right",!n),this.toolPanelWrappers.forEach(function(l){l.setResizerSizerSide(s)}),this},t.prototype.setupToolPanels=function(e){var n=this;e.forEach(function(s){if(null!=s.id){if("agColumnsToolPanel"===s.toolPanel&&!b.ModuleRegistry.assertRegistered(b.ModuleNames.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===s.toolPanel&&!b.ModuleRegistry.assertRegistered(b.ModuleNames.FiltersToolPanelModule,"Filters Tool Panel"))return;var g=new Q_;n.getContext().createBean(g),g.setToolPanelDef(s),g.setDisplayed(!1),n.getGui().appendChild(g.getGui()),n.toolPanelWrappers.push(g)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var n=this.openedItem();n!==e&&(this.toolPanelWrappers.forEach(function(g){var y=e===g.getToolPanelId();g.setDisplayed(y)}),n!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var n=this.toolPanelWrappers.filter(function(s){return s.getToolPanelId()===e})[0];if(n)return n.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var n={type:b.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(n)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(n){n.isDisplayed()&&(e=n.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',Yr([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Yr([b.Autowired("focusService")],t.prototype,"focusService",void 0),Yr([b.RefSelector("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),Yr([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),ne=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hh=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},vg=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.isColGroupDef=function(n){return n&&void 0!==n.children},e.getId=function(n){return e.isColGroupDef(n)?n.groupId:n.colId},e}return ne(t,u),t.prototype.createColumnTree=function(e){var n=this,s=[],l=function(y,S){if(n.isColGroupDef(y)){var E=y,T=new b.ProvidedColumnGroup(E,void 0!==E.groupId?E.groupId:E.headerName,!1,S),P=[];return E.children.forEach(function(j){var U=l(j,S+1);U&&P.push(U)}),T.setChildren(P),T}var F=y,G=n.columnModel.getPrimaryColumn(F.colId?F.colId:F.field);return G||s.push(F),G},g=[];return e.forEach(function(y){var S=l(y,0);S&&g.push(S)}),s.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",s),g},t.prototype.syncLayoutWithGrid=function(e){var n=this.getLeafPathTrees();e(this.mergeLeafPathTrees(n))},t.prototype.getLeafPathTrees=function(){var e=function(l,g){var y;if(l instanceof b.ProvidedColumnGroup)if(l.isPadding())y=g;else{var S=Object.assign({},l.getColGroupDef());S.groupId=l.getGroupId(),S.children=[g],y=S}else{var E=Object.assign({},l.getColDef());E.colId=l.getColId(),y=E}var D=l.getOriginalParent();return D?e(D,y):y};return this.columnModel.getAllGridColumns().filter(function(l){var g=l.getColDef();return l.isPrimary()&&!g.showRowGroup}).map(function(l){return e(l,l.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var n=this,l=function(D,T){if(!n.isColGroupDef(T))return D;var P=D,F=T;return F.children&&F.groupId&&n.addChildrenToGroup(P,F.groupId,F.children[0])||F.children.forEach(function(G){return l(P,G)}),P},g=[],y=1;y<=e.length;y++){var S=e[y-1],E=e[y];T=E,n.isColGroupDef(D=S)&&n.isColGroupDef(T)&&n.getId(D)===n.getId(T)?e[y]=l(S,E):g.push(S)}var D,T;return g},t.prototype.addChildrenToGroup=function(e,n,s){var l=this;if(!this.isColGroupDef(e))return!0;var T,P,F,I,G,j,y=e,S=s;if(P=S,F=(T=y).children.map(l.getId),I=b._.includes(F,l.getId(P)),j=(G=b._.last(T.children))&&l.getId(G)!==l.getId(P),I&&j)return y.children.push(S),!0;if(y.groupId===n){var E=y.children.map(this.getId);if(!b._.includes(E,this.getId(S)))return y.children.push(S),!0}return y.children.forEach(function(T){return l.addChildrenToGroup(T,n,s)}),!1},hh([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),hh([b.Bean("toolPanelColDefService")],t)}(b.BeanStub),lr={moduleName:b.ModuleNames.SideBarModule,beans:[vg],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:qu},{componentName:"AgSideBar",componentClass:Em},{componentName:"AgSideBarButtons",componentClass:bm}],dependantModules:[Sn]},ua=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ir=function(){function u(){}return u.prototype.selectAllChildren=function(t,e,n){var s=this.extractAllLeafColumns(t);this.setAllColumns(s,e,n)},u.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},u.prototype.setAllColumns=function(t,e,n){this.columnModel.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},u.prototype.extractAllLeafColumns=function(t){var e=[],n=function(s){s.forEach(function(l){!l.isPassesFilter()||(l.isGroup()?n(l.getChildren()):e.push(l.getColumn()))})};return n(t),e},u.prototype.setAllVisible=function(t,e,n){var s=[];t.forEach(function(l){l.getColDef().lockVisible||l.isVisible()!=e&&s.push({colId:l.getId(),hide:!e})}),s.length>0&&this.columnModel.applyColumnState({state:s},n)},u.prototype.setAllPivot=function(t,e,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},u.prototype.setAllPivotPassive=function(t,e){var n=this.columnModel.getPivotColumns().slice(),s=this.columnModel.getValueColumns().slice(),l=this.columnModel.getRowGroupColumns().slice(),g=!1,y=!1,S=!1;t.forEach(e?function(G){G.isAnyFunctionActive()||(G.isAllowValue()?(s.push(G),y=!0):G.isAllowRowGroup()?(l.push(G),g=!0):G.isAllowPivot()&&(n.push(G),S=!0))}:function(G){!G.isAnyFunctionActive()||(n.indexOf(G)>=0&&(b._.removeFromArray(n,G),g=!0),s.indexOf(G)>=0&&(b._.removeFromArray(s,G),y=!0),l.indexOf(G)>=0&&(b._.removeFromArray(l,G),S=!0))}),g&&this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),S&&this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:l,api:this.gridApi,columnApi:this.columnApi}),y&&this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:l,api:this.gridApi,columnApi:this.columnApi})},u.prototype.setAllPivotActive=function(t,e,n){var s=this,l=[];t.forEach(e?function(E){if(!E.isAnyFunctionActive())if(E.isAllowValue()){var D="string"==typeof E.getAggFunc()?E.getAggFunc():s.aggFuncService.getDefaultAggFunc(E);l.push({colId:E.getId(),aggFunc:D})}else E.isAllowRowGroup()?l.push({colId:E.getId(),rowGroup:!0}):E.isAllowPivot()&&l.push({colId:E.getId(),pivot:!0})}:function(E){(E.isPivotActive()||E.isRowGroupActive()||E.isValueActive())&&l.push({colId:E.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),l.length>0&&this.columnModel.applyColumnState({state:l},n)},ua([b.Autowired("aggFuncService")],u.prototype,"aggFuncService",void 0),ua([b.Autowired("columnModel")],u.prototype,"columnModel",void 0),ua([b.Autowired("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),ua([b.Autowired("columnApi")],u.prototype,"columnApi",void 0),ua([b.Autowired("gridApi")],u.prototype,"gridApi",void 0),ua([b.Autowired("eventService")],u.prototype,"eventService",void 0),ua([b.Bean("modelItemUtils")],u)}(),fh={moduleName:b.ModuleNames.ColumnToolPanelModule,beans:[ir],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:Cs},{componentName:"AgPrimaryColsList",componentClass:ah},{componentName:"AgPrimaryCols",componentClass:qo}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:bs}],dependantModules:[Sn,_m,lr]},Ot={getTemplate:function(u){var t=u.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},Pn={getTemplate:function(u){var t=u.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(g,y){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==y?"Bottom":1==y?"Left":2==y?"Right":"Top",LineStyle:g.lineStyle,Weight:g.weight,Color:g.color}}]}}})}}},dn={getTemplate:function(u){var t=u.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},oO={getTemplate:function(u){var t=u.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},J_={getTemplate:function(u){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:u.protection.protected,HideFormula:u.protection.hideFormula}}]}}}},gh={getTemplate:function(u){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:u.numberFormat.format}}]}}}},Dm=function(){function u(){}return u.prototype.setBeans=function(t){this.beans=t},u.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},u.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},u}(),Rm=function(){function u(t){this.groupColumns=[];var n=t.valueService,s=t.gridOptionsWrapper,l=t.processCellCallback,g=t.processHeaderCallback,y=t.processGroupHeaderCallback,S=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=n,this.gridOptionsWrapper=s,this.processCellCallback=l,this.processHeaderCallback=g,this.processGroupHeaderCallback=y,this.processRowGroupCallback=S}return u.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},u.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},u.prototype.extractRowCellValue=function(t,e,n,s,l){var S,g=this.gridOptionsWrapper.isGroupMultiAutoColumn()?l.rowGroupIndex:0;S=l&&l.group&&(e===g&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(l):this.valueService.getValue(t,l);var E=this.processCell(n,l,t,S,this.processCellCallback,s);return null!=E?E:""},u.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},u.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},u.prototype.processCell=function(t,e,n,s,l,g){return l?l({accumulatedRowIndex:t,column:n,node:e,value:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:g}):null!=s?s:""},u}(),Am=function(){function u(){}return u.download=function(t,e){var n=document.defaultView||window;if(n){var s=document.createElement("a"),l=n.URL.createObjectURL(e);s.setAttribute("href",l),s.setAttribute("download",t),s.style.display="none",document.body.appendChild(s),s.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(s),n.setTimeout(function(){n.URL.revokeObjectURL(l)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},u}(),Es=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sO=function(u){function t(e){var n=u.call(this,e)||this;n.isFirstLine=!0,n.result="";var l=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=l,n}return Es(t,u),t.prototype.addCustomContent=function(e){var n=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(s){n.beginNewLine(),s.forEach(function(l,g){0!==g&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(l.data.value||""),l.mergeAcross&&n.appendEmptyCells(l.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,s){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(s)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,s){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,n,n,b.Constants.EXPORT_TYPE_CSV,s))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?n=e:"function"==typeof e.toString?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(Rm),tS=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cp=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Pm=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return tS(t,u),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),s=this.getData(n),l=new Blob(["\ufeff",s],{type:"text/plain"});return Am.download(this.getFileName(n.fileName),l),s},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var n=this.getMergedParams(e);return this.getData(n)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this;return new sO({columnModel:n.columnModel,valueService:n.valueService,gridOptionsWrapper:n.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},Cp([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Cp([b.Autowired("valueService")],t.prototype,"valueService",void 0),Cp([b.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Cp([b.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Cp([b.PostConstruct],t.prototype,"postConstruct",null),Cp([b.Bean("csvCreator")],t)}(Dm),ca=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pa=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Yl=(()=>(function(u){u[u.HEADER_GROUPING=0]="HEADER_GROUPING",u[u.HEADER=1]="HEADER",u[u.BODY=2]="BODY"}(Yl||(Yl={})),Yl))(),ri=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return ca(t,u),t.prototype.serialize=function(e,n){void 0===n&&(n={});var s=this.getColumnsToExport(n.allColumns,n.columnKeys);return b._.compose(this.prepareSession(s),this.prependContent(n),this.exportColumnGroups(n,s),this.exportHeaders(n,s),this.processPinnedTopRows(n,s),this.processRows(n,s),this.processPinnedBottomRows(n,s),this.appendContent(n))(e).parse()},t.prototype.processRow=function(e,n,s,l){var g=this,y=n.shouldRowBeSkipped||function(){return!1},S=this.gridOptionsWrapper,E=S.getContext(),D=S.getApi(),T=S.getColumnApi(),P=S.isGroupRemoveSingleChildren(),F=S.isGroupHideOpenParents(),I=S.isGroupRemoveLowestSingleChildren(),G=this.columnModel.isPivotMode()?l.leafGroup:!l.group,z=1===l.allChildrenCount&&(P||I&&l.leafGroup);(n.skipGroups||n.skipRowGroups)&&n.skipGroups&&b._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Y={rowIndex:l.rowIndex,rowPinned:l.rowPinned};if(!(!G&&(n.skipRowGroups||z||F)||n.onlySelected&&!l.isSelected()||n.rowNodes&&!n.rowNodes.some(function(pe){return g.rowPositionUtils.sameRow(pe,Y)})||n.skipPinnedTop&&"top"===l.rowPinned||n.skipPinnedBottom&&"bottom"===l.rowPinned)&&(-1!==l.level||l.leafGroup)&&!y({node:l,api:D,columnApi:T,context:E})){var se=e.onNewBodyRow();if(s.forEach(function(pe,fe){se.onColumn(pe,fe,l)}),n.getCustomContentBelowRow){var ce=n.getCustomContentBelowRow({node:l,api:D,columnApi:T,context:E});ce&&e.addCustomContent(ce)}}},t.prototype.appendContent=function(e){return function(n){var s=e.customFooter||e.appendContent;return s&&(e.customFooter&&b._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),n.addCustomContent(s)),n}},t.prototype.prependContent=function(e){return function(n){var s=e.customHeader||e.prependContent;return s&&(e.customHeader&&b._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),n.addCustomContent(s)),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var s=this;return function(l){if(e.skipColumnGroupHeaders)e.columnGroups&&b._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var g=new b.GroupInstanceIdCreator,y=s.displayedGroupCreator.createDisplayedGroups(n,s.columnModel.getGridBalancedTree(),g,null);s.recursivelyAddHeaderGroups(y,l,e.processGroupHeaderCallback)}return l}},t.prototype.exportHeaders=function(e,n){return function(s){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&b._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var l=s.onNewHeaderRow();n.forEach(function(g,y){l.onColumn(g,y,void 0)})}return s}},t.prototype.processPinnedTopRows=function(e,n){var s=this;return function(l){var g=s.processRow.bind(s,l,e,n);return s.pinnedRowModel.forEachPinnedTopRow(g),l}},t.prototype.processRows=function(e,n){var s=this;return function(l){var g=s.rowModel,y=g.getType(),S=y===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,E=y===b.Constants.ROW_MODEL_TYPE_SERVER_SIDE,D=!S&&e.onlySelected,T=s.processRow.bind(s,l,e,n);return s.columnModel.isPivotMode()?S?g.forEachPivotNode(T):g.forEachNode(T):e.onlySelectedAllPages||D?s.selectionService.getSelectedNodes().forEach(T):S||E?g.forEachNodeAfterFilterAndSort(T):g.forEachNode(T),l}},t.prototype.processPinnedBottomRows=function(e,n){var s=this;return function(l){var g=s.processRow.bind(s,l,e,n);return s.pinnedRowModel.forEachPinnedBottomRow(g),l}},t.prototype.getColumnsToExport=function(e,n){void 0===e&&(e=!1);var s=this.columnModel.isPivotMode();return n&&n.length?this.columnModel.getGridColumns(n):e&&!s?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([b.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,n,s){var l=[];e.forEach(function(g){!g.getChildren||g.getChildren().forEach(function(S){return l.push(S)})}),e.length>0&&e[0]instanceof b.ColumnGroup&&this.doAddHeaderHeader(n,e,s),l&&l.length>0&&this.recursivelyAddHeaderGroups(l,n,s)},t.prototype.doAddHeaderHeader=function(e,n,s){var l=this,g=e.onNewHeaderGroupingRow(),y=0;n.forEach(function(S){var D,E=S;D=s?s({columnGroup:E,api:l.gridOptionsWrapper.getApi(),columnApi:l.gridOptionsWrapper.getColumnApi(),context:l.gridOptionsWrapper.getContext()}):l.columnModel.getDisplayNameForColumnGroup(E,"header");var T=E.getLeafColumns().reduce(function(P,F,I,G){var j=b._.last(P);return"open"===F.getColumnGroupShow()?(!j||null!=j[1])&&P.push(j=[I]):j&&null==j[1]&&(j[1]=I-1),I===G.length-1&&j&&null==j[1]&&(j[1]=I),P},[]);g.onColumn(D||"",y++,E.getLeafColumns().length-1,T)})},pa([b.Autowired("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),pa([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),pa([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),pa([b.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),pa([b.Autowired("selectionService")],t.prototype,"selectionService",void 0),pa([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),pa([b.Bean("gridSerializer")],t)}(b.BeanStub),Wt={moduleName:b.ModuleNames.CsvExportModule,beans:[Pm,ri]},Tm=function(){function u(){}return u.createHeader=function(t){void 0===t&&(t={});var s=["version"];return t.version||(t.version="1.0"),t.encoding&&s.push("encoding"),t.standalone&&s.push("standalone"),"<?xml "+s.map(function(g){return g+'="'+t[g]+'"'}).join(" ")+" ?>"},u.createXml=function(t,e){var n=this,s="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(g){Object.keys(g.map).forEach(function(y){s+=n.returnAttributeIfPopulated(g.prefix+y,g.map[y],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(g){s+=n.returnAttributeIfPopulated(g,t.properties.rawMap[g],e)}));var l="<"+t.name+s;return t.children||null!=t.textNode?null!=t.textNode?l+">"+t.textNode+"</"+t.name+">\r\n":(l+=">\r\n",t.children&&t.children.forEach(function(g){l+=n.createXml(g,e)}),l+"</"+t.name+">\r\n"):l+"/>\r\n"},u.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var s=e;return"boolean"==typeof e&&n&&(s=n(e))," "+t+'="'+s+'"'},u}(),Rt=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),ni=function(){function u(){}return u.addFolders=function(t){t.forEach(this.addFolder.bind(this))},u.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},u.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},u.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},u.clearStream=function(){this.folders=[],this.files=[]},u.buildFileStream=function(t){var e,n;void 0===t&&(t="");var s=this.folders.concat(this.files),l=s.length,g="",y=0,S=0;try{for(var E=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),D=E.next();!D.done;D=E.next()){var P=this.getHeader(D.value,y),F=P.fileHeader,I=P.folderHeader,G=P.content;y+=F.length+G.length,S+=I.length,t+=F+G,g+=I}}catch(U){e={error:U}}finally{try{D&&!D.done&&(n=E.return)&&n.call(E)}finally{if(e)throw e.error}}return t+g+this.buildFolderEnd(l,S,y)},u.getHeader=function(t,e){var n=t.content,s=t.path,l=t.created,g=t.isBase64,S=b._.decToHex,E=(0,b._.utf8_encode)(s),D=E!==s,T=this.convertTime(l),P=this.convertDate(l),F="";if(D){var I=S(1,1)+S(this.getFromCrc32Table(E),4)+E;F="up"+S(I.length,2)+I}var G=n?this.getConvertedContent(n,g):{size:0,content:""},j=G.size,U=G.content,z="\n\0"+(D?"\0\b":"\0\0")+"\0\0"+S(T,2)+S(P,2)+S(j?this.getFromCrc32Table(U):0,4)+S(j,4)+S(j,4)+S(E.length,2)+S(F.length,2);return{fileHeader:"PK\x03\x04"+z+E+F,folderHeader:"PK\x01\x02\x14\0"+z+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+S(e,4)+E+F,content:U||""}},u.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},u.buildFolderEnd=function(t,e,n){var s=b._.decToHex;return"PK\x05\x06\0\0\0\0"+s(t,2)+s(t,2)+s(e,4)+s(n,4)+"\0\0"},u.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},u.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),s=0;s<e;s++)n[s]=t.charCodeAt(s);var l=-1;for(s=0;s<e;s++)l=l>>>8^Rt[255&(l^n[s])];return-1^l},u.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},u.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},u.folders=[],u.files=[],u}(),En=function(){function u(){}return u.createExcel=function(t,e){var n=this.excelXmlHeader(),g=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},t,e);return""+n+Tm.createXml(g,function(y){return y?"1":"0"})},u.workbook=function(t,e,n,s){var l=[t,e,this.stylesXmlElement(n)].concat(function(u){var t=u.table,e=u.name,s=t.rows,l=t.columns.map(function(y){return function(u){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:u.width}}]}}}(y)}),g=s.map(function(y){return function(u){return{name:"Row",children:u.cells.map(function(e){return function(u){var t=u.mergeAcross,e=u.styleId,n=u.data,s={};return t&&(s.MergeAcross=t),e&&(s.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:s}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:n.type}}]},textNode:n.value}]}}(e)})}}(y)});return{name:"Worksheet",children:[{name:"Table",children:l.concat(g)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}(s));return Object.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:l})},u.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},u.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(n){return e.styleXmlElement(n)}):[]}},u.styleXmlElement=function(t){var e=b._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},function(u){var t=u.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:u.name||t}}]}}}(t),{children:e})},u.addProperty=function(t,e){return function(n){return e[t]?n.concat({alignment:Ot,borders:Pn,font:dn,interior:oO,numberFormat:gh,protection:J_}[t].getTemplate(e)):n}},u.factoryMode=b.ExcelFactoryMode.SINGLE_SHEET,u}(),Qa={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},nS=function(u){return Math.round(96*u/72)},ql=function(u){return Math.ceil(9525*u)},Ja=function(u,t){if(t)return function(u){return Math.round(72*u/96)}("number"==typeof t?t:t({rowIndex:u}))},lt=function(u){return""+Tm.createHeader({encoding:"UTF-8",standalone:"yes"})+Tm.createXml(u)},da=function(u){var n=String.fromCharCode,s=Math.floor(u/26),l=u%26;return s&&26!==u?l?s<26?n(65+s-1)+n(65+l-1):da(s)+n(65+l-1):da(s-1)+"Z":n(65+u-1)},_g=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oi=function(){return Oi=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Oi.apply(this,arguments)},Mm=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},mh=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Mm(arguments[t]));return u},$i=function(u){function t(e){var n=u.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=Object.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(s){n.stylesByIds[s.id]=s}),n.excelStyles=mh(n.config.baseExcelStyles),n}return _g(t,u),t.prototype.addCustomContent=function(e){var n=this;e.forEach(function(s){var l=n.rows.length+1;n.rows.push({height:Ja(l,n.config.rowHeight),cells:s.map(function(g,y){var S=n.addImage(l,n.columnsToExport[y],g.data.value),E=Oi({},g);return S&&(E.data={},null!=S.value?E.data.value=S.value:(E.data.type="e",E.data.value=null)),E})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,n=[];return this.rows.push({cells:n,height:Ja(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(s,l,g,y){var S=e.config.styleLinker(Yl.HEADER_GROUPING,1,"grouping-"+s,void 0,void 0);n.push(Oi(Oi({},e.createMergedCell(e.getStyleId(S),e.getDataTypeForValue("string"),s,g)),{collapsibleRanges:y}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var n=this;u.prototype.prepare.call(this,e),this.columnsToExport=mh(e),this.cols=e.map(function(s,l){return n.convertColumnToExcel(s,l)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(s,l){return Math.max(s,l.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,n){var s=this.config.columnWidth;return s?"number"==typeof s?{width:s}:{width:s({column:e,index:n})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,n){var s=this;return function(l,g){var y=s.extractHeaderValue(l),S=s.config.styleLinker(Yl.HEADER,e,y,l,void 0);n.push(s.createCell(s.getStyleId(S),s.getDataTypeForValue("string"),y))}},t.prototype.onNewRow=function(e,n){var s=[];return this.rows.push({cells:s,height:Ja(this.rows.length+1,n)}),{onColumn:e.bind(this,this.rows.length,s)()}},t.prototype.onNewBodyColumn=function(e,n){var s=this,l=0;return function(g,y,S){if(l>0)l-=1;else{var E=s.extractRowCellValue(g,y,e,b.Constants.EXPORT_TYPE_EXCEL,S),D=s.config.styleLinker(Yl.BODY,e,E,g,S),T=s.getStyleId(D),P=g.getColSpan(S),F=s.addImage(e,g,E);F?n.push(s.createCell(T,s.getDataTypeForValue(F.value),null==F.value?"":F.value)):P>1?(l=P-1,n.push(s.createMergedCell(T,s.getDataTypeForValue(E),E,P-1))):n.push(s.createCell(T,s.getDataTypeForValue(E),E))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var n=e.join("-");return this.mixedStyles[n]||this.addNewMixedStyle(e),this.mixedStyles[n].excelID},t.prototype.addNewMixedStyle=function(e){var n=this;this.mixedStyleCounter+=1;var s="mixedStyle"+this.mixedStyleCounter,l={};e.forEach(function(y){n.excelStyles.forEach(function(S){S.id===y&&b._.mergeDeep(l,b._.deepCloneObject(S))})}),l.id=s,l.name=s;var g=e.join("-");this.mixedStyles[g]={excelID:s,key:g,result:l},this.excelStyles.push(l),this.stylesByIds[s]=l},t}(Rm),ii=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fm=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return ii(t,u),t.prototype.createExcel=function(e){return En.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return b._.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,n,s){if(this.isFormula(s))return"Formula";if(n&&n.dataType)switch(n.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,n,s){var l=this.getStyleById(e),g=this.getType(n,l,s)||n;return{styleId:l?e:void 0,data:{type:g,value:this.getValueTransformed(g,s)}}},t.prototype.getValueTransformed=function(e,n){var y,s=this;switch(e){case"String":return function(y){if(s.config.suppressTextAsCDATA)return b._.escapeString(y);var S="<![CDATA[",E="]]>",D=new RegExp(E,"g");return S+String(y).replace(D,"]]"+E+S+">")+E}(n);case"Number":return Number(n).valueOf()+"";case"Boolean":return(y=n)&&"0"!==y&&"false"!==y?"1":"0";default:return n}},t.prototype.createMergedCell=function(e,n,s,l){return{styleId:this.getStyleById(e)?e:void 0,data:{type:n,value:s},mergeAcross:l}},t}($i),Im=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Gm=function(u,t){return{name:"xdr:"+u,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},dr=function(u){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(u.recolor&&u.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},iS=function(u,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:u.id,descr:null!=u.altText?u.altText:void 0}},children:[dr(u)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},km=function(u){if(u.saturation||u.tint){var t=[];return u.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*u.saturation}}}),u.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*u.tint}}}),t}},or=function(u,t){var e;if(u.transparency){var n=Math.min(Math.max(u.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*n)}}}]}if(u.recolor)switch(e||(e=[]),u.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(u,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:u.color}},children:km(u)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:km(t)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},Ch=function(u,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return u.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(u.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},ur=function(u,t,e,n){return{name:"xdr:pic",children:[iS(u,t+1),or(u,e+1),Ch(u,n)]}},hn=function(u){var t=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(u,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}},Be=function(u){var t=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(u,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},_h_getTemplate=function(){var u=b._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[Be(["latin","Calibri Light",void 0,"020F0302020204030204"]),Be(["ea",""]),Be(["cs",""]),Be(["font",u("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),Be(["font",u("\ub9d1\uc740 \uace0\ub515"),"Hang"]),Be(["font",u("\u7b49\u7ebf Light"),"Hans"]),Be(["font",u("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),Be(["font","Times New Roman","Arab"]),Be(["font","Times New Roman","Hebr"]),Be(["font","Tahoma","Thai"]),Be(["font","Nyala","Ethi"]),Be(["font","Vrinda","Beng"]),Be(["font","Shruti","Gujr"]),Be(["font","MoolBoran","Khmr"]),Be(["font","Tunga","Knda"]),Be(["font","Raavi","Guru"]),Be(["font","Euphemia","Cans"]),Be(["font","Plantagenet Cherokee","Cher"]),Be(["font","Microsoft Yi Baiti","Yiii"]),Be(["font","Microsoft Himalaya","Tibt"]),Be(["font","MV Boli","Thaa"]),Be(["font","Mangal","Deva"]),Be(["font","Gautami","Telu"]),Be(["font","Latha","Taml"]),Be(["font","Estrangelo Edessa","Syrc"]),Be(["font","Kalinga","Orya"]),Be(["font","Kartika","Mlym"]),Be(["font","DokChampa","Laoo"]),Be(["font","Iskoola Pota","Sinh"]),Be(["font","Mongolian Baiti","Mong"]),Be(["font","Times New Roman","Viet"]),Be(["font","Microsoft Uighur","Uigh"]),Be(["font","Sylfaen","Geor"]),Be(["font","Arial","Armn"]),Be(["font","Leelawadee UI","Bugi"]),Be(["font","Microsoft JhengHei","Bopo"]),Be(["font","Javanese Text","Java"]),Be(["font","Segoe UI","Lisu"]),Be(["font","Myanmar Text","Mymr"]),Be(["font","Ebrima","Nkoo"]),Be(["font","Nirmala UI","Olck"]),Be(["font","Ebrima","Osma"]),Be(["font","Phagspa","Phag"]),Be(["font","Estrangelo Edessa","Syrn"]),Be(["font","Estrangelo Edessa","Syrj"]),Be(["font","Estrangelo Edessa","Syre"]),Be(["font","Nirmala UI","Sora"]),Be(["font","Microsoft Tai Le","Tale"]),Be(["font","Microsoft New Tai Lue","Talu"]),Be(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[Be(["latin","Calibri",void 0,"020F0502020204030204"]),Be(["ea",""]),Be(["cs",""]),Be(["font",u("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),Be(["font",u("\ub9d1\uc740 \uace0\ub515"),"Hang"]),Be(["font",u("\u7b49\u7ebf"),"Hans"]),Be(["font",u("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),Be(["font","Arial","Arab"]),Be(["font","Arial","Hebr"]),Be(["font","Tahoma","Thai"]),Be(["font","Nyala","Ethi"]),Be(["font","Vrinda","Beng"]),Be(["font","Shruti","Gujr"]),Be(["font","DaunPenh","Khmr"]),Be(["font","Tunga","Knda"]),Be(["font","Raavi","Guru"]),Be(["font","Euphemia","Cans"]),Be(["font","Plantagenet Cherokee","Cher"]),Be(["font","Microsoft Yi Baiti","Yiii"]),Be(["font","Microsoft Himalaya","Tibt"]),Be(["font","MV Boli","Thaa"]),Be(["font","Mangal","Deva"]),Be(["font","Gautami","Telu"]),Be(["font","Latha","Taml"]),Be(["font","Estrangelo Edessa","Syrc"]),Be(["font","Kalinga","Orya"]),Be(["font","Kartika","Mlym"]),Be(["font","DokChampa","Laoo"]),Be(["font","Iskoola Pota","Sinh"]),Be(["font","Mongolian Baiti","Mong"]),Be(["font","Arial","Viet"]),Be(["font","Microsoft Uighur","Uigh"]),Be(["font","Sylfaen","Geor"]),Be(["font","Arial","Armn"]),Be(["font","Leelawadee UI","Bugi"]),Be(["font","Microsoft JhengHei","Bopo"]),Be(["font","Javanese Text","Java"]),Be(["font","Segoe UI","Lisu"]),Be(["font","Myanmar Text","Mymr"]),Be(["font","Ebrima","Nkoo"]),Be(["font","Nirmala UI","Olck"]),Be(["font","Ebrima","Osma"]),Be(["font","Phagspa","Phag"]),Be(["font","Estrangelo Edessa","Syrn"]),Be(["font","Estrangelo Edessa","Syrj"]),Be(["font","Estrangelo Edessa","Syre"]),Be(["font","Nirmala UI","Sora"]),Be(["font","Microsoft Tai Le","Tale"]),Be(["font","Microsoft New Tai Lue","Talu"]),Be(["font","Ebrima","Tfng"])]}]}},ha=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},oi=function(u,t,e){return{name:"a:"+u,properties:{rawMap:{val:t}},children:e}},fn=function(u){var t=ha(u,6),e=t[0],n=t[1],l=t[3],g=t[4],y=t[5],S=[];return S.push(oi("satMod",t[2])),l&&S.push(oi("lumMod",l)),g&&S.push(oi("tint",g)),y&&S.push(oi("shade",y)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:S}]}},Xl=function(u,t){return{name:"a:solidFill",children:[oi("schemeClr",u,t)]}},jn=function(u){var t=ha(u,5),e=t[0],n=t[1],s=t[2],l=t[3],y=ha(t[4],2),S=y[0],E=y[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[fn(n),fn(s),fn(l)]},{name:"a:lin",properties:{rawMap:{ang:S,scaled:E}}}]}},Ct=function(u){var t=ha(u,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[Xl("phClr"),oi("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},yr=function(u){var t=[];if(u){var e=ha(u,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[oi("srgbClr","000000",[oi("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},ec=function(u){var t=[];return u.forEach(function(e,n){var s=n.toString(),l={name:"t",textNode:b._.utf8_encode(b._.escapeString(s))};s.trim().length!==s.length&&(l.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[l]})}),t},Xi={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},rn=["Dashed","DashDot","DashDotDot"],tl={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},Gr={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},fa={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},_t=function(u){return null==u?u:("#"===u.charAt(0)&&(u=u.substr(1)),6===u.length?"FF"+u:u)},eu=function(u,t){if(!u)return"thin";var e=function(u){switch(u){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),n=Xi[u];return"Continuous"===u?e:"medium"===e&&-1!==rn.indexOf(n)?"medium"+n:n.charAt(0).toLowerCase()+n.substr(1)},Os=function(u){return Gr[u]||"general"},Sp=function(u){return fa[u]||void 0},Ds=function(u){return{name:"color",properties:{rawMap:{rgb:_t(u||"#000000")}}}},bp_getTemplate=function(u){return{name:"borders",properties:{rawMap:{count:u.length}},children:u.map(function(t){return function(u){var t=u.left,e=u.right,n=u.top,s=u.bottom,l=u.diagonal,g=t?[Ds(t.color)]:void 0,y=e?[Ds(e.color)]:void 0,S=n?[Ds(n.color)]:void 0,E=s?[Ds(s.color)]:void 0,D=l?[Ds(l.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:g},{name:"right",properties:{rawMap:{style:e&&e.style}},children:y},{name:"top",properties:{rawMap:{style:n&&n.style}},children:S},{name:"bottom",properties:{rawMap:{style:s&&s.style}},children:E},{name:"diagonal",properties:{rawMap:{style:l&&l.style}},children:D}]}}(t)})}},tc=function(u){var e=["Context","LeftToRight","RightToLeft"].indexOf(u);return Math.max(e,0)},Vm_getTemplate=function(u){var t=u.alignment,e=u.borderId,n=u.fillId,s=u.fontId,l=u.numFmtId,g=u.protection,y=u.xfId,S=[];return t&&S.push(function(u){var t=u.horizontal,e=u.indent,n=u.readingOrder,s=u.rotate,l=u.shrinkToFit,g=u.vertical,y=u.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&Os(t),indent:e,readingOrder:n&&tc(n),textRotation:s,shrinkToFit:l,vertical:g&&Sp(g),wrapText:y}}}}(t)),g&&S.push(function(u){return{name:"protection",properties:{rawMap:{hidden:!0===u.hideFormula?1:0,locked:!1===u.protected?0:1}}}}(g)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:g?1:void 0,applyBorder:e?1:void 0,applyFill:n?1:void 0,borderId:e,fillId:n,applyFont:s?1:void 0,fontId:s,applyNumberFormat:l?1:void 0,numFmtId:l,xfId:y}},children:S.length?S:void 0}},rl=function(){return rl=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},rl.apply(this,arguments)},oS=function(u,t){return-1!==u.indexOf("mixedStyle")&&t>1&&(u+="_"+t),u},Eg=function(){nl={base:0},Fn=[],Ep=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],Rs=[{patternType:"none"},{patternType:"gray125"}],tu=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],Op=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],Sh=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],rc=[{builtinId:0,name:"Normal",xfId:0}]},lS=function(u){var t=u.alignment,e=u.borders,n=u.font,s=u.interior,l=u.numberFormat,g=u.protection,y=u.id,S=0,E=0,D=0,T=0;!y||(y=oS(y,Pi),null==nl[y]&&(s&&(S=function(u){var t=function(u){return u?tl[u]||u:"none"}(u.pattern),e=_t(u.color),n=_t(u.patternColor),s=Rs.findIndex(function(l){return!(l.patternType!=t||l.fgRgb!=e||l.bgRgb!=n)});return-1===s&&(s=Rs.length,Rs.push({patternType:t,fgRgb:e,bgRgb:n})),s}(s)),e&&(E=function(u){var l,g,y,S,E,D,T,P,t=u.borderBottom,e=u.borderTop,n=u.borderLeft,s=u.borderRight;n&&(y=eu(n.lineStyle,n.weight),T=_t(n.color)),s&&(S=eu(s.lineStyle,s.weight),P=_t(s.color)),t&&(l=eu(t.lineStyle,t.weight),E=_t(t.color)),e&&(g=eu(e.lineStyle,e.weight),D=_t(e.color));var F=tu.findIndex(function(I){var G=I.left,j=I.right,U=I.top,z=I.bottom;if(!G&&(y||T)||!j&&(S||P)||!U&&(g||D)||!z&&(l||E))return!1;var Y=G||{},se=j||{},fe=U||{},Re=z||{};return!(Y.style!=y||Y.color!=T||se.style!=S||se.color!=P||fe.style!=g||fe.color!=D||Re.style!=l||Re.color!=E)});return-1===F&&(F=tu.length,tu.push({left:{style:y,color:T},right:{style:S,color:P},top:{style:g,color:D},bottom:{style:l,color:E},diagonal:{style:void 0,color:void 0}})),F}(e)),n&&(D=function(u){var t=u.fontName,e=void 0===t?"Calibri":t,n=u.color,s=u.size,l=u.bold,g=u.italic,y=u.outline,S=u.shadow,E=u.strikeThrough,D=u.underline,T=u.family,P=u.verticalAlign,F=e&&b._.utf8_encode(e),I=_t(n),G=function(u){if(void 0!==u){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(u||"Automatic");return Math.max(e,0)}}(T),j=D?D.toLocaleLowerCase():void 0,U=P?P.toLocaleLowerCase():void 0,z=Ep.findIndex(function(Y){return!(Y.fontName!=F||Y.color!=I||Y.size!=s||Y.bold!=l||Y.italic!=g||Y.outline!=y||Y.shadow!=S||Y.strikeThrough!=E||Y.underline!=j||Y.verticalAlign!=U||Y.family!=G)});return-1===z&&(z=Ep.length,Ep.push({fontName:F,color:I,size:s,bold:l,italic:g,outline:y,shadow:S,strikeThrough:E,underline:j,verticalAlign:U,family:null!=G?G.toString():void 0})),z}(n)),l&&(T=function(u){if(u=b._.utf8_encode(u),Qa[u])return Qa[u];var t=Fn.findIndex(function(e){return e.formatCode===u});return-1===t?Fn.push({formatCode:u,numFmtId:t=Fn.length+164}):t=Fn[t].numFmtId,t}(l.format)),nl[y]=Sh.length,Sh.push({alignment:t,borderId:E||0,fillId:S||0,fontId:D||0,numFmtId:T||0,protection:g,xfId:0})))},Wm_getTemplate=function(u){var t=function(u){return{name:"numFmts",properties:{rawMap:{count:u.length}},children:u.map(function(t){return function(u){return{name:"numFmt",properties:{rawMap:{formatCode:u.formatCode,numFmtId:u.numFmtId}}}}(t)})}}(Fn),e=function(u){return{name:"fonts",properties:{rawMap:{count:u.length}},children:u.map(function(t){return function(u){var n=u.color,l=u.fontName,y=u.family,S=u.scheme,E=u.italic,D=u.bold,T=u.strikeThrough,P=u.outline,F=u.shadow,I=u.underline,G=u.verticalAlign,j=[{name:"sz",properties:{rawMap:{val:u.size}}},{name:"color",properties:{rawMap:{theme:u.colorTheme,rgb:void 0===n?"FF000000":n}}},{name:"name",properties:{rawMap:{val:void 0===l?"Calibri":l}}}];return y&&j.push({name:"family",properties:{rawMap:{val:y}}}),S&&j.push({name:"scheme",properties:{rawMap:{val:S}}}),E&&j.push({name:"i"}),D&&j.push({name:"b"}),T&&j.push({name:"strike"}),P&&j.push({name:"outline"}),F&&j.push({name:"shadow"}),I&&j.push({name:"u",properties:{rawMap:{val:I}}}),G&&j.push({name:"vertAlign",properties:{rawMap:{val:G}}}),{name:"font",children:j}}(t)})}}(Ep.map(function(S){return rl(rl({},S),{size:null!=S.size?S.size:u})})),n=function(u){return{name:"fills",properties:{rawMap:{count:u.length}},children:u.map(function(t){return function(u){var e=u.fgTheme,n=u.fgTint,s=u.fgRgb,l=u.bgRgb,g=u.bgIndexed,y={name:"patternFill",properties:{rawMap:{patternType:u.patternType}}};return(e||n||s)&&(y.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:n,rgb:s}}}]),(g||l)&&(y.children||(y.children=[]),y.children.push({name:"bgColor",properties:{rawMap:{indexed:g,rgb:l}}})),{name:"fill",children:[y]}}(t)})}}(Rs),s=bp_getTemplate(tu),l=function(u){return{name:"cellStyleXfs",properties:{rawMap:{count:u.length}},children:u.map(function(t){return Vm_getTemplate(t)})}}(Op),g=function(u){return{name:"cellXfs",properties:{rawMap:{count:u.length}},children:u.map(function(t){return Vm_getTemplate(t)})}}(Sh),y=function(u){return{name:"cellStyles",properties:{rawMap:{count:u.length}},children:u.map(function(t){return function(u){return{name:"cellStyle",properties:{rawMap:{builtinId:u.builtinId,name:u.name,xfId:u.xfId}}}}(t)})}}(rc);return Eg(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,n,s,l,g,y,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},uS=function(u,t){return nl[oS(u,t)]||0},ru_getTemplate=function(u){return{name:"sheets",children:u.map(function(t,e){return function(u,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:u,sheetId:e,"r:id":"rId"+e}}}}(t,e)})}},hS=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Zi=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(hS(arguments[t]));return u},Og=function(u){return""!==u.data.value||void 0!==u.styleId},fS_getTemplate=function(u,t,e){var n=u.index,s=u.collapsed,l=u.hidden,g=u.height,y=u.s,S=u.cells,E=void 0===S?[]:S;return function(u,t){for(var e=[],n=0,s=0;s<u.length;s++)(l=u[s]).mergeAcross&&(e.push({pos:s,excelPos:n}),n+=l.mergeAcross),n++;if(e.length)for(s=e.length-1;s>=0;s--){for(var g=[],l=u[e[s].pos],y=1;y<=l.mergeAcross;y++)g.push({ref:""+da(e[s].excelPos+1+y)+(t+1),styleId:l.styleId,data:{type:"empty",value:null}});g.length&&u.splice.apply(u,Zi([e[s].pos+1,0],g))}}(E,t),{name:"row",properties:{rawMap:{r:n,collapsed:s,hidden:l?"1":"0",ht:g,customHeight:null!=g?"1":"0",s:y,customFormat:null!=y?"1":"0"}},children:E.filter(Og).map(function(T,P){return function(u,t,e){var n=u.ref,s=u.data,l=u.styleId,g=s.type,y=s.value,S=g;"f"===g?S="str":g.charAt(0)===g.charAt(0).toUpperCase()&&(S=function(u){var t=u.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(g));var D,E={name:"c",properties:{rawMap:{r:n,t:"empty"===S?void 0:S,s:l?uS(l,e):void 0}}};return"empty"===S?E:(D="str"===S&&"f"===g?[{name:"f",textNode:b._.escapeString(b._.utf8_encode(y))}]:"inlineStr"===S?[{name:"is",children:[{name:"t",textNode:b._.escapeString(b._.utf8_encode(y))}]}]:[{name:"v",textNode:y}],Object.assign({},E,{children:D}))}(T,0,e)})}},il=function(u){return!u||"Portrait"!==u&&"Landscape"!==u?"portrait":u.toLocaleLowerCase()},Ps=function(u){if(null==u)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(u);return-1===e?1:e+1},bo=function(u){return u.reduce(function(t,e){var n=function(u){return"Center"===u?"C":"Right"===u?"R":"L"}(e.position),s=function(u,t){return t&&(u+="&amp;&quot;",u+=t.fontName||"Calibri",u+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",u+="&quot;",t.size&&(u+="&amp;"+t.size),t.strikeThrough&&(u+="&amp;S"),t.underline&&(u+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(u+="&amp;K"+t.color.replace("#","").toUpperCase())),u}(t+"&amp;"+n,e.font);return""+s+b._.escapeString(function(u){return b._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,n){u=u.replace(e,n)}),u}(e.value))},"")},kr=function(u){var e=[];return["all","first","even"].forEach(function(n){var s=u[n],l="all"===n?"odd":n;!s||!s.header&&!s.footer||b._.iterateObject(s,function(g,y){var S=""+g.charAt(0).toUpperCase()+g.slice(1);y&&e.push({name:""+l+S,properties:{rawMap:{"xml:space":"preserve"}},textNode:bo(y)})})}),e},Km_getTemplate=function(u){var e=u.currentSheet,n=u.margins,s=void 0===n?{}:n,l=u.pageSetup,g=u.headerFooterConfig,y=u.worksheet.table,S=y.rows,E=y.columns,D=E&&E.length?function(u,t){var e=[],n=[];u.forEach(function(g,y){var D,S=g.cells,E=0;g.index=y+1,S.forEach(function(T,P){var F=P+E+1,I=da(F),G=y+1;if(T.mergeAcross){var j=da(P+(E+=T.mergeAcross)+1);e.push(""+I+G+":"+j+G)}t[F-1]||(t[F-1]={});var U=T.collapsibleRanges;U&&U.forEach(function(z){n.push([F+z[0],F+z[1]])}),(D=t[F-1]).min=F,D.max=F,T.ref=""+I+G})}),n.sort(function(g,y){return g[0]!==y[0]?g[0]-y[0]:y[1]-g[1]});var s=new Map,l=new Map;return n.filter(function(g){var y=g.toString();return!s.get(y)&&(s.set(y,!0),!0)}).forEach(function(g){var y=t.find(function(E){return E.min==g[0]&&E.max==g[1]}),S=l.get(g[0]);t.push({min:g[0],max:g[1],outlineLevel:S||1,width:(y||{width:100}).width}),l.set(g[0],(S||0)+1)}),e}(S,E):[],T=b._.compose(function(u){return function(t){return u.length&&t.push({name:"cols",children:u.map(function(e){return function(u){var t=u.min,e=u.max,n=u.outlineLevel,s=u.s,l=u.width,g=u.hidden,y=u.bestFit,S=1,E="0";return l>1&&(S=function(u){return Math.ceil((u-12)/7+1)}(l),E="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:null!=n?n:void 0,width:S,style:s,hidden:g?"1":"0",bestFit:y?"1":"0",customWidth:E}}}}(e)})}),t}}(E),function(u,t){return function(e){return u.length&&e.push({name:"sheetData",children:u.map(function(n,s){return fS_getTemplate(n,s,t)})}),e}}(S,e+1),function(u){return function(t){return u.length&&t.push({name:"mergeCells",properties:{rawMap:{count:u.length}},children:u.map(function(e){return function(u){return{name:"mergeCell",properties:{rawMap:{ref:u}}}}(e)})}),t}}(D),function(u){return function(t){var e=u.top,s=u.right,g=u.bottom,S=u.left,D=u.header,P=u.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===g?.75:g,footer:void 0===P?.3:P,header:void 0===D?.3:D,left:void 0===S?.7:S,right:void 0===s?.7:s,top:void 0===e?.75:e}}}),t}}(s),function(u){return function(t){return u&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:il(u.orientation),paperSize:Ps(u.pageSize)}}}),t}}(l),function(u){return function(t){return u?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=u.first?1:0,differentOddEven:null!=u.even?1:0}},children:kr(u)}),t):t}}(g),function(u){return function(t){return er.worksheetImages.get(u)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:T([])}},Cr_getTemplate=function(u){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:u.map(function(e){return function(u){return{name:"Relationship",properties:{rawMap:{Id:u.Id,Type:u.Type,Target:u.Target}}}}(e)})}},qm=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},er=function(){function u(){}return u.createExcel=function(t,e,n,s,l){return this.addSheetName(e),function(u,t){1===(Pi=t)&&Eg(),u.forEach(lS)}(t,this.sheetNames.length),this.createWorksheet(e,n,s,l)},u.buildImageMap=function(t,e,n,s,l){var g=this.sheetNames.length,y=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:s.indexOf(n)+1}));var S=t;if(function(u,t){var e=u.position,n=e.colSpan,s=e.column;if(u.width)if(n)for(var l=t.slice(s-1,s+n-1),g=0,y=0;y<l.length;y++){var S=l[y].getActualWidth();if(u.width<g+S){u.position.colSpan=y+1,u.totalWidth=u.width,u.width=u.totalWidth-g;break}g+=S}else u.totalWidth=u.width}(S,s),function(u,t){var e=u.position,n=e.rowSpan,s=e.row;if(u.height)if(n)for(var l=0,g=0,y=s;y<s+n;y++){var S=nS(Ja(y,t)||20);if(u.height<l+S){u.position.rowSpan=g+1,u.totalHeight=u.height,u.height=u.totalHeight-l;break}l+=S,g++}else u.totalHeight=u.height}(S,l),y){var E=y.find(function(D){return D.sheetId===g});E?E.image.push(S):y.push({sheetId:g,image:[S]})}else this.images.set(S.id,[{sheetId:g,image:[S]}]),this.workbookImageIds.set(S.id,{type:S.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(g,S)},u.buildSheetImageMap=function(t,e){var n=this.worksheetImageIds.get(t);n||this.worksheetImageIds.set(t,n=new Map);var s=this.worksheetImages.get(t);s?(s.push(e),n.get(e.id)||n.set(e.id,{index:n.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),n.set(e.id,{index:0,type:e.imageType}))},u.addSheetName=function(t){for(var e=b._.escapeString(t.name)||"",n="";-1!==this.sheetNames.indexOf(""+e+n);)if(""===n)n="_1";else{var s=parseInt(n.slice(1),10);n="_"+(s+1)}t.name=""+e+n,this.sheetNames.push(t.name)},u.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},u.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=b.ExcelFactoryMode.SINGLE_SHEET},u.createWorkbook=function(){return lt(function(u){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[ru_getTemplate(u)]}}(this.sheetNames))},u.createStylesheet=function(t){return lt(Wm_getTemplate(t))},u.createSharedStrings=function(){return lt(function(u){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:u.size,uniqueCount:u.size}},children:ec(u)}}(this.sharedStrings))},u.createCore=function(t){return lt(function(u){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:u},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}(t))},u.createContentTypes=function(t){return lt(function(u){var t=new Array(u).fill(void 0).map(function(y,S){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(S+1)+".xml"}}),e=er.worksheetImages.size,n={};er.workbookImageIds.forEach(function(y){n[y.type]=!0});var s=new Array(e).fill(void 0).map(function(y,S){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(S+1)+".xml"}}),g=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Im(arguments[t]));return u}(Object.keys(n).map(function(y){return{name:"Default",ContentType:"image/"+y,Extension:y}}),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],s,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(y){return function(u){return{name:u.name,properties:{rawMap:{Extension:u.Extension,PartName:u.PartName,ContentType:u.ContentType}}}}(y)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:g}}(t))},u.createRels=function(){var t=Cr_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return lt(t)},u.createTheme=function(){return lt({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[hn(["dk1","sysClr","windowText","000000"]),hn(["lt1","sysClr","window","FFFFFF"]),hn(["dk2","srgbClr","44546A"]),hn(["lt2","srgbClr","E7E6E6"]),hn(["accent1","srgbClr","4472C4"]),hn(["accent2","srgbClr","ED7D31"]),hn(["accent3","srgbClr","A5A5A5"]),hn(["accent4","srgbClr","FFC000"]),hn(["accent5","srgbClr","5B9BD5"]),hn(["accent6","srgbClr","70AD47"]),hn(["hlink","srgbClr","0563C1"]),hn(["folHlink","srgbClr","954F72"])]},_h_getTemplate(),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Xl("phClr"),jn(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),jn(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[Ct(["6350","flat","sng","ctr"]),Ct(["12700","flat","sng","ctr"]),Ct(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[yr(),yr(),yr(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Xl("phClr"),Xl("phClr",[oi("tint","95000"),oi("satMod","170000")]),jn(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]})},u.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(s,l){return{Id:"rId"+(l+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(l+1)+".xml"}}),n=Cr_getTemplate(function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(qm(arguments[t]));return u}(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return lt(n)},u.createDrawing=function(t){return lt(function(u){var t=u.sheetIndex,e=er.worksheetImages.get(t),n=er.worksheetImageIds.get(t),s=e.map(function(l,g){var y=function(u){u.fitCell=!!u.fitCell||!u.width||!u.height;var t=u.position,e=void 0===t?{}:t,n=u.fitCell,s=u.width,l=void 0===s?0:s,g=u.height,y=void 0===g?0:g,S=u.totalHeight,E=u.totalWidth,D=e.offsetX,T=void 0===D?0:D,P=e.offsetY,F=void 0===P?0:P,I=e.row,G=void 0===I?1:I,j=e.rowSpan,U=void 0===j?1:j,z=e.column,Y=void 0===z?1:z,J=e.colSpan,ae=void 0===J?1:J;return{from:{row:G-1,col:Y-1,offsetX:ql(T),offsetY:ql(F)},to:{row:G-1+(n?1:U-1),col:Y-1+(n?1:ae-1),offsetX:ql(l+T),offsetY:ql(y+F)},height:ql(S||y),width:ql(E||l)}}(l);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[Gm("from",y.from),Gm("to",y.to),ur(l,g,n.get(l.id).index,y),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:s}}({sheetIndex:t}))},u.createDrawingRel=function(t){var e=this,n=this.worksheetImageIds.get(t),s=[];return n.forEach(function(l,g){s.push({Id:"rId"+(l.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(g).index+1)+"."+l.type})}),lt(Cr_getTemplate(s))},u.createWorksheetDrawingRel=function(t){var e=Cr_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return lt(e)},u.createWorksheet=function(t,e,n,s){return lt(Km_getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:n,headerFooterConfig:s}))},u.sharedStrings=new Map,u.sheetNames=[],u.images=new Map,u.worksheetImages=new Map,u.workbookImageIds=new Map,u.worksheetImageIds=new Map,u.factoryMode=b.ExcelFactoryMode.SINGLE_SHEET,u}(),Ti=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yS=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Ti(t,u),t.prototype.createExcel=function(e){var l=this.config;return er.createExcel(this.excelStyles,e,l.margins,l.pageSetup,l.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":b._.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,n,s){if(this.isFormula(s))return"f";if(n&&n.dataType)switch(n.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return e},t.prototype.addImage=function(e,n,s){if(this.config.addImageToCell){var l=this.config.addImageToCell(e,n,s);if(l)return er.buildImageMap(l.image,e,n,this.columnsToExport,this.config.rowHeight),l}},t.prototype.createCell=function(e,n,s){var l=this.getStyleById(e),g=this.getType(n,l,s)||n;return{styleId:l?e:void 0,data:{type:g,value:this.getCellValue(g,s)}}},t.prototype.createMergedCell=function(e,n,s,l){var g=null==s?"":s;return{styleId:this.getStyleById(e)?e:void 0,data:{type:n,value:"s"===n?er.getStringPosition(g).toString():s},mergeAcross:l}},t.prototype.getCellValue=function(e,n){if(null==n)return er.getStringPosition("").toString();switch(e){case"s":return""===n?"":er.getStringPosition(n).toString();case"f":return n.slice(1);case"n":return Number(n).toString();default:return n}},t}($i),Rg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ga=function(){return ga=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},ga.apply(this,arguments)},nn=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},nu=function(u){var t=u.data,e=u.fontSize,n=void 0===e?11:e,s=u.author,l=void 0===s?"AG Grid":s,g=er.images.size>0;if(ni.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),g){ni.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var y=0;er.images.forEach(function(T){var P=T[0].image[0];ni.addFile("xl/media/image"+ ++y+"."+P.imageType,P.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void er.resetFactory();var S=t.length,E=0;return t.forEach(function(T,P){ni.addFile("xl/worksheets/sheet"+(P+1)+".xml",T),g&&er.worksheetImages.get(P)&&Br(P,E++)}),ni.addFile("xl/workbook.xml",er.createWorkbook()),ni.addFile("xl/styles.xml",er.createStylesheet(n)),ni.addFile("xl/sharedStrings.xml",er.createSharedStrings()),ni.addFile("xl/theme/theme1.xml",er.createTheme()),ni.addFile("xl/_rels/workbook.xml.rels",er.createWorkbookRels(S)),ni.addFile("docProps/core.xml",er.createCore(l)),ni.addFile("[Content_Types].xml",er.createContentTypes(S)),ni.addFile("_rels/.rels",er.createRels()),er.resetFactory(),ni.getContent(u.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Br=function(u,t){var e="xl/drawings",n=e+"/drawing"+(t+1)+".xml",l="xl/worksheets/_rels/sheet"+(u+1)+".xml.rels";ni.addFile(e+"/_rels/drawing"+(t+1)+".xml.rels",er.createDrawingRel(u)),ni.addFile(n,er.createDrawing(u)),ni.addFile(l,er.createWorksheetDrawingRel(t))},ol=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.exportMode="xlsx",e}return Rg(t,u),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},n,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),u.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),s=this.getData(n),g=this.packageFile({data:[s],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType});return g&&Am.download(this.getFileName(n.fileName),g),s},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var n=this.getMergedParams(e),s=this.getData(n);return e&&"xml"===e.exportMode?s:this.packageFile({data:[s],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType})},t.prototype.setFactoryMode=function(e,n){void 0===n&&(n="xlsx"),("xlsx"===n?er:En).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?er:En).factoryMode},t.prototype.getSheetDataForExcel=function(e){var n=this.getMergedParams(e);return this.getData(n)},t.prototype.getMultipleSheetsAsExcel=function(e){return nu(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(u){var t=u.fileName,e=void 0===t?"export.xlsx":t,n=nu(u);n&&Am.download(e,n)}(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var n=this,s=n.columnModel,l=n.valueService,g=n.gridOptionsWrapper,y="xlsx"===this.getExportMode(),S="ag-grid";null!=e.sheetName&&(S=b._.utf8_encode(e.sheetName.toString().substr(0,31)));var E=ga(ga({},e),{sheetName:S,columnModel:s,valueService:l,gridOptionsWrapper:g,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(y?yS:Fm)(E)},t.prototype.styleLinker=function(e,n,s,l,g){if(e===Yl.HEADER)return["header"];if(e===Yl.HEADER_GROUPING)return["header","headerGroup"];var y=this.gridOptions.excelStyles,S=["cell"];if(!y||!y.length)return S;var E=y.map(function(D){return D.id});return this.stylingService.processAllCellClasses(l.getColDef(),{value:s,data:g.data,node:g,colDef:l.getColDef(),rowIndex:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},function(D){E.indexOf(D)>-1&&S.push(D)}),S.sort(function(D,T){return E.indexOf(D)<E.indexOf(T)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):nu(e)},nn([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),nn([b.Autowired("valueService")],t.prototype,"valueService",void 0),nn([b.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),nn([b.Autowired("stylingService")],t.prototype,"stylingService",void 0),nn([b.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),nn([b.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),nn([b.PostConstruct],t.prototype,"postConstruct",null),nn([b.Bean("excelCreator")],t)}(Dm),gt={moduleName:b.ModuleNames.ExcelExportModule,beans:[ol,ri,Pm],dependantModules:[Wt,Sn]},va=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ot=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Eo=(()=>(function(u){u[u.EXPANDED=0]="EXPANDED",u[u.COLLAPSED=1]="COLLAPSED",u[u.INDETERMINATE=2]="INDETERMINATE"}(Eo||(Eo={})),Eo))(),cO=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return va(t,u),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(Eo.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=b._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=b._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=b._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,n=!this.params.suppressExpandAll,s=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(s("searchOoo","Search..."));var g=this.columnModel.getAllGridColumns().some(function(y){return y.getOriginalParent()&&y.isFilterAllowed()});b._.setDisplayed(this.eFilterTextField.getGui(),e),b._.setDisplayed(this.eExpand,n&&g)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=b._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===Eo.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,b._.setDisplayed(this.eExpandChecked,this.currentExpandState===Eo.EXPANDED),b._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===Eo.COLLAPSED),b._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===Eo.INDETERMINATE)},ot([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),ot([b.RefSelector("eExpand")],t.prototype,"eExpand",void 0),ot([b.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),ot([b.PreConstruct],t.prototype,"preConstruct",null),ot([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Ag=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Oo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ji=function(u){function t(e){void 0===e&&(e=!1);var n=u.call(this,t.TEMPLATE)||this;return n.expanded=!1,n.hideHeader=e,n}return Ag(t,u),t.prototype.postConstruct=function(){this.eExpandChecked=b._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=b._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var n=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(s){s.key===b.KeyCode.ENTER&&n.toggleExpanded()}),this.addManagedListener(this.eventService,b.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,b.Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,n,s){if(null!=n){var l=b._.createIconNoSpan(e,this.gridOptionsWrapper,s);n.appendChild(l)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:b.Column.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var n,e=this;if(!this.expanded){this.expanded=!0,b._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var s=b._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),l=null===(n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===n?void 0:n.filterPromise;l&&l.then(function(g){e.underlyingFilter=g,g&&(s.appendChild(g.getGui()),e.agFilterToolPanelBody.appendChild(s),g.afterGuiAttached&&g.afterGuiAttached({container:"toolPanel"}))}),b._.setDisplayed(this.eExpandChecked,!0),b._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){!this.expanded||(this.expanded=!1,b._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),b._.setDisplayed(this.eExpandChecked,!1),b._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;!e||"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&(!this.expanded||this.collapse())},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',Oo([b.RefSelector("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),Oo([b.RefSelector("eFilterName")],t.prototype,"eFilterName",void 0),Oo([b.RefSelector("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),Oo([b.RefSelector("eFilterIcon")],t.prototype,"eFilterIcon",void 0),Oo([b.RefSelector("eExpand")],t.prototype,"eExpand",void 0),Oo([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),Oo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Oo([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Dp=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ph=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},sl=function(u){function t(e,n,s,l,g){var y=u.call(this)||this;return y.columnGroup=e,y.childFilterComps=n,y.depth=l,y.expandedCallback=s,y.showingColumn=g,y}return Dp(t,u),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(n){e.filterGroupComp.addItem(n),n.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var n=function(){var s=e.columnGroup.getColDef().headerTooltip;e.setTooltip(s)};n(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,n)}},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof b.ProvidedColumnGroup},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,n){this.filterGroupComp.hideItem(e,n)},t.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(n){n instanceof Ji&&e(n)})},t.prototype.addExpandCollapseListeners=function(){var e=this,n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(l){return l.expand()})},s=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(l){return l.collapse()})};this.addManagedListener(this.filterGroupComp,b.AgGroupComponent.EVENT_EXPANDED,n),this.addManagedListener(this.filterGroupComp,b.AgGroupComponent.EVENT_COLLAPSED,s)},t.prototype.getColumns=function(){return this.columnGroup instanceof b.ProvidedColumnGroup?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(n){e.addManagedListener(n,b.Column.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof b.ProvidedColumnGroup||this.addManagedListener(this.eventService,b.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(s){return s.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof b.ProvidedColumnGroup?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),b._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',Ph([b.RefSelector("filterGroupComp")],t.prototype,"filterGroupComp",void 0),Ph([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ph([b.PreConstruct],t.prototype,"preConstruct",null),Ph([b.PostConstruct],t.prototype,"init",null),t}(b.Component),ke=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nt=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},At=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return ke(t,u),t.prototype.init=function(e){var n=this;this.initialised=!0;var s={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};b._.mergeDeep(s,e),this.params=s,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,b.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(l){"filters"===l.source&&n.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var n=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(n,0);var s=this.filterGroupComps.length;s&&(this.filterGroupComps.forEach(function(l){return e.appendChild(l)}),this.setFirstAndLastVisible(0,s-1)),b._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var n=this;this.destroyFilters();var s=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(s,0);var l=this.filterGroupComps.length;l&&(this.filterGroupComps.forEach(function(g){return n.appendChild(g)}),this.setFirstAndLastVisible(0,l-1)),b._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,n){var s=this;return b._.flatten(e.map(function(l){if(l instanceof b.ProvidedColumnGroup)return b._.flatten(s.recursivelyAddFilterGroupComps(l,n));var g=l;if(!s.shouldDisplayFilter(g))return[];var S=new Ji(0===n);if(s.getContext().createBean(S),S.setColumn(g),n>0)return S;var E=s.createBean(new sl(g,[S],s.onGroupExpanded.bind(s),n,!0));return E.addCssClassToTitleBar("ag-filter-toolpanel-header"),E.collapse(),E}))},t.prototype.recursivelyAddFilterGroupComps=function(e,n){if(this.filtersExistInChildren(e.getChildren())){var s=e.getColGroupDef();if(s&&s.suppressFiltersToolPanel)return[];var l=e.isPadding()?n:n+1,g=b._.flatten(this.recursivelyAddComps(e.getChildren(),l));if(e.isPadding())return g;var y=new sl(e,g,this.onGroupExpanded.bind(this),n,!1);return this.getContext().createBean(y),y.addCssClassToTitleBar("ag-filter-toolpanel-header"),[y]}},t.prototype.filtersExistInChildren=function(e){var n=this;return e.some(function(s){return s instanceof b.ProvidedColumnGroup?n.filtersExistInChildren(s.getChildren()):n.shouldDisplayFilter(s)})},t.prototype.shouldDisplayFilter=function(e){var n=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!n},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){u.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,n){var s=[],l=function(y){var S=y.getFilterGroupId();(!n||b._.includes(n,S))&&(e&&y.isColumnGroup()?y.expand():y.collapse(),s.push(S)),y.getChildren().forEach(function(D){D instanceof sl&&l(D)})};if(this.filterGroupComps.forEach(l),this.onGroupExpanded(),n){var g=n.filter(function(y){return s.indexOf(y)<0});g.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",g)}},t.prototype.expandFilters=function(e,n){var s=[],l=function(y){if(y instanceof sl){var S=!1;return y.getChildren().forEach(function(T){l(T)&&(e?(y.expand(),S=!0):y.isColumnGroup()||y.collapse())}),S}var E=y.getColumn().getColId(),D=!n||b._.includes(n,E);return D&&(e?y.expand():y.collapse(),s.push(E)),D};if(this.filterGroupComps.forEach(l),this.onGroupExpanded(),n){var g=n.filter(function(y){return s.indexOf(y)<0});g.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",g)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,n=0,s=function(g){!g.isColumnGroup()||(g.isExpanded()?e++:n++,g.getChildren().forEach(function(y){y instanceof sl&&s(y)}))};this.filterGroupComps.forEach(s),this.dispatchEvent({type:"groupExpanded",state:e>0&&n>0?Eo.INDETERMINATE:n>0?Eo.COLLAPSED:Eo.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=b._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var l,g,n=function(y){return!b._.exists(e)||-1!==y.toLowerCase().indexOf(e)},s=function(y,S){if(!(y instanceof sl))return n(y.getColumnFilterName()||"");var E=y.getChildren(),D=n(y.getFilterGroupName()),T=S||D;if(T){y.hideGroup(!1);for(var P=0;P<E.length;P++)s(E[P],T),y.hideGroupItem(!1,P);return!0}var F=!1;return E.forEach(function(I,G){var j=s(I,S);y.hideGroupItem(!j,G),j&&(F=!0)}),y.hideGroup(!F),F};this.filterGroupComps.forEach(function(y,S){s(y,!1),void 0===l?y.containsCssClass("ag-hidden")||(l=S,g=S):!y.containsCssClass("ag-hidden")&&g!==S&&(g=S)}),this.setFirstAndLastVisible(l,g)},t.prototype.setFirstAndLastVisible=function(e,n){this.filterGroupComps.forEach(function(s,l){s.removeCssClass("ag-first-group-visible"),s.removeCssClass("ag-last-group-visible"),l===e&&s.addCssClass("ag-first-group-visible"),l===n&&s.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),b._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',Nt([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Nt([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Nt([b.Autowired("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),Nt([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),t}(b.Component),gn=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ne=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},nc=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return gn(t,u),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(g){return g()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};b._.mergeDeep(n,e),this.params=n,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){u.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',Ne([b.RefSelector("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),Ne([b.RefSelector("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),Ne([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ne([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(b.Component),Ts={moduleName:b.ModuleNames.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:cO},{componentName:"AgFiltersToolPanelList",componentClass:At}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:nc}],dependantModules:[lr,Sn]},ya=function(){function u(t,e,n,s){this.x=t,this.y=e,this.width=n,this.height=s}return u.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},u.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},u.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},u.prototype.render=function(t,e){void 0===e&&(e=u.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},u.noParams={},u}(),iu=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Rp=function(){function u(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return u.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},u.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(u.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),u.prototype.AxB=function(t,e,n){var s=iu(t,6),l=s[0],g=s[1],y=s[2],S=s[3],E=s[4],D=s[5],T=iu(e,6),P=T[0],F=T[1],I=T[2],G=T[3],j=T[4],U=T[5];(n=n||t)[0]=l*P+y*F,n[1]=g*P+S*F,n[2]=l*I+y*G,n[3]=g*I+S*G,n[4]=l*j+y*U+E,n[5]=g*j+S*U+D},u.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},u.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new u(e)},u.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},u.prototype.inverse=function(){var t=iu(this.elements,6),e=t[0],n=t[1],s=t[2],l=t[3],g=t[4],y=t[5],S=1/(e*l-n*s);return new u([l*=S,-(n*=S),-(s*=S),e*=S,s*y-l*g,n*g-e*y])},u.prototype.inverseTo=function(t){var e=iu(this.elements,6),n=e[0],s=e[1],l=e[2],g=e[3],y=e[4],S=e[5],E=1/(n*g-s*l);return t.setElements([g*=E,-(s*=E),-(l*=E),n*=E,l*S-g*y,s*y-n*S]),this},u.prototype.invertSelf=function(){var t=this.elements,e=iu(t,6),n=e[0],s=e[1],l=e[2],g=e[3],y=e[4],S=e[5],E=1/(n*g-s*l);return n*=E,s*=E,l*=E,t[0]=g*=E,t[1]=-s,t[2]=-l,t[3]=n,t[4]=l*S-g*y,t[5]=s*y-n*S,this},u.prototype.clone=function(){return new u(this.elements.slice())},u.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},u.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var F,I,s=this.elements,l=s[0],g=s[1],y=s[2],S=s[3],E=.5*t.width,D=.5*t.height,T=t.x+E,P=t.y+D;if(e){E-=e,D-=e;var G=Math.sqrt(l*l+y*y),j=Math.sqrt(g*g+S*S);F=Math.abs(E*l)+Math.abs(D*y)+Math.abs(G*e),I=Math.abs(E*g)+Math.abs(D*S)+Math.abs(j*e)}else F=Math.abs(E*l)+Math.abs(D*y),I=Math.abs(E*g)+Math.abs(D*S);return n||(n=new ya(0,0,0,0)),n.x=T*l+P*y+s[4]-F,n.y=T*g+P*S+s[5]-I,n.width=F+F,n.height=I+I,n},u.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},u.flyweight=function(t){return t?u.matrix.setElements(t instanceof u?t.elements:t):u.matrix.setIdentityElements(),u.matrix},u.matrix=new u,u}();function Pg(u){var t=u.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var Zo=(()=>(function(u){u[u.All=0]="All",u[u.None=1]="None"}(Zo||(Zo={})),Zo))(),Mr=function(){function u(){this.id=Pg(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Rp,this.inverseMatrix=new Rp,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=Zo.All}return u.isNode=function(t){return!!t&&void 0!==t.matrix},u.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,s=0;s<n;s++)e[s]._setScene(t)},Object.defineProperty(u.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),u.prototype._setParent=function(t){this._parent=t},Object.defineProperty(u.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),u.prototype.countChildren=function(t){if(void 0===t&&(t=u.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,n=e.length,s=n,l=0;l<n;l++)s+=e[l].countChildren(t-1);return s},u.prototype.append=function(t){u.isNode(t)&&(t=[t]);for(var e=t.length,n=0;n<e;n++){var s=t[n];if(s.parent)throw new Error(s+" already belongs to another parent: "+s.parent+".");if(s.scene)throw new Error(s+" already belongs a scene: "+s.scene+".");if(this.childSet[s.id])throw new Error("Duplicate "+s.constructor.name+" node: "+s);this._children.push(s),this.childSet[s.id]=!0,s._setParent(this),s._setScene(this.scene)}this.dirty=!0},u.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},u.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},u.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var s=this.children.indexOf(e);if(!(s>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(s,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(u.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),u.prototype.transformPoint=function(t,e){for(var n=Rp.flyweight(this.matrix),s=this.parent;s;)n.preMultiplySelf(s.matrix),s=s.parent;return n.invertSelf().transformPoint(t,e)},u.prototype.inverseTransformPoint=function(t,e){for(var n=Rp.flyweight(this.matrix),s=this.parent;s;)n.preMultiplySelf(s.matrix),s=s.parent;return n.transformPoint(t,e)},Object.defineProperty(u.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),u.prototype.containsPoint=function(t,e){return!1},u.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==Zo.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var s=n.length-1;s>=0;s--){var l=n[s].pickNode(t,e);if(l)return l}else if(!this.isContainerNode)return this}},u.prototype.computeBBox=function(){},u.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},u.prototype.computeTransformMatrix=function(){var g,y,t=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}([0,0],2),e=t[0],n=t[1],s=this.scalingX,l=this.scalingY;1===s&&1===l?(g=0,y=0):(g=null===this.scalingCenterX?e:this.scalingCenterX,y=null===this.scalingCenterY?n:this.scalingCenterY);var T,P,S=this.rotation,E=Math.cos(S),D=Math.sin(S);0===S?(T=0,P=0):(T=null===this.rotationCenterX?e:this.rotationCenterX,P=null===this.rotationCenterY?n:this.rotationCenterY);var F=this.translationX,I=this.translationY,G=g*(1-s)-T,j=y*(1-l)-P;this.dirtyTransform=!1,this.matrix.setElements([E*s,D*s,-D*l,E*l,E*G-D*j+T+F,D*G+E*j+P+I]).inverseTo(this.inverseMatrix)},Object.defineProperty(u.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),u.MAX_SAFE_INTEGER=Math.pow(2,53)-1,u}(),ma=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ie=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return ma(t,u),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,n){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,s=1/0,l=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(g){if(g.visible){var y=g.computeBBox();if(y){if(!(g instanceof t)){g.dirtyTransform&&g.computeTransformMatrix();for(var S=Rp.flyweight(g.matrix),E=g.parent;E;)S.preMultiplySelf(E.matrix),E=E.parent;S.transformBBox(y,0,y)}var D=y.x,T=y.y;D<e&&(e=D),T<s&&(s=T),D+y.width>n&&(n=D+y.width),T+y.height>l&&(l=T+y.height)}}}),new ya(e,s,n-e,l-s)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.children,s=n.length;e.globalAlpha*=this.opacity;for(var l=0;l<s;l++){var g=n[l];g.visible&&(e.save(),g.render(e),e.restore())}},t.className="Group",t}(Mr);function Ca(u,t){var e=Object.create(u);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var Qo=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xs=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return Qo(t,u),t.createInstance=function(e){var n=Object.create(e);return n._setParent(void 0),n.id=e.id+"-Instance-"+String(++e.lastInstanceId),n},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,n=Object.getOwnPropertyNames(e),s=0,l=n.length;s<l;s++){var g=n[s];this[g]=e[g]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var n in e)this[n]=e[n]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,n=Object.getPrototypeOf(e);for(var s in e)e.hasOwnProperty(s)&&n.hasOwnProperty(s)&&(this[s]=e[s])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,n,s){return null!=s?Math.floor(s)+Math.floor(n%1+s%1):Math.floor(n)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var n=this._lineDash;if(n!==e){if(n&&e&&n.length===e.length){for(var s=!0,l=e.length,g=0;g<l;g++)if(n[g]!==e[g]){s=!1;break}if(s)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var n=this._fillShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var n=this._strokeShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var n=this.scene.canvas.pixelRatio||1,s=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=s*this.opacity*this.fillOpacity;var l=this.fillShadow;l&&l.enabled&&(e.shadowColor=l.color,e.shadowOffsetX=l.xOffset*n,e.shadowOffsetY=l.yOffset*n,e.shadowBlur=l.blur*n),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=s*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var g=this.strokeShadow;g&&g.enabled&&(e.shadowColor=g.color,e.shadowOffsetX=g.xOffset*n,e.shadowOffsetY=g.yOffset*n,e.shadowBlur=g.blur*n),e.stroke()}}},t.prototype.containsPoint=function(e,n){return this.isPointInPath(e,n)},t.defaultStyles=Ca({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Mr),Jo=Math.sign?Math.sign:function(u){return 0==(u=+u)||isNaN(u)?u:u>0?1:-1};function Ap(u,t,e,n,s,l,g,y){var S=(e-u)*(y-l)-(n-t)*(g-s);if(0===S)return null;var E=((g-s)*(t-l)-(u-s)*(y-l))/S,D=((e-u)*(t-l)-(n-t)*(u-s))/S;return E>=0&&E<=1&&D>=0&&D<=1?{x:u+E*(e-u),y:t+E*(n-t)}:null}function Xm(u,t,e,n,s,l,g,y,S,E,D,T){for(var P=[],F=E-T,I=D-S,G=S*(T-E)-E*(D-S),j=ic(u,e,s,g),U=ic(t,n,l,y),se=function ou(u,t,e,n){if(0===u)return function Tg(u,t,e){if(0===u)return function CS(u,t){var e=-t/u;return 0!==u&&e>=0&&e<=1?[e]:[]}(t,e);var n=t*t-4*u*e,s=[];if(0===n){var l=-t/(2*u);l>=0&&l<=1&&s.push(l)}else if(n>0){var g=Math.sqrt(n),y=(-t-g)/(2*u),S=(-t+g)/(2*u);y>=0&&y<=1&&s.push(y),S>=0&&S<=1&&s.push(S)}return s}(t,e,n);var s=t/u,l=e/u,y=(3*l-s*s)/9,S=(9*s*l-n/u*27-2*s*s*s)/54,E=y*y*y+S*S,D=1/3,T=[];if(E>=0){var P=Math.sqrt(E),F=Jo(S+P)*Math.pow(Math.abs(S+P),D),I=Jo(S-P)*Math.pow(Math.abs(S-P),D),G=Math.abs(Math.sqrt(3)*(F-I)/2),j=-D*s+(F+I);if(j>=0&&j<=1&&T.push(j),0===G){var U=-D*s-(F+I)/2;U>=0&&U<=1&&T.push(U)}}else{var z=Math.acos(S/Math.sqrt(-y*y*y)),Y=D*s,J=2*Math.sqrt(-y),ae=J*Math.cos(D*z)-Y,se=J*Math.cos(D*(z+2*Math.PI))-Y,ce=J*Math.cos(D*(z+4*Math.PI))-Y;ae>=0&&ae<=1&&T.push(ae),se>=0&&se<=1&&T.push(se),ce>=0&&ce<=1&&T.push(ce)}return T}(F*j[0]+I*U[0],F*j[1]+I*U[1],F*j[2]+I*U[2],F*j[3]+I*U[3]+G),ce=0;ce<se.length;ce++){var _e,pe=se[ce],fe=pe*pe,we=pe*fe,Fe=j[0]*we+j[1]*fe+j[2]*pe+j[3],Re=U[0]*we+U[1]*fe+U[2]*pe+U[3];(_e=S!==D?(Fe-S)/(D-S):(Re-E)/(T-E))>=0&&_e<=1&&P.push({x:Fe,y:Re})}return P}function ic(u,t,e,n){return[3*t-u-3*e+n,3*u-6*t+3*e,-3*u+3*t,u]}var wS=function(){function u(){this.commands=[],this.params=[],this._closedPath=!1}return u.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},u.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},u.prototype.rect=function(t,e,n,s){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+s),this.lineTo(t,e+s),this.closePath()},u.prototype.arcTo=function(t,e,n,s,l,g,y){var S=this.xy;if(S){t<0&&(t=-t),e<0&&(e=-e);var E=S[0],D=S[1],T=(E-g)/2,P=(D-y)/2,F=Math.sin(n),I=Math.cos(n),G=I*T+F*P,j=-F*T+I*P,U=G/t,z=j/e,Y=U*U+z*z,J=(E+g)/2,ae=(D+y)/2,se=0,ce=0;Y>=1?(t*=Y=Math.sqrt(Y),e*=Y):(Y=Math.sqrt(1/Y-1),s===l&&(Y=-Y),J+=I*(se=Y*t*z)-F*(ce=-Y*e*U),ae+=F*se+I*ce);var pe=Math.atan2((j-ce)/e,(G-se)/t),fe=Math.atan2((-j-ce)/e,(-G-se)/t)-pe;this.cubicArc(J,ae,t,e,n,pe,pe+fe,1-l)}},u.cubicArc=function(t,e,n,s,l,g,y,S,E,D){if(D){var T=S;S=E,E=T}var P=e.length,F=.5522847498307935,I=Math.sin(S),G=Math.cos(S),j=Math.sin(y),U=Math.cos(y),z=Math.PI/2,Y=U*G*l-j*I*g,J=j*G*l+U*I*g,ae=-U*I*l-j*G*g,se=-j*I*l+U*G*g;for((E-=S)<0&&(E+=2*Math.PI),t.push("M"),e.push(Y+n,J+s);E>=z;){E-=z,t.push("C");var ce=ae+n;e.push(Y+ae*F+n,J+se*F+s,Y*F+ae+n,J*F+se+s,Math.abs(ce)<1e-8?0:ce,se+s),T=Y,Y=ae,ae=-T,T=J,J=se,se=-T}if(E){var pe=1.3333333333333333*Math.tan(E/4),fe=Math.sin(E),we=Math.cos(E),Fe=we+pe*fe,Re=fe-pe*we;t.push("C"),ce=Y*we+ae*fe+n,e.push(Y+ae*pe+n,J+se*pe+s,Y*Fe+ae*Re+n,J*Fe+se*Re+s,Math.abs(ce)<1e-8?0:ce,J*we+se*fe+s)}if(D)for(var _e=P,De=e.length-2;_e<De;_e+=2,De-=2)T=e[_e],e[_e]=e[De],e[De]=T,T=e[_e+1],e[_e+1]=e[De+1],e[De+1]=T},u.prototype.cubicArc=function(t,e,n,s,l,g,y,S){var E=this.commands,D=this.params,T=E.length;u.cubicArc(E,D,t,e,n,s,l,g,y,S);var P=D[D.length-2],F=D[D.length-1];this.xy?(E[T]="L",this.xy[0]=P,this.xy[1]=F):this.xy=[P,F]},u.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var s=[],l=n-2,g=0;g<l;g+=2)s.push((1-e)*t[g]+e*t[g+2],(1-e)*t[g+1]+e*t[g+3]);return this.deCasteljau(s,e)},u.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var s=1/e,l=s;l<=1;l+=s){var g=this.deCasteljau(t,l);this.lineTo(g[0],g[1])}},u.prototype.quadraticCurveTo=function(t,e,n,s){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+s)/3,n,s)},u.prototype.cubicCurveTo=function(t,e,n,s,l,g){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,s,l,g),this.xy[0]=l,this.xy[1]=g},Object.defineProperty(u.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),u.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},u.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},u.prototype.isPointInPath=function(t,e){for(var n=this.commands,s=this.params,l=n.length,g=-1e4,y=-1e4,S=NaN,E=NaN,D=0,T=0,P=0,F=0,I=0;F<l;F++)switch(n[F]){case"M":isNaN(S)||Ap(S,E,D,T,g,y,t,e)&&P++,S=D=s[I++],E=T=s[I++];break;case"L":Ap(D,T,D=s[I++],T=s[I++],g,y,t,e)&&P++;break;case"C":P+=Xm(D,T,s[I++],s[I++],s[I++],s[I++],D=s[I++],T=s[I++],g,y,t,e).length;break;case"Z":isNaN(S)||Ap(S,E,D,T,g,y,t,e)&&P++}return P%2==1},u.fromString=function(t){var e=new u;return e.setFromString(t),e},u.parseSvgPath=function(t){return t.trim().split(u.splitCommandsRe).map(function(e){var n=e.match(u.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}})},u.prettifySvgPath=function(t){return u.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},u.prototype.setFromString=function(t){var s,l,g,y,S,e=this;function E(){S.match(u.quadraticCommandRe)||(g=s,y=l)}function D(){S.match(u.cubicCommandRe)||(g=s,y=l)}this.clear(),u.parseSvgPath(t).forEach(function(T){var P=T.params,F=P.length,I=0;switch(T.command){case"M":for(e.moveTo(s=P[I++],l=P[I++]);I<F;)e.lineTo(s=P[I++],l=P[I++]);break;case"m":for(e.moveTo(s+=P[I++],l+=P[I++]);I<F;)e.lineTo(s+=P[I++],l+=P[I++]);break;case"L":for(;I<F;)e.lineTo(s=P[I++],l=P[I++]);break;case"l":for(;I<F;)e.lineTo(s+=P[I++],l+=P[I++]);break;case"C":for(;I<F;)e.cubicCurveTo(P[I++],P[I++],g=P[I++],y=P[I++],s=P[I++],l=P[I++]);break;case"c":for(;I<F;)e.cubicCurveTo(s+P[I++],l+P[I++],g=s+P[I++],y=l+P[I++],s+=P[I++],l+=P[I++]);break;case"S":for(D();I<F;)e.cubicCurveTo(s+s-g,l+l-y,g=P[I++],y=P[I++],s=P[I++],l=P[I++]);break;case"s":for(D();I<F;)e.cubicCurveTo(s+s-g,l+l-y,g=s+P[I++],y=l+P[I++],s+=P[I++],l+=P[I++]);break;case"Q":for(;I<F;)e.quadraticCurveTo(g=P[I++],y=P[I++],s=P[I++],l=P[I++]);break;case"q":for(;I<F;)e.quadraticCurveTo(g=s+P[I++],y=l+P[I++],s+=P[I++],l+=P[I++]);break;case"T":for(E();I<F;)e.quadraticCurveTo(g=s+s-g,y=l+l-y,s=P[I++],l=P[I++]);break;case"t":for(E();I<F;)e.quadraticCurveTo(g=s+s-g,y=l+l-y,s+=P[I++],l+=P[I++]);break;case"A":for(;I<F;)e.arcTo(P[I++],P[I++],P[I++]*Math.PI/180,P[I++],P[I++],s=P[I++],l=P[I++]);break;case"a":for(;I<F;)e.arcTo(P[I++],P[I++],P[I++]*Math.PI/180,P[I++],P[I++],s+=P[I++],l+=P[I++]);break;case"Z":case"z":e.closePath();break;case"H":for(;I<F;)e.lineTo(s=P[I++],l);break;case"h":for(;I<F;)e.lineTo(s+=P[I++],l);break;case"V":for(;I<F;)e.lineTo(s,l=P[I++]);break;case"v":for(;I<F;)e.lineTo(s,l+=P[I++])}S=T.command})},u.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,s=[],l=0,g=0;l<n;l++)switch(t[l]){case"M":s.push("M"+e[g++]+","+e[g++]);break;case"L":s.push("L"+e[g++]+","+e[g++]);break;case"C":s.push("C"+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]);break;case"Z":s.push("Z")}return s.join("")},u.prototype.toPrettyString=function(){return u.prettifySvgPath(this.toString())},u.prototype.toSvg=function(){return u.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+u.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},u.prototype.toDebugSvg=function(){var t=u.prettifySvgPath(this.toString());return u.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+u.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},u.prototype.toCubicPaths=function(){var n,s,l,g,y,t=[],e=this.params,S=0;return this.commands.forEach(function(E){switch(E){case"M":n=[s=g=e[S++],l=y=e[S++]],t.push(n);break;case"L":var D=e[S++],T=e[S++];n.push((g+g+D)/3,(y+y+T)/3,(g+D+D)/3,(y+T+T)/3,g=D,y=T);break;case"C":n.push(e[S++],e[S++],e[S++],e[S++],g=e[S++],y=e[S++]);break;case"Z":n.push((g+g+s)/3,(y+y+l)/3,(g+s+s)/3,(y+l+l)/3,g=s,y=l)}}),t},u.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},u.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,u.matchParamsRe=/-?[0-9]*\.?\d+/g,u.quadraticCommandRe=/[QqTt]/,u.cubicCommandRe=/[CcSs]/,u.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',u.xmlns="http://www.w3.org/2000/svg",u}(),es=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oc=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.path=new wS,e._dirtyPath=!0,e._svgPath="",e}return es(t,u),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n);return this.path.closedPath&&this.path.isPointInPath(s.x,s.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var n=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),n.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(xs),Pp=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),al=function(u){function t(){var e=u.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return Pp(t,u),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new ya(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.x1,s=this.y1,l=this.x2,g=this.y2;if(n===l){var y=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=y,l=y}else if(s===g){var S=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=S,g=S}e.beginPath(),e.moveTo(n,s),e.lineTo(l,g),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=Ca(xs.defaultStyles,{fill:void 0,strokeWidth:1}),t}(xs),xg=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},wa=function(){function u(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(u.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach(function(s){void 0===n.get(s)&&n.set(s,e.push(s)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),u.prototype.ticks=function(){return this._domain},u.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(u.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),u.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=xg(this._range,2),s=n[0],l=n[1],g=l<s;g&&(s=(t=xg([l,s],2))[0],l=t[1]);var y=(l-s)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(y=Math.floor(y)),s+=(l-s-y*(e-this._paddingInner))*this._align,this._bandwidth=y*(1-this._paddingInner),this._round&&(s=Math.round(s),this._bandwidth=Math.round(this._bandwidth));for(var S=[],E=0;E<e;E++)S.push(s+y*E);this.ordinalRange=g?S.reverse():S}},u}(),sc=function(){function u(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return u.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Mr.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},u.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},u}(),Th=function(){function u(t,e){this.groups=t,this.parents=e}return u.select=function(t){return new u([["function"==typeof t?t():t]],[void 0])},u.selectAll=function(t){return new u([null==t?[]:t],[void 0])},u.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},u.prototype.appendFn=function(t){return this.select(function(e,n,s,l){return e.appendChild(t(e,n,s,l))})},u.prototype.select=function(t){for(var e=this.groups,n=e.length,s=[],l=0;l<n;l++)for(var g=e[l],y=g.length,S=s[l]=new Array(y),E=0;E<y;E++){var D=g[E];if(D){var T=t(D,D.datum,E,g);T&&(T.datum=D.datum),S[E]=T}}return new u(s,this.parents)},u.prototype.selectByClass=function(t){return this.select(function(e){if(Mr.isNode(e))for(var n=e.children,s=n.length,l=0;l<s;l++){var g=n[l];if(g instanceof t)return g}})},u.prototype.selectByTag=function(t){return this.select(function(e){if(Mr.isNode(e))for(var n=e.children,s=n.length,l=0;l<s;l++){var g=n[l];if(g.tag===t)return g}})},u.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(Mr.isNode(e))for(var s=e.children,l=s.length,g=0;g<l;g++){var y=s[g];y instanceof t&&n.push(y)}return n})},u.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(Mr.isNode(e))for(var s=e.children,l=s.length,g=0;g<l;g++){var y=s[g];y.tag===t&&n.push(y)}return n})},u.prototype.selectNone=function(){return[]},u.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],n=[],s=this.groups,l=s.length,g=0;g<l;g++)for(var y=s[g],S=y.length,E=0;E<S;E++){var D=y[E];D&&(e.push(t(D,D.datum,E,y)),n.push(D))}return new u(e,n)},u.prototype.each=function(t){for(var e=this.groups,n=e.length,s=0;s<n;s++)for(var l=e[s],g=l.length,y=0;y<g;y++){var S=l[y];S&&t(S,S.datum,y,l)}return this},u.prototype.remove=function(){return this.each(function(t){if(Mr.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},u.prototype.merge=function(t){for(var e=this.groups,n=t.groups,s=e.length,g=Math.min(s,n.length),y=new Array(s),S=0;S<g;S++)for(var E=e[S],D=n[S],T=E.length,P=y[S]=new Array(T),F=0;F<T;F++)P[F]=E[F]||D[F]||void 0;for(;S<s;S++)y[S]=e[S];return new u(y,this.parents)},u.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var s=t[n],l=s.length,g=0;g<l;g++){var y=s[g];if(y)return y}return null},u.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},u.prototype.attrFn=function(t,e){return this.each(function(n,s,l,g){n[t]=e(n,s,l,g)}),this},u.prototype.call=function(t){return t(this),this},Object.defineProperty(u.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"data",{get:function(){var t=[];return this.each(function(e,n){return t.push(n)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"enter",{get:function(){return new u(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"exit",{get:function(){return new u(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),u.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(u.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),u.prototype.setData=function(t,e){if("function"!=typeof t){var n=t;t=function(){return n}}for(var s=this.groups,l=this.parents,g=s.length,y=new Array(g),S=new Array(g),E=new Array(g),D=0;D<g;D++){var T=s[D],P=l[D];if(!P)throw new Error("Group #"+D+" has no parent: "+T);var F=T.length,I=t(P,P.datum,D,l),G=I.length,j=S[D]=new Array(G),U=y[D]=new Array(G),z=E[D]=new Array(F);e?this.bindKey(P,T,j,U,z,I,e):this.bindIndex(P,T,j,U,z,I);for(var Y=0,J=0;Y<G;Y++){var ae=j[Y];if(ae){Y>=J&&(J=Y+1);for(var se=void 0;!(se=U[J])&&J<G;)J++;ae.next=se||null}}}var ce=new u(y,l);return ce.enterGroups=S,ce.exitGroups=E,ce},u.prototype.bindIndex=function(t,e,n,s,l,g){for(var y=e.length,S=g.length,E=0;E<S;E++)(D=e[E])?(D.datum=g[E],s[E]=D):n[E]=new sc(t,g[E]);for(;E<y;E++){var D;(D=e[E])&&(l[E]=D)}},u.prototype.bindKey=function(t,e,n,s,l,g,y){for(var S=e.length,E=g.length,D=new Array(S),T={},P=0;P<S;P++)(F=e[P])&&((I=D[P]=u.keyPrefix+y(F,F.datum,P,e))in T?l[P]=F:T[I]=F);for(P=0;P<E;P++){var I;(F=T[I=u.keyPrefix+y(t,g[P],P,g)])?(s[P]=F,F.datum=g[P],T[I]=void 0):n[P]=new sc(t,g[P])}for(P=0;P<S;P++){var F;(F=e[P])&&T[D[P]]===F&&(l[P]=F)}},u.keyPrefix="$",u}(),Ms=function(){function u(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(u.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),u.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},u.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},u.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},u.prototype.getDataURL=function(t){return this.element.toDataURL(t)},u.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var n=this.getDataURL("image/png"),s=this.document,l=s.createElement("a");l.href=n,l.download=t,l.style.display="none",s.body.appendChild(l),l.click(),s.body.removeChild(l)},Object.defineProperty(u.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),u.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(u.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(u.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),u.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,s=n.element,l=n.context,g=n.pixelRatio;s.width=Math.round(t*g),s.height=Math.round(e*g),s.style.width=t+"px",s.style.height=e+"px",l.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(u,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(u,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(u,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),u.measureText=function(t,e,n,s){var l=this.textMeasuringContext;return l.font=e,l.textBaseline=n,l.textAlign=s,l.measureText(t)},u.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var s=n.measureText(t);return{width:s.width,height:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},u.measureSvgText=function(t,e){var n=this.textSizeCache,s=n[e];if(s){var l=s[t];if(l)return l}else n[e]={};var g=this.svgText;g.style.font=e,g.textContent=t;var y=g.getBBox(),S={width:y.width,height:y.height};return n[e][t]=S,S},u.overrideScale=function(t,e){var n=0,s={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(g,y,S,E,D,T){this.$setTransform(g*e,y*e,S*e,E*e,D*e,T*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var l in s)s.hasOwnProperty(l)&&(t["$"+l]||(t["$"+l]=t[l]),t[l]=s[l])},u.textSizeCache={},u}(),In=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Pr=function(){function u(t,e,n){var s=this;void 0===t&&(t=window.document),this.id=Pg(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var l,y=s.ctx,S=s.root,E=s.pendingSize;s.animationFrameId=0,E&&((l=s.canvas).resize.apply(l,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(In(arguments[t]));return u}(E)),s.pendingSize=void 0),!S||S.visible?(y.clearRect(0,0,s.width,s.height),S&&(y.save(),S.visible&&S.render(y),y.restore()),s._frameIndex++,s.debug.renderFrameIndex&&(y.fillStyle="white",y.fillRect(0,0,40,15),y.fillStyle="black",y.fillText(s.frameIndex.toString(),2,10)),s.dirty=!1):s.dirty=!1},this.canvas=new Ms(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(u.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),u.prototype.download=function(t){this.canvas.download(t)},u.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(u.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),u.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(u.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),u.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(u.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),u.prototype.appendPath=function(t){var e=this.ctx,n=t.commands,s=t.params,l=n.length,g=0;e.beginPath();for(var y=0;y<l;y++)switch(n[y]){case"M":e.moveTo(s[g++],s[g++]);break;case"L":e.lineTo(s[g++],s[g++]);break;case"C":e.bezierCurveTo(s[g++],s[g++],s[g++],s[g++],s[g++],s[g++]);break;case"Z":e.closePath()}},Object.defineProperty(u.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),u.className="Scene",u}(),Do=function(){return Do=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Do.apply(this,arguments)},Tp=function(){function u(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return u.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var s=this.allPropertyListeners,l=s.get(t);l||s.set(t,l=new Map),l.has(e)||l.set(e,new Set);var y=l.get(e);y&&y.add(n)},u.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var l=this.allPropertyListeners.get(t);if(l)if(e){var g=l.get(e);g&&(g.delete(n),g.size||l.delete(e))}else l.clear()},u.prototype.notifyPropertyListeners=function(t,e,n){var s=this,g=this.allPropertyListeners.get(t);g&&g.forEach(function(y,S){y.forEach(function(E){return S.call(E,{type:t,source:s,value:n,oldValue:e})})})},u.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var s=this.allEventListeners,l=s.get(t);l||s.set(t,l=new Map),l.has(e)||l.set(e,new Set);var y=l.get(e);y&&y.add(n)},u.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var l=this.allEventListeners.get(t);if(l)if(e){var g=l.get(e);g&&(g.delete(n),g.size||l.delete(e))}else l.clear()},u.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach(function(s){var l=n.get(s);l&&l.forEach(function(g,y){g.forEach(function(S){return y.call(S,{type:s,source:e})})})})},u.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach(function(s,l){s.forEach(function(g){return l.call(g,Do(Do({},t),{source:e}))})})},u.privateKeyPrefix="_",u}();function Ro(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];return u.indexOf("debugger"),function(n,s){var l=Tp.privateKeyPrefix+s,g=l+"Events";n[s]||(u&&(n[g]=u),Object.defineProperty(n,s,{set:function(y){var S=this[l];if(y!==S||"object"==typeof y&&null!==y){this[l]=y,this.notifyPropertyListeners(s,S,y);var E=this[g];E&&this.notifyEventListeners(E)}},get:function(){return this[l]},enumerable:!0,configurable:!0}))}}var Nn=function(){function u(t,e,n,s){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===s&&(s=e),this.top=t,this.right=e,this.bottom=n,this.left=s}return u.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},u}();function xi(u){var t=typeof u;return"string"!==t&&"number"===t&&u-u<1}function ul(u){return u instanceof Date&&!isNaN(+u)}function cl(u){return"string"==typeof u}function Zm(u){return function xh(u){return xi(u)||function Wr(u){return!!u&&u.hasOwnProperty("valueOf")&&xi(u.valueOf())}(u)}(u)||ul(u)}function ts(u,t){return u=+u,t=+t,function(e){return u*(1-e)+t*e}}var Mh=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},_a=function(){function u(t,e,n,s){void 0===s&&(s=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,s||0))}return u.fromString=function(t){if(t.indexOf("#")>=0)return u.fromHexString(t);var e=u.nameToHex[t];if(e)return u.fromHexString(e);if(t.indexOf("rgb")>=0)return u.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},u.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(s){return parseInt(s,16)}).map(function(s){return s+16*s})}if(e.length>=3&&e.every(function(s){return s>=0}))return 3===e.length&&e.push(255),e},u.fromHexString=function(t){var e=u.parseHex(t);if(e){var n=Mh(e,4);return new u(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},u.stringToRgba=function(t){for(var e=Mh([NaN,NaN],2),n=e[0],s=e[1],l=0;l<t.length;l++){var g=t[l];if(n||"("!==g){if(")"===g){s=l;break}}else n=l}var y=n&&s&&t.substring(n+1,s);if(y){var S=y.split(","),E=[];for(l=0;l<S.length;l++){var D=S[l],T=parseFloat(D);if(isNaN(T))return;D.indexOf("%")>=0?(T=Math.max(0,Math.min(100,T)),T/=100):3===l?T=Math.max(0,Math.min(1,T)):(T=Math.max(0,Math.min(255,T)),T/=255),E.push(T)}return E}},u.fromRgbaString=function(t){var e=u.stringToRgba(t);if(e){if(3===e.length)return new u(e[0],e[1],e[2]);if(4===e.length)return new u(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},u.fromArray=function(t){if(4===t.length)return new u(t[0],t[1],t[2],t[3]);if(3===t.length)return new u(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(t,e,n,s){void 0===s&&(s=1);var l=u.HSBtoRGB(t,e,n);return new u(l[0],l[1],l[2],s)},u.padHex=function(t){return 1===t.length?"0"+t:t},u.prototype.toHexString=function(){var t="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=u.padHex(Math.round(255*this.a).toString(16))),t},u.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(t,e,n){var s=Math.min(t,e,n),l=Math.max(t,e,n),y=NaN;if(s!==l){var S=l-s,E=(l-t)/S,D=(l-e)/S,T=(l-n)/S;y=t===l?T-D:e===l?2+E-T:4+D-E,(y/=6)<0&&(y+=1)}return[360*y,0!==l?(l-s)/l:0,l]},u.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var s=0,l=0,g=0;if(0===e)s=l=g=n;else{var y=6*(t-Math.floor(t)),S=y-Math.floor(y),E=n*(1-e),D=n*(1-e*S),T=n*(1-e*(1-S));switch(y>>0){case 0:s=n,l=T,g=E;break;case 1:s=D,l=n,g=E;break;case 2:s=E,l=n,g=T;break;case 3:s=E,l=D,g=n;break;case 4:s=T,l=E,g=n;break;case 5:s=n,l=E,g=D}}return[s,l,g]},u.prototype.derive=function(t,e,n,s){var l=u.RGBtoHSB(this.r,this.g,this.b),g=l[2];0==g&&n>1&&(g=.05);var y=((l[0]+t)%360+360)%360,S=Math.max(Math.min(l[1]*e,1),0);g=Math.max(Math.min(g*n,1),0);var E=Math.max(Math.min(this.a*s,1),0),D=u.HSBtoRGB(y,S,g);return D.push(E),u.fromArray(D)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();function Jm(u,t){if("string"==typeof u)try{u=_a.fromString(u)}catch(g){u=_a.fromArray([0,0,0])}if("string"==typeof t)try{t=_a.fromString(t)}catch(g){t=_a.fromArray([0,0,0])}var e=ts(u.r,t.r),n=ts(u.g,t.g),s=ts(u.b,t.b),l=ts(u.a,t.a);return function(g){return _a.fromArray([e(g),n(g),s(g),l(g)]).toRgbaString()}}function eC(u,t){var e=typeof t;if(null==t||"boolean"===e)return function(u){return function(){return u}}(t);if("number"===e)return ts(u,t);if("string"===e)try{return Jm(u,t=_a.fromString(t))}catch(s){}return t instanceof _a?Jm(u,t):t instanceof Date?function Qm(u,t){var e=new Date,n=+u,s=+t;return function(l){return e.setTime(n*(1-l)+s*l),e}}(u,t):Array.isArray(t)?function _S(u,t){var g,e=t?t.length:0,n=u?Math.min(e,u.length):0,s=new Array(n),l=new Array(e);for(g=0;g<n;++g)s[g]=eC(u[g],t[g]);for(;g<e;++g)l[g]=t[g];return function(y){for(g=0;g<n;++g)l[g]=s[g](y);return l}}(u,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function su(u,t){var s,e={},n={};for(s in(null===u||"object"!=typeof u)&&(u={}),(null===t||"object"!=typeof t)&&(t={}),t)s in u?e[s]=eC(u[s],t[s]):n[s]=t[s];return function(l){for(s in e)n[s]=e[s](l);return n}}(u,t):ts(u,t)}var Sa=function(u){return u};function Fh(u){var t,e=u[0],n=u[u.length-1];return e>n&&(t=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}([n,e],2),e=t[0],n=t[1]),function(s){return Math.max(e,Math.min(n,s))}}var pl=function(){function u(){this.unknown=void 0,this._clamp=Sa,this._domain=[0,1],this._range=[0,1],this.transform=Sa,this.untransform=Sa,this._interpolate=eC,this.rescale()}return Object.defineProperty(u.prototype,"clamp",{get:function(){return this._clamp!==Sa},set:function(t){this._clamp=t?Fh(this.domain):Sa},enumerable:!0,configurable:!0}),u.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==Sa&&(this._clamp=Fh(this.domain)),this.rescale()},u.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(u.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),u.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},u.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(u){return function(){return u}}(isNaN(e)?NaN:.5)},u.prototype.bimap=function(t,e,n){var S,E,s=t[0],l=t[1],g=e[0],y=e[1];return l<s?(S=this.normalize(l,s),E=n(y,g)):(S=this.normalize(s,l),E=n(g,y)),function(D){return E(S(D))}},u.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},u.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),ts)),this._clamp(this.untransform(this.input(t)))},u}(),xp=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();var dl=Math.sqrt(50),Fp=Math.sqrt(10),ba=Math.sqrt(2);function ac(u,t,e){var n=Math.abs(t-u)/Math.max(0,e),s=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),l=n/s;return l>=dl?s*=10:l>=Fp?s*=5:l>=ba&&(s*=2),t<u?-s:s}function lc(u,t,e){var n=(t-u)/Math.max(0,e),s=Math.floor(Math.log(n)/Math.LN10),l=n/Math.pow(10,s);return s>=0?(l>=dl?10:l>=Fp?5:l>=ba?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=dl?10:l>=Fp?5:l>=ba?2:1)}var hl,Lg,Gg,pc,dO=function(u){function t(e,n){var s=u.call(this)||this;if(n)for(var l=0,g=n.length;l<g;l++)s[l]=n[l];return s.fractionDigits=e,s}return xp(t,u),t}(Array),tC={"":function eo(u,t){var e=u.toPrecision(t);e:for(var n=e.length,s=1,l=-1,g=0;s<n;++s)switch(e[s]){case".":l=g=s;break;case"0":0===l&&(l=s),g=s;break;case"e":break e;default:l>0&&(l=0)}return l>0?e.slice(0,l)+e.slice(g+1):e},"%":function(u,t){return(100*u).toFixed(t)},b:function(u){return Math.round(u).toString(2)},c:function(u){return String(u)},d:function nC(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,t){return u.toExponential(t)},f:function(u,t){return u.toFixed(t)},g:function(u,t){return u.toPrecision(t)},o:function(u){return Math.round(u).toString(8)},p:function(u,t){return Nh(100*u,t)},r:Nh,s:function rC(u,t){void 0===t&&(t=0);var e=uu(u,t);if(!e)return String(u);var n=e[0],s=e[1],l=s-(hl=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,g=n.length;if(l===g)return n;if(l>g)return n+new Array(l-g+1).join("0");if(l>0)return n.slice(0,l)+"."+n.slice(l);var y=uu(u,Math.max(0,t+l-1));return"0."+new Array(1-l).join("0")+y[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}},rs=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],lu=function u(t){t instanceof u?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},Ig=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,uc=/(#\{(.*?)\})/g;function cc(u){if(u instanceof lu)return new lu(u);var t=!1,e=u.replace(uc,function(){return t||(u=arguments[2],t=!0),"#{}"}),n=Ig.exec(u);if(!n)throw new Error("Invalid format: "+u);return new lu({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10],string:t?e:void 0})}function Nh(u,t){var e=uu(u,t);if(!e)return String(u);var n=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}function uu(u,t){var e=t?u.toExponential(t-1):u.toExponential(),n=e.indexOf("e");if(!(n<0)){var s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}}function cu(u){return u}function Fr(u){var t=uu(Math.abs(u));return t?t[1]:NaN}!function dc(u){Lg=function fc(u){var t=void 0===u.grouping||void 0===u.thousands?cu:function Ng(u,t){return function(e,n){for(var s=[],l=e.length,g=0,y=u[0],S=0;l>0&&y>0&&(S+y+1>n&&(y=Math.max(1,n-S)),s.push(e.substring(l-=y,l+y)),!((S+=y+1)>n));)y=u[g=(g+1)%u.length];return s.reverse().join(t)}}(Array.prototype.map.call(u.grouping,Number),String(u.thousands)),e=void 0===u.currency?"":String(u.currency[0]),n=void 0===u.currency?"":String(u.currency[1]),s=void 0===u.decimal?".":String(u.decimal),l=void 0===u.numerals?cu:function iC(u){return function(t){return t.replace(/[0-9]/g,function(e){return u[+e]})}}(Array.prototype.map.call(u.numerals,String)),g=void 0===u.percent?"%":String(u.percent),y=void 0===u.minus?"\u2212":String(u.minus),S=void 0===u.nan?"NaN":String(u.nan);function E(T){var P=cc(T),F=P.fill,I=P.align,G=P.sign,j=P.symbol,U=P.zero,z=P.width,Y=P.comma,J=P.precision,ae=P.trim,se=P.type;"n"===se?(Y=!0,se="g"):tC[se]||(void 0===J&&(J=12),ae=!0,se="g"),(U||"0"===F&&"="===I)&&(U=!0,F="0",I="=");var ce="$"===j?e:"#"===j&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",pe="$"===j?n:/[%p]/.test(se)?g:"",fe=tC[se],we=/[defgprs%]/.test(se);return J=void 0===J?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J)),function Fe(Re){var Ce,_e=ce,De=pe;if("c"===se)De=fe(+Re)+De,Ce="";else{var he=+Re,Te=Re<0||1/he<0;if(Ce=isNaN(he)?S:fe(Math.abs(he),J),ae&&(Ce=function oC(u){e:for(var t=u.length,e=1,n=-1,s=0;e<t;++e)switch(u[e]){case".":n=s=e;break;case"0":0===n&&(n=e),s=e;break;default:if(!+u[e])break e;n>0&&(n=0)}return n>0?u.slice(0,n)+u.slice(s+1):u}(Ce)),Te&&0==+Ce&&"+"!==G&&(Te=!1),_e=(Te?"("===G?G:y:"-"===G||"("===G?"":G)+_e,De=("s"===se?rs[8+hl/3]:"")+De+(Te&&"("===G?")":""),we)for(var Le=0,Je=Ce.length;Le<Je;Le++){var He=Ce.charCodeAt(Le);if(48>He||He>57){De=(46===He?s+Ce.slice(Le+1):Ce.slice(Le))+De,Ce=Ce.slice(0,Le);break}}}Y&&!U&&(Ce=t(Ce,1/0));var at=_e.length+Ce.length+De.length,qe=at<z?new Array(z-at+1).join(F):"";switch(Y&&U&&(Ce=t(qe+Ce,qe.length?z-De.length:1/0),qe=""),I){case"<":Ce=_e+Ce+De+qe;break;case"=":Ce=_e+qe+Ce+De;break;case"^":Ce=qe.slice(0,at=qe.length>>1)+_e+Ce+De+qe.slice(at);break;default:Ce=qe+_e+Ce+De}var dt=P.string;return dt?dt.replace(uc,function(){return l(Ce)}):l(Ce)}}return{format:E,formatPrefix:function D(T,P){var F=cc(T);F.type="f";var I=E(F),G=3*Math.max(-8,Math.min(8,Math.floor(Fr(P)/3))),j=Math.pow(10,-G),U=rs[8+G/3];return function(z){return I(j*+z)+U}}}}(u),Gg=Lg.format,pc=Lg.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var pu=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lh=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.type="linear",e}return pu(t,u),t.prototype.ticks=function(e){void 0===e&&(e=10);var n=this._domain;return function Mp(u,t,e){var n=ac(u,t,e);return function Fg(u,t,e){void 0===e&&(e=1);for(var n=Math.abs(e),s=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,l=Math.pow(10,s),g=Math.max(0,Math.ceil((t-u)/e))||0,y=new dO(s),S=0;S<g;S++)y[S]=Math.round((u+e*S)*l)/l;return y}(u=Math.ceil(u/n)*n,t=Math.floor(t/n)*n+n/2,n)}(n[0],n[n.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var S,n=this.domain,s=0,l=n.length-1,g=n[s],y=n[l];y<g&&(S=g,g=y,y=S,S=s,s=l,l=S),(S=lc(g,y,e))>0?S=lc(g=Math.floor(g/S)*S,y=Math.ceil(y/S)*S,e):S<0&&(S=lc(g=Math.ceil(g*S)/S,y=Math.floor(y*S)/S,e)),S>0?(n[s]=Math.floor(g/S)*S,n[l]=Math.ceil(y/S)*S,this.domain=n):S<0&&(n[s]=Math.ceil(g*S)/S,n[l]=Math.floor(y*S)/S,this.domain=n)},t.prototype.tickFormat=function(e,n){var s=this.domain;return function Ih(u,t,e,n){var g,s=ac(u,t,e),l=cc(null==n?",f":n);switch(l.type){case"s":var y=Math.max(Math.abs(u),Math.abs(t));return null==l.precision&&!isNaN(g=function Ip(u,t){var e=Math.floor(Fr(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Fr(Math.abs(u)))}(s,y))&&(l.precision=g),pc(l,y);case"":case"e":case"g":case"p":case"r":null==l.precision&&!isNaN(g=function hc(u,t){return u=Math.abs(u),t=Math.abs(t)-u,Math.max(0,Fr(t)-Fr(u))+1}(s,Math.max(Math.abs(u),Math.abs(t))))&&(l.precision=g-+("e"===l.type));break;case"f":case"%":null==l.precision&&!isNaN(g=function kg(u){return Math.max(0,-Fr(Math.abs(u)))}(s))&&(l.precision=g-2*+("%"===l.type))}return Gg(l)}(s[0],s[s.length-1],null==e?10:e,n)},t}(pl),Vg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ea=new Date,bt=new Date,SS=function(){function u(t,e){this._floor=t,this._offset=e}return u.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},u.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},u.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),s=+t;return s-e.getTime()<n.getTime()-s?e:n},u.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},u.prototype.range=function(t,e,n){void 0===n&&(n=1);var l,s=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return s;do{l=new Date(+t),s.push(l),this._offset(t,n),this._floor(t)}while(l<t&&t<e);return s},u.prototype.filter=function(t){var e=this;return new u(function(l){if(l>=l)for(;e._floor(l),!t(l);)l.setTime(l.getTime()-1);return l},function(l,g){if(l>=l)if(g<0)for(;++g<=0;)do{e._offset(l,-1)}while(!t(l));else for(;--g>=0;)do{e._offset(l,1)}while(!t(l));return l})},u}(),yt=function(u){function t(e,n,s,l){var g=u.call(this,e,n)||this;return g._count=s,g._field=l,g}return Vg(t,u),t.prototype.count=function(e,n){return Ea.setTime(+e),bt.setTime(+n),this._floor(Ea),this._floor(bt),Math.floor(this._count(Ea,bt))},t.prototype.every=function(e){var s,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var l=this._field;s=this.filter(l?function(g){return l(g)%e==0}:function(g){return n.count(0,g)%e==0})}else s=this;return s},t}(SS),Bg=new yt(function Np(u){return u},function bS(u,t){u.setTime(u.getTime()+t)},function du(u,t){return t.getTime()-u.getTime()}),jr=1e3,Ao=6e4,Is=60*Ao,Mi=24*Is,Hg=7*Mi,on=30*Mi,Lp=365*Mi,to=new yt(function Gp(u){u.setTime(u.getTime()-u.getMilliseconds())},function Wg(u,t){u.setTime(u.getTime()+t*jr)},function kp(u,t){return(t.getTime()-u.getTime())/jr}),jg=new yt(function Ns(u){u.setTime(u.getTime()-u.getMilliseconds()-u.getSeconds()*jr)},function gc(u,t){u.setTime(u.getTime()+t*Ao)},function vc(u,t){return(t.getTime()-u.getTime())/Ao},function Vp(u){return u.getMinutes()}),sC=new yt(function ES(u){u.setTime(u.getTime()-u.getMilliseconds()-u.getSeconds()*jr-u.getMinutes()*Ao)},function OS(u,t){u.setTime(u.getTime()+t*Is)},function hO(u,t){return(t.getTime()-u.getTime())/Is},function fO(u){return u.getHours()}),Bp=new yt(function ro(u){u.setHours(0,0,0,0)},function Ug(u,t){u.setDate(u.getDate()+t)},function yc(u,t){var e=t.getTimezoneOffset()-u.getTimezoneOffset();return(t.getTime()-u.getTime()-e*Ao)/Mi},function zg(u){return u.getDate()-1});function hu(u){return new yt(function t(s){s.setDate(s.getDate()-(s.getDay()+7-u)%7),s.setHours(0,0,0,0)},function e(s,l){s.setDate(s.getDate()+7*l)},function n(s,l){return(l.getTime()-s.getTime()-(l.getTimezoneOffset()-s.getTimezoneOffset())*Ao)/Hg})}var aC=hu(0),$g=hu(1),Hp=(hu(2),hu(3),hu(4));hu(5),hu(6);var RS=new yt(function vO(u){u.setDate(1),u.setHours(0,0,0,0)},function fu(u,t){u.setMonth(u.getMonth()+t)},function Yg(u,t){return t.getMonth()-u.getMonth()+12*(t.getFullYear()-u.getFullYear())},function Gh(u){return u.getMonth()}),Ls=new yt(function AS(u){u.setMonth(0,1),u.setHours(0,0,0,0)},function PS(u,t){u.setFullYear(u.getFullYear()+t)},function uC(u,t){return t.getFullYear()-u.getFullYear()},function TS(u){return u.getFullYear()});var jp=new yt(function pC(u){u.setUTCHours(0,0,0,0)},function gu(u,t){u.setUTCDate(u.getUTCDate()+t)},function kh(u,t){return(t.getTime()-u.getTime())/Mi},function Wp(u){return u.getUTCDate()-1}),Up=new yt(function Gs(u){u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0)},function dC(u,t){u.setUTCFullYear(u.getUTCFullYear()+t)},function Vh(u,t){return t.getUTCFullYear()-u.getUTCFullYear()},function ks(u){return u.getUTCFullYear()});function Fi(u){return new yt(function t(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-u)%7),s.setHours(0,0,0,0)},function e(s,l){s.setUTCDate(s.getUTCDate()+7*l)},function n(s,l){return(l.getTime()-s.getTime())/Hg})}var hC=Fi(0),zp=Fi(1),Kp=(Fi(2),Fi(3),Fi(4));function Cc(u){if(u.y>=0&&u.y<100){var t=new Date(-1,u.m,u.d,u.H,u.M,u.S,u.L);return t.setFullYear(u.y),t}return new Date(u.y,u.m,u.d,u.H,u.M,u.S,u.L)}function fl(u){if(u.y>=0&&u.y<100){var t=new Date(Date.UTC(-1,u.m,u.d,u.H,u.M,u.S,u.L));return t.setUTCFullYear(u.y),t}return new Date(Date.UTC(u.y,u.m,u.d,u.H,u.M,u.S,u.L))}function Yp(u){for(var t={},e=0,n=u.length;e<n;e++)t[u[e].toLowerCase()]=e;return t}function Bh(u){return{y:u,m:0,d:1,H:0,M:0,S:0,L:0}}Fi(5),Fi(6);var Xg,Se=/^\s*\d+/,gC=/^%/,xS=/[\\^$*+?|[\]().{}]/g,vC=function(u){return u.replace(xS,"\\$&")},Ye=function(u){return new RegExp("^(?:"+u.map(vC).join("|")+")","i")},qp={"-":"",_:" ",0:"0"};function tr(u,t,e){var n=u<0?"-":"",s=String(n?-u:u),l=s.length;return n+(l<e?new Array(e-l+1).join(t)+s:s)}!function Bs(u){Xg=function gl(u){var t=u.dateTime,e=u.date,n=u.time,s=u.periods,l=u.days,g=u.shortDays,y=u.months,S=u.shortMonths,E=Ye(s),D=Yp(s),T=Ye(l),P=Yp(l),F=Ye(g),I=Yp(g),G=Ye(y),j=Yp(y),U=Ye(S),z=Yp(S),Y={a:function he(Z){return g[Z.getDay()]},A:function Te(Z){return l[Z.getDay()]},b:function dt(Z){return S[Z.getMonth()]},B:function tt(Z){return y[Z.getMonth()]},c:void 0,d:at,e:at,f:function fe(Z,ie){return we(Z,ie)+"000"},H:function De(Z,ie){return tr(Z.getHours(),ie,2)},I:function _e(Z,ie){return tr(Z.getHours()%12||12,ie,2)},j:function qe(Z,ie){return tr(1+Bp.count(Ls.floor(Z),Z),ie,3)},L:we,m:function _r(Z,ie){return tr(Z.getMonth()+1,ie,2)},M:function Re(Z,ie){return tr(Z.getMinutes(),ie,2)},p:function Ce(Z){return s[Z.getHours()>=12?1:0]},Q:$y,s:Ky,S:function Fe(Z,ie){return tr(Z.getSeconds(),ie,2)},u:function $e(Z){var ie=Z.getDay();return 0===ie?7:ie},U:function it(Z,ie){return tr(aC.count(Ls.floor(Z),Z),ie,2)},V:function Le(Z,ie){var ue=Z.getDay();Z=ue>=4||0===ue?Hp.floor(Z):Hp.ceil(Z);var Q=Ls.floor(Z);return tr(Hp.count(Q,Z)+(4===Q.getDay()?1:0),ie,2)},w:function Je(Z){return Z.getDay()},W:function He(Z,ie){return tr($g.count(Ls.floor(Z),Z),ie,2)},x:void 0,X:void 0,y:function Or(Z,ie){return tr(Z.getFullYear()%100,ie,2)},Y:function wi(Z,ie){return tr(Z.getFullYear()%1e4,ie,4)},Z:function Sr(Z){var ie=Z.getTimezoneOffset();return(ie>0?"-":(ie*=-1,"+"))+tr(Math.floor(ie/60),"0",2)+tr(ie%60,"0",2)},"%":zy},J={a:function bE(Z){return g[Z.getUTCDay()]},A:function P_(Z){return l[Z.getUTCDay()]},b:function Jn(Z){return S[Z.getUTCMonth()]},B:function Hl(Z){return y[Z.getUTCMonth()]},c:void 0,d:rt,e:rt,f:function Dr(Z,ie){return tn(Z,ie)+"000"},H:function Ua(Z,ie){return tr(Z.getUTCHours(),ie,2)},I:function Si(Z,ie){return tr(Z.getUTCHours()%12||12,ie,2)},j:function Zt(Z,ie){return tr(1+jp.count(Up.floor(Z),Z),ie,3)},L:tn,m:function ji(Z,ie){return tr(Z.getUTCMonth()+1,ie,2)},M:function _i(Z,ie){return tr(Z.getUTCMinutes(),ie,2)},p:function Bl(Z){return s[Z.getUTCHours()>=12?1:0]},Q:$y,s:Ky,S:function Lr(Z,ie){return tr(Z.getUTCSeconds(),ie,2)},u:function qf(Z){var ie=Z.getUTCDay();return 0===ie?7:ie},U:function Qd(Z,ie){return tr(hC.count(Up.floor(Z),Z),ie,2)},V:function EE(Z,ie){var ue=Z.getUTCDay();Z=ue>=4||0===ue?Kp.floor(Z):Kp.ceil(Z);var Q=Up.floor(Z);return tr(Kp.count(Q,Z)+(4===Q.getUTCDay()?1:0),ie,4)},w:function OE(Z){return Z.getUTCDay()},W:function jy(Z,ie){return tr(zp.count(Up.floor(Z),Z),ie,2)},x:void 0,X:void 0,y:function T_(Z,ie){return tr(Z.getUTCFullYear()%100,ie,2)},Y:function DE(Z,ie){return tr(Z.getUTCFullYear()%1e4,ie,4)},Z:function Uy(){return"+0000"},"%":zy},ae={a:function kD(Z,ie,ue){var Q=F.exec(ie.slice(ue));return Q?(Z.w=I[Q[0].toLowerCase()],ue+Q[0].length):-1},A:function x_(Z,ie,ue){var Q=T.exec(ie.slice(ue));return Q?(Z.w=P[Q[0].toLowerCase()],ue+Q[0].length):-1},b:function VD(Z,ie,ue){var Q=U.exec(ie.slice(ue));return Q?(Z.m=z[Q[0].toLowerCase()],ue+Q[0].length):-1},B:function I_(Z,ie,ue){var Q=G.exec(ie.slice(ue));return Q?(Z.m=j[Q[0].toLowerCase()],ue+Q[0].length):-1},c:function N_(Z,ie,ue){return pe(Z,t,ie,ue)},d:Xf,e:Xf,f:function Yy(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+6));return Q?(Z.L=Math.floor(parseFloat(Q[0])/1e3),ue+Q[0].length):-1},H:Jd,I:Jd,j:function TE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+3));return Q?(Z.m=0,Z.d=+Q[0],ue+Q[0].length):-1},L:function RE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+3));return Q?(Z.L=+Q[0],ue+Q[0].length):-1},m:function IE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.m=parseFloat(Q[0])-1,ue+Q[0].length):-1},M:function PE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.M=+Q[0],ue+Q[0].length):-1},p:function qy(Z,ie,ue){var Q=E.exec(ie.slice(ue));return Q?(Z.p=D[Q[0].toLowerCase()],ue+Q[0].length):-1},Q:function NE(Z,ie,ue){var Q=Se.exec(ie.slice(ue));return Q?(Z.Q=+Q[0],ue+Q[0].length):-1},s:function LE(Z,ie,ue){var Q=Se.exec(ie.slice(ue));return Q?(Z.Q=1e3*+Q[0],ue+Q[0].length):-1},S:function AE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.S=+Q[0],ue+Q[0].length):-1},u:function xE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+1));return Q?(Z.u=+Q[0],ue+Q[0].length):-1},U:function ME(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.U=+Q[0],ue+Q[0].length):-1},V:function FE(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.V=+Q[0],ue+Q[0].length):-1},w:function F_(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+1));return Q?(Z.w=+Q[0],ue+Q[0].length):-1},W:function M_(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.W=+Q[0],ue+Q[0].length):-1},x:function Xy(Z,ie,ue){return pe(Z,e,ie,ue)},X:function Zy(Z,ie,ue){return pe(Z,n,ie,ue)},y:function BD(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.y=+Q[0]+(+Q[0]>68?1900:2e3),ue+Q[0].length):-1},Y:function L_(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+4));return Q?(Z.y=+Q[0],ue+Q[0].length):-1},Z:function GE(Z,ie,ue){var Q=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(ie.slice(ue,ue+6));return Q?(Z.Z=Q[1]?0:-(Q[2]+(Q[3]||"00")),ue+Q[0].length):-1},"%":function kE(Z,ie,ue){var Q=gC.exec(ie.slice(ue,ue+1));return Q?ue+Q[0].length:-1}};function se(Z,ie){return function(ue){var Q=Bh(1900);if(pe(Q,Z,ue+="",0)==ue.length){if("Q"in Q)return new Date(Q.Q);if("p"in Q&&(Q.H=Q.H%12+12*Q.p),"V"in Q){if(Q.V<1||Q.V>53)return;if("w"in Q||(Q.w=1),"Z"in Q){var gr=(ht=fl(Bh(Q.y))).getUTCDay();ht=gr>4||0===gr?zp.ceil(ht):zp.floor(ht),ht=jp.offset(ht,7*(Q.V-1)),Q.y=ht.getUTCFullYear(),Q.m=ht.getUTCMonth(),Q.d=ht.getUTCDate()+(Q.w+6)%7}else{var ht;gr=(ht=ie(Bh(Q.y))).getDay(),ht=gr>4||0===gr?$g.ceil(ht):$g.floor(ht),ht=Bp.offset(ht,7*(Q.V-1)),Q.y=ht.getFullYear(),Q.m=ht.getMonth(),Q.d=ht.getDate()+(Q.w+6)%7}}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),gr="Z"in Q?fl(Bh(Q.y)).getUTCDay():ie(Bh(Q.y)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+7*Q.W-(gr+5)%7:Q.w+7*Q.U-(gr+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,fl(Q)):ie(Q)}}}function ce(Z,ie){return function(ue){var Q=[],bi=Z.length,ht=-1,gr=0;for(ue instanceof Date||(ue=new Date(+ue));++ht<bi;)if(37===Z.charCodeAt(ht)){Q.push(Z.slice(gr,ht));var Hn=Z.charAt(++ht),gs=qp[Hn];null!=gs?Hn=Z.charAt(++ht):gs="e"===Hn?" ":"0";var za=ie[Hn];za&&(Hn=za(ue,gs)),Q.push(Hn),gr=ht+1}return Q.push(Z.slice(gr,ht)),Q.join("")}}function pe(Z,ie,ue,Q){for(var bi=0,ht=ie.length,gr=ue.length;bi<ht;){if(Q>=gr)return-1;var Hn=ie.charCodeAt(bi++);if(37===Hn){var gs=ie.charAt(bi++),za=ae[gs in qp?ie.charAt(bi++):gs];if(!za||(Q=za(Z,ue,Q))<0)return-1}else if(Hn!=ue.charCodeAt(Q++))return-1}return Q}function we(Z,ie){return tr(Z.getMilliseconds(),ie,3)}function at(Z,ie){return tr(Z.getDate(),ie,2)}function tn(Z,ie){return tr(Z.getUTCMilliseconds(),ie,3)}function rt(Z,ie){return tr(Z.getUTCDate(),ie,2)}function zy(Z){return"%"}function $y(Z){return Z.getTime()}function Ky(Z){return Math.floor(Z.getTime()/1e3)}function Jd(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.H=+Q[0],ue+Q[0].length):-1}function Xf(Z,ie,ue){var Q=Se.exec(ie.slice(ue,ue+2));return Q?(Z.d=+Q[0],ue+Q[0].length):-1}return Y.x=ce(e,Y),Y.X=ce(n,Y),Y.c=ce(t,Y),J.x=ce(e,J),J.X=ce(n,J),J.c=ce(t,J),{format:function(Z){var ie=ce(Z,Y);return ie.toString=function(){return Z},ie},parse:function(Z){var ie=se(Z,Cc);return ie.toString=function(){return Z},ie},utcFormat:function(Z){var ie=ce(Z,J);return ie.toString=function(){return Z},ie},utcParse:function(Z){var ie=se(Z,fl);return ie.toString=function(){return Z},ie}}}(u)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var mO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vu=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Hh=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.type="time",e.year=Ls,e.month=RS,e.week=aC,e.day=Bp,e.hour=sC,e.minute=jg,e.second=to,e.millisecond=Bg,e.format=Xg.format,e.tickIntervals=[[e.second,1,jr],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,Ao],[e.minute,5,5*Ao],[e.minute,15,15*Ao],[e.minute,30,30*Ao],[e.hour,1,Is],[e.hour,3,3*Is],[e.hour,6,6*Is],[e.hour,12,12*Is],[e.day,1,Mi],[e.day,2,2*Mi],[e.week,1,Hg],[e.month,1,on],[e.month,3,3*on],[e.year,1,Lp]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return mO(t,u),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,n,s,l){var g;if("number"==typeof e){var y=e,S=this.tickIntervals,E=Math.abs(s-n)/y,D=function mc(u,t,e,n,s){void 0===n&&(n=0),void 0===s&&(s=u.length);for(var l=function st(u){return function(t,e){return function cC(u,t){return u<t?-1:u>t?1:u>=t?0:NaN}(u(t),e)}}(e);n<s;){var g=n+s>>>1;l(u[g],t)<0?n=g+1:s=g}return n}(S,E,function(T){return T[2]});D===S.length?(l=ac(n/Lp,s/Lp,y),e=this.year):D?(e=(g=vu(S[E/S[D-1][2]<S[D][2]/E?D-1:D],2))[0],l=g[1]):(l=Math.max(ac(n,s,e),1),e=this.millisecond)}return null==l?e:e.every(l)},Object.defineProperty(t.prototype,"domain",{get:function(){return u.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){u.prototype.setDomain.call(this,Array.prototype.map.call(e,function(n){return n instanceof Date?+n:+new Date(+n)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(u.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var n=u.prototype.getDomain.call(this),s=n[0],l=n[n.length-1],g=l<s;if(g){var y=s;s=l,l=y}var S=this.tickInterval(e,s,l),E=S?S.range(s,l+1):[];return g?E.reverse():E},t.prototype.tickFormat=function(e,n){return null==n?this.defaultTickFormat.bind(this):this.format(n)},t.prototype.nice=function(e){void 0===e&&(e=10);var n=u.prototype.getDomain.call(this),s=this.tickInterval(e,n[0],n[n.length-1]);s&&(this.domain=this._nice(n,s))},t.prototype._nice=function(e,n){var s,l,g=0,y=(e=e.slice()).length-1,S=e[g],E=e[y];return E<S&&(g=(s=vu([y,g],2))[0],y=s[1],S=(l=vu([E,S],2))[0],E=l[1]),e[g]=n.floor(S),e[y]=n.ceil(E),e},t}(pl);function ai(u){return u}function wc(u,t,e){for(var g,y,S,n=e||ai,s=u.length,l=-1;++l<s;)if(t(g=u[l]))for(y=S=g;++l<s;)t(g=u[l])&&(y>g&&(y=g),S<g&&(S=g));return void 0===y||void 0===S?void 0:[n(y),n(S)]}var Qg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FS=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return Qg(t,u),t}(Tp),Ii=function(u){function t(){var e=u.call(this)||this;e.id=Pg(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new Nn(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new Lh,e.axis=new FS,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.smallestInterval=void 0,e.layoutId=0,e.defaultDateFormatter=Xg.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var n=new Ie;e.rootGroup=n;var s=document.createElement("div");s.setAttribute("class","ag-sparkline-wrapper");var l=new Pr(document);if(e.scene=l,e.canvasElement=l.canvas.element,l.root=n,l.container=s,l.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,-1===t.tooltipDocuments.indexOf(document)){var g=document.createElement("style");g.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(g,document.head.querySelector("style")),t.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return Qg(t,u),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var n=this.canvasElement.parentNode;null!=n&&n.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var l,n=this.xData,s=this.xScale;s instanceof Lh?l=wc(n,xi):s instanceof Hh&&(l=wc(n,Zm)),this.xScale.domain=l?l.slice():n},t.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new Lh;case"time":return new Hh;default:return new wa}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(e){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(e){var n=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(n){var s=this.highlightedDatum;this.highlightedDatum=n,(this.highlightedDatum&&!s||this.highlightedDatum&&s&&this.highlightedDatum!==s)&&(this.highlightDatum(n),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,n)}},t.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},t.prototype.processData=function(){var e=this,n=this,s=n.data,l=n.yData,g=n.xData;if(s&&!this.invalidData(this.data)){l.length=0,g.length=0;var y=s.length,S=this.getDataType(s);this.dataType=S;var F,E=this.axis.type,D="number"!==E&&"time"!==E?"category":E,T="number"===D||"time"===D,P=function(ce,pe){null==e.smallestInterval&&(e.smallestInterval={x:1/0,y:1/0});var fe=e.smallestInterval.x,we=Math.abs(ce-pe);we>0&&we<fe&&(e.smallestInterval.x=we)};if("number"===S)for(var I=0;I<y;I++){var j=s[I],U=this.getDatum(I,D),z=this.getDatum(j,"number");T&&P(U,F),g.push(U),l.push(z),F=U}else if("array"===S)for(I=0;I<y;I++){var Y=s[I];if(Array.isArray(Y)){if(j=Y[1],U=this.getDatum(Y[0],D),z=this.getDatum(j,"number"),null==U)continue;T&&P(U,F),g.push(U),l.push(z),F=U}}else if("object"===S){var ae=this.yKey,se=this.xKey;for(I=0;I<y;I++)if("object"==typeof(Y=s[I])&&!Array.isArray(Y)){if(j=Y[ae],U=this.getDatum(Y[se],D),z=this.getDatum(j,"number"),null==U)continue;T&&P(U,F),g.push(U),l.push(z),F=U}}this.updateAxes(),this.update()}},t.prototype.getDataType=function(e){var n,s;try{for(var l=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),g=l.next();!g.done;g=l.next()){var y=g.value;if(null!=y){if(xi(y))return"number";if(Array.isArray(y))return"array";if("object"==typeof y)return"object"}}}catch(S){n={error:S}}finally{try{g&&!g.done&&(s=l.return)&&s.call(l)}finally{if(n)throw n.error}}},t.prototype.getDatum=function(e,n){if("number"===n&&xi(e)||"time"===n&&(xi(e)||ul(e)))return e;if("category"===n){if(cl(e)||ul(e)||xi(e))return{toString:function(){return String(e)}};if(function Mg(u){return!!u&&u.hasOwnProperty("toString")&&cl(u.toString())}(e))return e}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},t.prototype.setSparklineDimensions=function(){var e=this,l=e.padding,g=e.seriesRect,y=e.rootGroup,E=e.height-l.top-l.bottom;g.width=e.width-l.left-l.right,g.height=E,g.x=l.left,g.y=l.top,y.translationX=g.x,y.translationY=g.y},t.prototype.pickClosestSeriesNodeDatum=function(e,n){for(var l,s=1/0,g=this.rootGroup.transformPoint(e,n),y=this.getNodeData(),S=0;S<y.length;S++){var E=y[S];if(!E.point)return;var D=this.getDistance(g,E.point);if(!(D<=s))return l;s=D,l=E}return l},t.prototype.getDistance=function(e,n){return Math.abs(e.x-n.x)},t.prototype.handleTooltip=function(e,n){var s=n.seriesDatum,g=e.clientX,y=e.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var S={pageX:g,pageY:y},T=this.tooltip.enabled;if(this.tooltip.renderer){var P=this.tooltip.renderer({context:this.context,datum:s,yValue:s.y,xValue:s.x});T="string"!=typeof P&&void 0!==P.enabled?P.enabled:T}var F=T&&void 0!==s.y&&this.getTooltipHtml(n);F&&this.tooltip.show(S,F)},t.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},t.prototype.formatDatum=function(e){var n=this.axis.type||"category";return"number"===n&&"number"==typeof e?this.formatNumericDatum(e):"time"===n&&(e instanceof Date||xi(e))?this.defaultDateFormatter(e):String(e)},t.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}(Tp),yC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function yu(u,t){if("string"==typeof u)return u;t=t||{};var P,F,e=u.content,n=void 0===e?t.content||"":e,s=u.title,l=void 0===s?t.title||void 0:s,g=u.color,y=void 0===g?t.color:g,S=u.backgroundColor,E=void 0===S?t.backgroundColor:S,D=u.opacity,T=void 0===D?t.opacity||1:D;if(y?(P=l?'<span class="'+li.class+'-title"; style="color: '+y+'">'+l+"</span>":"",F='<span class="'+li.class+'-content" style="color: '+y+'">'+n+"</span>"):(P=l?'<span class="'+li.class+'-title">'+l+"</span>":"",F='<span class="'+li.class+'-content">'+n+"</span>"),E){var I=_a.fromString(E.toLowerCase()),ae=_a.fromArray([I.r,I.g,I.b,T]).toRgbaString();return'<div class="'+li.class+'" style="background-color: '+ae+'">\n                    '+P+"\n                    "+F+"\n                </div>"}return'<div class="'+li.class+'">\n                    '+P+"\n                    "+F+"\n                </div>"}var li=function(u){function t(){var e=u.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return yC(t,u),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var n=[t.class+"-wrapper"];!0!==e&&n.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(e,n){this.toggle(!1);var s=this.element;if(void 0!==n)s.innerHTML=n;else if(!s.innerHTML)return;var l=e.pageX+this.xOffset,g=e.pageY+this.yOffset,y=s.getBoundingClientRect(),S=window.innerWidth-y.width;if(this.container){var E=this.container.getBoundingClientRect();S=E.left+(E.width-y.width)}l>S&&(l=e.pageX-s.clientWidth-this.xOffset),s.style.left=Math.round(l)+"px",s.style.top=Math.round(g)+"px",this.toggle(!0)},t.prototype.toggle=function(e){this.updateClass(e)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}(Tp),_c=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mu=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return _c(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t}(xs),CO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),IS=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return CO(t,u),t.prototype.isPointInPath=function(e,n){return!1},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.x,l=n.y,y=n.size/2;e.beginPath(),e.arc(s,l,y,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},t.className="Circle",t}(mu),wO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_O=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return wO(t,u),t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.x,l=n.y,y=n.size/2;e.beginPath(),e.moveTo(s,l-=y),e.lineTo(s+=y,l+=y),e.lineTo(s-=y,l+=y),e.lineTo(s-=y,l-=y),e.lineTo(s+=y,l-=y),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Diamond",t}(mu),SO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mC=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return SO(t,u),t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.x,l=n.y,g=n.size,y=g/2;e.beginPath(),e.moveTo(s-=y,l-=y),e.lineTo(s+=g,l),e.lineTo(s,l+=g),e.lineTo(s-=g,l),e.lineTo(s,l-=g),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Square",t}(mu);function CC(u){switch(u){case"circle":default:return IS;case"square":return mC;case"diamond":return _O}}function Wh(u,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},n={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===u||"square"===u?null==n[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),n.solid):n[t]:null==e[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var NS=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LS=function u(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},bO=function u(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},GS=function u(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},jh=function(u){function t(){var e=u.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new oc,e.fillPath=new oc,e.xCrosshairLine=new al,e.yCrosshairLine=new al,e.areaSparklineGroup=new Ie,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new al,e.markers=new Ie,e.markerSelection=Th.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new LS,e.line=new bO,e.crosshairs=new GS,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return NS(t,u),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();if(e){var n=e.nodeData,s=e.fillData,l=e.strokeData;this.markerSelectionData=n,this.fillPathData=s,this.strokePathData=l,this.updateSelection(n),this.updateNodes(),this.updateStroke(l),this.updateFill(s)}},t.prototype.updateYScaleDomain=function(){var s=this.yScale,l=wc(this.yData,xi),g=0,y=1;void 0!==l&&(g=this.min=l[0],y=this.max=l[1]),s.domain=[g=g<0?g:0,y=y<0?0:y]},t.prototype.generateNodeData=function(){var e=this,s=e.yData,l=e.xData,g=e.xScale,y=e.yScale;if(e.data){for(var F,I,G,j,S=g instanceof wa?g.bandwidth/2:0,E=s.length,D=[],T=[],P=[],U=y.convert(0),z=0;z<E;z++){var Y=s[z],J=l[z],ae=g.convert(J)+S,se=y.convert(Y);z+1<E&&(j=g.convert(l[z+1])+S),P.push({seriesDatum:{x:J,y:Y},point:{x:ae,y:se}}),void 0===Y&&void 0!==G?(T.push({seriesDatum:void 0,point:{x:G,y:U}}),void 0!==j&&T.push({seriesDatum:void 0,point:{x:j,y:U}})):void 0!==Y&&(T.push({seriesDatum:{x:J,y:Y},point:{x:ae,y:se}}),D.push({seriesDatum:{x:J,y:Y},point:{x:ae,y:se}}),F=void 0!==F?F:ae,I=ae),G=ae}return T.push({seriesDatum:void 0,point:{x:I,y:U}},{seriesDatum:void 0,point:{x:F,y:U}}),{nodeData:D,fillData:T,strokeData:P}}},t.prototype.updateAxisLine=function(){var e=this,n=e.xScale,s=e.yScale,l=e.axis,g=e.xAxisLine;g.x1=n.range[0],g.x2=n.range[1],g.y1=g.y2=0,g.stroke=l.stroke,g.strokeWidth=l.strokeWidth;var y=s.convert(0);g.translationY=y},t.prototype.updateSelection=function(e){var s=CC(this.marker.shape),l=this.markerSelection.setData(e),g=l.enter.append(s);l.exit.remove(),this.markerSelection=l.merge(g)},t.prototype.updateNodes=function(){var e=this,n=this,s=n.highlightedDatum,l=n.highlightStyle,g=n.marker,y=l.size,S=l.fill,E=l.stroke,D=l.strokeWidth,T=g.formatter;this.markerSelection.each(function(P,F,I){var G=F.point,j=F.seriesDatum;if(G){var se,U=F===s,z=U&&void 0!==S?S:g.fill,Y=U&&void 0!==E?E:g.stroke,J=U&&void 0!==D?D:g.strokeWidth,ae=U&&void 0!==y?y:g.size;T&&(se=T({datum:F,xValue:j.x,yValue:j.y,min:j.y===e.min,max:j.y===e.max,first:0===I,last:I===e.markerSelectionData.length-1,fill:z,stroke:Y,strokeWidth:J,size:ae,highlighted:U})),P.size=se&&null!=se.size?se.size:ae,P.fill=se&&null!=se.fill?se.fill:z,P.stroke=se&&null!=se.stroke?se.stroke:Y,P.strokeWidth=se&&null!=se.strokeWidth?se.strokeWidth:J,P.translationX=G.x,P.translationY=G.y,P.visible=se&&null!=se.enabled?se.enabled:g.enabled&&P.size>0}})},t.prototype.updateStroke=function(e){var n=this,s=n.strokePath,g=n.line;if(!(n.yData.length<2)){var y=s.path,S=e.length,E=!0;y.clear();for(var D=0;D<S;D++){var T=e[D],P=T.point,I=P.x,G=P.y;null==T.seriesDatum.y?E=!0:E?(y.moveTo(I,G),E=!1):y.lineTo(I,G)}s.lineJoin=s.lineCap="round",s.fill=void 0,s.stroke=g.stroke,s.strokeWidth=g.strokeWidth}},t.prototype.updateFill=function(e){var n=this,s=n.fillPath,l=n.yData,g=n.fill,y=s.path,S=e.length;if(y.clear(),!(l.length<2)){for(var E=0;E<S;E++){var D=e[E].point,T=D.x,P=D.y;E>0?y.lineTo(T,P):y.moveTo(T,P)}y.closePath(),s.lineJoin="round",s.stroke=void 0,s.fill=g}},t.prototype.updateXCrosshairLine=function(){var e=this,n=e.yScale,s=e.xCrosshairLine,l=e.highlightedDatum,g=e.crosshairs.xLine;if(g.enabled&&null!=l){s.y1=n.range[0],s.y2=n.range[1],s.x1=s.x2=0,s.stroke=g.stroke,s.strokeWidth=g.strokeWidth||1,s.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;s.lineDash=Array.isArray(y)?y:Wh(s.lineCap,g.lineDash),s.translationX=l.point.x}else s.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,n=e.xScale,s=e.yCrosshairLine,l=e.highlightedDatum,g=e.crosshairs.yLine;if(g.enabled&&null!=l){s.x1=n.range[0],s.x2=n.range[1],s.y1=s.y2=0,s.stroke=g.stroke,s.strokeWidth=g.strokeWidth||1,s.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;s.lineDash=Array.isArray(y)?y:Wh(s.lineCap,g.lineDash),s.translationY=l.point.y}else s.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var n=this.dataType,s=e.seriesDatum,l=s.y,g=s.x,E={content:this.formatNumericDatum(l),title:"array"===n||"object"===n?this.formatDatum(g):void 0};return this.tooltip.renderer?yu(this.tooltip.renderer({context:this.context,datum:s,yValue:l,xValue:g}),E):yu(E)},t.className="AreaSparkline",t}(Ii),wC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Po=function u(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},Et=function u(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Uh=function u(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},_C=function(u){function t(){var e=u.call(this)||this;return e.linePath=new oc,e.xCrosshairLine=new al,e.yCrosshairLine=new al,e.lineSparklineGroup=new Ie,e.markers=new Ie,e.markerSelection=Th.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new Po,e.line=new Et,e.crosshairs=new Uh,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return wC(t,u),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var s=this.yScale,l=wc(this.yData,xi),g=0,y=1;if(void 0!==l&&(g=this.min=l[0],y=this.max=l[1]),g===y){var S=Math.abs(.01*g);g-=S,y+=S}s.domain=[g,y]},t.prototype.generateNodeData=function(){var e=this,s=e.yData,l=e.xData,g=e.xScale,y=e.yScale;if(e.data){for(var S=g instanceof wa?g.bandwidth/2:0,E=[],D=0;D<s.length;D++){var T=s[D],P=l[D];if(null!=T){var F=g.convert(P)+S,I=y.convert(T);E.push({seriesDatum:{x:P,y:T},point:{x:F,y:I}})}}return E}},t.prototype.updateSelection=function(e){var s=CC(this.marker.shape),l=this.markerSelection.setData(e),g=l.enter.append(s);l.exit.remove(),this.markerSelection=l.merge(g)},t.prototype.updateNodes=function(){var e=this,n=this,s=n.highlightedDatum,l=n.highlightStyle,g=n.marker,y=l.size,S=l.fill,E=l.stroke,D=l.strokeWidth,T=g.formatter;this.markerSelection.each(function(P,F,I){var J,G=F===s,j=G&&void 0!==S?S:g.fill,U=G&&void 0!==E?E:g.stroke,z=G&&void 0!==D?D:g.strokeWidth,Y=G&&void 0!==y?y:g.size,ae=F.seriesDatum,se=F.point;T&&(J=T({datum:F,xValue:ae.x,yValue:ae.y,min:ae.y===e.min,max:ae.y===e.max,first:0===I,last:I===e.markerSelectionData.length-1,fill:j,stroke:U,strokeWidth:z,size:Y,highlighted:G})),P.size=J&&null!=J.size?J.size:Y,P.fill=J&&null!=J.fill?J.fill:j,P.stroke=J&&null!=J.stroke?J.stroke:U,P.strokeWidth=J&&null!=J.strokeWidth?J.strokeWidth:z,P.translationX=se.x,P.translationY=se.y,P.visible=J&&null!=J.enabled?J.enabled:g.enabled&&P.size>0})},t.prototype.updateLine=function(){var e=this,n=e.linePath,s=e.yData,l=e.xData,g=e.xScale,y=e.yScale,S=e.line;if(!(s.length<2)){var E=n.path,D=s.length,T=g instanceof wa?g.bandwidth/2:0,P=!0;E.clear();for(var F=0;F<D;F++){var G=s[F],j=g.convert(l[F])+T,U=y.convert(G);null==G?P=!0:P?(E.moveTo(j,U),P=!1):E.lineTo(j,U)}n.fill=void 0,n.stroke=S.stroke,n.strokeWidth=S.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,n=e.yScale,s=e.xCrosshairLine,l=e.highlightedDatum,g=e.crosshairs.xLine;if(g.enabled&&null!=l){s.y1=n.range[0],s.y2=n.range[1],s.x1=s.x2=0,s.stroke=g.stroke,s.strokeWidth=g.strokeWidth||1,s.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;s.lineDash=Array.isArray(y)?y:Wh(s.lineCap,g.lineDash),s.translationX=l.point.x}else s.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,n=e.xScale,s=e.yCrosshairLine,l=e.highlightedDatum,g=e.crosshairs.yLine;if(g.enabled&&null!=l){s.x1=n.range[0],s.x2=n.range[1],s.y1=s.y2=0,s.stroke=g.stroke,s.strokeWidth=g.strokeWidth||1,s.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;s.lineDash=Array.isArray(y)?y:Wh(s.lineCap,g.lineDash),s.translationY=l.point.y}else s.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var n=this.dataType,s=e.seriesDatum,l=s.y,g=s.x,E={content:this.formatNumericDatum(l),title:"array"===n||"object"===n?this.formatDatum(g):void 0};return this.tooltip.renderer?yu(this.tooltip.renderer({context:this.context,datum:s,yValue:l,xValue:g}),E):yu(E)},t.className="LineSparkline",t}(Ii),SC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),EO=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return SC(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.x,l=n.y,g=n.width,y=n.height,S=n.crisp;if(e.beginPath(),S){var D=this.alignment,T=this.align;e.rect(T(D,s),T(D,l),T(D,s,g),T(D,l,y))}else e.rect(s,l,g,y);this.fillStroke(e),this.dirty=!1},t.className="Column",t}(xs),OO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function zh(u,t,e,n){return[e||"",n||"",u+"px",t].join(" ").trim()}!function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}OO(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var n=String(e);this._text!==n&&(this._text=n,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=zh(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Ms.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Ms.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new ya(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Ms.getTextSize(this.text,this.font),s=this.x,l=this.y;switch(this.textAlign){case"end":case"right":s-=e.width;break;case"center":s-=e.width/2}switch(this.textBaseline){case"alphabetic":l-=.7*e.height;break;case"middle":l-=.45*e.height;break;case"ideographic":case"bottom":l-=e.height;break;case"hanging":l-=.2*e.height}return new ya(s,l,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n),l=this.computeBBox();return!!l&&l.containsPoint(s.x,s.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.fill,l=n.stroke,g=n.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,S=e.globalAlpha;if(s){e.fillStyle=s,e.globalAlpha=S*this.opacity*this.fillOpacity;var E=this,D=E.fillShadow,T=E.text,P=E.x,F=E.y;D&&D.enabled&&(e.shadowColor=D.color,e.shadowOffsetX=D.xOffset*y,e.shadowOffsetY=D.yOffset*y,e.shadowBlur=D.blur*y),e.fillText(T,P,F)}if(l&&g){e.strokeStyle=l,e.lineWidth=g,e.globalAlpha=S*this.opacity*this.strokeOpacity;var I=this,G=I.lineDash,j=I.lineDashOffset,U=I.lineCap,z=I.lineJoin,Y=I.strokeShadow;T=I.text,P=I.x,F=I.y,G&&e.setLineDash(G),j&&(e.lineDashOffset=j),U&&(e.lineCap=U),z&&(e.lineJoin=z),Y&&Y.enabled&&(e.shadowColor=Y.color,e.shadowOffsetX=Y.xOffset*y,e.shadowOffsetY=Y.yOffset*y,e.shadowBlur=Y.blur*y),e.strokeText(T,P,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=Ca(xs.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(xs);var Jg=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ev=function(u){function t(){var e=u.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return Jg(t,u),t.prototype.getFont=function(){return zh(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},vl([Ro("change","dataChange")],t.prototype,"enabled",void 0),vl([Ro("change")],t.prototype,"fontSize",void 0),vl([Ro("change")],t.prototype,"fontFamily",void 0),vl([Ro("change")],t.prototype,"fontStyle",void 0),vl([Ro("change")],t.prototype,"fontWeight",void 0),vl([Ro("change")],t.prototype,"color",void 0),t}(Tp),DO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bC=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return DO(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var n=String(e);this._text!==n&&(this._text=n,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=function kS(u,t,e,n){return[e||"",n||"",u+"px",t].join(" ").trim()}(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Ms.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Ms.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new ya(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Ms.getTextSize(this.text,this.font),s=this.x,l=this.y;switch(this.textAlign){case"end":case"right":s-=e.width;break;case"center":s-=e.width/2}switch(this.textBaseline){case"alphabetic":l-=.7*e.height;break;case"middle":l-=.45*e.height;break;case"ideographic":case"bottom":l-=e.height;break;case"hanging":l-=.2*e.height}return new ya(s,l,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n),l=this.computeBBox();return!!l&&l.containsPoint(s.x,s.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.fill,l=n.stroke,g=n.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,S=e.globalAlpha;if(s){e.fillStyle=s,e.globalAlpha=S*this.opacity*this.fillOpacity;var E=this,D=E.fillShadow,T=E.text,P=E.x,F=E.y;D&&D.enabled&&(e.shadowColor=D.color,e.shadowOffsetX=D.xOffset*y,e.shadowOffsetY=D.yOffset*y,e.shadowBlur=D.blur*y),e.fillText(T,P,F)}if(l&&g){e.strokeStyle=l,e.lineWidth=g,e.globalAlpha=S*this.opacity*this.strokeOpacity;var I=this,G=I.lineDash,j=I.lineDashOffset,U=I.lineCap,z=I.lineJoin,Y=I.strokeShadow;T=I.text,P=I.x,F=I.y,G&&e.setLineDash(G),j&&(e.lineDashOffset=j),U&&(e.lineCap=U),z&&(e.lineJoin=z),Y&&Y.enabled&&(e.shadowColor=Y.color,e.shadowOffsetX=Y.xOffset*y,e.shadowOffsetY=Y.yOffset*y,e.shadowBlur=Y.blur*y),e.strokeText(T,P,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=Ca(xs.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(xs),EC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$h=(()=>(function(u){u[u.Rect=0]="Rect",u[u.Label=1]="Label"}($h||($h={})),$h))(),Hs=(()=>(function(u){u.InsideBase="insideBase",u.InsideEnd="insideEnd",u.Center="center",u.OutsideEnd="outsideEnd"}(Hs||(Hs={})),Hs))(),tv=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.formatter=void 0,e.placement=Hs.InsideEnd,e}return EC(t,u),t}(ev),Xp=function(u){function t(){var e=u.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new al,e.bandWidth=0,e.sparklineGroup=new Ie,e.rectGroup=new Ie,e.labelGroup=new Ie,e.rectSelection=Th.select(e.rectGroup).selectAll(),e.labelSelection=Th.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new tv,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return EC(t,u),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var n,s,l=this,g=l.xScale,y=l.paddingInner,S=l.paddingOuter,T=(g.domain[1]-g.domain[0])/(null!=(s=null===(n=l.smallestInterval)||void 0===n?void 0:n.x)?s:1)+1,F=Math.min(T,50);return e/Math.max(1,2*S+(F-1)*y+F)},t.prototype.updateYScaleDomain=function(){var e=this,n=e.yScale,l=e.valueAxisDomain,g=wc(e.yData,xi),y=0,S=1;void 0!==g&&(y=this.min=g[0],S=this.max=g[1]),y=y<0?y:0,S=S<0?0:S,l&&(l[1]<S&&(l[1]=S),l[0]>y&&(l[0]=y)),n.domain=l||[y,S]},t.prototype.updateRectSelection=function(e){var n=this.rectSelection.setData(e),s=n.enter.append(EO);n.exit.remove(),this.rectSelection=n.merge(s)},t.prototype.updateRectNodes=function(){var e=this,n=this,s=n.highlightedDatum,l=n.formatter,g=n.fill,y=n.stroke,S=n.strokeWidth,E=this.highlightStyle,D=E.fill,T=E.stroke,P=E.strokeWidth;this.rectSelection.each(function(F,I,G){var J,j=I===s,U=j&&void 0!==D?D:g,z=j&&void 0!==T?T:y,Y=j&&void 0!==P?P:S,ae=I.x,se=I.y,ce=I.width,pe=I.height,fe=I.seriesDatum;l&&(J=l({datum:I,xValue:fe.x,yValue:fe.y,width:ce,height:pe,min:fe.y===e.min,max:fe.y===e.max,first:0===G,last:G===e.nodeSelectionData.length-1,fill:U,stroke:z,strokeWidth:Y,highlighted:j})),F.fill=J&&J.fill||U,F.stroke=J&&J.stroke||z,F.strokeWidth=J&&J.strokeWidth||Y,F.x=F.y=0,F.width=ce,F.height=pe,F.visible=F.height>0,F.translationX=ae,F.translationY=se})},t.prototype.updateLabelSelection=function(e){var n=this.labelSelection.setData(e),s=n.enter.append(bC).each(function(l){l.tag=$h.Label,l.pointerEvents=Zo.None});n.exit.remove(),this.labelSelection=n.merge(s)},t.prototype.updateLabelNodes=function(){var e=this.label,n=e.enabled,s=e.fontStyle,l=e.fontWeight,g=e.fontSize,y=e.fontFamily,S=e.color;this.labelSelection.each(function(E,D){var T=D.label;T&&n?(E.fontStyle=s,E.fontWeight=l,E.fontSize=g,E.fontFamily=y,E.textAlign=T.textAlign,E.textBaseline=T.textBaseline,E.text=T.text,E.x=T.x,E.y=T.y,E.fill=S,E.visible=!0):E.visible=!1})},t.prototype.getTooltipHtml=function(e){var n=this.dataType,s=e.seriesDatum,l=s.y,g=s.x,E={content:this.formatNumericDatum(l),title:"array"===n||"object"===n?this.formatDatum(g):void 0};return this.tooltip.renderer?yu(this.tooltip.renderer({context:this.context,datum:s,yValue:l,xValue:g}),E):yu(E)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(Ii),VS=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rv=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return VS(t,u),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,n=e.xScale,s=e.seriesRect,l=e.paddingOuter,g=e.paddingInner;if(n instanceof wa)n.range=[0,s.height],n.paddingInner=g,n.paddingOuter=l;else{var y=this.calculateStep(s.height),S=y*l;this.bandWidth=y*(1-g),n.range=[S,s.height-S-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,n=e.yScale,s=e.axis,l=e.axisLine,g=e.seriesRect,y=s.strokeWidth;l.x1=0,l.x2=0,l.y1=0,l.y2=g.height,l.stroke=s.stroke,l.strokeWidth=y+(y%2==1?1:0);var S=n.convert(0);l.translationX=S},t.prototype.generateNodeData=function(){var e=this,s=e.yData,l=e.xData,g=e.xScale,y=e.yScale,S=e.fill,E=e.stroke,D=e.strokeWidth,T=e.label;if(e.data){for(var P=T.fontStyle,F=T.fontWeight,I=T.fontSize,G=T.fontFamily,j=T.color,U=T.formatter,z=T.placement,Y=[],J=y.convert(0),ae=0,se=s.length;ae<se;ae++){var ce=s[ae],pe=l[ae],fe=void 0===ce;fe&&(ce=0);var he,we=g.convert(pe),Fe=Math.min(y.convert(ce),J),Re=Math.max(y.convert(ce),J),_e=g instanceof wa?g.bandwidth:this.bandWidth,De=Re-Fe,Ce={x:J,y:we};he=U?U({value:ce}):void 0!==ce&&xi(ce)?this.formatLabelValue(ce):"";var Te=we+_e/2,$e=void 0,Le=void 0,Je=void 0!==ce&&ce>=0;if(z===Hs.Center)$e=Fe+De/2,Le="center";else if(z===Hs.OutsideEnd)$e=Fe+(Je?De+4:-4),Le=Je?"start":"end";else if(z===Hs.InsideEnd){$e=Fe+(Je?De-4:4),Le=Je?"end":"start";var qe=Ms.getTextSize(he,G).width||20;(Je&&$e<J+qe||!Je&&$e>J-qe)&&($e=J+4*(Je?1:-1),Le=Je?"start":"end")}else $e=J+4*(Je?1:-1),Le=Je?"start":"end";Y.push({x:Fe,y:we,width:De,height:_e,fill:S,stroke:E,strokeWidth:D,seriesDatum:{x:pe,y:fe?void 0:ce},point:Ce,label:{x:$e,y:Te,text:he,fontStyle:P,fontWeight:F,fontSize:I,fontFamily:G,textAlign:Le,textBaseline:"middle",fill:j}})}return Y}},t.prototype.getDistance=function(e,n){return Math.abs(e.y-n.y)},t.className="BarSparkline",t}(Xp),BS=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sn=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return BS(t,u),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,n=e.xScale,s=e.seriesRect,l=e.paddingOuter,g=e.paddingInner;if(n instanceof wa)n.range=[0,s.width],n.paddingInner=g,n.paddingOuter=l;else{var y=this.calculateStep(s.width),S=y*l;this.bandWidth=y*(1-g),n.range=[S,s.width-S-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,n=e.yScale,s=e.axis,l=e.axisLine,g=e.seriesRect,y=s.strokeWidth;l.x1=0,l.x2=g.width,l.y1=0,l.y2=0,l.stroke=s.stroke,l.strokeWidth=y+(y%2==1?1:0);var S=n.convert(0);l.translationY=S},t.prototype.generateNodeData=function(){var e=this,s=e.yData,l=e.xData,g=e.xScale,y=e.yScale,S=e.fill,E=e.stroke,D=e.strokeWidth,T=e.label;if(e.data){for(var P=T.fontStyle,F=T.fontWeight,I=T.fontSize,G=T.fontFamily,j=T.color,U=T.formatter,z=T.placement,Y=[],J=y.convert(0),ae=0,se=s.length;ae<se;ae++){var ce=s[ae],pe=l[ae],fe=void 0===ce;fe&&(ce=0);var he,we=Math.min(y.convert(ce),J),Fe=g.convert(pe),Re=Math.max(y.convert(ce),J),_e=g instanceof wa?g.bandwidth:this.bandWidth,De=Re-we,Ce={x:Fe+_e/2,y:J};he=U?U({value:ce}):void 0!==ce&&xi(ce)?this.formatLabelValue(ce):"";var Te=Fe+_e/2,$e=void 0,Le=void 0,Je=void 0!==ce&&ce>=0;if(z===Hs.Center)$e=we+De/2,Le="middle";else if(z===Hs.OutsideEnd)$e=we+(Je?-2:De+2),Le=Je?"bottom":"top";else if(z===Hs.InsideEnd){$e=we+(Je?2:De-2),Le=Je?"top":"bottom";var qe=Ms.getTextSize(he,G).height||10;(Je&&$e>J-qe||!Je&&$e<J+qe)&&($e=J+2*(Je?-1:1),Le=Je?"bottom":"top")}else $e=J+2*(Je?-1:1),Le=Je?"bottom":"top";Y.push({x:Fe,y:we,width:_e,height:De,fill:S,stroke:E,strokeWidth:D,seriesDatum:{x:pe,y:fe?void 0:ce},point:Ce,label:{x:Te,y:$e,text:he,fontStyle:P,fontWeight:F,fontSize:I,fontFamily:G,textAlign:"center",textBaseline:Le,fill:j}})}return Y}},t.className="ColumnSparkline",t}(Xp),yl=function(){function u(){}return u.create=function(t,e){var n=function HS(u){switch(void 0===u&&(u="line"),u){case"column":return new sn;case"bar":return new rv;case"area":return new jh;default:return new _C}}((t=Object.create(t)).type);return e&&(n.tooltip=e),function OC(u,t){vt(u,"context",t.context,t),vt(u,"width",t.width,t),vt(u,"height",t.height,t),vt(u,"container",t.container,t),vt(u,"xKey",t.xKey,t),vt(u,"yKey",t.yKey,t),t.padding&&function jS(u,t){vt(u,"top",t.top,t),vt(u,"right",t.right,t),vt(u,"bottom",t.bottom,t),vt(u,"left",t.left,t)}(u.padding,t.padding),t.axis&&function Zp(u,t){vt(u,"type",t.type,t),vt(u,"stroke",t.stroke,t),vt(u,"strokeWidth",t.strokeWidth,t)}(u.axis,t.axis),t.highlightStyle&&function an(u,t){vt(u,"fill",t.fill,t),vt(u,"size",t.size,t),vt(u,"stroke",t.stroke,t),vt(u,"strokeWidth",t.strokeWidth,t)}(u.highlightStyle,t.highlightStyle),t.tooltip&&u.tooltip&&function iv(u,t){vt(u,"enabled",t.enabled,t),vt(u,"container",t.container,t),vt(u,"xOffset",t.xOffset,t),vt(u,"yOffset",t.yOffset,t),vt(u,"renderer",t.renderer,t)}(u.tooltip,t.tooltip)}(n,t),function nv(u,t){switch(t.type){case"bar":case"column":!function Oa(u,t){vt(u,"valueAxisDomain",t.valueAxisDomain,t),vt(u,"fill",t.fill,t),vt(u,"stroke",t.stroke,t),vt(u,"strokeWidth",t.strokeWidth,t),vt(u,"paddingInner",t.paddingInner,t),vt(u,"paddingOuter",t.paddingOuter,t),vt(u,"formatter",t.formatter,t),t.label&&function RO(u,t){vt(u,"enabled",t.enabled,t),vt(u,"fontStyle",t.fontStyle,t),vt(u,"fontWeight",t.fontWeight,t),vt(u,"fontSize",t.fontSize,t),vt(u,"fontFamily",t.fontFamily,t),vt(u,"textAlign",t.textAlign,t),vt(u,"textBaseline",t.textBaseline,t),vt(u,"color",t.color,t),vt(u,"formatter",t.formatter,t),vt(u,"placement",t.placement,t)}(u.label,t.label)}(u,t);break;case"area":!function WS(u,t){vt(u,"fill",t.fill,t),t.marker&&Ni(u.marker,t.marker),t.line&&US(u.line,t.line),t.crosshairs&&ov(u.crosshairs,t.crosshairs)}(u,t);break;default:!function ui(u,t){t.marker&&Ni(u.marker,t.marker),t.line&&US(u.line,t.line),t.crosshairs&&ov(u.crosshairs,t.crosshairs)}(u,t)}}(n,t),t.data&&(n.data=t.data),n},u}();function Ni(u,t){vt(u,"enabled",t.enabled,t),vt(u,"size",t.size,t),vt(u,"shape",t.shape,t),vt(u,"fill",t.fill,t),vt(u,"stroke",t.stroke,t),vt(u,"strokeWidth",t.strokeWidth,t),vt(u,"formatter",t.formatter,t)}function US(u,t){vt(u,"stroke",t.stroke,t),vt(u,"strokeWidth",t.strokeWidth,t)}function ov(u,t){u.xLine&&t.xLine&&Kh(u.xLine,t.xLine),u.yLine&&t.yLine&&Kh(u.yLine,t.yLine)}function Kh(u,t){vt(u,"enabled",t.enabled,t),vt(u,"stroke",t.stroke,t),vt(u,"strokeWidth",t.strokeWidth,t),vt(u,"lineDash",t.lineDash,t),vt(u,"lineCap",t.lineCap,t)}var Ln={},Jp=function(u,t,e){if(xi(t))return!0;var n="AG Charts: "+u+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return function Qp(u,t){Ln[t]||(u(),Ln[t]=!0)}(function(){return console.warn(n)},u+" not a number"),!1},zS={xOffset:Jp,yOffset:Jp};function vt(u,t,e,n){if(t in n)if(t in u){var s=zS[t];(!s||s(t,e,u[t]))&&u[t]!==e&&(u[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var sv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),av=function(){return av=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},av.apply(this,arguments)},Yh=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},lv=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return sv(t,u),t.prototype.init=function(e){var n=this,s=!0,g=this.resizeObserverService.observeResize(this.getGui(),function(){var y=n.getGui(),S=y.clientWidth,E=y.clientHeight;if(0!==S&&0!==E)if(s){var D=av({data:e.value,width:S,height:E,context:{data:e.data}},e.sparklineOptions);n.sparkline=yl.create(D,n.sparklineTooltipSingleton.getSparklineTooltip()),n.eSparkline.appendChild(n.sparkline.canvasElement),s=!1}else n.sparkline.width=S,n.sparkline.height=E});this.addDestroyFunc(function(){return g()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',Yh([b.RefSelector("eSparkline")],t.prototype,"eSparkline",void 0),Yh([b.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Yh([b.Autowired("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(b.Component),DC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uv=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},RC=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return DC(t,u),t.prototype.postConstruct=function(){this.tooltip=new li},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},uv([b.PostConstruct],t.prototype,"postConstruct",null),uv([b.PreDestroy],t.prototype,"destroyTooltip",null),uv([b.Bean("sparklineTooltipSingleton")],t)}(b.BeanStub),ed={moduleName:b.ModuleNames.SparklinesModule,beans:[RC],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:lv}],dependantModules:[Sn]},$S=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),To=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},cv=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return $S(t,u),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var s=this.extractRowsFromGridRowModel(e);return s.chartData=this.aggregateRowsByDimension(e,s.chartData),s},t.prototype.extractRowsFromGridRowModel=function(e){var D,n=this,s=[],l={},g={},y={},S={},E=[];if(e.crossFiltering)S=this.getFilteredRowNodes(),D=(E=this.getAllRowNodes()).length;else{var T=this.gridRowModel.getRowCount()-1;D=(e.endRow>=0?Math.min(e.endRow,T):T)-e.startRow+1}for(var F=function(z){var Y={},J=e.crossFiltering?E[z]:I.gridRowModel.getRow(z+e.startRow);e.dimensionCols.forEach(function(ae){var se=ae.colId,ce=n.columnModel.getGridColumn(se);if(ce){var pe=n.valueService.getValue(ce,J);if(e.grouping){var fe=pe&&pe.toString?String(pe.toString()):"",we=t.getGroupLabels(J,fe);Y[se]={labels:we,toString:function(){return this.labels.filter(function(Re){return!!Re}).reverse().join(" - ")}},J.group&&(g[we.toString()]=z);var Fe=we.slice(1,we.length).toString();Fe&&(y[Fe]=g[Fe])}else Y[se]=pe}else Y[rd.DEFAULT_CATEGORY]=z+1}),e.valueCols.forEach(function(ae){var se=[],ce=ae.getColDef().pivotKeys;ce&&(se=ce.slice());var pe=ae.getColDef().headerName;pe&&se.push(pe),se.length>0&&(l[ae.getId()]=se);var fe=ae.getColId();if(e.crossFiltering){var we=fe+"-filtered-out",Re=null!=(Fe=n.valueService.getValue(ae,J))&&"function"==typeof Fe.toNumber?Fe.toNumber():Fe;S[J.id]?(Y[fe]=Re,Y[we]=e.aggFunc||e.isScatter?void 0:0):(Y[fe]=e.aggFunc||e.isScatter?void 0:0,Y[we]=Re)}else{var Fe=n.valueService.getValue(ae,J);Y[fe]=null!=Fe&&"function"==typeof Fe.toNumber?Fe.toNumber():Fe}}),J.footer&&(Y.footer=!0),s.push(Y)},I=this,G=0;G<D;G++)F(G);if(e.grouping){var j=b._.values(y);s=s.filter(function(z,Y){return!z.footer&&!b._.includes(j,Y)})}return{chartData:s,columnNames:l}},t.prototype.aggregateRowsByDimension=function(e,n){var s=this,l=e.dimensionCols;if(!e.aggFunc||0===l.length)return n;var g=b._.last(l),y=g&&g.colId,S={},E=[];return n.forEach(function(D){var T=S;l.forEach(function(P){var F=P.colId,I=D[F];if(F===y){var G=T[I];G||(G={__children:[]},l.forEach(function(j){var U=j.colId;G[U]=D[U]}),T[I]=G,E.push(G)),G.__children.push(D)}else T[I]||(T[I]={}),T=T[I]})}),b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Charting Aggregation")&&E.forEach(function(D){return e.valueCols.forEach(function(T){if(e.crossFiltering)e.valueCols.forEach(function(I){var G=D.__children.filter(function(J){return void 0!==J[I.getColId()]}).map(function(J){return J[I.getColId()]}),j=s.aggregationStage.aggregateValues(G,e.aggFunc);D[I.getId()]=j&&void 0!==j.value?j.value:j;var U=I.getId()+"-filtered-out",z=D.__children.filter(function(J){return void 0!==J[U]}).map(function(J){return J[U]}),Y=s.aggregationStage.aggregateValues(z,e.aggFunc);D[U]=Y&&void 0!==Y.value?Y.value:Y});else{var P=D.__children.map(function(I){return I[T.getId()]}),F=0;b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Charting Aggregation")&&(F=s.aggregationStage.aggregateValues(P,e.aggFunc)),D[T.getId()]=F&&void 0!==F.value?F.value:F}})}),E},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var n=this.extractPivotKeySeparator(e);e.forEach(function(s){var l=s.getColId().split(n);s.getColDef().pivotKeys=l.slice(0,l.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var n=function(l,g){var y=l.getGroupId();return l.getParent()?n(l.getParent(),y):g.split(y)[1][0]},s=e[0];return n(s.getParent(),s.getColId())},t.getGroupLabels=function(e,n){for(var s=[n];e&&0!==e.level;)(e=e.parent)&&s.push(e.key);return s},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(n){e[n.id]=n}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(n){e.push(n)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var n=this.sortController.getSortOptions();return n&&0!=n.length?this.rowNodeSorter.doFullSort(e,n):e},To([b.Autowired("rowModel")],t.prototype,"gridRowModel",void 0),To([b.Autowired("valueService")],t.prototype,"valueService",void 0),To([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),To([b.Autowired("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),To([b.Autowired("sortController")],t.prototype,"sortController",void 0),To([b.Optional("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(b.BeanStub),KS=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cu=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},td=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},qh=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(td(arguments[t]));return u},rd=function(u){function t(e){var n=u.call(this)||this;return n.unlinked=!1,n.chartData=[],n.valueColState=[],n.dimensionColState=[],n.columnNames={},n.grouping=!1,n.crossFiltering=!1,n.suppressComboChartWarnings=!1,n.chartId=e.chartId,n.chartType=e.chartType,n.pivotChart=e.pivotChart,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.seriesChartTypes=e.seriesChartTypes||[],n.initComboCharts(e),n}return KS(t,u),t.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new cv),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var n=this.getAllChartColumns(),s=n.dimensionCols,l=n.valueCols,g=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(s,g,e),this.setValueCellRange(l,g,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var n=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!n&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(g){return t.SUPPORTED_COMBO_CHART_TYPES.includes(g.chartType)||(console.warn("AG Grid: invalid chartType '"+g.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),g.chartType="line"),g});var l=this.valueColState.map(function(g){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(S){return S.colId===g.colId})||(g.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+g.colId+"', defaulting to 'line'."),{colId:g.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=l,this.savedCustomSeriesChartTypes=l,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",n="columnLineCombo"===this.chartType?"line":"groupedColumn",s=this.valueColState.filter(function(g){return g.selected}),l=Math.ceil(s.length/2);this.seriesChartTypes=s.map(function(g,y){return{colId:g.colId,chartType:y>=l?n:e,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),n=e.startRow,s=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var l={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:n,endRow:s,isScatter:b._.includes(["scatter","bubble"],this.chartType)},g=this.datasource.getData(l),S=g.columnNames;this.chartData=g.chartData,this.columnNames=S},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),n=e?null:this.columnModel.getRowGroupColumns(),s=e||n&&n.length>0,l=this.getSelectedDimension().colId,y=this.columnModel.getGroupDisplayColumns().map(function(S){return S.getColId()}).some(function(S){return S===l});return!!s&&y},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:n,startColumn:e===b.CellRangeType.DIMENSION?n[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return b._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,qh(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,qh(this.valueCellRange.columns)),b._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,n=0,s=this.rangeService,l=this.valueCellRange;if(s&&l){e=s.getRangeStartRow(l).rowIndex;var g=s.getRangeEndRow(l);n=g.rowPinned===b.Constants.PINNED_BOTTOM?-1:g.rowIndex}return{startRow:e,endRow:n}},t.prototype.getAllChartColumns=function(){var e=this,n=this.columnModel.getAllDisplayedColumns(),s=new Set,l=new Set;return n.forEach(function(g){var y=g.getColDef(),S=y.chartDataType;if(S)switch(S){case"category":case"time":return void s.add(g);case"series":return void l.add(g);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+S+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==y.colId?g.isPrimary()?(e.isNumberCol(g)?l:s).add(g):l.add(g):s.add(g)}),{dimensionCols:s,valueCols:l}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var n=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!n)return!1;var s=this.valueService.getValue(e,n);return null==s&&(s=this.extractLeafData(n,e)),null!=s&&"function"==typeof s.toNumber&&(s=s.toNumber()),"number"==typeof s},t.prototype.extractLeafData=function(e,n){if(!e.allLeafChildren)return null;for(var s=0;s<e.allLeafChildren.length;s++){var g=this.valueService.getValue(n,e.allLeafChildren[s]);if(null!=g)return g}return null},t.prototype.resetColumnState=function(){var e=this,n=this.getAllChartColumns(),s=n.dimensionCols,l=n.valueCols,g=this.getAllColumnsFromRanges(),y=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var S=!1,E=1,D=this.suppliedCellRange.columns[0];s.forEach(function(F){var I="ag-Grid-AutoColumn"===F.getColId(),G=!1;e.crossFiltering&&e.aggFunc?D.getColId()===F.getColId()&&(G=!0):G=!!I||!S&&g.has(F),e.dimensionColState.push({column:F,colId:F.getColId(),displayName:e.getColDisplayName(F),selected:G,order:E++}),G&&(S=!0)});var T={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!S,order:0};this.dimensionColState.unshift(T);var P=this.referenceCellRange.columns.filter(function(F){return l.has(F)});l.forEach(function(F){y&&b._.includes(e.referenceCellRange.columns,F)&&(F=P.shift()),e.valueColState.push({column:F,colId:F.getColId(),displayName:e.getColDisplayName(F),selected:g.has(F),order:E++})})},t.prototype.updateColumnState=function(e){var n=function(E){return E.colId===e.colId},l=this.dimensionColState,g=this.valueColState;l.filter(n).length>0?l.forEach(function(E){return E.selected=n(E)}):g.filter(n).forEach(function(E){return E.selected=e.selected});var y=qh(l,g),S=[];y.forEach(function(E,D){D===e.order&&S.push(e.colId),E.colId!==e.colId&&S.push(E.colId)}),y.forEach(function(E){var D=S.indexOf(E.colId);E.order=D>=0?S.indexOf(E.colId):y.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(n,s){return n.order-s.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,n,s){var l=this;if(this.dimensionCellRange=void 0,s||this.dimensionColState.length){var g=s;if(this.crossFiltering&&this.aggFunc){var y=this.suppliedCellRange.columns[0];g=this.dimensionColState.filter(function(S){return S.colId===y.getColId()})[0]}else(!g||!e.has(g.column))&&(g=this.dimensionColState.filter(function(S){return S.selected})[0]);g&&g.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(b.CellRangeType.DIMENSION,g.column))}else e.forEach(function(S){l.dimensionCellRange||!n.has(S)||(l.dimensionCellRange=l.createCellRange(b.CellRangeType.DIMENSION,S))})},t.prototype.setValueCellRange=function(e,n,s){this.valueCellRange=void 0;var l=[];if(e.forEach(function(y){s&&s.colId===y.getColId()?s.selected&&l.push(s.column):n.has(y)&&l.push(y)}),l.length>0){var g=[];this.valueColState.length>0?g=this.valueColState.map(function(y){return y.colId}):n.forEach(function(y){return g.push(y.getColId())}),l.sort(function(y,S){return g.indexOf(y.getColId())-g.indexOf(S.getColId())}),this.valueCellRange=this.createCellRange.apply(this,qh([b.CellRangeType.VALUE],l))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(b.CellRangeType.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],Cu([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Cu([b.Autowired("valueService")],t.prototype,"valueService",void 0),Cu([b.Autowired("rangeService")],t.prototype,"rangeService",void 0),Cu([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Cu([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Cu([b.PostConstruct],t.prototype,"init",null),t}(b.BeanStub),wu=function(){return wu=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},wu.apply(this,arguments)},ci=function(){function u(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return u.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var s=this.allPropertyListeners,l=s.get(t);l||s.set(t,l=new Map),l.has(e)||l.set(e,new Set);var y=l.get(e);y&&y.add(n)},u.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var l=this.allPropertyListeners.get(t);if(l)if(e){var g=l.get(e);g&&(g.delete(n),g.size||l.delete(e))}else l.clear()},u.prototype.notifyPropertyListeners=function(t,e,n){var s=this,g=this.allPropertyListeners.get(t);g&&g.forEach(function(y,S){y.forEach(function(E){return S.call(E,{type:t,source:s,value:n,oldValue:e})})})},u.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var s=this.allEventListeners,l=s.get(t);l||s.set(t,l=new Map),l.has(e)||l.set(e,new Set);var y=l.get(e);y&&y.add(n)},u.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var l=this.allEventListeners.get(t);if(l)if(e){var g=l.get(e);g&&(g.delete(n),g.size||l.delete(e))}else l.clear()},u.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach(function(s){var l=n.get(s);l&&l.forEach(function(g,y){g.forEach(function(S){return y.call(S,{type:s,source:e})})})})},u.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach(function(s,l){s.forEach(function(g){return l.call(g,wu(wu({},t),{source:e}))})})},u.privateKeyPrefix="_",u}();function be(){for(var u=[],t=0;t<arguments.length;t++)u[t]=arguments[t];return u.indexOf("debugger"),function(n,s){var l=ci.privateKeyPrefix+s,g=l+"Events";n[s]||(u&&(n[g]=u),Object.defineProperty(n,s,{set:function(y){var S=this[l];if(y!==S||"object"==typeof y&&null!==y){this[l]=y,this.notifyPropertyListeners(s,S,y);var E=this[g];E&&this.notifyEventListeners(E)}},get:function(){return this[l]},enumerable:!0,configurable:!0}))}}var AC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nd=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Xh=function(u){function t(e,n,s,l){void 0===e&&(e=0),void 0===n&&(n=e),void 0===s&&(s=e),void 0===l&&(l=n);var g=u.call(this)||this;return g.top=e,g.right=n,g.bottom=s,g.left=l,g}return AC(t,u),t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},nd([be("layoutChange")],t.prototype,"top",void 0),nd([be("layoutChange")],t.prototype,"right",void 0),nd([be("layoutChange")],t.prototype,"bottom",void 0),nd([be("layoutChange")],t.prototype,"left",void 0),t}(ci),Tr=function(){function u(t,e,n,s){this.x=t,this.y=e,this.width=n,this.height=s}return u.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},u.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},u.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},u.prototype.render=function(t,e){void 0===e&&(e=u.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},u.noParams={},u}(),Sc=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},ml=function(){function u(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return u.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},u.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(u.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),u.prototype.AxB=function(t,e,n){var s=Sc(t,6),l=s[0],g=s[1],y=s[2],S=s[3],E=s[4],D=s[5],T=Sc(e,6),P=T[0],F=T[1],I=T[2],G=T[3],j=T[4],U=T[5];(n=n||t)[0]=l*P+y*F,n[1]=g*P+S*F,n[2]=l*I+y*G,n[3]=g*I+S*G,n[4]=l*j+y*U+E,n[5]=g*j+S*U+D},u.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},u.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new u(e)},u.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},u.prototype.inverse=function(){var t=Sc(this.elements,6),e=t[0],n=t[1],s=t[2],l=t[3],g=t[4],y=t[5],S=1/(e*l-n*s);return new u([l*=S,-(n*=S),-(s*=S),e*=S,s*y-l*g,n*g-e*y])},u.prototype.inverseTo=function(t){var e=Sc(this.elements,6),n=e[0],s=e[1],l=e[2],g=e[3],y=e[4],S=e[5],E=1/(n*g-s*l);return t.setElements([g*=E,-(s*=E),-(l*=E),n*=E,l*S-g*y,s*y-n*S]),this},u.prototype.invertSelf=function(){var t=this.elements,e=Sc(t,6),n=e[0],s=e[1],l=e[2],g=e[3],y=e[4],S=e[5],E=1/(n*g-s*l);return n*=E,s*=E,l*=E,t[0]=g*=E,t[1]=-s,t[2]=-l,t[3]=n,t[4]=l*S-g*y,t[5]=s*y-n*S,this},u.prototype.clone=function(){return new u(this.elements.slice())},u.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},u.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var F,I,s=this.elements,l=s[0],g=s[1],y=s[2],S=s[3],E=.5*t.width,D=.5*t.height,T=t.x+E,P=t.y+D;if(e){E-=e,D-=e;var G=Math.sqrt(l*l+y*y),j=Math.sqrt(g*g+S*S);F=Math.abs(E*l)+Math.abs(D*y)+Math.abs(G*e),I=Math.abs(E*g)+Math.abs(D*S)+Math.abs(j*e)}else F=Math.abs(E*l)+Math.abs(D*y),I=Math.abs(E*g)+Math.abs(D*S);return n||(n=new Tr(0,0,0,0)),n.x=T*l+P*y+s[4]-F,n.y=T*g+P*S+s[5]-I,n.width=F+F,n.height=I+I,n},u.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},u.flyweight=function(t){return t?u.matrix.setElements(t instanceof u?t.elements:t):u.matrix.setIdentityElements(),u.matrix},u.matrix=new u,u}();function _u(u){var t=u.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var no=(()=>(function(u){u[u.All=0]="All",u[u.None=1]="None"}(no||(no={})),no))(),Gn=function(){function u(){this.id=_u(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new ml,this.inverseMatrix=new ml,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=no.All}return u.isNode=function(t){return!!t&&void 0!==t.matrix},u.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,s=0;s<n;s++)e[s]._setScene(t)},Object.defineProperty(u.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),u.prototype._setParent=function(t){this._parent=t},Object.defineProperty(u.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),u.prototype.countChildren=function(t){if(void 0===t&&(t=u.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,n=e.length,s=n,l=0;l<n;l++)s+=e[l].countChildren(t-1);return s},u.prototype.append=function(t){u.isNode(t)&&(t=[t]);for(var e=t.length,n=0;n<e;n++){var s=t[n];if(s.parent)throw new Error(s+" already belongs to another parent: "+s.parent+".");if(s.scene)throw new Error(s+" already belongs a scene: "+s.scene+".");if(this.childSet[s.id])throw new Error("Duplicate "+s.constructor.name+" node: "+s);this._children.push(s),this.childSet[s.id]=!0,s._setParent(this),s._setScene(this.scene)}this.dirty=!0},u.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},u.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},u.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var s=this.children.indexOf(e);if(!(s>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(s,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(u.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),u.prototype.transformPoint=function(t,e){for(var n=ml.flyweight(this.matrix),s=this.parent;s;)n.preMultiplySelf(s.matrix),s=s.parent;return n.invertSelf().transformPoint(t,e)},u.prototype.inverseTransformPoint=function(t,e){for(var n=ml.flyweight(this.matrix),s=this.parent;s;)n.preMultiplySelf(s.matrix),s=s.parent;return n.transformPoint(t,e)},Object.defineProperty(u.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),u.prototype.containsPoint=function(t,e){return!1},u.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==no.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var s=n.length-1;s>=0;s--){var l=n[s].pickNode(t,e);if(l)return l}else if(!this.isContainerNode)return this}},u.prototype.computeBBox=function(){},u.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},u.prototype.computeTransformMatrix=function(){var g,y,t=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}([0,0],2),e=t[0],n=t[1],s=this.scalingX,l=this.scalingY;1===s&&1===l?(g=0,y=0):(g=null===this.scalingCenterX?e:this.scalingCenterX,y=null===this.scalingCenterY?n:this.scalingCenterY);var T,P,S=this.rotation,E=Math.cos(S),D=Math.sin(S);0===S?(T=0,P=0):(T=null===this.rotationCenterX?e:this.rotationCenterX,P=null===this.rotationCenterY?n:this.rotationCenterY);var F=this.translationX,I=this.translationY,G=g*(1-s)-T,j=y*(1-l)-P;this.dirtyTransform=!1,this.matrix.setElements([E*s,D*s,-D*l,E*l,E*G-D*j+T+F,D*G+E*j+P+I]).inverseTo(this.inverseMatrix)},Object.defineProperty(u.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),u.MAX_SAFE_INTEGER=Math.pow(2,53)-1,u}();function wr(u,t){var e=Object.create(u);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function bc(u,t){return!1!==t.clone&&t.isMergeableObject(u)?pi(function AO(u){return Array.isArray(u)?[]:{}}(u),u,t):u}function qS(u,t,e){return u.concat(t).map(function(n){return bc(n,e)})}function Qh(u){return Object.keys(u).concat(function Zh(u){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u).filter(function(t){return u.propertyIsEnumerable(t)}):[]}(u))}function TC(u,t){try{return t in u}catch(e){return!1}}function Cl(u){return function MC(u){return!!u&&"object"==typeof u}(u)&&!function Jh(u){var t=Object.prototype.toString.call(u);return"[object RegExp]"===t||"[object Date]"===t}(u)}function pi(u,t,e){(e=e||{}).arrayMerge=e.arrayMerge||qS,e.isMergeableObject=e.isMergeableObject||Cl,e.cloneUnlessOtherwiseSpecified=bc;var n=Array.isArray(t);return n===Array.isArray(u)?n?e.arrayMerge(u,t,e):function Su(u,t,e){var n={};return e.isMergeableObject(u)&&Qh(u).forEach(function(s){n[s]=bc(u[s],e)}),Qh(t).forEach(function(s){(function xC(u,t){return TC(u,t)&&!(Object.hasOwnProperty.call(u,t)&&Object.propertyIsEnumerable.call(u,t))})(u,s)||(n[s]=TC(u,s)&&e.isMergeableObject(t[s])?function io(u,t){if(!t.customMerge)return pi;var e=t.customMerge(u);return"function"==typeof e?e:pi}(s,e)(u[s],t[s],e):bc(t[s],e))}),n}(u,t,e):bc(t,e)}var ef=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Li=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return ef(t,u),t.createInstance=function(e){var n=Object.create(e);return n._setParent(void 0),n.id=e.id+"-Instance-"+String(++e.lastInstanceId),n},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,n=Object.getOwnPropertyNames(e),s=0,l=n.length;s<l;s++){var g=n[s];this[g]=e[g]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var n in e)this[n]=e[n]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,n=Object.getPrototypeOf(e);for(var s in e)e.hasOwnProperty(s)&&n.hasOwnProperty(s)&&(this[s]=e[s])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,n,s){return null!=s?Math.floor(s)+Math.floor(n%1+s%1):Math.floor(n)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var n=this._lineDash;if(n!==e){if(n&&e&&n.length===e.length){for(var s=!0,l=e.length,g=0;g<l;g++)if(n[g]!==e[g]){s=!1;break}if(s)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var n=this._fillShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var n=this._strokeShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var n=this.scene.canvas.pixelRatio||1,s=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=s*this.opacity*this.fillOpacity;var l=this.fillShadow;l&&l.enabled&&(e.shadowColor=l.color,e.shadowOffsetX=l.xOffset*n,e.shadowOffsetY=l.yOffset*n,e.shadowBlur=l.blur*n),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=s*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var g=this.strokeShadow;g&&g.enabled&&(e.shadowColor=g.color,e.shadowOffsetX=g.xOffset*n,e.shadowOffsetY=g.yOffset*n,e.shadowBlur=g.blur*n),e.stroke()}}},t.prototype.containsPoint=function(e,n){return this.isPointInPath(e,n)},t.defaultStyles=wr({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Gn),Da=function(){function u(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(u.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),u.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},u.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},u.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},u.prototype.getDataURL=function(t){return this.element.toDataURL(t)},u.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var n=this.getDataURL("image/png"),s=this.document,l=s.createElement("a");l.href=n,l.download=t,l.style.display="none",s.body.appendChild(l),l.click(),s.body.removeChild(l)},Object.defineProperty(u.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),u.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(u.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(u.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),u.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,s=n.element,l=n.context,g=n.pixelRatio;s.width=Math.round(t*g),s.height=Math.round(e*g),s.style.width=t+"px",s.style.height=e+"px",l.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(u,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(u,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(u,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),u.measureText=function(t,e,n,s){var l=this.textMeasuringContext;return l.font=e,l.textBaseline=n,l.textAlign=s,l.measureText(t)},u.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var s=n.measureText(t);return{width:s.width,height:s.actualBoundingBoxAscent+s.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},u.measureSvgText=function(t,e){var n=this.textSizeCache,s=n[e];if(s){var l=s[t];if(l)return l}else n[e]={};var g=this.svgText;g.style.font=e,g.textContent=t;var y=g.getBBox(),S={width:y.width,height:y.height};return n[e][t]=S,S},u.overrideScale=function(t,e){var n=0,s={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(g,y,S,E,D,T){this.$setTransform(g*e,y*e,S*e,E*e,D*e,T*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var l in s)s.hasOwnProperty(l)&&(t["$"+l]||(t["$"+l]=t[l]),t[l]=s[l])},u.textSizeCache={},u}(),Ec=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zn=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return Ec(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var n=String(e);this._text!==n&&(this._text=n,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=tf(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Da.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Da.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Tr(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Da.getTextSize(this.text,this.font),s=this.x,l=this.y;switch(this.textAlign){case"end":case"right":s-=e.width;break;case"center":s-=e.width/2}switch(this.textBaseline){case"alphabetic":l-=.7*e.height;break;case"middle":l-=.45*e.height;break;case"ideographic":case"bottom":l-=e.height;break;case"hanging":l-=.2*e.height}return new Tr(s,l,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n),l=this.computeBBox();return!!l&&l.containsPoint(s.x,s.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,s=n.fill,l=n.stroke,g=n.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,S=e.globalAlpha;if(s){e.fillStyle=s,e.globalAlpha=S*this.opacity*this.fillOpacity;var E=this,D=E.fillShadow,T=E.text,P=E.x,F=E.y;D&&D.enabled&&(e.shadowColor=D.color,e.shadowOffsetX=D.xOffset*y,e.shadowOffsetY=D.yOffset*y,e.shadowBlur=D.blur*y),e.fillText(T,P,F)}if(l&&g){e.strokeStyle=l,e.lineWidth=g,e.globalAlpha=S*this.opacity*this.strokeOpacity;var I=this,G=I.lineDash,j=I.lineDashOffset,U=I.lineCap,z=I.lineJoin,Y=I.strokeShadow;T=I.text,P=I.x,F=I.y,G&&e.setLineDash(G),j&&(e.lineDashOffset=j),U&&(e.lineCap=U),z&&(e.lineJoin=z),Y&&Y.enabled&&(e.shadowColor=Y.color,e.shadowOffsetX=Y.xOffset*y,e.shadowOffsetY=Y.yOffset*y,e.shadowBlur=Y.blur*y),e.strokeText(T,P,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=wr(Li.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Li);function tf(u,t,e,n){return[e||"",n||"",u+"px",t].join(" ").trim()}var XS=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rf=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},dv=function(u){function t(){var e=u.call(this)||this;e.node=new zn,e.enabled=!1,e.padding=new Xh(10);var n=e.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=no.None,e}return XS(t,u),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),rf([be("change")],t.prototype,"enabled",void 0),rf([be("change")],t.prototype,"padding",void 0),t}(ci),hv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function nf(u,t,e){var n=Dc(u,t,e);return function ZS(u,t,e){void 0===e&&(e=1);for(var n=Math.abs(e),s=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,l=Math.pow(10,s),g=Math.max(0,Math.ceil((t-u)/e))||0,y=new gv(s),S=0;S<g;S++)y[S]=Math.round((u+e*S)*l)/l;return y}(u=Math.ceil(u/n)*n,t=Math.floor(t/n)*n+n/2,n)}var fv=Math.sqrt(50),Oc=Math.sqrt(10),id=Math.sqrt(2);function Dc(u,t,e){var n=Math.abs(t-u)/Math.max(0,e),s=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),l=n/s;return l>=fv?s*=10:l>=Oc?s*=5:l>=id&&(s*=2),t<u?-s:s}function Rc(u,t,e){var n=(t-u)/Math.max(0,e),s=Math.floor(Math.log(n)/Math.LN10),l=n/Math.pow(10,s);return s>=0?(l>=fv?10:l>=Oc?5:l>=id?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(l>=fv?10:l>=Oc?5:l>=id?2:1)}var gv=function(u){function t(e,n){var s=u.call(this)||this;if(n)for(var l=0,g=n.length;l<g;l++)s[l]=n[l];return s.fractionDigits=e,s}return hv(t,u),t}(Array);function Ws(u,t){return u=+u,t=+t,function(e){return u*(1-e)+t*e}}var of=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},oo=function(){function u(t,e,n,s){void 0===s&&(s=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,s||0))}return u.fromString=function(t){if(t.indexOf("#")>=0)return u.fromHexString(t);var e=u.nameToHex[t];if(e)return u.fromHexString(e);if(t.indexOf("rgb")>=0)return u.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},u.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(s){return parseInt(s,16)}).map(function(s){return s+16*s})}if(e.length>=3&&e.every(function(s){return s>=0}))return 3===e.length&&e.push(255),e},u.fromHexString=function(t){var e=u.parseHex(t);if(e){var n=of(e,4);return new u(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},u.stringToRgba=function(t){for(var e=of([NaN,NaN],2),n=e[0],s=e[1],l=0;l<t.length;l++){var g=t[l];if(n||"("!==g){if(")"===g){s=l;break}}else n=l}var y=n&&s&&t.substring(n+1,s);if(y){var S=y.split(","),E=[];for(l=0;l<S.length;l++){var D=S[l],T=parseFloat(D);if(isNaN(T))return;D.indexOf("%")>=0?(T=Math.max(0,Math.min(100,T)),T/=100):3===l?T=Math.max(0,Math.min(1,T)):(T=Math.max(0,Math.min(255,T)),T/=255),E.push(T)}return E}},u.fromRgbaString=function(t){var e=u.stringToRgba(t);if(e){if(3===e.length)return new u(e[0],e[1],e[2]);if(4===e.length)return new u(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},u.fromArray=function(t){if(4===t.length)return new u(t[0],t[1],t[2],t[3]);if(3===t.length)return new u(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},u.fromHSB=function(t,e,n,s){void 0===s&&(s=1);var l=u.HSBtoRGB(t,e,n);return new u(l[0],l[1],l[2],s)},u.padHex=function(t){return 1===t.length?"0"+t:t},u.prototype.toHexString=function(){var t="#"+u.padHex(Math.round(255*this.r).toString(16))+u.padHex(Math.round(255*this.g).toString(16))+u.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=u.padHex(Math.round(255*this.a).toString(16))),t},u.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},u.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},u.prototype.toHSB=function(){return u.RGBtoHSB(this.r,this.g,this.b)},u.RGBtoHSB=function(t,e,n){var s=Math.min(t,e,n),l=Math.max(t,e,n),y=NaN;if(s!==l){var S=l-s,E=(l-t)/S,D=(l-e)/S,T=(l-n)/S;y=t===l?T-D:e===l?2+E-T:4+D-E,(y/=6)<0&&(y+=1)}return[360*y,0!==l?(l-s)/l:0,l]},u.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var s=0,l=0,g=0;if(0===e)s=l=g=n;else{var y=6*(t-Math.floor(t)),S=y-Math.floor(y),E=n*(1-e),D=n*(1-e*S),T=n*(1-e*(1-S));switch(y>>0){case 0:s=n,l=T,g=E;break;case 1:s=D,l=n,g=E;break;case 2:s=E,l=n,g=T;break;case 3:s=E,l=D,g=n;break;case 4:s=T,l=E,g=n;break;case 5:s=n,l=E,g=D}}return[s,l,g]},u.prototype.derive=function(t,e,n,s){var l=u.RGBtoHSB(this.r,this.g,this.b),g=l[2];0==g&&n>1&&(g=.05);var y=((l[0]+t)%360+360)%360,S=Math.max(Math.min(l[1]*e,1),0);g=Math.max(Math.min(g*n,1),0);var E=Math.max(Math.min(this.a*s,1),0),D=u.HSBtoRGB(y,S,g);return D.push(E),u.fromArray(D)},u.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},u.prototype.darker=function(){return this.derive(0,1,.7,1)},u.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),u}();function vv(u,t){if("string"==typeof u)try{u=oo.fromString(u)}catch(g){u=oo.fromArray([0,0,0])}if("string"==typeof t)try{t=oo.fromString(t)}catch(g){t=oo.fromArray([0,0,0])}var e=Ws(u.r,t.r),n=Ws(u.g,t.g),s=Ws(u.b,t.b),l=Ws(u.a,t.a);return function(g){return oo.fromArray([e(g),n(g),s(g),l(g)]).toRgbaString()}}function is(u,t){var e=typeof t;if(null==t||"boolean"===e)return function(u){return function(){return u}}(t);if("number"===e)return Ws(u,t);if("string"===e)try{return vv(u,t=oo.fromString(t))}catch(s){}return t instanceof oo?vv(u,t):t instanceof Date?function QS(u,t){var e=new Date,n=+u,s=+t;return function(l){return e.setTime(n*(1-l)+s*l),e}}(u,t):Array.isArray(t)?function od(u,t){var g,e=t?t.length:0,n=u?Math.min(e,u.length):0,s=new Array(n),l=new Array(e);for(g=0;g<n;++g)s[g]=is(u[g],t[g]);for(;g<e;++g)l[g]=t[g];return function(y){for(g=0;g<n;++g)l[g]=s[g](y);return l}}(u,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function LC(u,t){var s,e={},n={};for(s in(null===u||"object"!=typeof u)&&(u={}),(null===t||"object"!=typeof t)&&(t={}),t)s in u?e[s]=is(u[s],t[s]):n[s]=t[s];return function(l){for(s in e)n[s]=e[s](l);return n}}(u,t):Ws(u,t)}function Ac(u,t){return u<t?-1:u>t?1:u>=t?0:NaN}var Pc=function(u){return u};function Us(u){var t,e=u[0],n=u[u.length-1];return e>n&&(t=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}([n,e],2),e=t[0],n=t[1]),function(s){return Math.max(e,Math.min(n,s))}}var _v,_l,bv,UC,so=function(){function u(){this.unknown=void 0,this.clamper=Us,this._clamp=Pc,this._domain=[0,1],this._range=[0,1],this.transform=Pc,this.untransform=Pc,this._interpolate=is,this.rescale()}return Object.defineProperty(u.prototype,"clamp",{get:function(){return this._clamp!==Pc},set:function(t){this._clamp=t?this.clamper(this.domain):Pc},enumerable:!0,configurable:!0}),u.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==Pc&&(this._clamp=this.clamper(this.domain)),this.rescale()},u.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(u.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),u.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},u.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(u){return function(){return u}}(isNaN(e)?NaN:.5)},u.prototype.bimap=function(t,e,n){var S,E,s=t[0],l=t[1],g=e[0],y=e[1];return l<s?(S=this.normalize(l,s),E=n(y,g)):(S=this.normalize(s,l),E=n(g,y)),function(D){return E(S(D))}},u.prototype.polymap=function(t,e,n){var s=this,l=Math.min(t.length,e.length)-1;t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());var g=Array.from({length:l},function(S,E){return s.normalize(t[E],t[E+1])}),y=Array.from({length:l},function(S,E){return n(e[E],e[E+1])});return function(S){var E=function GC(u,t,e,n,s){for(void 0===n&&(n=0),void 0===s&&(s=u.length);n<s;){var l=n+s>>>1;e(u[l],t)>0?s=l:n=l+1}return n}(t,S,Ac,1,l)-1;return y[E](g[E](S))}},u.prototype.convert=function(t,e){if(t=+t,isNaN(t))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var n=e?e(this.domain):this._clamp;return this.output(this.transform(n(t)))},u.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Ws)),this._clamp(this.untransform(this.input(t)))},u}(),xo={"":function JS(u,t){var e=u.toPrecision(t);e:for(var n=e.length,s=1,l=-1,g=0;s<n;++s)switch(e[s]){case".":l=g=s;break;case"0":0===l&&(l=s),g=s;break;case"e":break e;default:l>0&&(l=0)}return l>0?e.slice(0,l)+e.slice(g+1):e},"%":function(u,t){return(100*u).toFixed(t)},b:function(u){return Math.round(u).toString(2)},c:function(u){return String(u)},d:function $n(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,t){return u.toExponential(t)},f:function(u,t){return u.toFixed(t)},g:function(u,t){return u.toPrecision(t)},o:function(u){return Math.round(u).toString(8)},p:function(u,t){return WC(100*u,t)},r:WC,s:function eb(u,t){void 0===t&&(t=0);var e=bu(u,t);if(!e)return String(u);var n=e[0],s=e[1],l=s-(_v=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,g=n.length;if(l===g)return n;if(l>g)return n+new Array(l-g+1).join("0");if(l>0)return n.slice(0,l)+"."+n.slice(l);var y=bu(u,Math.max(0,t+l-1));return"0."+new Array(1-l).join("0")+y[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}},ad=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],sf=function u(t){t instanceof u?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},mv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Cv=/(#\{(.*?)\})/g;function wv(u){if(u instanceof sf)return new sf(u);var t=!1,e=u.replace(Cv,function(){return t||(u=arguments[2],t=!0),"#{}"}),n=mv.exec(u);if(!n)throw new Error("Invalid format: "+u);return new sf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10],string:t?e:void 0})}function WC(u,t){var e=bu(u,t);if(!e)return String(u);var n=e[0],s=e[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}function bu(u,t){var e=t?u.toExponential(t-1):u.toExponential(),n=e.indexOf("e");if(!(n<0)){var s=e.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+e.slice(n+1)]}}function jC(u){return u}function St(u){var t=bu(Math.abs(u));return t?t[1]:NaN}!function zC(u){_l=function Ra(u){var t=void 0===u.grouping||void 0===u.thousands?jC:function BC(u,t){return function(e,n){for(var s=[],l=e.length,g=0,y=u[0],S=0;l>0&&y>0&&(S+y+1>n&&(y=Math.max(1,n-S)),s.push(e.substring(l-=y,l+y)),!((S+=y+1)>n));)y=u[g=(g+1)%u.length];return s.reverse().join(t)}}(Array.prototype.map.call(u.grouping,Number),String(u.thousands)),e=void 0===u.currency?"":String(u.currency[0]),n=void 0===u.currency?"":String(u.currency[1]),s=void 0===u.decimal?".":String(u.decimal),l=void 0===u.numerals?jC:function HC(u){return function(t){return t.replace(/[0-9]/g,function(e){return u[+e]})}}(Array.prototype.map.call(u.numerals,String)),g=void 0===u.percent?"%":String(u.percent),y=void 0===u.minus?"\u2212":String(u.minus),S=void 0===u.nan?"NaN":String(u.nan);function E(T){var P=wv(T),F=P.fill,I=P.align,G=P.sign,j=P.symbol,U=P.zero,z=P.width,Y=P.comma,J=P.precision,ae=P.trim,se=P.type;"n"===se?(Y=!0,se="g"):xo[se]||(void 0===J&&(J=12),ae=!0,se="g"),(U||"0"===F&&"="===I)&&(U=!0,F="0",I="=");var ce="$"===j?e:"#"===j&&/[boxX]/.test(se)?"0"+se.toLowerCase():"",pe="$"===j?n:/[%p]/.test(se)?g:"",fe=xo[se],we=/[defgprs%]/.test(se);return J=void 0===J?6:/[gprs]/.test(se)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J)),function Fe(Re){var Ce,_e=ce,De=pe;if("c"===se)De=fe(+Re)+De,Ce="";else{var he=+Re,Te=Re<0||1/he<0;if(Ce=isNaN(he)?S:fe(Math.abs(he),J),ae&&(Ce=function Sv(u){e:for(var t=u.length,e=1,n=-1,s=0;e<t;++e)switch(u[e]){case".":n=s=e;break;case"0":0===n&&(n=e),s=e;break;default:if(!+u[e])break e;n>0&&(n=0)}return n>0?u.slice(0,n)+u.slice(s+1):u}(Ce)),Te&&0==+Ce&&"+"!==G&&(Te=!1),_e=(Te?"("===G?G:y:"-"===G||"("===G?"":G)+_e,De=("s"===se?ad[8+_v/3]:"")+De+(Te&&"("===G?")":""),we)for(var Le=0,Je=Ce.length;Le<Je;Le++){var He=Ce.charCodeAt(Le);if(48>He||He>57){De=(46===He?s+Ce.slice(Le+1):Ce.slice(Le))+De,Ce=Ce.slice(0,Le);break}}}Y&&!U&&(Ce=t(Ce,1/0));var at=_e.length+Ce.length+De.length,qe=at<z?new Array(z-at+1).join(F):"";switch(Y&&U&&(Ce=t(qe+Ce,qe.length?z-De.length:1/0),qe=""),I){case"<":Ce=_e+Ce+De+qe;break;case"=":Ce=_e+qe+Ce+De;break;case"^":Ce=qe.slice(0,at=qe.length>>1)+_e+Ce+De+qe.slice(at);break;default:Ce=qe+_e+Ce+De}var dt=P.string;return dt?dt.replace(Cv,function(){return l(Ce)}):l(Ce)}}return{format:E,formatPrefix:function D(T,P){var F=wv(T);F.type="f";var I=E(F),G=3*Math.max(-8,Math.min(8,Math.floor(St(P)/3))),j=Math.pow(10,-G),U=ad[8+G/3];return function(z){return I(j*+z)+U}}}}(u),bv=_l.format,UC=_l.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var Mo=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),un=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.type="linear",e}return Mo(t,u),t.prototype.ticks=function(e){void 0===e&&(e=10);var n=this._domain;return nf(n[0],n[n.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var S,n=this.domain,s=0,l=n.length-1,g=n[s],y=n[l];y<g&&(S=g,g=y,y=S,S=s,s=l,l=S),(S=Rc(g,y,e))>0?S=Rc(g=Math.floor(g/S)*S,y=Math.ceil(y/S)*S,e):S<0&&(S=Rc(g=Math.ceil(g*S)/S,y=Math.floor(y*S)/S,e)),S>0?(n[s]=Math.floor(g/S)*S,n[l]=Math.ceil(y/S)*S,this.domain=n):S<0&&(n[s]=Math.ceil(g*S)/S,n[l]=Math.floor(y*S)/S,this.domain=n)},t.prototype.tickFormat=function(e,n){var s=this.domain;return function VC(u,t,e,n){var g,s=Dc(u,t,e),l=wv(null==n?",f":n);switch(l.type){case"s":var y=Math.max(Math.abs(u),Math.abs(t));return null==l.precision&&!isNaN(g=function ld(u,t){var e=Math.floor(St(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-St(Math.abs(u)))}(s,y))&&(l.precision=g),UC(l,y);case"":case"e":case"g":case"p":case"r":null==l.precision&&!isNaN(g=function $C(u,t){return u=Math.abs(u),t=Math.abs(t)-u,Math.max(0,St(t)-St(u))+1}(s,Math.max(Math.abs(u),Math.abs(t))))&&(l.precision=g-+("e"===l.type));break;case"f":case"%":null==l.precision&&!isNaN(g=function ln(u){return Math.max(0,-St(Math.abs(u)))}(s))&&(l.precision=g-2*+("%"===l.type))}return bv(l)}(s[0],s[s.length-1],null==e?10:e,n)},t}(so);function Tc(u,t){for(var e=0;e<u.length;e++){var n=u[e];if(t(n,e,u))return n}}function Aa(u){return u}function ao(u,t,e){for(var g,y,S,n=e||Aa,s=u.length,l=-1;++l<s;)if(t(g=u[l]))for(y=S=g;++l<s;)t(g=u[l])&&(y>g&&(y=g),S<g&&(S=g));return void 0===y||void 0===S?void 0:[n(y),n(S)]}function zs(u){var t=typeof u;return"string"!==t&&"number"===t&&u-u<1}function Pa(u){return"string"==typeof u}function cd(u){return Pa(u)||function ud(u){return!!u&&u.hasOwnProperty("toString")&&Pa(u.toString())}(u)}function cn(u){return function Ov(u){return zs(u)||function KC(u){return!!u&&u.hasOwnProperty("valueOf")&&zs(u.valueOf())}(u)}(u)||function PO(u){return u instanceof Date&&!isNaN(+u)}(u)}var Dv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vn=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return Dv(t,u),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,n){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,s=1/0,l=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(g){if(g.visible){var y=g.computeBBox();if(y){if(!(g instanceof t)){g.dirtyTransform&&g.computeTransformMatrix();for(var S=ml.flyweight(g.matrix),E=g.parent;E;)S.preMultiplySelf(E.matrix),E=E.parent;S.transformBBox(y,0,y)}var D=y.x,T=y.y;D<e&&(e=D),T<s&&(s=T),D+y.width>n&&(n=D+y.width),T+y.height>l&&(l=T+y.height)}}}),new Tr(e,s,n-e,l-s)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.children,s=n.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,n.sort(function(y,S){return y.zIndex-S.zIndex}));for(var l=0;l<s;l++){var g=n[l];g.visible&&(e.save(),g.render(e),e.restore())}},t.className="Group",t}(Gn),YC=function(){function u(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return u.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Gn.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},u.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},u}(),yn=function(){function u(t,e){this.groups=t,this.parents=e}return u.select=function(t){return new u([["function"==typeof t?t():t]],[void 0])},u.selectAll=function(t){return new u([null==t?[]:t],[void 0])},u.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},u.prototype.appendFn=function(t){return this.select(function(e,n,s,l){return e.appendChild(t(e,n,s,l))})},u.prototype.select=function(t){for(var e=this.groups,n=e.length,s=[],l=0;l<n;l++)for(var g=e[l],y=g.length,S=s[l]=new Array(y),E=0;E<y;E++){var D=g[E];if(D){var T=t(D,D.datum,E,g);T&&(T.datum=D.datum),S[E]=T}}return new u(s,this.parents)},u.prototype.selectByClass=function(t){return this.select(function(e){if(Gn.isNode(e))for(var n=e.children,s=n.length,l=0;l<s;l++){var g=n[l];if(g instanceof t)return g}})},u.prototype.selectByTag=function(t){return this.select(function(e){if(Gn.isNode(e))for(var n=e.children,s=n.length,l=0;l<s;l++){var g=n[l];if(g.tag===t)return g}})},u.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(Gn.isNode(e))for(var s=e.children,l=s.length,g=0;g<l;g++){var y=s[g];y instanceof t&&n.push(y)}return n})},u.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(Gn.isNode(e))for(var s=e.children,l=s.length,g=0;g<l;g++){var y=s[g];y.tag===t&&n.push(y)}return n})},u.prototype.selectNone=function(){return[]},u.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],n=[],s=this.groups,l=s.length,g=0;g<l;g++)for(var y=s[g],S=y.length,E=0;E<S;E++){var D=y[E];D&&(e.push(t(D,D.datum,E,y)),n.push(D))}return new u(e,n)},u.prototype.each=function(t){for(var e=this.groups,n=e.length,s=0;s<n;s++)for(var l=e[s],g=l.length,y=0;y<g;y++){var S=l[y];S&&t(S,S.datum,y,l)}return this},u.prototype.remove=function(){return this.each(function(t){if(Gn.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},u.prototype.merge=function(t){for(var e=this.groups,n=t.groups,s=e.length,g=Math.min(s,n.length),y=new Array(s),S=0;S<g;S++)for(var E=e[S],D=n[S],T=E.length,P=y[S]=new Array(T),F=0;F<T;F++)P[F]=E[F]||D[F]||void 0;for(;S<s;S++)y[S]=e[S];return new u(y,this.parents)},u.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var s=t[n],l=s.length,g=0;g<l;g++){var y=s[g];if(y)return y}return null},u.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},u.prototype.attrFn=function(t,e){return this.each(function(n,s,l,g){n[t]=e(n,s,l,g)}),this},u.prototype.call=function(t){return t(this),this},Object.defineProperty(u.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"data",{get:function(){var t=[];return this.each(function(e,n){return t.push(n)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"enter",{get:function(){return new u(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"exit",{get:function(){return new u(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),u.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(u.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),u.prototype.setData=function(t,e){if("function"!=typeof t){var n=t;t=function(){return n}}for(var s=this.groups,l=this.parents,g=s.length,y=new Array(g),S=new Array(g),E=new Array(g),D=0;D<g;D++){var T=s[D],P=l[D];if(!P)throw new Error("Group #"+D+" has no parent: "+T);var F=T.length,I=t(P,P.datum,D,l),G=I.length,j=S[D]=new Array(G),U=y[D]=new Array(G),z=E[D]=new Array(F);e?this.bindKey(P,T,j,U,z,I,e):this.bindIndex(P,T,j,U,z,I);for(var Y=0,J=0;Y<G;Y++){var ae=j[Y];if(ae){Y>=J&&(J=Y+1);for(var se=void 0;!(se=U[J])&&J<G;)J++;ae.next=se||null}}}var ce=new u(y,l);return ce.enterGroups=S,ce.exitGroups=E,ce},u.prototype.bindIndex=function(t,e,n,s,l,g){for(var y=e.length,S=g.length,E=0;E<S;E++)(D=e[E])?(D.datum=g[E],s[E]=D):n[E]=new YC(t,g[E]);for(;E<y;E++){var D;(D=e[E])&&(l[E]=D)}},u.prototype.bindKey=function(t,e,n,s,l,g,y){for(var S=e.length,E=g.length,D=new Array(S),T={},P=0;P<S;P++)(F=e[P])&&((I=D[P]=u.keyPrefix+y(F,F.datum,P,e))in T?l[P]=F:T[I]=F);for(P=0;P<E;P++){var I;(F=T[I=u.keyPrefix+y(t,g[P],P,g)])?(s[P]=F,F.datum=g[P],T[I]=void 0):n[P]=new YC(t,g[P])}for(P=0;P<S;P++){var F;(F=e[P])&&T[D[P]]===F&&(l[P]=F)}},u.keyPrefix="$",u}(),qC=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fo=function(u){function t(){var e=u.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return qC(t,u),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Tr(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.x1,s=this.y1,l=this.x2,g=this.y2;if(n===l){var y=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=y,l=y}else if(s===g){var S=Math.round(s)+Math.floor(this.strokeWidth)%2/2;s=S,g=S}e.beginPath(),e.moveTo(n,s),e.lineTo(l,g),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=wr(Li.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Li),Rv=Math.sign?Math.sign:function(u){return 0==(u=+u)||isNaN(u)?u:u>0?1:-1};function pd(u,t,e,n,s,l,g,y){var S=(e-u)*(y-l)-(n-t)*(g-s);if(0===S)return null;var E=((g-s)*(t-l)-(u-s)*(y-l))/S,D=((e-u)*(t-l)-(n-t)*(u-s))/S;return E>=0&&E<=1&&D>=0&&D<=1?{x:u+E*(e-u),y:t+E*(n-t)}:null}function Av(u,t,e,n,s,l,g,y,S,E,D,T){for(var P=[],F=E-T,I=D-S,G=S*(T-E)-E*(D-S),j=QC(u,e,s,g),U=QC(t,n,l,y),se=function TO(u,t,e,n){if(0===u)return function ZC(u,t,e){if(0===u)return function XC(u,t){var e=-t/u;return 0!==u&&e>=0&&e<=1?[e]:[]}(t,e);var n=t*t-4*u*e,s=[];if(0===n){var l=-t/(2*u);l>=0&&l<=1&&s.push(l)}else if(n>0){var g=Math.sqrt(n),y=(-t-g)/(2*u),S=(-t+g)/(2*u);y>=0&&y<=1&&s.push(y),S>=0&&S<=1&&s.push(S)}return s}(t,e,n);var s=t/u,l=e/u,y=(3*l-s*s)/9,S=(9*s*l-n/u*27-2*s*s*s)/54,E=y*y*y+S*S,D=1/3,T=[];if(E>=0){var P=Math.sqrt(E),F=Rv(S+P)*Math.pow(Math.abs(S+P),D),I=Rv(S-P)*Math.pow(Math.abs(S-P),D),G=Math.abs(Math.sqrt(3)*(F-I)/2),j=-D*s+(F+I);if(j>=0&&j<=1&&T.push(j),0===G){var U=-D*s-(F+I)/2;U>=0&&U<=1&&T.push(U)}}else{var z=Math.acos(S/Math.sqrt(-y*y*y)),Y=D*s,J=2*Math.sqrt(-y),ae=J*Math.cos(D*z)-Y,se=J*Math.cos(D*(z+2*Math.PI))-Y,ce=J*Math.cos(D*(z+4*Math.PI))-Y;ae>=0&&ae<=1&&T.push(ae),se>=0&&se<=1&&T.push(se),ce>=0&&ce<=1&&T.push(ce)}return T}(F*j[0]+I*U[0],F*j[1]+I*U[1],F*j[2]+I*U[2],F*j[3]+I*U[3]+G),ce=0;ce<se.length;ce++){var _e,pe=se[ce],fe=pe*pe,we=pe*fe,Fe=j[0]*we+j[1]*fe+j[2]*pe+j[3],Re=U[0]*we+U[1]*fe+U[2]*pe+U[3];(_e=S!==D?(Fe-S)/(D-S):(Re-E)/(T-E))>=0&&_e<=1&&P.push({x:Fe,y:Re})}return P}function QC(u,t,e,n){return[3*t-u-3*e+n,3*u-6*t+3*e,-3*u+3*t,u]}var dd=function(){function u(){this.commands=[],this.params=[],this._closedPath=!1}return u.prototype.draw=function(t){var e=this.commands,n=this.params,s=e.length,l=0;t.beginPath();for(var g=0;g<s;g++)switch(e[g]){case"M":t.moveTo(n[l++],n[l++]);break;case"L":t.lineTo(n[l++],n[l++]);break;case"C":t.bezierCurveTo(n[l++],n[l++],n[l++],n[l++],n[l++],n[l++]);break;case"Z":t.closePath()}},u.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},u.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},u.prototype.rect=function(t,e,n,s){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+s),this.lineTo(t,e+s),this.closePath()},u.prototype.arcTo=function(t,e,n,s,l,g,y){var S=this.xy;if(S){t<0&&(t=-t),e<0&&(e=-e);var E=S[0],D=S[1],T=(E-g)/2,P=(D-y)/2,F=Math.sin(n),I=Math.cos(n),G=I*T+F*P,j=-F*T+I*P,U=G/t,z=j/e,Y=U*U+z*z,J=(E+g)/2,ae=(D+y)/2,se=0,ce=0;Y>=1?(t*=Y=Math.sqrt(Y),e*=Y):(Y=Math.sqrt(1/Y-1),s===l&&(Y=-Y),J+=I*(se=Y*t*z)-F*(ce=-Y*e*U),ae+=F*se+I*ce);var pe=Math.atan2((j-ce)/e,(G-se)/t),fe=Math.atan2((-j-ce)/e,(-G-se)/t)-pe;this.cubicArc(J,ae,t,e,n,pe,pe+fe,1-l)}},u.cubicArc=function(t,e,n,s,l,g,y,S,E,D){if(D){var T=S;S=E,E=T}var P=e.length,F=.5522847498307935,I=Math.sin(S),G=Math.cos(S),j=Math.sin(y),U=Math.cos(y),z=Math.PI/2,Y=U*G*l-j*I*g,J=j*G*l+U*I*g,ae=-U*I*l-j*G*g,se=-j*I*l+U*G*g;for((E-=S)<0&&(E+=2*Math.PI),t.push("M"),e.push(Y+n,J+s);E>=z;){E-=z,t.push("C");var ce=ae+n;e.push(Y+ae*F+n,J+se*F+s,Y*F+ae+n,J*F+se+s,Math.abs(ce)<1e-8?0:ce,se+s),T=Y,Y=ae,ae=-T,T=J,J=se,se=-T}if(E){var pe=1.3333333333333333*Math.tan(E/4),fe=Math.sin(E),we=Math.cos(E),Fe=we+pe*fe,Re=fe-pe*we;t.push("C"),ce=Y*we+ae*fe+n,e.push(Y+ae*pe+n,J+se*pe+s,Y*Fe+ae*Re+n,J*Fe+se*Re+s,Math.abs(ce)<1e-8?0:ce,J*we+se*fe+s)}if(D)for(var _e=P,De=e.length-2;_e<De;_e+=2,De-=2)T=e[_e],e[_e]=e[De],e[De]=T,T=e[_e+1],e[_e+1]=e[De+1],e[De+1]=T},u.prototype.cubicArc=function(t,e,n,s,l,g,y,S){var E=this.commands,D=this.params,T=E.length;u.cubicArc(E,D,t,e,n,s,l,g,y,S);var P=D[D.length-2],F=D[D.length-1];this.xy?(E[T]="L",this.xy[0]=P,this.xy[1]=F):this.xy=[P,F]},u.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var s=[],l=n-2,g=0;g<l;g+=2)s.push((1-e)*t[g]+e*t[g+2],(1-e)*t[g+1]+e*t[g+3]);return this.deCasteljau(s,e)},u.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var s=1/e,l=s;l<=1;l+=s){var g=this.deCasteljau(t,l);this.lineTo(g[0],g[1])}},u.prototype.quadraticCurveTo=function(t,e,n,s){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+s)/3,n,s)},u.prototype.cubicCurveTo=function(t,e,n,s,l,g){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,s,l,g),this.xy[0]=l,this.xy[1]=g},Object.defineProperty(u.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),u.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},u.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},u.prototype.isPointInPath=function(t,e){for(var n=this.commands,s=this.params,l=n.length,g=-1e4,y=-1e4,S=NaN,E=NaN,D=0,T=0,P=0,F=0,I=0;F<l;F++)switch(n[F]){case"M":isNaN(S)||pd(S,E,D,T,g,y,t,e)&&P++,S=D=s[I++],E=T=s[I++];break;case"L":pd(D,T,D=s[I++],T=s[I++],g,y,t,e)&&P++;break;case"C":P+=Av(D,T,s[I++],s[I++],s[I++],s[I++],D=s[I++],T=s[I++],g,y,t,e).length;break;case"Z":isNaN(S)||pd(S,E,D,T,g,y,t,e)&&P++}return P%2==1},u.fromString=function(t){var e=new u;return e.setFromString(t),e},u.parseSvgPath=function(t){return t.trim().split(u.splitCommandsRe).map(function(e){var n=e.match(u.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}})},u.prettifySvgPath=function(t){return u.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},u.prototype.setFromString=function(t){var s,l,g,y,S,e=this;function E(){S.match(u.quadraticCommandRe)||(g=s,y=l)}function D(){S.match(u.cubicCommandRe)||(g=s,y=l)}this.clear(),u.parseSvgPath(t).forEach(function(T){var P=T.params,F=P.length,I=0;switch(T.command){case"M":for(e.moveTo(s=P[I++],l=P[I++]);I<F;)e.lineTo(s=P[I++],l=P[I++]);break;case"m":for(e.moveTo(s+=P[I++],l+=P[I++]);I<F;)e.lineTo(s+=P[I++],l+=P[I++]);break;case"L":for(;I<F;)e.lineTo(s=P[I++],l=P[I++]);break;case"l":for(;I<F;)e.lineTo(s+=P[I++],l+=P[I++]);break;case"C":for(;I<F;)e.cubicCurveTo(P[I++],P[I++],g=P[I++],y=P[I++],s=P[I++],l=P[I++]);break;case"c":for(;I<F;)e.cubicCurveTo(s+P[I++],l+P[I++],g=s+P[I++],y=l+P[I++],s+=P[I++],l+=P[I++]);break;case"S":for(D();I<F;)e.cubicCurveTo(s+s-g,l+l-y,g=P[I++],y=P[I++],s=P[I++],l=P[I++]);break;case"s":for(D();I<F;)e.cubicCurveTo(s+s-g,l+l-y,g=s+P[I++],y=l+P[I++],s+=P[I++],l+=P[I++]);break;case"Q":for(;I<F;)e.quadraticCurveTo(g=P[I++],y=P[I++],s=P[I++],l=P[I++]);break;case"q":for(;I<F;)e.quadraticCurveTo(g=s+P[I++],y=l+P[I++],s+=P[I++],l+=P[I++]);break;case"T":for(E();I<F;)e.quadraticCurveTo(g=s+s-g,y=l+l-y,s=P[I++],l=P[I++]);break;case"t":for(E();I<F;)e.quadraticCurveTo(g=s+s-g,y=l+l-y,s+=P[I++],l+=P[I++]);break;case"A":for(;I<F;)e.arcTo(P[I++],P[I++],P[I++]*Math.PI/180,P[I++],P[I++],s=P[I++],l=P[I++]);break;case"a":for(;I<F;)e.arcTo(P[I++],P[I++],P[I++]*Math.PI/180,P[I++],P[I++],s+=P[I++],l+=P[I++]);break;case"Z":case"z":e.closePath();break;case"H":for(;I<F;)e.lineTo(s=P[I++],l);break;case"h":for(;I<F;)e.lineTo(s+=P[I++],l);break;case"V":for(;I<F;)e.lineTo(s,l=P[I++]);break;case"v":for(;I<F;)e.lineTo(s,l+=P[I++])}S=T.command})},u.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,s=[],l=0,g=0;l<n;l++)switch(t[l]){case"M":s.push("M"+e[g++]+","+e[g++]);break;case"L":s.push("L"+e[g++]+","+e[g++]);break;case"C":s.push("C"+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]);break;case"Z":s.push("Z")}return s.join("")},u.prototype.toPrettyString=function(){return u.prettifySvgPath(this.toString())},u.prototype.toSvg=function(){return u.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+u.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},u.prototype.toDebugSvg=function(){var t=u.prettifySvgPath(this.toString());return u.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+u.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},u.prototype.toCubicPaths=function(){var n,s,l,g,y,t=[],e=this.params,S=0;return this.commands.forEach(function(E){switch(E){case"M":n=[s=g=e[S++],l=y=e[S++]],t.push(n);break;case"L":var D=e[S++],T=e[S++];n.push((g+g+D)/3,(y+y+T)/3,(g+D+D)/3,(y+T+T)/3,g=D,y=T);break;case"C":n.push(e[S++],e[S++],e[S++],e[S++],g=e[S++],y=e[S++]);break;case"Z":n.push((g+g+s)/3,(y+y+l)/3,(g+s+s)/3,(y+l+l)/3,g=s,y=l)}}),t},u.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},u.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,u.matchParamsRe=/-?[0-9]*\.?\d+/g,u.quadraticCommandRe=/[QqTt]/,u.cubicCommandRe=/[CcSs]/,u.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',u.xmlns="http://www.w3.org/2000/svg",u}(),xO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kn=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.path=new dd,e._dirtyPath=!0,e._svgPath="",e}return xO(t,u),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n);return this.path.closedPath&&this.path.isPointInPath(s.x,s.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Li),$s=2*Math.PI;function Ks(u){return u%=$s,(u+=$s)%$s}function mn(u){return u/180*Math.PI}function JC(u,t,e){return void 0===e&&(e=1e-10),Math.abs(u-t)<e}function ew(u,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(u))/Math.LN10);return e>=0||!isFinite(e)?u.toFixed(t):u.toFixed(Math.abs(e)-1+t)}var FO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),di=(()=>(function(u){u[u.Open=0]="Open",u[u.Chord=1]="Chord",u[u.Round=2]="Round"}(di||(di={})),di))(),xc=function(u){function t(){var e=u.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=2*Math.PI,e._counterClockwise=!1,e._type=di.Open,e.restoreOwnStyles(),e}return FO(t,u),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return JC(Ks(this.startAngle),Ks(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===di.Chord?e.closePath():this.type===di.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new Tr(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n),l=this.computeBBox();return this.type!==di.Open&&l.containsPoint(s.x,s.y)&&this.path.isPointInPath(s.x,s.y)},t.className="Arc",t.defaultStyles=wr(Li.defaultStyles,{lineWidth:1,fillStyle:null}),t}(kn),tw={};function Ta(u,t){tw[t]||(u(),tw[t]=!0)}var lo=(()=>(function(u){u[u.Tick=0]="Tick",u[u.GridLine=1]="GridLine"}(lo||(lo={})),lo))(),Pv=function u(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},hd=function(){function u(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(u.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),u}(),Sl=function(){function u(t){this.id=_u(this),this.lineNode=new Fo,this.group=new vn,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new Pv,this.label=new hd,this.translation={x:0,y:0},this.rotation=0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=t,this.groupSelection=yn.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(u.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.requestedRange=t.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"ticks",{get:function(){return this._ticks},set:function(t){this._ticks=t},enumerable:!0,configurable:!0}),u.prototype.getMeta=function(){},u.prototype.updateRange=function(){var t=this,e=t.requestedRange,n=t.visibleRange,l=(e[1]-e[0])/(n[1]-n[0]),y=e[0]-l*n[0];t.scale.range=[y,y+l]},u.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},u.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var s=this.range,l=Math.min(s[0],s[1]),g=Math.max(s[0],s[1]);return t+e<l-n?-1:t>g+n?1:0},Object.defineProperty(u.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(t,2),n=e[0],s=e[1];n=Math.max(0,n),s=Math.min(1,s),n=Math.min(n,s),s=Math.max(n,s),this._visibleRange=[n,s],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),u.prototype.onLabelFormatChange=function(t){if(t&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.tick.count,t)}catch(e){this.labelFormatter=void 0,Ta(function(){return console.warn("AG Charts - the axis label format string "+t+" is invalid. No formatting will be applied")},"invalid axis label format string "+t)}else this.labelFormatter=void 0},Object.defineProperty(u.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.group.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.group.appendChild(t.node)),this._title=t,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),u.prototype.update=function(){var t=this,e=this,n=e.group,s=e.scale,l=e.tick,g=e.label,y=e.gridStyle,S=e.requestedRange,E=Math.min(S[0],S[1]),D=Math.max(S[0],S[1]),T=mn(this.rotation),P=g.parallel,F=Ks(mn(g.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=T;var I=(s.bandwidth||0)/2,G=g.mirrored?1:-1,j=Ks(T),U=!F&&j>=0&&j<=Math.PI?-1:1,z=Ks(T-Math.PI/2),Y=!F&&z>=0&&z<=Math.PI?-1:1,J=F>=0&&F<=Math.PI?-1:1,ae=this.ticks||s.ticks(this.tick.count),se=this.groupSelection.setData(ae);se.exit.remove();var ce=se.enter.append(vn);ce.append(Fo).each(function(he){return he.tag=lo.Tick}),this.gridLength&&(this.radialGrid?ce.append(xc).each(function(he){return he.tag=lo.GridLine}):ce.append(Fo).each(function(he){return he.tag=lo.GridLine})),ce.append(zn);var pe=se.merge(ce);if(pe.attrFn("translationY",function(he,Te){return Math.round(s.convert(Te)+I)}).attrFn("visible",function(he){var Te=Math.floor(E),$e=Math.ceil(D);return he.translationY>=Te&&he.translationY<=$e}),pe.selectByTag(lo.Tick).each(function(he){he.strokeWidth=l.width,he.stroke=l.color}).attr("x1",G*l.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&y.length){var fe=y.length,we=void 0;if(this.radialGrid){var Fe=function os(u){return u%=$s,(u+=$s)!==$s&&(u%=$s),u}(mn(this.gridLength));we=pe.selectByTag(lo.GridLine).each(function(he,Te){var $e=Math.round(s.convert(Te)+I);he.centerX=0,he.centerY=s.range[0]-$e,he.endAngle=Fe,he.radiusX=$e,he.radiusY=$e})}else we=pe.selectByTag(lo.GridLine).each(function(he){he.x1=0,he.x2=-G*t.gridLength,he.y1=0,he.y2=0,he.visible=Math.abs(he.parent.translationY-s.range[0])>1});we.each(function(he,Te,$e){var it=y[$e%fe];he.stroke=it.stroke,he.strokeWidth=l.width,he.lineDash=it.lineDash,he.fill=void 0})}this.fractionDigits=ae.fractionDigits>=0?ae.fractionDigits:0;var Re=pe.selectByClass(zn).each(function(he,Te,$e){he.fontStyle=g.fontStyle,he.fontWeight=g.fontWeight,he.fontSize=g.fontSize,he.fontFamily=g.fontFamily,he.fill=g.color,he.textBaseline=P&&!F?G*U==-1?"hanging":"bottom":"middle",he.text=t.formatTickDatum(Te,$e),he.textAlign=P?F?G*J==-1?"end":"start":"center":G*Y==-1?"end":"start"}),_e=G*(l.size+g.padding),De=P?U*Math.PI/2:-1===Y?Math.PI:0;Re.each(function(he){he.x=_e,he.rotationCenterX=_e,he.rotation=De+F}),this.groupSelection=pe;var Ce=this.lineNode;Ce.x1=0,Ce.x2=0,Ce.y1=S[0],Ce.y2=S[1],Ce.strokeWidth=this.line.width,Ce.stroke=this.line.color,Ce.visible=ae.length>0,this.positionTitle()},u.prototype.positionTitle=function(){var e=this.title;if(e){var s=!1;if(e.enabled&&this.lineNode.visible){s=!0;var l=this,S=l.requestedRange,E=l.label.mirrored?1:-1,D=Ks(l.rotation),T=e.padding.bottom,P=e.node,F=this.computeBBox({excludeTitle:!0}),I=-1===E&&D>Math.PI&&D<2*Math.PI?-1:1;P.rotation=I*E*Math.PI/2,P.x=I*E*(S[0]+S[1])/2,P.y=-1===E?I*(-T-F.width+Math.max(F.x+F.width,0)):-T-F.width-Math.min(F.x,0),P.textBaseline=1===I?"bottom":"top"}e.node.visible=s}},u.prototype.formatTickDatum=function(t,e){var n=this,s=n.label,l=n.labelFormatter,g=n.fractionDigits,y=this.getMeta();return s.formatter?s.formatter({value:g>=0?t:String(t),index:e,fractionDigits:g,formatter:l,axis:y}):l?l(t):"number"==typeof t&&g>=0?t.toFixed(g):String(t)},u.prototype.formatDatum=function(t){return String(t)},u.prototype.computeBBox=function(t){var n=this.title,s=this.lineNode,l=this.groupSelection.selectByClass(zn),g=1/0,y=-1/0,S=1/0,E=-1/0;if(l.each(function(I){I.computeTransformMatrix();var G=ml.flyweight(I.matrix),j=I.parent;j.computeTransformMatrix(),G.preMultiplySelf(j.matrix);var U=I.computeBBox();if(U){var z=G.transformBBox(U);g=Math.min(g,z.x),y=Math.max(y,z.x+z.width),S=Math.min(S,z.y),E=Math.max(E,z.y+z.height)}}),n&&n.enabled&&s.visible&&(!t||!t.excludeTitle)){var D=n.node;D.computeTransformMatrix();var T=ml.flyweight(D.matrix),P=D.computeBBox();if(P){var F=T.transformBBox(P);g=Math.min(g,F.x),y=Math.max(y,F.x+F.width),S=Math.min(S,F.y),E=Math.max(E,F.y+F.height)}}return g=Math.min(g,0),y=Math.max(y,0),S=Math.min(S,s.y1,s.y2),E=Math.max(E,s.y1,s.y2),new Tr(g,S,y-g,E-S)},u}(),uf=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sr=(()=>(function(u){u.X="x",u.Y="y"}(sr||(sr={})),sr))();function fd(u){return u===sr.X?sr.Y:sr.X}var xt=(()=>(function(u){u.Top="top",u.Right="right",u.Bottom="bottom",u.Left="left",u.Angle="angle",u.Radius="radius"}(xt||(xt={})),xt))(),xa=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.keys=[],e.direction=sr.Y,e.boundSeries=[],e._position=xt.Left,e}return uf(t,u),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case xt.Top:this.direction=sr.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case xt.Right:this.direction=sr.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case xt.Bottom:this.direction=sr.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case xt.Left:this.direction=sr.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(Sl),rw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nw=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l};function Eu(u){var t,e=u[0],n=u[u.length-1];return e>n&&(t=nw([n,e],2),e=t[0],n=t[1]),function(s){return s>=e&&s<=n?s:NaN}}var Io=function(u){function t(){var e=u.call(this,new un)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=Eu,e}return rw(t,u),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(e,n){var s=this,l=s.scale,g=s.min,y=s.max;if(e.length>2&&(e=ao(e,cn,Number)||[0,1]),e=[isNaN(g)?e[0]:g,isNaN(y)?e[1]:y],n){var S=nw(function FC(u,t){var e=Math.floor(u[0]),n=u[1];e=function IC(u,t,e){var n=Math.abs(t-u)/(e-1),s=Math.floor(Math.log10(n)),l=Math.pow(10,s);return Math.floor(u/l)*l}(e,n,t);var s=function kt(u,t,e){return function wl(u){var t=Math.floor(Math.log10(u)),e=Math.pow(10,t),n=u/e*10;return n>0&&n<=1?e/10:n>1&&n<=2?2*e/10:n>1&&n<=5?5*e/10:n>5&&n<=10?10*e/10:n>10&&n<=20?20*e/10:n>20&&n<=40?40*e/10:n>40&&n<=50?50*e/10:n>50&&n<=100?100*e/10:n}((t-u)/(e-1))}(e,n,t),g=[e,n=e+(t-1)*s],y=function ns(u,t,e){for(var n=Math.floor(Math.log10(t)),s=t>0&&t<1?Math.abs(n):0,l=Math.pow(10,s),g=new gv(s),y=0;y<e;y++)g[y]=Math.round((u+t*y)*l)/l;return g}(e,s,t);return[g,y]}(e,n),2),D=S[1];return l.domain=S[0],void(this.ticks=D)}l.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(Ta(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},t.className="NumberAxis",t.type="number",t}(xa),cf=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Kn=function(){function u(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(u.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach(function(s){void 0===n.get(s)&&n.set(s,e.push(s)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),u.prototype.ticks=function(){return this._domain},u.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(u.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),u.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=cf(this._range,2),s=n[0],l=n[1],g=l<s;g&&(s=(t=cf([l,s],2))[0],l=t[1]);var y=(l-s)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(y=Math.floor(y)),s+=(l-s-y*(e-this._paddingInner))*this._align,this._bandwidth=y*(1-this._paddingInner),this._round&&(s=Math.round(s),this._bandwidth=Math.round(this._bandwidth));for(var S=[],E=0;E<e;E++)S.push(s+y*E);this.ordinalRange=g?S.reverse():S}},u}(),gd=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uo=function(u){function t(){var e=u.call(this,new Kn)||this;return e.scale.paddingInner=.2,e.scale.paddingOuter=.3,e}return gd(t,u),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(n,s,l){return l.indexOf(n)===s})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(xa),iw=function(){function u(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return u.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},u.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},u.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},u.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},u.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,n){return n!==t.number}):[]},u}();function df(u,t,e){var s=e/(t.number-u.number);t.change-=s,t.shift+=e,u.change+=s,t.prelim+=e,t.mod+=e}function Tv(u,t,e){return t.getSiblings().indexOf(u.ancestor)>=0?u.ancestor:e}function Mv(u,t){var e=u.children;if(e.length){var n=e[0];e.forEach(function(g){Mv(g,t),n=function hf(u,t,e){var n=u.getLeftSibling();if(n){for(var s=u,l=u,g=n,y=l.getLeftmostSibling(),S=l.mod,E=s.mod,D=g.mod,T=y.mod;g.nextRight()&&l.nextLeft();){g=g.nextRight(),l=l.nextLeft(),y=y.nextLeft(),(s=s.nextRight()).ancestor=u;var P=g.prelim+D-(l.prelim+S)+e;P>0&&(df(Tv(g,u,t),u,P),S+=P,E+=P),D+=g.mod,S+=l.mod,T+=y.mod,E+=s.mod}g.nextRight()&&!s.nextRight()?(s.thread=g.nextRight(),s.mod+=D-E):(l.nextLeft()&&!y.nextLeft()&&(y.thread=l.nextLeft(),y.mod+=S-T),t=u)}return t}(g,n,t)}),function xv(u){var t=u.children;if(t)for(var e=0,n=0,s=t.length-1;s>=0;s--){var l=t[s];l.prelim+=e,l.mod+=e,e+=l.shift+(n+=l.change)}}(u);var s=(e[0].prelim+e[e.length-1].prelim)/2;(l=u.getLeftSibling())?(u.prelim=l.prelim+t,u.mod=u.prelim-s):u.prelim=s}else{var l=u.getLeftSibling();u.prelim=l?l.prelim+t:0}}var Fv=function(){function u(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return u.prototype.update=function(t,e){var n=e(t),s=n.x,l=n.y;s>this.right&&(this.right=s),s<this.left&&(this.left=s),l>this.bottom&&(this.bottom=l),l<this.top&&(this.top=l)},u}();function ff(u,t,e){u.x=u.prelim+t,u.y=u.depth,e.update(u),u.children.forEach(function(n){return ff(n,t+u.mod,e)})}function gf(u){var t=u.children,e=0;t.forEach(function(n){gf(n),n.children.length?e+=n.leafCount:e++}),u.leafCount=e,t.length?(u.subtreeLeft=t[0].subtreeLeft,u.subtreeRight=t[u.children.length-1].subtreeRight,u.x=(u.subtreeLeft+u.subtreeRight)/2):(u.subtreeLeft=u.x,u.subtreeRight=u.x)}function sw(u){var t=new vd;return Mv(u,1),ff(u,-u.prelim,t),gf(u),t}var vd=function(){function u(){this.dimensions=new Fv,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return u.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},u.prototype.resize=function(t,e,n,s,l){void 0===n&&(n=0),void 0===s&&(s=0),void 0===l&&(l=!1);var g=this.leafCount-1,y=this.depth,S=this.dimensions,E=1,D=1;t>0&&g&&(E=t/g/((S.right-S.left)/g),l&&(E=-E)),e>0&&y&&(D=e/y/((S.bottom-S.top)/y));var G=new Fv;this.nodes.forEach(function(z){z.screenX=z.x*E,z.screenY=z.y*D,G.update(z,function(Y){return{x:Y.screenX,y:Y.screenY}})});var j=-G.left,U=-G.top;this.nodes.forEach(function(z){z.screenX+=j+n,z.screenY+=U+s})},u}(),vf=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tb=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.grid=!1,e}return vf(t,u),t}(hd),Gi=function(u){function t(){var e=u.call(this,new Kn)||this;e.tickScale=new Kn,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new tb,e.labelColor="rgba(87, 87, 87, 1)";var s=e.group,l=e.tickScale,g=e.scale;return g.paddingOuter=.1,g.paddingInner=2*g.paddingOuter,e.requestedRange=g.range.slice(),e.scale=g,l.paddingInner=1,l.paddingOuter=0,e.gridLineSelection=yn.select(s).selectAll(),e.axisLineSelection=yn.select(s).selectAll(),e.separatorSelection=yn.select(s).selectAll(),e.labelSelection=yn.select(s).selectAll(),e}return vf(t,u),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var n=e.filter(function(g,y,S){return S.indexOf(g)===y});this.scale.domain=n;var s=function pf(u,t){void 0===t&&(t=!0);var e=new iw,n=0;return t&&u.forEach(function(s){return n=Math.max(n,s.labels.length)}),u.forEach(function(s){if(t)for(;s.labels.length<n;)s.labels.unshift("");!function ow(u,t){var e=t.labels.slice().reverse(),n=e.length-1;e.forEach(function(s,l){var g=u.children,y=Tc(g,function(D){return D.label===s}),S=l!==n;if(y&&S)u=y;else{var E=new iw(s,u);E.number=g.length,g.push(E),S&&(u=E)}})}(e,s)}),e}(n);this.tickTreeLayout=sw(s);var l=n.slice();l.push(""),this.tickScale.domain=l,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,n=e.requestedRange,s=e.visibleRange,g=(n[1]-n[0])/(s[1]-s[0]),S=n[0]-g*s[0];this.tickScale.range=e.scale.range=[S,S+g],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,s=this.tickTreeLayout,l=this.lineHeight;s&&s.resize(Math.abs(n[1]-n[0]),s.depth*l,(Math.min(n[0],n[1])||0)+(e.bandwidth||0)/2,-s.depth*l,n[1]-n[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,n=this,s=n.group,l=n.scale,g=n.label,y=n.tickScale,S=n.requestedRange,E=l.range[0],D=l.range[1],P=Math.abs(D-E)/l.domain.length||0,F=g.parallel,I=mn(this.rotation),G=Math.abs(Math.cos(I))<1e-8,j=Ks(mn(this.label.rotation));s.translationX=this.translation.x,s.translationY=this.translation.y,s.rotation=I;var U=this.title;U&&(U.node.visible=!1);var z=this.lineHeight,Y=this.tickTreeLayout,J=l.ticks(),ae=Y?Y.nodes:[],se=!!Y&&Y.depth>1,ce=y.ticks(),pe=g.mirrored?1:-1,fe=Ks(I),we=!j&&fe>=0&&fe<=Math.PI?-1:1,Fe=Ks(I-Math.PI/2),Re=!j&&Fe>=0&&Fe<=Math.PI?-1:1,_e=this.gridLineSelection.setData(this.gridLength?ce:[]);_e.exit.remove();var De=_e.enter.append(Fo),Ce=_e.merge(De),he=this.labelSelection.setData(ae);he.exit.remove();var Te=he.enter.append(zn),$e=he.merge(Te),it=g.formatter,Le=0;$e.each(function(rt,Zt,ji){rt.fontStyle=g.fontStyle,rt.fontWeight=g.fontWeight,rt.fontSize=g.fontSize,rt.fontFamily=g.fontFamily,rt.fill=g.color,rt.textBaseline=-1===we?"bottom":"hanging",rt.textAlign="center",rt.translationX=Zt.screenY-.25*g.fontSize,rt.translationY=Zt.screenX,0===ji?U&&U.enabled&&J.length>0?(rt.visible=!0,rt.text=U.text,rt.fontSize=U.fontSize,rt.fontStyle=U.fontStyle,rt.fontWeight=U.fontWeight,rt.fontFamily=U.fontFamily,rt.textBaseline="hanging"):rt.visible=!1:(rt.text=it?it({value:String(Zt.label),index:ji}):String(Zt.label),rt.visible=Zt.screenX>=S[0]&&Zt.screenX<=S[1]);var Jn=rt.computeBBox();Jn&&Jn.width>Le&&(Le=Jn.width)});var Je=pe*g.padding,He=F?we*Math.PI/2:-1===Re?Math.PI:0,at=this.label.grid,qe=[];$e.each(function(rt,Zt,ji){if(rt.x=Je,rt.rotationCenterX=Je,Zt.children.length?(rt.translationX-=Le-z+e.label.padding,rt.rotation=G?He:-Math.PI/2):(rt.rotation=j,rt.textAlign="end",rt.textBaseline="middle"),Zt.parent&&se){var Jn=Zt.children.length?Zt.screenX-Zt.leafCount*P/2:Zt.screenX-P/2;if(Zt.children.length){var Hl=-Le-2*e.label.padding+Zt.screenY;qe.push({y:Jn,x1:Hl+z,x2:Hl,toString:function(){return String(ji)}})}else(Zt.number!==Zt.children.length-1||at)&&qe.push({y:Jn,x1:0,x2:-Le-2*e.label.padding,toString:function(){return String(ji)}})}});var dt=0;qe.forEach(function(rt){return dt=Math.min(dt,rt.x2)}),this.longestSeparatorLength=Math.abs(dt),qe.push({y:Math.max(E,D),x1:0,x2:dt,toString:function(){return String(qe.length)}});var tt=this.separatorSelection.setData(qe);tt.exit.remove();var _r=tt.enter.append(Fo),Or=tt.merge(_r);this.separatorSelection=Or,Or.each(function(rt,Zt,ji){rt.x1=Zt.x1,rt.x2=Zt.x2,rt.y1=Zt.y,rt.y2=Zt.y,rt.visible=Zt.y>=S[0]-1e-7&&Zt.y<=S[1]+1e-7,rt.stroke=e.tick.color,rt.fill=void 0,rt.strokeWidth=1}),this.gridLineSelection=Ce,this.labelSelection=$e;for(var Sr=Y?Y.depth+1:1,Dr=[],tn=0;tn<Sr;tn++)Dr.push(tn);var Lr=this.axisLineSelection.setData(Dr);Lr.exit.remove();var _i=Lr.enter.append(Fo),Si=Lr.merge(_i);if(this.axisLineSelection=Si,Si.each(function(rt,Zt,ji){var Jn=ji>0?-Le-2*e.label.padding-(ji-1)*z:0;rt.x1=Jn,rt.x2=Jn,rt.y1=S[0],rt.y2=S[1],rt.strokeWidth=e.line.width,rt.stroke=e.line.color,rt.visible=J.length>0&&(0===ji||at&&se)}),this.gridLength){var Ua=this.gridStyle,Bl=Ua.length;Ce.each(function(rt,Zt,ji){var Jn=Math.round(y.convert(Zt));rt.x1=0,rt.x2=-pe*e.gridLength,rt.y1=Jn,rt.y2=Jn,rt.visible=Jn>=S[0]&&Jn<=S[1]&&Math.abs(rt.parent.translationY-E)>1;var Hl=Ua[ji%Bl];rt.stroke=Hl.stroke,rt.strokeWidth=e.tick.width,rt.lineDash=Hl.lineDash,rt.fill=void 0})}},t.prototype.computeBBox=function(e){var n=!e||!e.excludeTitle,s=1/0,l=-1/0,g=1/0,y=-1/0;return this.labelSelection.each(function(S,E,D){if(D>0||n){S.computeTransformMatrix();var T=ml.flyweight(S.matrix),P=S.computeBBox();if(P){var F=T.transformBBox(P);s=Math.min(s,F.x),l=Math.max(l,F.x+F.width),g=Math.min(g,F.y),y=Math.max(y,F.y+F.height)}}}),new Tr(s,g,Math.max(l-s,this.longestSeparatorLength),y-g)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(xa),co=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iv=new Date,Nv=new Date,yd=function(){function u(t,e){this._floor=t,this._offset=e}return u.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},u.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},u.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),s=+t;return s-e.getTime()<n.getTime()-s?e:n},u.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},u.prototype.range=function(t,e,n){void 0===n&&(n=1);var l,s=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return s;do{l=new Date(+t),s.push(l),this._offset(t,n),this._floor(t)}while(l<t&&t<e);return s},u.prototype.filter=function(t){var e=this;return new u(function(l){if(l>=l)for(;e._floor(l),!t(l);)l.setTime(l.getTime()-1);return l},function(l,g){if(l>=l)if(g<0)for(;++g<=0;)do{e._offset(l,-1)}while(!t(l));else for(;--g>=0;)do{e._offset(l,1)}while(!t(l));return l})},u}(),hi=function(u){function t(e,n,s,l){var g=u.call(this,e,n)||this;return g._count=s,g._field=l,g}return co(t,u),t.prototype.count=function(e,n){return Iv.setTime(+e),Nv.setTime(+n),this._floor(Iv),this._floor(Nv),Math.floor(this._count(Iv,Nv))},t.prototype.every=function(e){var s,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var l=this._field;s=this.filter(l?function(g){return l(g)%e==0}:function(g){return n.count(0,g)%e==0})}else s=this;return s},t}(yd),md=new hi(function aw(u){return u},function Lv(u,t){u.setTime(u.getTime()+t)},function rb(u,t){return t.getTime()-u.getTime()}),Ys=1e3,po=6e4,Ma=60*po,ki=24*Ma,Cd=7*ki,lw=30*ki,wd=365*ki,pw=new hi(function uw(u){u.setTime(u.getTime()-u.getMilliseconds())},function nb(u,t){u.setTime(u.getTime()+t*Ys)},function cw(u,t){return(t.getTime()-u.getTime())/Ys}),hw=new hi(function _d(u){u.setTime(u.getTime()-u.getMilliseconds()-u.getSeconds()*Ys)},function qs(u,t){u.setTime(u.getTime()+t*po)},function Mc(u,t){return(t.getTime()-u.getTime())/po},function dw(u){return u.getMinutes()}),vw=new hi(function IO(u){u.setTime(u.getTime()-u.getMilliseconds()-u.getSeconds()*Ys-u.getMinutes()*po)},function fw(u,t){u.setTime(u.getTime()+t*Ma)},function gw(u,t){return(t.getTime()-u.getTime())/Ma},function ib(u){return u.getHours()}),Sd=new hi(function bl(u){u.setHours(0,0,0,0)},function ob(u,t){u.setDate(u.getDate()+t)},function No(u,t){var e=t.getTimezoneOffset()-u.getTimezoneOffset();return(t.getTime()-u.getTime()-e*po)/ki},function yf(u){return u.getDate()-1});function Lo(u){return new hi(function t(s){s.setDate(s.getDate()-(s.getDay()+7-u)%7),s.setHours(0,0,0,0)},function e(s,l){s.setDate(s.getDate()+7*l)},function n(s,l){return(l.getTime()-s.getTime()-(l.getTimezoneOffset()-s.getTimezoneOffset())*po)/Cd})}var mf=Lo(0),Fa=Lo(1),Gv=(Lo(2),Lo(3),Lo(4));Lo(5),Lo(6);var _w=new hi(function sb(u){u.setDate(1),u.setHours(0,0,0,0)},function Cw(u,t){u.setMonth(u.getMonth()+t)},function ww(u,t){return t.getMonth()-u.getMonth()+12*(t.getFullYear()-u.getFullYear())},function kv(u){return u.getMonth()}),Ed=new hi(function Fc(u){u.setMonth(0,1),u.setHours(0,0,0,0)},function Xs(u,t){u.setFullYear(u.getFullYear()+t)},function Cf(u,t){return t.getFullYear()-u.getFullYear()},function bd(u){return u.getFullYear()}),Du=new hi(function ab(u){u.setUTCHours(0,0,0,0)},function Vv(u,t){u.setUTCDate(u.getUTCDate()+t)},function Ou(u,t){return(t.getTime()-u.getTime())/ki},function Bv(u){return u.getUTCDate()-1}),Nc=new hi(function Hv(u){u.setUTCMonth(0,1),u.setUTCHours(0,0,0,0)},function wf(u,t){u.setUTCFullYear(u.getUTCFullYear()+t)},function Sw(u,t){return t.getUTCFullYear()-u.getUTCFullYear()},function Ic(u){return u.getUTCFullYear()});function Ru(u){return new hi(function t(s){s.setUTCDate(s.getUTCDate()-(s.getUTCDay()+7-u)%7),s.setHours(0,0,0,0)},function e(s,l){s.setUTCDate(s.getUTCDate()+7*l)},function n(s,l){return(l.getTime()-s.getTime())/Cd})}var _f=Ru(0),Wv=Ru(1),El=(Ru(2),Ru(3),Ru(4));function Ew(u){if(u.y>=0&&u.y<100){var t=new Date(-1,u.m,u.d,u.H,u.M,u.S,u.L);return t.setFullYear(u.y),t}return new Date(u.y,u.m,u.d,u.H,u.M,u.S,u.L)}function Na(u){if(u.y>=0&&u.y<100){var t=new Date(Date.UTC(-1,u.m,u.d,u.H,u.M,u.S,u.L));return t.setUTCFullYear(u.y),t}return new Date(Date.UTC(u.y,u.m,u.d,u.H,u.M,u.S,u.L))}function Lc(u){for(var t={},e=0,n=u.length;e<n;e++)t[u[e].toLowerCase()]=e;return t}function Ol(u){return{y:u,m:0,d:1,H:0,M:0,S:0,L:0}}Ru(5),Ru(6);var zv,Ir=/^\s*\d+/,Yn=/^%/,jv=/[\\^$*+?|[\]().{}]/g,Gc=function(u){return u.replace(jv,"\\$&")},Au=function(u){return new RegExp("^(?:"+u.map(Gc).join("|")+")","i")},Uv={"-":"",_:" ",0:"0"};function Xt(u,t,e){var n=u<0?"-":"",s=String(n?-u:u),l=s.length;return n+(l<e?new Array(e-l+1).join(t)+s:s)}!function $v(u){zv=function Dw(u){var t=u.dateTime,e=u.date,n=u.time,s=u.periods,l=u.days,g=u.shortDays,y=u.months,S=u.shortMonths,E=Au(s),D=Lc(s),T=Au(l),P=Lc(l),F=Au(g),I=Lc(g),G=Au(y),j=Lc(y),U=Au(S),z=Lc(S),Y={a:function he(Z){return g[Z.getDay()]},A:function Te(Z){return l[Z.getDay()]},b:function dt(Z){return S[Z.getMonth()]},B:function tt(Z){return y[Z.getMonth()]},c:void 0,d:at,e:at,f:function fe(Z,ie){return we(Z,ie)+"000"},H:function De(Z,ie){return Xt(Z.getHours(),ie,2)},I:function _e(Z,ie){return Xt(Z.getHours()%12||12,ie,2)},j:function qe(Z,ie){return Xt(1+Sd.count(Ed.floor(Z),Z),ie,3)},L:we,m:function _r(Z,ie){return Xt(Z.getMonth()+1,ie,2)},M:function Re(Z,ie){return Xt(Z.getMinutes(),ie,2)},p:function Ce(Z){return s[Z.getHours()>=12?1:0]},Q:$y,s:Ky,S:function Fe(Z,ie){return Xt(Z.getSeconds(),ie,2)},u:function $e(Z){var ie=Z.getDay();return 0===ie?7:ie},U:function it(Z,ie){return Xt(mf.count(Ed.floor(Z),Z),ie,2)},V:function Le(Z,ie){var ue=Z.getDay();Z=ue>=4||0===ue?Gv.floor(Z):Gv.ceil(Z);var Q=Ed.floor(Z);return Xt(Gv.count(Q,Z)+(4===Q.getDay()?1:0),ie,2)},w:function Je(Z){return Z.getDay()},W:function He(Z,ie){return Xt(Fa.count(Ed.floor(Z),Z),ie,2)},x:void 0,X:void 0,y:function Or(Z,ie){return Xt(Z.getFullYear()%100,ie,2)},Y:function wi(Z,ie){return Xt(Z.getFullYear()%1e4,ie,4)},Z:function Sr(Z){var ie=Z.getTimezoneOffset();return(ie>0?"-":(ie*=-1,"+"))+Xt(Math.floor(ie/60),"0",2)+Xt(ie%60,"0",2)},"%":zy},J={a:function bE(Z){return g[Z.getUTCDay()]},A:function P_(Z){return l[Z.getUTCDay()]},b:function Jn(Z){return S[Z.getUTCMonth()]},B:function Hl(Z){return y[Z.getUTCMonth()]},c:void 0,d:rt,e:rt,f:function Dr(Z,ie){return tn(Z,ie)+"000"},H:function Ua(Z,ie){return Xt(Z.getUTCHours(),ie,2)},I:function Si(Z,ie){return Xt(Z.getUTCHours()%12||12,ie,2)},j:function Zt(Z,ie){return Xt(1+Du.count(Nc.floor(Z),Z),ie,3)},L:tn,m:function ji(Z,ie){return Xt(Z.getUTCMonth()+1,ie,2)},M:function _i(Z,ie){return Xt(Z.getUTCMinutes(),ie,2)},p:function Bl(Z){return s[Z.getUTCHours()>=12?1:0]},Q:$y,s:Ky,S:function Lr(Z,ie){return Xt(Z.getUTCSeconds(),ie,2)},u:function qf(Z){var ie=Z.getUTCDay();return 0===ie?7:ie},U:function Qd(Z,ie){return Xt(_f.count(Nc.floor(Z),Z),ie,2)},V:function EE(Z,ie){var ue=Z.getUTCDay();Z=ue>=4||0===ue?El.floor(Z):El.ceil(Z);var Q=Nc.floor(Z);return Xt(El.count(Q,Z)+(4===Q.getUTCDay()?1:0),ie,4)},w:function OE(Z){return Z.getUTCDay()},W:function jy(Z,ie){return Xt(Wv.count(Nc.floor(Z),Z),ie,2)},x:void 0,X:void 0,y:function T_(Z,ie){return Xt(Z.getUTCFullYear()%100,ie,2)},Y:function DE(Z,ie){return Xt(Z.getUTCFullYear()%1e4,ie,4)},Z:function Uy(){return"+0000"},"%":zy},ae={a:function kD(Z,ie,ue){var Q=F.exec(ie.slice(ue));return Q?(Z.w=I[Q[0].toLowerCase()],ue+Q[0].length):-1},A:function x_(Z,ie,ue){var Q=T.exec(ie.slice(ue));return Q?(Z.w=P[Q[0].toLowerCase()],ue+Q[0].length):-1},b:function VD(Z,ie,ue){var Q=U.exec(ie.slice(ue));return Q?(Z.m=z[Q[0].toLowerCase()],ue+Q[0].length):-1},B:function I_(Z,ie,ue){var Q=G.exec(ie.slice(ue));return Q?(Z.m=j[Q[0].toLowerCase()],ue+Q[0].length):-1},c:function N_(Z,ie,ue){return pe(Z,t,ie,ue)},d:Xf,e:Xf,f:function Yy(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+6));return Q?(Z.L=Math.floor(parseFloat(Q[0])/1e3),ue+Q[0].length):-1},H:Jd,I:Jd,j:function TE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+3));return Q?(Z.m=0,Z.d=+Q[0],ue+Q[0].length):-1},L:function RE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+3));return Q?(Z.L=+Q[0],ue+Q[0].length):-1},m:function IE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.m=parseFloat(Q[0])-1,ue+Q[0].length):-1},M:function PE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.M=+Q[0],ue+Q[0].length):-1},p:function qy(Z,ie,ue){var Q=E.exec(ie.slice(ue));return Q?(Z.p=D[Q[0].toLowerCase()],ue+Q[0].length):-1},Q:function NE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue));return Q?(Z.Q=+Q[0],ue+Q[0].length):-1},s:function LE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue));return Q?(Z.Q=1e3*+Q[0],ue+Q[0].length):-1},S:function AE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.S=+Q[0],ue+Q[0].length):-1},u:function xE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+1));return Q?(Z.u=+Q[0],ue+Q[0].length):-1},U:function ME(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.U=+Q[0],ue+Q[0].length):-1},V:function FE(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.V=+Q[0],ue+Q[0].length):-1},w:function F_(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+1));return Q?(Z.w=+Q[0],ue+Q[0].length):-1},W:function M_(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.W=+Q[0],ue+Q[0].length):-1},x:function Xy(Z,ie,ue){return pe(Z,e,ie,ue)},X:function Zy(Z,ie,ue){return pe(Z,n,ie,ue)},y:function BD(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.y=+Q[0]+(+Q[0]>68?1900:2e3),ue+Q[0].length):-1},Y:function L_(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+4));return Q?(Z.y=+Q[0],ue+Q[0].length):-1},Z:function GE(Z,ie,ue){var Q=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(ie.slice(ue,ue+6));return Q?(Z.Z=Q[1]?0:-(Q[2]+(Q[3]||"00")),ue+Q[0].length):-1},"%":function kE(Z,ie,ue){var Q=Yn.exec(ie.slice(ue,ue+1));return Q?ue+Q[0].length:-1}};function se(Z,ie){return function(ue){var Q=Ol(1900);if(pe(Q,Z,ue+="",0)==ue.length){if("Q"in Q)return new Date(Q.Q);if("p"in Q&&(Q.H=Q.H%12+12*Q.p),"V"in Q){if(Q.V<1||Q.V>53)return;if("w"in Q||(Q.w=1),"Z"in Q){var gr=(ht=Na(Ol(Q.y))).getUTCDay();ht=gr>4||0===gr?Wv.ceil(ht):Wv.floor(ht),ht=Du.offset(ht,7*(Q.V-1)),Q.y=ht.getUTCFullYear(),Q.m=ht.getUTCMonth(),Q.d=ht.getUTCDate()+(Q.w+6)%7}else{var ht;gr=(ht=ie(Ol(Q.y))).getDay(),ht=gr>4||0===gr?Fa.ceil(ht):Fa.floor(ht),ht=Sd.offset(ht,7*(Q.V-1)),Q.y=ht.getFullYear(),Q.m=ht.getMonth(),Q.d=ht.getDate()+(Q.w+6)%7}}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),gr="Z"in Q?Na(Ol(Q.y)).getUTCDay():ie(Ol(Q.y)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+7*Q.W-(gr+5)%7:Q.w+7*Q.U-(gr+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,Na(Q)):ie(Q)}}}function ce(Z,ie){return function(ue){var Q=[],bi=Z.length,ht=-1,gr=0;for(ue instanceof Date||(ue=new Date(+ue));++ht<bi;)if(37===Z.charCodeAt(ht)){Q.push(Z.slice(gr,ht));var Hn=Z.charAt(++ht),gs=Uv[Hn];null!=gs?Hn=Z.charAt(++ht):gs="e"===Hn?" ":"0";var za=ie[Hn];za&&(Hn=za(ue,gs)),Q.push(Hn),gr=ht+1}return Q.push(Z.slice(gr,ht)),Q.join("")}}function pe(Z,ie,ue,Q){for(var bi=0,ht=ie.length,gr=ue.length;bi<ht;){if(Q>=gr)return-1;var Hn=ie.charCodeAt(bi++);if(37===Hn){var gs=ie.charAt(bi++),za=ae[gs in Uv?ie.charAt(bi++):gs];if(!za||(Q=za(Z,ue,Q))<0)return-1}else if(Hn!=ue.charCodeAt(Q++))return-1}return Q}function we(Z,ie){return Xt(Z.getMilliseconds(),ie,3)}function at(Z,ie){return Xt(Z.getDate(),ie,2)}function tn(Z,ie){return Xt(Z.getUTCMilliseconds(),ie,3)}function rt(Z,ie){return Xt(Z.getUTCDate(),ie,2)}function zy(Z){return"%"}function $y(Z){return Z.getTime()}function Ky(Z){return Math.floor(Z.getTime()/1e3)}function Jd(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.H=+Q[0],ue+Q[0].length):-1}function Xf(Z,ie,ue){var Q=Ir.exec(ie.slice(ue,ue+2));return Q?(Z.d=+Q[0],ue+Q[0].length):-1}return Y.x=ce(e,Y),Y.X=ce(n,Y),Y.c=ce(t,Y),J.x=ce(e,J),J.X=ce(n,J),J.c=ce(t,J),{format:function(Z){var ie=ce(Z,Y);return ie.toString=function(){return Z},ie},parse:function(Z){var ie=se(Z,Ew);return ie.toString=function(){return Z},ie},utcFormat:function(Z){var ie=ce(Z,J);return ie.toString=function(){return Z},ie},utcParse:function(Z){var ie=se(Z,Na);return ie.toString=function(){return Z},ie}}}(u)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var cb=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sf=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Rw=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.type="time",e.year=Ed,e.month=_w,e.week=mf,e.day=Sd,e.hour=vw,e.minute=hw,e.second=pw,e.millisecond=md,e.format=zv.format,e.tickIntervals=[[e.second,1,Ys],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,po],[e.minute,5,5*po],[e.minute,15,15*po],[e.minute,30,30*po],[e.hour,1,Ma],[e.hour,3,3*Ma],[e.hour,6,6*Ma],[e.hour,12,12*Ma],[e.day,1,ki],[e.day,2,2*ki],[e.week,1,Cd],[e.month,1,lw],[e.month,3,3*lw],[e.year,1,wd]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return cb(t,u),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,n,s,l){var g;if("number"==typeof e){var y=e,S=this.tickIntervals,E=Math.abs(s-n)/y,D=function sd(u,t,e,n,s){void 0===n&&(n=0),void 0===s&&(s=u.length);for(var l=function kC(u){return function(t,e){return Ac(u(t),e)}}(e);n<s;){var g=n+s>>>1;l(u[g],t)<0?n=g+1:s=g}return n}(S,E,function(T){return T[2]});D===S.length?(l=Dc(n/wd,s/wd,y),e=this.year):D?(e=(g=Sf(S[E/S[D-1][2]<S[D][2]/E?D-1:D],2))[0],l=g[1]):(l=Math.max(Dc(n,s,e),1),e=this.millisecond)}return null==l?e:e.every(l)},Object.defineProperty(t.prototype,"domain",{get:function(){return u.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){u.prototype.setDomain.call(this,Array.prototype.map.call(e,function(n){return n instanceof Date?+n:+new Date(+n)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(u.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var n=u.prototype.getDomain.call(this),s=n[0],l=n[n.length-1],g=l<s;if(g){var y=s;s=l,l=y}var S=this.tickInterval(e,s,l),E=S?S.range(s,l+1):[];return g?E.reverse():E},t.prototype.tickFormat=function(e,n){return null==n?this.defaultTickFormat.bind(this):this.format(n)},t.prototype.nice=function(e){void 0===e&&(e=10);var n=u.prototype.getDomain.call(this),s=this.tickInterval(e,n[0],n[n.length-1]);s&&(this.domain=this._nice(n,s))},t.prototype._nice=function(e,n){var s,l,g=0,y=(e=e.slice()).length-1,S=e[g],E=e[y];return E<S&&(g=(s=Sf([y,g],2))[0],y=s[1],S=(l=Sf([E,S],2))[0],E=l[1]),e[g]=n.floor(S),e[y]=n.ceil(E),e},t}(so),Aw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Od=function(u){function t(){var e=u.call(this,new Rw)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var n=e.scale;return n.clamp=!0,e.scale=n,e.datumFormatter=n.tickFormat(e.tick.count,e.datumFormat),e}return Aw(t,u),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(ao(e,cn,Number)||[0,1e3]).map(function(n){return new Date(n)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(e){e?u.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(xa),Kv=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},pb=function(){function u(t,e,n){var s=this;void 0===t&&(t=window.document),this.id=_u(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var l,y=s.ctx,S=s.root,E=s.pendingSize;s.animationFrameId=0,E&&((l=s.canvas).resize.apply(l,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Kv(arguments[t]));return u}(E)),s.pendingSize=void 0),!S||S.visible?(y.clearRect(0,0,s.width,s.height),S&&(y.save(),S.visible&&S.render(y),y.restore()),s._frameIndex++,s.debug.renderFrameIndex&&(y.fillStyle="white",y.fillRect(0,0,40,15),y.fillStyle="black",y.fillText(s.frameIndex.toString(),2,10)),s.dirty=!1):s.dirty=!1},this.canvas=new Da(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(u.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),u.prototype.download=function(t){this.canvas.download(t)},u.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(u.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),u.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(u.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),u.className="Scene",u}(),db=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pw=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.angle=0,e}return db(t,u),t.prototype.createGradient=function(e,n){var s=this.stops,l=this.angle%360*Math.PI/180,g=Math.cos(l),y=Math.sin(l),S=n.width,E=n.height,D=n.x+.5*S,T=n.y+.5*E;if(S>0&&E>0){var P=Math.sqrt(E*E+S*S)*Math.abs(Math.cos(l-Math.atan(E/S)))/2,F=e.createLinearGradient(D+g*P,T+y*P,D-g*P,T-y*P);return s.forEach(function(I){F.addColorStop(I.offset,I.color)}),F}return"black"},t}(function u(){this.stops=[]}),Yv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kc=(()=>(function(u){u[u.Content=0]="Content",u[u.Border=1]="Border"}(kc||(kc={})),kc))(),Cn=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e._gradient=!1,e.effectiveStrokeWidth=Li.defaultStyles.strokeWidth,e._sizing=kc.Content,e}return Yv(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var n=new Pw;n.angle=270,n.stops=[{offset:0,color:oo.fromString(e).brighter().toString()},{offset:1,color:oo.fromString(e).darker().toString()}],this.gradientInstance=n}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===kc.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===kc.Border,n=this.path;n.clear();var S,s=this.x,l=this.y,g=this.width,y=this.height;if(e){var E=g/2,D=y/2;S=Math.min(this.strokeWidth,E,D),s=Math.min(s+S/2,s+E),l=Math.min(l+S/2,l+D),g=Math.max(g-S,0),y=Math.max(y-S,0)}else S=this.strokeWidth;if(this.effectiveStrokeWidth=S,this.crisp&&!e){var P=this.alignment,F=this.align;n.rect(F(P,s),F(P,l),F(P,s,g),F(P,l,y))}else n.rect(s,l,g,y)},t.prototype.computeBBox=function(){var e=this;return new Tr(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n);return this.computeBBox().containsPoint(s.x,s.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.fillStroke=function(e){if(this.scene){var n=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.createGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*n,e.shadowOffsetY=s.yOffset*n,e.shadowBlur=s.blur*n),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var l=this.strokeShadow;l&&l.enabled&&(e.shadowColor=l.color,e.shadowOffsetX=l.xOffset*n,e.shadowOffsetY=l.yOffset*n,e.shadowBlur=l.blur*n),e.stroke()}}},t.className="Rect",t}(kn),qv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vc=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return qv(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,l=e.size,g=l/2;return new Tr(e.x-g,e.y-g,l,l)},t}(kn),Tw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bc=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Tw(t,u),t.prototype.updatePath=function(){var e=this,n=e.path,s=e.x,l=e.y,g=this.size/2,S=this.alignment,E=this.align;n.clear(),n.moveTo(E(S,s-g),E(S,l-g)),n.lineTo(E(S,s+g),E(S,l-g)),n.lineTo(E(S,s+g),E(S,l+g)),n.lineTo(E(S,s-g),E(S,l+g)),n.closePath()},t.className="Square",t}(Vc),xw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hb=function(u){function t(){var e=u.call(this)||this;e.label=new zn,e._marker=new Bc,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=Da.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return xw(t,u),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var n=this.markerSize;this.marker.size=n,this.label.x=n/2+this.spacing},t.className="MarkerLabel",t}(vn),Mw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xv=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Mw(t,u),t.prototype.updatePath=function(){var e=this,n=e.x,s=e.y,l=e.path,y=e.size/2;l.clear(),l.cubicArc(n,s,y,y,0,0,2*Math.PI,0),l.closePath()},t.className="Circle",t}(Vc),cr=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fw=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return cr(t,u),t.prototype.updatePath=function(){var n=this.x,s=this.y,g=this.path,S=this.size/4.2;g.clear(),g.moveTo(n-=S,s),g.lineTo(n-=S,s-=S),g.lineTo(n+=S,s-=S),g.lineTo(n+=S,s+=S),g.lineTo(n+=S,s-=S),g.lineTo(n+=S,s+=S),g.lineTo(n-=S,s+=S),g.lineTo(n+=S,s+=S),g.lineTo(n-=S,s+=S),g.lineTo(n-=S,s-=S),g.lineTo(n-=S,s+=S),g.lineTo(n-=S,s-=S),g.closePath()},t.className="Cross",t}(Vc),Rd=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fb=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Rd(t,u),t.prototype.updatePath=function(){var n=this.x,s=this.y,g=this.path,S=this.size/2;g.clear(),g.moveTo(n,s-=S),g.lineTo(n+=S,s+=S),g.lineTo(n-=S,s+=S),g.lineTo(n-=S,s-=S),g.lineTo(n+=S,s-=S),g.closePath()},t.className="Diamond",t}(Vc),Zv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qv=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Zv(t,u),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,n=e.x,s=e.path,g=e.rad,y=e.size/4,S=this.y+y/2;s.clear(),s.cubicArc(n-y,S-y,y,y,0,g(130),g(330),0),s.cubicArc(n+y,S-y,y,y,0,g(220),g(50),0),s.lineTo(n,S+y),s.closePath()},t.className="Heart",t}(Vc),gb=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iw=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return gb(t,u),t.prototype.updatePath=function(){var n=this.x,s=this.y,g=this.path,S=this.size/3,E=S/2;g.clear(),g.moveTo(n-=E,s-=E),g.lineTo(n,s-=S),g.lineTo(n+=S,s),g.lineTo(n,s+=S),g.lineTo(n+=S,s),g.lineTo(n,s+=S),g.lineTo(n-=S,s),g.lineTo(n,s+=S),g.lineTo(n-=S,s),g.lineTo(n,s-=S),g.lineTo(n-=S,s),g.lineTo(n,s-=S),g.closePath()},t.className="Plus",t}(Vc),Ad=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pd=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Ad(t,u),t.prototype.updatePath=function(){var n=this.x,s=this.y,g=this.path,S=1.1*this.size;g.clear(),g.moveTo(n,s-=.48*S),g.lineTo(n+=.5*S,s+=.87*S),g.lineTo(n-=S,s),g.closePath()},t.className="Triangle",t}(Vc);function ss(u){if(void 0===u&&(u=Bc),"string"==typeof u)switch(u){case"circle":return Xv;case"cross":return Fw;case"diamond":return fb;case"heart":return Qv;case"plus":return Iw;case"triangle":return Pd;default:return Bc}return"function"==typeof u?u:Bc}var Pu=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xr=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Dl=(()=>(function(u){u[u.Vertical=0]="Vertical",u[u.Horizontal=1]="Horizontal"}(Dl||(Dl={})),Dl))(),Rl=(()=>(function(u){u.Top="top",u.Right="right",u.Bottom="bottom",u.Left="left"}(Rl||(Rl={})),Rl))(),bf=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return Pu(t,u),Xr([be("change")],t.prototype,"color",void 0),Xr([be("layoutChange")],t.prototype,"fontStyle",void 0),Xr([be("layoutChange")],t.prototype,"fontWeight",void 0),Xr([be("layoutChange")],t.prototype,"fontSize",void 0),Xr([be("layoutChange")],t.prototype,"fontFamily",void 0),Xr([be()],t.prototype,"formatter",void 0),t}(ci),as=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return Pu(t,u),Xr([be("layoutChange")],t.prototype,"size",void 0),Xr([be("layoutChange")],t.prototype,"shape",void 0),Xr([be("layoutChange")],t.prototype,"padding",void 0),Xr([be("change")],t.prototype,"strokeWidth",void 0),t}(ci),Td=function(u){function t(){var e=u.call(this)||this;e.marker=new as,e.label=new bf,e.paddingX=16,e.paddingY=8;var n=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",n),e.label.addEventListener("change",n);var s=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",s),e.label.addEventListener("layoutChange",s),e}return Pu(t,u),Xr([be("layoutChange")],t.prototype,"paddingX",void 0),Xr([be("layoutChange")],t.prototype,"paddingY",void 0),t}(ci),fr=function(u){function t(){var e=u.call(this)||this;return e.id=_u(e),e.group=new vn,e.itemSelection=yn.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new Td,e.data=[],e.enabled=!0,e.orientation=Dl.Vertical,e.position=Rl.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",function(){return e.fireEvent({type:"change"})}),e.item.addEventListener("layoutChange",function(){return e.fireEvent({type:"layoutChange"})}),e}return Pu(t,u),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=Dl.Vertical;break;case"bottom":case"top":this.orientation=Dl.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},t.prototype.performLayout=function(e,n){var s=this.item,l=s.marker,g=s.paddingX,y=s.paddingY,S=this.itemSelection.setData(this.data,function($e,it){var Le=ss(l.shape||it.marker.shape);return it.id+"-"+it.itemId+"-"+Le.name});S.exit.remove();var E=S.enter.append(hb).each(function($e,it){var Le=ss(l.shape||it.marker.shape);$e.marker=new Le}),D=this.itemSelection=S.merge(E),T=D.size,P=[],F=this.item.marker,I=this.item.label;D.each(function($e,it){$e.markerSize=F.size,$e.spacing=F.padding,$e.fontStyle=I.fontStyle,$e.fontWeight=I.fontWeight,$e.fontSize=I.fontSize,$e.fontFamily=I.fontFamily;var Le=it.label.text;Le.length>25&&(Le=Le.substring(0,25-"...".length)+"..."),$e.text=Le,P.push($e.computeBBox())});var U=P.length&&P[0].height,z=0,Y=0,J=0,ae=0;switch(e=Math.max(1,e),n=Math.max(1,n),this.orientation){case Dl.Horizontal:if(!(isFinite(e)&&e>0))return!1;z=0;var se=0;do{var ce=0;se=0,Y=0,z++;for(var pe=0;pe<T;)(fe=P[pe]).width>Y&&(Y=fe.width),++pe%z==0&&(ce+=Y,Y=0,se++);pe%z!=0&&(ce+=Y,se++),J=ce+(se-1)*g}while(J>e&&se>1);ae=U*z+(z-1)*y;break;case Dl.Vertical:if(!(isFinite(n)&&n>0))return!1;z=2*T;do{z=(z>>1)+z%2,Y=0,ce=0;var we=0,Fe=0;for(pe=0;pe<T;){var fe=P[pe];Fe||(we+=fe.height),fe.width>Y&&(Y=fe.width),++pe%z==0&&(ce+=Y,Y=0,Fe++)}pe%z!=0&&(ce+=Y,Fe++),J=ce+(Fe-1)*g,ae=we+(z-1)*y}while(ae>n&&z>1)}var Re=(e-J)/2,_e=(n-ae)/2,De=0,Ce=0;Y=0,D.each(function($e,it,Le){$e.translationX=Math.floor(Re+De),$e.translationY=Math.floor(_e+Ce);var Je=P[Le];Je.width>Y&&(Y=Je.width),(Le+1)%z==0?(De+=Y+g,Ce=0,Y=0):Ce+=Je.height+y}),this.update();var he=this._size,Te=this.oldSize;he[0]=J,he[1]=ae,(he[0]!==Te[0]||he[1]!==Te[1])&&(Te[0]=he[0],Te[1]=he[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(n,s){var l=s.marker;n.markerFill=l.fill,n.markerStroke=l.stroke,n.markerStrokeWidth=e.item.marker.strokeWidth,n.markerFillOpacity=l.fillOpacity,n.markerStrokeOpacity=l.strokeOpacity,n.opacity=s.enabled?1:.5,n.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,n){var s=this.group.pickNode(e,n);if(s&&s.parent)return s.parent.datum},t.className="Legend",Xr([be("layoutChange")],t.prototype,"data",void 0),Xr([be("layoutChange")],t.prototype,"enabled",void 0),Xr([be("layoutChange")],t.prototype,"orientation",void 0),Xr([be("layoutChange")],t.prototype,"position",void 0),Xr([be("layoutChange")],t.prototype,"spacing",void 0),t}(ci),Hc=function(){function u(){}return u.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(s){var l,g;try{for(var y=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s),S=y.next();!S.done;S=y.next()){var E=S.value,D=E.contentRect,T=D.width,P=D.height;t.checkSize(t.elements.get(E.target),E.target,T,P)}}catch(F){l={error:F}}finally{try{S&&!S.done&&(g=y.return)&&g.call(y)}finally{if(l)throw l.error}}}):window.setInterval(function(){t.elements.forEach(function(s,l){t.checkSize(s,l,l.clientWidth?l.clientWidth:0,l.clientHeight?l.clientHeight:0)})},100),this.ready=!0},u.checkSize=function(t,e,n,s){t&&(!t.size||n!==t.size.width||s!==t.size.height)&&(t.size={width:n,height:s},t.cb(t.size,e))},u.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e})},u.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},u.elements=new Map,u.ready=!1,u}();function Vn(u,t,e,n,s,l,g){var E=u-(u<n?n:u>n+l?n+l:u),D=t-(t<s?s:t>s+g?s+g:t);return Math.sqrt(E*E+D*D)<=e}function qn(u,t,e,n,s,l,g,y){return u+e>s&&u<s+g&&t+n>l&&t<l+y}function Wc(u,t,e,n,s,l,g,y){return s+g<u+e&&s>u&&l>t&&l+y<t+n}var Zs=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qs=function(){return Qs=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Qs.apply(this,arguments)},ls=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l};function Zr(u,t){if("string"==typeof u)return u;t=t||{};var e=u.content,s=u.title,l=void 0===s?t.title||void 0:s,g=u.color,S=u.backgroundColor;return(l?'<div class="'+fi.defaultTooltipClass+'-title"\n        style="color: '+(void 0===g?t.color||"white":g)+"; background-color: "+(void 0===S?t.backgroundColor||"#888":S)+'">'+l+"</div>":"")+'<div class="'+fi.defaultTooltipClass+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var La=function(u){function t(e,n){var s=u.call(this)||this;s.enabled=!0,s.class=fi.defaultTooltipClass,s.delay=0,s.tracking=!0,s.showTimeout=0,s.constrained=!1,s.chart=e,s.class="";var l=n.body,g=n.createElement("div");if(s.element=l.appendChild(g),window.IntersectionObserver){var y=s.chart.scene.canvas.element,S=new IntersectionObserver(function(E){var D,T;try{for(var P=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(E),F=P.next();!F.done;F=P.next()){var I=F.value;I.target===y&&0===I.intersectionRatio&&s.toggle(!1)}}catch(G){D={error:G}}finally{try{F&&!F.done&&(T=P.return)&&T.call(P)}finally{if(D)throw D.error}}},{root:l});S.observe(y),s.observer=S}return s}return Zs(t,u),t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(fi.defaultTooltipClass+"-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(fi.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,n){var s=[fi.defaultTooltipClass,this.class];!0!==e&&s.push(fi.defaultTooltipClass+"-hidden"),!0!==n&&s.push(fi.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",s.join(" "))},t.prototype.show=function(e,n,s){var l=this;void 0===s&&(s=!1);var g=this.element;if(void 0!==n)g.innerHTML=n;else if(!g.innerHTML)return;var y=e.pageX-g.clientWidth/2,S=e.pageY-g.clientHeight-8;if(this.constrained=!1,this.chart.container){var E=g.getBoundingClientRect(),T=window.innerWidth-E.width-1;y<0?(y=0,this.updateClass(!0,this.constrained=!0)):y>T&&(y=T,this.updateClass(!0,this.constrained=!0)),S<window.pageYOffset&&(S=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(g.style.left=Math.round(y)+"px",g.style.top=Math.round(S)+"px",this.delay>0&&!s)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){l.toggle(!0)},this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},ls([be()],t.prototype,"enabled",void 0),ls([be()],t.prototype,"class",void 0),ls([be()],t.prototype,"delay",void 0),ls([be()],t.prototype,"tracking",void 0),t}(ci),fi=function(u){function t(e){void 0===e&&(e=window.document);var n=u.call(this)||this;n.id=_u(n),n.background=new Cn,n.legend=new fr,n.legendAutoPadding=new Xh,n.captionAutoPadding=0,n._container=void 0,n._data=[],n._autoSize=!1,n.padding=new Xh(20),n._axes=[],n._series=[],n._axesChanged=!1,n._seriesChanged=!1,n.layoutCallbackId=0,n._performLayout=function(){n.layoutCallbackId=0,n.background.width=n.width,n.background.height=n.height,n.performLayout(),n.layoutPending||n.fireEvent({type:"layoutDone"})},n.dataCallbackId=0,n.nodeData=new Map,n.updateCallbackId=0,n.legendBBox=new Tr(0,0,0,0),n._onMouseDown=n.onMouseDown.bind(n),n._onMouseMove=n.onMouseMove.bind(n),n._onMouseUp=n.onMouseUp.bind(n),n._onMouseOut=n.onMouseOut.bind(n),n._onClick=n.onClick.bind(n),n.pointerInsideLegend=!1,n.pointerOverLegendDatum=!1;var s=new vn,l=n.background;l.fill="white",s.appendChild(l);var g=n._element=e.createElement("div");g.setAttribute("class","ag-chart-wrapper");var y=new pb(e);n.scene=y,y.root=s,y.container=g,n.autoSize=!0,n.padding.addEventListener("layoutChange",n.scheduleLayout,n);var S=n.legend;if(S.addEventListener("layoutChange",n.scheduleLayout,n),S.item.label.addPropertyListener("formatter",n.updateLegend,n),S.addPropertyListener("position",n.onLegendPositionChange,n),n.tooltip=new La(n,e),n.tooltip.addPropertyListener("class",function(){return n.tooltip.toggle()}),t.tooltipDocuments.indexOf(e)<0){var E=e.createElement("style");E.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',e.head.insertBefore(E,e.head.querySelector("style")),t.tooltipDocuments.push(e)}return n.setupDomListeners(y.canvas.element),n.addPropertyListener("title",n.onCaptionChange),n.addPropertyListener("subtitle",n.onCaptionChange),n.addEventListener("layoutChange",n.scheduleLayout),n}return Zs(t,u),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var n=this.element.parentNode;null!=n&&n.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(n){return n.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var n=this.element.style;if(e){var s=this;Hc.observe(this.element,function(l){(l.width!==s.width||l.height!==s.height)&&(s.scene.resize(l.width,l.height),s.fireEvent({type:"layoutChange"}))}),n.display="block",n.width="100%",n.height="100%"}else Hc.unobserve(this.element),n.display="inline-block",n.width="auto",n.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),Hc.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var n=e.value,s=e.oldValue;s&&(s.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(s.node)),n&&(n.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(n.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var n=this;this._axes.forEach(function(s){return n.detachAxis(s)}),this._axes=e.filter(function(s){return!s.linkedTo}).concat(e.filter(function(s){return s.linkedTo})),this._axes.forEach(function(s){return n.attachAxis(s)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var n=this;this.removeAllSeries(),e.forEach(function(s){return n.addSeries(s)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,n){var l=this.series,g=this.seriesRoot;if(l.indexOf(e)<0){var S=n?l.indexOf(n):-1;return S>=0?(l.splice(S,0,e),g.insertBefore(e.group,n.group)):(l.push(e),g.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,n){var l=this.series,g=this.seriesRoot;if(l.indexOf(e)<0){var S=n?this.series.indexOf(n):-1;S>=0?(S+1<l.length?g.insertBefore(e.group,l[S+1].group):g.append(e.group),this.initSeries(e),l.splice(S+1,0,e)):(l.length>0?g.insertBefore(e.group,l[0].group):g.append(e.group),this.initSeries(e),l.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var n=this.series.indexOf(e);return n>=0&&(this.series.splice(n,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(n){e.freeSeries(n),e.seriesRoot.removeChild(n.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(n){var s=n.direction+"Axis",l=[];e.series.forEach(function(g){g[s]===n&&l.push(g)}),n.boundSeries=l}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var n=this;void 0===e&&(e=!1);var s={};this.axes.forEach(function(l){var g=l.direction;(s[g]||(s[g]=[])).push(l)}),this.series.forEach(function(l){l.directions.forEach(function(g){var y=g+"Axis";if(!l[y]||e){var S=s[g];if(S){var E=n.findMatchingAxis(S,l.getKeys(g));E&&(l[y]=E)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,n){for(var s=0;s<e.length;s++){var l=e[s],g=l.keys;if(!g.length)return l;if(n)for(var y=0;y<n.length;y++)if(g.indexOf(n[y])>=0)return l}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach(function(n){return n.nodeDataPending=!0})):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var n=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){n.dataPending=!1,n.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(n){var s=n.visible?n.createNodeData():[];e.nodeData.set(n,s)})},t.prototype.placeLabels=function(){var e=[],n=[];this.nodeData.forEach(function(g,y){y.visible&&y.label.enabled&&(e.push(y),n.push(y.getLabelData()))});var s=this.seriesRect,l=s?function jc(u,t,e){void 0===e&&(e=5);var n=[];u=u.map(function(D){return D.slice().sort(function(T,P){return P.size-T.size})});for(var s=0;s<u.length;s++){var l=n[s]=[],g=u[s];if(g&&g.length&&g[0].label)for(var y=function(D,T){var P=g[D],F=P.label,G=P.point.x-.5*F.width,j=P.point.y-.5*P.size-F.height-e,U=F.width,z=F.height;return!t||Wc(t.x,t.y,t.width,t.height,G,j,U,z)?u.some(function(se){return se.some(function(ce){return Vn(ce.point.x,ce.point.y,.5*ce.size,G,j,U,z)})})||n.some(function(se){return se.some(function(ce){return qn(ce.x,ce.y,ce.width,ce.height,G,j,U,z)})})?"continue":void l.push({index:D,text:F.text,x:G,y:j,width:U,height:z}):"continue"},S=0,E=g.length;S<E;S++)y(S)}return n}(n,{x:0,y:0,width:s.width,height:s.height}):[];return new Map(l.map(function(g,y){return[e[y],g]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(s){return s.showInLegend}).forEach(function(s){return s.listSeriesItems(e)});var n=this.legend.item.label.formatter;n&&e.forEach(function(s){return s.label.text=n({id:s.id,itemId:s.itemId,value:s.label.text})}),this.legend.data=e},Object.defineProperty(t.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var n=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout(function(){n.update()},0))},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updatePending=!1,this.series.forEach(function(e){e.updatePending&&e.update()})},t.prototype.positionCaptions=function(){var n=this.title,s=this.subtitle,l=!1,g=!1,S=10;if(n&&n.enabled){n.node.x=this.width/2,n.node.y=S,l=!0;var E=n.node.computeBBox();if(E&&(S=E.y+E.height),s&&s.enabled){s.node.x=this.width/2,s.node.y=S+10,g=!0;var D=s.node.computeBBox();D&&(S=D.y+D.height)}}n&&(n.node.visible=l),s&&(s.node.visible=g),this.captionAutoPadding=Math.floor(S)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var P,e=this,n=e.legend,s=e.captionAutoPadding,l=e.legendAutoPadding,g=this.width,y=this.height-s,S=n.group,E=n.spacing,D=0,T=0;switch(n.position){case"bottom":n.performLayout(g-2*E,0),P=S.computeBBox(),S.visible=P.height<Math.floor(.5*y),S.visible?(D=(g-P.width)/2-P.x,T=s+y-P.height-P.y-E,l.bottom=P.height):l.bottom=0;break;case"top":n.performLayout(g-2*E,0),P=S.computeBBox(),S.visible=P.height<Math.floor(.5*y),S.visible?(D=(g-P.width)/2-P.x,T=s+E-P.y,l.top=P.height):l.top=0;break;case"left":n.performLayout(0,y-2*E),P=S.computeBBox(),S.visible=P.width<Math.floor(.5*g),S.visible?(D=E-P.x,T=s+(y-P.height)/2-P.y,l.left=P.width):l.left=0;break;default:n.performLayout(0,y-2*E),P=S.computeBBox(),S.visible=P.width<Math.floor(.5*g),S.visible?(D=g-P.width-P.x-E,T=s+(y-P.height)/2-P.y,l.right=P.width):l.right=0}S.visible&&(S.translationX=Math.floor(D+S.translationX),S.translationY=Math.floor(T+S.translationY),this.legendBBox=S.computeBBox())}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,n){if(this.seriesRect&&this.seriesRect.containsPoint(e,n))for(var s=this.series,l=void 0,g=s.length-1;g>=0;g--){var y=s[g];if(y.visible&&(l=y.pickGroup.pickNode(e,n)))return{series:y,node:l}}},t.prototype.pickClosestSeriesNodeDatum=function(e,n){if(this.seriesRect&&this.seriesRect.containsPoint(e,n)){for(var y,s=this.series,g=1/0,S=function(D){var T=s[D];if(!T.visible)return"continue";var P=T.group.transformPoint(e,n);T.getNodeData().forEach(function(F){var I,G;if(F.point){var U=T.yAxis;if((null===(I=T.xAxis)||void 0===I?void 0:I.inRange(F.point.x))&&(null===(G=U)||void 0===G?void 0:G.inRange(F.point.y))){var Y=function l(D,T){return Math.sqrt(Math.pow(D.x-T.x,2)+Math.pow(D.y-T.y,2))}(P,F.point);Y<g&&(g=Y,y=F)}}})},E=s.length-1;E>=0;E--)S(E);return y}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var E,s=this.lastPick,l=this.tooltip.tracking,g=e.offsetX,y=e.offsetY,S=this.pickSeriesNode(g,y);if(S&&S.node instanceof Li){var D=S.node;if(E=D.datum,s&&s.datum===E&&(s.node=D,s.event=e),!D.datum.point||!l)return void(s&&s.node===D?S.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,D.datum,D,e))}var T=!1;if(l){var P=this.pickClosestSeriesNodeDatum(g,y);if(P&&P.point){var F=P.point,j=this.scene.canvas,U=P.series.group.inverseTransformPoint(F.x,F.y),z=j.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(z.left+window.pageXOffset+U.x),pageY:Math.round(z.top+window.pageYOffset+U.y)},P,E===P&&S?S.node:void 0,e)}else T=!0}s&&(T||!l)&&(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var s=e.datum;return s.series.fireNodeClickEvent(e.event,s),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(Qs(Qs({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var n=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(n){var s=n.id,l=n.itemId,g=n.enabled,y=Tc(this.series,function(S){return S.id===s});if(y)return y.toggleSeriesItem(l,!g),g&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:l,enabled:!g}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var n=e.offsetX,s=e.offsetY,l=this.legend.getDatumForPoint(n,s),g=this.legendBBox.containsPoint(n,s),y=g&&void 0!==l;if(!g&&this.pointerInsideLegend)return this.pointerInsideLegend=!1,this.scene.canvas.element.style.cursor="default",void this.dehighlightDatum();y&&!this.pointerOverLegendDatum&&(this.scene.canvas.element.style.cursor="pointer"),!y&&this.pointerOverLegendDatum&&(this.scene.canvas.element.style.cursor="default"),this.pointerInsideLegend=g,this.pointerOverLegendDatum=y;var S=this.highlightedDatum;if(l){var E=l.id,D=l.itemId;if(l.enabled){var P=Tc(this.series,function(F){return F.id===E});P&&(this.highlightedDatum={series:P,itemId:D,datum:void 0})}}(this.highlightedDatum&&!S||this.highlightedDatum&&S&&(this.highlightedDatum.series!==S.series||this.highlightedDatum.itemId!==S.itemId))&&this.series.forEach(function(F){return F.updatePending=!0})}},t.prototype.onSeriesDatumPick=function(e,n,s,l){var g=this.lastPick;if(g){if(g.datum===n)return;this.dehighlightDatum()}this.lastPick={datum:n,node:s,event:l},this.highlightDatum(n);var y=n.series.tooltip.enabled&&n.series.getTooltipHtml(n);y&&this.tooltip.show(e,y)},t.prototype.highlightDatum=function(e){this.scene.canvas.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach(function(n){return n.updatePending=!0})},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(e){return e.updatePending=!0}))},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],ls([be("layoutChange")],t.prototype,"title",void 0),ls([be("layoutChange")],t.prototype,"subtitle",void 0),t}(ci),Jv=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zc=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new dd,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return Jv(t,u),t.prototype.containsPoint=function(e,n){var s=this.transformPoint(e,n);return s.x>=this.x&&s.x<=this.x+this.width&&s.y>=this.y&&s.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this;return new Tr(e.x,e.y,e.width,e.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var n=this.children,s=n.length,l=0;l<s;l++){e.save();var g=n[l];g.visible&&g.render(e),e.restore()}},t.className="ClipRect",t}(Gn),Ga=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ey=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Ga(t,u),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,l=e.width,g=e.height;return new Tr(e.centerX-l/2,e.centerY-g/2,l,g)},t.prototype.isPointInPath=function(e,n){var s=this.transformPoint(e,n);return this.computeBBox().containsPoint(s.x,s.y)},t.prototype.updatePath=function(){var e=this,n=e.path,s=e.centerX,l=e.centerY,g=e.width,y=e.height,E=this.alignment,D=this.align;n.clear();var T=s-g/2,P=l-y/2,F=D(E,T),I=D(E,P),G=F+D(E,T,g),j=I+D(E,P,y);n.moveTo(F,I),n.lineTo(G,I),n.lineTo(G,j),n.lineTo(F,j),n.lineTo(F,I);var U=this.gripLineGap/2,z=this.gripLineLength/2;n.moveTo(D(E,s-U),D(E,l-z)),n.lineTo(D(E,s-U),D(E,l+z)),n.moveTo(D(E,s+U),D(E,l-z)),n.lineTo(D(E,s+U),D(E,l+z))},t.className="RangeHandle",t}(kn),Nw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ef=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Nw(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new Tr(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,n=e.x,l=e.width,E=n+l*e.min;return new Tr(E,e.y,n+l*e.max-E,e.height)},t.prototype.updatePath=function(){var e=this,n=e.path,s=e.x,l=e.y,g=e.width,y=e.height,S=e.min,E=e.max,T=this.alignment,P=this.align;n.clear();var F=P(T,s),I=P(T,l),G=F+P(T,s,g),j=I+P(T,l,y);n.moveTo(F,I),n.lineTo(G,I),n.lineTo(G,j),n.lineTo(F,j),n.lineTo(F,I);var U=P(T,s+g*S),z=P(T,s+g*E);n.moveTo(U,I),n.lineTo(U,j),n.lineTo(z,j),n.lineTo(z,I),n.lineTo(U,I)},t.className="RangeMask",t}(kn),ty=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lw=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.isContainerNode=!0,e.minHandle=new ey,e.maxHandle=new ey,e.mask=function(){var n=t.defaults,s=n.x,l=n.y,g=n.width,y=n.height,S=n.min,E=n.max,D=new Ef;D.x=s,D.y=l,D.width=g,D.height=y,D.min=S,D.max=E;var P=e.minHandle,F=e.maxHandle;return P.centerX=s,F.centerX=s+g,P.centerY=F.centerY=l+y/2,e.append([D,P,F]),D.onRangeChange=function(I,G){e.updateHandles(),e.onRangeChange&&e.onRangeChange(I,G)},D}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e}return ty(t,u),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,n=e.minHandle,s=e.maxHandle,l=e.x,g=e.y,y=e.width,S=e.height,E=e.mask;n.centerX=l+y*E.min,s.centerX=l+y*E.max,n.centerY=s.centerY=g+S/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this;[n.mask,n.minHandle,n.maxHandle].forEach(function(y){e.save(),y.visible&&y.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(vn),vb=function(){function u(t){this.rm=t}return Object.defineProperty(u.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),u}(),Go=function(){function u(t){this.rh=t}return Object.defineProperty(u.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),u}(),yb=function(){function u(t){var e=this;this.rs=new Lw,this.mask=new vb(this.rs.mask),this.minHandle=new Go(this.rs.minHandle),this.maxHandle=new Go(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(n,s){return e.updateAxes(n,s)}}return Object.defineProperty(u.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),u.prototype.updateAxes=function(t,e){var n=this.chart,s=!1;n.axes.forEach(function(l){l.direction===sr.X&&(!s&&(t>0||e<1)&&(s=!0),l.visibleRange=[t,e],l.update())}),n.seriesRoot.enabled=s,n.series.forEach(function(l){return l.nodeDataPending=!0})},u.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,s=this.rs,l=s.minHandle,g=s.maxHandle,y=s.x,S=s.width,E=s.min,D=s.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(l.containsPoint(e,n)?this.minHandleDragging=!0:g.containsPoint(e,n)?this.maxHandleDragging=!0:D.containsPoint(e,n)&&(this.panHandleOffset=(e-y)/S-E))}},u.prototype.onDrag=function(t){if(this.enabled){var n=this.rs,s=this.panHandleOffset,l=n.x,y=n.width,E=n.minHandle,D=n.maxHandle,T=this.chart.element.style,P=t.offsetX,F=t.offsetY,I=l+y*n.min,j=new Tr(I,n.y,l+y*n.max-I,n.height);if(T.cursor=E.containsPoint(P,F)||D.containsPoint(P,F)?"ew-resize":j.containsPoint(P,F)?"grab":"default",this.minHandleDragging)n.min=U();else if(this.maxHandleDragging)n.max=U();else if(!isNaN(s)){var z=n.max-n.min,Y=Math.min(U()-s,1-z);Y<=n.min?(n.min=Y,n.max=n.min+z):(n.max=Y+z,n.min=n.max-z)}}function U(){return Math.min(Math.max((P-l)/y,0),1)}},u.prototype.onDragStop=function(){this.stopHandleDragging()},u.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},u}(),Al=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ry=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Gw=function(u){function t(e){void 0===e&&(e=window.document);var n=u.call(this,e)||this;n._seriesRoot=new zc,n.navigator=new yb(n),n.scene.root.visible=!1;var s=n.scene.root;return s.append(n.seriesRoot),s.append(n.legend.group),n.navigator.enabled=!1,n}return Al(t,u),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,l=e.axes,g=e.legend,y=e.navigator,S=new Tr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),g.enabled&&g.data.length){var E=this.legendAutoPadding,D=this.legend.spacing;switch(S.x+=E.left,S.y+=E.top,S.width-=E.left+E.right,S.height-=E.top+E.bottom,this.legend.position){case"right":S.width-=D;break;case"bottom":S.height-=D;break;case"left":S.x+=D,S.width-=D;break;case"top":S.y+=D,S.height-=D}}var P=this.captionAutoPadding,F=this.padding;this.updateAxes(),S.x+=F.left,S.width-=F.left+F.right,S.y+=F.top+P,S.height-=F.top+P+F.bottom,y.enabled&&(S.height-=y.height+y.margin);var I=0,G={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};l.forEach(function(U){U.group.visible=!0;var z=Math.floor(U.thickness||U.computeBBox().width);switch(G[U.position]&&(z+=U.title&&U.title.padding.top||15),U.position){case xt.Top:G[xt.Top]=!0,S.y+=z,S.height-=z,U.translation.y=Math.floor(S.y+1),U.label.mirrored=!0;break;case xt.Right:G[xt.Right]=!0,S.width-=z,U.translation.x=Math.max(Math.floor(S.x),Math.floor(S.x+S.width)),U.label.mirrored=!0;break;case xt.Bottom:G[xt.Bottom]=!0,S.height-=z,I+=z,U.translation.y=Math.max(Math.floor(S.y),Math.floor(S.y+S.height+1));break;case xt.Left:G[xt.Left]=!0,S.x+=z,S.width-=z,U.translation.x=Math.floor(S.x)}}),S.width=Math.max(0,S.width),S.height=Math.max(0,S.height),l.forEach(function(U){switch(U.position){case xt.Top:case xt.Bottom:U.translation.x=Math.floor(S.x),U.range=[0,S.width],U.gridLength=S.height;break;case xt.Left:case xt.Right:U.translation.y=Math.floor(S.y),U.range=U instanceof uo||U instanceof Gi?[0,S.height]:[S.height,0],U.gridLength=S.width}}),this.createNodeData(),this.seriesRect=S,this.series.forEach(function(U){U.group.translationX=Math.floor(S.x),U.group.translationY=Math.floor(S.y),U.update()});var j=this.seriesRoot;j.x=S.x,j.y=S.y,j.width=S.width,j.height=S.height,y.enabled&&(y.x=S.x,y.y=S.y+S.height+I+y.margin,y.width=S.width),this.axes.forEach(function(U){return U.update()})}},t.prototype.initSeries=function(e){u.prototype.initSeries.call(this,e)},t.prototype.freeSeries=function(e){u.prototype.freeSeries.call(this,e)},t.prototype.setupDomListeners=function(e){u.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},t.prototype.cleanupDomListeners=function(e){u.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var n=this.scene.canvas.element.getBoundingClientRect(),s=e.touches[0];return s?{offsetX:s.clientX-n.left,offsetY:s.clientY-n.top}:void 0},t.prototype.onTouchStart=function(e){var n=this.getTouchOffset(e);n&&this.navigator.onDragStart(n)},t.prototype.onTouchMove=function(e){var n=this.getTouchOffset(e);n&&this.navigator.onDrag(n)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(e){u.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},t.prototype.onMouseMove=function(e){u.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},t.prototype.onMouseUp=function(e){u.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},t.prototype.onMouseOut=function(e){u.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(e){void 0===e&&(e=!1),u.prototype.assignAxesToSeries.call(this,e),this.series.forEach(function(n){n.xAxis||console.warn("Could not find a matching xAxis for the "+n.id+" series."),n.yAxis||console.warn("Could not find a matching yAxis for the "+n.id+" series.")})},t.prototype.updateAxes=function(){var l,e=this,n=this.navigator,s=!1;this.axes.forEach(function(g){var y,S=g.direction,E=g.boundSeries;if(0===E.length&&e._series.length>0&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),g.linkedTo)g.domain=g.linkedTo.domain;else{var D=[];E.filter(function(F){return F.visible}).forEach(function(F){D.push(F.getDomain(S))});var T=(y=new Array).concat.apply(y,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(ry(arguments[t]));return u}(D));g instanceof Io&&"y"===g.direction?(g.setDomain(T,l),l=l||g.scale.ticks(g.tick.count).length):g.domain=T}g.direction===sr.X&&(g.visibleRange=[n.min,n.max]),!s&&(g.visibleRange[0]>0||g.visibleRange[1]<1)&&(s=!0),g.update()}),this.seriesRoot.enabled=s},t.className="CartesianChart",t.type="cartesian",t}(fi),ny=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cb=function(u){function t(e){void 0===e&&(e=window.document);var n=u.call(this,e)||this;n._data={},n._seriesRoot=new zc,n.scene.root.visible=!1;var s=n.scene.root;return s.append(n.seriesRoot),s.append(n.legend.group),n}return ny(t,u),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,l=e.legend,g=new Tr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),l.enabled&&l.data.length){var y=this.legendAutoPadding,S=this.legend.spacing;switch(g.x+=y.left,g.y+=y.top,g.width-=y.left+y.right,g.height-=y.top+y.bottom,this.legend.position){case"right":g.width-=S;break;case"bottom":g.height-=S;break;case"left":g.x+=S,g.width-=S;break;case"top":g.y+=S,g.height-=S}}var D=this.captionAutoPadding,T=this.padding;g.x+=T.left,g.width-=T.left+T.right,g.y+=T.top+D,g.height-=T.top+D+T.bottom,this.seriesRect=g,this.series.forEach(function(F){F.group.translationX=Math.floor(g.x),F.group.translationY=Math.floor(g.y),F.update()});var P=this.seriesRoot;P.x=g.x,P.y=g.y,P.width=g.width,P.height=g.height}},t.className="HierarchyChart",t.type="hierarchy",t}(fi),kw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wb=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},iy=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return kw(t,u),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var n,s=e.direction,g=[],y=void 0;e.boundSeries.filter(function(E){return E.visible}).forEach(function(E){if(s===sr.X)if(void 0===y){var D=E.getDomain(s);g.push(D),y="number"==typeof D[0]}else y&&g.push(E.getDomain(s));else g.push(E.getDomain(s))});var S=(n=new Array).concat.apply(n,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(wb(arguments[t]));return u}(g));e.domain=ao(S,cn)||S,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(Gw),Sb=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},On=function(u){function t(){var e=u.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return Sb(t,u),t.prototype.getFont=function(){return tf(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Pl([be("change","dataChange")],t.prototype,"enabled",void 0),Pl([be("change")],t.prototype,"fontSize",void 0),Pl([be("change")],t.prototype,"fontFamily",void 0),Pl([be("change")],t.prototype,"fontStyle",void 0),Pl([be("change")],t.prototype,"fontWeight",void 0),Pl([be("change")],t.prototype,"color",void 0),t}(ci),Vw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oy=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},sy=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},bb=function u(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},xd=function u(){this.strokeWidth=void 0,this.dimOpacity=void 0},Eb=function u(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new bb,this.series=new xd},Mu=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.enabled=!0,e}return Vw(t,u),oy([be("change")],t.prototype,"enabled",void 0),t}(ci),ko=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.id=_u(e),e.group=new vn,e.pickGroup=e.group.appendChild(new vn),e.directions=[sr.X,sr.Y],e.directionKeys={},e.label=new On,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.cursor="default",e._nodeDataPending=!0,e._updatePending=!1,e.highlightStyle=new Eb,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return Vw(t,u),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,n){},t.prototype.getKeys=function(e){var n=this,s=this.directionKeys,l=s&&s[e],g=[];return l&&l.forEach(function(y){var S=n[y];S&&(Array.isArray(S)?g.push.apply(g,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(sy(arguments[t]));return u}(S)):g.push(S))}),g},t.prototype.createNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},Object.defineProperty(t.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleUpdate=function(){this.updatePending=!0},t.prototype.getOpacity=function(e){var s=this.chart,l=this.highlightStyle.series.dimOpacity;return s&&s.highlightedDatum&&(s.highlightedDatum.series!==this||e&&s.highlightedDatum.itemId!==e.itemId)?void 0===l?1:l:1},t.prototype.getStrokeWidth=function(e,n){var l=this.chart,g=this.highlightStyle.series.strokeWidth;return!l||!l.highlightedDatum||l.highlightedDatum.series!==this||n&&l.highlightedDatum.itemId!==n.itemId||void 0===g?e:g},t.prototype.fireNodeClickEvent=function(e,n){},t.prototype.toggleSeriesItem=function(e,n){this.visible=n},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,n,s){if(!e)return[0,1];var l=sy(e,2),g=l[0],y=l[1];if(y=+y,0==(g=+g)&&0===y)return[0,1];if(g===y)if(s instanceof Od)g-=1,y+=1;else{var S=Math.abs(.01*g);g-=S,y+=S}return zs(g)&&zs(y)?[g,y]:[0,1]},t.highlightedZIndex=1e12,oy([be("dataChange")],t.prototype,"data",void 0),oy([be("dataChange")],t.prototype,"visible",void 0),oy([be("layoutChange")],t.prototype,"showInLegend",void 0),t}(ci),Ob=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Bw=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.enabled=!0,e.shape=Xv,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return Ob(t,u),Vo([be("change")],t.prototype,"enabled",void 0),Vo([be("change")],t.prototype,"shape",void 0),Vo([be("change")],t.prototype,"size",void 0),Vo([be("change")],t.prototype,"maxSize",void 0),Vo([be("change")],t.prototype,"domain",void 0),Vo([be("change")],t.prototype,"fill",void 0),Vo([be("change")],t.prototype,"stroke",void 0),Vo([be("change")],t.prototype,"strokeWidth",void 0),Vo([be("change")],t.prototype,"fillOpacity",void 0),Vo([be("change")],t.prototype,"strokeOpacity",void 0),t}(ci),ay=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Js=function(u){function t(){var e,n=null!==u&&u.apply(this,arguments)||this;return n.directionKeys=((e={})[sr.X]=["angleKey"],e[sr.Y]=["radiusKey"],e),n.centerX=0,n.centerY=0,n.radius=0,n}return ay(t,u),t}(ko),Hw=(function(u){ay(function t(){return null!==u&&u.apply(this,arguments)||this},u)}(Bw),function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}()),Db=function(u){function t(e){void 0===e&&(e=window.document);var n=u.call(this,e)||this;return n.padding=new Xh(40),n.scene.root.append(n.legend.group),n.padding.addEventListener("layoutChange",n.scheduleLayout,n),n}return Hw(t,u),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new Tr(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var n=this.captionAutoPadding;if(e.y+=n,e.height-=n,this.legend.enabled&&this.legend.data.length){var s=this.legendAutoPadding;e.x+=s.left,e.y+=s.top,e.width-=s.left+s.right,e.height-=s.top+s.bottom;var l=this.legend.spacing;switch(this.legend.position){case"right":e.width-=l;break;case"bottom":e.height-=l;break;case"left":e.x+=l,e.width-=l;break;case"top":e.y+=l,e.height-=l}}var g=this.padding;e.x+=g.left,e.y+=g.top,e.width-=g.left+g.right,e.height-=g.top+g.bottom,this.seriesRect=e;var y=e.x+e.width/2,S=e.y+e.height/2,E=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(D){D instanceof Js&&(D.centerX=y,D.centerY=S,D.radius=E,D.update())})},t.className="PolarChart",t.type="polar",t}(fi),Ww=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qr=function(u){function t(){var e,n=null!==u&&u.apply(this,arguments)||this;return n.directionKeys=((e={})[sr.X]=["xKey"],e[sr.Y]=["yKey"],e),n}return Ww(t,u),t.prototype.checkDomainXY=function(e,n,s,l){return(s&&cn(e)||!s&&cd(e))&&(l&&cn(n)||!l&&cd(n))?[e,n]:void 0},t.prototype.checkDatum=function(e,n){return n&&cn(e)?e:n?void 0:cd(e)?e:String(e)},t.prototype.checkRangeXY=function(e,n,s,l){return!isNaN(e)&&!isNaN(n)&&s.inRange(e)&&l.inRange(n)},t}(ko),ho=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.formatter=void 0,e}return Ww(t,u),t}(Bw);function Of(u,t){if(u===t)return!0;if(u&&t&&"object"==typeof u&&"object"==typeof t){if(u.constructor!==t.constructor)return!1;var e,n=void 0;if(Array.isArray(u)){if((e=u.length)!=t.length)return!1;for(n=e;0!=n--;)if(!Of(u[n],t[n]))return!1;return!0}if(u.constructor===RegExp)return u.source===t.source&&u.flags===t.flags;if(u.valueOf!==Object.prototype.valueOf)return u.valueOf()===t.valueOf();if(u.toString!==Object.prototype.toString)return u.toString()===t.toString();var s=Object.keys(u);if((e=s.length)!==Object.keys(t).length)return!1;for(n=e;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,s[n]))return!1;for(n=e;0!=n--;){var l=s[n];if(!Of(u[l],t[l]))return!1}return!0}return u!=u&&t!=t}var jw=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Uw=/(#\{(.*?)\})/g;function ly(u,t,e){return u.replace(Uw,function(){var n=arguments[2],s=jw(n.split(":"),2),l=s[0],g=s[1],y=t[l];if("number"==typeof y){if(S=g&&e&&e[g]){var E=S,D=E.locales,T=E.options;return y.toLocaleString(D,T)}return String(y)}if(y instanceof Date){var S;if("string"==typeof(S=g&&e&&e[g])){var P=zv.format(S);return P(y)}return y.toDateString()}return"string"==typeof y||y&&y.toString?String(y):""})}var Md=null;function Ur(u){return Md=Md||document.createElement("div"),u?(Md.innerText=u,Md.innerHTML):""}var zw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gi=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},$c=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},VO=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Kc=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return zw(t,u),gi([be("change")],t.prototype,"formatter",void 0),t}(On),Bn=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return zw(t,u),gi([be("change")],t.prototype,"renderer",void 0),gi([be("change")],t.prototype,"format",void 0),t}(Mu),Fd=function(u){function t(){var e=u.call(this)||this;e.tooltip=new Bn,e.areaGroup=e.group.insertBefore(new vn,e.pickGroup),e.strokeGroup=e.group.insertBefore(new vn,e.pickGroup),e.markerGroup=e.pickGroup.appendChild(new vn),e.labelGroup=e.group.appendChild(new vn),e.fillSelection=yn.select(e.areaGroup).selectAll(),e.strokeSelection=yn.select(e.strokeGroup).selectAll(),e.markerSelection=yn.select(e.markerGroup).selectAll(),e.labelSelection=yn.select(e.labelGroup).selectAll(),e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.fillSelectionData=[],e.strokeSelectionData=[],e.markerSelectionData=[],e.labelSelectionData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new ho,e.label=new Kc,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.addEventListener("update",e.scheduleUpdate);var s=e.marker,l=e.label;return s.enabled=!1,s.addPropertyListener("shape",e.onMarkerShapeChange,e),s.addEventListener("change",e.scheduleUpdate,e),l.enabled=!1,l.addEventListener("change",e.scheduleUpdate,e),e}return zw(t,u),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Of(this._yKeys,e)){this._yKeys=e,this.yData=[];var n=this.seriesItemEnabled;n.clear(),e.forEach(function(s){return n.set(s,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,n){this.fills=e,this.strokes=n},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var n=e?Math.abs(e):void 0;this._normalizedTo!==n&&(this._normalizedTo=n,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e,n,s,l,g,y,S=this,E=this,D=E.xKey,T=E.yKeys,P=E.seriesItemEnabled,F=E.xAxis,I=E.yAxis,G=E.normalizedTo,j=D&&T.length&&this.data?this.data:[];if(!F||!I)return!1;var U=F.scale instanceof so,z=I.scale instanceof so,Y=G&&isFinite(G),J=[],ae=[],se=[],ce=function(dt){if(!(D in dt))return Ta(function(){return console.warn("The key '"+D+"' was not found in the data: ",dt)},D+" not found in data"),"continue";var tt=pe.checkDatum(dt[D],U);if(U&&void 0===tt)return"continue";se.push(tt),ae.push({xDatum:tt,seriesDatum:dt}),T.forEach(function(_r,Or){if(_r in dt){var wi=dt[_r],Sr=J[Or]||(J[Or]=[]);if(P.get(_r)){var Dr=S.checkDatum(wi,z);Sr.push(Dr)}else Sr.push(0)}else Ta(function(){return console.warn("The key '"+_r+"' was not found in the data: ",dt)},_r+" not found in data")})},pe=this;try{for(var fe=$c(j),we=fe.next();!we.done;we=fe.next())ce(we.value)}catch(dt){e={error:dt}}finally{try{we&&!we.done&&(n=fe.return)&&n.call(fe)}finally{if(e)throw e.error}}this.yData=J,this.xData=ae,this.xDomain=U?this.fixNumericExtent(ao(se,cn),"x",F):se;for(var Re=0,_e=0,De=0;De<ae.length;De++){var Ce={sum:0,absSum:0};try{for(var he=(s=void 0,$c(J)),Te=he.next();!Te.done;Te=he.next())if(void 0!==($e=Te.value)[De]){var it=+$e[De];Ce.absSum+=Math.abs(it),Ce.sum+=it,Ce.sum>_e?_e=Ce.sum:Ce.sum<Re&&(Re=Ce.sum)}}catch(dt){s={error:dt}}finally{try{Te&&!Te.done&&(l=he.return)&&l.call(he)}finally{if(s)throw s.error}}if(Y&&G){var Le=0;try{for(var Je=(g=void 0,$c(J)),He=Je.next();!He.done;He=Je.next()){var $e,at=+($e=He.value)[De]/Ce.absSum*G;$e[De]=at,(Le+=at)>_e?_e=Le:Le<Re&&(Re=Le)}}catch(dt){g={error:dt}}finally{try{He&&!He.done&&(y=Je.return)&&y.call(Je)}finally{if(g)throw g.error}}}}return Y&&G&&(Re=Re<.5*-G?-G:Re,_e=_e>.5*G?G:_e),this.yDomain=this.fixNumericExtent([Re,_e],"y",I),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var n,s,l=0,g=0;try{for(var y=$c(e),S=y.next();!S.done;S=y.next()){var E=S.value;E.min<l&&(l=E.min),E.max>g&&(g=E.max)}}catch(D){n={error:D}}finally{try{S&&!S.done&&(s=y.return)&&s.call(y)}finally{if(n)throw n.error}}return{min:l,max:g}},t.prototype.getDomain=function(e){return e===sr.X?this.xDomain:this.yDomain},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.createSelectionData=function(){var e=this,n=this,l=n.xAxis,g=n.yAxis,y=n.xData,S=n.yData,E=n.labelSelectionData,D=n.markerSelectionData,T=n.strokeSelectionData,P=n.fillSelectionData;if(n.data&&l&&g&&y.length&&S.length){var I=this,G=I.yKeys,j=I.marker,U=I.label,z=I.fills,Y=I.strokes,J=l.scale,ae=g.scale,se=ae instanceof so,ce=(J.bandwidth||0)/2;D.length=0,E.length=0,T.length=0,P.length=0;var pe=new Array(y.length).fill(null).map(function(){return{left:0,right:0}}),fe=new Array(y.length).fill(0),we=function(Re,_e,De,Ce){var he=J.convert(Re)+ce,$e=pe[De][Ce]+_e,it=ae.convert(pe[De][Ce],se?Us:void 0),Le=ae.convert($e,se?Us:void 0);return pe[De][Ce]=$e,[{x:he,y:Le},{x:he,y:it}]};S.forEach(function(Re,_e){var De=G[_e],he=(P[_e]||(P[_e]={itemId:De,points:[]})).points,Te=[],$e=T[_e]||(T[_e]={itemId:De,points:[],yValues:[]}),it=$e.points,Le=$e.yValues;Re.forEach(function(Je,He){var at,Sr,qe=y[He],dt=qe.xDatum,tt=qe.seriesDatum,_r=null===(at=y[He+1])||void 0===at?void 0:at.xDatum,Or=Re[He+1],wi=function(Re,_e,De,Ce){var he,Te=e.normalizedTo&&isFinite(e.normalizedTo),$e=Te&&se&&cn(Ce);return(!Te&&!isNaN(_e)||$e)&&(he=fe[De]+=_e),{x:J.convert(Re)+ce,y:ae.convert(he,se?Us:void 0)}}(dt,+Je,He,tt[De]);j&&D.push({index:He,series:e,itemId:De,datum:tt,yValue:Je,yKey:De,point:wi,fill:z[_e%z.length],stroke:Y[_e%Y.length]}),Sr=U.formatter?U.formatter({value:Je}):zs(Je)?Number(Je).toFixed(2):String(Je),U&&E.push({index:He,itemId:De,point:wi,label:e.seriesItemEnabled.get(De)&&Sr?{text:Sr,fontStyle:U.fontStyle,fontWeight:U.fontWeight,fontSize:U.fontSize,fontFamily:U.fontFamily,textAlign:"center",textBaseline:"bottom",fill:U.color}:void 0});var Dr=[dt,_r],tn=[Je,Or];if(!Dr.some(function(Si){return null==Si})){tn.some(function(Si){return null==Si})&&(tn[0]=0,tn[1]=0);var Lr=we(Dr[0],+tn[0],He,"right");he.push(Lr[0]),Te.push(Lr[1]);var _i=we(Dr[1],+tn[1],He,"left");he.push(_i[0]),Te.push(_i[1]),it.push({x:NaN,y:NaN}),Le.push(void 0),it.push(Lr[0]),Le.push(Je),void 0!==Or&&(it.push(_i[0]),Le.push(Je))}}),he.push.apply(he,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(VO(arguments[t]));return u}(Te.slice().reverse()))})}},t.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.fillSelectionData);e.exit.remove();var n=e.enter.append(kn).each(function(s){s.lineJoin="round",s.stroke=void 0,s.pointerEvents=no.None});this.fillSelection=e.merge(n)},t.prototype.updateFillNodes=function(){var e=this,n=this,s=n.fills,l=n.fillOpacity,g=n.strokeOpacity,y=n.strokeWidth,S=n.shadow,E=n.seriesItemEnabled;this.fillSelection.each(function(D,T,P){D.fill=s[P%s.length],D.fillOpacity=l,D.strokeOpacity=g,D.strokeWidth=y,D.lineDash=e.lineDash,D.lineDashOffset=e.lineDashOffset,D.fillShadow=S,D.visible=!!E.get(T.itemId),D.opacity=e.getOpacity(T);var F=T.points,I=D.path;I.clear(),F.forEach(function(G,j){var U=G.x,z=G.y;j>0?I.lineTo(U,z):I.moveTo(U,z)}),I.closePath()})},t.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.strokeSelectionData);e.exit.remove();var n=e.enter.append(kn).each(function(s){s.fill=void 0,s.lineJoin=s.lineCap="round",s.pointerEvents=no.None});this.strokeSelection=e.merge(n)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var n=this,s=n.strokes,l=n.strokeOpacity,g=n.seriesItemEnabled,y=!0;this.strokeSelection.each(function(S,E,D){S.visible=!!g.get(E.itemId),S.opacity=e.getOpacity(E),S.stroke=s[D%s.length],S.strokeWidth=e.getStrokeWidth(e.strokeWidth,E),S.strokeOpacity=l,S.lineDash=e.lineDash,S.lineDashOffset=e.lineDashOffset;var T=E.points,P=E.yValues,F=S.path;F.clear();for(var I=0;I<T.length;I++){var G=T[I],j=G.x,U=G.y;void 0===P[I]?y=!0:y?(F.moveTo(j,U),y=!1):F.lineTo(j,U)}})}},t.prototype.updateMarkerSelection=function(){var e=ss(this.marker.shape),s=this.markerSelection.setData(e?this.markerSelectionData:[]);s.exit.remove();var l=s.enter.append(e);this.markerSelection=s.merge(l)},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var n=this,s=n.xKey,l=n.marker,g=n.seriesItemEnabled,y=n.yKeys,S=n.fills,E=n.strokes,D=n.chart.highlightedDatum,T=n.highlightStyle,G=T.item,j=G.fill,U=void 0===j?T.fill:j,z=G.stroke,Y=void 0===z?T.stroke:z,J=G.strokeWidth,ae=void 0===J?T.strokeWidth:J,se=l.size,ce=l.formatter,pe=void 0!==l.strokeWidth?l.strokeWidth:this.strokeWidth;this.markerSelection.each(function(fe,we){var Fe=y.indexOf(we.yKey),Re=we===D,_e=Re&&void 0!==U?U:l.fill||S[Fe%S.length],De=Re&&void 0!==Y?Y:l.stroke||E[Fe%S.length],Ce=Re&&void 0!==ae?ae:pe,he=void 0;ce&&(he=ce({datum:we.datum,xKey:s,yKey:we.yKey,fill:_e,stroke:De,strokeWidth:Ce,size:se,highlighted:Re})),fe.fill=he&&he.fill||_e,fe.stroke=he&&he.stroke||De,fe.strokeWidth=he&&void 0!==he.strokeWidth?he.strokeWidth:Ce,fe.size=he&&void 0!==he.size?he.size:se,fe.translationX=we.point.x,fe.translationY=we.point.y,fe.visible=l.enabled&&fe.size>0&&!!g.get(we.yKey)&&!isNaN(we.point.x)&&!isNaN(we.point.y),fe.opacity=e.getOpacity(we)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var n=e.enter.append(zn);this.labelSelection=e.merge(n)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var n=this.label,s=n.enabled,l=n.fontStyle,g=n.fontWeight,y=n.fontSize,S=n.fontFamily,E=n.color;this.labelSelection.each(function(D,T){var P=T.point,F=T.label;F&&s?(D.fontStyle=l,D.fontWeight=g,D.fontSize=y,D.fontFamily=S,D.textAlign=F.textAlign,D.textBaseline=F.textBaseline,D.text=F.text,D.x=P.x,D.y=P.y-10,D.fill=E,D.visible=!0,D.opacity=e.getOpacity(T)):D.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:n.yKey})},t.prototype.getTooltipHtml=function(e){var n=this.xKey,s=e.yKey;if(!n||!s)return"";var l=e.datum,g=l[n],y=l[s],E=this.xAxis,D=this.yAxis;if(!(E&&D&&zs(y)))return"";var T=this,P=T.xName,F=T.yKeys,I=T.yNames,G=T.yData,j=T.fills,U=T.strokes,z=T.tooltip,Y=T.marker,J=Y.size,ae=Y.formatter,se=Y.strokeWidth,ce=Y.fill,pe=Y.stroke,fe=E.formatDatum(g),we=D.formatDatum(y),Fe=F.indexOf(s),_e=G[Fe][e.index],De=I[Fe],Ce=Ur(De),he=Ur(fe+": "+we),$e=ce||j[Fe%j.length],Le=void 0;ae&&(Le=ae({datum:l,xKey:n,yKey:s,fill:$e,stroke:pe||U[Fe%j.length],strokeWidth:void 0!==se?se:this.strokeWidth,size:J,highlighted:!1}));var Je=Le&&Le.fill||$e,He={title:Ce,backgroundColor:Je,content:he},at=z.renderer,qe=z.format;if(qe||at){var dt={datum:l,xKey:n,xName:P,xValue:g,yKey:s,yValue:y,processedYValue:_e,yName:De,color:Je};if(qe)return Zr({content:ly(qe,dt)},He);if(at)return Zr(at(dt),He)}return Zr(He)},t.prototype.listSeriesItems=function(e){var n=this,s=n.data,l=n.id,y=n.yKeys,S=n.yNames,E=n.seriesItemEnabled,D=n.marker,T=n.fills,P=n.strokes,F=n.fillOpacity,I=n.strokeOpacity;s&&s.length&&n.xKey&&y.length&&y.forEach(function(G,j){e.push({id:l,itemId:G,enabled:E.get(G)||!1,label:{text:S[j]||y[j]},marker:{shape:D.shape,fill:D.fill||T[j%T.length],stroke:D.stroke||P[j%P.length],fillOpacity:F,strokeOpacity:I}})})},t.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.set(e,n),this.scheduleData()},t.className="AreaSeries",t.type="area",gi([be("dataChange")],t.prototype,"fills",void 0),gi([be("dataChange")],t.prototype,"strokes",void 0),gi([be("update")],t.prototype,"fillOpacity",void 0),gi([be("update")],t.prototype,"strokeOpacity",void 0),gi([be("update")],t.prototype,"lineDash",void 0),gi([be("update")],t.prototype,"lineDashOffset",void 0),gi([be("update")],t.prototype,"xName",void 0),gi([be("update")],t.prototype,"yNames",void 0),gi([be("update")],t.prototype,"strokeWidth",void 0),gi([be("update")],t.prototype,"shadow",void 0),t}(Qr),Id=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nt=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ft=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},jt=(()=>(function(u){u[u.Bar=0]="Bar",u[u.Label=1]="Label"}(jt||(jt={})),jt))(),Tl=(()=>(function(u){u.Inside="inside",u.Outside="outside"}(Tl||(Tl={})),Tl))(),Rb=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.placement=Tl.Inside,e}return Id(t,u),nt([be("change")],t.prototype,"formatter",void 0),nt([be("change")],t.prototype,"placement",void 0),t}(On),uy=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Id(t,u),nt([be("change")],t.prototype,"renderer",void 0),t}(Mu);function Df(u,t){return void 0===t&&(t=[]),u.forEach(function(e){Array.isArray(e)?Df(e,t):t.push(e)}),t}var Af=function(u){function t(){var e,n=u.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new vn),n.labelGroup=n.group.appendChild(new vn),n.rectSelection=yn.select(n.rectGroup).selectAll(),n.labelSelection=yn.select(n.labelGroup).selectAll(),n.nodeData=[],n.xData=[],n.yData=[],n.yDomain=[],n.label=new Rb,n.seriesItemEnabled=new Map,n.tooltip=new uy,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.groupScale=new Kn,n.directionKeys=((e={})[sr.X]=["xKey"],e[sr.Y]=["yKeys"],e),n._xKey="",n._xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._grouped=!1,n._yNames={},n._strokeWidth=1,n.addEventListener("update",n.scheduleUpdate),n.label.enabled=!1,n.label.addEventListener("change",n.scheduleUpdate,n),n}return Id(t,u),t.prototype.getKeys=function(e){var n=this,s=this.directionKeys,l=s&&s[this.flipXY?fd(e):e],g=[];return l&&l.forEach(function(y){var S=n[y];S&&(Array.isArray(S)?g=g.concat(Df(S)):g.push(S))}),g},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var n=this,s=void 0;if(function Rf(u){return u.length>0&&Array.isArray(u[0])}(e)||(s=e,e=this.grouped?s.map(function(E){return[E]}):[s]),!Of(this._yKeys,e)){this.flatYKeys=s||void 0,this._yKeys=e;var l=0;this.cumYKeyCount=[];var g=[];e.forEach(function(E,D){E.length>0&&g.push(String(D)),n.cumYKeyCount.push(l),l+=E.length}),this.yData=[];var y=this.seriesItemEnabled;y.clear(),e.forEach(function(E){E.forEach(function(D){return y.set(D,!0)})});var S=this.groupScale;S.domain=g,S.padding=.1,S.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var n={};this.flatYKeys.forEach(function(s,l){n[s]=e[l]}),e=n}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,n){this.fills=e,this.strokes=n},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var n=e?Math.abs(e):void 0;this._normalizedTo!==n&&(this._normalizedTo=n,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,n=this,s=n.xKey,l=n.yKeys,g=n.seriesItemEnabled,S=s&&l.length&&this.data?this.data:[];if(!n.xAxis)return!1;var E=!0;this.xData=S.map(function(z){return E&&!(s in z)&&(E=!1,console.warn("The key '"+s+"' was not found in the data: ",z)),e.checkDatum(z[s],!1)}),this.yData=S.map(function(z){return l.map(function(Y){return Y.map(function(J){E&&!(J in z)&&(E=!1,console.warn("The key '"+J+"' was not found in the data: ",z));var ae=e.checkDatum(z[J],!0);return g.get(J)&&void 0!==ae?ae:0})})});var j,U,D=this.yData.map(function(z){return z.map(function(Y){return function Ev(u){var t,e,n=0,s=0;try{for(var l=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),g=l.next();!g.done;g=l.next()){var y=g.value;y<0?n+=y:s+=y}}catch(S){t={error:S}}finally{try{g&&!g.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return{min:n,max:s}}(Y)})}),P=this.yData,F=this.normalizedTo,I=this.yData.map(function(z){return z.map(function(Y){return Y.reduce(function(J,ae){return J+Math.abs(ae)},0)})}),G=this.findLargestMinMax(D);return F&&isFinite(F)?(j=G.min<0?-F:0,U=G.max>0?F:0,P.forEach(function(z,Y){z.forEach(function(J,ae){J.forEach(function(se,ce){J[ce]=se/I[Y][ae]*F})})})):(j=G.min,U=G.max),this.yDomain=this.fixNumericExtent([j,U],"y",this.yAxis),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var n,s,l,g,y=0,S=0;try{for(var E=ft(e),D=E.next();!D.done;D=E.next()){var T=D.value;try{for(var P=(l=void 0,ft(T)),F=P.next();!F.done;F=P.next()){var I=F.value;I.min<y&&(y=I.min),I.max>S&&(S=I.max)}}catch(G){l={error:G}}finally{try{F&&!F.done&&(g=P.return)&&g.call(P)}finally{if(l)throw l.error}}}}catch(G){n={error:G}}finally{try{D&&!D.done&&(s=E.return)&&s.call(E)}finally{if(n)throw n.error}}return{min:y,max:S}},t.prototype.getDomain=function(e){return this.flipXY&&(e=fd(e)),e===sr.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:n.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.createNodeData=function(){var e=this,n=this,s=n.chart,l=n.data,g=n.visible,y=this.getCategoryAxis(),S=this.getValueAxis();if(!(s&&l&&g&&y&&S)||s.layoutPending||s.dataPending)return[];var E=this.flipXY,D=y.scale,T=S.scale,P=this,F=P.groupScale,I=P.yKeys,G=P.cumYKeyCount,j=P.fills,U=P.strokes,z=P.strokeWidth,Y=P.seriesItemEnabled,J=P.xData,ae=P.yData,se=P.label,ce=se.fontStyle,pe=se.fontWeight,fe=se.fontSize,we=se.fontFamily,Fe=se.color,Re=se.formatter,_e=se.placement;F.range=[0,D.bandwidth];var De=F.bandwidth,Ce=[];return J.forEach(function(he,Te){for(var $e=l[Te],it=D.convert(he),Le=ae[Te],Je=0;Je<Le.length;Je++)for(var He=Le[Je],at=0,qe=0,dt=0;dt<He.length;dt++){var tt=+He[dt],_r=I[Je][dt],Or=it+F.convert(String(Je));if(y.inRange(Or,De)){var _i,wi=tt<0?at:qe,Sr=T instanceof so,Dr=T.convert(wi+tt,Sr?Us:void 0),tn=T.convert(wi,Sr?Us:void 0),Lr=$e[_r];_i=Re?Re({value:zs(Lr)?Lr:void 0}):zs(Lr)?Lr.toFixed(2):"";var Si=void 0,Ua=void 0;E?(Ua=Or+De/2,Si=_e===Tl.Inside?Dr+(Lr>=0?-1:1)*Math.abs(tn-Dr)/2:Dr+4*(Lr>=0?1:-1)):(Si=Or+De/2,Ua=_e===Tl.Inside?Dr+(Lr>=0?1:-1)*Math.abs(tn-Dr)/2:Dr+(Lr>=0?-3:4));var Bl=void 0,rt=void 0;_e===Tl.Inside?(Bl="center",rt="middle"):(Bl=E?Lr>=0?"start":"end":"center",rt=E?"middle":Lr>=0?"bottom":"top");var Zt=G[Je]+dt;Ce.push({index:Te,series:e,itemId:_r,datum:$e,yValue:Lr,yKey:_r,x:E?Math.min(Dr,tn):Or,y:E?Or:Math.min(Dr,tn),width:E?Math.abs(tn-Dr):De,height:E?De:Math.abs(tn-Dr),fill:j[Zt%j.length],stroke:U[Zt%U.length],strokeWidth:z,label:Y.get(_r)&&_i?{text:_i,fontStyle:ce,fontWeight:pe,fontSize:fe,fontFamily:we,textAlign:Bl,textBaseline:rt,fill:Fe,x:Si,y:Ua}:void 0}),tt<0?at+=tt:qe+=tt}}}),this.nodeData=Ce},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var n=e.enter.append(Cn).each(function(s){s.tag=jt.Bar,s.crisp=!0});this.rectSelection=e.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var n=this,s=n.fills,l=n.strokes,g=n.fillOpacity,y=n.strokeOpacity,S=n.shadow,E=n.formatter,D=n.xKey,T=n.flipXY,P=n.yKeys,F=n.chart.highlightedDatum,I=n.highlightStyle,z=I.item,Y=z.fill,J=void 0===Y?I.fill:Y,ae=z.stroke,se=void 0===ae?I.stroke:ae,ce=z.strokeWidth,pe=void 0===ce?I.strokeWidth:ce;this.rectSelection.each(function(fe,we,Fe){for(var Re=0,_e=0,De=0;De<P.length;De++){var Ce=P[De];if((_e=Ce.indexOf(we.yKey))>=0){Re+=_e;break}Re+=Ce.length}var he=we===F,Te=he&&void 0!==J?J:s[Re%s.length],$e=he&&void 0!==se?se:l[Re%s.length],it=he&&void 0!==pe?pe:e.getStrokeWidth(e.strokeWidth,we),Le=void 0;E&&(Le=E({datum:we.datum,fill:Te,stroke:$e,strokeWidth:it,highlighted:he,xKey:D,yKey:we.yKey})),fe.x=we.x,fe.y=we.y,fe.width=we.width,fe.height=we.height,fe.fill=Le&&Le.fill||Te,fe.stroke=Le&&Le.stroke||$e,fe.strokeWidth=Le&&void 0!==Le.strokeWidth?Le.strokeWidth:it,fe.fillOpacity=g,fe.strokeOpacity=y,fe.lineDash=e.lineDash,fe.lineDashOffset=e.lineDashOffset,fe.fillShadow=S,fe.visible=T?we.width>0:we.height>0,fe.zIndex=he?ko.highlightedZIndex:Fe,fe.opacity=e.getOpacity(we)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var n=e.enter.append(zn).each(function(s){s.tag=jt.Label,s.pointerEvents=no.None});this.labelSelection=e.merge(n)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var l=this.label,g=l.enabled,y=l.fontStyle,S=l.fontWeight,E=l.fontSize,D=l.fontFamily,T=l.color;this.labelSelection.each(function(P,F,I){var G=F.label;G&&g?(P.fontStyle=y,P.fontWeight=S,P.fontSize=E,P.fontFamily=D,P.textAlign=G.textAlign,P.textBaseline=G.textBaseline,P.text=G.text,P.x=G.x,P.y=G.y,P.fill=T,P.visible=!0,P.opacity=e.getOpacity(F)):P.visible=!1})}},t.prototype.getTooltipHtml=function(e){var n=this,s=n.xKey,l=n.yKeys,g=n.yData,y=this.getCategoryAxis(),S=this.getValueAxis(),E=e.yKey;if(!(g.length&&s&&E&&y&&S))return"";for(var D=g[e.index],T=0,P=0,F=0;F<l.length;F++){var I=l[F];if((P=I.indexOf(E))>=0){T+=P;break}T+=I.length}var G=this,j=G.xName,z=G.fills,ae=G.formatter,se=G.tooltip.renderer,ce=e.datum,pe=G.yNames[E],fe=z[T%z.length],we=G.strokes[T%z.length],Fe=this.getStrokeWidth(this.strokeWidth,ce),Re=ce[s],_e=ce[E],De=D[F][P],Ce=Ur(y.formatDatum(Re)),he=Ur(S.formatDatum(_e)),Te=Ur(pe),$e=Ce+": "+he,it=void 0;ae&&(it=ae({datum:ce,fill:fe,stroke:we,strokeWidth:Fe,highlighted:!1,xKey:s,yKey:E}));var Le=it&&it.fill||fe,Je={title:Te,backgroundColor:Le,content:$e};return se?Zr(se({datum:ce,xKey:s,xValue:Re,xName:j,yKey:E,yValue:_e,processedYValue:De,yName:pe,color:Le}),Je):Zr(Je)},t.prototype.listSeriesItems=function(e){var n=this,s=n.id,l=n.data,S=n.yNames,E=n.cumYKeyCount,D=n.seriesItemEnabled,T=n.hideInLegend,P=n.fills,F=n.strokes,I=n.fillOpacity,G=n.strokeOpacity;l&&l.length&&n.xKey&&n.yKeys.length&&this.yKeys.forEach(function(j,U){j.forEach(function(z,Y){if(T.indexOf(z)<0){var J=E[U]+Y;e.push({id:s,itemId:z,enabled:D.get(z)||!1,label:{text:S[z]||z},marker:{fill:P[J%P.length],stroke:F[J%F.length],fillOpacity:I,strokeOpacity:G}})}})})},t.prototype.toggleSeriesItem=function(e,n){var s=this.seriesItemEnabled;s.set(e,n);var l=this.yKeys.map(function(y){return y.slice()});s.forEach(function(y,S){y||l.forEach(function(E){var D=E.indexOf(S);D>=0&&E.splice(D,1)})});var g=[];l.forEach(function(y,S){y.length>0&&g.push(String(S))}),this.groupScale.domain=g,this.scheduleData()},t.className="BarSeries",t.type="bar",nt([be("dataChange")],t.prototype,"flipXY",void 0),nt([be("dataChange")],t.prototype,"fills",void 0),nt([be("dataChange")],t.prototype,"strokes",void 0),nt([be("update")],t.prototype,"fillOpacity",void 0),nt([be("update")],t.prototype,"strokeOpacity",void 0),nt([be("update")],t.prototype,"lineDash",void 0),nt([be("update")],t.prototype,"lineDashOffset",void 0),nt([be("update")],t.prototype,"formatter",void 0),nt([be("layoutChange")],t.prototype,"hideInLegend",void 0),t}(Qr),Fu=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vi=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},cy=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Xn=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Fu(t,u),vi([be("change")],t.prototype,"formatter",void 0),t}(On),$w=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Fu(t,u),vi([be("change")],t.prototype,"renderer",void 0),vi([be("change")],t.prototype,"format",void 0),t}(Mu),Bo=function(u){function t(){var e=u.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new kn,e.nodeSelection=yn.select(e.pickGroup).selectAll(),e.nodeData=[],e.marker=new ho,e.label=new Xn,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new $w,e._xKey="",e.xName="",e._yKey="",e.yName="";var n=e.lineNode;n.fill=void 0,n.lineJoin="round",n.pointerEvents=no.None,e.group.insertBefore(n,e.pickGroup),e.addEventListener("update",e.scheduleUpdate);var l=e.marker,g=e.label;return l.fill="#c16068",l.stroke="#874349",l.addPropertyListener("shape",e.onMarkerShapeChange,e),l.addEventListener("change",e.scheduleUpdate,e),g.enabled=!1,g.addEventListener("change",e.scheduleUpdate,e),e}return Fu(t,u),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,n){this.stroke=e[0],this.marker.stroke=n[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,n=e.xAxis,s=e.yAxis,l=e.xKey,g=e.yKey,y=e.xData,S=e.yData,E=l&&g&&this.data?this.data:[];if(!n||!s)return!1;var D=n.scale instanceof so,T=s.scale instanceof so;y.length=0,S.length=0;for(var P=0,F=E.length;P<F;P++){var I=E[P],j=I[g],U=this.checkDatum(I[l],D);if(!D||void 0!==U){y.push(U);var z=this.checkDatum(j,T);S.push(z)}}return this.xDomain=D?this.fixNumericExtent(ao(y,cn),"x",n):y,this.yDomain=T?this.fixNumericExtent(ao(S,cn),"y",s):S,!0},t.prototype.getDomain=function(e){return e===sr.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},t.prototype.updateLinePath=function(){var e,n=this,l=n.xAxis,g=n.yAxis;if(n.data&&l&&g){var y=this,S=y.xData,E=y.yData,T=y.label,P=y.xKey,F=y.yKey,I=l.scale,G=g.scale,j=(I.bandwidth||0)/2,U=(G.bandwidth||0)/2,z=y.lineNode.path,Y=[];z.clear();for(var J=!0,ae=void 0,se=void 0,ce=0;ce<S.length;ce++){var pe=se||[S[ce],E[ce]];if(void 0===pe[1])ae=void 0,J=!0;else{var fe=cy(pe,2),we=fe[0],Fe=fe[1],Re=I.convert(we)+j;if(isNaN(Re)){ae=void 0,J=!0;continue}var _e=(I.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;se=void 0===E[ce+1]?void 0:[S[ce+1],E[ce+1]];var De=l.inRangeEx(Re,0,_e),Ce=se&&l.inRangeEx(I.convert(se[0])+j,0,_e);if(-1===De&&-1===Ce){J=!0;continue}if(1===De&&1===ae){J=!0;continue}ae=De;var he=G.convert(Fe)+U;J?(z.moveTo(Re,he),J=!1):z.lineTo(Re,he);var Te;Te=T.formatter?T.formatter({value:Fe}):"number"==typeof Fe&&isFinite(Fe)?Fe.toFixed(2):Fe?String(Fe):"";var $e=((e={})[P]=we,e[F]=Fe,e);Y.push({series:this,datum:$e,point:{x:Re,y:he},label:Te?{text:Te,fontStyle:T.fontStyle,fontWeight:T.fontWeight,fontSize:T.fontSize,fontFamily:T.fontFamily,textAlign:"center",textBaseline:"bottom",fill:T.color}:void 0})}}this.nodeData=Y}},t.prototype.updateNodeSelection=function(){var e=this.marker,n=e.shape?this.nodeData:[],s=ss(e.shape),l=this.nodeSelection.setData(n);l.exit.remove();var g=l.enter.append(vn);g.append(s),g.append(zn),this.nodeSelection=l.merge(g)},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var n=this,s=n.marker,l=n.xKey,g=n.yKey,y=n.stroke,S=n.chart.highlightedDatum,E=n.highlightStyle,F=E.item,I=F.fill,G=void 0===I?E.fill:I,j=F.stroke,U=void 0===j?E.stroke:j,z=F.strokeWidth,Y=void 0===z?E.strokeWidth:z,J=s.size,ae=s.formatter,se=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth,ce=ss(s.shape);this.nodeSelection.selectByClass(ce).each(function(pe,fe){var we=fe===S,Fe=we&&void 0!==G?G:s.fill,Re=we&&void 0!==U?U:s.stroke||y,_e=we&&void 0!==Y?Y:se,De=void 0;ae&&(De=ae({datum:fe.datum,xKey:l,yKey:g,fill:Fe,stroke:Re,strokeWidth:_e,size:J,highlighted:we})),pe.fill=De&&De.fill||Fe,pe.stroke=De&&De.stroke||Re,pe.strokeWidth=De&&void 0!==De.strokeWidth?De.strokeWidth:_e,pe.size=De&&void 0!==De.size?De.size:J,pe.translationX=fe.point.x,pe.translationY=fe.point.y,pe.opacity=e.getOpacity(fe),pe.visible=s.enabled&&pe.size>0})}},t.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(zn).each(function(n,s){var l=s.point,g=s.label,y=e.label,D=y.fontWeight,T=y.fontSize,P=y.fontFamily,F=y.color;g&&y.enabled?(n.fontStyle=y.fontStyle,n.fontWeight=D,n.fontSize=T,n.fontFamily=P,n.textAlign=g.textAlign,n.textBaseline=g.textBaseline,n.text=g.text,n.x=l.x,n.y=l.y-10,n.fill=F,n.visible=!0):n.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var n=this,s=n.xKey,l=n.yKey,g=n.xAxis,y=n.yAxis;if(!(s&&l&&g&&y))return"";var S=this,E=S.xName,D=S.yName,T=S.tooltip,P=S.marker,F=T.renderer,I=T.format,G=e.datum,j=G[s],U=G[l],z=g.formatDatum(j),Y=y.formatDatum(U),J=Ur(this.title||D),ae=Ur(z+": "+Y),se=P.formatter,ce=P.fill,fe=P.strokeWidth,Re=void 0;se&&(Re=se({datum:G,xKey:s,yKey:l,fill:ce,stroke:P.stroke,strokeWidth:void 0!==fe?fe:this.strokeWidth,size:P.size,highlighted:!1}));var _e=Re&&Re.fill||ce,De={title:J,backgroundColor:_e,content:ae};if(I||F){var Ce={datum:G,xKey:s,xValue:j,xName:E,yKey:l,yValue:U,yName:D,title:J,color:_e};if(I)return Zr({content:ly(I,Ce)},De);if(F)return Zr(F(Ce),De)}return Zr(De)},t.prototype.listSeriesItems=function(e){var n=this,l=n.data,y=n.yKey,T=n.marker;l&&l.length&&n.xKey&&y&&e.push({id:n.id,itemId:void 0,enabled:n.visible,label:{text:n.title||n.yName||y},marker:{shape:T.shape,fill:T.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||n.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:n.strokeOpacity}})},t.className="LineSeries",t.type="line",vi([be("layoutChange")],t.prototype,"title",void 0),vi([be("update")],t.prototype,"stroke",void 0),vi([be("update")],t.prototype,"lineDash",void 0),vi([be("update")],t.prototype,"lineDashOffset",void 0),vi([be("update")],t.prototype,"strokeWidth",void 0),vi([be("update")],t.prototype,"strokeOpacity",void 0),vi([be("update")],t.prototype,"xName",void 0),vi([be("update")],t.prototype,"yName",void 0),t}(Qr),py=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pf=function(){return Pf=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Pf.apply(this,arguments)},ka=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},dy=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return py(t,u),ka([be("change")],t.prototype,"renderer",void 0),t}(Mu),hy=function(u){function t(){var e=u.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.sizeData=[],e.sizeScale=new un,e.nodeData=[],e.markerSelection=yn.select(e.pickGroup).selectAll(),e.labelData=[],e.labelSelection=yn.select(e.group).selectAll(),e.marker=new ho,e.label=new On,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new dy;var s=e.marker,l=e.label;return s.addPropertyListener("shape",e.onMarkerShapeChange,e),s.addEventListener("change",e.scheduleUpdate,e),e.addPropertyListener("xKey",function(){return e.xData=[]}),e.addPropertyListener("yKey",function(){return e.yData=[]}),e.addPropertyListener("sizeKey",function(){return e.sizeData=[]}),l.enabled=!1,l.addEventListener("change",e.scheduleUpdate,e),l.addEventListener("dataChange",e.scheduleData,e),e}return py(t,u),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,n){this.fill=e[0],this.stroke=n[0],this.marker.fill=e[0],this.marker.stroke=n[0]},t.prototype.processData=function(){var e=this,n=e.xKey,s=e.yKey,l=e.sizeKey,g=e.labelKey,y=e.xAxis,S=e.yAxis,E=e.marker,D=e.label;if(!y||!S)return!1;var T=n&&s&&this.data?this.data:[];this.xData=T.map(function(F){return F[n]}),this.yData=T.map(function(F){return F[s]}),this.sizeData=l?T.map(function(F){return F[l]}):[];var P=D.getFont();return this.labelData=g?T.map(function(F){var I=String(F[g]),G=Da.getTextSize(I,P);return Pf({text:I},G)}):[],this.sizeScale.domain=E.domain?E.domain:ao(this.sizeData,cn)||[1,1],this.xDomain=y.scale instanceof so?this.fixNumericExtent(ao(this.xData,cn),"x",y):this.xData,this.yDomain=S.scale instanceof so?this.fixNumericExtent(ao(this.yData,cn),"y",S):this.yData,!0},t.prototype.getDomain=function(e){return e===sr.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.createNodeData=function(){var e=this,n=e.chart,s=e.data,g=e.xAxis,y=e.yAxis;if(!(n&&s&&e.visible&&g&&y)||n.layoutPending||n.dataPending)return[];var S=g.scale,E=y.scale,D=S instanceof so,T=E instanceof so,P=(S.bandwidth||0)/2,F=(E.bandwidth||0)/2,I=this,G=I.xData,j=I.yData,U=I.sizeData,z=I.sizeScale,Y=I.marker,J=[];z.range=[Y.size,Y.maxSize];for(var ae=0;ae<G.length;ae++){var se=this.checkDomainXY(G[ae],j[ae],D,T);if(se){var ce=S.convert(se[0])+P,pe=E.convert(se[1])+F;!this.checkRangeXY(ce,pe,g,y)||J.push({series:this,datum:s[ae],point:{x:ce,y:pe},size:U.length?z.convert(U[ae]):Y.size,label:this.labelData[ae]})}}return this.nodeData=J},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],n=this.labelSelection.setData(e);n.exit.remove();var s=n.enter.append(zn);this.labelSelection=n.merge(s)},t.prototype.updateMarkerSelection=function(){var e=ss(this.marker.shape),n=this.markerSelection.setData(this.nodeData);n.exit.remove();var s=n.enter.append(e);this.markerSelection=n.merge(s)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(n,s){n.text=s.text,n.fill=e.color,n.x=s.x,n.y=s.y,n.fontStyle=e.fontStyle,n.fontWeight=e.fontWeight,n.fontSize=e.fontSize,n.fontFamily=e.fontFamily,n.textAlign="left",n.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var n=this,s=n.marker,l=n.xKey,g=n.yKey,S=n.fillOpacity,E=n.strokeOpacity,D=n.fill,T=n.stroke,P=n.chart.highlightedDatum,F=n.sizeScale,I=n.sizeData,G=n.highlightStyle,Y=G.item,J=Y.fill,ae=void 0===J?G.fill:J,se=Y.stroke,ce=void 0===se?G.stroke:se,pe=Y.strokeWidth,fe=void 0===pe?G.strokeWidth:pe,we=void 0!==s.strokeWidth?s.strokeWidth:n.strokeWidth,Fe=s.formatter;F.range=[s.size,s.maxSize],this.markerSelection.each(function(Re,_e,De){var Ce=_e===P,he=Ce&&void 0!==ae?ae:s.fill||D,Te=Ce&&void 0!==ce?ce:s.stroke||T,$e=Ce&&void 0!==fe?fe:e.getStrokeWidth(we,_e),it=I.length?F.convert(I[De]):s.size,Le=void 0;Fe&&(Le=Fe({datum:_e.datum,xKey:l,yKey:g,fill:he,stroke:Te,strokeWidth:$e,size:it,highlighted:Ce})),Re.fill=Le&&Le.fill||he,Re.stroke=Le&&Le.stroke||Te,Re.strokeWidth=Le&&void 0!==Le.strokeWidth?Le.strokeWidth:$e,Re.size=Le&&void 0!==Le.size?Le.size:it,Re.fillOpacity=void 0!==s.fillOpacity?s.fillOpacity:S,Re.strokeOpacity=void 0!==s.strokeOpacity?s.strokeOpacity:E,Re.translationX=_e.point.x,Re.translationY=_e.point.y,Re.opacity=e.getOpacity(_e),Re.zIndex=Ce?ko.highlightedZIndex:De,Re.visible=s.enabled&&Re.size>0})}},t.prototype.getTooltipHtml=function(e){var n=this,s=n.xKey,l=n.yKey,g=n.xAxis,y=n.yAxis;if(!(s&&l&&g&&y))return"";var S=this,T=S.marker,P=S.tooltip,F=S.xName,I=S.yName,G=S.sizeKey,j=S.sizeName,U=S.labelKey,z=S.labelName,Y=T.fill||S.fill,J=T.stroke||S.stroke,ae=this.getStrokeWidth(T.strokeWidth||this.strokeWidth,e),se=this.marker.formatter,ce=void 0;se&&(ce=se({datum:e,xKey:s,yKey:l,fill:Y,stroke:J,strokeWidth:ae,size:e.size,highlighted:!1}));var pe=ce&&ce.fill||Y||"gray",fe=this.title||I,we=e.datum,Fe=we[s],Re=we[l],_e=Ur(g.formatDatum(Fe)),De=Ur(y.formatDatum(Re)),Ce="<b>"+Ur(F||s)+"</b>: "+_e+"<br><b>"+Ur(I||l)+"</b>: "+De;G&&(Ce+="<br><b>"+Ur(j||G)+"</b>: "+Ur(we[G])),U&&(Ce="<b>"+Ur(z||U)+"</b>: "+Ur(we[U])+"<br>"+Ce);var he={title:fe,backgroundColor:pe,content:Ce},Te=P.renderer;return Te?Zr(Te({datum:we,xKey:s,xValue:Fe,xName:F,yKey:l,yValue:Re,yName:I,sizeKey:G,sizeName:j,labelKey:U,labelName:z,title:fe,color:pe}),he):Zr(he)},t.prototype.listSeriesItems=function(e){var n=this,l=n.data,y=n.yKey,T=n.marker;l&&l.length&&n.xKey&&y&&e.push({id:n.id,itemId:void 0,enabled:n.visible,label:{text:n.title||n.yName||y},marker:{shape:T.shape,fill:T.fill||n.fill||"rgba(0, 0, 0, 0)",stroke:T.stroke||n.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==T.fillOpacity?T.fillOpacity:n.fillOpacity,strokeOpacity:void 0!==T.strokeOpacity?T.strokeOpacity:n.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",ka([be("layoutChange")],t.prototype,"title",void 0),ka([be("dataChange")],t.prototype,"xKey",void 0),ka([be("dataChange")],t.prototype,"yKey",void 0),ka([be("dataChange")],t.prototype,"sizeKey",void 0),ka([be("dataChange")],t.prototype,"labelKey",void 0),t}(Qr),fy=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Va=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Yc=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Tf=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Yc(arguments[t]));return u},us=(()=>(function(u){u[u.Bin=0]="Bin",u[u.Label=1]="Label"}(us||(us={})),us))(),gy=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return fy(t,u),Va([be("change")],t.prototype,"formatter",void 0),t}(On),ea={count:function(u){return u.data.length},sum:function(u,t){return u.data.reduce(function(e,n){return e+n[t]},0)},mean:function(u,t){return ea.sum(u,t)/ea.count(u,t)}},xf=function(){function u(t){var e=Yc(t,2),n=e[0],s=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[n,s]}return u.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(u.prototype,"domainWidth",{get:function(){var t=Yc(this.domain,2);return t[1]-t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),u.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,ea[t])(this,e)},u.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},u}(),yy=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return fy(t,u),Va([be("change")],t.prototype,"renderer",void 0),t}(Mu),qc=function(u){function t(){var e,n=u.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new vn),n.textGroup=n.group.appendChild(new vn),n.rectSelection=yn.select(n.rectGroup).selectAll(),n.textSelection=yn.select(n.textGroup).selectAll(),n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new gy,n.seriesItemEnabled=!0,n.tooltip=new yy,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.directionKeys=((e={})[sr.X]=["xKey"],e[sr.Y]=["yKey"],e),n._xKey="",n._areaPlot=!1,n._bins=void 0,n._aggregation="count",n._binCount=void 0,n._xName="",n._yKey="",n._yName="",n._strokeWidth=1,n.label.enabled=!1,n.label.addEventListener("change",n.scheduleUpdate,n),n}return fy(t,u),t.prototype.getKeys=function(e){var n=this,s=this.directionKeys,l=s&&s[e],g=[];return l&&l.forEach(function(y){var S=n[y];S&&(Array.isArray(S)?g.push.apply(g,Tf(S)):g.push(S))}),g},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,n){this.fill=e[0],this.stroke=n[0]},t.prototype.deriveBins=function(){var e=this,s=this.bins;if(!this.data)return[];if(s)return s;var g=this.data.map(function(P){return P[e.xKey]}),y=this.fixNumericExtent(ao(g,cn),"x"),S=nf(y[0],y[1],this.binCount||10),E=Dc(y[0],y[1],this.binCount||10),D=S[0];return Tf([[D-E,D]],S.map(function(P){return[P,P+E]}))},t.prototype.placeDataInBins=function(e){var n=this,s=this.xKey,l=this.deriveBins(),g=e.slice().sort(function(F,I){return F[s]<I[s]?-1:F[s]>I[s]?1:0}),y=0,S=[new xf(l[0])];e:for(var E=0,D=g.length;E<D;E++){for(var T=g[E];T[s]>l[y][1];){var P=l[++y];if(!P)break e;S.push(new xf(P))}S[y].addDatum(T)}return S.forEach(function(F){return F.calculateAggregatedValue(n._aggregation,n.yKey)}),S},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(n,s){return Math.max(n,s[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,l=this.data;this.binnedData=this.placeDataInBins(this.xKey&&l?l:[]);var y=ao(this.binnedData.map(function(P){return P.getY(e.areaPlot)}),cn);return this.yDomain=this.fixNumericExtent([0,y?y[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===sr.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey})},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},t.prototype.createNodeData=function(){var e=this,s=this.xAxis,l=this.yAxis;if(!this.seriesItemEnabled||!s||!l)return[];var g=s.scale,y=l.scale,S=this,E=S.fill,D=S.stroke,T=S.strokeWidth,P=[],I=this.label,G=I.formatter,j=void 0===G?function(se){return String(se.value)}:G,U=I.fontStyle,z=I.fontWeight,Y=I.fontSize,J=I.fontFamily,ae=I.color;return this.binnedData.forEach(function(se){var ce=se.aggregatedValue,pe=se.frequency,fe=Yc(se.domain,2),Fe=fe[1],Re=se.relativeHeight,_e=g.convert(fe[0]),De=g.convert(Fe),Ce=e.areaPlot?Re:e.yKey?ce:pe,he=y.convert(0),Te=y.convert(Ce),$e=De-_e,it=Math.abs(Te-he),Le=0!==Ce?{text:j({value:se.aggregatedValue}),fontStyle:U,fontWeight:z,fontSize:Y,fontFamily:J,fill:ae,x:_e+$e/2,y:Te+it/2}:void 0;P.push({series:e,datum:se,x:_e,y:Te,width:$e,height:it,fill:E,stroke:D,strokeWidth:T,label:Le})}),P},t.prototype.updateRectSelection=function(e){var n=this.rectSelection.setData(e);n.exit.remove();var s=n.enter.append(Cn).each(function(l){l.tag=us.Bin,l.crisp=!0});this.rectSelection=n.merge(s)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var n=this,s=n.fillOpacity,l=n.strokeOpacity,g=n.shadow,y=n.chart.highlightedDatum,S=n.highlightStyle,P=S.item,F=P.fill,I=void 0===F?S.fill:F,G=P.stroke,j=void 0===G?S.stroke:G,U=P.strokeWidth,z=void 0===U?S.strokeWidth:U;this.rectSelection.each(function(Y,J,ae){var se=J===y,ce=se&&void 0!==z?z:e.getStrokeWidth(J.strokeWidth,J);Y.x=J.x,Y.y=J.y,Y.width=J.width,Y.height=J.height,Y.fill=se&&void 0!==I?I:J.fill,Y.stroke=se&&void 0!==j?j:J.stroke,Y.fillOpacity=s,Y.strokeOpacity=l,Y.strokeWidth=ce,Y.lineDash=e.lineDash,Y.lineDashOffset=e.lineDashOffset,Y.fillShadow=g,Y.zIndex=se?ko.highlightedZIndex:ae,Y.visible=J.height>0,Y.opacity=e.getOpacity(J)})}},t.prototype.updateTextSelection=function(e){var n=this.textSelection.setData(e);n.exit.remove();var s=n.enter.append(zn).each(function(l){l.tag=us.Label,l.pointerEvents=no.None,l.textAlign="center",l.textBaseline="middle"});this.textSelection=n.merge(s)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(n,s){var l=s.label;l&&e?(n.text=l.text,n.x=l.x,n.y=l.y,n.fontStyle=l.fontStyle,n.fontWeight=l.fontWeight,n.fontSize=l.fontSize,n.fontFamily=l.fontFamily,n.fill=l.fill,n.visible=!0):n.visible=!1})},t.prototype.getTooltipHtml=function(e){var n=this,s=n.xKey,l=n.yKey,g=n.xAxis,y=n.yAxis;if(!s||!g||!y)return"";var S=this,E=S.xName,D=S.yName,T=S.fill,F=S.aggregation,I=S.tooltip.renderer,G=e.datum,j=G.aggregatedValue,U=G.frequency,z=Yc(G.domain,2),Y=z[0],J=z[1],ae=Ur(E||s)+": "+g.formatDatum(Y)+" - "+g.formatDatum(J),se=l?"<b>"+Ur(D||l)+" ("+F+")</b>: "+y.formatDatum(j)+"<br>":"",ce={title:ae,backgroundColor:T,content:se+="<b>Frequency</b>: "+U};return I?Zr(I({datum:G,xKey:s,xValue:G.domain,xName:E,yKey:l,yValue:G.aggregatedValue,yName:D,color:T}),ce):Zr(ce)},t.prototype.listSeriesItems=function(e){var n=this,l=n.data,g=n.yKey;l&&l.length&&e.push({id:n.id,itemId:g,enabled:n.seriesItemEnabled,label:{text:n.yName||g||"Frequency"},marker:{fill:n.fill||"rgba(0, 0, 0, 0)",stroke:n.stroke||"rgba(0, 0, 0, 0)",fillOpacity:n.fillOpacity,strokeOpacity:n.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,n){e===this.yKey&&(this.seriesItemEnabled=n),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",Va([be("dataChange")],t.prototype,"fill",void 0),Va([be("dataChange")],t.prototype,"stroke",void 0),Va([be("layoutChange")],t.prototype,"fillOpacity",void 0),Va([be("layoutChange")],t.prototype,"strokeOpacity",void 0),Va([be("update")],t.prototype,"lineDash",void 0),Va([be("update")],t.prototype,"lineDashOffset",void 0),t}(Qr),Kw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ab=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.data=void 0,e}return Kw(t,u),function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([be("dataChange")],t.prototype,"data",void 0),t}(ko),Pb=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),f=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},i=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return Pb(t,u),f([be("change")],t.prototype,"enabled",void 0),f([be("change")],t.prototype,"color",void 0),f([be("change")],t.prototype,"xOffset",void 0),f([be("change")],t.prototype,"yOffset",void 0),f([be("change")],t.prototype,"blur",void 0),t}(ci);function r(u,t,e,n,s){var g=u.value&&(s-e)/u.value;u.children.forEach(function(y){y.x0=t,y.x1=n,y.y0=e,y.y1=e+=y.value*g})}function o(u,t,e,n,s){var g=u.value&&(n-t)/u.value;u.children.forEach(function(y){y.x0=t,y.x1=t+=y.value*g,y.y0=e,y.y1=s})}function c(u){u.x0=Math.round(u.x0),u.y0=Math.round(u.y0),u.x1=Math.round(u.x1),u.y1=Math.round(u.y1)}var w=function u(t){function e(n,s,l,g,y){!function h(u,t,e,n,s,l){for(var P,F,I,G,j,U,z,Y,J,ae,g=[],y=t.children,S=y.length,E=t.value,D=0,T=0;D<S;){P=s-e,F=l-n;do{G=y[T++].value}while(!G&&T<S);for(j=U=G,ae=G*G*(J=Math.max(F/P,P/F)/(E*u)),Y=Math.max(U/ae,ae/j);T<S;++T){if((I=y[T].value)<j&&(j=I),I>U&&(U=I),ae=(G+=I)*G*J,(z=Math.max(U/ae,ae/j))>Y){G-=I;break}Y=z}var se={value:G,dice:P<F,children:y.slice(D,T)};g.push(se),se.dice?o(se,e,n,s,E?n+=F*G/E:l):r(se,e,n,E?e+=P*G/E:s,l),E-=G,D=T}}(t,n,s,l,g,y)}return e.ratio=function(n){return u((n=+n)>1?n:1)},e}((1+Math.sqrt(5))/2),A=function(){function u(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=w,this.paddingInner=function(t){return 0},this.paddingTop=function(t){return 0},this.paddingRight=function(t){return 0},this.paddingBottom=function(t){return 0},this.paddingLeft=function(t){return 0}}return Object.defineProperty(u.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(t){this.dx=t[0],this.dy=t[1]},enumerable:!0,configurable:!0}),u.prototype.processData=function(t){return t.x0=0,t.y0=0,t.x1=this.dx,t.y1=this.dy,t.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&t.eachBefore(c),t},u.prototype.positionNode=function(t){var e=this.paddingStack[t.depth],n=t.x0+e,s=t.y0+e,l=t.x1-e,g=t.y1-e;l<n&&(n=l=(n+l)/2),g<s&&(s=g=(s+g)/2),t.x0=n,t.y0=s,t.x1=l,t.y1=g,t.children&&(e=this.paddingStack[t.depth+1]=this.paddingInner(t)/2,n+=this.paddingLeft(t)-e,s+=this.paddingTop(t)-e,(l-=this.paddingRight(t)-e)<n&&(n=l=(n+l)/2),(g-=this.paddingBottom(t)-e)<s&&(s=g=(s+g)/2),this.tile(t,n,s,l,g))},u}(),x=function(){function u(t){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=t}return u.prototype.countFn=function(t){var e=0,n=t.children;if(n&&n.length)for(var s=n.length;--s>=0;)e+=n[s].value;else e=1;t.value=e},u.prototype.count=function(){return this.eachAfter(this.countFn)},u.prototype.each=function(t,e){var n=this,s=-1;return this.iterator(function(l){t.call(e,l,++s,n)}),this},u.prototype.eachAfter=function(t,e){for(var n=this,s=[n],l=[];n=s.pop();){l.push(n);var g=n.children;if(g)for(var y=0,S=g.length;y<S;++y)s.push(g[y])}for(var E=-1;n=l.pop();)t.call(e,n,++E,this);return this},u.prototype.eachBefore=function(t,e){for(var n=this,s=[n],l=-1;n=s.pop();){t.call(e,n,++l,this);var g=n.children;if(g)for(var y=g.length-1;y>=0;--y)s.push(g[y])}return this},u.prototype.find=function(t,e){var l,n=this,s=-1;return this.iterator(function(g){if(t.call(e,g,++s,n))return l=g,!1}),l},u.prototype.sum=function(t){return this.eachAfter(function(e){var n=+t(e.datum)||0,s=e.children;if(s)for(var l=s.length;--l>=0;)n+=s[l].value;e.value=n})},u.prototype.sort=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},u.prototype.path=function(t){for(var e=this,n=function le(u,t){if(u&&t){if(u===t)return u;var e=u.ancestors(),n=t.ancestors(),s=void 0;for(u=e.pop(),t=n.pop();u===t;)s=u,u=e.pop(),t=n.pop();return s}}(e,t),s=[e];e!==n;)s.push(e=e.parent);for(var l=s.length;t!==n;)s.splice(l,0,t),t=t.parent;return s},u.prototype.ancestors=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},u.prototype.descendants=function(){var t=[];return this.iterator(function(e){return t.push(e)}),t},u.prototype.leaves=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},u.prototype.links=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},u.prototype.copy=function(){},u.prototype.iterator=function(t){var s,e=this,n=[e];e:do{for(s=n.reverse(),n=[];e=s.pop();){if(!1===t(e))break e;var l=e.children;if(l)for(var g=0,y=l.length;g<y;++g)n.push(l[g])}}while(n.length)},u}();function N(u,t){u instanceof Map?(u=[void 0,u],void 0===t&&(t=q)):void 0===t&&(t=te);for(var s,l,g,y,S,e=new x(u),n=[e];s=n.pop();)if((g=t(s.datum))&&(S=(g=Array.from(g)).length))for(s.children=g,y=S-1;y>=0;--y)n.push(l=g[y]=new x(g[y])),l.parent=s,l.depth=s.depth+1;return e.eachBefore(k)}function k(u){var t=0;do{u.height=t}while((u=u.parent)&&u.height<++t)}function q(u){return Array.isArray(u)?u[1]:void 0}function te(u){return u.children}var de=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ye=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},xe=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return de(t,u),ye([be("change")],t.prototype,"renderer",void 0),t}(Mu),Oe=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.padding=10,e}return de(t,u),ye([be("change")],t.prototype,"padding",void 0),t}(On),Ee=(()=>(function(u){u[u.Name=0]="Name",u[u.Value=1]="Value"}(Ee||(Ee={})),Ee))(),Ke=function(u){function t(){var n,e=u.call(this)||this;return e.groupSelection=yn.select(e.pickGroup).selectAll(),e.labelMap=new Map,e.layout=new A,e.title=((n=new Oe).color="white",n.fontWeight="bold",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.padding=15,n),e.subtitle=function(){var n=new Oe;return n.color="white",n.fontSize=9,n.fontFamily="Verdana, sans-serif",n.padding=13,n}(),e.labels={large:function(){var n=new On;return n.color="white",n.fontWeight="bold",n.fontSize=18,n}(),medium:function(){var n=new On;return n.color="white",n.fontWeight="bold",n.fontSize=14,n}(),small:function(){var n=new On;return n.color="white",n.fontWeight="bold",n.fontSize=10,n}(),color:function(){var n=new On;return n.color="white",n}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e._shadow=function(){var n=new i;return n.color="rgba(0, 0, 0, 0.4)",n.xOffset=1.5,n.yOffset=1.5,n}(),e.tooltip=new xe,e.shadow.addEventListener("change",e.scheduleUpdate,e),e.title.addEventListener("change",e.scheduleUpdate,e),e.subtitle.addEventListener("change",e.scheduleUpdate,e),e.labels.small.addEventListener("change",e.scheduleUpdate,e),e.labels.medium.addEventListener("change",e.scheduleUpdate,e),e.labels.large.addEventListener("change",e.scheduleUpdate,e),e.labels.color.addEventListener("change",e.scheduleUpdate,e),e}return de(t,u),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this,n=e.title,s=e.subtitle,l=e.nodePadding,g=e.labelKey;this.layout.paddingRight=function(y){return l},this.layout.paddingBottom=function(y){return l},this.layout.paddingLeft=function(y){return l},this.layout.paddingTop=function(y){var S=y.datum[g]||"";y.children&&(S=S.toUpperCase());var E=y.depth>1?s:n,D=Da.getTextSize(S,[E.fontWeight,E.fontSize+"px",E.fontFamily].join(" ").trim()),P=y.depth>0&&y.children&&D.width<=y.x1-y.x0-2*l;return y.hasTitle=!!P,P?D.height+2*l:l}},t.prototype.processData=function(){if(!this.data)return!1;var D,e=this,n=e.data,s=e.sizeKey,l=e.labelKey,g=e.colorKey,y=e.colorDomain,S=e.colorRange,E=e.colorParents;D=s?N(n).sum(function(I){return I.children?1:I[s]}):N(n).sum(function(I){return I.children?0:1}),this.dataRoot=D;var T=new un;T.domain=y,T.range=S;var P=this;return function F(I,G){void 0===G&&(G=0);var j=I.children,U=I.datum,z=U[l],Y=g?U[g]:G;I.series=P,I.fill=!j||E?T.convert(Y):"#272931",I.colorValue=Y,I.label=z?j?z.toUpperCase():z:"",j&&j.forEach(function(J){return F(J,G+1)})}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var n=this.chart,s=this.dataRoot;if(n&&s){var l=n.getSeriesRect();if(l){this.layout.size=[l.width,l.height],this.updateLayoutPadding();var g=this.layout.processData(s).descendants(),y=this.groupSelection.setData(g);y.exit.remove();var S=y.enter.append(vn);S.append(Cn),S.append(zn).each(function(E){return E.tag=Ee.Name}),S.append(zn).each(function(E){return E.tag=Ee.Value}),this.groupSelection=y.merge(S)}}}},t.prototype.updateNodes=function(){var e=this;if(this.chart){var n=this,s=n.colorKey,l=n.labelMap,g=n.nodePadding,y=n.title,S=n.subtitle,E=n.labels,D=n.shadow,T=n.gradient,P=n.chart.highlightedDatum,F=n.highlightStyle,U=F.item,z=U.fill,Y=void 0===z?F.fill:z,J=U.stroke,ae=void 0===J?F.stroke:J,se=U.strokeWidth,ce=void 0===se?F.strokeWidth:se;this.groupSelection.selectByClass(Cn).each(function(pe,fe){var we=fe===P,Fe=we&&void 0!==Y?Y:fe.fill,Re=we&&void 0!==ae?ae:fe.depth<2?void 0:"black",_e=we&&void 0!==ce?ce:e.getStrokeWidth(1,fe);pe.fill=Fe,pe.stroke=Re,pe.strokeWidth=_e,pe.crisp=!0,pe.gradient=T,pe.x=fe.x0,pe.y=fe.y0,pe.width=fe.x1-fe.x0,pe.height=fe.y1-fe.y0}),this.groupSelection.selectByTag(Ee.Name).each(function(pe,fe,we){var he,Fe=!fe.children,Re=fe.x1-fe.x0-2*g,_e=fe.y1-fe.y0-2*g,De=fe.hasTitle,Ce=fe===P;pe.fontWeight=(he=Fe?Re>40&&_e>40?E.large:Re>20&&_e>20?E.medium:E.small:fe.depth>1?S:y).fontWeight,pe.fontSize=he.fontSize,pe.fontFamily=he.fontFamily,pe.textBaseline=Fe?"bottom":De?"top":"middle",pe.textAlign=De?"left":"center",pe.text=fe.label;var Te=pe.computeBBox(),$e=Fe&&!!Te&&Te.width<=Re&&2*Te.height+8<=_e;l.set(we,pe),pe.fill=Ce?"black":he.color,pe.fillShadow=$e&&!Ce?D:void 0,pe.visible=De||$e,De?(pe.x=fe.x0+g,pe.y=fe.y0+g):(pe.x=e.getLabelCenterX(fe),pe.y=e.getLabelCenterY(fe))}),this.groupSelection.selectByTag(Ee.Value).each(function(pe,fe,we){var Fe=!fe.children,Re=fe.x1-fe.x0-2*g,_e=fe===P,De=fe.colorValue,Ce=E.color;pe.fontSize=Ce.fontSize,pe.fontFamily=Ce.fontFamily,pe.fontStyle=Ce.fontStyle,pe.fontWeight=Ce.fontWeight,pe.textBaseline="top",pe.textAlign="center",pe.text="number"==typeof De&&isFinite(De)?String(ew(fe.colorValue))+"%":"";var he=pe.computeBBox(),Te=l.get(we),it=Fe&&!!s&&!!Te&&Te.visible&&!!he&&he.width<Re;pe.fill=_e?"black":Ce.color,pe.fillShadow=_e?void 0:D,pe.visible=it,it?(pe.x=e.getLabelCenterX(fe),pe.y=e.getLabelCenterY(fe)):Te&&(!fe.children||!fe.children.length)&&(Te.textBaseline="middle",Te.y=e.getLabelCenterY(fe))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},t.prototype.getTooltipHtml=function(e){var n=this,l=n.sizeKey,g=n.labelKey,y=n.colorKey,S=n.colorName,D=e.datum,T=n.tooltip.renderer,P=e.depth?D[g]:n.rootName||D[g],F=void 0,I=e.fill||"gray";if(y&&S){var G=D[y];"number"==typeof G&&isFinite(G)&&(F="<b>"+S+"</b>: "+ew(D[y]))}var j={title:P,backgroundColor:I,content:F};return T?Zr(T({datum:e,sizeKey:l,labelKey:g,colorKey:y,title:P,color:I}),j):Zr(j)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",ye([be("dataChange")],t.prototype,"labelKey",void 0),ye([be("dataChange")],t.prototype,"sizeKey",void 0),ye([be("dataChange")],t.prototype,"colorKey",void 0),ye([be("dataChange")],t.prototype,"colorDomain",void 0),ye([be("dataChange")],t.prototype,"colorRange",void 0),ye([be("dataChange")],t.prototype,"colorParents",void 0),ye([be("update")],t.prototype,"gradient",void 0),t}(Ab),pt=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mt=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=2*Math.PI,e._angleOffset=0,e}return pt(t,u),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new Tr(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isFullPie=function(){return JC(Ks(this.startAngle),Ks(this.endAngle))},t.prototype.updatePath=function(){var e=this.path,n=this.angleOffset,s=Math.min(this.startAngle,this.endAngle)+n,l=Math.max(this.startAngle,this.endAngle)+n,g=.5*(s+l),y=Math.min(this.innerRadius,this.outerRadius),S=Math.max(this.innerRadius,this.outerRadius),E=this.centerOffset,D=this.isFullPie(),T=this.centerX,P=this.centerY;if(e.clear(),E&&(T+=E*Math.cos(g),P+=E*Math.sin(g)),D||(e.moveTo(T+y*Math.cos(s),P+y*Math.sin(s)),e.lineTo(T+S*Math.cos(s),P+S*Math.sin(s))),e.cubicArc(T,P,S,S,0,s,l,0),D)e.moveTo(T+y*Math.cos(l),P+y*Math.sin(l));else{var F=T+y*Math.cos(l);e.lineTo(Math.abs(F)<1e-8?0:F,P+y*Math.sin(l))}e.cubicArc(T,P,y,y,0,l,s,1),e.closePath(),this.dirtyPath=!1},t.className="Sector",t}(kn),ut=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ze=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Mt=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Tt=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Mt(arguments[t]));return u},zr=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return ut(t,u),t}(Eb),ar=(()=>(function(u){u[u.Sector=0]="Sector",u[u.Callout=1]="Callout",u[u.Label=2]="Label"}(ar||(ar={})),ar))(),cs=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return ut(t,u),ze([be("change")],t.prototype,"offset",void 0),ze([be("dataChange")],t.prototype,"minAngle",void 0),ze([be("dataChange")],t.prototype,"formatter",void 0),t}(On),ps=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return ut(t,u),ze([be("change")],t.prototype,"colors",void 0),ze([be("change")],t.prototype,"length",void 0),ze([be("change")],t.prototype,"strokeWidth",void 0),t}(ci),yi=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return ut(t,u),ze([be("change")],t.prototype,"renderer",void 0),t}(Mu),ta=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.showInLegend=!1,e}return ut(t,u),ze([be()],t.prototype,"showInLegend",void 0),t}(dv),xl=function(u){function t(){var n,e=u.call(this)||this;return e.radiusScale=new un,e.groupSelection=yn.select(e.pickGroup).selectAll(),e.groupSelectionData=[],e.angleScale=((n=new un).domain=[0,1],n.range=[-Math.PI,Math.PI].map(function(s){return s+Math.PI/2}),n),e.seriesItemEnabled=[],e.label=new cs,e.callout=new ps,e.tooltip=new yi,e.angleKey="",e.angleName="",e._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.highlightStyle=new zr,e.addEventListener("update",e.scheduleUpdate,e),e.label.addEventListener("change",e.scheduleUpdate,e),e.label.addEventListener("dataChange",e.scheduleData,e),e.callout.addEventListener("change",e.scheduleLayout,e),e.addPropertyListener("data",function(n){n.value&&(n.source.seriesItemEnabled=n.value.map(function(){return!0}))}),e}return ut(t,u),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var n=this._title;function s(){this.fireEvent({type:"legendChange"})}n!==e&&(n&&(n.removeEventListener("change",this.scheduleUpdate,this),n.removePropertyListener("showInLegend",s,this),this.group.removeChild(n.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",s,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,n){this.fills=e,this.strokes=n,this.callout.colors=n},t.prototype.getDomain=function(e){return e===sr.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var Re,e=this,n=this,s=n.angleKey,l=n.radiusKey,g=n.seriesItemEnabled,y=n.angleScale,S=n.groupSelectionData,E=n.label,D=s&&this.data?this.data:[],T=D.map(function(Re,_e){return g[_e]&&Math.abs(+Re[s])||0}),P=T.reduce(function(Re,_e){return Re+_e},0),F=(Re=0,T.map(function(_e){return Re+=_e/P})),I=E.formatter,G=E.enabled&&this.labelKey,j=[],U=[];if(G&&(j=D.map(I?function(Re){return I({value:Re[G]})}:function(Re){return String(Re[G])})),l){var Y=this.radiusMin,J=this.radiusMax,ae=D.map(function(Re){return Math.abs(Re[l])}),se=void 0!==Y?Y:Math.min.apply(Math,Tt(ae)),pe=(void 0!==J?J:Math.max.apply(Math,Tt(ae)))-se;U=ae.map(function(Re){return pe?(Re-se)/pe:1})}S.length=0;var fe=mn(this.rotation),we=Math.PI/2,Fe=0;return F.reduce(function(Re,_e){var dt,tt,De=l?U[Fe]:1,Ce=y.convert(Re)+fe,he=y.convert(_e)+fe,Te=(Ce+he)/2,$e=Math.abs(he-Ce),it=Math.cos(Te),Le=Math.sin(Te),Je=mn(E.minAngle),He=G&&$e>Je,at=function MO(u){return(u%=$s)<-Math.PI?u+=$s:u>=Math.PI&&(u-=$s),u}(Te),qe=-3*Math.PI/4;return at>=qe&&at<(qe+=we)?(dt="center",tt="bottom"):at>=qe&&at<(qe+=we)?(dt="left",tt="middle"):at>=qe&&at<(qe+=we)?(dt="center",tt="hanging"):(dt="right",tt="middle"),S.push({series:e,datum:D[Fe],itemId:Fe,index:Fe,radius:De,startAngle:Ce,endAngle:he,midAngle:Te,midCos:it,midSin:Le,label:He?{text:j[Fe],textAlign:dt,textBaseline:tt}:void 0}),Fe++,_e},0),!0},t.prototype.update=function(){this.updatePending=!1;var e=this,n=e.radius,s=e.innerRadiusOffset,l=e.outerRadiusOffset,g=e.title;this.radiusScale.range=[s?n+s:0,n+(l||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,g&&(0===Math.max(0,this.radiusScale.range[1])?g.node.visible=!1:(g.node.translationY=-n-l-2,g.node.visible=g.enabled)),this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateGroupSelection())},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var n=e.enter.append(vn);n.append(mt).each(function(s){return s.tag=ar.Sector}),n.append(Fo).each(function(s){s.tag=ar.Callout,s.pointerEvents=no.None}),n.append(zn).each(function(s){s.tag=ar.Label,s.pointerEvents=no.None}),this.groupSelection=e.merge(n)},t.prototype.updateNodes=function(){var e=this;if(this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var n=this,s=n.fills,l=n.strokes,g=n.fillOpacity,y=n.strokeOpacity,S=n.radiusScale,E=n.callout,D=n.shadow,T=n.chart.highlightedDatum,P=n.highlightStyle,j=P.item,U=j.fill,z=void 0===U?P.fill:U,Y=j.stroke,J=void 0===Y?P.stroke:Y,ae=j.strokeWidth,se=void 0===ae?P.strokeWidth:ae,ce=n.angleKey,pe=n.radiusKey,fe=n.formatter,we=[],Fe=S.convert(0);this.groupSelection.selectByTag(ar.Sector).each(function(He,at,qe){var dt=S.convert(at.radius),tt=!!T&&T.series===e&&at.itemId===T.itemId,_r=tt&&void 0!==z?z:s[qe%s.length],Or=tt&&void 0!==J?J:l[qe%l.length],wi=tt&&void 0!==se?se:e.getStrokeWidth(e.strokeWidth),Sr=void 0;fe&&(Sr=fe({datum:at.datum,angleKey:ce,radiusKey:pe,fill:_r,stroke:Or,strokeWidth:wi,highlighted:tt}));var Dr=He.parent&&He.parent.parent;tt&&Dr&&(Dr.removeChild(He.parent),Dr.appendChild(He.parent)),He.innerRadius=Math.max(0,Fe),He.outerRadius=Math.max(0,dt),He.startAngle=at.startAngle,He.endAngle=at.endAngle,He.fill=Sr&&Sr.fill||_r,He.stroke=Sr&&Sr.stroke||Or,He.strokeWidth=Sr&&void 0!==Sr.strokeWidth?Sr.strokeWidth:wi,He.fillOpacity=g,He.strokeOpacity=y,He.lineDash=e.lineDash,He.lineDashOffset=e.lineDashOffset,He.fillShadow=D,He.lineJoin="round",He.opacity=e.getOpacity(),we.push(He.centerOffset)});var Re=E.colors,_e=E.length,De=E.strokeWidth;this.groupSelection.selectByTag(ar.Callout).each(function(He,at,qe){var dt=S.convert(at.radius),tt=Math.max(0,dt);at.label&&0!==tt?(He.strokeWidth=De,He.stroke=Re[qe%Re.length],He.x1=at.midCos*tt,He.y1=at.midSin*tt,He.x2=at.midCos*(tt+_e),He.y2=at.midSin*(tt+_e)):He.stroke=void 0});var Ce=this.label,he=Ce.offset,Te=Ce.fontStyle,$e=Ce.fontWeight,it=Ce.fontSize,Le=Ce.fontFamily,Je=Ce.color;this.groupSelection.selectByTag(ar.Label).each(function(He,at,qe){var dt=at.label,tt=S.convert(at.radius),_r=Math.max(0,tt);if(dt&&0!==_r){var Or=we[qe]+_r+_e+he;He.fontStyle=Te,He.fontWeight=$e,He.fontSize=it,He.fontFamily=Le,He.text=dt.text,He.x=at.midCos*Or,He.y=at.midSin*Or,He.fill=Je,He.textAlign=dt.textAlign,He.textBaseline=dt.textBaseline}else He.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var n=this.angleKey;if(!n)return"";var s=this,l=s.fills,y=s.angleName,S=s.radiusKey,E=s.radiusName,D=s.labelKey,T=s.labelName,P=s.tooltip.renderer,F=l[e.index%l.length],I=e.datum,G=D?I[D]+": ":"",j=I[n],U="number"==typeof j?ew(j):j.toString(),z=this.title?this.title.text:void 0,J={title:z,backgroundColor:F,content:G+U};return P?Zr(P({datum:I,angleKey:n,angleValue:j,angleName:y,radiusKey:S,radiusValue:S?I[S]:void 0,radiusName:E,labelKey:D,labelName:T,title:z,color:F}),J):Zr(J)},t.prototype.listSeriesItems=function(e){var n=this,l=this.labelKey,g=this.data;if(g&&g.length&&l){var y=this,S=y.fills,E=y.strokes,D=y.id,T=this.title&&this.title.showInLegend&&this.title.text;g.forEach(function(P,F){var I=[];T&&I.push(T),I.push(String(P[l])),e.push({id:D,itemId:F,enabled:n.seriesItemEnabled[F],label:{text:I.join(" - ")},marker:{fill:S[F%S.length],stroke:E[F%E.length],fillOpacity:n.fillOpacity,strokeOpacity:n.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled[e]=n,this.scheduleData()},t.className="PieSeries",t.type="pie",ze([be("dataChange")],t.prototype,"angleKey",void 0),ze([be("update")],t.prototype,"angleName",void 0),ze([be("dataChange")],t.prototype,"radiusKey",void 0),ze([be("update")],t.prototype,"radiusName",void 0),ze([be("dataChange")],t.prototype,"radiusMin",void 0),ze([be("dataChange")],t.prototype,"radiusMax",void 0),ze([be("dataChange")],t.prototype,"labelKey",void 0),ze([be("update")],t.prototype,"labelName",void 0),ze([be("layoutChange")],t.prototype,"fillOpacity",void 0),ze([be("layoutChange")],t.prototype,"strokeOpacity",void 0),ze([be("update")],t.prototype,"lineDash",void 0),ze([be("update")],t.prototype,"lineDashOffset",void 0),ze([be("update")],t.prototype,"formatter",void 0),ze([be("dataChange")],t.prototype,"rotation",void 0),ze([be("layoutChange")],t.prototype,"outerRadiusOffset",void 0),ze([be("dataChange")],t.prototype,"innerRadiusOffset",void 0),ze([be("layoutChange")],t.prototype,"strokeWidth",void 0),ze([be("layoutChange")],t.prototype,"shadow",void 0),t}(Js);new hi(function my(u){u.setUTCSeconds(0,0)},function Tb(u,t){u.setTime(u.getTime()+t*po)},function HO(u,t){return(t.getTime()-u.getTime())/po},function WO(u){return u.getUTCMinutes()}),new hi(function SR(u){u.setUTCMinutes(0,0,0)},function jO(u,t){u.setTime(u.getTime()+t*Ma)},function Vt(u,t){return(t.getTime()-u.getTime())/Ma},function UO(u){return u.getUTCHours()}),new hi(function Mb(u){u.setUTCDate(1),u.setUTCHours(0,0,0,0)},function zO(u,t){u.setUTCMonth(u.getUTCMonth()+t)},function $O(u,t){return t.getUTCMonth()-u.getUTCMonth()+12*(t.getUTCFullYear()-u.getUTCFullYear())},function KO(u){return u.getUTCMonth()});var Ft=function(){return Ft=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Ft.apply(this,arguments)},qO={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Iu={arrayMerge:function ER(u,t,e){return t},isMergeableObject:function OR(u){return Cl(u)&&!(u instanceof yd)}},Nd=function(){function u(t){var e=(t=pi({},t||{},Iu)).overrides,n=void 0===e?null:e,s=t.palette,l=void 0===s?null:s,g=this.createChartConfigPerSeries(this.getDefaults());if(n){var y=n.common,S=n.cartesian,E=n.polar,D=n.hierarchy,T=function(F,I,G){G&&(g[F]=pi(g[F],G,Iu),I.forEach(function(j){g[j]=pi(g[j],G,Iu)}))};T("common",Object.keys(g),y),T("cartesian",u.cartesianSeriesTypes,S),T("polar",u.polarSeriesTypes,E),T("hierarchy",u.hierarchySeriesTypes,D);var P={};u.seriesTypes.forEach(function(F){var I=n[F];I&&(I.series&&(P[F]=I.series,I.series=P),g[F]=pi(g[F],I,Iu))})}this.palette=null!=l?l:this.getPalette(),this.config=Object.freeze(g)}return u.prototype.getPalette=function(){return qO},u.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},u.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},u.getBarSeriesDefaults=function(){return Ft(Ft({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},u.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return Ft(Ft({},t),{tooltip:Ft(Ft({},t.tooltip),{format:void 0})})},u.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},u.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:fi.defaultTooltipClass}}},u.prototype.createChartConfigPerSeries=function(t){return Object.entries({cartesian:u.cartesianSeriesTypes,polar:u.polarSeriesTypes,hierarchy:u.hierarchySeriesTypes,groupedCategory:[]}).forEach(function(n){var s=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(n,2),l=s[0];s[1].forEach(function(y){t[y]||(t[y]=pi({},t[l],Iu))})}),t},u.prototype.getConfig=function(t,e){var n=function YS(u,t,e){var n=Array.isArray(t)?t:t.split("."),s=u;try{n.forEach(function(l){s=s[l]})}catch(l){if(3!==arguments.length)throw l;s=e}return s}(this.config,t,e);return Array.isArray(n)?pi([],n,Iu):function pv(u){return"object"==typeof u&&!Array.isArray(u)}(n)?pi({},n,Iu):n},u.prototype.getDefaults=function(){return pi({},u.defaults,Iu)},u.prototype.mergeWithParentDefaults=function(t,e){return pi(t,e,Iu)},u.fontFamily="Verdana, sans-serif",u.cartesianDefaults=Ft(Ft({},u.getChartDefaults()),{axes:{number:Ft({},u.getAxisDefaults()),log:Ft(Ft({},u.getAxisDefaults()),{base:10}),category:Ft({},u.getAxisDefaults()),groupedCategory:Ft({},u.getAxisDefaults()),time:Ft({},u.getAxisDefaults())},series:{column:Ft(Ft({},u.getBarSeriesDefaults()),{flipXY:!1}),bar:Ft(Ft({},u.getBarSeriesDefaults()),{flipXY:!0}),line:Ft(Ft({},u.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Ft({},u.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:u.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Ft(Ft({},u.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:Ft({},u.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:u.fontFamily,color:"rgb(70, 70, 70)"}}),area:Ft(Ft({},u.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Ft(Ft({},u.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:u.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Ft(Ft({},u.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:u.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),u.polarDefaults=Ft(Ft({},u.getChartDefaults()),{series:{pie:Ft(Ft({},u.getSeriesDefaults()),{title:{enabled:!0,padding:{top:10,right:10,bottom:10,left:10},text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:u.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:u.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),u.hierarchyDefaults=Ft(Ft({},u.getChartDefaults()),{series:{treemap:Ft(Ft({},u.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}}),u.defaults={cartesian:u.cartesianDefaults,groupedCategory:u.cartesianDefaults,polar:u.polarDefaults,hierarchy:u.hierarchyDefaults},u.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],u.polarSeriesTypes=["pie"],u.hierarchySeriesTypes=["treemap"],u.seriesTypes=u.cartesianSeriesTypes.concat(u.polarSeriesTypes).concat(u.hierarchySeriesTypes),u}(),AR=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jr=function(){return Jr=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Jr.apply(this,arguments)},Cy=function(u){function t(e){return u.call(this,e)||this}return AR(t,u),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",n="rgb(150, 150, 150)",s={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},l={label:{color:e}},g={axes:{number:Jr({},s),category:Jr({},s),time:Jr({},s)}},y={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:n},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults(u.prototype.getDefaults.call(this),{cartesian:Jr(Jr(Jr({},y),g),{series:{bar:Jr({},l),column:Jr({},l),histogram:Jr({},l)}}),groupedCategory:Jr(Jr(Jr({},y),g),{series:{bar:Jr({},l),column:Jr({},l),histogram:Jr({},l)}}),polar:Jr(Jr({},y),{series:{pie:Jr(Jr({},l),{title:{color:e}})}}),hierarchy:Jr(Jr({},y),{series:{treemap:{title:{color:e},subtitle:{color:n},labels:{large:{color:e},medium:{color:e},small:{color:e},color:{color:e}}}}})})},t}(Nd),PR=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TR={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},xR=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return PR(t,u),t.prototype.getPalette=function(){return TR},t}(Nd),MR=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),FR={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},IR=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return MR(t,u),t.prototype.getPalette=function(){return FR},t}(Cy),NR=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LR={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},ZO=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return NR(t,u),t.prototype.getPalette=function(){return LR},t}(Nd),QO=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JO={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},e0=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return QO(t,u),t.prototype.getPalette=function(){return JO},t}(Cy),t0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),r0={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},n0=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return t0(t,u),t.prototype.getPalette=function(){return r0},t}(Nd),o0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),s0={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},a0=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return o0(t,u),t.prototype.getPalette=function(){return s0},t}(Cy),l0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ld={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},GR=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return l0(t,u),t.prototype.getPalette=function(){return Ld},t}(Nd),kR=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mf={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},JT=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return kR(t,u),t.prototype.getPalette=function(){return Mf},t}(Cy),Zn=function(){return Zn=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Zn.apply(this,arguments)},Fb=new Nd,qw=new Cy,u0={undefined:Fb,null:Fb,"ag-default":Fb,"ag-material":new xR,"ag-pastel":new ZO,"ag-solar":new n0,"ag-vivid":new GR},ex={undefined:qw,null:qw,"ag-default-dark":qw,"ag-material-dark":new IR,"ag-pastel-dark":new e0,"ag-solar-dark":new a0,"ag-vivid-dark":new JT},Qe=Zn(Zn({},ex),u0);function Ff(u){return u instanceof Nd?u:Qe[u]||((u=u).baseTheme||u.overrides||u.palette?new(Ff(u.baseTheme).constructor)(u):Fb)}var VR=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ib=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},wy=function(u){return u},BR=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=wy,e.basePow=wy,e._base=10,e}return VR(t,u),t.prototype.setDomain=function(e){var n=e[0],s=e[e.length-1];(0===n||0===s||n<0&&s>0||n>0&&s<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===n&&s>0?n=Number.EPSILON:0===s&&n<0?s=-Number.EPSILON:n<0&&s>0?Math.abs(s)>=Math.abs(n)?n=Number.EPSILON:s=-Number.EPSILON:n>0&&s<0&&(Math.abs(s)>=Math.abs(n)?n=-Number.EPSILON:s=Number.EPSILON),(e=e.slice())[0]=n,e[e.length-1]=s),u.prototype.setDomain.call(this,e)},t.prototype.getDomain=function(){return u.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var e=this.base,n=t.makeLogFn(e),s=t.makePowFn(e);this.domain[0]<0?(n=this.reflect(n),s=this.reflect(s),this.transform=function(l){return-Math.log(-l)},this.untransform=function(l){return-Math.exp(-l)}):(this.transform=function(l){return Math.log(l)},this.untransform=function(l){return Math.exp(l)}),this.baseLog=n,this.basePow=s,u.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(n){return-e(-n)}},t.prototype.nice=function(){var e,n,s=this.domain,l=0,g=s.length-1,y=s[l],S=s[g];S<y&&(l=(e=Ib([g,l],2))[0],g=e[1],y=(n=Ib([S,y],2))[0],S=n[1]),s[l]=this.basePow(Math.floor(this.baseLog(y))),s[g]=this.basePow(Math.ceil(this.baseLog(S))),this.domain=s},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(n){return Math.pow(e,n)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var n=Math.log(e);return function(s){return Math.log(s)/n}},t.prototype.ticks=function(e){var n;void 0===e&&(e=10);var s=null==e?10:+e,l=this.base,g=this.domain,y=g[0],S=g[g.length-1],E=S<y;E&&(y=(n=Ib([S,y],2))[0],S=n[1]);var D=this.baseLog(y),T=this.baseLog(S),P=[];if(!(l%1)&&T-D<s){if(D=Math.round(D)-1,T=Math.round(T)+1,y>0){for(;D<T;++D)for(var F=1,I=this.basePow(D);F<l;++F)if(!((G=I*F)<y)){if(G>S)break;P.push(G)}}else for(;D<T;++D)for(F=l-1,I=this.basePow(D);F>=1;--F){var G;if(!((G=I*F)<y)){if(G>S)break;P.push(G)}}2*P.length<s&&(P=nf(y,S,s))}else P=nf(D,T,Math.min(T-D,s)).map(this.basePow);return E?P.reverse():P},t.prototype.tickFormat=function(e,n){var s=this,l=this.base;if(null==n&&(n=10===l?".0e":","),"function"!=typeof n&&(n=bv(n)),e===1/0)return n;null==e&&(e=10);var g=Math.max(1,l*e/this.ticks().length);return function(y){var S=y/s.basePow(Math.round(s.baseLog(y)));return S*l<l-.5&&(S*=l),S<=g?n(y):""}},t}(so),Xw=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_y=function(u){function t(){var e=u.call(this)||this;return e.scale=new BR,e.scale.clamper=Eu,e}return Xw(t,u),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(Io),Er=function(){return Er=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Er.apply(this,arguments)},tx=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Xc=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(tx(arguments[t]));return u},c0=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Sy(u,t,e){var n,s,l=(e||{}).stringify,g=void 0===l?[]:l,y=na(u);if("array"===na(t))return"array"!==y||u.length!==t.length||t.some(function(z,Y){var J;return null!=Sy(null===(J=u)||void 0===J?void 0:J[Y],z)})?Xc(t):null;var E=u||{},D=t||{},T=new Set(Xc(Object.keys(E),Object.keys(D))),P=0,F={},I=function(z){if(E[z]===D[z])return"continue";var Y=function(ce){F[z]=ce,P++};if(g.includes(z))return JSON.stringify(E[z]!==JSON.stringify(D[z]))&&Y(D[z]),"continue";var J=na(E[z]),ae=na(D[z]);if(J!==ae||"primitive"===ae||null===ae||"array"===ae&&E[z].length!==D[z].length||"class-instance"===ae||"function"===ae&&E[z]!==D[z])return Y(D[z]),"continue";var se=Sy(E[z],D[z],{stringify:g});null!==se&&Y(se)};try{for(var G=c0(T),j=G.next();!j.done;j=G.next())I(j.value)}catch(z){n={error:z}}finally{try{j&&!j.done&&(s=G.return)&&s.call(G)}finally{if(n)throw n.error}}return 0===P?null:F}var Nu=Symbol("<delete-property>"),Nb=Symbol("<unspecified-property>");function ra(){for(var u,t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var s=e.map(function(P){return na(P)});if(s.some(function(P){return"array"===P})){var l=e[e.length-1];return l instanceof Array?l.map(function(P){var F=na(P);return"array"===F?ra([],P):"object"===F?ra({},P):P}):l}var g={},y=new Set(e.map(function(P){return null!=P?Object.keys(P):[]}).reduce(function(P,F){return P.concat(F)},[])),S=function(P){var F=e.map(function(U){return null!=U&&P in U?U[P]:Nb}).filter(function(U){return U!==Nb});if(0===F.length)return"continue";var I=F[F.length-1];if(I===Nu)return"continue";var G=F.map(function(U){return na(U)}),j=G[0];if(G.some(function(U){return U!==j&&null!==U}))return g[P]=I,"continue";g[P]="array"===j||"object"===j?ra.apply(void 0,Xc(F)):I};try{for(var E=c0(y),D=E.next();!D.done;D=E.next()){var T=D.value;S(T)}}catch(P){u={error:P}}finally{try{D&&!D.done&&(t=E.return)&&t.call(E)}finally{if(u)throw u.error}}return g}function Zc(u,t,e){void 0===e&&(e={});var n,s,l,g=e.path,y=void 0===g?void 0:g,S=e.matcherPath,E=void 0===S?y?y.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:S,D=e.skip,T=void 0===D?[]:D,P=e.constructors,F=void 0===P?{}:P,I=e.allowedTypes,G=void 0===I?{}:I;if(null==u)throw new Error("AG Charts - target is uninitialised: "+(y||"<root>"));if(null==t)return u;var j=na(u);for(var U in t)if(!(T.indexOf(U)>=0)){var z=t[U],Y=(y?y+".":"")+U,J=(E?E+".":"")+U,ae=u,se=ae.constructor,ce=ae[U],pe=F[U];try{var fe=na(ce),we=na(z);if("class-instance"===j&&!(U in u)&&!ae.hasOwnProperty(U)){console.warn("AG Charts - unable to set ["+Y+"] in "+(null===(n=se)||void 0===n?void 0:n.name)+" - property is unknown");continue}var Fe=G[J]||[fe];if(("class-instance"!==fe||"object"!==we)&&null!=fe&&null!=we&&!Fe.includes(we)){console.warn("AG Charts - unable to set ["+Y+"] in "+(null===(s=se)||void 0===s?void 0:s.name)+" - can't apply type of ["+we+"], allowed types are: ["+Fe+"]");continue}"array"===we||"class-instance"===we?ae[U]=z:"object"===we?null!=ce?Zc(ce,z,Er(Er({},e),{path:Y,matcherPath:J})):ae[U]=null!=pe?Zc(new pe,z,Er(Er({},e),{path:Y,matcherPath:J})):z:ae[U]=z}catch(Re){console.warn("AG Charts - unable to set ["+Y+"] in ["+(null===(l=se)||void 0===l?void 0:l.name)+"]; nested error is: "+Re.message);continue}}return u}function Lb(u,t,e){for(var n=[],s=3;s<arguments.length;s++)n[s-3]=arguments[s];var l,g=na(u),y=e.skip||[];if("array"!==g){if("object"===g){t.apply(void 0,Xc([g,u],n));var S=function(D){if(y.indexOf(D)>=0)return"continue";var T=u[D],P=null===(l=n)||void 0===l?void 0:l.map(function(I){var G;return null===(G=I)||void 0===G?void 0:G[D]}),F=na(T);("object"===F||"array"===F)&&Lb.apply(void 0,Xc([T,t,e],P))};for(var E in u)S(E)}}else u.forEach(function(D,T){var P;Lb.apply(void 0,Xc([D,t,e],null===(P=n)||void 0===P?void 0:P.map(function(F){var I;return null===(I=F)||void 0===I?void 0:I[T]})))})}function na(u){return null==u?null:u instanceof HTMLElement?"primitive":u instanceof Array?"array":u instanceof Date?"primitive":"object"==typeof u&&u.constructor===Object?"object":"function"==typeof u?"function":"object"==typeof u&&null!=u.constructor?"class-instance":"primitive"}var HR={type:"cartesian",axes:[{type:Io.type,position:xt.Left},{type:uo.type,position:xt.Bottom}]},by={axes:[{type:"number",position:xt.Bottom},{type:"category",position:xt.Left}]},p0={axes:[{type:"number",position:xt.Bottom},{type:"number",position:xt.Left}]},If=function(){return If=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},If.apply(this,arguments)};function Ey(u){return null!=u&&u instanceof Array&&u[0]instanceof Array}function d0(u,t){if(null==u)return{};if(!(u instanceof Array))return u;var e=t.yKeys;if(null==e||Ey(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var n={};return e.forEach(function(s,l){n[s]=u[l]}),n}function h0(u,t){return null==u?[[]]:Ey(u)?u:t.grouped?u.map(function(e){return[e]}):[u]}function f0(u){if(null!=u){var t=u.placement;return If(If({},u),{placement:"inside"===t?Tl.Inside:"outside"===t?Tl.Outside:void 0})}}function g0(u){var t=If(If({},u),{yKeys:u.yKeys||[u.yKey]});return delete t.yKey,function WR(u,t){var e={};for(var n in u)e[n]=(t[n]||function(l){return l})(u[n],u);return e}(t,{yNames:d0,yKeys:h0,label:f0})}function Ml(u){return u}var Oy={area:Ml,bar:g0,column:g0,histogram:Ml,line:Ml,pie:Ml,scatter:Ml,treemap:Ml};function jR(u){return(0,Oy[u.type||"line"])(u)}var Zw=function(){return Zw=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Zw.apply(this,arguments)},Gb=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},v0=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Qw=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(v0(arguments[t]));return u};function m0(u,t){var e,n,s={},l=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],g=["yKey","fill","stroke","yName"];try{for(var y=Gb(u),S=y.next();!S.done;S=y.next()){var E=S.value;for(var D in E){var T=l.indexOf(D)>-1,P=g.indexOf(D)>-1;T&&E[D].length>0?s[D]=Qw(s[D]||[],E[D]):P?s[D+"s"]=Qw(s[D+"s"]||[],[E[D]]):t&&"showInLegend"===D?!1===E[D]&&(s.hideInLegend=Qw(s.hideInLegend||[],E.yKey?[E.yKey]:E.yKeys)):t&&"grouped"===D?!0===E[D]&&(s[D]=E[D]):s[D]=E[D]}}}catch(F){e={error:F}}finally{try{S&&!S.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return s}var Qc=function(){return Qc=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Qc.apply(this,arguments)},rx=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},zR=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(rx(arguments[t]));return u};function Dy(u){var t,e;return u.type||(null===(e=null===(t=u.series)||void 0===t?void 0:t[0])||void 0===e?void 0:e.type)||"cartesian"}function Gd(u){var t=Dy(u);if(null==t)return!0;switch(t){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function Ry(u){if(null==Dy(u))return!1;switch(u.type){case"hierarchy":case"treemap":return!0;default:return!1}}function kd(u){if(null==Dy(u))return!1;switch(u.type){case"polar":case"pie":return!0;default:return!1}}function w0(u){var t,e,n=0;try{for(var s=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),l=s.next();!l.done;l=s.next()){var g=l.value;g instanceof Array&&(n+=w0(g)),null!=g&&n++}}catch(y){t={error:y}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return n}function Lu(u,t,e){for(var n=[],s=0;s<e;s++)n.push(t[(s+u.colourIndex)%t.length]);return n}function Nf(u,t){var e=null==t?u:ra(t,u);!function KR(u){var t,e;(null===(t=u.series)||void 0===t?void 0:t.some(function(n){return null!=n.yKeys&&null!=n.yKey}))&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),(null===(e=u.series)||void 0===e?void 0:e.some(function(n){return null!=n.yNames&&null!=n.yName}))&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}(e);var n=e.type,s=Dy(e),l=Gd(e=Qc(Qc({},e),{type:s}))?"line":Ry(e)?"treemap":kd(e)?"pie":"line",y=function YR(u,t){var e=function qR(u){var t=Ff(u.theme),e=t.getConfig(Dy(u)||"cartesian");return{theme:t,axesThemes:e.axes||{},seriesThemes:e.series||{},cleanedTheme:ra(e,{axes:Nu,series:Nu})}}(t),l=e.axesThemes,g=e.seriesThemes;return{context:{colourIndex:0,palette:e.theme.palette},mergedOptions:ra(u,e.cleanedTheme,t),axesThemes:l,seriesThemes:g}}("bar"===s?by:"scatter"===s||"histogram"===s?p0:Gd(e)?HR:{},e),S=y.context,E=y.mergedOptions,D=y.axesThemes,T=y.seriesThemes;return E.series=function C0(u){var t,e,n=[],s=u.map(function(S){return"bar"!==S.type&&"column"!==S.type||null==S.yKey||S.stacked?S:Zw(Zw({},S),{grouped:null==S.grouped||S.grouped})});try{for(var l=Gb(function y0(u){var t,e,n={},s=[];try{for(var l=Gb(u),g=l.next();!g.done;g=l.next()){var y=g.value;if("column"===y.type||"bar"===y.type||"area"===y.type&&!0===y.stacked){var D=(y.type||"line")+"-"+y.xKey+"-"+(y.stacked?"stacked":y.grouped?"grouped":y.yKeys?"stacked":"grouped");null==n[D]&&(n[D]=[],s.push(n[D])),n[D].push(y)}else s.push([y])}}catch(T){t={error:T}}finally{try{g&&!g.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return s}(s)),g=l.next();!g.done;g=l.next()){var y=g.value;switch(y[0].type){case"column":case"bar":n.push(m0(y,!0));break;case"area":n.push(m0(y,!1));break;default:y.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+y[0].type),n.push(y[0])}}}catch(S){t={error:S}}finally{try{g&&!g.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return n}(E.series||[]).map(function(P){var F=P.type?P.type:function $R(u){return null!=u&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(u)>=0}(n)?n:l,I=Qc(Qc({},P),{type:F});return function XR(u,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var s=ZR(u,t);return jR(ra.apply(void 0,zR(e,[s,t,{stacked:Nu}])))}(S,I,T[F]||{})}),Gd(E)&&(E.axes||[]).forEach(function(P,F){var I=P.type||"number",G=Qc(Qc({},P),{type:I}),j=ra(D[I],D[I][P.position||"unknown"]||{});E.axes[F]=function _0(u){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return ra.apply(void 0,zR(t,[u,{top:Nu,bottom:Nu,left:Nu,right:Nu}]))}(G,j)}),function QR(u,t){Lb(u,function(e,n,s){!s||"enabled"in s&&null==n.enabled&&(s.enabled=!0)},{skip:["data"]},t)}(e,E),E}function ZR(u,t){var e={},n=u.palette,s=n.fills,l=n.strokes,y=w0(t.yKeys||[])||1;switch(t.type){case"pie":y=Math.max(s.length,l.length);case"area":case"bar":case"column":e.fills=Lu(u,s,y),e.strokes=Lu(u,l,y);break;case"histogram":e.fill=Lu(u,s,1)[0],e.stroke=Lu(u,l,1)[0];break;case"scatter":e.fill=Lu(u,s,1)[0];case"line":e.stroke=Lu(u,s,1)[0],e.marker={stroke:Lu(u,l,1)[0],fill:Lu(u,s,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return u.colourIndex+=y,e}var Qn=function(){return Qn=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Qn.apply(this,arguments)},Lf=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Jw=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Lf(arguments[t]));return u},kb=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function S0(u){if(Gd(u))return"cartesian";if(kd(u))return"polar";if(Ry(u))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+u.type)}var Vi=function(){function u(){}return u.createComponent=function(t,e){return e.indexOf(".series")>=0?Hb([Qn(Qn({},t),{type:t.type||e.split(".")[0]})])[0]:null},u.create=function(t,e,n){return Vb.create(t)},u.update=function(t,e,n,s){return Vb.update(t,e)},u}(),Vb=function(){function u(){}return u.create=function(t){Gf("user options",t);var e=Nf(t),n=Gd(e)?"groupedCategory"===e.type?new iy(document):new Gw(document):Ry(e)?new Cb(document):kd(e)?new Db(document):void 0;if(!n)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+e.type);return u.updateDelta(n,e,t),n},u.update=function(t,e){Gf("user options",e);var n=Nf(e,t.userOptions);if(S0(n)!==S0(t.options))return t.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var s=Sy(t.options,n,{stringify:["data"]});null!=s&&u.updateDelta(t,s,e)},u.updateDelta=function(t,e,n){null==e.type&&(e=Qn(Qn({},e),{type:t.options.type||Dy(e)})),Gf("delta update",e),function JR(u,t,e){if(Gd(t))Wb(u,t,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(kd(t))Wb(u,t,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!Ry(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);Wb(u,t,{skip:["type","data","series","autoSize","listeners","theme"]})}var n=!1;t.series&&t.series.length>0&&function Bb(u,t){var e=t.series;if(e){if(u.series.length===e.length&&u.series.every(function(s,l){var g;return s.type===(null===(g=e[l])||void 0===g?void 0:g.type)}))return void u.series.forEach(function(s,l){var g,y,E=Sy((null===(y=null===(g=u.options)||void 0===g?void 0:g.series)||void 0===y?void 0:y[l])||{},e[l]||{});Gf("applying series diff idx "+l,E),Zc(s,E)});u.series=Hb(e)}}(u,t),Gd(t)&&t.axes&&(n=function eA(u,t){var e=t.axes;if(!e)return!1;if(u.axes.length===e.length&&u.axes.every(function(l,g){return l.type===e[g].type})){var s=u.options;if(Gd(s))return u.axes.forEach(function(l,g){var y,E=Sy((null===(y=s.axes)||void 0===y?void 0:y[g])||{},e[g]);Gf("applying axis diff idx "+g,E),Zc(l,E)}),!0}return u.axes=function b0(u){var t,e,n=[],s=0;try{for(var l=kb(u||[]),g=l.next();!g.done;g=l.next()){var y=g.value,S="axis["+s+++"]";switch(y.type){case"number":n.push(Ay(new Io,y,{path:S}));break;case _y.type:n.push(Ay(new _y,y,{path:S}));break;case uo.type:n.push(Ay(new uo,y,{path:S}));break;case Gi.type:n.push(Ay(new Gi,y,{path:S}));break;case Od.type:n.push(Ay(new Od,y,{path:S}));break;default:throw new Error("AG Charts - unknown axis type: "+y.type)}}}catch(E){t={error:E}}finally{try{g&&!g.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}return n}(e),!0}(u,t)),t.data&&(u.data=t.data,n=!0),null!=t.autoSize&&(u.autoSize=t.autoSize),t.listeners&&E0(u,t.listeners),u.layoutPending=!0,n&&u.processData(),u.performLayout(),u.options=ra(u.options||{},t),u.userOptions=ra(u.userOptions||{},e)}(t,e,n)},u.DEBUG=!1,u}();function Gf(u){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];Vb.DEBUG&&console.log.apply(console,Jw([u],t))}function Hb(u){var t,e,n=[],s=["listeners"],l=0;try{for(var g=kb(u||[]),y=g.next();!y.done;y=g.next()){var S=y.value,E="series["+l+++"]";switch(S.type){case"area":n.push(Gu(new Fd,S,{path:E,skip:s}));break;case"bar":case"column":n.push(Gu(new Af,S,{path:E,skip:s}));break;case"histogram":n.push(Gu(new qc,S,{path:E,skip:s}));break;case"line":n.push(Gu(new Bo,S,{path:E,skip:s}));break;case"scatter":n.push(Gu(new hy,S,{path:E,skip:s}));break;case"pie":n.push(Gu(new xl,S,{path:E,skip:s}));break;case"treemap":n.push(Gu(new Ke,S,{path:E,skip:s}));break;default:throw new Error("AG Charts - unknown series type: "+S.type)}}}catch(D){t={error:D}}finally{try{y&&!y.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}return n.forEach(function(D,T){var P,F,I=null===(F=null===(P=u)||void 0===P?void 0:P[T])||void 0===F?void 0:F.listeners;null!=I&&E0(D,I)}),n}function E0(u,t){for(var e in t)u.addEventListener(e,t[e])}var e_={constructors:{title:dv,subtitle:dv,shadow:i},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function Wb(u,t,e){var n=void 0===e?{}:e,s=n.skip,l=n.path;return Zc(u,t,Qn(Qn(Qn({},e_),{skip:Jw(["type"],s||[])}),l?{path:l}:{}))}function Gu(u,t,e){var g,n=void 0===e?{}:e,s=n.skip,l=n.path,y=(null===(g=e_)||void 0===g?void 0:g.constructors)||{},S={constructors:Qn(Qn({},y),{title:"pie"===u.type?ta:y.title})};return Zc(u,t,Qn(Qn(Qn(Qn({},e_),S),{skip:Jw(["type"],s||[])}),l?{path:l}:{}))}function Ay(u,t,e){var n=void 0===e?{}:e,s=n.skip,l=n.path;return Zc(u,t,Qn(Qn(Qn({},e_),{skip:Jw(["type"],s||[])}),l?{path:l}:{}))}function Ba(u){switch(u){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var tA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),t_=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Vd=function(u){function t(e){var n=u.call(this)||this;return n.model=e,n}return tA(t,u),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,b.Events.EVENT_RANGE_SELECTION_CHANGED,function(n){n.id&&n.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",n=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:n}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map(function(s){return Ff(e.chartProxy.isStockTheme(s)?s:e.chartProxy.lookupCustomChartTheme(s)).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var n=this.model.columnNames[e.colId];return e.displayName=n?n.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===rd.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return b._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,n,s){var l=this.model.seriesChartTypes.find(function(S){return S.colId===e});if(l){var g="customCombo"!==this.model.chartType;g&&(this.model.chartType="customCombo");var y=l.chartType;null!=n&&(l.chartType=n),null!=s&&(l.secondaryAxis=s),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),g&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_TYPE_CHANGED})),y!==n&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(n){return n.colId});return this.getSeriesChartTypes().filter(function(n){return e.includes(n.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[Ba(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),n=e[0],s=n&&n.startRow||null,l=n&&n.endRow||null;return{rowStartIndex:s&&s.rowIndex,rowStartPinned:s&&s.rowPinned,rowEndIndex:l&&l.rowIndex,rowEndPinned:l&&l.rowPinned,columns:e.reduce(function(g,y){return g.concat(y.columns.map(function(S){return S.getId()}))},[])}},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),l=Object.freeze({type:b.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(l)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:b.Events.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){u.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",t_([b.Autowired("rangeService")],t.prototype,"rangeService",void 0),t_([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),t_([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t_([b.PostConstruct],t.prototype,"init",null),t}(b.BeanStub),rA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jb=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},nA=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},O0=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(nA(arguments[t]));return u},D0=function(u){function t(e,n){var s=u.call(this,t.TEMPLATE)||this;return s.chartController=e,s.chartOptionsService=n,s.columnComps=new Map,s}return rA(t,u),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Vd.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),u.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,n=this.chartType,s=this.chartController.getColStateForMenu(),l=s.dimensionCols,g=s.valueCols,y=l.map(function(D){return D.colId}).concat(g.map(function(D){return D.colId}));this.chartType=this.chartController.getChartType();var S=this.getGroupExpandedState();if(b._.areEqual(b._.keys(this.columnComps),y)&&this.chartType===n){if(O0(l,g).forEach(function(D){e.columnComps.get(D.colId).setValue(D.selected,!0)}),this.chartController.isActiveXYChart()){var E=this.generateGetSeriesLabel();g.forEach(function(D){e.columnComps.get(D.colId).setLabel(E(D))})}b._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(g)}else this.clearComponents(),this.createCategoriesGroup(l),this.createSeriesGroup(g),this.createSeriesChartTypeGroup(g);this.restoreGroupExpandedState(S)},t.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return!e||e.isExpanded()})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(n,s){!n||n.toggleGroupExpand(e[s])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new b.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.addComponent=function(e,n,s){var l=document.createElement("div");l.id=s,l.className="ag-chart-data-section",l.appendChild(n.getGui()),e.appendChild(l)},t.prototype.addChangeListener=function(e,n){var s=this;this.addManagedListener(e,b.AgAbstractField.EVENT_CHANGED,function(){n.selected=e.getValue(),s.chartController.updateForPanelChange(n)})},t.prototype.createCategoriesGroup=function(e){var n=this;this.categoriesGroupComp=this.createBean(new b.AgGroupComponent({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var s="chartDimension"+this.getCompId();e.forEach(function(l){var g=n.categoriesGroupComp.createManagedBean(new b.AgRadioButton);g.setLabel(b._.escapeString(l.displayName)),g.setValue(l.selected),g.setInputName(s),n.addChangeListener(g,l),n.categoriesGroupComp.addItem(g),n.columnComps.set(l.colId,g)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var n=this;if(this.seriesGroupComp=this.createManagedBean(new b.AgGroupComponent({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var s=this.seriesGroupComp.createManagedBean(new b.AgToggleButton);s.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(y){n.chartOptionsService.setPairedMode(!!y),n.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(s)}var l=this.generateGetSeriesLabel();e.forEach(function(y){var S=n.seriesGroupComp.createManagedBean(new b.AgCheckbox);S.addCssClass("ag-data-select-checkbox");var E=l(y);S.setLabel(E),S.setValue(y.selected),n.addChangeListener(S,y),n.seriesGroupComp.addItem(S),n.columnComps.set(y.colId,S),n.addDragHandle(S,y)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var g={getIconName:function(){return b.DragAndDropService.ICON_MOVE},getContainer:function(){return n.seriesGroupComp.getGui()},onDragging:function(y){return n.onDragging(y)},onDragLeave:function(){return n.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(g)},t.prototype.createSeriesChartTypeGroup=function(e){var n=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new b.AgGroupComponent({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var s=this.chartController.getSeriesChartTypes();e.forEach(function(l){if(l.selected){var g=s.filter(function(P){return P.colId===l.colId})[0];if(g){var y=n.seriesChartTypeGroupComp.createManagedBean(new b.AgGroupComponent({title:l.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),S=n.seriesChartTypeGroupComp.createManagedBean(new b.AgCheckbox).setLabel(n.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(g.chartType)).setValue(!!g.secondaryAxis).onValueChange(function(P){return n.chartController.updateSeriesChartType(l.colId,void 0,P)});y.addItem(S);var E=function(P,F){return n.chartTranslationService.translate(P,F)},D=[{value:"line",text:E("line","Line")},{value:"area",text:E("area","Area")},{value:"stackedArea",text:E("stackedArea","StackedArea")},{value:"groupedColumn",text:E("groupedColumn","Grouped Column")},{value:"stackedColumn",text:E("stackedColumn","Stacked Column")}],T=y.createManagedBean(new b.AgSelect);T.setLabelAlignment("left").setLabelWidth("flex").addOptions(D).setValue(g.chartType).onValueChange(function(P){return n.chartController.updateSeriesChartType(l.colId,P)}),y.addItem(T),n.seriesChartTypeGroupComp.addItem(y)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},t.prototype.addDragHandle=function(e,n){var s=this,l=b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);l.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",l);var g={type:b.DragSourceType.ChartPanel,eElement:l,dragItemName:n.displayName,getDragItem:function(){return{columns:[n.column]}},onDragStopped:function(){return s.onDragStop()}};this.dragAndDropService.addDragSource(g,!0),this.addDestroyFunc(function(){return s.dragAndDropService.removeDragSource(g)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(g){return b._.escapeString(g.displayName)};var e="bubble"===this.chartType,n=this.isInPairedMode(),s=0,l=new Map;return l.set(0,"X"),l.set(1,"Y"),l.set(2,"size"),function(g){var S,y=b._.escapeString(g.displayName);return g.selected?(S=n?l.get(s%(e?3:2)):0===s?"X":e&&s%2==0?"size":"Y",s++,y+" ("+S+")"):y}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){b._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var n=this.checkHoveredItem(e);if(n){this.lastDraggedColumn=e.dragItem.columns[0];var s=n.comp,l=n.position,g=this.lastHoveredItem||{};s===g.comp&&l===g.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:s,position:l},s.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+l))}},t.prototype.checkHoveredItem=function(e){var n,s;if(b._.missing(e.vDirection))return null;var l=e.event;try{for(var g=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),y=g.next();!y.done;y=g.next()){var S=y.value,E=S.getGui();if(E.querySelector(".ag-chart-data-column-drag-handle")){var D=E.getBoundingClientRect();if(l.clientY>=D.top&&l.clientY<=D.bottom)return{comp:S,position:l.clientY>D.top+E.clientHeight/2?"bottom":"top"}}}}catch(I){n={error:I}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(n)throw n.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var n=this.chartController.getColStateForMenu(),g=O0(n.dimensionCols,n.valueCols).find(function(S){return S.column===e.lastDraggedColumn});if(g){var y=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&y++,g.order=y,this.chartController.updateForPanelChange(g)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===b.DragSourceType.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',jb([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),jb([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jb([b.PostConstruct],t.prototype,"init",null),t}(b.Component),R0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bd=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},r_=function(u){function t(e){var n=u.call(this)||this;return n.activeComps=[],n.params=e,n}return R0(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(n){e.params.setEnabled&&e.params.setEnabled(n)})},t.prototype.initFontFamilySelect=function(){var e=this,n=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],s=this.params.initialFont.family,l=n[0];if(s){var y=n.map(function(D){return D.toLowerCase()}).indexOf(s.toLowerCase());if(y>=0)l=n[y];else{var S=b._.capitalise(s);n.push(S),l=S}}var E=n.sort().map(function(D){return{value:D,text:D}});this.familySelect.addOptions(E).setInputWidth("flex").setValue(""+l).onValueChange(function(D){return e.params.setFont({family:D})})},t.prototype.initFontSizeSelect=function(){var e=this,n=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],s=this.params.initialFont.size;b._.includes(n,s)||n.push(s);var l=n.sort(function(g,y){return g-y}).map(function(g){return{value:""+g,text:""+g}});this.sizeSelect.addOptions(l).setInputWidth("flex").setValue(""+s).onValueChange(function(g){return e.params.setFont({size:parseInt(g,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,n=this.params.initialFont,s=n.weight,l=void 0===s?"normal":s,g=n.style,y=void 0===g?"normal":g,S=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],E=S.find(function(T){return T.weight===l&&T.style===y});E||S.unshift(E={name:"predefined",weight:l,style:y});var D=S.map(function(T){return{value:T.name,text:e.chartTranslationService.translate(T.name)}});this.weightStyleSelect.addOptions(D).setInputWidth("flex").setValue(E.name).onValueChange(function(T){var P=S.find(function(F){return F.name===T});e.params.setFont({weight:P.weight,style:P.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(n){return e.params.setFont({color:n})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActiveComps(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Bd([b.RefSelector("fontGroup")],t.prototype,"fontGroup",void 0),Bd([b.RefSelector("familySelect")],t.prototype,"familySelect",void 0),Bd([b.RefSelector("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Bd([b.RefSelector("sizeSelect")],t.prototype,"sizeSelect",void 0),Bd([b.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Bd([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Bd([b.PostConstruct],t.prototype,"init",null),t}(b.Component),A0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},oA=function(u){function t(e){var n=u.call(this)||this;return n.chartOptionsService=e,n.activePanels=[],n}return A0(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(n){e.chartOptionsService.setChartOption("legend.enabled",n),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,n=[Rl.Top,Rl.Right,Rl.Bottom,Rl.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(n.map(function(s){return{value:s,text:e.chartTranslationService.translate(s)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(s){return e.chartOptionsService.setChartOption("legend.position",s)})},t.prototype.initLegendPadding=function(){var e=this,n=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(Bi(n,200)).setValue(""+n).setTextFieldWidth(45).onValueChange(function(s){return e.chartOptionsService.setChartOption("legend.spacing",s)})},t.prototype.initLegendItems=function(){var e=this,n=function(s,l,g,y){var S=e.chartOptionsService.getChartOption("legend."+s);g.setLabel(e.chartTranslationService.translate(l)).setMaxValue(Bi(S,y)).setValue(""+S).setTextFieldWidth(45).onValueChange(function(E){e.chartOptionsService.setChartOption("legend."+s,E)})};n("item.marker.size","markerSize",this.markerSizeSlider,40),n("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),n("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),n("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),n("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,n=this.chartOptionsService,s={family:n.getChartOption("legend.item.label.fontFamily"),style:n.getChartOption("legend.item.label.fontStyle"),weight:n.getChartOption("legend.item.label.fontWeight"),size:n.getChartOption("legend.item.label.fontSize"),color:n.getChartOption("legend.item.label.color")},y=this.createBean(new r_({enabled:!0,suppressEnabledCheckbox:!0,initialFont:s,setFont:function(S){var E=e.chartOptionsService;S.family&&E.setChartOption("legend.item.label.fontFamily",S.family),S.weight&&E.setChartOption("legend.item.label.fontWeight",S.weight),S.style&&E.setChartOption("legend.item.label.fontStyle",S.style),S.size&&E.setChartOption("legend.item.label.fontSize",S.size),S.color&&E.setChartOption("legend.item.label.color",S.color)}}));this.legendGroup.addItem(y),this.activePanels.push(y)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),u.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Fl([b.RefSelector("legendGroup")],t.prototype,"legendGroup",void 0),Fl([b.RefSelector("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Fl([b.RefSelector("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Fl([b.RefSelector("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Fl([b.RefSelector("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Fl([b.RefSelector("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Fl([b.RefSelector("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Fl([b.RefSelector("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Fl([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Fl([b.PostConstruct],t.prototype,"init",null),t}(b.Component),sA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jc=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ub=function(u){function t(e){var n=u.call(this)||this;return n.chartOptionsService=e,n}return sA(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(s){return e.chartOptionsService.setAxisProperty("tick.color",s)});var n=function(s,l,g,y){var S=e.chartOptionsService.getAxisProperty(s);l.setLabel(g).setMaxValue(Bi(S,y)).setValue(""+S).setTextFieldWidth(45).onValueChange(function(E){return e.chartOptionsService.setAxisProperty(s,E)})};n("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),n("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Jc([b.RefSelector("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),Jc([b.RefSelector("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),Jc([b.RefSelector("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),Jc([b.RefSelector("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),Jc([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Jc([b.PostConstruct],t.prototype,"init",null),t}(b.Component),P0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ep=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Hd=function(u){function t(e,n){var s=u.call(this)||this;return s.chartController=e,s.chartOptionsService=n,s.activePanels=[],s.axisLabelUpdateFuncs=[],s}return P0(t,u),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,Vd.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(l){return l()})})},t.prototype.initAxis=function(){var e=this,n=this.chartTranslationService;this.axisGroup.setTitle(n.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(n.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(g){return e.chartOptionsService.setAxisProperty("line.color",g)});var s=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(Bi(s,10)).setLabel(n.translate("thickness")).setTextFieldWidth(45).setValue(""+s).onValueChange(function(g){return e.chartOptionsService.setAxisProperty("line.width",g)}),b._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var l=[{value:"",text:n.translate("automatic")}];["category","time","number"].forEach(function(g){l.push({value:g,text:n.translate(g)})}),this.xAxisTypeSelect.setLabel(n.translate("xType")).setLabelWidth("flex").addOptions(l).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(g){e.chartOptionsService.setChartOption("xAxis.type","string"==typeof g&&g.length&&g),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new Ub(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,n={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},g=this.createBean(new r_({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(y){y.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",y.family),y.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",y.weight),y.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",y.style),y.size&&e.chartOptionsService.setAxisProperty("label.fontSize",y.size),y.color&&e.chartOptionsService.setAxisProperty("label.color",y.color),e.chartController.getChartProxy().getChart().layoutPending=!0}}));this.axisGroup.addItem(g),this.activePanels.push(g),this.addAdditionalLabelComps(g)},t.prototype.addAdditionalLabelComps=function(e){var n=this,s=function(D,T){var P=n.chartOptionsService.getLabelRotation(T),F=(new b.AgAngleSelect).setLabel(D).setLabelWidth("flex").setValue(P||0).onValueChange(function(G){return n.chartOptionsService.setLabelRotation(T,G)});n.axisLabelUpdateFuncs.push(function(){var G=n.chartOptionsService.getLabelRotation(T);F.setValue(G)});var I=n.createBean(F);e.addCompToPanel(I)},l=String.fromCharCode(176),g=this.chartTranslationService.translate("xRotation")+" "+l,y=this.chartTranslationService.translate("yRotation")+" "+l;s(g,"xAxis"),s(y,"yAxis");var S=this.createBean(new b.AgSlider),E=this.chartOptionsService.getAxisProperty("label.padding");S.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(Bi(E,30)).setValue(""+E).setTextFieldWidth(45).onValueChange(function(D){return n.chartOptionsService.setAxisProperty("label.padding",D)}),e.addCompToPanel(S)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),u.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',ep([b.RefSelector("axisGroup")],t.prototype,"axisGroup",void 0),ep([b.RefSelector("axisColorInput")],t.prototype,"axisColorInput",void 0),ep([b.RefSelector("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),ep([b.RefSelector("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),ep([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),ep([b.PostConstruct],t.prototype,"init",null),t}(b.Component),aA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kf=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Wd=function(u){function t(e){var n=u.call(this)||this;return n.chartOptionsService=e,n}return aA(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,n=this.chartTranslationService;this.navigatorGroup.setTitle(n.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(l){e.chartOptionsService.setChartOption("navigator.enabled",l),e.navigatorGroup.toggleGroupExpand(!0)});var s=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(n.translate("height")).setMinValue(10).setMaxValue(Bi(s,60)).setTextFieldWidth(45).setValue(""+(s||30)).onValueChange(function(l){return e.chartOptionsService.setChartOption("navigator.height",l)})},t.prototype.destroy=function(){u.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',kf([b.RefSelector("navigatorGroup")],t.prototype,"navigatorGroup",void 0),kf([b.RefSelector("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),kf([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),kf([b.PostConstruct],t.prototype,"init",null),t}(b.Component),Nr=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jd=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},T0=function(u){function t(e){var n=u.call(this)||this;return n.chartOptionsService=e,n}return Nr(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,n=function(s,l){var g=e.chartOptionsService.getChartOption("padding."+s);l.setLabel(e.chartTranslationService.translate(s)).setMaxValue(Bi(g,200)).setValue(""+g).setTextFieldWidth(45).onValueChange(function(y){return e.chartOptionsService.setChartOption("padding."+s,y)})};n("top",this.paddingTopSlider),n("right",this.paddingRightSlider),n("bottom",this.paddingBottomSlider),n("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',jd([b.RefSelector("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),jd([b.RefSelector("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),jd([b.RefSelector("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),jd([b.RefSelector("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),jd([b.RefSelector("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),jd([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),jd([b.PostConstruct],t.prototype,"init",null),t}(b.Component),lA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Py=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},nx=function(u){function t(e){var n=u.call(this)||this;return n.chartOptionsService=e,n}return lA(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(n){return e.chartOptionsService.setChartOption("background.visible",n)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(n){return e.chartOptionsService.setChartOption("background.fill",n)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',Py([b.RefSelector("chartBackgroundGroup")],t.prototype,"group",void 0),Py([b.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Py([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Py([b.PostConstruct],t.prototype,"init",null),t}(b.Component),uA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),tp=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},cA=function(u){function t(e){var n=u.call(this,t.TEMPLATE)||this;return n.chartOptionsService=e,n.activePanels=[],n}return uA(t,u),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,n=this.hasTitle,s=function(S){S.family&&e.setOption("title.fontFamily",S.family),S.weight&&e.setOption("title.fontWeight",S.weight),S.style&&e.setOption("title.fontStyle",S.style),S.size&&e.setOption("title.fontSize",S.size),S.color&&e.setOption("title.color",S.color)},l={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};n||s(l);var g={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:l,setFont:s,setEnabled:function(S){e.setOption("title.enabled",S);var E=e.getOption("title.text");S&&"Title"===E&&e.setOption("title.text",e.titlePlaceholder)}},y=this.createBean(new r_(g));this.getGui().appendChild(y.getGui()),this.activePanels.push(y),this.addManagedListener(this.eventService,"chartTitleEdit",function(){y.setEnabled(e.hasTitle())})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,n){this.chartOptionsService.setChartOption(e,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),u.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",tp([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),tp([b.PostConstruct],t.prototype,"init",null),t}(b.Component),Vf=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mi=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},pA=function(u){function t(e){var n=u.call(this)||this;return n.chartOptionsService=e,n.activePanels=[],n}return Vf(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new cA(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new T0(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new nx(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),u.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',mi([b.RefSelector("chartGroup")],t.prototype,"chartGroup",void 0),mi([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mi([b.PostConstruct],t.prototype,"init",null),t}(b.Component),ix=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rp=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ku=function(u){function t(e,n){var s=u.call(this)||this;return s.chartOptionsService=e,s.getSelectedSeries=n,s}return ix(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(s){return e.chartOptionsService.setSeriesOption("shadow.enabled",s,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(s){return e.chartOptionsService.setSeriesOption("shadow.color",s,e.getSelectedSeries())});var n=function(s,l,g,y){var S=e.chartOptionsService.getSeriesOption("shadow."+l,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(l)).setMinValue(g).setMaxValue(Bi(S,y)).setValue(""+S).onValueChange(function(E){return e.chartOptionsService.setSeriesOption("shadow."+l,E,e.getSelectedSeries())})};n(this.shadowBlurSlider,"blur",0,20),n(this.shadowXOffsetSlider,"xOffset",-10,10),n(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',rp([b.RefSelector("shadowGroup")],t.prototype,"shadowGroup",void 0),rp([b.RefSelector("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),rp([b.RefSelector("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),rp([b.RefSelector("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),rp([b.RefSelector("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),rp([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),rp([b.PostConstruct],t.prototype,"init",null),t}(b.Component),hA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ud=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ty=function(u){function t(e,n){var s=u.call(this)||this;return s.chartOptionsService=e,s.getSelectedSeries=n,s}return hA(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(y){return e.setSeriesOption("marker.shape",y)});var s=this.chartOptionsService.getChartType(),l=b._.includes(["scatter","bubble"],s);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(l).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(y){return e.setSeriesOption("marker.enabled",y)});var g=function(y,S,E,D){var T=e.getSeriesOption(y);S.setLabel(e.chartTranslationService.translate(E)).setMaxValue(Bi(T,D)).setValue(""+T).setTextFieldWidth(45).onValueChange(function(P){return e.setSeriesOption(y,P)})};"bubble"===s?(g("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),g("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),g("marker.size",this.seriesMarkerSizeSlider,"size",60)),g("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,n){this.chartOptionsService.setSeriesOption(e,n,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Ud([b.RefSelector("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Ud([b.RefSelector("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Ud([b.RefSelector("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Ud([b.RefSelector("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Ud([b.RefSelector("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Ud([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ud([b.PostConstruct],t.prototype,"init",null),t}(b.Component),fA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),np=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},n_=function(u){function t(e,n){var s=u.call(this)||this;return s.chartOptionsService=e,s.getSelectedSeries=n,s}return fA(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var n=function(s,l,g,y){var S=e.chartOptionsService.getSeriesOption(s,e.getSelectedSeries());l.setLabel(e.chartTranslationService.translate(g)).setMaxValue(Bi(S,y)).setValue(""+S).setTextFieldWidth(45).onValueChange(function(E){return e.chartOptionsService.setSeriesOption(s,E,e.getSelectedSeries())})};n("callout.length",this.calloutLengthSlider,"length",40),n("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),n("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',np([b.RefSelector("calloutGroup")],t.prototype,"calloutGroup",void 0),np([b.RefSelector("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),np([b.RefSelector("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),np([b.RefSelector("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),np([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),np([b.PostConstruct],t.prototype,"init",null),t}(b.Component),xy=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zb=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Vu=function(u){function t(e,n,s){var l=u.call(this)||this;return l.chartController=e,l.chartOptionsService=n,l.activePanels=[],l.widgetFuncs={lineWidth:function(){return l.initLineWidth()},strokeWidth:function(){return l.initStrokeWidth()},lineDash:function(){return l.initLineDash()},lineOpacity:function(){return l.initLineOpacity()},fillOpacity:function(){return l.initFillOpacity()},markers:function(){return l.initMarkers()},labels:function(){return l.initLabels()},shadow:function(){return l.initShadow()},tooltips:function(){return l.initTooltips()},bins:function(){return l.initBins()}},l.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},l.seriesType=s||l.getChartSeriesType(),l}return xy(t,u),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,Vd.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(n){return e.widgetFuncs[n]()})},t.prototype.initSeriesSelect=function(){var e=this,n=this.seriesGroup.createManagedBean(new b.AgSelect);n.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(s){e.seriesType=s,e.refreshWidgets()}),this.seriesGroup.addItem(n),this.activePanels.push(n)},t.prototype.initTooltips=function(){var e=this,n=this.createBean(new b.AgToggleButton);n.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(s){return e.setSeriesOption("tooltip.enabled",s)}),this.addWidget(n)},t.prototype.initStrokeWidth=function(){var e=this,n=this.getSeriesOption("strokeWidth"),s=this.createBean(new b.AgSlider);s.setLabel(this.translate("strokeWidth")).setMaxValue(Bi(n,10)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(l){return e.setSeriesOption("strokeWidth",l)}),this.addWidget(s)},t.prototype.initLineWidth=function(){var e=this,n=this.getSeriesOption("strokeWidth"),s=this.createBean(new b.AgSlider);s.setLabel(this.translate("lineWidth")).setMaxValue(Bi(n,10)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(l){return e.setSeriesOption("strokeWidth",l)}),this.addWidget(s)},t.prototype.initLineDash=function(){var e=this,n=this.getSeriesOption("lineDash"),s=n?n[0]:0,l=this.createBean(new b.AgSlider);l.setLabel(this.translate("lineDash")).setMaxValue(Bi(s,30)).setTextFieldWidth(45).setValue(""+s).onValueChange(function(g){return e.setSeriesOption("lineDash",[g])}),this.addWidget(l)},t.prototype.initLineOpacity=function(){var e=this,n=this.getSeriesOption("strokeOpacity"),s=this.createBean(new b.AgSlider);s.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(Bi(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(l){return e.setSeriesOption("strokeOpacity",l)}),this.addWidget(s)},t.prototype.initFillOpacity=function(){var e=this,n=this.getSeriesOption("fillOpacity"),s=this.createBean(new b.AgSlider);s.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(Bi(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(l){return e.setSeriesOption("fillOpacity",l)}),this.addWidget(s)},t.prototype.initLabels=function(){var e=this,n=function dA(u,t,e){var n={family:t.getSeriesOption("label.fontFamily",e()),style:t.getSeriesOption("label.fontStyle",e()),weight:t.getSeriesOption("label.fontWeight",e()),size:t.getSeriesOption("label.fontSize",e()),color:t.getSeriesOption("label.color",e())};return{name:u.translate("labels"),enabled:t.getSeriesOption("label.enabled",e())||!1,setEnabled:function(g){return t.setSeriesOption("label.enabled",g,e())},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(g){g.family&&t.setSeriesOption("label.fontFamily",g.family,e()),g.weight&&t.setSeriesOption("label.fontWeight",g.weight,e()),g.style&&t.setSeriesOption("label.fontStyle",g.style,e()),g.size&&t.setSeriesOption("label.fontSize",g.size,e()),g.color&&t.setSeriesOption("label.color",g.color,e())}}}(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),s=this.createBean(new r_(n));if("pie"===this.seriesType){var l=this.createBean(new n_(this.chartOptionsService,function(){return e.seriesType}));s.addCompToPanel(l),this.activePanels.push(l)}this.addWidget(s)},t.prototype.initShadow=function(){var e=this,n=this.createBean(new ku(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(n)},t.prototype.initMarkers=function(){var e=this,n=this.createBean(new Ty(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(n)},t.prototype.initBins=function(){var e=this,n=this.getSeriesOption("binCount"),s=this.createBean(new b.AgSlider);s.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(Bi(n,100)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(l){return e.setSeriesOption("binCount",l)}),this.addWidget(s)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,n){this.chartOptionsService.setSeriesOption(e,n,this.seriesType)},t.prototype.getChartSeriesType=function(){var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":Ba(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var n=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(s){var l=Ba(s.chartType);n.add(e.seriesSelectOptions.get(l))}),Array.from(n)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(s){return Ba(s.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,n){return this.chartTranslationService.translate(e,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),u.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',zb([b.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),zb([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),zb([b.PostConstruct],t.prototype,"init",null),t}(b.Component),x0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function Bi(u,t){return Math.max(u,t)}var $b=function(u){function t(e,n){var s=u.call(this,t.TEMPLATE)||this;return s.chartController=e,s.chartOptionsService=n,s.panels=[],s}return x0(t,u),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,Vd.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),n=this.chartController.isGrouping();if(e!==this.chartType||n!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new pA(this.chartOptionsService)),this.addComponent(new oA(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService,"column")),this.addComponent(new Wd(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new Wd(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new Vu(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService,"line")),this.addComponent(new Wd(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new Wd(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService,"area")),this.addComponent(new Wd(this.chartOptionsService));break;case"histogram":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new Wd(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new Hd(this.chartController,this.chartOptionsService)),this.addComponent(new Vu(this.chartController,this.chartOptionsService)),this.addComponent(new Wd(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=n}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyPanels(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.PostConstruct],t.prototype,"init",null),t}(b.Component),vA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yA=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Kb=function(u){function t(e,n){var s=u.call(this)||this;s.size=58,s.padding=5,s.root=new vn;var l=new pb(window.document,s.size,s.size);return l.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),l.root=s.root,l.container=e,s.scene=l,s.tooltipName=n,s}return vA(t,u),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},yA([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),yA([b.PostConstruct],t.prototype,"init",null),t}(b.Component),mA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ds=function(u){function t(e,n){var s=u.call(this,e,n)||this;return s.stroke="gray",s.axisOvershoot=3,s}return mA(t,u),t.prototype.addAxes=function(){var e=this.size,n=this.padding,s=new Fo;s.x1=n,s.y1=n,s.x2=n,s.y2=e-n+this.axisOvershoot,s.stroke=this.stroke;var l=new Fo;l.x1=n-this.axisOvershoot+1,l.y1=e-n,l.x2=e-n+1,l.y2=e-n,l.stroke=this.stroke;var g=this.root;g.append(s),g.append(l)},function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.PostConstruct],t.prototype,"addAxes",null),t}(Kb);function Il(u){var t=u.stacked,e=u.size,n=u.padding,s=u.xScalePadding,l=u.xScaleDomain,g=u.yScaleDomain,y=new Kn;y.domain=l,y.range=[n,e-n],y.paddingInner=s,y.paddingOuter=s;var S=new un;S.domain=g,S.range=[e-n,n];var E=function(D,T,P){return D.map(function(F,I){var G=P.convert(F),j=new Cn;return j.x=T.convert(I),j.y=G,j.width=T.bandwidth,j.height=P.convert(0)-G,j.strokeWidth=1,j.crisp=!0,j})};return t?u.data.map(function(D){return E(D,y,S)}):E(u.data,y,S)}function M0(u,t,e,n){var s=new un;s.domain=[0,4],s.range=[n,e-n];var l=new un;l.domain=[0,10],l.range=[e-n,n];var g=t.map(function(S){var E=new kn;return E.strokeWidth=3,E.lineCap="round",E.fill=void 0,S.forEach(function(D,T){E.path[T>0?"lineTo":"moveTo"](s.convert(T),l.convert(D))}),E}),y=new zc;return y.x=y.y=n,y.width=y.height=e-2*n,y.append(g),u.append(y),g}var F0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CA=function(u){function t(e,n,s){var l=u.call(this,e,"groupedColumnTooltip")||this;l.columnData=[2,3,4];var y=l.root;return l.columns=Il({stacked:!1,root:y,data:l.columnData,size:l.size,padding:l.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),y.append(l.columns),l.updateColors(n,s),l}return F0(t,u),t.prototype.updateColors=function(e,n){this.columns.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]})},t.chartType="groupedColumn",t}(ds),ox=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yb=function(u){function t(e,n,s,l,g,y){void 0===l&&(l=t.data),void 0===g&&(g=[0,16]),void 0===y&&(y="stackedColumnTooltip");var S=u.call(this,e,y)||this,D=S.root;return S.stackedColumns=Il({stacked:!0,root:D,data:l,size:S.size,padding:S.padding,xScaleDomain:[0,1,2],yScaleDomain:g,xScalePadding:.3}),D.append([].concat.apply([],S.stackedColumns)),S.updateColors(n,s),S}return ox(t,u),t.prototype.updateColors=function(e,n){this.stackedColumns.forEach(function(s,l){return s.forEach(function(g){g.fill=e[l],g.stroke=n[l]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(ds),sx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),I0=function(u){function t(e,n,s){return u.call(this,e,n,s,t.data,[0,10],"normalizedColumnTooltip")||this}return sx(t,u),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Yb),qb=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nl=function(u){function t(e,n,s){var l=u.call(this,e,"groupedBarTooltip")||this,g=l.padding,y=l.size,E=new Kn;E.domain=[0,1,2],E.range=[g,y-g],E.paddingInner=.3,E.paddingOuter=.3;var D=new un;D.domain=[0,4],D.range=[y-g,g];var T=D.convert(0),P=E.bandwidth;return l.bars=[2,3,4].map(function(F,I){var G=new Cn;return G.x=g,G.y=E.convert(I),G.width=T-D.convert(F),G.height=P,G.strokeWidth=1,G.crisp=!0,G}),l.updateColors(n,s),l.root.append(l.bars),l}return qb(t,u),t.prototype.updateColors=function(e,n){this.bars.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]})},t.chartType="groupedBar",t}(ds),wA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),N0=function(u){function t(e,n,s,l,g,y){void 0===l&&(l=t.data),void 0===g&&(g=[0,16]),void 0===y&&(y="stackedBarTooltip");var S=u.call(this,e,y)||this,E=S.size,D=S.padding,T=new Kn;T.domain=[0,1,2],T.range=[D,E-D],T.paddingInner=.3,T.paddingOuter=.3;var P=new un;P.domain=g,P.range=[E-D,D];var F=P.convert(0),I=T.bandwidth;return S.bars=l.map(function(G){return G.map(function(j,U){var z=new Cn;return z.x=D,z.y=T.convert(U),z.width=F-P.convert(j),z.height=I,z.strokeWidth=1,z.crisp=!0,z})}),S.updateColors(n,s),S.root.append([].concat.apply([],S.bars)),S}return wA(t,u),t.prototype.updateColors=function(e,n){this.bars.forEach(function(s,l){return s.forEach(function(g){g.fill=e[l],g.stroke=n[l]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(ds),_A=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),SA=function(u){function t(e,n,s){return u.call(this,e,n,s,t.data,[0,10],"normalizedBarTooltip")||this}return _A(t,u),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(N0),bA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),L0=function(u){function t(e,n,s,l,g){void 0===l&&(l=.6),void 0===g&&(g="doughnutTooltip");var y=u.call(this,e,g)||this,S=(y.size-2*y.padding)/2,E=S+y.padding,D=[[mn(-90),mn(30)],[mn(30),mn(120)],[mn(120),mn(180)],[mn(180),mn(210)],[mn(210),mn(240)],[mn(240),mn(270)]];return y.sectors=D.map(function(T){var P=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(T,2),F=P[0],I=P[1],G=new mt;return G.centerX=E,G.centerY=E,G.innerRadius=S*l,G.outerRadius=S,G.startAngle=F,G.endAngle=I,G.stroke=void 0,G.strokeWidth=1,G}),y.updateColors(n,s),y.root.append(y.sectors),y}return bA(t,u),t.prototype.updateColors=function(e,n){this.sectors.forEach(function(s,l){s.fill=e[l%e.length],s.stroke=n[l%n.length]})},t.chartType="doughnut",t}(Kb),OA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),DA=function(u){function t(e,n,s){return u.call(this,e,n,s,0,"pieTooltip")||this}return OA(t,u),t.chartType="pie",t}(L0),My=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),G0=function(u){function t(e,n,s){var l=u.call(this,e,"lineTooltip")||this;return l.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],l.lines=M0(l.root,l.data,l.size,l.padding),l.updateColors(n,s),l}return My(t,u),t.prototype.updateColors=function(e,n){this.lines.forEach(function(s,l){s.stroke=e[l]})},t.chartType="line",t}(ds),k0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),B0=function(u){function t(e,n,s){var l=u.call(this,e,"scatterTooltip")||this,g=l.size,y=l.padding,E=new un;E.domain=[-.5,4],E.range=[2*y,g-y];var D=new un;D.domain=[-.5,3.5],D.range=[g-y,y];var T=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(F){F.forEach(function(I){var G=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(I,2),j=G[0],U=G[1],z=new xc;z.strokeWidth=1,z.centerX=E.convert(j),z.centerY=D.convert(U),z.radiusX=z.radiusY=2.5,T.push(z)})}),l.points=T,l.updateColors(n,s);var P=new zc;return P.x=P.y=y,P.width=P.height=g-2*y,P.append(l.points),l.root.append(P),l}return k0(t,u),t.prototype.updateColors=function(e,n){this.points.forEach(function(s,l){s.stroke=n[l%n.length],s.fill=e[l%e.length]})},t.chartType="scatter",t}(ds),H0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AA=function(u){function t(e,n,s){var l=u.call(this,e,"bubbleTooltip")||this,g=l.size,y=l.padding,E=new un;E.domain=[0,1],E.range=[2*y,g-y];var D=new un;D.domain=[0,1],D.range=[g-y,y];var T=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(F){F.forEach(function(I){var G=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(I,3),j=G[0],U=G[1],z=G[2],Y=new xc;Y.strokeWidth=1,Y.centerX=E.convert(j),Y.centerY=D.convert(U),Y.radiusX=Y.radiusY=z,Y.fillOpacity=.7,T.push(Y)})}),l.points=T,l.updateColors(n,s);var P=new zc;return P.x=y,P.y=y,P.width=g-2*y,P.height=g-2*y,P.append(l.points),l.root.append(P),l}return H0(t,u),t.prototype.updateColors=function(e,n){this.points.forEach(function(s,l){s.stroke=n[l%n.length],s.fill=e[l%e.length]})},t.chartType="bubble",t}(ds),PA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),TA=function(u){function t(e,n,s,l){void 0===l&&(l=t.data);var g=u.call(this,e,"groupedAreaTooltip")||this,y=g.size,S=g.padding,E=new Kn;E.domain=[0,1,2],E.paddingInner=1,E.paddingOuter=0,E.range=[S+.5,y-S-.5];var D=new un;D.domain=[0,6],D.range=[y-S+.5,S];var P=2*l.length-1,F=[],I=D.convert(0);return l.forEach(function(G,j){var U=E.convert(j);G.forEach(function(z,Y){var J=D.convert(z),ae=F[Y]||(F[Y]=[]);ae[j]={x:U,y:J},ae[P-j]={x:U,y:I}})}),g.areas=F.reverse().map(function(G){var j=new kn;j.strokeWidth=1,j.fillOpacity=.7;var U=j.path;return U.clear(),G.forEach(function(z,Y){return U[Y>0?"lineTo":"moveTo"](z.x,z.y)}),U.closePath(),j}),g.updateColors(n,s),g.root.append(g.areas),g}return PA(t,u),t.prototype.updateColors=function(e,n){this.areas.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(ds),xA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xb=function(u){function t(e,n,s,l,g){void 0===l&&(l=t.data),void 0===g&&(g="stackedAreaTooltip");var y=u.call(this,e,g)||this,S=y.size,E=y.padding,D=new Kn;D.domain=[0,1,2],D.paddingInner=1,D.paddingOuter=0,D.range=[E+.5,S-E-.5];var T=new un;T.domain=[0,16],T.range=[S-E+.5,E+.5];var F=2*l.length-1,I=[];return l.forEach(function(G,j){var U=D.convert(j),z=0;G.forEach(function(Y,J){var ae=T.convert(z+Y),se=I[J]||(I[J]=[]);se[j]={x:U,y:ae},se[F-j]={x:U,y:T.convert(z)},z+=Y})}),y.areas=I.map(function(G){var j=new kn;j.strokeWidth=1;var U=j.path;return U.clear(),G.forEach(function(z,Y){return U[Y>0?"lineTo":"moveTo"](z.x,z.y)}),U.closePath(),j}),y.updateColors(n,s),y.root.append(y.areas),y}return xA(t,u),t.prototype.updateColors=function(e,n){this.areas.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(ds),MA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fy=function(u){function t(e,n,s,l){return void 0===l&&(l=t.data),u.call(this,e,n,s,l,"normalizedAreaTooltip")||this}return MA(t,u),t.chartType="normalizedArea",t.data=Xb.data.map(function(e){var n=e.reduce(function(s,l){return s+l},0);return e.map(function(s){return s/n*16})}),t}(Xb),FA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),i_=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},me=function(u){function t(e,n,s){var l=u.call(this,e,"histogramTooltip")||this,g=l.padding,y=l.size,S=[2,5,11,13,10,6,1],E=new un;E.domain=[0,S.length],E.range=[g,y-g];var D=new un;D.domain=[0,S.reduce(function(P,F){return Math.max(P,F)},0)],D.range=[y-g,g];var T=D.convert(0);return l.bars=S.map(function(P,F){var I=D.convert(P),G=E.convert(F),j=E.convert(F+1),U=new Cn;return U.x=G,U.y=I,U.width=j-G,U.height=T-I,U.strokeWidth=1,U.crisp=!0,U}),l.updateColors(n,s),l.root.append(l.bars),l}return FA(t,u),t.prototype.updateColors=function(e,n){var l=i_(e,1)[0],y=i_(n,1)[0];this.bars.forEach(function(S){S.fill=l,S.stroke=y})},t.chartType="histogram",t}(ds),IA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Iy=function(u){function t(e,n,s){var l=u.call(this,e,"columnLineComboTooltip")||this;l.columnData=[3,4],l.lineData=[[5,4,6,5,4]];var y=l.root,E=l.lineData,D=l.size,T=l.padding;return l.columns=Il({stacked:!1,root:y,data:l.columnData,size:D,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),y.append(l.columns),l.lines=M0(y,E,D,T),l.updateColors(n,s),l}return IA(t,u),t.prototype.updateColors=function(e,n){this.columns.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]}),this.lines.forEach(function(s,l){s.stroke=e[l+2]})},t.chartType="columnLineCombo",t}(ds),Hu=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),NA=function(u){function t(e,n,s){var l=u.call(this,e,"areaColumnComboTooltip")||this;l.columnData=[3,4.5],l.areaData=[[5,4,6,5,4]];var y=l.root,E=l.areaData,D=l.size,T=l.padding;l.columns=Il({stacked:!1,root:y,data:l.columnData,size:D,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var P=new Kn;P.range=[T,D-T],P.domain=[0,1,2,3,4],P.paddingInner=1,P.paddingOuter=0;var F=new un;F.range=[D-T,T],F.domain=[0,6];var I=[],G=F.convert(0),j=P.convert(0);return E.forEach(function(U,z){var Y=I[z]||(I[z]=[]);U.forEach(function(ae,se){var ce=ae,fe=P.convert(se),we=F.convert(ce);Y[se]={x:fe,y:we}});var J=P.convert(U.length-1);I[z].push({x:J,y:G},{x:j,y:G})}),l.areas=I.map(function(U){var z=new kn;z.strokeWidth=1,z.fillOpacity=.8;var Y=z.path;return U.forEach(function(J,ae){return Y[ae>0?"lineTo":"moveTo"](J.x,J.y)}),z}),y.append(l.areas),y.append([].concat.apply([],l.columns)),l.updateColors(n,s),l}return Hu(t,u),t.prototype.updateColors=function(e,n){this.areas.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]}),this.columns.forEach(function(s,l){s.fill=e[l+1],s.stroke=n[l+1]})},t.chartType="areaColumnCombo",t}(ds),LA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),W0=function(u){function t(e,n,s){var l=u.call(this,e,"customComboTooltip")||this;l.columnData=[3,4],l.lineData=[[5,4,6,5,4]];var y=l.root,E=l.lineData,D=l.size,T=l.padding;l.columns=Il({stacked:!1,root:y,data:l.columnData,size:D,padding:T,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),y.append(l.columns),l.lines=M0(y,E,D,T);var P="grey",I=new Fo;I.x1=T,I.y1=T,I.x2=T,I.y2=D-T+3,I.stroke=P;var G=new Fo;G.x1=T-3+1,G.y1=D-T,G.x2=D-T+1,G.y2=D-T,G.stroke=P;var j=new kn;return j.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",j.fill="whitesmoke",j.stroke="darkslategrey",j.strokeWidth=1,y.append([G,I,j]),l.updateColors(n,s),l}return LA(t,u),t.prototype.updateColors=function(e,n){this.columns.forEach(function(s,l){s.fill=e[l],s.stroke=n[l]}),this.lines.forEach(function(s,l){s.stroke=e[l+2]})},t.chartType="customCombo",t}(Kb),o_=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ho=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},GA=function(u){function t(e,n,s){var l=u.call(this,t.TEMPLATE)||this;return l.wrappers={},l.chartGroups={columnGroup:[CA,Yb,I0],barGroup:[Nl,N0,SA],pieGroup:[DA,L0],lineGroup:[G0],scatterGroup:[B0,AA],areaGroup:[TA,Xb,Fy],histogramGroup:[me],combinationGroup:[Iy,NA,W0]},l.chartController=e,l.fills=n,l.strokes=s,l}return o_(t,u),t.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(s){return s!==W0}));var n=this.getGui();Object.keys(this.chartGroups).forEach(function(s){var l=e.chartGroups[s],g=e.createBean(new b.AgGroupComponent({title:e.chartTranslationService.translate(s),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));l.forEach(function(y){var S=document.createElement("div");S.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(S,"click",function(){e.chartController.setChartType(y.chartType),e.updateSelectedMiniChart()}),e.wrappers[y.chartType]=S,e.createBean(new y(S,e.fills,e.strokes)),g.addItem(S)}),n.appendChild(g.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var n in this.wrappers)this.wrappers[n].classList.toggle("ag-selected",n===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',Ho([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ho([b.PostConstruct],t.prototype,"init",null),t}(b.Component),kA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ip=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},j0=function(u){function t(e){var n=u.call(this,t.TEMPLATE)||this;return n.miniCharts=[],n.cardItems=[],n.activePaletteIndex=0,n.palettes=[],n.themes=[],n.chartController=e,n}return kA(t,u),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",b._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",b._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,Vd.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var s=e.miniCharts.find(function(l){return!l.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");s&&s.scrollIntoView({block:"nearest"})},250)},t.prototype.resetPalettes=function(e){var n=this,s=this.chartController.getPalettes();b._.shallowCompare(s,this.palettes)&&!e||this.isAnimating||(this.palettes=s,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(l){return l===n.chartController.getChartThemeName()}),this.cardItems=[],b._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(l,g){var y=n.activePaletteIndex===g,D=n.createBean(new GA(n.chartController,l.fills,l.strokes));n.miniCharts.push(D),n.eMiniChartsContainer.appendChild(D.getGui()),n.addCardLink(g),y?D.updateSelectedMiniChart():D.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),b._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var n=this,s=document.createElement("div");s.classList.add("ag-chart-settings-card-item"),this.addManagedListener(s,"click",function(){n.setActivePalette(e,e<n.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(s),this.cardItems.push(s)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,n){var s=this;if(!this.isAnimating&&this.activePaletteIndex!==e){b._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var l=this.miniCharts[this.activePaletteIndex],g=l.getGui(),y=this.miniCharts[e],S=y.getGui();l.updateSelectedMiniChart(),y.updateSelectedMiniChart();var E="left"===n?-1:1,D=S.style.left=b._.getAbsoluteWidth(this.getGui())*E+"px";this.activePaletteIndex=e,this.isAnimating=!0;var T="ag-animating";y.removeCssClass("ag-hidden"),l.addCssClass(T),y.addCssClass(T),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){g.style.left=-parseFloat(D)+"px",S.style.left="0px"},0),window.setTimeout(function(){s.isAnimating=!1,l.removeCssClass(T),y.removeCssClass(T),l.addCssClass("ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){b._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),u.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',ip([b.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),ip([b.RefSelector("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),ip([b.RefSelector("eNavBar")],t.prototype,"eNavBar",void 0),ip([b.RefSelector("eCardSelector")],t.prototype,"eCardSelector",void 0),ip([b.RefSelector("ePrevBtn")],t.prototype,"ePrevBtn",void 0),ip([b.RefSelector("eNextBtn")],t.prototype,"eNextBtn",void 0),ip([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Zb=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qb=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},VA=function(u){function t(e){var n=u.call(this)||this;n.tabs=[];var l=e.panels,g=e.chartOptionsService;return n.chartController=e.controller,n.chartOptionsService=g,n.panels=l,n}return Zb(t,u),t.prototype.init=function(){var e=this;this.panels.forEach(function(n){var s=n.replace("chart","").toLowerCase(),l=e.createTab(n,s,e.getPanelClass(s)),g=l.comp;e.tabs.push(l.tab),e.addDestroyFunc(function(){return e.destroyBean(g)})}),this.tabbedLayout=new b.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,n,s){var l=document.createElement("div");l.classList.add("ag-chart-tab","ag-chart-"+n);var g=new s(this.chartController,this.chartOptionsService);this.getContext().createBean(g),l.appendChild(g.getGui());var y=document.createElement("div"),S=this.chartTranslationService.translate(n);return y.innerText=S,{comp:g,tab:{title:y,titleLabel:S,bodyPromise:b.AgPromise.resolve(l),getScrollableContainer:function(){return l.querySelector(".ag-scrollable-container")||l},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),u.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return D0;case t.TAB_FORMAT:return $b;default:return j0}},t.TAB_DATA="data",t.TAB_FORMAT="format",Qb([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Qb([b.PostConstruct],t.prototype,"init",null),t}(b.Component),BA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HA=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},s_=function(u){function t(e,n,s,l){var g=u.call(this,t.TEMPLATE)||this;return g.eChartContainer=e,g.eMenuPanelContainer=n,g.chartController=s,g.chartOptionsService=l,g.buttons={chartSettings:["menu",function(){return g.showMenu("chartSettings")}],chartData:["menu",function(){return g.showMenu("chartData")}],chartFormat:["menu",function(){return g.showMenu("chartFormat")}],chartLink:["linked",function(y){return g.toggleDetached(y)}],chartUnlink:["unlinked",function(y){return g.toggleDetached(y)}],chartDownload:["save",function(){return g.saveChart()}]},g.tabs=[],g.menuVisible=!1,g}return BA(t,u),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,n=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],s=this.gridOptionsWrapper.getChartToolbarItemsFunc();s&&(n=s({defaultItems:n}).filter(function(y){return!!e.buttons[y]||(console.warn("AG Grid: '"+y+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(n=n.filter(function(y){return"chartData"!==y}));var g=["chartUnlink","chartLink","chartDownload"];return this.tabs=n.filter(function(y){return-1===g.indexOf(y)}),n.filter(function(y){return-1!==g.indexOf(y)||e.tabs.length&&y===e.tabs[0]})},t.prototype.toggleDetached=function(e){var n=e.target,s=n.classList.contains("ag-icon-linked");n.classList.toggle("ag-icon-linked",!s),n.classList.toggle("ag-icon-unlinked",s);var g=this.chartTranslationService.translate(s?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");g&&(n.title=g),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,n=this.getToolbarOptions(),s=this.getGui();n.forEach(function(l){var y=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(e.buttons[l],2),E=y[1],D=b._.createIconNoSpan(y[0],e.gridOptionsWrapper,void 0,!0);D.classList.add("ag-chart-menu-icon");var T=e.chartTranslationService.translate(l+"ToolbarTooltip");T&&(D.title=T),e.addManagedListener(D,"click",E),s.appendChild(D)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var n=this,s=this.gridOptionsWrapper.chartMenuPanelWidth(),l=this.menuPanel=this.createBean(new b.AgPanel({minWidth:s,width:s,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return l.setParentComponent(this),this.eMenuPanelContainer.appendChild(l.getGui()),this.tabbedMenu=this.createBean(new VA({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(l,b.Component.EVENT_DESTROYED,function(){return n.destroyBean(n.tabbedMenu)}),new b.AgPromise(function(g){window.setTimeout(function(){l.setBodyComponent(n.tabbedMenu),n.tabbedMenu.showTab(e),n.addManagedListener(n.eChartContainer,"click",function(y){n.getGui().contains(y.target)||n.menuVisible&&n.hideMenu()}),g(l)},100)})},t.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var n=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(n).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){u.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',HA([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),HA([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),U0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bf=function(){return Bf=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Bf.apply(this,arguments)},a_=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},WA=function(u){function t(e){var n=u.call(this,t.TEMPLATE)||this;return n.chartMenu=e,n}return U0(t,u),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(n){"Enter"===n.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.refreshTitle=function(e,n){var s=this;this.chartController=e,this.chartOptionsService=n;var l=this.chartController.getChartProxy();if(l){for(var g=0;g++;g<this.destroyableChartListeners.length)this.destroyableChartListeners[g]();this.destroyableChartListeners=[]}var y=l.getChart(),S=y.scene.canvas.element,E=this.addManagedListener(S,"dblclick",function(T){var P=y.title;if(P&&P.node.containsPoint(T.offsetX,T.offsetY)){var F=P.node.computeBBox(),I=P.node.inverseTransformPoint(F.x,F.y);s.startEditing(Bf(Bf({},F),I))}}),D=this.addManagedListener(S,"mousemove",function(T){var P=y.title,F=P&&P.enabled&&P.node.containsPoint(T.offsetX,T.offsetY);S.style.cursor=F?"pointer":""});this.destroyableChartListeners=[E,D]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var s=this.chartController.getChartProxy().getChart().width,l=Math.max(Math.min(e.width+20,s),300),g=this.getGui();g.classList.add("currently-editing");var y=g.style;y.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),y.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),y.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),y.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",y.color=this.chartOptionsService.getChartOption("title.color");var S=this.chartOptionsService.getChartOption("title.text"),E=S===this.chartTranslationService.translate("titlePlaceholder")?"":S;g.value=E;var D=g.getBoundingClientRect();y.left=Math.round(e.x+e.width/2-l/2)+"px",y.top=Math.round(e.y+e.height/2-D.height/2)+"px",y.width=Math.round(l)+"px",g.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',a_([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),a_([b.PostConstruct],t.prototype,"init",null),t}(b.Component);function Ny(u,t){return!1!==t.clone&&t.isMergeableObject(u)?wn(function jA(u){return Array.isArray(u)?[]:{}}(u),u,t):u}function UA(u,t,e){return u.concat(t).map(function(n){return Ny(n,e)})}function Hf(u){return Object.keys(u).concat(function eE(u){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u).filter(function(t){return u.propertyIsEnumerable(t)}):[]}(u))}function $0(u,t){try{return t in u}catch(e){return!1}}function zA(u){return function K0(u){return!!u&&"object"==typeof u}(u)&&!function Y0(u){var t=Object.prototype.toString.call(u);return"[object RegExp]"===t||"[object Date]"===t}(u)}function wn(u,t,e){(e=e||{}).arrayMerge=e.arrayMerge||UA,e.isMergeableObject=e.isMergeableObject||zA,e.cloneUnlessOtherwiseSpecified=Ny;var n=Array.isArray(t);return n===Array.isArray(u)?n?e.arrayMerge(u,t,e):function Gy(u,t,e){var n={};return e.isMergeableObject(u)&&Hf(u).forEach(function(s){n[s]=Ny(u[s],e)}),Hf(t).forEach(function(s){(function Ly(u,t){return $0(u,t)&&!(Object.hasOwnProperty.call(u,t)&&Object.propertyIsEnumerable.call(u,t))})(u,s)||(n[s]=$0(u,s)&&e.isMergeableObject(t[s])?function z0(u,t){if(!t.customMerge)return wn;var e=t.customMerge(u);return"function"==typeof e?e:wn}(s,e)(u[s],t[s],e):Ny(t[s],e))}),n}(u,t,e):Ny(t,e)}var Wf=function(){return Wf=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Wf.apply(this,arguments)},jf=function(){function u(t){if(this.chartProxyParams=t,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=Ba(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore;var e={overrides:this.chartOptions};this.chartTheme=Ff(Wf({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config)}return u.prototype.recreateChart=function(){var t=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(n){return t.crossFilterCallback(n,!0)})},u.prototype.getChart=function(){return this.chart},u.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),n=this.isStockTheme(e),s=this.chartProxyParams.getGridOptionsChartThemeOverrides(),l=this.chartProxyParams.apiChartThemeOverrides;if(s||l){var g={overrides:u.mergeThemeOverrides(s,l)};return Ff(n?Wf({baseTheme:e},g):wn(this.lookupCustomChartTheme(e),g))}return Ff(n?e:this.lookupCustomChartTheme(e))},u.prototype.isStockTheme=function(t){return b._.includes(Object.keys(Qe),t)},u.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return b._.includes(e,t)||(t=e[0]),t},u.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,n=e&&e[t];return n||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},u.mergeThemeOverrides=function(t,e){return t?e?wn(t,e):t:e},u.prototype.downloadChart=function(){var t=this.chart;t.scene.download(t.title?t.title.text:"chart")},u.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},u.prototype.getChartOptions=function(){return this.chartOptions},u.prototype.transformData=function(t,e){return this.chartProxyParams.grouping||this.chart.axes.filter(function(s){return s instanceof uo}).length<1?t:t.map(function(s,l){var g=s[e],y=g&&g.toString?g.toString():"",S=Wf({},s);return S[e]={id:l,value:g,toString:function(){return y}},S})},u.prototype.convertConfigToOverrides=function(t){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),s={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(l){var g=wn({},t[l]);g.series=g.series[l],"scatter"===l&&(g.paired=!0),s[l]=g}),s},u.prototype.destroy=function(){this.destroyChart()},u.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},u}(),fo=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ha=function(u){function t(e){var n=u.call(this,e)||this;return n.axisTypeToClassMap={number:Io,category:uo,groupedCategory:Gi,time:Od},n}return fo(t,u),t.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==Gi&&(this.xAxisType="groupedCategory",this.recreateChart());else{var n=t.isTimeAxis(e)?"time":"category";n!==this.xAxisType&&(this.xAxisType=n,this.recreateChart())}},t.prototype.updateLabelRotation=function(e){var n=this.chart.axes[0].label;if(e===rd.DEFAULT_CATEGORY)n.rotation=0;else{var s=this.getAxesOptions()[this.xAxisType];n.rotation=s.label.rotation}this.chart.layoutPending=!0},t.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},t.prototype.processDataForCrossFiltering=function(e,n,s){var l=n,g=!1;return this.crossFiltering&&(e.forEach(function(S){S[n+"-total"]=S[n]+S[n+"-filtered-out"],S[n+"-filtered-out"]>0&&(g=!0)}),s.getCrossFilteringContext().lastSelectedChartId===s.chartId&&(l=n+"-total")),{yKey:l,atLeastOneSelectedPoint:g}},t.prototype.updateSeriesForCrossFiltering=function(e,n,s,l,g){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(D){return{fill:D.highlighted?"yellow":D.fill,size:D.highlighted?12:D.datum[n]>0?8:0}},s.tooltip.delay=500;var E=l.getCrossFilteringContext().lastSelectedChartId===l.chartId&&g;e instanceof Fd&&(e.fillOpacity=E?.3:1),e instanceof Bo&&(e.strokeOpacity=E?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var n=e.data[0];return(n&&n[e.category.id])instanceof Date},t}(jf);function Uf(u,t){var e=parseInt(u.slice(1,3),16),n=parseInt(u.slice(3,5),16),s=parseInt(u.slice(5,7),16);return t?"rgba("+e+", "+n+", "+s+", "+t+")":"rgba("+e+", "+n+", "+s+")"}function tE(u,t){return u.map(function(e){var n=b.Color.fromString(e);return new b.Color(n.r,n.g,n.b,t).toHexString()})}var ax=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),go=function(){return go=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},go.apply(this,arguments)},rE=function(u){function t(e){var n=u.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return ax(t,u),t.prototype.createChart=function(){var e=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(["bar"===this.standaloneChartType,this.isNormalised()],2),s=e[1];return Vi.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(e[0],s),series:this.getSeries(s)})},t.prototype.update=function(e){this.updateAxes(e);var n=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(n,e):(n.fills=this.chartTheme.palette.fills,n.strokes=this.chartTheme.palette.strokes),n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(s){return s.colId}),n.yNames=e.fields.map(function(s){return s.displayName}),this.updateLabelRotation(e.category.id)},t.prototype.updateCrossFilteringSeries=function(e,n){var s=n.fields;s.forEach(function(E){var D=go({},E);D.colId=E.colId+"-filtered-out",s.push(D)});var l=this.chartTheme.palette,g=[];l.fills.forEach(function(E){g.push(E),g.push(Uf(E,"0.3"))}),e.fills=g,l.strokes.forEach(function(E){g.push(E),g.push(Uf(E,"0.3"))}),e.strokes=[],e.highlightStyle.fill=void 0;var S=n.fields.map(function(E){return E.colId});e.hideInLegend=S.filter(function(E){return-1!==E.indexOf("-filtered-out")}),this.chart.legend.addEventListener("click",function(E){e.toggleSeriesItem(E.itemId+"-filtered-out",E.enabled)}),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},t.prototype.getAxes=function(e,n){var s=this.getAxesOptions(),l=[go(go({},wn(s[this.xAxisType],s[this.xAxisType].bottom)),{type:this.xAxisType,position:e?xt.Left:xt.Bottom}),go(go({},wn(s[this.yAxisType],s[this.yAxisType].left)),{type:this.yAxisType,position:e?xt.Bottom:xt.Left})];if(n){var g=l[1];g.label=go(go({},g.label),{formatter:function(y){return Math.round(y.value)+"%"}})}return l},t.prototype.getSeries=function(e){var s=!this.crossFiltering&&b._.includes(["groupedColumn","groupedBar"],this.chartType);return[go(go({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:s,normalizedTo:e?100:void 0})]},t.prototype.isNormalised=function(){return!this.crossFiltering&&b._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(Ha),KA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hi=function(){return Hi=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Hi.apply(this,arguments)},YA=function(u){function t(e){var n=u.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return KA(t,u),t.prototype.createChart=function(){return Vi.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){if(this.updateAxes(e),"area"===this.chartType)this.updateAreaChart(e);else{var n=this.chart.series[0];if(!n){var s=Hi(Hi({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===this.chartType?100:void 0});if(!(n=Vi.createComponent(Hi({},s),"area.series")))return;this.chart.addSeries(n)}n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(l){return l.colId}),n.yNames=e.fields.map(function(l){return l.displayName}),n.fills=this.chartTheme.palette.fills,n.strokes=this.chartTheme.palette.strokes}this.updateLabelRotation(e.category.id)},t.prototype.updateAreaChart=function(e){var n=this,s=this.chart;if(0!==e.fields.length){var S,l=e.fields.map(function(P){return P.colId}),g=s.series.reduceRight(function(P,F,I){var G=F.yKeys[0];return l.indexOf(G)===I?P.set(G,F):s.removeSeries(F),P},new Map),y=this.transformData(e.data,e.category.id),E=this.chartTheme.palette,D=E.fills,T=E.strokes;e.fields.forEach(function(P,F){var I=n.processDataForCrossFiltering(y,P.colId,e),G=I.yKey,j=I.atLeastOneSelectedPoint,U=g.get(P.colId),z=D[F%D.length],Y=T[F%T.length];if(U)U.data=y,U.xKey=e.category.id,U.xName=e.category.name,U.yKeys=[G],U.yNames=[P.displayName],U.fills=[z],U.strokes=[Y];else{var ae=Hi(Hi({},n.chartOptions[n.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===n.chartType?100:void 0}),se=Hi(Hi({},ae),{data:y,xKey:e.category.id,xName:e.category.name,yKeys:[G],yNames:[P.displayName],fills:[z],strokes:[Y],marker:Hi(Hi({},ae.marker),{fill:z,stroke:Y})});U=Vi.createComponent(se,"area.series"),s.addSeriesAfter(U,S)}n.updateSeriesForCrossFiltering(U,P.colId,s,e,j),S=U})}else s.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions(),n=[Hi(Hi({},wn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:xt.Bottom,paddingInner:1,paddingOuter:0}),Hi(Hi({},wn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:xt.Left})];return"time"===this.xAxisType&&(delete n[0].paddingInner,delete n[0].paddingOuter),n},t}(Ha),qA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ia=function(){return ia=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},ia.apply(this,arguments)},q0=function(u){function t(e){var n=u.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return qA(t,u),t.prototype.createChart=function(){return Vi.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var n=this;if(0!==e.fields.length){this.updateAxes(e);var E,s=this.chart,l=e.fields,g=l.map(function(F){return F.colId}),y=this.transformData(e.data,e.category.id),S=s.series.reduceRight(function(F,I,G){var j=I.yKey;return g.indexOf(j)===G?F.set(j,I):s.removeSeries(I),F},new Map),D=this.chartTheme.palette,T=D.fills,P=D.strokes;l.forEach(function(F,I){var G=n.processDataForCrossFiltering(y,F.colId,e),j=G.yKey,U=G.atLeastOneSelectedPoint,z=S.get(F.colId),Y=T[I%T.length],J=P[I%P.length];if(z)z.title=F.displayName,z.data=y,z.xKey=e.category.id,z.xName=e.category.name,z.yKey=j,z.yName=F.displayName,z.marker.fill=Y,z.marker.stroke=J,z.stroke=Y;else{var ae=n.chartOptions[n.standaloneChartType].series,se=ia(ia({},ae),{type:"line",title:F.displayName,data:y,xKey:e.category.id,xName:e.category.name,yKey:j,yName:F.displayName,stroke:Y,marker:ia(ia({},ae.marker),{fill:Y,stroke:J})});z=Vi.createComponent(se,"line.series"),s.addSeriesAfter(z,E)}n.updateSeriesForCrossFiltering(z,F.colId,s,e,U),E=z}),this.updateLabelRotation(e.category.id)}else this.chart.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[ia(ia({},wn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:xt.Bottom}),ia(ia({},wn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:xt.Left})]},t}(Ha),X0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ky=function(u){function t(e){return u.call(this,e)||this}return X0(t,u),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(n){return{content:n.datum[n.labelKey]+": "+n.angleValue*n.datum[n.radiusKey]}}},t}(jf),nE=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),l_=function(){return l_=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},l_.apply(this,arguments)},Z0=function(u){function t(e){var n=u.call(this,e)||this;return n.recreateChart(),n}return nE(t,u),t.prototype.createChart=function(){return Vi.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var n=this.chart;if(0!==e.fields.length){var s=e.fields[0],l=s;if(this.crossFiltering){var g=e.fields;g.forEach(function(P){var F=l_({},P);F.colId=P.colId+"-filtered-out",g.push(F)});var y=g[1];e.data.forEach(function(P){P[s.colId+"-total"]=P[s.colId]+P[y.colId],P[s.colId]=P[s.colId]/P[s.colId+"-total"],P[y.colId]=1});var S=n.series[1],E=y;S=this.updateSeries(n,S,l,E,e,void 0),this.updateSeries(n,n.series[0],l,E=l,e,S)}else this.updateSeries(n,n.series[0],l,l,e,void 0)}else n.removeAllSeries()},t.prototype.updateSeries=function(e,n,s,l,g,y){var E=this.chartOptions[this.standaloneChartType].series,D=n;if((n&&n.angleKey)!==l.colId){e.removeSeries(n);var T=l_(l_({},E),{type:"pie",angleKey:this.crossFiltering?s.colId+"-total":s.colId,radiusKey:this.crossFiltering?l.colId:void 0});(D=Vi.createComponent(T,"pie.series")).fills=this.chartTheme.palette.fills,D.strokes=this.chartTheme.palette.strokes,D.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&D&&!D.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(D)}return D.angleName=l.displayName,D.labelKey=g.category.id,D.labelName=g.category.name,D.data=g.data,this.crossFiltering&&(D.radiusMin=0,D.radiusMax=1,y?e.legend.addEventListener("click",function(F){y&&y.toggleSeriesItem(F.itemId,F.enabled)}):(D.fills=tE(D.fills,.3),D.strokes=tE(D.strokes,.3),D.callout.colors=tE(D.strokes,.3),D.showInLegend=!1),e.tooltip.delay=500,D.highlightStyle.fill=void 0,D.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(D),D},t}(ky),XA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),op=function(){return op=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},op.apply(this,arguments)},u_=function(u){function t(e){var n=u.call(this,e)||this;return n.recreateChart(),n}return XA(t,u),t.prototype.createChart=function(){return Vi.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var n=this;if(0!==e.fields.length){var s=this.chart,l=e.fields.map(function(P){return P.colId}),g={};s.series.forEach(function(P){var F=P,I=F.angleKey;b._.includes(l,I)&&(g[I]=F)});var y=this.chartTheme.palette.fills,S=this.chartTheme.palette.strokes,E=this.chartOptions[this.standaloneChartType].series,D=e.fields.length,T=0;e.fields.forEach(this.crossFiltering?function(P,F){var I=op({},P);I.colId=P.colId+"-filtered-out",e.data.forEach(function(z){z[P.colId+"-total"]=z[P.colId]+z[I.colId],z[P.colId]=z[P.colId]/z[P.colId+"-total"],z[I.colId]=1});var G=n.updateSeries({seriesMap:g,angleField:P,field:I,seriesDefaults:E,index:F,params:e,fills:y,strokes:S,doughnutChart:s,offset:T,numFields:D,opaqueSeries:void 0}),j=G.updatedOffset;n.updateSeries({seriesMap:g,angleField:P,field:P,seriesDefaults:E,index:F,params:e,fills:y,strokes:S,doughnutChart:s,offset:T,numFields:D,opaqueSeries:G.pieSeries}),T=j}:function(P,F){var I=n.updateSeries({seriesMap:g,angleField:P,field:P,seriesDefaults:E,index:F,params:e,fills:y,strokes:S,doughnutChart:s,offset:T,numFields:D,opaqueSeries:void 0}).updatedOffset;T=I}),s.series=b._.values(g)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var n=e.seriesMap[e.field.colId],s=op(op({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:op(op({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),l=n||Vi.createComponent(s,"pie.series");l.title&&(l.title.showInLegend=e.numFields>1),n||this.crossFiltering&&!l.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(l),l.angleName=e.field.displayName,l.labelKey=e.params.category.id,l.labelName=e.params.category.name,l.data=e.params.data,this.crossFiltering?(l.radiusMin=0,l.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(S){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(S.itemId,S.enabled)}),l.fills=e.fills,l.strokes=e.strokes,l.callout.colors=e.strokes):(l.fills=e.fills.map(function(S){return Uf(S,"0.3")}),l.strokes=e.strokes.map(function(S){return Uf(S,"0.3")}),l.showInLegend=!1),l.highlightStyle.fill=void 0,l.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(l.fills=e.fills,l.strokes=e.strokes,l.callout.colors=e.strokes);var y=e.numFields>1?20:40;return l.outerRadiusOffset=e.offset,e.offset-=y,l.innerRadiusOffset=e.offset,e.offset-=y,n||(e.seriesMap[e.field.colId]=l),{updatedOffset:e.offset,pieSeries:l}},t}(ky),Q0=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wu=function(){return Wu=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},Wu.apply(this,arguments)},iE=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},c_=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(iE(arguments[t]));return u},lx=function(u){function t(e){var n=u.call(this,e)||this;return n.xAxisType="number",n.yAxisType="number",n.recreateChart(),n}return Q0(t,u),t.prototype.createChart=function(){return Vi.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var n=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var s=e.fields;this.crossFiltering&&s.forEach(function(z){var Y=Wu({},z);Y.colId=z.colId+"-filtered-out",s.push(Y)});var y,g=this.getSeriesDefinitions(s,this.chartOptions[this.standaloneChartType].paired);this.crossFiltering&&(y=this.getCrossFilteringDataDomain(g,e));var S=this.chart,E=S.series.reduceRight(function(z,Y,J){return g.findIndex(function(se){return se.xField.colId===Y.xKey&&se.yField.colId===Y.yKey&&(!se.sizeField&&!Y.sizeKey||se.sizeField&&se.sizeField.colId===Y.sizeKey)})===J?z.set(Y.yKey,Y):S.removeSeries(Y),z},new Map),D=this.chartTheme.palette,T=D.fills,P=D.strokes;if(this.crossFiltering){var F=[];T.forEach(function(z){F.push(z),F.push(Uf(z,"0.3"))}),T=F;var I=[];P.forEach(function(z){I.push(z),I.push(Uf(z,"0.3"))}),P=I}var j,G=e.category.id===rd.DEFAULT_CATEGORY?void 0:e.category,U=this.chartOptions[this.standaloneChartType].series;g.forEach(function(z,Y){var J=E.get(z.yField.colId),ae=J||Vi.createComponent(Wu(Wu({},U),{type:"scatter"}),"scatter.series");if(ae){var ce=z.xField,pe=z.yField,fe=z.sizeField;ae.title=pe.displayName+" vs "+ce.displayName,ae.xKey=ce.colId,ae.xName=ce.displayName,ae.yKey=pe.colId,ae.yName=pe.displayName,ae.data=e.data,ae.fill=T[Y%T.length],ae.stroke=P[Y%P.length],fe?(ae.sizeKey=fe.colId,ae.sizeName=fe.displayName):ae.sizeKey=void 0,G?(ae.labelKey=G.id,ae.labelName=G.name):ae.labelKey=ae.yKey;var we=pe.colId.indexOf("-filtered-out")>-1;n.crossFiltering&&(we||S.legend.addEventListener("click",function(Fe){ae.toggleSeriesItem(Fe.itemId+"-filtered-out",Fe.enabled)}),y&&(ae.marker.domain=y),S.tooltip.delay=500,we&&(ae.showInLegend=!1),ae.addEventListener("nodeClick",n.crossFilterCallback)),J||S.addSeriesAfter(ae,j),j=ae}})}},t.prototype.getSeriesDefinitions=function(e,n){if(e.length<2)return[];var s="bubble"===this.chartType;if(n)return s?e.map(function(g,y){return y%3==0?{xField:g,yField:e[y+1],sizeField:e[y+2]}:null}).filter(function(g){return g&&g.yField&&g.sizeField}):e.map(function(g,y){return y%2==0?{xField:g,yField:e[y+1]}:null}).filter(function(g){return g&&g.yField});var l=e[0];return s?e.map(function(g,y){return y%2==1?{xField:l,yField:g,sizeField:e[y+1]}:null}).filter(function(g){return g&&g.sizeField}):e.filter(function(g,y){return y>0}).map(function(g){return{xField:l,yField:g}})},t.prototype.getCrossFilteringDataDomain=function(e,n){var s;if(e[0]&&e[0].sizeField){var l=e[0].sizeField.colId,g=[];n.data.forEach(function(y){void 0!==y[l]&&g.push(y[l]),void 0!==y[l+"-filtered-out"]&&g.push(y[l+"-filtered-out"])}),g.length>0&&(s=[Math.min.apply(Math,c_(g)),Math.max.apply(Math,c_(g))])}return s},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[Wu(Wu({},wn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:xt.Bottom}),Wu(Wu({},wn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:xt.Left})]},t}(Ha),ZA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sp=function(){return sp=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},sp.apply(this,arguments)},eD=function(u){function t(e){var n=u.call(this,e)||this;return n.xAxisType="number",n.yAxisType="number",n.recreateChart(),n}return ZA(t,u),t.prototype.createChart=function(){return Vi.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[sp(sp({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},t.prototype.update=function(e){var n=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l}(e.fields,1),s=n[0],g=this.chart.series[0];g.data=e.data,g.xKey=s.colId,g.xName=s.displayName,g.areaPlot=!1,g.fill=this.chartTheme.palette.fills[0],g.stroke=this.chartTheme.palette.strokes[0]},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[sp(sp({},wn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:xt.Bottom}),sp(sp({},wn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:xt.Left})]},t}(Ha),QA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oE=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},tD=function(u){function t(e){var n=u.call(this)||this;return n.chartController=e,n}return QA(t,u),t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChartOption=function(e){return b._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,n){var s=this;this.chartController.getChartSeriesTypes().forEach(function(l){var g=b._.get(s.getChartOptions(),""+l,void 0);b._.set(g,e,n)}),b._.set(this.getChart(),e,n),this.raiseChartOptionsChangedEvent()},t.prototype.getAxisProperty=function(e){return b._.get(this.getChart().axes[0],e,void 0)},t.prototype.setAxisProperty=function(e,n){var s=this,l=this.getChart();l.axes.forEach(function(g){s.updateAxisOptions(g,e,n),b._.set(g,e,n)}),l.layoutPending=!0,this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var n=this.getAxis(e);return b._.get(n,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,n){var s="label.rotation",l=this.getAxis(e);b._.set(l,s,n),this.getChart().layoutPending=!0,l&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(l,s,n),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(e,n){var s=this.getChart().series.find(function(l){return t.isMatchingSeries(n,l)});return b._.get(s,e,void 0)},t.prototype.setSeriesOption=function(e,n,s){var l=this.getChartOptions();l[s]||(l[s]={}),b._.set(l[s].series,e,n),this.getChart().series.forEach(function(g){t.isMatchingSeries(s,g)&&b._.set(g,e,n)}),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){var e=Ba(this.getChartType());return b._.get(this.getChartOptions(),e+".paired",void 0)},t.prototype.setPairedMode=function(e){var n=Ba(this.getChartType()),s=b._.get(this.getChartOptions(),""+n,void 0);b._.set(s,"paired",e)},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},t.prototype.getAxis=function(e){var n=this.getChart();if(n.axes&&!(n.axes.length<1))return"xAxis"===e?n.axes&&"x"===n.axes[0].direction?n.axes[0]:n.axes[1]:n.axes&&"y"===n.axes[1].direction?n.axes[1]:n.axes[0]},t.prototype.updateAxisOptions=function(e,n,s){var l=Ba(this.getChartType()),g=this.getChartOptions()[l].axes;e instanceof Io?b._.set(g.number,n,s):e instanceof uo?b._.set(g.category,n,s):e instanceof Od?b._.set(g.time,n,s):e instanceof Gi&&b._.set(g.groupedCategory,n,s)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),n=Object.freeze({type:b.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(n)},t.isMatchingSeries=function(e,n){return"area"===e&&n instanceof Fd||"bar"===e&&n instanceof Af||"column"===e&&n instanceof Af||"histogram"===e&&n instanceof qc||"line"===e&&n instanceof Bo||"pie"===e&&n instanceof xl||"scatter"===e&&n instanceof hy},t.prototype.destroy=function(){u.prototype.destroy.call(this)},oE([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),oE([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(b.BeanStub),JA=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hs=function(){return hs=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},hs.apply(this,arguments)},rD=function(u){function t(e){var n=u.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return JA(t,u),t.prototype.createChart=function(){return Vi.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var l={data:this.transformData(e.data,e.category.id)};this.seriesChanged(e)&&(l.series=this.getSeriesOptions(e),l.axes=this.getAxes(e)),Vi.update(this.chart,l),this.updateLabelRotation(e.category.id)},t.prototype.seriesChanged=function(e){var n=e.seriesChartTypes,s=!b._.areEqual(this.prevSeriesChartTypes,n,function(E,D){return E.colId===D.colId&&E.chartType===D.chartType&&E.secondaryAxis===D.secondaryAxis});this.prevSeriesChartTypes=n.map(function(E){return hs({},E)});var l=e.fields.map(function(E){return E.colId}).join(),g=this.prevFields!==l;this.prevFields=l;var y=e.category.id,S=this.prevCategoryId!==y;return this.prevCategoryId=y,s||g||S},t.prototype.getSeriesOptions=function(e){var n=this,l=e.category,g=e.seriesChartTypes;return e.fields.map(function(y){var S=g.find(function(D){return D.colId===y.colId});if(S){var E=S.chartType;return hs(hs({},n.extractSeriesOverrides(S)),{type:Ba(E),xKey:l.id,yKey:y.colId,yName:y.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(E),stacked:["stackedArea","stackedColumn"].includes(E)})}})},t.prototype.getAxes=function(e){var n=this;this.xAxisType=e.grouping?"groupedCategory":"category";var s=e?e.fields:[],l=new Map(s.map(function(I){return[I.colId,I]})),g=this.getYKeys(s,e.seriesChartTypes),y=g.primaryYKeys,S=g.secondaryYKeys,E=this.getAxisOptions(),T=E.leftOptions,P=E.rightOptions,F=[hs(hs({},E.bottomOptions),{type:this.xAxisType,position:xt.Bottom,gridStyle:[{strokeWidth:0}]})];return y.length>0&&F.push(hs(hs({},T),{type:this.yAxisType,keys:y,position:xt.Left,title:hs({},wn(T.title,{enabled:!0,text:y.map(function(I){var G=l.get(I);return G?G.displayName:I}).join(" / ")}))})),S.length>0&&S.forEach(function(I,G){var j=l.get(I);if(j&&j.colId===I){var z=hs(hs({},P),{type:n.yAxisType,keys:[I],position:xt.Right,title:hs({},wn(P.title,{enabled:!0,text:j?j.displayName:I}))});!y.some(function(ae){return!!l.get(ae)})&&G===S.length-1||(z.gridStyle=[{strokeWidth:0}]),F.push(z)}}),F},t.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:wn(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:wn(e[this.yAxisType],e[this.yAxisType].left),rightOptions:wn(e[this.yAxisType],e[this.yAxisType].right)}},t.prototype.getYKeys=function(e,n){var s=[],l=[];return e.forEach(function(g){var y=g.colId,S=n.find(function(E){return E.colId===y});S&&(S.secondaryAxis?l.push(y):s.push(y))}),{primaryYKeys:s,secondaryYKeys:l}},t.prototype.extractSeriesOverrides=function(e){var n=this.chartOptions[Ba(e.chartType)].series;return delete n.yKeys,delete n.yNames,n},t}(Ha),eP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},sE=function(u){function t(e){var n=u.call(this,t.TEMPLATE)||this;return n.params=e,n}return eP(t,u),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var n=this.params.chartThemeName;b._.includes(e,n)||(n=e[0]);var s={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:n,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},l=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(l?"ag-rtl":"ag-ltr");var g=this.createBean(new rd(s));this.chartController=this.createManagedBean(new Vd(g)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Vd.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,s_.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),n=this.gridOptionsWrapper.getCustomChartThemes();n&&b._.getAllKeysInObjects([n]).forEach(function(s){b._.includes(e,s)||console.warn("AG Grid: a custom chart theme with the name '"+s+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var s=this.chartController.getChartType(),l={chartType:s,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(y,S){e.params.crossFilteringContext.lastSelectedChartId=S?"":e.chartController.getChartId(),e.crossFilterService.filter(y,S)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=s,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(l),this.chartProxy){var g=this.eChart.querySelector("canvas");g&&g.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new tD(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",l.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new rE(e);case"pie":return new Z0(e);case"doughnut":return new u_(e);case"area":case"stackedArea":case"normalizedArea":return new YA(e);case"line":return new q0(e);case"scatter":case"bubble":return new lx(e);case"histogram":return new eD(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new rD(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,n=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),s=this.getBestDialogSize();this.chartDialog=new b.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:n,width:s.width,height:s.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(b.AgDialog.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),n=.75*b._.getAbsoluteWidth(e),s=.75*b._.getAbsoluteHeight(e),g=this.chartProxy.getChart(),y=this.params.insideDialog?850:g.width,S=this.params.insideDialog?470:g.height;return(y>n||S>s)&&(y=Math.min(y,n),(S=Math.round(.553*y))>s&&(S=s,y=Math.min(y,Math.round(S/.553)))),{width:y,height:S}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new s_(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new WA(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,n=this.chartProxy,l=this.chartController.getSelectedValueColState().map(function(D){return{colId:D.colId,displayName:D.displayName}}),g=this.chartController.getChartData();if(!this.handleEmptyChart(g,l)){var S=this.chartController.getSelectedDimension(),E={data:g,grouping:this.chartController.isGrouping(),category:{id:S.colId,name:S.displayName,chartDataType:this.getChartDataType(S.colId)},fields:l,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext},seriesChartTypes:this.chartController.getSeriesChartTypes()};n.update(E),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.getChartDataType=function(e){var n=this.columnModel.getPrimaryColumn(e);return n?n.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,n){var s=this.chartProxy.getChart().container,l=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),g=1;this.chartController.isActiveXYChart()&&(g="bubble"===this.chartController.getChartType()?3:2);var y=n.length<g||0===e.length;if(s){var S=l||y;b._.setDisplayed(this.eChart,!S),b._.setDisplayed(this.eEmpty,S)}return l?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!y&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var n=this.chartProxy.getChart();n.height=b._.getInnerHeight(e),n.width=b._.getInnerWidth(e)}}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:b.Events.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:b.Events.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){u.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();b._.clearElement(e),b._.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Wo([b.RefSelector("eChart")],t.prototype,"eChart",void 0),Wo([b.RefSelector("eChartContainer")],t.prototype,"eChartContainer",void 0),Wo([b.RefSelector("eMenuContainer")],t.prototype,"eMenuContainer",void 0),Wo([b.RefSelector("eEmpty")],t.prototype,"eEmpty",void 0),Wo([b.RefSelector("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),Wo([b.Autowired("environment")],t.prototype,"environment",void 0),Wo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Wo([b.Autowired("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),Wo([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Wo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Wo([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Wo([b.Autowired("popupService")],t.prototype,"popupService",void 0),Wo([b.PostConstruct],t.prototype,"init",null),t}(b.Component);var rP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lE=function(){return lE=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},lE.apply(this,arguments)},zf=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ux=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return rP(t,u),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(s){return e.push(function(s){return lE(lE({},s),{version:"27.2.1"})}(s.getChartModel()))}),e},t.prototype.getChartRef=function(e){var n;return this.activeCharts.forEach(function(s){s.chartId===e&&(n=s)}),n},t.prototype.getChartImageDataURL=function(e){var n;return this.activeChartComps.forEach(function(s){s.getChartId()===e.chartId&&(n=s.getChartImageDataURL(e.fileFormat))}),n},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var n=this.getSelectedRange();return this.createChart(n,e)},t.prototype.restoreChart=function(e,n){var s=this;if(e){"27.2.1"!==e.version&&(e=function nD(u){return null==u.version&&(u.version="27.1.0"),function tP(u){if(!/^([:digits:]{1,2}\.){2}[:digits:]{1}$/.test(u))throw new Error("AG Grid - Illegal version string: "+u);u.split(".").map(function(e){return Number(e)})}(u.version),u}(e));var l={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:n,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},g=function(T){return s.rangeService?s.rangeService.createCellRangeFromCellRangeParams(T):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var E=g({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(T){return T.getColId()})});return E?this.createChart(E,l.chartType,l.chartThemeName,!0,!0,l.chartContainer,void 0,void 0,l.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var D=g(l.cellRange);if(D)return this.createChart(D,l.chartType,l.chartThemeName,!1,l.suppressChartRanges,l.chartContainer,l.aggFunc,void 0,l.unlinkChart,!1,e.chartOptions,l.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var n={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(l){return l.getColId()})},s=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(n):void 0;if(s)return this.createChart(s,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,n,s,l,g,y,S,E,D,T,P,F){var I=this;void 0===l&&(l=!1),void 0===g&&(g=!1),void 0===D&&(D=!1),void 0===T&&(T=!1);var G=this.gridOptionsWrapper.getCreateChartContainerFunc(),j={chartId:this.generateId(),pivotChart:l,cellRange:e,chartType:n,chartThemeName:s,insideDialog:!(y||G),suppressChartRanges:g,aggFunc:S,chartThemeOverrides:E,unlinkChart:D,crossFiltering:T,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:P,seriesChartTypes:F},U=new sE(j);this.context.createBean(U);var z=this.createChartRef(U);if(y){y.appendChild(U.getGui());var Y=this.environment.getTheme();Y.el&&!Y.el.contains(y)&&y.classList.add(Y.theme)}else G?G(z):U.addEventListener(sE.EVENT_DESTROYED,function(){I.activeChartComps.delete(U),I.activeCharts.delete(z)});return z},t.prototype.createChartRef=function(e){var n=this,s={destroyChart:function(){n.activeCharts.has(s)&&(n.context.destroyBean(e),n.activeChartComps.delete(e),n.activeCharts.delete(s))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(s),this.activeChartComps.add(e),s},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},zf([b.Optional("rangeService")],t.prototype,"rangeService",void 0),zf([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),zf([b.Autowired("environment")],t.prototype,"environment",void 0),zf([b.PreDestroy],t.prototype,"destroyAllActiveCharts",null),zf([b.Bean("chartService")],t)}(b.BeanStub),cx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}var e;return cx(t,u),e=t,t.prototype.translate=function(n,s){return this.gridOptionsWrapper.getLocaleTextFunc()(n,e.DEFAULT_TRANSLATIONS[n]||s)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l}([b.Bean("chartTranslationService")],t),t}(b.BeanStub),et=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iD=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},dx=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}var e;return et(t,u),e=t,t.prototype.filter=function(n,s){void 0===s&&(s=!1);var l=this.gridApi.getFilterModel();if(s)this.resetFilters(l);else{var g=e.extractFilterColId(n);this.isValidColumnFilter(g)?this.updateFilters(l,n):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+g+"'")}},t.prototype.resetFilters=function(n){Object.keys(n).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(n,s){var l,g=e.extractFilterColId(s),y=s.datum[g];if(void 0!==y){var S=y.toString(),E=g.replace("-filtered-out","");if(s.event.metaKey||s.event.ctrlKey){var D=this.getCurrentGridValuesForCategory(E),P=void 0;b._.includes(D,S)?P=D.filter(function(F){return F!==S}):(P=D).push(S),n[E]=this.getUpdatedFilterModel(E,P)}else(l={})[E]=this.getUpdatedFilterModel(E,P=[S]),n=l;this.gridApi.setFilterModel(n)}},t.prototype.getUpdatedFilterModel=function(n,s){return"agMultiColumnFilter"===this.getColumnFilterType(n)?{filterType:"multi",filterModels:[null,{filterType:"set",values:s}]}:{filterType:"set",values:s}},t.prototype.getCurrentGridValuesForCategory=function(n){var s=[],l=b._.includes;return this.gridApi.forEachNodeAfterFilter(function(g){if(!g.group){var y=g.data[n]+"";l(s,y)||s.push(y)}}),s},t.extractFilterColId=function(n){return n.xKey?n.xKey:n.labelKey},t.prototype.isValidColumnFilter=function(n){n.indexOf("-filtered-out")&&(n=n.replace("-filtered-out",""));var s=this.getColumnFilterType(n);return"boolean"==typeof s?s:b._.includes(["agSetColumnFilter","agMultiColumnFilter"],s)},t.prototype.getColumnFilterType=function(n){var s=this.columnModel.getGridColumn(n);if(s){var l=s.getColDef();return null!=l.filter?l.filter:l.filterFramework}},iD([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),iD([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),e=iD([b.Bean("chartCrossFilterService")],t)}(b.BeanStub),hx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},fx=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Vy=function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(fx(arguments[t]));return u},By=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return hx(t,u),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var n=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new b.AutoScrollService({scrollContainer:n.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(s){return n.getScrollFeature().setVerticalScrollPosition(s)},getHorizontalPosition:function(){return n.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(s){return n.getScrollFeature().setHorizontalScrollPosition(s)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==b.Constants.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return n.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(n){var s=n.columns;n.columns=n.columns.filter(function(g){return g.isVisible()}),!b._.areEqual(s,n.columns)&&e.dispatchChangedEvent(!1,!0,n.id)})},t.prototype.refreshLastRangeStart=function(){var e=b._.last(this.cellRanges);!e||this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var n=e.columns;if(!n.length)return!1;var s=this.columnModel.getAllDisplayedColumns(),l=n.map(function(g){return s.indexOf(g)}).sort(function(g,y){return g-y});return b._.last(l)-l[0]+1===n.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?b.Constants.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var n=this.pinnedRowModel.getPinnedBottomRowCount();return n>0?{rowIndex:n-1,rowPinned:b.Constants.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,n){if(void 0===n&&(n=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var s=this.calculateColumnsBetween(e.column,e.column);if(s){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!n||b._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var y,g={rowIndex:e.rowIndex,rowPinned:e.rowPinned},S=0;S<this.cellRanges.length;S++){var E=this.cellRanges[S];if(E.columns&&1===E.columns.length&&E.columns[0]===e.column&&this.rowPositionUtils.sameRow(g,E.startRow)&&this.rowPositionUtils.sameRow(g,E.endRow)){y=E;break}}y?b._.last(this.cellRanges)!==y&&(b._.removeFromArray(this.cellRanges,y),this.cellRanges.push(y)):this.cellRanges.push(y={startRow:g,endRow:g,columns:s,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0,y.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var n=b._.last(this.cellRanges);this.updateRangeEnd(n,e)}},t.prototype.updateRangeEnd=function(e,n,s){void 0===s&&(s=!1);var g=this.calculateColumnsBetween(e.startColumn,n.column);!g||this.isLastCellOfRange(e,n)||(e.columns=g,e.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},s||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var n=e.startColumn,s=e.columns,l=function(T,P){var F=e.columns.filter(function(I){return I!==T});T?(e.startColumn=T,e.columns=P?Vy([T],F):Vy(F,[T])):e.columns=F},g=this.getRangeEdgeColumns(e),y=g.left,S=g.right;n===s[0]&&n!==y?l(y,!0):n===b._.last(s)&&n===S&&l(S,!1)},t.prototype.getRangeEdgeColumns=function(e){var n=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(l){return n.indexOf(l)}).filter(function(l){return l>-1}).sort(function(l,g){return l-g});return{left:n[s[0]],right:n[b._.last(s)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var n=b._.last(this.cellRanges),s=this.newestRangeStartCell,l=n.columns[0],g=b._.last(n.columns),T=this.cellNavigationService.getNextCellToFocus(e,{column:s.column===l?g:l,rowIndex:n.endRow.rowIndex,rowPinned:n.endRow.rowPinned});if(T)return this.setCellRange({rowStartIndex:s.rowIndex,rowStartPinned:s.rowPinned,rowEndIndex:T.rowIndex,rowEndPinned:T.rowPinned,columnStart:s.column,columnEnd:T.column}),T}},t.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var n=this;b._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(s){s.columns&&s.startRow&&n.setNewestRangeStartCell({rowIndex:s.startRow.rowIndex,rowPinned:s.startRow.rowPinned,column:s.columns[0]}),n.cellRanges.push(s)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.createCellRangeFromCellRangeParams=function(e){var s,n=this;if(e.columns)s=e.columns.map(function(E){return n.columnModel.getColumnWithValidation(E)}).filter(function(E){return E});else{var l=this.columnModel.getColumnWithValidation(e.columnStart),g=this.columnModel.getColumnWithValidation(e.columnEnd);if(!l||!g)return;s=this.calculateColumnsBetween(l,g)}if(s)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:s,startColumn:s[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.createCellRangeFromCellRangeParams(e);n&&(n.startRow&&this.setNewestRangeStartCell({rowIndex:n.startRow.rowIndex,rowPinned:n.startRow.rowPinned,column:n.columns[0]}),this.cellRanges.push(n),this.dispatchChangedEvent(!1,!0,n.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(1!==e)return 0!==e;var n=this.cellRanges[0],s=this.getRangeStartRow(n),l=this.getRangeEndRow(n);return s.rowPinned!==l.rowPinned||s.rowIndex!==l.rowIndex||1!==n.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,n,y,s=this,l=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(P){for(var F=s.getRangeStartRow(P),I=s.getRangeEndRow(P),G=F,j=function(){var z=(G.rowPinned||"normal")+"_"+G.rowIndex,Y=l.get(z),J=P.columns.map(function(se){return se.getId()});if(Y){var ae=J.filter(function(se){return-1===Y.indexOf(se)});Y.push.apply(Y,Vy(ae))}else l.set(z,J);if(s.rowPositionUtils.sameRow(G,I))return"break";G=s.cellNavigationService.getRowBelow(G)};G&&"break"!==j(););});try{for(var S=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l.values()),E=S.next();!E.done;E=S.next()){var T=E.value.sort().join();if(void 0!==y){if(y!==T)return!1}else y=T}}catch(P){e={error:P}}finally{try{E&&!E.done&&(n=S.return)&&n.call(S)}finally{if(e)throw e.error}}return!0},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,n){var s=null!==n.columns&&b._.includes(n.columns,e.column),l=this.isRowInRange(e.rowIndex,e.rowPinned,n);return s&&l},t.prototype.isLastCellOfRange=function(e,n){var s=e.startRow,l=e.endRow,g=this.rowPositionUtils.before(s,l)?l:s,y=n.rowIndex===g.rowIndex&&n.rowPinned===g.rowPinned,S=e.columns[0],E=b._.last(e.columns);return n.column===(e.startColumn===S?E:S)&&y},t.prototype.isBottomRightCell=function(e,n){var s=this.columnModel.getAllDisplayedColumns(),l=e.columns.map(function(T){return s.indexOf(T)}).sort(function(T,P){return T-P}),g=e.startRow,y=e.endRow,S=this.rowPositionUtils.before(g,y)?y:g,E=s.indexOf(n.column)===b._.last(l),D=n.rowIndex===S.rowIndex&&b._.makeNull(n.rowPinned)===b._.makeNull(S.rowPinned);return E&&D},t.prototype.getCellRangeCount=function(e){var n=this;return this.isEmpty()?0:this.cellRanges.filter(function(s){return n.isCellInSpecificRange(e,s)}).length},t.prototype.isRowInRange=function(e,n,s){var l=this.getRangeStartRow(s),g=this.getRangeEndRow(s),y={rowIndex:e,rowPinned:n||null};if(y.rowIndex===l.rowIndex&&y.rowPinned==l.rowPinned||y.rowIndex===g.rowIndex&&y.rowPinned==g.rowPinned)return!0;var D=!this.rowPositionUtils.before(y,l),T=this.rowPositionUtils.before(y,g);return D&&T},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var l=e.shiftKey,g=e.ctrlKey||e.metaKey,S=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&g,E=l&&b._.existsAndNotEmpty(this.cellRanges);if(!S&&(!E||b._.exists(b._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,E||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=b._.last(this.cellRanges);else{var D={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:D,endRow:D,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.updateValuesOnMove=function(e){var n=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=n)},t.prototype.onDragging=function(e){var n=this;if(this.dragging&&e){this.lastMouseEvent=e;var s=this.lastCellHovered,l=function(S){return s&&s.rowPinned===S&&n.newestRangeStartCell.rowPinned===S},g=l("top")||l("bottom");if(this.autoScrollService.check(e,g),this.cellHasChanged){var y=this.calculateColumnsBetween(this.newestRangeStartCell.column,s.column);!y||(this.draggingRange.endRow={rowIndex:s.rowIndex,rowPinned:s.rowPinned},this.draggingRange.columns=y,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,n,s){var l=Object.freeze({type:b.Events.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:n,id:s});this.eventService.dispatchEvent(l)},t.prototype.calculateColumnsBetween=function(e,n){var s=this.columnModel.getAllDisplayedColumns(),l=e===n,g=s.indexOf(e);if(g<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var y=l?g:s.indexOf(n);if(!(y<0)){if(l)return[e];for(var S=Math.min(g,y),E=S===g?y:g,D=[],T=S;T<=E;T++)D.push(s[T]);return D}console.warn("AG Grid: column "+n.getId()+" is not visible")}},vo([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),vo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),vo([b.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),vo([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),vo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),vo([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),vo([b.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),vo([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),vo([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),vo([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),vo([b.PostConstruct],t.prototype,"init",null),vo([b.Bean("rangeService")],t)}(b.BeanStub),oD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ll=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},p_=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return oD(t,u),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(n){e.dragging=!0,e.rangeService.autoScrollService.check(n),e.changedCalculatedValues&&(e.onDrag(n),e.changedCalculatedValues=!1)},onDragStop:function(n){e.dragging=!1,e.onDragEnd(n),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===b.SelectionHandleType.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var n=this.mouseEventService.getCellPositionForEvent(e);!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered)||(this.lastCellHovered=n,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var n=this.getCellCtrl(),s=this.getGui(),l=b._.last(this.rangeService.getCellRanges()),g=l.startRow,y=l.endRow;if(g&&y&&(this.rowPositionUtils.before(y,g)?(this.setRangeStartRow(y),this.setRangeEndRow(g)):(this.setRangeStartRow(g),this.setRangeEndRow(y))),n!==e||!b._.isVisible(s)){this.setCellCtrl(e);var E=e.getComp().getParentOfValue();E&&E.appendChild(s)}this.setCellRange(l)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return b._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,u.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},Ll([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Ll([b.Autowired("dragService")],t.prototype,"dragService",void 0),Ll([b.Autowired("rangeService")],t.prototype,"rangeService",void 0),Ll([b.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),Ll([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ll([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Ll([b.Autowired("navigationService")],t.prototype,"navigationService",void 0),Ll([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Ll([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Ll([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Ll([b.PostConstruct],t.prototype,"init",null),t}(b.Component),sD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ap=function(){return ap=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},ap.apply(this,arguments)},gx=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},lD=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=b.SelectionHandleType.FILL,e}return sD(t,u),t.prototype.updateValuesOnMove=function(e){u.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var P,n=this.initialXY,s=n.x,l=n.y,g=this.mouseEventService.getNormalisedPosition(e),S=g.y,E=Math.abs(s-g.x),D=Math.abs(l-S),T=this.gridOptionsWrapper.getFillHandleDirection();(P="xy"===T?E>D?"x":"y":T)!==this.dragAxis&&(this.dragAxis=P,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var n=this.getCellCtrl();if(!n)return;this.initialPosition=n.getCellPosition()}var s=this.getLastCellHovered();s&&this.markPathFrom(this.initialPosition,s)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var S,n="x"===this.dragAxis,s=this.getCellRange(),l=s.columns.length,g=this.getRangeStartRow(),y=this.getRangeEndRow();if(this.isUp||this.isLeft){var E=n?g:this.lastCellMarked;S=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:E.rowIndex,rowStartPinned:E.rowPinned,columnStart:n?this.lastCellMarked.column:s.columns[0],rowEndIndex:y.rowIndex,rowEndPinned:y.rowPinned,columnEnd:s.columns[l-1]})}else S=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:g.rowIndex,rowStartPinned:g.rowPinned,columnStart:s.columns[0],rowEndIndex:n?y.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?y.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:s.columns[l-1]});S&&(this.raiseFillStartEvent(),this.handleValueChanged(s,S,e),this.rangeService.setCellRanges([S]),this.raiseFillEndEvent(s,S))}},t.prototype.raiseFillStartEvent=function(){var e={type:b.Events.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,n){var s={type:b.Events.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:n};this.eventService.dispatchEvent(s)},t.prototype.handleValueChanged=function(e,n,s){var l=this,g=this.rangeService.getRangeEndRow(e),y=this.rangeService.getRangeStartRow(e),S=this.rangeService.getRangeEndRow(n),E=this.rangeService.getRangeStartRow(n),D="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var F=!0,I=[],G=[],j=0,U=function(){I.length=0,G.length=0,j=0},z=function(J,ae){var se=l.isUp?g:y,ce=!1;D&&(F=!0,U());for(var pe=function(){var we=l.rowPositionUtils.getRowNode(se);if(!we)return"break";D&&J?Y(I,J,we,function(){return!l.rowPositionUtils.sameRow(se,l.isUp?y:g)}):ae&&(F=!0,U(),ae.forEach(function(Fe){return Y(I,Fe,we,function(){return Fe!==(l.isLeft?e.columns[0]:b._.last(e.columns))})})),ce=l.rowPositionUtils.sameRow(se,l.isUp?E:S),se=l.isUp?l.cellNavigationService.getRowAbove(se):l.cellNavigationService.getRowBelow(se)};!ce&&se&&"break"!==pe(););},Y=function(J,ae,se,ce){var pe,fe=!1;if(F)pe=l.valueService.getValue(ae,se),G.push(pe),F=ce();else{var we=l.processValues(s,J,G,ae,se,j++),Re=we.fromUserFunction;if(pe=we.value,ae.isCellEditable(se)){var _e=l.valueService.getValue(ae,se);Re&&_e===pe?fe=!0:se.setDataValue(ae,pe)}}fe||J.push(pe)};D?e.columns.forEach(function(J){z(J)}):(T=this.isLeft?function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(gx(arguments[t]));return u}(n.columns).reverse():n.columns,z(void 0,T))}else{var T=D?e.columns:e.columns.filter(function(J){return n.columns.indexOf(J)<0}),P=D?this.cellNavigationService.getRowBelow(S):E;P&&this.clearCellsInRange(P,g,T)}},t.prototype.clearCellsInRange=function(e,n,s){for(var l=e,g=!1,y=function(){var D=S.rowPositionUtils.getRowNode(l);if(!D)return"break";s.forEach(function(T){T.isCellEditable(D)&&D.setDataValue(T,null)}),g=S.rowPositionUtils.sameRow(l,n),l=S.cellNavigationService.getRowBelow(l)},S=this;!g&&l&&"break"!==y(););},t.prototype.processValues=function(e,n,s,l,g,y){var D,S=this.gridOptionsWrapper.getFillOperation();if(D="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",S){var P=S({event:e,values:n,initialValues:s,currentIndex:y,currentCellValue:this.valueService.getValue(l,g),direction:D,column:l,rowNode:g});if(!1!==P)return{value:P,fromUserFunction:!0}}var F=!n.some(function(G){var j=parseFloat(G);return isNaN(j)||j.toString()!==G.toString()});if(e.altKey||!F){if(F&&1===s.length){var I=this.isUp||this.isLeft?-1:1;return{value:parseFloat(b._.last(n))+1*I,fromUserFunction:!1}}return{value:n[y%n.length],fromUserFunction:!1}}return{value:b._.last(b._.findLineByLeastSquares(n.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,u.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var n=e.getComp();n.addOrRemoveCssClass("ag-selection-fill-top",!1),n.addOrRemoveCssClass("ag-selection-fill-right",!1),n.addOrRemoveCssClass("ag-selection-fill-bottom",!1),n.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,n){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(n,e))return;var s=this.rowPositionUtils.before(n,e),l=this.getRangeStartRow(),g=this.getRangeEndRow();s&&(n.rowPinned==l.rowPinned&&n.rowIndex>=l.rowIndex||l.rowPinned!=g.rowPinned&&n.rowPinned==g.rowPinned&&n.rowIndex<=g.rowIndex)?(this.reduceVertical(e,n),this.isReduce=!0):(this.extendVertical(e,n,s),this.isReduce=!1)}else{var y=e.column,S=n.column;if(y===S)return;var E=this.columnModel.getAllDisplayedColumns(),D=E.indexOf(y),T=E.indexOf(S);T<=D&&T>=E.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,n),this.isReduce=!0):(this.extendHorizontal(e,n,T<D),this.isReduce=!1)}this.lastCellMarked=n},t.prototype.extendVertical=function(e,n,s){var g=this.navigationService,y=this.rangeService,S=e;do{for(var E=this.getCellRange(),D=E.columns.length,T=0;T<D;T++){var P=E.columns[T],I=ap(ap({},{rowIndex:S.rowIndex,rowPinned:S.rowPinned}),{column:P}),G=y.isCellInSpecificRange(I,E),j=this.rowPositionUtils.sameRow(S,e);if(s&&(this.isUp=!0),!j){var U=g.getCellByPosition(I);if(U){this.markedCells.push(U);var z=U.getComp();G||(z.addOrRemoveCssClass("ag-selection-fill-left",0===T),z.addOrRemoveCssClass("ag-selection-fill-right",T===D-1)),z.addOrRemoveCssClass(s?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(S,n))}}}if(this.rowPositionUtils.sameRow(S,n))break}while(S=s?this.cellNavigationService.getRowAbove(S):this.cellNavigationService.getRowBelow(S))},t.prototype.reduceVertical=function(e,n){var s=e;do{for(var l=this.getCellRange(),g=l.columns.length,y=this.rowPositionUtils.sameRow(s,n),S=0;S<g;S++){var D=ap(ap({},{rowIndex:s.rowIndex,rowPinned:s.rowPinned}),{column:l.columns[S]}),T=this.navigationService.getCellByPosition(D);T&&(this.markedCells.push(T),T.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(s,n)))}if(y)break}while(s=this.cellNavigationService.getRowAbove(s))},t.prototype.extendHorizontal=function(e,n,s){var l=this,g=this.columnModel.getAllDisplayedColumns(),y=g.indexOf(s?n.column:e.column),S=g.indexOf(s?this.getCellRange().columns[0]:n.column),E=s?0:1,D=g.slice(y+E,S+E),T=this.getRangeStartRow(),P=this.getRangeEndRow();D.forEach(function(F){var I=T,G=!1;do{G=l.rowPositionUtils.sameRow(I,P);var j=l.navigationService.getCellByPosition({rowIndex:I.rowIndex,rowPinned:I.rowPinned,column:F});if(j){l.markedCells.push(j);var U=j.getComp();U.addOrRemoveCssClass("ag-selection-fill-top",l.rowPositionUtils.sameRow(I,T)),U.addOrRemoveCssClass("ag-selection-fill-bottom",l.rowPositionUtils.sameRow(I,P)),s?(l.isLeft=!0,U.addOrRemoveCssClass("ag-selection-fill-left",F===D[0])):U.addOrRemoveCssClass("ag-selection-fill-right",F===b._.last(D))}I=l.cellNavigationService.getRowBelow(I)}while(!G)})},t.prototype.reduceHorizontal=function(e,n){var s=this,l=this.columnModel.getAllDisplayedColumns(),g=l.indexOf(n.column),y=l.indexOf(e.column),S=l.slice(g,y),E=this.getRangeStartRow(),D=this.getRangeEndRow();S.forEach(function(T){var P=E,F=!1;do{F=s.rowPositionUtils.sameRow(P,D);var I=s.navigationService.getCellByPosition({rowIndex:P.rowIndex,rowPinned:P.rowPinned,column:T});I&&(s.markedCells.push(I),I.getComp().addOrRemoveCssClass("ag-selection-fill-right",T===S[0])),P=s.cellNavigationService.getRowBelow(P)}while(!F)})},t.prototype.refresh=function(e){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?u.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.Autowired("valueService")],t.prototype,"valueService",void 0),t}(p_),lp=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),d_=function(){return d_=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},d_.apply(this,arguments)},iP=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.type=b.SelectionHandleType.RANGE,e.rangeFixed=!1,e}return lp(t,u),t.prototype.onDrag=function(e){var n=this.getLastCellHovered();if(n){var s=this.rangeService.getCellRanges(),l=b._.last(s);this.rangeFixed||(this.fixRangeStartEnd(l),this.rangeFixed=!0),this.endPosition={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column},2===s.length&&s[0].type===b.CellRangeType.DIMENSION&&l.type===b.CellRangeType.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(l))&&this.rangeService.updateRangeEnd(s[0],d_(d_({},this.endPosition),{column:s[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var n=b._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(n),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var n=this.rangeService.getRangeStartRow(e),s=this.rangeService.getRangeEndRow(e),l=e.columns[0];e.startRow=n,e.endRow=s,e.startColumn=l},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(p_),vx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oP=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return vx(t,u),t.prototype.createSelectionHandle=function(e){return this.createBean(e===b.SelectionHandleType.RANGE?new iP:new lD)},t=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l}([b.Bean("selectionHandleFactory")],t),t}(b.BeanStub),cE={moduleName:b.ModuleNames.RangeSelectionModule,beans:[By,oP],agStackComponents:[{componentName:"AgFillHandle",componentClass:lD},{componentName:"AgRangeHandle",componentClass:iP}],dependantModules:[Sn]},sP={moduleName:b.ModuleNames.GridChartsModule,beans:[ux,$,dx],dependantModules:[cE,Sn]},mx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pE=function(){return pE=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},pE.apply(this,arguments)},uD=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return mx(t,u),t.prototype.init=function(e,n){var s=this;this.params=n,this.comp=e,null!=n.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(n.node.parent,b.RowNode.EVENT_DATA_CHANGED,function(){s.needRefresh=!0}))},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),s=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(s,!0)},t.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(b._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),n=pE({},this.params.detailGridOptions);e&&(n.domLayout="autoHeight"),this.comp.setDetailGrid(n)}},t.prototype.registerDetailWithMaster=function(e,n){var s=this.params.node.id,l=this.params.api,g={id:s,api:e,columnApi:n},y=this.params.node;l.addDetailGridInfo(s,g),y.detailGridInfo=g,this.addDestroyFunc(function(){y.detailGridInfo===g&&(l.removeDetailGridInfo(s),y.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var n=this.loadRowDataVersion,s=this.params.getDetailRowData;s?s({node:this.params.node,data:this.params.node.data,successCallback:function(y){e.loadRowDataVersion===n&&e.comp.setRowData(y)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.Autowired("environment")],t.prototype,"environment",void 0),t}(b.BeanStub),Dn=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hE=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Dn(t,u),t.prototype.init=function(e){var n=this;this.params=e,this.selectAndSetTemplate();var s={addOrRemoveCssClass:function(l,g){return n.addOrRemoveCssClass(l,g)},addOrRemoveDetailGridCssClass:function(l,g){return n.eDetailGrid.classList.toggle(l,g)},setDetailGrid:function(l){return n.setDetailGrid(l)},setRowData:function(l){return n.setRowData(l)}};this.ctrl=this.createManagedBean(new uD),this.ctrl.init(s,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){u.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){e.setTemplate(t.TEMPLATE)};if(b._.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var l=(0,this.params.template)(this.params);this.setTemplate(l)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var n=this.context.getBean("agGridReact"),s=n?b._.cloneObject(n):void 0,l=this.context.getBean("frameworkComponentWrapper"),g=this.getFrameworkOverrides();new b.Grid(this.eDetailGrid,e,{frameworkOverrides:g,providedBeanInstances:{agGridReact:s,frameworkComponentWrapper:l}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.RefSelector("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(b.Component),lP={moduleName:b.ModuleNames.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:hE}],controllers:[{controllerName:"detailCellRenderer",controllerClass:uD}],dependantModules:[Sn]},cD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},pD=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return cD(t,u),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,n,s){var l=this;this.showMenu(e,function(g){var y=g.getGui();l.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:n,ePopup:y}),s&&g.showTab(s)},"columnMenu",s,void 0,n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,s,l,g){var y=this,S=-1,E="left";this.gridOptionsWrapper.isEnableRtl()&&(S=1,E="right"),this.showMenu(e,function(D){var T=D.getGui();y.popupService.positionPopupUnderComponent({type:s,column:e,eventSource:n,ePopup:T,alignSide:E,nudgeX:9*S,nudgeY:-23,keepWithinBounds:!0}),l&&D.showTab(l)},s,l,g,n)},t.prototype.showMenu=function(e,n,s,l,g,y){var S=this,E=this.createBean(new h_(e,this.lastSelectedTab,g)),D=E.getGui(),T=y||this.ctrlsService.getGridBodyCtrl().getGui(),P=[];P.push(function(j){if(S.destroyBean(E),e.setMenuVisible(!1,"contextMenu"),j instanceof KeyboardEvent&&y&&b._.isVisible(y)){var z=S.focusService.findTabbableParent(y);z&&z.focus()}});var F=this.gridOptionsWrapper.getLocaleTextFunc(),I=this.popupService.addPopup({modal:!0,eChild:D,closeOnEsc:!0,closedCallback:function(j){P.forEach(function(U){return U(j)})},afterGuiAttached:function(j){return E.afterGuiAttached(Object.assign({},{container:s},j))},positionCallback:function(){return n(E)},anchorToElement:T,ariaLabel:F("ariaLabelColumnMenu","Column Menu")});if(I){var G=I.stopAnchoringPromise;G&&G.then(function(j){e.addEventListener(b.Column.EVENT_LEFT_CHANGED,j),e.addEventListener(b.Column.EVENT_VISIBLE_CHANGED,j),P.push(function(){e.removeEventListener(b.Column.EVENT_LEFT_CHANGED,j),e.removeEventListener(b.Column.EVENT_VISIBLE_CHANGED,j)})})}l||(E.showTabBasedOnPreviousSelection(),n(E)),E.addEventListener(h_.EVENT_TAB_SELECTED,function(j){S.lastSelectedTab=j.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=E,E.addEventListener(b.BeanStub.EVENT_DESTROYED,function(){S.activeMenu===E&&(S.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(h_.TABS_DEFAULT).length>0},jo([b.Autowired("popupService")],t.prototype,"popupService",void 0),jo([b.Autowired("focusService")],t.prototype,"focusService",void 0),jo([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),jo([b.Bean("menuFactory")],t)}(b.BeanStub),h_=function(u){function t(e,n,s){var l=u.call(this)||this;return l.tabFactories={},l.includeChecks={},l.column=e,l.initialSelection=n,l.tabFactories[t.TAB_GENERAL]=l.createMainPanel.bind(l),l.tabFactories[t.TAB_FILTER]=l.createFilterPanel.bind(l),l.tabFactories[t.TAB_COLUMNS]=l.createColumnsPanel.bind(l),l.includeChecks[t.TAB_GENERAL]=function(){return!0},l.includeChecks[t.TAB_FILTER]=function(){return e.isFilterAllowed()},l.includeChecks[t.TAB_COLUMNS]=function(){return!0},l.restrictTo=s,l}return cD(t,u),t.prototype.init=function(){var e=this,n=this.getTabsToCreate().map(function(s){return e.createTab(s)});this.tabbedLayout=new b.TabbedLayout({items:n,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(n){return e.isValidMenuTabItem(n)}).filter(function(n){return e.isNotSuppressed(n)}).filter(function(n){return e.isModuleLoaded(n)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||b.ModuleRegistry.isRegistered(b.ModuleNames.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var n=!0,s=t.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(e)>-1,s=this.restrictTo),(n=n&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+s+"]"),n},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var n=null;switch(e.item){case this.tabItemColumns:n=t.TAB_COLUMNS;break;case this.tabItemFilter:n=t.TAB_FILTER;break;case this.tabItemGeneral:n=t.TAB_GENERAL}n&&this.activateTab(n)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var n,e=this.getDefaultMenuOptions(),s=this.gridOptionsWrapper.getMainMenuItemsFunc();return n=s?s({column:this.column,defaultItems:e}):e,b._.removeRepeatsFromArray(n,t.MENU_ITEM_SEPARATOR),n},t.prototype.getDefaultMenuOptions=function(){var e=[],n=!this.column.getColDef().lockPinned,s=this.columnModel.getRowGroupColumns().length,l=s>0,g=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,y=this.column.isAllowValue(),S=this.column.isAllowRowGroup(),E=this.column.isPrimary(),D=this.columnModel.isPivotMode(),T=this.rowModel.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,P=this.gridOptionsWrapper.isTreeData(),F=E&&l&&y||!E;return n&&e.push("pinSubMenu"),F&&e.push("valueAggSubMenu"),(n||F)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),S&&this.column.isPrimary()&&e.push(g?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),T&&(P||s>(D?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new b.AgMenuList);var e=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:b._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:b.AgPromise.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var n;e&&e.event&&e.event instanceof KeyboardEvent&&(n=e.event),this.hidePopupFunc(n&&{keyboardEvent:n});var s=this.focusService.getFocusedCell(),l=this.gridOptionsWrapper.getDocument();l.activeElement===l.body&&s&&this.focusService.setFocusedCell(s.rowIndex,s.column,s.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e,n=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!n)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:b._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=n)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(l){var g;!(null===(g=n)||void 0===g?void 0:g.filterPromise)||n.filterPromise.then(function(y){y&&y.afterGuiAttached&&y.afterGuiAttached(l)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new qo);var n=this.column.getColDef().columnsMenuParams;n||(n={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var s=this.columnSelectPanel.getGui();return s.classList.add("ag-menu-column-select"),e.appendChild(s),this.tabItemColumns={title:b._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:b.AgPromise.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var s=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:s}),s&&(this.hidePopupFunc=s,this.addDestroyFunc(s))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",jo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),jo([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),jo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),jo([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),jo([b.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),jo([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),jo([b.Autowired("focusService")],t.prototype,"focusService",void 0),jo([b.PostConstruct],t.prototype,"init",null),t}(b.BeanStub),dD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wa=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},hD="ag-context-menu-open",cP=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return dD(t,u),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,n,s){var l=[];if(b._.exists(e)&&b.ModuleRegistry.isRegistered(b.ModuleNames.ClipboardModule)&&n&&l.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&b.ModuleRegistry.isRegistered(b.ModuleNames.RangeSelectionModule)&&b.ModuleRegistry.isRegistered(b.ModuleNames.GridChartsModule)&&(this.columnModel.isPivotMode()&&l.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&l.push("chartRange")),b._.exists(e)){var g=!b.ModuleRegistry.isRegistered(b.ModuleNames.CsvExportModule),y=!b.ModuleRegistry.isRegistered(b.ModuleNames.ExcelExportModule),S=this.gridOptionsWrapper.isSuppressExcelExport()||y,E=this.gridOptionsWrapper.isSuppressCsvExport()||g;!(b._.isIOSUserAgent()||S&&E)&&l.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var P=this.gridOptionsWrapper.getContextMenuItemsFunc();return P?P({node:e,column:n,value:s,defaultItems:l.length?l:void 0}):void 0}return l},t.prototype.onContextMenu=function(e,n,s,l,g,y){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu())||this.showMenu(s,l,g,e||n.touches[0],y)&&(e||n).preventDefault()},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var s=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===s&&e.preventDefault()},t.prototype.showMenu=function(e,n,s,l,g){var y=this,S=this.getMenuItems(e,n,s),E=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===S||b._.missingOrEmpty(S))return!1;var D=new fE(S);this.createBean(D);var T=D.getGui(),P={column:n,rowNode:e,type:"contextMenu",mouseEvent:l,ePopup:T,nudgeY:1},F=this.gridOptionsWrapper.getLocaleTextFunc(),I=this.popupService.addPopup({modal:!0,eChild:T,closeOnEsc:!0,closedCallback:function(){E.classList.remove(hD),y.destroyBean(D)},click:l,positionCallback:function(){y.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:y.gridOptionsWrapper.isEnableRtl()?-1*(T.offsetWidth+1):1},P))},anchorToElement:g,ariaLabel:F("ariaLabelContextMenu","Context Menu")});return I&&(E.classList.add(hD),D.afterGuiAttached({container:"contextMenu",hidePopup:I.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=D,D.addEventListener(b.BeanStub.EVENT_DESTROYED,function(){y.activeMenu===D&&(y.activeMenu=null)}),I&&D.addEventListener(b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,I.hideFunc),!0},Wa([b.Autowired("popupService")],t.prototype,"popupService",void 0),Wa([b.Optional("rangeService")],t.prototype,"rangeService",void 0),Wa([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Wa([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Wa([b.Bean("contextMenuFactory")],t)}(b.BeanStub),fE=function(u){function t(e){var n=u.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return dD(t,u),t.prototype.addMenuItems=function(){var e=this,n=this.createBean(new b.AgMenuList),s=this.menuItemMapper.mapWithStockItems(this.menuItems,null);n.addMenuItems(s),this.appendChild(n),this.menuList=n,n.addEventListener(b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(l){return e.dispatchEvent(l)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var n=this.focusedCell,s=n.rowIndex,l=n.rowPinned,g=n.column,y=this.gridOptionsWrapper.getDocument();y.activeElement===y.body&&this.focusService.setFocusedCell(s,g,l,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),u.prototype.destroy.call(this)},Wa([b.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Wa([b.Autowired("focusService")],t.prototype,"focusService",void 0),Wa([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Wa([b.PostConstruct],t.prototype,"addMenuItems",null),t}(b.Component),zd=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$d=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},fD=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return zd(t,u),t.prototype.mapWithStockItems=function(e,n){var s=this;if(!e)return[];var l=[];return e.forEach(function(g){var y;if(y="string"==typeof g?s.getStockMenuItem(g,n):g){var E=y.subMenu;E&&E instanceof Array&&(y.subMenu=s.mapWithStockItems(y.subMenu,n)),null!=y&&l.push(y)}}),l},t.prototype.getStockMenuItem=function(e,n){var s=this,l=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:l("pinColumn","Pin Column"),icon:b._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:l("pinLeft","Pin Left"),action:function(){return s.columnModel.setColumnPinned(n,b.Constants.PINNED_LEFT,"contextMenu")},checked:!!n&&n.isPinnedLeft()};case"pinRight":return{name:l("pinRight","Pin Right"),action:function(){return s.columnModel.setColumnPinned(n,b.Constants.PINNED_RIGHT,"contextMenu")},checked:!!n&&n.isPinnedRight()};case"clearPinned":return{name:l("noPin","No Pin"),action:function(){return s.columnModel.setColumnPinned(n,null,"contextMenu")},checked:!!n&&!n.isPinned()};case"valueAggSubMenu":return b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:l("valueAggregation","Value Aggregation"),icon:b._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(n)}:null;case"autoSizeThis":return{name:l("autosizeThiscolumn","Autosize This Column"),action:function(){return s.columnModel.autoSizeColumn(n,g,"contextMenu")}};case"autoSizeAll":return{name:l("autosizeAllColumns","Autosize All Columns"),action:function(){return s.columnModel.autoSizeAllColumns(g,"contextMenu")}};case"rowGroup":return{name:l("groupBy","Group by")+" "+b._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return s.columnModel.addRowGroupColumn(n,"contextMenu")},icon:b._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:l("ungroupBy","Un-Group by")+" "+b._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return s.columnModel.removeRowGroupColumn(n,"contextMenu")},icon:b._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:l("resetColumns","Reset Columns"),action:function(){return s.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:l("expandAll","Expand All"),action:function(){return s.gridApi.expandAll()}};case"contractAll":return{name:l("collapseAll","Collapse All"),action:function(){return s.gridApi.collapseAll()}};case"copy":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Copy from Menu")?{name:l("copy","Copy"),shortcut:l("ctrlC","Ctrl+C"),icon:b._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return s.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:l("copyWithHeaders","Copy with Headers"),icon:b._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return s.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Copy with Group Headers from Menu")?{name:l("copyWithGroupHeaders","Copy with Group Headers"),icon:b._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return s.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Paste from Clipboard")?{name:l("paste","Paste"),shortcut:l("ctrlV","Ctrl+V"),disabled:!0,icon:b._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return s.clipboardService.pasteFromClipboard()}}:null;case"export":var y=[],S=b.ModuleRegistry.isRegistered(b.ModuleNames.CsvExportModule),E=b.ModuleRegistry.isRegistered(b.ModuleNames.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&S&&y.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&E&&y.push("excelExport"),{name:l("export","Export"),subMenu:y,icon:b._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:l("csvExport","CSV Export"),icon:b._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return s.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:l("excelExport","Excel Export"),icon:b._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return s.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var n=this,s=this.gridOptionsWrapper.getLocaleTextFunc(),l=function(y,S,E){return{name:s(y,S),action:function(){return n.chartService.createPivotChart({chartType:E})}}},g=function(y,S,E){return{name:s(y,S),action:function(){return n.chartService.createChartFromCurrentRange(E)}}};switch(e){case"pivotChart":return{name:s("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:b._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:s("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:b._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:s("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return l("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return l("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return l("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:s("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return g("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return g("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return g("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:s("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return l("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return l("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return l("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:s("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return g("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return g("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return g("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:s("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return l("pie","Pie&lrm;","pie");case"pivotDoughnut":return l("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:s("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return g("pie","Pie&lrm;","pie");case"rangeDoughnut":return g("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return l("line","Line&lrm;","line");case"rangeLineChart":return g("line","Line&lrm;","line");case"pivotXYChart":return{name:s("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return l("scatter","Scatter&lrm;","scatter");case"pivotBubble":return l("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:s("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return g("scatter","Scatter&lrm;","scatter");case"rangeBubble":return g("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:s("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return l("area","Area&lrm;","area");case"pivotStackedArea":return l("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return l("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:s("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return g("area","Area&lrm;","area");case"rangeStackedArea":return g("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return g("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return g("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return g("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return g("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:s("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var y,n=this,s=this.gridOptionsWrapper.getLocaleTextFunc(),l=e.isValueActive(),g=this.aggFuncService.getFuncNames(e);if(e.isPrimary())y=e;else{var S=e.getColDef().pivotValueColumn;y=b._.exists(S)?S:void 0}var E=[];return g.forEach(function(D){E.push({name:s(D,D),action:function(){n.columnModel.setColumnAggFunc(y,D,"contextMenu"),n.columnModel.addValueColumn(y,"contextMenu")},checked:l&&y.getAggFunc()===D})}),E},$d([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),$d([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),$d([b.Optional("clipboardService")],t.prototype,"clipboardService",void 0),$d([b.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),$d([b.Optional("chartService")],t.prototype,"chartService",void 0),$d([b.Bean("menuItemMapper")],t)}(b.BeanStub),pP={moduleName:b.ModuleNames.MenuModule,beans:[pD,cP,fD],dependantModules:[Sn]},Cx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$f=function(){return $f=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},$f.apply(this,arguments)},f_=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},gE=function(u){function t(){var e=u.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return Cx(t,u),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)}})},t.getFilterDefs=function(e){var n=e.filters;return n&&n.length>0?n:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var n=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var l=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=l;var g=[];return this.filterDefs.forEach(function(y,S){var E=n.createFilter(y,S);null!=E&&g.push(E)}),b.AgPromise.all(g).then(function(y){n.filters=y,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach(function(S){return S()}),n.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var n=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(s,l){l>0&&n.appendChild(b._.loadTemplate('<div class="ag-filter-separator"></div>'));var S,g=n.filterDefs[l],y=n.getFilterTitle(s,g);S="subMenu"===g.display&&"toolPanel"!==e?n.insertFilterMenu(s,y).getGui():"subMenu"===g.display||"accordion"===g.display?n.insertFilterGroup(s,y).getGui():s.getGui(),n.appendChild(S)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,n){return null!=n.title?n.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,n){var s=this,l=this.createBean(new b.AgMenuItemComponent({name:n,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return l.setParentComponent(this),this.guiDestroyFuncs.push(function(){return s.destroyBean(l)}),this.addManagedListener(l,b.AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,function(g){s.lastActivatedMenuItem&&s.lastActivatedMenuItem!==g.menuItem&&s.lastActivatedMenuItem.deactivate(),s.lastActivatedMenuItem=g.menuItem}),l.addGuiEventListener("focusin",function(){return l.activate()}),l.addGuiEventListener("focusout",function(){l.isSubMenuOpen()||l.deactivate()}),l},t.prototype.insertFilterGroup=function(e,n){var s=this,l=this.createBean(new b.AgGroupComponent({title:n,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return s.destroyBean(l)}),l.addItem(e.getGui()),l.toggleGroupExpand(!1),e.afterGuiAttached){var g={container:this.lastOpenedInContainer,suppressFocus:!0};l.addManagedListener(l,b.AgGroupComponent.EVENT_EXPANDED,function(){return e.afterGuiAttached(g)})}return l},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,n){var s=!0;return this.filters.forEach(function(l){!s||l===n||!l.isFilterActive()||(s=l.doesFilterPass(e))}),s},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(n){return"function"==typeof n.getModelFromUi?n.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(n){return n.isFilterActive()?n.getModel():null})}:null},t.prototype.setModel=function(e){var n=this,s=function(g,y){return new b.AgPromise(function(S){var E=g.setModel(y);E?E.then(function(){return S()}):S()})},l=[];return null==e?l=this.filters.map(function(g,y){var S=s(g,null);return n.updateActiveList(y),S}):this.filters.forEach(function(g,y){var E=s(g,e.filterModels.length>y?e.filterModels[y]:null);l.push(E),n.updateActiveList(y)}),b.AgPromise.all(l).then(function(){})},t.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(n){n instanceof b.ProvidedFilter&&(e=n.applyModel()||e)}),e},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var n=this.params.filters,s=n&&n.some(function(y){return y.display&&"inline"!==y.display});this.executeFunctionIfExists("afterGuiAttached",$f($f({},e||{}),{suppressFocus:s}));var l=this.gridOptionsWrapper.getDocument(),g=l.activeElement;s&&(g===l.body||this.getGui().contains(g))&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(n){n.setModel(null),e.destroyBean(n)}),this.filters.length=0,this.destroyChildren(),u.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var n=[],s=1;s<arguments.length;s++)n[s-1]=arguments[s];b._.forEachReverse(this.filters,function(l){var g=l[e];"function"==typeof g&&g.apply(l,n)})},t.prototype.createFilter=function(e,n){var S,s=this,l=this.params,g=l.filterModifiedCallback,y=l.doesRowPassOtherFilter,E=$f($f({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:g,filterChangedCallback:function(P){s.executeWhenAllFiltersReady(function(){return s.filterChanged(n,P)})},doesRowPassOtherFilter:function(P){return y(P)&&s.doesFilterPass({node:P,data:P.data},S)}}),D=this.userComponentFactory.getFilterDetails(e,E,"agTextColumnFilter");if(!D)return null;var T=D.newAgStackInstance();return T&&T.then(function(P){return S=P}),T},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var n=this.filters[e];b._.removeFromArray(this.activeFilterIndices,e),n.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,n){this.updateActiveList(e),this.filterChangedCallback(n);var s=this.filters[e];this.filters.forEach(function(l){l!==s&&"function"==typeof l.onAnyFilterChanged&&l.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},f_([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),f_([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),f_([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.TabGuardComp),gD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),g_=function(){return g_=Object.assign||function(u){for(var t,e=1,n=arguments.length;e<n;e++)for(var s in t=arguments[e])Object.prototype.hasOwnProperty.call(t,s)&&(u[s]=t[s]);return u},g_.apply(this,arguments)},wx=function(u){function t(){var e=u.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return gD(t,u),t.prototype.init=function(e){var n=this;this.params=e;var l=[];return gE.getFilterDefs(e.filterParams).forEach(function(g,y){var S=g_(g_({},e),{parentFilterInstance:function(D){n.parentMultiFilterInstance(function(T){var P=T.getChildFilterInstance(y);null!=P&&D(P)})}}),E=n.createFloatingFilter(g,S);null!=E&&l.push(E)}),b.AgPromise.all(l).then(function(g){g.forEach(function(y,S){n.floatingFilters.push(y);var E=y.getGui();n.appendChild(E),S>0&&b._.setDisplayed(E,!1)})})},t.prototype.onParentModelChanged=function(e,n){var s=this;n&&n.afterFloatingFilter||this.parentMultiFilterInstance(function(l){if(null==e)s.floatingFilters.forEach(function(y,S){y.onParentModelChanged(null,n),b._.setDisplayed(y.getGui(),0===S)});else{var g=l.getLastActiveFilterIndex();s.floatingFilters.forEach(function(y,S){y.onParentModelChanged(e.filterModels.length>S?e.filterModels[S]:null,n);var D=null==g?0===S:S===g;b._.setDisplayed(y.getGui(),D)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,u.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,n){var s=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",l=this.userComponentFactory.getFloatingFilterCompDetails(e,n,s);return l?l.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(n){if(!(n instanceof gE))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(n)})},function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(b.Component),vE={moduleName:b.ModuleNames.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:gE},{componentName:"agMultiColumnFloatingFilter",componentClass:wx}],dependantModules:[Sn]},vD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fP=function(u){function t(e){var n=u.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=e,n}return vD(t,u),t.prototype.setState=function(e,n,s){this.populateWithRenderer(e,n)||this.populateWithoutRenderer(e,n),this.addOrRemoveCssClass("ag-rich-select-row-selected",s)},t.prototype.populateWithoutRenderer=function(e,n){var l=null!=n?n:e;b._.exists(l)&&""!==l?this.getGui().textContent=l.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,n){var s=this,l={value:e,valueFormatted:n,api:this.gridOptionsWrapper.getApi()},g=this.userComponentFactory.getCellRendererDetails(this.params,l),y=g?g.newAgStackInstance():void 0;return null!=y?b._.bindCellRendererToHtmlElement(y,this.getGui()):this.getGui().innerText=null!=l.valueFormatted?l.valueFormatted:l.value,!!y&&(y.then(function(S){s.addDestroyFunc(function(){s.getContext().destroyBean(S)})}),!0)},function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);s>3&&l&&Object.defineProperty(t,e,l)}([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(b.Component),yD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hy=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},v_=function(u){function t(){var e=u.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return yD(t,u),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var n=b._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(n.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(n),this.virtualList=this.getContext().createBean(new b.VirtualList("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),b._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),b._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var s=e.values;this.virtualList.setModel({getRowCount:function(){return s.length},getRow:function(y){return s[y]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var l=this.virtualList.getGui();this.addManagedListener(l,"click",this.onClick.bind(this)),this.addManagedListener(l,"mousemove",this.onMouseMove.bind(this));var g=b._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=b._.debounce(this.clearSearchString,g),b._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var n=e.key;switch(e.preventDefault(),n){case b.KeyCode.ENTER:this.onEnterKeyDown();break;case b.KeyCode.TAB:this.confirmSelection();break;case b.KeyCode.DOWN:case b.KeyCode.UP:this.onNavigationKeyPressed(e,n);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,n){e.preventDefault();var s=this.params.values.indexOf(this.selectedValue),l=n===b.KeyCode.UP?s-1:s+1;l>=0&&l<this.params.values.length&&this.setSelectedValue(this.params.values[l])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var n=e.key;if(n===b.KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!b._.isEventFromPrintableCharacter(e))return;this.searchText(n)}},t.prototype.runSearch=function(){var s,e=this,n=this.params.values;if(("number"==typeof n[0]||"string"==typeof n[0])&&(s=n.map(String)),"object"==typeof n[0]&&this.params.colDef.keyCreator&&(s=n.map(function(S){var E={value:S,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(E)})),s){var l=b._.fuzzySuggestions(this.searchString,s,!0,!0)[0];if(l){var g=s.indexOf(l);this.setSelectedValue(n[g])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,n=this.params.formatValue(this.selectedValue),s=this.eValue,l={value:this.selectedValue,valueFormatted:n,api:this.gridOptionsWrapper.getApi()},g=this.userComponentFactory.getCellRendererDetails(this.params,l),y=g?g.newAgStackInstance():void 0;y?(b._.bindCellRendererToHtmlElement(y,s),y.then(function(S){e.addDestroyFunc(function(){return e.getContext().destroyBean(S)})})):b._.exists(this.selectedValue)?s.innerHTML=n:b._.clearElement(s)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var n=this.params.values.indexOf(e);-1!==n&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(n),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var n=this.params.formatValue(e),s=new fP(this.params);return this.getContext().createBean(s),s.setState(e,n,e===this.selectedValue),s},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),s=this.virtualList.getScrollTop(),g=Math.floor((e.clientY-n.top+s)/this.virtualList.getRowHeight()),y=this.params.values[g];void 0!==y&&this.setSelectedValue(y)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',Hy([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Hy([b.RefSelector("eValue")],t.prototype,"eValue",void 0),Hy([b.RefSelector("eList")],t.prototype,"eList",void 0),t}(b.PopupComponent),mD={moduleName:b.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:v_},{componentName:"agRichSelectCellEditor",componentClass:v_}],dependantModules:[Sn]},gP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},CD=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return gP(t,u),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&b._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&b._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams)return void this.resetRootStore();var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),n=this.columnsToValueObjects(this.columnModel.getValueColumns()),s=this.columnsToValueObjects(this.columnModel.getPivotColumns()),l=!b._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),g=!b._.jsonEquals(this.storeParams.rowGroupCols,e),y=!b._.jsonEquals(this.storeParams.pivotCols,s),S=!b._.jsonEquals(this.storeParams.valueCols,n);(l||g||y||S)&&this.resetRootStore()}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,n){this.storeParams&&(this.storeParams.sortModel=e);var s=this.getRootStore();!s||(s.refreshAfterSort(n),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new b.RowNode(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:b.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var n=this;return e.map(function(s){return{id:s.getId(),aggFunc:s.getAggFunc(),displayName:n.columnModel.getDisplayNameForColumn(s,"model"),field:s.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),n=this.columnsToValueObjects(this.columnModel.getValueColumns()),s=this.columnsToValueObjects(this.columnModel.getPivotColumns()),l=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:n,rowGroupCols:e,pivotCols:s,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new b.NumberSequence,dynamicRowHeight:l}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:b.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new b.NumberSequence,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var n=this.getRootStore();if(n)return n.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(n){n.group&&n.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,n){this.storeParams&&(this.storeParams.filterModel=e);var s=this.getRootStore();!s||(s.refreshAfterFilter(n),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.getRootStore();return n?n.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var n=this.getRootStore();return n?n.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var n=this.getRootStore();return e<=0||!n?0:n.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return b.Constants.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var n=this.getRootStore();!n||n.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var n=this.getRootStore();!n||n.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,n){var s=this.getRootStore();if(s){var l=s.getChildStore(e);l&&n(l)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(s){return s.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],n=this.getRootStore();return n&&n.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,n){return b._.exists(n)&&e.parent!==n.parent?[]:e.parent.childStore.getRowNodesInRange(n,e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(s){s.id===e&&(n=s),s.detailNode&&s.detailNode.id===e&&(n=s.detailNode)}),n},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},yo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),yo([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),yo([b.Autowired("sortController")],t.prototype,"sortController",void 0),yo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),yo([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),yo([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),yo([b.Autowired("ssrmSortService")],t.prototype,"sortListener",void 0),yo([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),yo([b.Autowired("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),yo([b.Autowired("beans")],t.prototype,"beans",void 0),yo([b.PreDestroy],t.prototype,"destroyDatasource",null),yo([b.PostConstruct],t.prototype,"addEventListeners",null),yo([b.PreDestroy],t.prototype,"destroyRootStore",null),yo([b.Bean("rowModel")],t)}(b.BeanStub),_x=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yE=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Sx=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return _x(t,u),t.prototype.loadFromDatasource=function(e){var n=e.storeParams,s=e.parentBlock,g=e.parentNode.getGroupKeys();if(n.datasource){var S={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:g,filterModel:n.filterModel,sortModel:n.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){n.datasource&&s.isAlive()?n.datasource.getRows(S):e.failCallback()},0)}},t.prototype.getChildStore=function(e,n,s){if(b._.missingOrEmpty(e))return n;var g=s(e[0]);if(g){var y=e.slice(1,e.length),S=g.childStore;return S?S.getChildStore(y):null}return null},t.prototype.isServerRefreshNeeded=function(e,n,s){if(s.alwaysReset||s.valueColChanged||s.secondaryColChanged)return!0;var l=e.level+1;return!(l<n.length&&!(s.changedColumns.indexOf(n[l].id)>-1))},yE([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),yE([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),yE([b.Bean("ssrmStoreUtils")],t)}(b.BeanStub),bx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kd=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},y_=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return bx(t,u),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var n=new b.RowNode(this.beans);return n.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),n.group=e.group,n.leafGroup=e.leafGroup,n.level=e.level,n.uiLevel=e.level,n.parent=e.parent,n.stub=!0,n.group&&(n.expanded=!1,n.field=e.field,n.rowGroupColumn=e.rowGroupColumn),n},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var n=this.gridOptionsWrapper.getIsServerSideGroupFunc(),s=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=n&&(e.setGroup(n(e.data)),e.group&&null!=s&&(e.key=s(e.data))),!e.group&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&b._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var n=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==n||n(e.data)},t.prototype.updateDataIntoRowNode=function(e,n){e.updateData(n),this.usingTreeData&&this.setTreeGroupInfo(e)},t.prototype.setDataIntoRowNode=function(e,n,s,l){e.stub=!1,b._.exists(n)?(e.setDataAndId(n,s),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),b._.exists(n)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,l).height)},t.prototype.setChildCountIntoRowNode=function(e){var n=this.gridOptionsWrapper.getChildCountFunc();n&&(e.allChildrenCount=n(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var n=this,s=this.columnModel.getGroupDisplayColumns(),l=this.gridOptionsWrapper.isTreeData();s.forEach(function(g){if(null==e.groupData&&(e.groupData={}),l)e.groupData[g.getColId()]=e.key;else if(g.isRowGroupDisplayed(e.rowGroupColumn.getId())){var y=n.valueService.getValue(e.rowGroupColumn,e);e.groupData[g.getColId()]=y}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&b._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,n,s){if(e.setRowIndex(n.next()),e.setRowTop(s.value),s.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(n.next()),e.detailNode.setRowTop(s.value),s.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&b._.exists(e.childStore)){var y=e.childStore;e.expanded?y.setDisplayIndexes(n,s):y.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,n){var s=0,l=n.length-1;if(b._.missing(l)||b._.missing(s))console.warn("AG Grid: error: topPointer = "+l+", bottomPointer = "+s);else for(;;){var g=Math.floor((s+l)/2),y=n[g];if(y.rowIndex===e)return y;var E=y.detailNode;if(y.master&&y.expanded&&E&&E.rowIndex===e)return y.detailNode;var D=y.childStore;if(y.expanded&&D&&D.isDisplayIndexInStore(e))return D.getRowUsingDisplayIndex(e);if(y.rowIndex<e)s=g+1;else{if(!(y.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");l=g-1}}},t.prototype.extractRowBounds=function(e,n){var s=function(g){return{rowHeight:g.rowHeight,rowTop:g.rowTop}};if(e.rowIndex===n)return s(e);if(e.group&&e.expanded&&b._.exists(e.childStore)){var l=e.childStore;if(l.isDisplayIndexInStore(n))return l.getRowBounds(n)}else if(e.master&&e.expanded&&b._.exists(e.detailNode)&&e.detailNode.rowIndex===n)return s(e.detailNode)},t.prototype.getIndexAtPixel=function(e,n){if(e.isPixelInRange(n))return e.rowIndex;var l=e.detailNode;if(e.master&&e.expanded&&l&&l.isPixelInRange(n))return e.detailNode.rowIndex;if(e.group&&e.expanded&&b._.exists(e.childStore)){var g=e.childStore;if(g.isPixelInRange(n))return g.getRowIndexAtPixel(n)}return null},t.prototype.createNodeIdPrefix=function(e){for(var n=[],s=e;s&&s.level>=0;)n.push(s.key),s=s.parent;if(n.length>0)return n.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var n=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();n&&n({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},Kd([b.Autowired("valueService")],t.prototype,"valueService",void 0),Kd([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Kd([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Kd([b.Autowired("beans")],t.prototype,"beans",void 0),Kd([b.PostConstruct],t.prototype,"postConstruct",null),Kd([b.Bean("ssrmBlockUtils")],t)}(b.BeanStub),wD=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},vP=function(){function u(){this.rowNodes={}}return u.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},u.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},u.prototype.clear=function(){this.rowNodes={}},wD([b.PreDestroy],u.prototype,"clear",null),wD([b.Bean("ssrmNodeManager")],u)}(),Ex=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),m_=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Ox=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.asyncTransactions=[],e}return Ex(t,u),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,n){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:n})},t.prototype.scheduleExecuteAsync=function(){var e=this,n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},n)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var n=[],s=[],l=[],g=!1;if(this.asyncTransactions.forEach(function(S){var E;e.serverSideRowModel.executeOnStore(S.transaction.route,function(T){E=T.applyTransaction(S.transaction)}),null==E&&(E={status:b.ServerSideTransactionResultStatus.StoreNotFound}),s.push(E),E.status==b.ServerSideTransactionResultStatus.StoreLoading?l.push(S):(S.callback&&n.push(function(){return S.callback(E)}),E.status===b.ServerSideTransactionResultStatus.Applied&&(g=!0))}),n.length>0&&window.setTimeout(function(){n.forEach(function(S){return S()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=l,g&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})),s.length>0){var y={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:b.Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:s};this.eventService.dispatchEvent(y)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var n;return this.serverSideRowModel.executeOnStore(e.route,function(s){n=s.applyTransaction(e)}),n?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED}),n):{status:b.ServerSideTransactionResultStatus.StoreNotFound}},m_([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),m_([b.Autowired("valueCache")],t.prototype,"valueCache",void 0),m_([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),m_([b.PostConstruct],t.prototype,"postConstruct",null),m_([b.Bean("ssrmTransactionManager")],t)}(b.BeanStub),Dx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),C_=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},yP=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return Dx(t,u),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,b.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var n=e.node;if(n.expanded){if(n.master)this.createDetailNode(n);else if(b._.missing(n.childStore)){var s=this.serverSideRowModel.getParams();n.childStore=this.createBean(this.storeFactory.createStore(s,n))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&b._.exists(n.childStore)&&(n.childStore=this.destroyBean(n.childStore));this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(b._.exists(e.detailNode))return e.detailNode;var n=new b.RowNode(this.beans);n.detail=!0,n.selectable=!1,n.parent=e,b._.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1;var l=this.gridOptionsWrapper.getRowHeightForNode(n).height;return n.rowHeight=l||200,e.detailNode=n,n},C_([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),C_([b.Autowired("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),C_([b.Autowired("beans")],t.prototype,"beans",void 0),C_([b.PostConstruct],t.prototype,"postConstruct",null),C_([b.Bean("ssrmExpandListener")],t)}(b.BeanStub),w_=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kf=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},mP=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return w_(t,u),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,b.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var n=b.Constants.GROUP_AUTO_COLUMN_ID+"-",s=0;s<e.length;++s)e[s].colId.indexOf(n)>-1&&(e[s].colId=e[s].colId.substr(n.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var n=e.find(function(S){return S.colId==b.Constants.GROUP_AUTO_COLUMN_ID});if(n){var s=e.indexOf(n);b._.removeFromArray(e,n);var y=this.columnModel.getRowGroupColumns().filter(function(S){return 0==e.filter(function(E){return E.colId===S.getColId()}).length}).map(function(S){return{colId:S.getId(),sort:n.sort}});b._.insertArrayIntoArray(e,y,s)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var n=this.extractSortModel(),l=this.findChangedColumnsInSort(n,e.sortModel),g=this.listenerUtils.isSortingWithValueColumn(l),y=this.listenerUtils.isSortingWithSecondaryColumn(l),S=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(n,{valueColChanged:g,secondaryColChanged:y,alwaysReset:S,changedColumns:l})}},t.prototype.findChangedColumnsInSort=function(e,n){var s=[];return[e,n].forEach(function(y){if(y){var S=y.map(function(E){return E.colId});s=s.concat(S)}}),s.filter(function(y){var S=n.find(function(D){return D.colId===y}),E=e.find(function(D){return D.colId===y});return function(y,S){return(y?y.sort:null)!==(S?S.sort:null)}(S,E)||function(y,S){return(y?n.indexOf(y):-1)!==(S?e.indexOf(S):-1)}(S,E)})},Kf([b.Autowired("sortController")],t.prototype,"sortController",void 0),Kf([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Kf([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),Kf([b.Autowired("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Kf([b.PostConstruct],t.prototype,"postConstruct",null),Kf([b.Bean("ssrmSortService")],t)}(b.BeanStub),_D=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ja=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},SD=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return _D(t,u),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,b.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var n=this.filterManager.getFilterModel(),l=this.findChangedColumns(n,e?e.filterModel:{}),g=this.listenerUtils.isSortingWithValueColumn(l),y=this.listenerUtils.isSortingWithSecondaryColumn(l),S=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(n,{valueColChanged:g,secondaryColChanged:y,alwaysReset:S,changedColumns:l})}},t.prototype.findChangedColumns=function(e,n){var s={};Object.keys(e).forEach(function(g){return s[g]=!0}),Object.keys(n).forEach(function(g){return s[g]=!0});var l=[];return Object.keys(s).forEach(function(g){JSON.stringify(e[g])!=JSON.stringify(n[g])&&l.push(g)}),l},ja([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),ja([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),ja([b.Autowired("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),ja([b.PostConstruct],t.prototype,"postConstruct",null),ja([b.Bean("ssrmFilterListener")],t)}(b.BeanStub),mE=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},CP=function(u,t){return function(e,n){t(e,n,u)}},__=function(u){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&u[t],n=0;if(e)return e.call(u);if(u&&"number"==typeof u.length)return{next:function(){return u&&n>=u.length&&(u=void 0),{value:u&&u[n++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},S_=function(u){function t(e,n,s,l,g){var y=u.call(this,e)||this;return y.ssrmParams=s,y.storeParams=l,y.parentRowNode=n,y.startRow=e*l.cacheBlockSize,y.parentStore=g,y.level=n.level+1,y.groupLevel=s.rowGroupCols?y.level<s.rowGroupCols.length:void 0,y.leafGroup=!!s.rowGroupCols&&y.level===s.rowGroupCols.length-1,y}return mE(t,u),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(n){return n.expanded}).length>0},t.prototype.forEachNode=function(e,n,s,l){void 0===n&&(n=new b.NumberSequence),this.rowNodes.forEach(function(g){if(e(g,n.next()),s&&g.childStore){var y=g.childStore;l?y.forEachNodeDeepAfterFilterAndSort(e,n):y.forEachNodeDeep(e,n)}})},t.prototype.forEachNodeDeep=function(e,n){this.forEachNode(e,n,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,n){this.forEachNode(e,n,!0,!0)},t.prototype.forEachNodeShallow=function(e,n){this.forEachNode(e,n,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===b.RowNodeBlock.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=!1),this.destroyRowNodes();for(var s=this.parentStore.getRowCount(),l=this.getId()*this.storeParams.cacheBlockSize,y=Math.min(l+this.storeParams.cacheBlockSize,s)-l,E=this.columnModel.getAllDisplayedAutoHeightCols().length>0?this.parentStore.getCachedBlockHeight(this.getId()):void 0,D=E?Math.round(E/y):void 0,T=0;T<y;T++){var P=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:D});if(T<e.length){var I=e[T],G=this.prefixId(this.startRow+T);this.blockUtils.setDataIntoRowNode(P,I,G,D),this.parentStore.removeDuplicateNode(P.id),this.nodeManager.addRowNode(P),this.allNodesMap[P.id]=P,this.blockUtils.checkOpenByDefault(P)}this.rowNodes.push(P),n&&(P.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){if(this.getState()!=b.RowNodeBlock.STATE_LOADED){var n=this.allNodesMap[e];if(n){this.blockUtils.destroyRowNode(n);var s=this.rowNodes.indexOf(n),l=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[s]=l}}},t.prototype.refresh=function(){this.getState()!==b.RowNodeBlock.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var n,s,l;this.touchLastAccessed();try{for(var g=__(this.rowNodes),y=g.next();!y.done&&null==(l=this.blockUtils.extractRowBounds(y.value,e));y=g.next());}catch(E){n={error:E}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(n)throw n.error}}return l},t.prototype.getRowIndexAtPixel=function(e){var n,s;this.touchLastAccessed();var l=null;try{for(var g=__(this.rowNodes),y=g.next();!y.done&&null==(l=this.blockUtils.getIndexAtPixel(y.value,e));y=g.next());}catch(E){n={error:E}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(n)throw n.error}}return l},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(n){return e.blockUtils.clearDisplayIndex(n)})},t.prototype.setDisplayIndexes=function(e,n){var s=this;this.displayIndexStart=e.peek(),this.blockTopPx=n.value,this.rowNodes.forEach(function(l){return s.blockUtils.setDisplayIndex(l,e,n)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=n.value-this.blockTopPx},Gl([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Gl([b.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Gl([b.Autowired("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Gl([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Gl([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Gl([b.PostConstruct],t.prototype,"postConstruct",null),Gl([b.PreDestroy],t.prototype,"destroyRowNodes",null),Gl([CP(0,b.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(b.RowNodeBlock),b_=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yd=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Rx=function(u,t){return function(e,n){t(e,n,u)}},Ci=(()=>(function(u){u[u.FOUND=0]="FOUND",u[u.CONTINUE_FIND=1]="CONTINUE_FIND",u[u.BREAK_FIND=2]="BREAK_FIND"}(Ci||(Ci={})),Ci))(),Ax=function(u){function t(e,n,s){var l=u.call(this)||this;return l.blocks={},l.blockHeights={},l.lastRowIndexKnown=!1,l.displayIndexStart=0,l.displayIndexEnd=0,l.cacheTopPixel=0,l.info={},l.ssrmParams=e,l.storeParams=n,l.parentRowNode=s,l.rowCount=t.INITIAL_ROW_COUNT,l}return b_(t,u),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,n){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+n.rowCount),n.storeInfo&&Object.assign(this.info,n.storeInfo),n.rowData||b._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',n)},"InfiniteStore.noData");var l=null!=n.rowCount&&n.rowCount>=0?n.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,l),e.setData(n.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,s=this.getBlocksInOrder().filter(function(E){return E!=e});s.sort(function(E,D){return D.getLastAccessed()-E.getLastAccessed()});var g=this.storeParams.maxBlocksInCache>0,y=g?this.storeParams.maxBlocksInCache-1:null,S=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;s.forEach(function(E,D){if(E.getState()===S_.STATE_WAITING_TO_LOAD&&D>=S||g&&D>=y){if(E.isAnyNodeOpen()||n.isBlockCurrentlyDisplayed(E)||n.isBlockFocused(E))return;n.destroyBlock(E)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;var s=e.getDisplayIndexStart(),l=e.getDisplayIndexEnd();return null!=l&&null!=s&&n.rowIndex>=s&&n.rowIndex<l},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getDisplayIndexStart(),s=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(n,s)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(n){return n.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var l=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<l&&(this.rowCount=l)}},t.prototype.forEachNodeDeep=function(e,n){void 0===n&&(n=new b.NumberSequence),this.getBlocksInOrder().forEach(function(s){return s.forEachNodeDeep(e,n)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,n){void 0===n&&(n=new b.NumberSequence),this.getBlocksInOrder().forEach(function(s){return s.forEachNodeAfterFilterAndSort(e,n)})},t.prototype.getBlocksInOrder=function(){return b._.getAllValuesInObject(this.blocks).sort(function(s,l){return s.getId()-l.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(s){s.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&n.push(s)}),n.length>0&&n.forEach(function(s){return e.destroyBlock(s)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||0===this.rowCount)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,n){var s=[],l=-1,g=!1;b._.missing(e)&&(g=!0);var y=!1;return this.getBlocksInOrder().forEach(function(E){if(!y){if(g&&l+1!==E.getId())return void(y=!0);l=E.getId(),E.forEachNodeShallow(function(D){var T=D===e||D===n;(g||T)&&s.push(D),T&&(g=!g)})}}),y||g?[]:s},t.prototype.findBlockAndExecute=function(e,n,s){var S,l=!1,g=!1,y=null;return this.getBlocksInOrder().forEach(function(E){if(!l&&!g){var D=e(E);D==Ci.FOUND?(S=n(E),l=!0):D==Ci.CONTINUE_FIND?y=E:D==Ci.BREAK_FIND&&(g=!0)}}),l||(S=s(y)),S},t.prototype.getRowBounds=function(e){var n=this;return this.findBlockAndExecute(function(y){return y.isDisplayIndexInBlock(e)?Ci.FOUND:y.isBlockBefore(e)?Ci.CONTINUE_FIND:Ci.BREAK_FIND},function(y){return y.getRowBounds(e)},function(y){var S,E;return null!==y?(S=y.getBlockTopPx()+y.getBlockHeightPx(),E=y.getDisplayIndexEnd()):(S=n.cacheTopPixel,E=n.displayIndexStart),{rowHeight:n.defaultRowHeight,rowTop:S+(e-E)*n.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var n=this,y=this.findBlockAndExecute(function(E){return E.isPixelInRange(e)?Ci.FOUND:E.getBlockTopPx()<e?Ci.CONTINUE_FIND:Ci.BREAK_FIND},function(E){return E.getRowIndexAtPixel(e)},function(E){var D,T;E?(D=E.getBlockTopPx()+E.getBlockHeightPx(),T=E.getDisplayIndexEnd()):(D=n.cacheTopPixel,T=n.displayIndexStart);for(var P=n.storeParams.cacheBlockSize,F=n.defaultRowHeight*P,I=E?E.getId()+1:0,G=function(J){var ae=n.getCachedBlockHeight(J),se=null!=ae?ae:F;return{height:se,pixelInBlock:e<=se+D}},j=G(I);!j.pixelInBlock;)D+=j.height,T+=P,j=G(++I);return T+(0|Math.floor((e-D)/(j.height/P)))}),S=this.getDisplayIndexEnd()-1;return Math.min(y,S)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,n){var s=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=n.value;var l=-1,g=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(D){var T=D.getId(),P=T-l-1,F=P*g;F>0&&e.skip(F);for(var I=1;I<=P;I++){var G=T-I;b._.exists(s.blockHeights[G])?n.value+=s.blockHeights[G]:n.value+=g*s.defaultRowHeight}l=T,D.setDisplayIndexes(e,n),s.blockHeights[T]=D.getBlockHeightPx()});var y=(l+1)*g-1,E=this.getRowCount()-y-1;E>0&&(e.skip(E),n.value+=E*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=n.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,n){var s=this;if(void 0===n&&(n=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(S){return S.isDisplayIndexInBlock(e)?Ci.FOUND:S.isBlockBefore(e)?Ci.CONTINUE_FIND:Ci.BREAK_FIND},function(S){return S.getRowUsingDisplayIndex(e)},function(S){if(!n){var E,D,T,P=s.storeParams.cacheBlockSize;if(S)for(E=S.getId()+1,D=S.getDisplayIndexEnd(),T=S.getBlockHeightPx()+S.getBlockTopPx();!(e>=D&&e<D+P);){D+=P;var I=s.blockHeights[E];b._.exists(I)?T+=I:T+=s.defaultRowHeight*P,E++}else E=Math.floor((e-s.displayIndexStart)/P),D=s.displayIndexStart+E*P,T=s.cacheTopPixel+E*P*s.defaultRowHeight;return s.logger.log("block missing, rowIndex = "+e+", creating #"+E+", displayIndexStart = "+D),s.createBlock(E,D,{value:T}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.storeParams.cacheBlockSize,s=Math.floor(e/n);return this.findBlockAndExecute(function(S){return S.getId()===s?Ci.FOUND:S.getId()<s?Ci.CONTINUE_FIND:Ci.BREAK_FIND},function(S){return S.getRowUsingLocalIndex(e).rowIndex},function(S){if(!S)return e;var E=n*(S.getId()+1)-1,D=S.getRowUsingLocalIndex(E);return(D.expanded&&D.childStore?D.childStore.getDisplayIndexEnd()-1:D.expanded&&D.detailNode?D.detailNode.rowIndex:D.rowIndex)+(e-E)})},t.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(n){return n.addStoreStates(e)})},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,n,s){var l=this.createBean(new S_(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return l.setDisplayIndexes(new b.NumberSequence(n),s),this.blocks[l.getId()]=l,this.purgeBlocksIfNeeded(l),this.rowNodeBlockLoader.addBlock(l),l},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:b.ServerSideTransactionResultStatus.StoreWrongType}},t.prototype.getChildStore=function(e){var n=this;return this.storeUtils.getChildStore(e,this,function(l){var g=null;return n.getBlocksInOrder().forEach(function(y){y.forEachNodeShallow(function(S){S.key===l&&(g=S)},new b.NumberSequence)}),g})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(n){return n.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(n){n.isGroupLevel()&&n.forEachNodeShallow(function(l){var g=l.childStore;g&&e(g)},new b.NumberSequence)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,Yd([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Yd([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Yd([b.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Yd([b.Autowired("focusService")],t.prototype,"focusService",void 0),Yd([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Yd([b.PostConstruct],t.prototype,"postConstruct",null),Yd([b.PreDestroy],t.prototype,"destroyAllBlocks",null),Yd([Rx(0,b.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(b.BeanStub),bD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),fs=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},wP=function(u){function t(e,n,s){var l=u.call(this,0)||this;return l.nodeIdSequence=new b.NumberSequence,l.info={},l.ssrmParams=e,l.parentRowNode=s,l.level=s.level+1,l.groupLevel=e.rowGroupCols?l.level<e.rowGroupCols.length:void 0,l.leafGroup=!!e.rowGroupCols&&l.level===e.rowGroupCols.length-1,l}return bD(t,u),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,n){void 0===e&&(e=1),void 0===n&&(n=!1),this.destroyRowNodes();for(var s=0;s<e;s++){var l=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});n&&(l.failedLoad=!0),this.allRowNodes.push(l),this.nodesAfterFilter.push(l),this.nodesAfterSort.push(l)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,n){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=n?b._.insertIntoArray(this.allRowNodes,s,n):this.allRowNodes.push(s);var l=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(s,e,l,void 0),this.nodeManager.addRowNode(s),this.blockUtils.checkOpenByDefault(s),this.allNodesMap[s.id]=s,s},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var n=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||b._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(n,e.rowData),n&&this.blockUtils.destroyRowNodes(b._.getAllValuesInObject(n)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,n){var s=this;n&&n.forEach(function(y){var S=function(y){if(e){var S=s.gridOptionsWrapper.getRowIdFunc();if(S){var E=s.parentRowNode.getGroupKeys(),T=S({data:y,parentKeys:E.length>0?E:void 0,level:s.level}),P=e[T];if(P)return delete e[T],P}}}(y);S?function(y,S){s.allNodesMap[y.id]=y,s.blockUtils.updateDataIntoRowNode(y,S),s.allRowNodes.push(y)}(S,y):s.createDataNode(y)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),n=!e||0==e.length,s=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=n||s?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(g){return e.filterManager.doesRowPassFilter({rowNode:g})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(n){return e.blockUtils.clearDisplayIndex(n)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,n){var s=this;this.displayIndexStart=e.peek(),this.topPx=n.value;var l={};this.nodesAfterSort.forEach(function(g){s.blockUtils.setDisplayIndex(g,e,n),l[g.id]=!0}),this.allRowNodes.forEach(function(g){l[g.id]||s.blockUtils.clearDisplayIndex(g)}),this.displayIndexEnd=e.peek(),this.heightPx=n.value-this.topPx},t.prototype.forEachNodeDeep=function(e,n){void 0===n&&(n=new b.NumberSequence),this.allRowNodes.forEach(function(s){e(s,n.next());var l=s.childStore;l&&l.forEachNodeDeep(e,n)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,n){void 0===n&&(n=new b.NumberSequence),this.nodesAfterSort.forEach(function(s){e(s,n.next());var l=s.childStore;l&&l.forEachNodeDeepAfterFilterAndSort(e,n)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var n=0;n<this.nodesAfterSort.length;n++){var l=this.blockUtils.extractRowBounds(this.nodesAfterSort[n],e);if(l)return l}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var n=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var y=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=y.rowTop+y.rowHeight&&y.expanded){if(y.childStore&&y.childStore.getRowCount()>0)return y.childStore.getRowIndexAtPixel(e);if(y.detailNode)return y.detailNode.rowIndex}return y.rowIndex}var E=null;return this.nodesAfterSort.forEach(function(T){var P=n.blockUtils.getIndexAtPixel(T,e);null!=P&&(E=P)}),null==E?this.displayIndexEnd-1:E},t.prototype.getChildStore=function(e){var n=this;return this.storeUtils.getChildStore(e,this,function(s){return n.allRowNodes.find(function(g){return g.key===s})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(n){var s=n.childStore;s&&e(s)})},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(n){return n.refreshAfterFilter(e)}))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(n){return n.refreshAfterSort(e)}))},t.prototype.applyTransaction=function(e){switch(this.getState()){case b.RowNodeBlock.STATE_FAILED:return{status:b.ServerSideTransactionResultStatus.StoreLoadingFailed};case b.RowNodeBlock.STATE_LOADING:return{status:b.ServerSideTransactionResultStatus.StoreLoading};case b.RowNodeBlock.STATE_WAITING_TO_LOAD:return{status:b.ServerSideTransactionResultStatus.StoreWaitingToLoad}}var n=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(n&&!n({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:b.ServerSideTransactionResultStatus.Cancelled};var g={status:b.ServerSideTransactionResultStatus.Applied,remove:[],update:[],add:[]},y=[];return this.executeAdd(e,g),this.executeRemove(e,g,y),this.executeUpdate(e,g,y),this.filterAndSortNodes(),this.updateSelection(y),g},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(l){l.setSelected(!1,!1,!0)});var s={type:b.Events.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(s)}},t.prototype.executeAdd=function(e,n){var s=this,l=e.add,g=e.addIndex;b._.missingOrEmpty(l)||("number"==typeof g&&g>=0?l.reverse().forEach(function(S){var E=s.createDataNode(S,g);n.add.push(E)}):l.forEach(function(S){var E=s.createDataNode(S);n.add.push(E)}))},t.prototype.executeRemove=function(e,n,s){var l=this,g=e.remove;if(null!=g){var y={};g.forEach(function(S){var E=l.lookupRowNode(S);!E||(E.isSelected()&&s.push(E),E.clearRowTopAndRowIndex(),y[E.id]=!0,delete l.allNodesMap[E.id],n.remove.push(E),l.nodeManager.removeNode(E))}),this.allRowNodes=this.allRowNodes.filter(function(S){return!y[S.id]})}},t.prototype.executeUpdate=function(e,n,s){var l=this,g=e.update;null!=g&&g.forEach(function(y){var S=l.lookupRowNode(y);!S||(S.updateData(y),!S.selectable&&S.isSelected()&&s.push(S),n.update.push(S))})},t.prototype.lookupRowNode=function(e){var s,n=this.gridOptionsWrapper.getRowIdFunc();if(null!=n){var l=this.level,g=this.parentRowNode.getGroupKeys(),y=n({data:e,parentKeys:g.length>0?g:void 0,level:l});if(!(s=this.allNodesMap[y]))return console.error("AG Grid: could not find row id="+y+", data item was not found for this id"),null}else if(!(s=this.allRowNodes.find(function(S){return S.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return s},t.prototype.addStoreStates=function(e){e.push({type:"full",route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(n){return n.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===b.RowNodeBlock.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==b.RowNodeBlock.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,n){var s=[],l=!1;return b._.missing(e)&&(l=!0),this.nodesAfterSort.forEach(function(y){var S=y===e||y===n;(l||S)&&s.push(y),S&&(l=!l)}),l?[]:s},fs([b.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),fs([b.Autowired("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),fs([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),fs([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),fs([b.Autowired("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),fs([b.Autowired("sortController")],t.prototype,"sortController",void 0),fs([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),fs([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),fs([b.Autowired("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),fs([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),fs([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),fs([b.PostConstruct],t.prototype,"postConstruct",null),fs([b.PreDestroy],t.prototype,"destroyRowNodes",null),t}(b.RowNodeBlock),CE=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},_P=function(){function u(){}return u.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new("partial"===n.storeType?Ax:wP)(t,n,e)},u.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),s=this.getStoreType(n);return{storeType:s,cacheBlockSize:this.getBlockSize(s,n),maxBlocksInCache:this.getMaxBlocksInCache(s,t,n)}},u.prototype.getMaxBlocksInCache=function(t,e,n){if("full"!=t){var s=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=s&&s>=0)return e.dynamicRowHeight?void b._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void b._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):s}},u.prototype.getBlockSize=function(t,e){if("full"!=t){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=n&&n>0?n:100}},u.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},u.prototype.getStoreType=function(t){var e=t&&null!=t.storeType?t.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case"partial":case"full":return e;case null:case void 0:return"full";default:var s=["full","partial"].join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+e+", valid types are ["+s+"]"),"partial"}},CE([b.Autowired("gridOptionsWrapper")],u.prototype,"gridOptionsWrapper",void 0),CE([b.Autowired("columnModel")],u.prototype,"columnModel",void 0),CE([b.Bean("ssrmStoreFactory")],u)}(),wE=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ED=function(){function u(){}return u.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(s){return s.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},u.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(s){return s.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},wE([b.Autowired("columnModel")],u.prototype,"columnModel",void 0),wE([b.Bean("ssrmListenerUtils")],u)}(),OD={moduleName:b.ModuleNames.ServerSideRowModelModule,rowModels:{serverSide:CD},beans:[yP,mP,Sx,y_,vP,Ox,SD,_P,ED],dependantModules:[Sn]},bP=function(){function u(t,e,n){this.rowModel=t,this.filterParams=e,this.caseFormat=n}return u.prototype.extractUniqueValues=function(t){var e=this,n={},s=this.filterParams.colDef.keyCreator,l=function(g){var y=null!=g?e.caseFormat(g):"__<ag-grid-pseudo-null>__";y&&null==n[y]&&(n[y]=g)};return this.rowModel.forEachLeafNode(function(g){if(g.data&&t(g)){var y=e.filterParams,F=e.filterParams.valueGetter({api:y.api,colDef:y.colDef,column:y.column,columnApi:y.columnApi,context:y.context,data:g.data,getValue:function(G){return g.data[G]},node:g});s&&(F=s({value:F,colDef:e.filterParams.colDef,column:e.filterParams.column,node:g,data:g.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(F=b._.makeNull(F))&&Array.isArray(F)?F.forEach(function(G){var j=b._.toStringOrNull(b._.makeNull(G));l(j)}):l(b._.toStringOrNull(F))}}),b._.values(n)},u}(),mo=(()=>(function(u){u[u.PROVIDED_LIST=0]="PROVIDED_LIST",u[u.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",u[u.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(mo||(mo={})),mo))(),EP=function(){function u(t,e,n,s,l){var g=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=n,this.translate=s,this.caseFormat=l,this.localEventService=new b.EventService,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var S=t.colDef,E=t.textFormatter,D=t.doesRowPassOtherFilter,T=t.suppressSorting,P=t.comparator,F=t.rowModel,I=t.values;this.column=t.column,this.formatter=E||b.TextFilter.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=D,this.suppressSorting=T||!1,this.comparator=P||S.comparator||b._.defaultComparator,F.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new bP(F,this.filterParams,this.caseFormat)),null==I?this.valuesType=mo.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(I)?mo.PROVIDED_LIST:mo.PROVIDED_CALLBACK,this.providedValues=I),this.updateAllValues().then(function(j){return g.resetSelectionState(j||[])})}return u.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},u.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},u.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},u.prototype.overrideValues=function(t){var e=this;return new b.AgPromise(function(n){e.allValuesPromise.then(function(){e.valuesType=mo.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return n()})})})},u.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}):b.AgPromise.resolve()},u.prototype.isInitialised=function(){return this.initialised},u.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new b.AgPromise(function(e){switch(t.valuesType){case mo.TAKEN_FROM_GRID_VALUES:case mo.PROVIDED_LIST:var n=t.valuesType===mo.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):b._.values(t.uniqueValues(b._.toStrings(t.providedValues)||[])),s=t.sortValues(n||[]);t.allValues=s,e(s);break;case mo.PROVIDED_CALLBACK:t.setIsLoading(!0);var l=t.providedValues,g=t.filterParams,P={success:function(F){var I=b._.values(t.uniqueValues(b._.toStrings(F)||[]));t.setIsLoading(!1);var G=t.sortValues(I||[]);t.allValues=G,e(G)},colDef:g.colDef,column:g.column,columnApi:g.columnApi,api:g.api,context:g.context};window.setTimeout(function(){return l(P)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}).then(function(){return t.initialised=!0}),this.allValuesPromise},u.prototype.setValuesType=function(t){this.valuesType=t},u.prototype.getValuesType=function(){return this.valuesType},u.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},u.prototype.showAvailableOnly=function(){return this.valuesType===mo.TAKEN_FROM_GRID_VALUES},u.prototype.updateAvailableValues=function(t){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=b._.convertToSet(e),this.localEventService.dispatchEvent({type:u.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},u.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):t.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},u.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(s){return!t||e.doesRowPassOtherFilters(s)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},u.prototype.setMiniFilter=function(t){return t=b._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues(),!0)},u.prototype.getMiniFilter=function(){return this.miniFilterText},u.prototype.updateDisplayedValues=function(){var t=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),n=function(s){return null!=s&&t.caseFormat(s).indexOf(e)>=0};this.availableValues.forEach(function(s){if(null==s)t.filterParams.excelMode&&n(t.translate("blanks"))&&t.displayedValues.push(s);else{var l=t.formatter(s),g=t.valueFormatterService.formatValue(t.column,null,l,t.filterParams.valueFormatter,!1);(n(l)||n(g))&&t.displayedValues.push(s)}})}else this.displayedValues=b._.values(this.availableValues)},u.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},u.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},u.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},u.prototype.getValues=function(){return this.allValues.slice()},u.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedValues=b._.convertToSet(this.allValues):(t&&this.selectedValues.clear(),this.displayedValues.forEach(function(n){return e.selectedValues.add(n)}))},u.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return t.selectedValues.delete(e)})},u.prototype.selectValue=function(t){this.selectedValues.add(t)},u.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},u.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},u.prototype.isEverythingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===this.displayedValues.length},u.prototype.isNothingVisibleSelected=function(){var t=this;return 0===this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length},u.prototype.getModel=function(){return this.hasSelections()?b._.values(this.selectedValues):null},u.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(n){if(null==t)e.resetSelectionState(n||[]);else{e.selectedValues.clear();var s=e.uniqueValues(n||[]);t.forEach(function(l){var g=s[e.uniqueKey(l)];void 0!==g&&e.selectedValues.add(g)})}})},u.prototype.uniqueValues=function(t){var e=this,n={};return(t||[]).forEach(function(s){var l=b._.makeNull(s),g=e.uniqueKey(l);void 0===n[g]&&(n[g]=l)}),n},u.prototype.uniqueKey=function(t){return null==t?"__<ag-grid-pseudo-null>__":this.caseFormat(t)},u.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=b._.convertToSet(t||[])},u.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",u}(),DD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),up=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},O_=function(u){function t(e,n,s,l){var g=u.call(this,t.TEMPLATE)||this;return g.value=e,g.params=n,g.translate=s,g.isSelected=l,g}return DD(t,u),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(n){var s=n||!1;e.isSelected=s,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:s})})},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,n=this.value,s=null;"function"==typeof n?n=n():s=this.getFormattedValue(this.params,e,n),this.params.showTooltips&&this.setTooltip(null!=s?s:n);var g={value:n,valueFormatted:s,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(g)},t.prototype.getTooltipParams=function(){var e=u.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},t.prototype.getFormattedValue=function(e,n,s){return this.valueFormatterService.formatValue(n,null,s,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var n=this,s=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),l=s?s.newAgStackInstance():void 0;if(null!=l)l.then(function(y){y&&(n.eCheckbox.setLabel(y.getGui()),n.addDestroyFunc(function(){return n.destroyBean(y)}))});else{var g=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==g?this.translate("blanks"):g)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',up([b.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),up([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),up([b.RefSelector("eCheckbox")],t.prototype,"eCheckbox",void 0),up([b.PostConstruct],t.prototype,"init",null),t}(b.Component),RD={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},Px=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),D_=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},R_=function(u){function t(){var e=u.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return Px(t,u),t.prototype.postConstruct=function(){u.prototype.postConstruct.call(this),this.positionableFeature=new b.PositionableFeature(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(u.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case b.KeyCode.SPACE:this.handleKeySpace(e);break;case b.KeyCode.ENTER:this.handleKeyEnter(e)}},t.prototype.handleKeySpace=function(e){var n=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(n.activeElement)&&this.virtualList){var s=this.virtualList.getLastFocusedRow();if(null!=s){var l=this.virtualList.getComponentAt(s);null!=l&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||l.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var n=this.setFilterParams||{};!n.excelMode||n.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var n=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return n.refresh()}):b.AgPromise.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,n){return null==e&&null==n||null!=e&&null!=n&&b._.areEqual(e.values,n.values)},t.prototype.setParams=function(e){var n=this;this.applyExcelModeOptions(e),u.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new EP(e,function(s){return n.showOrHideLoadingScreen(s)},this.valueFormatterService,function(s){return n.translateForSetFilter(s)},function(s){return n.caseFormat(s)}),this.initialiseFilterBodyUi(),e.rowModel.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&!e.values&&this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,b.Events.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,b.Events.EVENT_CELL_VALUE_CHANGED,function(n){e.setFilterParams&&n.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e){var n=this;if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var s=b.AgPromise.resolve();return e&&(s=this.valueModel.refreshValues()),s.then(function(){n.refresh(),n.onBtApply(!1,!0)})},t.prototype.showOrHideLoadingScreen=function(e){b._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var s=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),l=this.virtualList=this.createBean(new b.VirtualList("filter","listbox",s)),g=this.getRefElement("eSetFilterList");g&&g.appendChild(l.getGui());var S,y=this.setFilterParams.cellHeight;null!=y&&l.setRowHeight(y),l.setComponentCreator(function(E){return e.createSetListItem(E)}),S=this.setFilterParams.suppressSelectAll?new OP(this.valueModel):new Tx(this.valueModel,function(){return e.isSelectAllSelected()}),l.setModel(S)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var s,n=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((s=this.createBean(new O_(function(){return n.getSelectAllLabel()},this.setFilterParams,function(l){return n.translateForSetFilter(l)},this.isSelectAllSelected()))).addEventListener(O_.EVENT_SELECTION_CHANGED,function(l){return n.onSelectAll(l.isSelected)}),s):((s=this.createBean(new O_(e,this.setFilterParams,function(l){return n.translateForSetFilter(l)},this.valueModel.isValueSelected(e)))).addEventListener(O_.EVENT_SELECTION_CHANGED,function(l){return n.onItemSelected(e,l.isSelected)}),s)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var s=this.eMiniFilter,g=this.gridOptionsWrapper.getLocaleTextFunc();s.setDisplayed(!this.setFilterParams.suppressMiniFilter),s.setValue(this.valueModel.getMiniFilter()),s.onValueChange(function(){return e.onMiniFilterInput()}),s.setInputAriaLabel(g("ariaSearchFilterValues","Search filter values")),this.addManagedListener(s.getInputElement(),"keypress",function(y){return e.onMiniFilterKeyPress(y)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");u.prototype.afterGuiAttached.call(this,e),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&n.getFocusableElement().focus();var l,s=!(!e||"floatingFilter"!==e.container);l=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},s?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(l)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var n=u.prototype.applyModel.call(this),s=this.getModel();return this.appliedModelValues=s?s.values.reduce(function(l,g){return l[e.caseFormat(String(g))]=!0,l},{}):null,n},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var n=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var s=e.node,l=e.data,g=this.setFilterParams,S=g.colDef.keyCreator,E=g.api,D=g.colDef,T=g.column,P=g.columnApi,F=g.context,I=(0,g.valueGetter)({api:E,colDef:D,column:T,columnApi:P,context:F,data:l,getValue:function(j){return l[j]},node:s});return S&&(I=S({value:I,colDef:D,column:T,node:s,data:l,api:E,columnApi:P,context:F})),I=b._.makeNull(I),Array.isArray(I)?I.some(function(j){return!0===n.appliedModelValues[n.caseFormat(String(b._.makeNull(j)))]}):!0===this.appliedModelValues[this.caseFormat(String(I))]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===mo.TAKEN_FROM_GRID_VALUES)},t.prototype.setFilterValues=function(e){var n=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){n.refresh(),n.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(mo.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;b._.setDisplayed(this.eNoMatches,e),b._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var n=this.setFilterParams||{};e.key===b.KeyCode.ENTER&&!n.excelMode&&!n.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var n=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(n)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var n=this;null!=e&&window.setTimeout(function(){if(!n.virtualList)throw new Error("Virtual list has not been created.");n.isAlive()&&n.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},t.prototype.onItemSelected=function(e,n){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");n?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var s=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(s)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,RD[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),u.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",D_([b.RefSelector("eMiniFilter")],t.prototype,"eMiniFilter",void 0),D_([b.RefSelector("eFilterLoading")],t.prototype,"eFilterLoading",void 0),D_([b.RefSelector("eSetFilterList")],t.prototype,"eSetFilterList",void 0),D_([b.RefSelector("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),D_([b.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(b.ProvidedFilter),OP=function(){function u(t){this.model=t}return u.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},u.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},u.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},u}(),Tx=function(){function u(t,e){this.model=t,this.isSelectAllSelected=e}return u.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},u.prototype.getRow=function(t){return 0===t?R_.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},u.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t))},u}(),xx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),AD=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Mx=function(u){function t(){var e=u.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return xx(t,u),t.prototype.destroy=function(){u.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),s=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+s("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(n){if(!(n instanceof R_))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(n)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(n){var s=n.getValueModel();!s||e.addManagedListener(s,EP.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var n=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(s){var l=(e||s.getModel()||{}).values,g=s.getValueModel();if(null!=l&&null!=g){var y=n.gridOptionsWrapper.getLocaleTextFunc(),E=l.filter(function(P){return g.isValueAvailable(P)}).map(function(P){var F=n.params,j=n.valueFormatterService.formatValue(F.column,null,P,F.filterParams.valueFormatter,!1),U=null!=j?j:P;return null==U?y("blanks",RD.blanks):U}),D=E.length>10?E.slice(0,10).concat("..."):E,T="("+E.length+") "+D.join(",");n.eFloatingFilterText.setValue(T)}else n.eFloatingFilterText.setValue("")})},AD([b.RefSelector("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),AD([b.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),AD([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),t}(b.Component),Fx={moduleName:b.ModuleNames.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:R_},{componentName:"agSetColumnFloatingFilter",componentClass:Mx}],dependantModules:[Sn]},DP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nx=function(u){function t(){var e=u.call(this)||this;return e.allComponents={},e}return DP(t,u),t.prototype.registerStatusPanel=function(e,n){this.allComponents[e]=n},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l}([b.Bean("statusBarService")],t),t}(b.BeanStub),Lx=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yf=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},A_=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return Lx(t,u),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(l){return"left"===l.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var n=this.gridOptions.statusBar.statusPanels.filter(function(l){return"center"===l.align});this.createAndRenderComponents(n,this.eStatusBarCenter);var s=this.gridOptions.statusBar.statusPanels.filter(function(l){return!l.align||"right"===l.align});this.createAndRenderComponents(s,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,n){var s=this,l=[];e.forEach(function(g){var E=s.userComponentFactory.getStatusPanelCompDetails(g,{}).newAgStackInstance();!E||l.push({key:g.key||g.statusPanel,promise:E})}),b.AgPromise.all(l.map(function(g){return g.promise})).then(function(){l.forEach(function(g){g.promise.then(function(y){var S=function(){s.getContext().destroyBean(y)};s.isAlive()?(s.statusBarService.registerStatusPanel(g.key,y),n.appendChild(y.getGui()),s.addDestroyFunc(S)):S()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',Yf([b.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Yf([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Yf([b.Autowired("statusBarService")],t.prototype,"statusBarService",void 0),Yf([b.RefSelector("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Yf([b.RefSelector("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Yf([b.RefSelector("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Yf([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),kl=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),RP=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Wy=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return kl(t,u),t.prototype.setLabel=function(e,n){this.setDisplayed(!1);var s=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=s(e,n)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',RP([b.RefSelector("eLabel")],t.prototype,"eLabel",void 0),RP([b.RefSelector("eValue")],t.prototype,"eValue",void 0),t}(b.Component),AP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uo=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},qd=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return AP(t,u),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("thousandSeparator",","),s=e("decimalSeparator","."),l=b._.formatNumberCommas(this.getFilteredRowCountValue(),n,s),g=b._.formatNumberCommas(this.getTotalRowCount(),n,s);if(l===g)this.setValue(l);else{var y=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(l+" "+y("of","of")+" "+g)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(n){n.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(n){n.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){u.prototype.destroy.call(this)},Uo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Uo([b.PostConstruct],t.prototype,"postConstruct",null),t}(Wy),PP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),PD=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},TD=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return PP(t,u),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),n=this.getFilteredRowCountValue(),s=this.gridOptionsWrapper.getLocaleTextFunc(),l=s("thousandSeparator",","),g=s("decimalSeparator",".");this.setValue(b._.formatNumberCommas(n,l,g)),this.setDisplayed(e!==n)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(n){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(n){n.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){u.prototype.destroy.call(this)},PD([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),PD([b.PostConstruct],t.prototype,"postConstruct",null),t}(Wy),xD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),MD=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},_E=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return xD(t,u),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("thousandSeparator",","),s=e("decimalSeparator",".");this.setValue(b._.formatNumberCommas(this.getRowCountValue(),n,s))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(n){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){u.prototype.destroy.call(this)},MD([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),MD([b.PostConstruct],t.prototype,"postConstruct",null),t}(Wy),FD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vl=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Xd=function(u){function t(){return null!==u&&u.apply(this,arguments)||this}return FD(t,u),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,n=this.gridOptionsWrapper.getLocaleTextFunc(),s=n("thousandSeparator",","),l=n("decimalSeparator",".");this.setValue(b._.formatNumberCommas(e,s,l)),this.setDisplayed(e>0);var g=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,g),this.addManagedListener(this.eventService,b.Events.EVENT_SELECTION_CHANGED,g)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,n=this.gridOptionsWrapper.getLocaleTextFunc(),s=n("thousandSeparator",","),l=n("decimalSeparator",".");this.setValue(b._.formatNumberCommas(e,s,l)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){u.prototype.destroy.call(this)},Vl([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Vl([b.PostConstruct],t.prototype,"postConstruct",null),t}(Wy),TP=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wi=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},ID=function(u){function t(){return u.call(this,t.TEMPLATE)||this}return TP(t,u),t.prototype.destroy=function(){u.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,b.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,n,s){var l=this.getAggregationValueComponent(e);if(b._.exists(l)&&l){var g=this.gridOptionsWrapper.getLocaleTextFunc(),y=g("thousandSeparator",","),S=g("decimalSeparator",".");l.setValue(b._.formatNumberTwoDecimalPlacesAndCommas(n,y,S)),l.setDisplayed(s)}},t.prototype.getAggregationValueComponent=function(e){var n=e+"AggregationComp",s=null,l=b._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(g){return"agAggregationComponent"===g.statusPanel}):null;return b._.exists(l)&&l?(!b._.exists(l.statusPanelParams)||b._.exists(l.statusPanelParams)&&b._.exists(l.statusPanelParams.aggFuncs)&&b._.exists(l.statusPanelParams.aggFuncs.find(function(g){return g===e})))&&(s=this[n]):s=this[n],s},t.prototype.onRangeSelectionChanged=function(){var e=this,n=this.rangeService?this.rangeService.getCellRanges():void 0,s=0,l=0,g=0,y=null,S=null,E={};n&&!b._.missingOrEmpty(n)&&n.forEach(function(P){for(var F=e.rangeService.getRangeStartRow(P),I=e.rangeService.getRangeEndRow(P);!b._.missing(F)&&F&&!e.rowPositionUtils.before(I,F)&&F&&P.columns;)P.columns.forEach(function(j){if(null!==F){var U=e.cellPositionUtils.createId({rowPinned:F.rowPinned,column:j,rowIndex:F.rowIndex});if(!E[U]){E[U]=!0;var z=e.rowRenderer.getRowNode(F);if(!b._.missing(z)){var Y=e.valueService.getValue(j,z);b._.missing(Y)||""===Y||(Y.value&&(Y=Y.value),"string"==typeof Y&&(Y=Number(Y)),"number"==typeof Y&&!isNaN(Y)&&(s+=Y,(null===S||Y>S)&&(S=Y),(null===y||Y<y)&&(y=Y),g++),l++)}}}}),F=e.cellNavigationService.getRowBelow(F)});var T=g>1;this.setAggregationComponentValue("count",l,l>1),this.setAggregationComponentValue("sum",s,T),this.setAggregationComponentValue("min",y,T),this.setAggregationComponentValue("max",S,T),this.setAggregationComponentValue("avg",s/g,T)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Wi([b.Optional("rangeService")],t.prototype,"rangeService",void 0),Wi([b.Autowired("valueService")],t.prototype,"valueService",void 0),Wi([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Wi([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Wi([b.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Wi([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Wi([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Wi([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Wi([b.RefSelector("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Wi([b.RefSelector("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Wi([b.RefSelector("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Wi([b.RefSelector("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Wi([b.RefSelector("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Wi([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),ND={moduleName:b.ModuleNames.StatusBarModule,beans:[Nx],agStackComponents:[{componentName:"AgStatusBar",componentClass:A_},{componentName:"AgNameValue",componentClass:Wy}],userComponents:[{componentName:"agAggregationComponent",componentClass:ID},{componentName:"agSelectedRowCountComponent",componentClass:Xd},{componentName:"agTotalRowCountComponent",componentClass:_E},{componentName:"agFilteredRowCountComponent",componentClass:TD},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:qd}],dependantModules:[Sn]},SE=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zd=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},xP=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return SE(t,u),t.prototype.ensureRowHeightsValid=function(e,n,s,l){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,b.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var n=this.gridOptionsWrapper.getViewportRowModelBufferSize(),s=this.gridOptionsWrapper.getViewportRowModelPageSize(),l=e-n;return l<0?0:Math.floor(l/s)*s},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var n=this.gridOptionsWrapper.getViewportRowModelBufferSize(),s=this.gridOptionsWrapper.getViewportRowModelPageSize(),g=Math.ceil((e+n)/s)*s;return Math.min(g,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var n=this.calculateFirstRow(e.firstRow),s=this.calculateLastRow(e.lastRow);(this.firstRow!==n||this.lastRow!==s)&&(this.firstRow=n,this.lastRow=s,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(n){var s=parseInt(n,10);(s<e.firstRow||s>e.lastRow)&&delete e.rowNodesByIndex[s]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return b.Constants.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(s){s.id===e&&(n=s)}),n},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,n){var s=b._.missing(e)?0:e.rowIndex,l=n.rowIndex;if(s<this.firstRow||s>this.lastRow||l<this.firstRow||l>this.lastRow)return[];for(var S=[],D=s<=l?l:s,T=s<=l?s:l;T<=D;T++)S.push(this.rowNodesByIndex[T]);return S},t.prototype.forEachNode=function(e){var n=this,s=0;Object.keys(this.rowNodesByIndex).forEach(function(l){var g=parseInt(l,10);e(n.rowNodesByIndex[g],s),s++})},t.prototype.setRowData=function(e){var n=this;b._.iterateObject(e,function(s,l){var g=parseInt(s,10);if(g>=n.firstRow&&g<=n.lastRow){var y=n.rowNodesByIndex[g];b._.missing(y)&&(y=n.createBlankRowNode(g),n.rowNodesByIndex[g]=y),y.setDataAndId(l,g.toString())}})},t.prototype.createBlankRowNode=function(e){var n=new b.RowNode(this.beans);return n.setRowHeight(this.rowHeight),n.setRowTop(this.rowHeight*e),n.setRowIndex(e),n},t.prototype.setRowCount=function(e,n){void 0===n&&(n=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:b.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:n,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},Zd([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Zd([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Zd([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Zd([b.Autowired("beans")],t.prototype,"beans",void 0),Zd([b.PostConstruct],t.prototype,"init",null),Zd([b.PreDestroy],t.prototype,"destroyDatasource",null),Zd([b.Bean("rowModel")],t)}(b.BeanStub),LD={moduleName:b.ModuleNames.ViewportRowModelModule,rowModels:{viewport:xP},dependantModules:[Sn]},GD=function(){var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)s.hasOwnProperty(l)&&(n[l]=s[l])})(t,e)};return function(t,e){function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hr=function(u,t,e,n){var g,s=arguments.length,l=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(u,t,e,n);else for(var y=u.length-1;y>=0;y--)(g=u[y])&&(l=(s<3?g(l):s>3?g(t,e,l):g(t,e))||l);return s>3&&l&&Object.defineProperty(t,e,l),l},Rn=function(u,t){var e="function"==typeof Symbol&&u[Symbol.iterator];if(!e)return u;var s,g,n=e.call(u),l=[];try{for(;(void 0===t||t-- >0)&&!(s=n.next()).done;)l.push(s.value)}catch(y){g={error:y}}finally{try{s&&!s.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return l},Ut=function(u){function t(){var e=null!==u&&u.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return GD(t,u),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(n){e.gridCtrl=n.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(s){b._.doOnce(function(){console.warn(s),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(n){return n.focus({preventScroll:!0})},function(n){e.processClipboardData(n.value)})},t.prototype.processClipboardData=function(e){var n=this;if(null!=e){var s=b._.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),l=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();l&&(s=l({data:s})),null!=s&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(s),this.doPasteOperation(function(y,S,E,D){n.rangeService&&n.rangeService.isMoreThanOneCell()&&!n.hasOnlyOneValueToPaste(s)?n.pasteIntoActiveRange(s,y,S,D):n.pasteStartingFromFocusedCell(s,y,S,E,D)}))}},t.prototype.doPasteOperation=function(e){var g,n=this.gridOptionsWrapper.getApi(),s=this.gridOptionsWrapper.getColumnApi(),l="clipboard";if(this.eventService.dispatchEvent({type:b.Events.EVENT_PASTE_START,api:n,columnApi:s,source:l}),this.clientSideRowModel){var y=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();g=new b.ChangedPath(y,this.clientSideRowModel.getRootNode())}var S={},E=[],D=this.focusService.getFocusedCell();e(S,E,D,g),g&&this.clientSideRowModel.doAggregate(g),this.rowRenderer.refreshCells(),this.dispatchFlashCells(S),this.fireRowChanged(E),D&&this.focusService.setFocusedCell(D.rowIndex,D.column,D.rowPinned,!0),this.eventService.dispatchEvent({type:b.Events.EVENT_PASTE_END,api:n,columnApi:s,source:l})},t.prototype.pasteIntoActiveRange=function(e,n,s,l){var g=this,y=this.getRangeSize()%e.length!=0,S=0,E=0;this.iterateActiveRanges(!1,function(T,P,F,I){if(I-S>=e.length){if(y)return;S+=E,E=0}var j=e[I-S];s.push(P);var U=g.gridOptionsWrapper.getProcessCellFromClipboardFunc();F.forEach(function(z,Y){if(z.isCellEditable(P)&&!z.isSuppressPaste(P)){Y>=j.length&&(Y%=j.length);var J=g.processCell(P,z,j[Y],b.Constants.EXPORT_TYPE_DRAG_COPY,U);P.setDataValue(z,J,b.Constants.SOURCE_PASTE),l&&l.addParentNode(P.parent,[z]);var ae=g.cellPositionUtils.createIdFromValues(T.rowIndex,z,T.rowPinned);n[ae]=!0}}),E++})},t.prototype.pasteStartingFromFocusedCell=function(e,n,s,l,g){if(l){var y={rowIndex:l.rowIndex,rowPinned:l.rowPinned},S=this.columnModel.getDisplayedColumnsStartingAt(l.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,s,n,g):this.pasteMultipleValues(e,y,s,S,n,b.Constants.EXPORT_TYPE_CLIPBOARD,g)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,n,s,l){var g=this,y=e[0][0];this.iterateActiveRanges(!1,function(E,D,T){n.push(D),T.forEach(function(P){return g.updateCellValue(D,P,y,s,b.Constants.EXPORT_TYPE_CLIPBOARD,l)})})},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var n=[];this.doPasteOperation(function(l,g,y,S){var E=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),D=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(P,F,I){n.length?(g.push(F),I.forEach(function(G,j){if(G.isCellEditable(F)&&!G.isSuppressPaste(F)){var U=e.processCell(F,G,n[j],b.Constants.EXPORT_TYPE_DRAG_COPY,D);F.setDataValue(G,U,b.Constants.SOURCE_PASTE),S&&S.addParentNode(F.parent,[G]);var z=e.cellPositionUtils.createIdFromValues(P.rowIndex,G,P.rowPinned);l[z]=!0}})):I.forEach(function(G){var j=e.processCell(F,G,e.valueService.getValue(G,F),b.Constants.EXPORT_TYPE_DRAG_COPY,E);n.push(j)})})})}},t.prototype.removeLastLineIfBlank=function(e){var n=b._.last(e);n&&1===n.length&&""===n[0]&&b._.removeFromArray(e,n)},t.prototype.fireRowChanged=function(e){var n=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(s){var l={type:b.Events.EVENT_ROW_VALUE_CHANGED,node:s,data:s.data,rowIndex:s.rowIndex,rowPinned:s.rowPinned,context:n.gridOptionsWrapper.getContext(),api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi()};n.eventService.dispatchEvent(l)})},t.prototype.pasteMultipleValues=function(e,n,s,l,g,y,S){var E=this,D=n,T=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(F){var I=function(){for(;;){if(!D)return null;var F=E.rowPositionUtils.getRowNode(D);if(D=E.cellNavigationService.getRowBelow({rowPinned:D.rowPinned,rowIndex:D.rowIndex}),null==F)return null;if(!(F.detail||F.footer||T&&F.group))return F}}();!I||(F.forEach(function(G,j){return E.updateCellValue(I,l[j],G,g,y,S)}),s.push(I))})},t.prototype.updateCellValue=function(e,n,s,l,g,y){if(e&&n&&n.isCellEditable(e)&&!n.isSuppressPaste(e)){var S=this.processCell(e,n,s,g,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(n,S,b.Constants.SOURCE_PASTE),l[this.cellPositionUtils.createIdFromValues(e.rowIndex,n,e.rowPinned)]=!0,y&&y.addParentNode(e.parent,[n])}},t.prototype.copyToClipboard=function(e){void 0===e&&(e={});var n=e.includeHeaders,s=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+n),null==n&&(n=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==s&&(s=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var l={includeHeaders:n,includeGroupHeaders:s},g=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(l):g?this.copySelectedRowsToClipboard(l):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(l):this.copySelectedRangeToClipboard(l)},t.prototype.iterateActiveRanges=function(e,n,s){var l=this;if(this.rangeService&&!this.rangeService.isEmpty()){var g=this.rangeService.getCellRanges();e?this.iterateActiveRange(g[0],n,s,!0):g.forEach(function(y,S){return l.iterateActiveRange(y,n,s,S===g.length-1)})}},t.prototype.iterateActiveRange=function(e,n,s,l){if(this.rangeService){var g=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(e);s&&e.columns&&s(e.columns);for(var S=0,E=!1;!E&&null!=g;){var D=this.rowPositionUtils.getRowNode(g);E=this.rowPositionUtils.sameRow(g,y),n(g,D,e.columns,S++,E&&l),g=this.cellNavigationService.getRowBelow(g)}}},t.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var s=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),g=s.cellsToFlash;this.copyDataToClipboard(s.data),this.dispatchFlashCells(g)}},t.prototype.buildDataFromMergedRanges=function(e){var n=this,s=new Set,l=this.rangeService.getCellRanges(),g=[],y={};l.forEach(function(T){T.columns.forEach(function(G){return s.add(G)});var P=n.getRangeRowPositionsAndCellsToFlash(T),I=P.cellsToFlash;g.push.apply(g,function(){for(var u=[],t=0;t<arguments.length;t++)u=u.concat(Rn(arguments[t]));return u}(P.rowPositions)),Object.assign(y,I)});var S=this.columnModel.getAllDisplayedColumns(),E=Array.from(s);return E.sort(function(T,P){return S.indexOf(T)-S.indexOf(P)}),{data:this.buildExportParams({columns:E,rowPositions:g,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:y}},t.prototype.buildDataFromRanges=function(e){var n=this,s=this.rangeService.getCellRanges(),l=[],g={};return s.forEach(function(y){var S=n.getRangeRowPositionsAndCellsToFlash(y),E=S.rowPositions;Object.assign(g,S.cellsToFlash),l.push(n.buildExportParams({columns:y.columns,rowPositions:E,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:l.join("\n"),cellsToFlash:g}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var n=this,s=[],l={},g=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(e),S=g;S&&(s.push(S),e.columns.forEach(function(E){var D=n.cellPositionUtils.createIdFromValues(S.rowIndex,E,S.rowPinned);l[D]=!0}),!this.rowPositionUtils.sameRow(S,y));)S=this.cellNavigationService.getRowBelow(S);return{rowPositions:s,cellsToFlash:l}},t.prototype.copyFocusedCellToClipboard=function(e){var n;void 0===e&&(e={});var s=this.focusService.getFocusedCell();if(null!=s){var l=this.cellPositionUtils.createId(s),S=this.buildExportParams({columns:[s.column],rowPositions:[{rowPinned:s.rowPinned,rowIndex:s.rowIndex}],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(S),this.dispatchFlashCells(((n={})[l]=!0,n))}},t.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var g=this.buildExportParams({columns:e.columnKeys,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(g)},t.prototype.buildExportParams=function(e){var s=e.rowPositions,l=e.includeHeaders,y=e.includeGroupHeaders,E={columnKeys:e.columns,rowNodes:s,skipColumnHeaders:!(void 0!==l&&l),skipColumnGroupHeaders:!(void 0!==y&&y),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!s,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(D){return D.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(E)},t.prototype.dispatchFlashCells=function(e){var n=this;window.setTimeout(function(){n.eventService.dispatchEvent({type:b.Events.EVENT_FLASH_CELLS,cells:e,api:n.gridApi,columnApi:n.columnApi})},0)},t.prototype.processCell=function(e,n,s,l,g){return g?g({column:n,node:e,value:s,type:l}):s},t.prototype.copyDataToClipboard=function(e){var n=this,s=this.gridOptionsWrapper.getSendToClipboardFunc();s?s({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(g){b._.doOnce(function(){console.warn(g),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),n.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var n=this;this.executeOnTempElement(function(s){var l=n.gridOptionsWrapper.getDocument(),g=l.activeElement;s.value=e||" ",s.select(),s.focus({preventScroll:!0}),l.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=g&&null!=g.focus&&g.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,n){var s=this.gridOptionsWrapper.getDocument(),l=s.createElement("textarea");l.style.width="1px",l.style.height="1px",l.style.top=s.documentElement.scrollTop+"px",l.style.left=s.documentElement.scrollLeft+"px",l.style.position="absolute",l.style.opacity="0";var g=this.gridCtrl.getGui();g.appendChild(l);try{e(l)}catch(y){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}n?window.setTimeout(function(){n(l),g.removeChild(l)},100):g.removeChild(l)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),n=0,s=0;return e.length>0&&(n=this.rangeService.getRangeStartRow(e[0]).rowIndex,s=this.rangeService.getRangeEndRow(e[0]).rowIndex),n-s+1},hr([b.Autowired("csvCreator")],t.prototype,"csvCreator",void 0),hr([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),hr([b.Autowired("selectionService")],t.prototype,"selectionService",void 0),hr([b.Optional("rangeService")],t.prototype,"rangeService",void 0),hr([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),hr([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),hr([b.Autowired("valueService")],t.prototype,"valueService",void 0),hr([b.Autowired("focusService")],t.prototype,"focusService",void 0),hr([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),hr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),hr([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),hr([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),hr([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),hr([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),hr([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),hr([b.PostConstruct],t.prototype,"init",null),hr([b.Bean("clipboardService")],t)}(b.BeanStub),en={moduleName:b.ModuleNames.ClipboardModule,beans:[Ut],dependantModules:[Sn,Wt]};b.ModuleRegistry.register(fh,!1),b.ModuleRegistry.register(gt,!1),b.ModuleRegistry.register(Ts,!1),b.ModuleRegistry.register(ed,!1),b.ModuleRegistry.register(sP,!1),b.ModuleRegistry.register(lP,!1),b.ModuleRegistry.register(pP,!1),b.ModuleRegistry.register(vE,!1),b.ModuleRegistry.register(cE,!1),b.ModuleRegistry.register(mD,!1),b.ModuleRegistry.register(_m,!1),b.ModuleRegistry.register(OD,!1),b.ModuleRegistry.register(Fx,!1),b.ModuleRegistry.register(lr,!1),b.ModuleRegistry.register(ND,!1),b.ModuleRegistry.register(LD,!1),b.ModuleRegistry.register(en,!1)}},$_=>{$_($_.s=435)}]);