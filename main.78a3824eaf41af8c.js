"use strict";(self.webpackChunkExercise2=self.webpackChunkExercise2||[]).push([[179],{920:(x_,W,sa)=>{function re(c){return"function"==typeof c}function b(c){const f=c(v=>{Error.call(v),v.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}const zn=b(c=>function(f){c(this),this.message=f?`${f.length} errors occurred during unsubscription:\n${f.map((v,C)=>`${C+1}) ${v.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=f});function Il(c,p){if(c){const f=c.indexOf(p);0<=f&&c.splice(f,1)}}class Pr{constructor(p){this.initialTeardown=p,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let p;if(!this.closed){this.closed=!0;const{_parentage:f}=this;if(f)if(this._parentage=null,Array.isArray(f))for(const S of f)S.remove(this);else f.remove(this);const{initialTeardown:v}=this;if(re(v))try{v()}catch(S){p=S instanceof zn?S.errors:[S]}const{_finalizers:C}=this;if(C){this._finalizers=null;for(const S of C)try{Yf(S)}catch(O){p=null!=p?p:[],O instanceof zn?p=[...p,...O.errors]:p.push(O)}}if(p)throw new zn(p)}}add(p){var f;if(p&&p!==this)if(this.closed)Yf(p);else{if(p instanceof Pr){if(p.closed||p._hasParent(this))return;p._addParent(this)}(this._finalizers=null!==(f=this._finalizers)&&void 0!==f?f:[]).push(p)}}_hasParent(p){const{_parentage:f}=this;return f===p||Array.isArray(f)&&f.includes(p)}_addParent(p){const{_parentage:f}=this;this._parentage=Array.isArray(f)?(f.push(p),f):f?[f,p]:p}_removeParent(p){const{_parentage:f}=this;f===p?this._parentage=null:Array.isArray(f)&&Il(f,p)}remove(p){const{_finalizers:f}=this;f&&Il(f,p),p instanceof Pr&&p._removeParent(this)}}Pr.EMPTY=(()=>{const c=new Pr;return c.closed=!0,c})();const Lo=Pr.EMPTY;function Yy(c){return c instanceof Pr||c&&"closed"in c&&re(c.remove)&&re(c.add)&&re(c.unsubscribe)}function Yf(c){re(c)?c():c.unsubscribe()}const Nl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Iu={setTimeout(c,p,...f){const{delegate:v}=Iu;return(null==v?void 0:v.setTimeout)?v.setTimeout(c,p,...f):setTimeout(c,p,...f)},clearTimeout(c){const{delegate:p}=Iu;return((null==p?void 0:p.clearTimeout)||clearTimeout)(c)},delegate:void 0};function la(c){Iu.setTimeout(()=>{const{onUnhandledError:p}=Nl;if(!p)throw c;p(c)})}function qy(){}const gn=Ni("C",void 0,void 0);function Ni(c,p,f){return{kind:c,value:p,error:f}}let ua=null;function Xa(c){if(Nl.useDeprecatedSynchronousErrorHandling){const p=!ua;if(p&&(ua={errorThrown:!1,error:null}),c(),p){const{errorThrown:f,error:v}=ua;if(ua=null,f)throw v}}else c()}class Nu extends Pr{constructor(p){super(),this.isStopped=!1,p?(this.destination=p,Yy(p)&&p.add(this)):this.destination=Zy}static create(p,f,v){return new In(p,f,v)}next(p){this.isStopped?Zd(function Ll(c){return Ni("N",c,void 0)}(p),this):this._next(p)}error(p){this.isStopped?Zd(function qt(c){return Ni("E",void 0,c)}(p),this):(this.isStopped=!0,this._error(p))}complete(){this.isStopped?Zd(gn,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(p){this.destination.next(p)}_error(p){try{this.destination.error(p)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qy=Function.prototype.bind;function Xd(c,p){return Qy.call(c,p)}class Go{constructor(p){this.partialObserver=p}next(p){const{partialObserver:f}=this;if(f.next)try{f.next(p)}catch(v){Qd(v)}}error(p){const{partialObserver:f}=this;if(f.error)try{f.error(p)}catch(v){Qd(v)}else Qd(p)}complete(){const{partialObserver:p}=this;if(p.complete)try{p.complete()}catch(f){Qd(f)}}}class In extends Nu{constructor(p,f,v){let C;if(super(),re(p)||!p)C={next:null!=p?p:void 0,error:null!=f?f:void 0,complete:null!=v?v:void 0};else{let S;this&&Nl.useDeprecatedNextContext?(S=Object.create(p),S.unsubscribe=()=>this.unsubscribe(),C={next:p.next&&Xd(p.next,S),error:p.error&&Xd(p.error,S),complete:p.complete&&Xd(p.complete,S)}):C=p}this.destination=new Go(C)}}function Qd(c){Nl.useDeprecatedSynchronousErrorHandling?function Xy(c){Nl.useDeprecatedSynchronousErrorHandling&&ua&&(ua.errorThrown=!0,ua.error=c)}(c):la(c)}function Zd(c,p){const{onStoppedNotification:f}=Nl;f&&Iu.setTimeout(()=>f(c,p))}const Zy={closed:!0,next:qy,error:function Qa(c){throw c},complete:qy},Hs="function"==typeof Symbol&&Symbol.observable||"@@observable";function ca(c){return c}let Cr=(()=>{class c{constructor(f){f&&(this._subscribe=f)}lift(f){const v=new c;return v.source=this,v.operator=f,v}subscribe(f,v,C){const S=function Wt(c){return c&&c instanceof Nu||function tm(c){return c&&re(c.next)&&re(c.error)&&re(c.complete)}(c)&&Yy(c)}(f)?f:new In(f,v,C);return Xa(()=>{const{operator:O,source:D}=this;S.add(O?O.call(S,D):D?this._subscribe(S):this._trySubscribe(S))}),S}_trySubscribe(f){try{return this._subscribe(f)}catch(v){f.error(v)}}forEach(f,v){return new(v=em(v))((C,S)=>{const O=new In({next:D=>{try{f(D)}catch(M){S(M),O.unsubscribe()}},error:S,complete:C});this.subscribe(O)})}_subscribe(f){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(f)}[Hs](){return this}pipe(...f){return function Jy(c){return 0===c.length?ca:1===c.length?c[0]:function(f){return c.reduce((v,C)=>C(v),f)}}(f)(this)}toPromise(f){return new(f=em(f))((v,C)=>{let S;this.subscribe(O=>S=O,O=>C(O),()=>v(S))})}}return c.create=p=>new c(p),c})();function em(c){var p;return null!==(p=null!=c?c:Nl.Promise)&&void 0!==p?p:Promise}const Jd=b(c=>function(){c(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Za=(()=>{class c extends Cr{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(f){const v=new eh(this,this);return v.operator=f,v}_throwIfClosed(){if(this.closed)throw new Jd}next(f){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const v of this.currentObservers)v.next(f)}})}error(f){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=f;const{observers:v}=this;for(;v.length;)v.shift().error(f)}})}complete(){Xa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:f}=this;for(;f.length;)f.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var f;return(null===(f=this.observers)||void 0===f?void 0:f.length)>0}_trySubscribe(f){return this._throwIfClosed(),super._trySubscribe(f)}_subscribe(f){return this._throwIfClosed(),this._checkFinalizedStatuses(f),this._innerSubscribe(f)}_innerSubscribe(f){const{hasError:v,isStopped:C,observers:S}=this;return v||C?Lo:(this.currentObservers=null,S.push(f),new Pr(()=>{this.currentObservers=null,Il(S,f)}))}_checkFinalizedStatuses(f){const{hasError:v,thrownError:C,isStopped:S}=this;v?f.error(C):S&&f.complete()}asObservable(){const f=new Cr;return f.source=this,f}}return c.create=(p,f)=>new eh(p,f),c})();class eh extends Za{constructor(p,f){super(),this.destination=p,this.source=f}next(p){var f,v;null===(v=null===(f=this.destination)||void 0===f?void 0:f.next)||void 0===v||v.call(f,p)}error(p){var f,v;null===(v=null===(f=this.destination)||void 0===f?void 0:f.error)||void 0===v||v.call(f,p)}complete(){var p,f;null===(f=null===(p=this.destination)||void 0===p?void 0:p.complete)||void 0===f||f.call(p)}_subscribe(p){var f,v;return null!==(v=null===(f=this.source)||void 0===f?void 0:f.subscribe(p))&&void 0!==v?v:Lo}}function qf(c){return re(null==c?void 0:c.lift)}function Hr(c){return p=>{if(qf(p))return p.lift(function(f){try{return c(f,this)}catch(v){this.error(v)}});throw new TypeError("Unable to lift unknown Observable type")}}function qr(c,p,f,v,C){return new Xf(c,p,f,v,C)}class Xf extends Nu{constructor(p,f,v,C,S,O){super(p),this.onFinalize=S,this.shouldUnsubscribe=O,this._next=f?function(D){try{f(D)}catch(M){p.error(M)}}:super._next,this._error=C?function(D){try{C(D)}catch(M){p.error(M)}finally{this.unsubscribe()}}:super._error,this._complete=v?function(){try{v()}catch(D){p.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:f}=this;super.unsubscribe(),!f&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}}function Gt(c,p){return Hr((f,v)=>{let C=0;f.subscribe(qr(v,S=>{v.next(c.call(p,S,C++))}))})}function Li(c){return this instanceof Li?(this.v=c,this):new Li(c)}function im(c,p,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var C,v=f.apply(c,p||[]),S=[];return C={},O("next"),O("throw"),O("return"),C[Symbol.asyncIterator]=function(){return this},C;function O(te){v[te]&&(C[te]=function(oe){return new Promise(function(ve,Me){S.push([te,oe,ve,Me])>1||D(te,oe)})})}function D(te,oe){try{!function M(te){te.value instanceof Li?Promise.resolve(te.value.v).then(L,V):X(S[0][2],te)}(v[te](oe))}catch(ve){X(S[0][3],ve)}}function L(te){D("next",te)}function V(te){D("throw",te)}function X(te,oe){te(oe),S.shift(),S.length&&D(S[0][0],S[0][1])}}function Ja(c){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,p=c[Symbol.asyncIterator];return p?p.call(c):(c=function qe(c){var p="function"==typeof Symbol&&Symbol.iterator,f=p&&c[p],v=0;if(f)return f.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&v>=c.length&&(c=void 0),{value:c&&c[v++],done:!c}}};throw new TypeError(p?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(S){f[S]=c[S]&&function(O){return new Promise(function(D,M){!function C(S,O,D,M){Promise.resolve(M).then(function(L){S({value:L,done:D})},O)}(D,M,(O=c[S](O)).done,O.value)})}}}const Jt=c=>c&&"number"==typeof c.length&&"function"!=typeof c;function Ws(c){return re(null==c?void 0:c.then)}function om(c){return re(c[Hs])}function rh(c){return Symbol.asyncIterator&&re(null==c?void 0:c[Symbol.asyncIterator])}function eg(c){return new TypeError(`You provided ${null!==c&&"object"==typeof c?"an invalid object":`'${c}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const on=function Gu(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function nh(c){return re(null==c?void 0:c[on])}function ko(c){return im(this,arguments,function*(){const f=c.getReader();try{for(;;){const{value:v,done:C}=yield Li(f.read());if(C)return yield Li(void 0);yield yield Li(v)}}finally{f.releaseLock()}})}function ih(c){return re(null==c?void 0:c.getReader)}function Vo(c){if(c instanceof Cr)return c;if(null!=c){if(om(c))return function gi(c){return new Cr(p=>{const f=c[Hs]();if(re(f.subscribe))return f.subscribe(p);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(c);if(Jt(c))return function N_(c){return new Cr(p=>{for(let f=0;f<c.length&&!p.closed;f++)p.next(c[f]);p.complete()})}(c);if(Ws(c))return function tg(c){return new Cr(p=>{c.then(f=>{p.closed||(p.next(f),p.complete())},f=>p.error(f)).then(null,la)})}(c);if(rh(c))return am(c);if(nh(c))return function rg(c){return new Cr(p=>{for(const f of c)if(p.next(f),p.closed)return;p.complete()})}(c);if(ih(c))return function sm(c){return am(ko(c))}(c)}throw eg(c)}function am(c){return new Cr(p=>{(function L_(c,p){var f,v,C,S;return function F_(c,p,f,v){return new(f||(f=Promise))(function(S,O){function D(V){try{L(v.next(V))}catch(X){O(X)}}function M(V){try{L(v.throw(V))}catch(X){O(X)}}function L(V){V.done?S(V.value):function C(S){return S instanceof f?S:new f(function(O){O(S)})}(V.value).then(D,M)}L((v=v.apply(c,p||[])).next())})}(this,void 0,void 0,function*(){try{for(f=Ja(c);!(v=yield f.next()).done;)if(p.next(v.value),p.closed)return}catch(O){C={error:O}}finally{try{v&&!v.done&&(S=f.return)&&(yield S.call(f))}finally{if(C)throw C.error}}p.complete()})})(c,p).catch(f=>p.error(f))})}function er(c,p,f,v=0,C=!1){const S=p.schedule(function(){f(),C?c.add(this.schedule(null,v)):this.unsubscribe()},v);if(c.add(S),!C)return S}function vn(c,p,f=1/0){return re(p)?vn((v,C)=>Gt((S,O)=>p(v,S,C,O))(Vo(c(v,C))),f):("number"==typeof p&&(f=p),Hr((v,C)=>function Or(c,p,f,v,C,S,O,D){const M=[];let L=0,V=0,X=!1;const te=()=>{X&&!M.length&&!L&&p.complete()},oe=Me=>L<v?ve(Me):M.push(Me),ve=Me=>{S&&p.next(Me),L++;let je=!1;Vo(f(Me,V++)).subscribe(qr(p,He=>{null==C||C(He),S?oe(He):p.next(He)},()=>{je=!0},void 0,()=>{if(je)try{for(L--;M.length&&L<v;){const He=M.shift();O?er(p,O,()=>ve(He)):ve(He)}te()}catch(He){p.error(He)}}))};return c.subscribe(qr(p,oe,()=>{X=!0,te()})),()=>{null==D||D()}}(v,C,c,f)))}function js(c=1/0){return vn(ca,c)}const Bo=new Cr(c=>c.complete());function ap(c){return c[c.length-1]}function ku(c){return function ha(c){return c&&re(c.schedule)}(ap(c))?c.pop():void 0}function lp(c,p=0){return Hr((f,v)=>{f.subscribe(qr(v,C=>er(v,c,()=>v.next(C),p),()=>er(v,c,()=>v.complete(),p),C=>er(v,c,()=>v.error(C),p)))})}function ng(c,p=0){return Hr((f,v)=>{v.add(c.schedule(()=>f.subscribe(v),p))})}function Ge(c,p){if(!c)throw new Error("Iterable cannot be null");return new Cr(f=>{er(f,p,()=>{const v=c[Symbol.asyncIterator]();er(f,p,()=>{v.next().then(C=>{C.done?f.complete():f.next(C.value)})},0,!0)})})}function Xr(c,p){return p?function og(c,p){if(null!=c){if(om(c))return function ig(c,p){return Vo(c).pipe(ng(p),lp(p))}(c,p);if(Jt(c))return function um(c,p){return new Cr(f=>{let v=0;return p.schedule(function(){v===c.length?f.complete():(f.next(c[v++]),f.closed||this.schedule())})})}(c,p);if(Ws(c))return function up(c,p){return Vo(c).pipe(ng(p),lp(p))}(c,p);if(rh(c))return Ge(c,p);if(nh(c))return function cp(c,p){return new Cr(f=>{let v;return er(f,p,()=>{v=c[on](),er(f,p,()=>{let C,S;try{({value:C,done:S}=v.next())}catch(O){return void f.error(O)}S?f.complete():f.next(C)},0,!0)}),()=>re(null==v?void 0:v.return)&&v.return()})}(c,p);if(ih(c))return function G_(c,p){return Ge(ko(c),p)}(c,p)}throw eg(c)}(c,p):Vo(c)}function ne(c){return c<=0?()=>Bo:Hr((p,f)=>{let v=0;p.subscribe(qr(f,C=>{++v<=c&&(f.next(C),c<=v&&f.complete())}))})}function ag(c,p,...f){return!0===p?(c(),null):!1===p?null:p(...f).pipe(ne(1)).subscribe(()=>c())}function or(c){for(let p in c)if(c[p]===or)return p;throw Error("Could not find renamed property on target object.")}function tr(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(tr).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const p=c.toString();if(null==p)return""+p;const f=p.indexOf("\n");return-1===f?p:p.substring(0,f)}function sh(c,p){return null==c||""===c?null===p?"":p:null==p||""===p?c:c+" "+p}const sg=or({__forward_ref__:or});function co(c){return c.__forward_ref__=co,c.toString=function(){return tr(this())},c}function Ot(c){return pm(c)?c():c}function pm(c){return"function"==typeof c&&c.hasOwnProperty(sg)&&c.__forward_ref__===co}class Xt extends Error{constructor(p,f){super(function lg(c,p){return`NG0${Math.abs(c)}${p?": "+p:""}`}(p,f)),this.code=p}}function Et(c){return"string"==typeof c?c:null==c?"":String(c)}function Sn(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():Et(c)}function lh(c,p){const f=p?` in ${p}`:"";throw new Xt(-201,`No provider for ${Sn(c)} found${f}`)}function $n(c,p){null==c&&function Vt(c,p,f,v){throw new Error(`ASSERTION ERROR: ${c}`+(null==v?"":` [Expected=> ${f} ${v} ${p} <=Actual]`))}(p,c,null,"!=")}function Dt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function Yn(c){return{providers:c.providers||[],imports:c.imports||[]}}function uh(c){return Us(c,Vu)||Us(c,ch)}function Us(c,p){return c.hasOwnProperty(p)?c[p]:null}function Bl(c){return c&&(c.hasOwnProperty(zs)||c.hasOwnProperty(cg))?c[zs]:null}const Vu=or({\u0275prov:or}),zs=or({\u0275inj:or}),ch=or({ngInjectableDef:or}),cg=or({ngInjectorDef:or});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let ns;function vi(c){const p=ns;return ns=c,p}function mm(c,p,f){const v=uh(c);return v&&"root"==v.providedIn?void 0===v.value?v.value=v.factory():v.value:f&st.Optional?null:void 0!==p?p:void lh(tr(c),"Injector")}function Gi(c){return{toString:c}.toString()}var qn=(()=>((qn=qn||{})[qn.OnPush=0]="OnPush",qn[qn.Default=1]="Default",qn))(),ki=(()=>{return(c=ki||(ki={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",ki;var c})();const wm="undefined"!=typeof globalThis&&globalThis,_m="undefined"!=typeof window&&window,Sm="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ur=wm||"undefined"!=typeof global&&global||_m||Sm,Bu={},rr=[],dh=or({\u0275cmp:or}),hh=or({\u0275dir:or}),ar=or({\u0275pipe:or}),dg=or({\u0275mod:or}),yi=or({\u0275fac:or}),sn=or({__NG_ELEMENT_ID__:or});let Hu=0;function Vi(c){return Gi(()=>{const f={},v={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:f,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===qn.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||rr,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||ki.Emulated,id:"c",styles:c.styles||rr,_:null,setInput:null,schemas:c.schemas||null,tView:null},C=c.directives,S=c.features,O=c.pipes;return v.id+=Hu++,v.inputs=Ln(c.inputs,f),v.outputs=Ln(c.outputs),S&&S.forEach(D=>D(v)),v.directiveDefs=C?()=>("function"==typeof C?C():C).map(fh):null,v.pipeDefs=O?()=>("function"==typeof O?O():O).map(is):null,v})}function fh(c){return Wr(c)||function wr(c){return c[hh]||null}(c)}function is(c){return function Wl(c){return c[ar]||null}(c)}const Xn={};function Nn(c){return Gi(()=>{const p={type:c.type,bootstrap:c.bootstrap||rr,declarations:c.declarations||rr,imports:c.imports||rr,exports:c.exports||rr,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(Xn[c.id]=c.type),p})}function Ln(c,p){if(null==c)return Bu;const f={};for(const v in c)if(c.hasOwnProperty(v)){let C=c[v],S=C;Array.isArray(C)&&(S=C[1],C=C[0]),f[C]=v,p&&(p[C]=S)}return f}const yn=Vi;function Wr(c){return c[dh]||null}function po(c,p){const f=c[dg]||null;if(!f&&!0===p)throw new Error(`Type ${tr(c)} does not have '\u0275mod' property.`);return f}function Qn(c){return Array.isArray(c)&&"object"==typeof c[1]}function ho(c){return Array.isArray(c)&&!0===c[1]}function On(c){return 0!=(8&c.flags)}function Ys(c){return 2==(2&c.flags)}function qs(c){return 1==(1&c.flags)}function Rn(c){return null!==c.template}function vp(c){return 0!=(512&c[2])}function ma(c,p){return c.hasOwnProperty(yi)?c[yi]:null}class Z_{constructor(p,f,v){this.previousValue=p,this.currentValue=f,this.firstChange=v}isFirstChange(){return this.firstChange}}function Xs(){return Am}function Am(c){return c.type.prototype.ngOnChanges&&(c.setInput=J_),gg}function gg(){const c=yh(this),p=null==c?void 0:c.current;if(p){const f=c.previous;if(f===Bu)c.previous=p;else for(let v in p)f[v]=p[v];c.current=null,this.ngOnChanges(p)}}function J_(c,p,f,v){const C=yh(c)||function Qs(c,p){return c[xm]=p}(c,{previous:Bu,current:null}),S=C.current||(C.current={}),O=C.previous,D=this.declaredInputs[f],M=O[D];S[D]=new Z_(M&&M.currentValue,p,O===Bu),c[v]=p}Xs.ngInherit=!0;const xm="__ngSimpleChanges__";function yh(c){return c[xm]||null}let wh;function Ir(c){return!!c.listen}const Fm={createRenderer:(c,p)=>function Fr(){return void 0!==wh?wh:"undefined"!=typeof document?document:void 0}()};function gr(c){for(;Array.isArray(c);)c=c[0];return c}function _i(c,p){return gr(p[c.index])}function yg(c,p){return c.data[p]}function Zr(c,p){const f=p[c];return Qn(f)?f:f[0]}function Yl(c){return 4==(4&c[2])}function _h(c){return 128==(128&c[2])}function Zs(c,p){return null==p?null:c[p]}function ft(c){c[18]=0}function ss(c,p){c[5]+=p;let f=c,v=c[3];for(;null!==v&&(1===p&&1===f[5]||-1===p&&0===f[5]);)v[5]+=p,f=v,v=v[3]}const nt={lFrame:el(null),bindingsEnabled:!0};function mp(){return nt.bindingsEnabled}function ke(){return nt.lFrame.lView}function It(){return nt.lFrame.tView}function ln(){let c=Ne();for(;null!==c&&64===c.type;)c=c.parent;return c}function Ne(){return nt.lFrame.currentTNode}function wa(c,p){const f=nt.lFrame;f.currentTNode=c,f.isParent=p}function ls(){return nt.lFrame.isParent}function cs(){return nt.lFrame.bindingIndex++}function iS(c,p){const f=nt.lFrame;f.bindingIndex=f.bindingRootIndex=c,Xl(p)}function Xl(c){nt.lFrame.currentDirectiveIndex=c}function Lm(){return nt.lFrame.currentQueryIndex}function Ku(c){nt.lFrame.currentQueryIndex=c}function oS(c){const p=c[1];return 2===p.type?p.declTNode:1===p.type?c[6]:null}function zo(c,p,f){if(f&st.SkipSelf){let C=p,S=c;for(;!(C=C.parent,null!==C||f&st.Host||(C=oS(S),null===C||(S=S[15],10&C.type))););if(null===C)return!1;p=C,c=S}const v=nt.lFrame=_p();return v.currentTNode=p,v.lView=c,!0}function Yu(c){const p=_p(),f=c[1];nt.lFrame=p,p.currentTNode=f.firstChild,p.lView=c,p.tView=f,p.contextLView=c,p.bindingIndex=f.bindingStartIndex,p.inI18n=!1}function _p(){const c=nt.lFrame,p=null===c?null:c.child;return null===p?el(c):p}function el(c){const p={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=p),p}function _g(){const c=nt.lFrame;return nt.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const ps=_g;function qu(){const c=_g();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Dn(){return nt.lFrame.selectedIndex}function tl(c){nt.lFrame.selectedIndex=c}function Rr(){const c=nt.lFrame;return yg(c.tView,c.selectedIndex)}function Gr(c,p){for(let f=p.directiveStart,v=p.directiveEnd;f<v;f++){const S=c.data[f].type.prototype,{ngAfterContentInit:O,ngAfterContentChecked:D,ngAfterViewInit:M,ngAfterViewChecked:L,ngOnDestroy:V}=S;O&&(c.contentHooks||(c.contentHooks=[])).push(-f,O),D&&((c.contentHooks||(c.contentHooks=[])).push(f,D),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(f,D)),M&&(c.viewHooks||(c.viewHooks=[])).push(-f,M),L&&((c.viewHooks||(c.viewHooks=[])).push(f,L),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(f,L)),null!=V&&(c.destroyHooks||(c.destroyHooks=[])).push(f,V)}}function Eh(c,p,f){Sg(c,p,3,f)}function rl(c,p,f,v){(3&c[2])===f&&Sg(c,p,f,v)}function nl(c,p){let f=c[2];(3&f)===p&&(f&=2047,f+=1,c[2]=f)}function Sg(c,p,f,v){const S=null!=v?v:-1,O=p.length-1;let D=0;for(let M=void 0!==v?65535&c[18]:0;M<O;M++)if("number"==typeof p[M+1]){if(D=p[M],null!=v&&D>=v)break}else p[M]<0&&(c[18]+=65536),(D<S||-1==S)&&(Gm(c,f,p,M),c[18]=(4294901760&c[18])+M+2),M++}function Gm(c,p,f,v){const C=f[v]<0,S=f[v+1],D=c[C?-f[v]:f[v]];if(C){if(c[2]>>11<c[18]>>16&&(3&c[2])===p){c[2]+=2048;try{S.call(D)}finally{}}}else try{S.call(D)}finally{}}class $o{constructor(p,f,v){this.factory=p,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=v}}function Zl(c,p,f){const v=Ir(c);let C=0;for(;C<f.length;){const S=f[C];if("number"==typeof S){if(0!==S)break;C++;const O=f[C++],D=f[C++],M=f[C++];v?c.setAttribute(p,D,M,O):p.setAttributeNS(O,D,M)}else{const O=S,D=f[++C];Rh(O)?v&&c.setProperty(p,O,D):v?c.setAttribute(p,O,D):p.setAttribute(O,D),C++}}return C}function hs(c){return 3===c||4===c||6===c}function Rh(c){return 64===c.charCodeAt(0)}function il(c,p){if(null!==p&&0!==p.length)if(null===c||0===c.length)c=p.slice();else{let f=-1;for(let v=0;v<p.length;v++){const C=p[v];"number"==typeof C?f=C:0===f||bp(c,f,C,null,-1===f||2===f?p[++v]:null)}}return c}function bp(c,p,f,v,C){let S=0,O=c.length;if(-1===p)O=-1;else for(;S<c.length;){const D=c[S++];if("number"==typeof D){if(D===p){O=-1;break}if(D>p){O=S-1;break}}}for(;S<c.length;){const D=c[S];if("number"==typeof D)break;if(D===f){if(null===v)return void(null!==C&&(c[S+1]=C));if(v===c[S+1])return void(c[S+2]=C)}S++,null!==v&&S++,null!==C&&S++}-1!==O&&(c.splice(O,0,p),S=O+1),c.splice(S++,0,f),null!==v&&c.splice(S++,0,v),null!==C&&c.splice(S++,0,C)}function Ep(c){return-1!==c}function ol(c){return 32767&c}function fs(c,p){let f=function Op(c){return c>>16}(c),v=p;for(;f>0;)v=v[15],f--;return v}let Xu=!0;function Qu(c){const p=Xu;return Xu=c,p}let Hm=0;function Jl(c,p){const f=Zu(c,p);if(-1!==f)return f;const v=p[1];v.firstCreatePass&&(c.injectorIndex=p.length,Eg(v.data,c),Eg(p,null),Eg(v.blueprint,null));const C=Ju(c,p),S=c.injectorIndex;if(Ep(C)){const O=ol(C),D=fs(C,p),M=D[1].data;for(let L=0;L<8;L++)p[S+L]=D[O+L]|M[O+L]}return p[S+8]=C,S}function Eg(c,p){c.push(0,0,0,0,0,0,0,0,p)}function Zu(c,p){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===p[c.injectorIndex+8]?-1:c.injectorIndex}function Ju(c,p){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let f=0,v=null,C=p;for(;null!==C;){const S=C[1],O=S.type;if(v=2===O?S.declTNode:1===O?C[6]:null,null===v)return-1;if(f++,C=C[15],-1!==v.injectorIndex)return v.injectorIndex|f<<16}return-1}function Dh(c,p,f){!function Ko(c,p,f){let v;"string"==typeof f?v=f.charCodeAt(0)||0:f.hasOwnProperty(sn)&&(v=f[sn]),null==v&&(v=f[sn]=Hm++);const C=255&v;p.data[c+(C>>5)]|=1<<C}(c,p,f)}function Wm(c,p,f){if(f&st.Optional)return c;lh(p,"NodeInjector")}function jm(c,p,f,v){if(f&st.Optional&&void 0===v&&(v=null),0==(f&(st.Self|st.Host))){const C=c[9],S=vi(void 0);try{return C?C.get(p,v,f&st.Optional):mm(p,v,f&st.Optional)}finally{vi(S)}}return Wm(v,p,f)}function Og(c,p,f,v=st.Default,C){if(null!==c){const S=function Rg(c){if("string"==typeof c)return c.charCodeAt(0)||0;const p=c.hasOwnProperty(sn)?c[sn]:void 0;return"number"==typeof p?p>=0?255&p:zm:p}(f);if("function"==typeof S){if(!zo(p,c,v))return v&st.Host?Wm(C,f,v):jm(p,f,v,C);try{const O=S(v);if(null!=O||v&st.Optional)return O;lh(f)}finally{ps()}}else if("number"==typeof S){let O=null,D=Zu(c,p),M=-1,L=v&st.Host?p[16][6]:null;for((-1===D||v&st.SkipSelf)&&(M=-1===D?Ju(c,p):p[D+8],-1!==M&&ec(v,!1)?(O=p[1],D=ol(M),p=fs(M,p)):D=-1);-1!==D;){const V=p[1];if(Dg(S,D,V.data)){const X=Ph(D,p,f,O,v,L);if(X!==Um)return X}M=p[D+8],-1!==M&&ec(v,p[1].data[D+8]===L)&&Dg(S,D,p)?(O=V,D=ol(M),p=fs(M,p)):D=-1}}}return jm(p,f,v,C)}const Um={};function zm(){return new tc(ln(),ke())}function Ph(c,p,f,v,C,S){const O=p[1],D=O.data[c+8],V=eu(D,O,f,null==v?Ys(D)&&Xu:v!=O&&0!=(3&D.type),C&st.Host&&S===D);return null!==V?tu(p,O,V,D):Um}function eu(c,p,f,v,C){const S=c.providerIndexes,O=p.data,D=1048575&S,M=c.directiveStart,V=S>>20,te=C?D+V:c.directiveEnd;for(let oe=v?D:D+V;oe<te;oe++){const ve=O[oe];if(oe<M&&f===ve||oe>=M&&ve.type===f)return oe}if(C){const oe=O[M];if(oe&&Rn(oe)&&oe.type===f)return M}return null}function tu(c,p,f,v){let C=c[f];const S=p.data;if(function km(c){return c instanceof $o}(C)){const O=C;O.resolving&&function an(c,p){const f=p?`. Dependency path: ${p.join(" > ")} > ${c}`:"";throw new Xt(-200,`Circular dependency in DI detected for ${c}${f}`)}(Sn(S[f]));const D=Qu(O.canSeeViewProviders);O.resolving=!0;const M=O.injectImpl?vi(O.injectImpl):null;zo(c,v,st.Default);try{C=c[f]=O.factory(void 0,S,c,v),p.firstCreatePass&&f>=v.directiveStart&&function Si(c,p,f){const{ngOnChanges:v,ngOnInit:C,ngDoCheck:S}=p.type.prototype;if(v){const O=Am(p);(f.preOrderHooks||(f.preOrderHooks=[])).push(c,O),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(c,O)}C&&(f.preOrderHooks||(f.preOrderHooks=[])).push(0-c,C),S&&((f.preOrderHooks||(f.preOrderHooks=[])).push(c,S),(f.preOrderCheckHooks||(f.preOrderCheckHooks=[])).push(c,S))}(f,S[f],p)}finally{null!==M&&vi(M),Qu(D),O.resolving=!1,ps()}}return C}function Dg(c,p,f){return!!(f[p+(c>>5)]&1<<c)}function ec(c,p){return!(c&st.Self||c&st.Host&&p)}class tc{constructor(p,f){this._tNode=p,this._lView=f}get(p,f,v){return Og(this._tNode,this._lView,p,v,f)}}function Pg(c){return pm(c)?()=>{const p=Pg(Ot(c));return p&&p()}:ma(c)}function Rp(c){return function al(c,p){if("class"===p)return c.classes;if("style"===p)return c.styles;const f=c.attrs;if(f){const v=f.length;let C=0;for(;C<v;){const S=f[C];if(hs(S))break;if(0===S)C+=2;else if("number"==typeof S)for(C++;C<v&&"string"==typeof f[C];)C++;else{if(S===p)return f[C+1];C+=2}}}return null}(ln(),c)}const nc="__parameters__",ru="__prop__metadata__";function Tg(c){return function(...f){if(c){const v=c(...f);for(const C in v)this[C]=v[C]}}}function gs(c,p,f){return Gi(()=>{const v=Tg(p);function C(...S){if(this instanceof C)return v.apply(this,S),this;const O=new C(...S);return D.annotation=O,D;function D(M,L,V){const X=M.hasOwnProperty(nc)?M[nc]:Object.defineProperty(M,nc,{value:[]})[nc];for(;X.length<=V;)X.push(null);return(X[V]=X[V]||[]).push(O),M}}return f&&(C.prototype=Object.create(f.prototype)),C.prototype.ngMetadataName=c,C.annotationCls=C,C})}function _t(c,p,f,v){return Gi(()=>{const C=Tg(p);function S(...O){if(this instanceof S)return C.apply(this,O),this;const D=new S(...O);return function M(L,V){const X=L.constructor,te=X.hasOwnProperty(ru)?X[ru]:Object.defineProperty(X,ru,{value:{}})[ru];te[V]=te.hasOwnProperty(V)&&te[V]||[],te[V].unshift(D),v&&v(L,V,...O)}}return f&&(S.prototype=Object.create(f.prototype)),S.prototype.ngMetadataName=c,S.annotationCls=S,S})}class St{constructor(p,f){this._desc=p,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=Dt({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Dp=new St("AnalyzeForEntryComponents");class nu{}const Ag=_t("ContentChildren",(c,p={})=>Object.assign({selector:c,first:!1,isViewQuery:!1,descendants:!1,emitDistinctChangesOnly:!0},p),nu);function zi(c,p){void 0===p&&(p=c);for(let f=0;f<c.length;f++){let v=c[f];Array.isArray(v)?(p===c&&(p=c.slice(0,f)),zi(v,p)):p!==c&&p.push(v)}return p}function Oa(c,p){c.forEach(f=>Array.isArray(f)?Oa(f,p):p(f))}function ic(c,p,f){p>=c.length?c.push(f):c.splice(p,0,f)}function oc(c,p){return p>=c.length-1?c.pop():c.splice(p,1)[0]}const ou={},kg="__NG_DI_FLAG__",Ah="ngTempTokenPath",hS=/\n/gm,qm="__source",gS=or({provide:String,useValue:or});let Ra;function Xm(c){const p=Ra;return Ra=c,p}function sc(c,p=st.Default){if(void 0===Ra)throw new Xt(203,"");return null===Ra?mm(c,void 0,p):Ra.get(c,p&st.Optional?null:void 0,p)}function ot(c,p=st.Default){return(function pg(){return ns}()||sc)(Ot(c),p)}const au=ot;function xh(c){const p=[];for(let f=0;f<c.length;f++){const v=Ot(c[f]);if(Array.isArray(v)){if(0===v.length)throw new Xt(900,"");let C,S=st.Default;for(let O=0;O<v.length;O++){const D=v[O],M=Np(D);"number"==typeof M?-1===M?C=D.token:S|=M:C=D}p.push(ot(C,S))}else p.push(ot(v))}return p}function Ip(c,p){return c[kg]=p,c.prototype[kg]=p,c}function Np(c){return c[kg]}const Mh=Ip(gs("Inject",c=>({token:c})),-1),Pa=Ip(gs("Optional"),8),Ei=Ip(gs("SkipSelf"),4);class Wg{constructor(p){this.changingThisBreaksApplicationSecurity=p}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const _S=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,SS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var en=(()=>((en=en||{})[en.NONE=0]="NONE",en[en.HTML=1]="HTML",en[en.STYLE=2]="STYLE",en[en.SCRIPT=3]="SCRIPT",en[en.URL=4]="URL",en[en.RESOURCE_URL=5]="RESOURCE_URL",en))();function Kg(c){const p=function jp(){const c=ke();return c&&c[12]}();return p?p.sanitize(en.URL,c)||"":function cc(c,p){const f=function uu(c){return c instanceof Wg&&c.getTypeName()||null}(c);if(null!=f&&f!==p){if("ResourceURL"===f&&"URL"===p)return!0;throw new Error(`Required a safe ${p}, got a ${f} (see https://g.co/ng/security#xss)`)}return f===p}(c,"URL")?function Jn(c){return c instanceof Wg?c.changingThisBreaksApplicationSecurity:c}(c):function Lh(c){return(c=String(c)).match(_S)||c.match(SS)?c:"unsafe:"+c}(Et(c))}const Bh="__ngContext__";function Tn(c,p){c[Bh]=p}function zp(c){const p=function Up(c){return c[Bh]||null}(c);return p?Array.isArray(p)?p:p.lView:null}function ev(c){return c.ngOriginalError}function cu(c,...p){c.error(...p)}class Kp{constructor(){this._console=console}handleError(p){const f=this._findOriginalError(p),v=function MS(c){return c&&c.ngErrorLogger||cu}(p);v(this._console,"ERROR",p),f&&v(this._console,"ORIGINAL ERROR",f)}_findOriginalError(p){let f=p&&ev(p);for(;f&&ev(f);)f=ev(f);return f||null}}const dl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ur))();function vr(c){return c instanceof Function?c():c}var Yi=(()=>((Yi=Yi||{})[Yi.Important=1]="Important",Yi[Yi.DashCase=2]="DashCase",Yi))();function zh(c,p){return undefined(c,p)}function hu(c){const p=c[3];return ho(p)?p[3]:p}function $h(c){return tv(c[13])}function ri(c){return tv(c[4])}function tv(c){for(;null!==c&&!ho(c);)c=c[4];return c}function Di(c,p,f,v,C){if(null!=v){let S,O=!1;ho(v)?S=v:Qn(v)&&(O=!0,v=v[0]);const D=gr(v);0===c&&null!==f?null==C?Lt(p,f,D):Yo(p,f,D,C||null,!0):1===c&&null!==f?Yo(p,f,D,C||null,!0):2===c?function EC(c,p,f){const v=Ma(c,p);v&&function _C(c,p,f,v){Ir(c)?c.removeChild(p,f,v):p.removeChild(f)}(c,v,p,f)}(p,D,O):3===c&&p.destroyNode(D),null!=S&&function Xi(c,p,f,v,C){const S=f[7];S!==gr(f)&&Di(p,c,v,S,C);for(let D=10;D<f.length;D++){const M=f[D];Fa(M[1],M,c,p,v,S)}}(p,c,S,f,C)}}function Yh(c,p,f){if(Ir(c))return c.createElement(p,f);{const v=null!==f?function tS(c){const p=c.toLowerCase();return"svg"===p?"http://www.w3.org/2000/svg":"math"===p?"http://www.w3.org/1998/MathML/":null}(f):null;return null===v?c.createElement(p):c.createElementNS(v,p)}}function fc(c,p){const f=c[9],v=f.indexOf(p),C=p[3];1024&p[2]&&(p[2]&=-1025,ss(C,-1)),f.splice(v,1)}function Xp(c,p){if(c.length<=10)return;const f=10+p,v=c[f];if(v){const C=v[17];null!==C&&C!==c&&fc(C,v),p>0&&(c[f-1][4]=v[4]);const S=oc(c,10+p);!function NS(c,p){Fa(c,p,p[11],2,null,null),p[0]=null,p[6]=null}(v[1],v);const O=S[19];null!==O&&O.detachView(S[1]),v[3]=null,v[4]=null,v[2]&=-129}return v}function gc(c,p){if(!(256&p[2])){const f=p[11];Ir(f)&&f.destroyNode&&Fa(c,p,f,3,null,null),function nv(c){let p=c[13];if(!p)return vc(c[1],c);for(;p;){let f=null;if(Qn(p))f=p[13];else{const v=p[10];v&&(f=v)}if(!f){for(;p&&!p[4]&&p!==c;)Qn(p)&&vc(p[1],p),p=p[3];null===p&&(p=c),Qn(p)&&vc(p[1],p),f=p&&p[4]}p=f}}(p)}}function vc(c,p){if(!(256&p[2])){p[2]&=-129,p[2]|=256,function LS(c,p){let f;if(null!=c&&null!=(f=c.destroyHooks))for(let v=0;v<f.length;v+=2){const C=p[f[v]];if(!(C instanceof $o)){const S=f[v+1];if(Array.isArray(S))for(let O=0;O<S.length;O+=2){const D=C[S[O]],M=S[O+1];try{M.call(D)}finally{}}else try{S.call(C)}finally{}}}}(c,p),function ov(c,p){const f=c.cleanup,v=p[7];let C=-1;if(null!==f)for(let S=0;S<f.length-1;S+=2)if("string"==typeof f[S]){const O=f[S+1],D="function"==typeof O?O(p):gr(p[O]),M=v[C=f[S+2]],L=f[S+3];"boolean"==typeof L?D.removeEventListener(f[S],M,L):L>=0?v[C=L]():v[C=-L].unsubscribe(),S+=2}else{const O=v[C=f[S+1]];f[S].call(O)}if(null!==v){for(let S=C+1;S<v.length;S++)v[S]();p[7]=null}}(c,p),1===p[1].type&&Ir(p[11])&&p[11].destroy();const f=p[17];if(null!==f&&ho(p[3])){f!==p[3]&&fc(f,p);const v=p[19];null!==v&&v.detachView(c)}}}function CC(c,p,f){return function wC(c,p,f){let v=p;for(;null!==v&&40&v.type;)v=(p=v).parent;if(null===v)return f[0];if(2&v.flags){const C=c.data[v.directiveStart].encapsulation;if(C===ki.None||C===ki.Emulated)return null}return _i(v,f)}(c,p.parent,f)}function Yo(c,p,f,v,C){Ir(c)?c.insertBefore(p,f,v,C):p.insertBefore(f,v,C)}function Lt(c,p,f){Ir(c)?c.appendChild(p,f):p.appendChild(f)}function fl(c,p,f,v,C){null!==v?Yo(c,p,f,v,C):Lt(c,p,f)}function Ma(c,p){return Ir(c)?c.parentNode(p):p.parentNode}let Qh=function SC(c,p,f){return 40&c.type?_i(c,f):null};function qo(c,p,f,v){const C=CC(c,v,p),S=p[11],D=function Qp(c,p,f){return Qh(c,p,f)}(v.parent||p[6],v,p);if(null!=C)if(Array.isArray(f))for(let M=0;M<f.length;M++)fl(S,C,f[M],D,!1);else fl(S,C,f,D,!1)}function yc(c,p){if(null!==p){const f=p.type;if(3&f)return _i(p,c);if(4&f)return Zp(-1,c[p.index]);if(8&f){const v=p.child;if(null!==v)return yc(c,v);{const C=c[p.index];return ho(C)?Zp(-1,C):gr(C)}}if(32&f)return zh(p,c)()||gr(c[p.index]);{const v=bC(c,p);return null!==v?Array.isArray(v)?v[0]:yc(hu(c[16]),v):yc(c,p.next)}}return null}function bC(c,p){return null!==p?c[16][6].projection[p.projection]:null}function Zp(c,p){const f=10+c+1;if(f<p.length){const v=p[f],C=v[1].firstChild;if(null!==C)return yc(v,C)}return p[7]}function sv(c,p,f,v,C,S,O){for(;null!=f;){const D=v[f.index],M=f.type;if(O&&0===p&&(D&&Tn(gr(D),v),f.flags|=4),64!=(64&f.flags))if(8&M)sv(c,p,f.child,v,C,S,!1),Di(p,c,C,D,S);else if(32&M){const L=zh(f,v);let V;for(;V=L();)Di(p,c,C,V,S);Di(p,c,C,D,S)}else 16&M?Ia(c,p,v,f,C,S):Di(p,c,C,D,S);f=O?f.projectionNext:f.next}}function Fa(c,p,f,v,C,S){sv(f,v,c.firstChild,p,C,S,!1)}function Ia(c,p,f,v,C,S){const O=f[16],M=O[6].projection[v.projection];if(Array.isArray(M))for(let L=0;L<M.length;L++)Di(p,c,C,M[L],S);else sv(c,p,M,O[3],C,S,!0)}function So(c,p,f){Ir(c)?c.setAttribute(p,"style",f):p.style.cssText=f}function Jp(c,p,f){Ir(c)?""===f?c.removeAttribute(p,"class"):c.setAttribute(p,"class",f):p.className=f}function Zh(c,p,f){let v=c.length;for(;;){const C=c.indexOf(p,f);if(-1===C)return C;if(0===C||c.charCodeAt(C-1)<=32){const S=p.length;if(C+S===v||c.charCodeAt(C+S)<=32)return C}f=C+1}}const uv="ng-template";function cv(c,p,f){let v=0;for(;v<c.length;){let C=c[v++];if(f&&"class"===C){if(C=c[v],-1!==Zh(C.toLowerCase(),p,0))return!0}else if(1===C){for(;v<c.length&&"string"==typeof(C=c[v++]);)if(C.toLowerCase()===p)return!0;return!1}}return!1}function OC(c){return 4===c.type&&c.value!==uv}function pv(c,p,f){return p===(4!==c.type||f?c.value:uv)}function VS(c,p,f){let v=4;const C=c.attrs||[],S=function PC(c){for(let p=0;p<c.length;p++)if(hs(c[p]))return p;return c.length}(C);let O=!1;for(let D=0;D<p.length;D++){const M=p[D];if("number"!=typeof M){if(!O)if(4&v){if(v=2|1&v,""!==M&&!pv(c,M,f)||""===M&&1===p.length){if(Vn(v))return!1;O=!0}}else{const L=8&v?M:p[++D];if(8&v&&null!==c.attrs){if(!cv(c.attrs,L,f)){if(Vn(v))return!1;O=!0}continue}const X=RC(8&v?"class":M,C,OC(c),f);if(-1===X){if(Vn(v))return!1;O=!0;continue}if(""!==L){let te;te=X>S?"":C[X+1].toLowerCase();const oe=8&v?te:null;if(oe&&-1!==Zh(oe,L,0)||2&v&&L!==te){if(Vn(v))return!1;O=!0}}}}else{if(!O&&!Vn(v)&&!Vn(M))return!1;if(O&&Vn(M))continue;O=!1,v=M|1&v}}return Vn(v)||O}function Vn(c){return 0==(1&c)}function RC(c,p,f,v){if(null===p)return-1;let C=0;if(v||!f){let S=!1;for(;C<p.length;){const O=p[C];if(O===c)return C;if(3===O||6===O)S=!0;else{if(1===O||2===O){let D=p[++C];for(;"string"==typeof D;)D=p[++C];continue}if(4===O)break;if(0===O){C+=4;continue}}C+=S?1:2}return-1}return function fu(c,p){let f=c.indexOf(4);if(f>-1)for(f++;f<c.length;){const v=c[f];if("number"==typeof v)return-1;if(v===p)return f;f++}return-1}(p,c)}function DC(c,p,f=!1){for(let v=0;v<p.length;v++)if(VS(c,p[v],f))return!0;return!1}function gl(c,p){return c?":not("+p.trim()+")":p}function hv(c){let p=c[0],f=1,v=2,C="",S=!1;for(;f<c.length;){let O=c[f];if("string"==typeof O)if(2&v){const D=c[++f];C+="["+O+(D.length>0?'="'+D+'"':"")+"]"}else 8&v?C+="."+O:4&v&&(C+=" "+O);else""!==C&&!Vn(O)&&(p+=gl(S,C),C=""),v=O,S=S||!Vn(v);f++}return""!==C&&(p+=gl(S,C)),p}const Ct={};function Qi(c){ed(It(),ke(),Dn()+c,!1)}function ed(c,p,f,v){if(!v)if(3==(3&p[2])){const S=c.preOrderCheckHooks;null!==S&&Eh(p,S,f)}else{const S=c.preOrderHooks;null!==S&&rl(p,S,0,f)}tl(f)}function Ss(c,p){const f=c.contentQueries;if(null!==f)for(let v=0;v<f.length;v+=2){const C=f[v],S=f[v+1];if(-1!==S){const O=c.data[S];Ku(C),O.contentQueries(2,p[S],S)}}}function gu(c,p,f,v,C,S,O,D,M,L){const V=p.blueprint.slice();return V[0]=C,V[2]=140|v,ft(V),V[3]=V[15]=c,V[8]=f,V[10]=O||c&&c[10],V[11]=D||c&&c[11],V[12]=M||c&&c[12]||null,V[9]=L||c&&c[9]||null,V[6]=S,V[16]=2==p.type?c[16]:V,V}function Oo(c,p,f,v,C){let S=c.data[p];if(null===S)S=function rf(c,p,f,v,C){const S=Ne(),O=ls(),M=c.data[p]=function ld(c,p,f,v,C,S){return{type:f,index:v,insertBeforeIndex:null,injectorIndex:p?p.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:C,attrs:S,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:p,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,O?S:S&&S.parent,f,p,v,C);return null===c.firstChild&&(c.firstChild=M),null!==S&&(O?null==S.child&&null!==M.parent&&(S.child=M):null===S.next&&(S.next=M)),M}(c,p,f,v,C),function _a(){return nt.lFrame.inI18n}()&&(S.flags|=64);else if(64&S.type){S.type=f,S.value=v,S.attrs=C;const O=function $u(){const c=nt.lFrame,p=c.currentTNode;return c.isParent?p:p.parent}();S.injectorIndex=null===O?-1:O.injectorIndex}return wa(S,!0),S}function Bn(c,p,f,v){if(0===f)return-1;const C=p.length;for(let S=0;S<f;S++)p.push(v),c.blueprint.push(v),c.data.push(null);return C}function sd(c,p,f){Yu(p);try{const v=c.viewQuery;null!==v&&nw(1,v,f);const C=c.template;null!==C&&nf(c,p,C,1,f),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&Ss(c,p),c.staticViewQueries&&nw(2,c.viewQuery,f);const S=c.components;null!==S&&function jC(c,p){for(let f=0;f<p.length;f++)US(c,p[f])}(p,S)}catch(v){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),v}finally{p[2]&=-5,qu()}}function eo(c,p,f,v){const C=p[2];if(256!=(256&C)){Yu(p);try{ft(p),function Ie(c){return nt.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==f&&nf(c,p,f,2,v);const O=3==(3&C);if(O){const L=c.preOrderCheckHooks;null!==L&&Eh(p,L,null)}else{const L=c.preOrderHooks;null!==L&&rl(p,L,0,null),nl(p,0)}if(function jS(c){for(let p=$h(c);null!==p;p=ri(p)){if(!p[2])continue;const f=p[9];for(let v=0;v<f.length;v++){const C=f[v],S=C[3];0==(1024&C[2])&&ss(S,1),C[2]|=1024}}}(p),function tw(c){for(let p=$h(c);null!==p;p=ri(p))for(let f=10;f<p.length;f++){const v=p[f],C=v[1];_h(v)&&eo(C,v,C.template,v[8])}}(p),null!==c.contentQueries&&Ss(c,p),O){const L=c.contentCheckHooks;null!==L&&Eh(p,L)}else{const L=c.contentHooks;null!==L&&rl(p,L,1),nl(p,1)}!function At(c,p){const f=c.hostBindingOpCodes;if(null!==f)try{for(let v=0;v<f.length;v++){const C=f[v];if(C<0)tl(~C);else{const S=C,O=f[++v],D=f[++v];iS(O,S),D(2,p[S])}}}finally{tl(-1)}}(c,p);const D=c.components;null!==D&&function WC(c,p){for(let f=0;f<p.length;f++)rw(c,p[f])}(p,D);const M=c.viewQuery;if(null!==M&&nw(2,M,v),O){const L=c.viewCheckHooks;null!==L&&Eh(p,L)}else{const L=c.viewHooks;null!==L&&rl(p,L,2),nl(p,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),p[2]&=-73,1024&p[2]&&(p[2]&=-1025,ss(p[3],-1))}finally{qu()}}}function UC(c,p,f,v){const C=p[10],O=Yl(p);try{!O&&C.begin&&C.begin(),O&&sd(c,p,v),eo(c,p,f,v)}finally{!O&&C.end&&C.end()}}function nf(c,p,f,v,C){const S=Dn(),O=2&v;try{tl(-1),O&&p.length>20&&ed(c,p,20,!1),f(v,C)}finally{tl(S)}}function of(c,p,f){!mp()||(function bs(c,p,f,v){const C=f.directiveStart,S=f.directiveEnd;c.firstCreatePass||Jl(f,p),Tn(v,p);const O=f.initialInputs;for(let D=C;D<S;D++){const M=c.data[D],L=Rn(M);L&&hd(p,f,M);const V=tu(p,c,D,f);Tn(V,p),null!==O&&ZC(0,D-C,V,M,0,O),L&&(Zr(f.index,p)[8]=V)}}(c,p,f,_i(f,p)),128==(128&f.flags)&&function Ti(c,p,f){const v=f.directiveStart,C=f.directiveEnd,O=f.index,D=function wg(){return nt.lFrame.currentDirectiveIndex}();try{tl(O);for(let M=v;M<C;M++){const L=c.data[M],V=p[M];Xl(M),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&pd(L,V)}}finally{tl(-1),Xl(D)}}(c,p,f))}function wv(c,p,f=_i){const v=p.localNames;if(null!==v){let C=p.index+1;for(let S=0;S<v.length;S+=2){const O=v[S+1],D=-1===O?f(p,c):c[O];c[C++]=D}}}function _v(c){const p=c.tView;return null===p||p.incompleteFirstPass?c.tView=af(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):p}function af(c,p,f,v,C,S,O,D,M,L){const V=20+v,X=V+C,te=function Sv(c,p){const f=[];for(let v=0;v<p;v++)f.push(v<c?null:Ct);return f}(V,X),oe="function"==typeof L?L():L;return te[1]={type:c,blueprint:te,template:f,queries:null,viewQuery:D,declTNode:p,data:te.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:X,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof S?S():S,pipeRegistry:"function"==typeof O?O():O,firstChild:null,schemas:M,consts:oe,incompleteFirstPass:!1}}function $C(c,p,f,v){const C=ow(p);null===f?C.push(v):(C.push(f),c.firstCreatePass&&aw(c).push(v,C.length-1))}function uf(c,p,f){for(let v in c)if(c.hasOwnProperty(v)){const C=c[v];(f=null===f?{}:f).hasOwnProperty(v)?f[v].push(p,C):f[v]=[p,C]}return f}function cd(c,p,f,v){let C=!1;if(mp()){const S=function YC(c,p,f){const v=c.directiveRegistry;let C=null;if(v)for(let S=0;S<v.length;S++){const O=v[S];DC(f,O.selectors,!1)&&(C||(C=[]),Dh(Jl(f,p),c,O.type),Rn(O)?(dd(c,f),C.unshift(O)):C.push(O))}return C}(c,p,f),O=null===v?null:{"":-1};if(null!==S){C=!0,XC(f,c.data.length,S.length);for(let V=0;V<S.length;V++){const X=S[V];X.providersResolver&&X.providersResolver(X)}let D=!1,M=!1,L=Bn(c,p,S.length,null);for(let V=0;V<S.length;V++){const X=S[V];f.mergedAttrs=il(f.mergedAttrs,X.hostAttrs),QC(c,f,p,L,X),WS(L,X,O),null!==X.contentQueries&&(f.flags|=8),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(f.flags|=128);const te=X.type.prototype;!D&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(f.index),D=!0),!M&&(te.ngOnChanges||te.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(f.index),M=!0),L++}!function BS(c,p){const v=p.directiveEnd,C=c.data,S=p.attrs,O=[];let D=null,M=null;for(let L=p.directiveStart;L<v;L++){const V=C[L],X=V.inputs,te=null===S||OC(p)?null:JC(X,S);O.push(te),D=uf(X,L,D),M=uf(V.outputs,L,M)}null!==D&&(D.hasOwnProperty("class")&&(p.flags|=16),D.hasOwnProperty("style")&&(p.flags|=32)),p.initialInputs=O,p.inputs=D,p.outputs=M}(c,f)}O&&function qC(c,p,f){if(p){const v=c.localNames=[];for(let C=0;C<p.length;C+=2){const S=f[p[C+1]];if(null==S)throw new Xt(-301,!1);v.push(p[C],S)}}}(f,v,O)}return f.mergedAttrs=il(f.mergedAttrs,f.attrs),C}function ka(c,p,f,v,C,S){const O=S.hostBindings;if(O){let D=c.hostBindingOpCodes;null===D&&(D=c.hostBindingOpCodes=[]);const M=~p.index;(function ro(c){let p=c.length;for(;p>0;){const f=c[--p];if("number"==typeof f&&f<0)return f}return 0})(D)!=M&&D.push(M),D.push(v,C,O)}}function pd(c,p){null!==c.hostBindings&&c.hostBindings(1,p)}function dd(c,p){p.flags|=2,(c.components||(c.components=[])).push(p.index)}function WS(c,p,f){if(f){if(p.exportAs)for(let v=0;v<p.exportAs.length;v++)f[p.exportAs[v]]=c;Rn(p)&&(f[""]=c)}}function XC(c,p,f){c.flags|=1,c.directiveStart=p,c.directiveEnd=p+f,c.providerIndexes=p}function QC(c,p,f,v,C){c.data[v]=C;const S=C.factory||(C.factory=ma(C.type)),O=new $o(S,Rn(C),null);c.blueprint[v]=O,f[v]=O,ka(c,p,0,v,Bn(c,f,C.hostVars,Ct),C)}function hd(c,p,f){const v=_i(p,c),C=_v(f),S=c[10],O=cf(c,gu(c,C,null,f.onPush?64:16,v,p,S,S.createRenderer(v,f),null,null));c[p.index]=O}function Va(c,p,f,v,C,S){const O=_i(c,p);!function _c(c,p,f,v,C,S,O){if(null==S)Ir(c)?c.removeAttribute(p,C,f):p.removeAttribute(C);else{const D=null==O?Et(S):O(S,v||"",C);Ir(c)?c.setAttribute(p,C,D,f):f?p.setAttributeNS(f,C,D):p.setAttribute(C,D)}}(p[11],O,S,c.value,f,v,C)}function ZC(c,p,f,v,C,S){const O=S[p];if(null!==O){const D=v.setInput;for(let M=0;M<O.length;){const L=O[M++],V=O[M++],X=O[M++];null!==D?v.setInput(f,X,L,V):f[V]=X}}}function JC(c,p){let f=null,v=0;for(;v<p.length;){const C=p[v];if(0!==C)if(5!==C){if("number"==typeof C)break;c.hasOwnProperty(C)&&(null===f&&(f=[]),f.push(C,c[C],p[v+1])),v+=2}else v+=2;else v+=4}return f}function ew(c,p,f,v){return new Array(c,!0,!1,p,null,0,v,f,null,null)}function rw(c,p){const f=Zr(p,c);if(_h(f)){const v=f[1];80&f[2]?eo(v,f,v.template,f[8]):f[5]>0&&yl(f)}}function yl(c){for(let v=$h(c);null!==v;v=ri(v))for(let C=10;C<v.length;C++){const S=v[C];if(1024&S[2]){const O=S[1];eo(O,S,O.template,S[8])}else S[5]>0&&yl(S)}const f=c[1].components;if(null!==f)for(let v=0;v<f.length;v++){const C=Zr(f[v],c);_h(C)&&C[5]>0&&yl(C)}}function US(c,p){const f=Zr(p,c),v=f[1];(function Ro(c,p){for(let f=p.length;f<c.blueprint.length;f++)p.push(c.blueprint[f])})(v,f),sd(v,f,f[8])}function cf(c,p){return c[13]?c[14][4]=p:c[13]=p,c[14]=p,p}function fd(c){for(;c;){c[2]|=64;const p=hu(c);if(vp(c)&&!p)return c;c=p}return null}function Os(c){!function pf(c){for(let p=0;p<c.components.length;p++){const f=c.components[p],v=zp(f),C=v[1];UC(C,v,C.template,f)}}(c[8])}function nw(c,p,f){Ku(0),p(c,f)}const zS=(()=>Promise.resolve(null))();function ow(c){return c[7]||(c[7]=[])}function aw(c){return c.cleanup||(c.cleanup=[])}function sw(c,p){const f=c[9],v=f?f.get(Kp,null):null;v&&v.handleError(p)}function Sc(c,p,f,v,C){for(let S=0;S<f.length;){const O=f[S++],D=f[S++],M=p[O],L=c.data[O];null!==L.setInput?L.setInput(M,C,v,D):M[D]=C}}function Ba(c,p,f){const v=function Qt(c,p){return gr(p[c])}(p,c);!function hc(c,p,f){Ir(c)?c.setValue(p,f):p.textContent=f}(c[11],v,f)}function df(c,p,f){let v=f?c.styles:null,C=f?c.classes:null,S=0;if(null!==p)for(let O=0;O<p.length;O++){const D=p[O];"number"==typeof D?S=D:1==S?C=sh(C,D):2==S&&(v=sh(v,D+": "+p[++O]+";"))}f?c.styles=v:c.stylesWithoutHost=v,f?c.classes=C:c.classesWithoutHost=C}const Tv=new St("INJECTOR",-1);class vu{get(p,f=ou){if(f===ou){const v=new Error(`NullInjectorError: No provider for ${tr(p)}!`);throw v.name="NullInjectorError",v}return f}}const Av=new St("Set Injector scope."),yu={},xv={};let hf;function lw(){return void 0===hf&&(hf=new vu),hf}function bc(c,p=null,f=null,v){const C=Ec(c,p,f,v);return C._resolveInjectorDefTypes(),C}function Ec(c,p=null,f=null,v){return new mu(c,f,p||lw(),v)}class mu{constructor(p,f,v,C=null){this.parent=v,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const S=[];f&&Oa(f,D=>this.processProvider(D,p,f)),Oa([p],D=>this.processInjectorType(D,[],S)),this.records.set(Tv,ml(void 0,this));const O=this.records.get(Av);this.scope=null!=O?O.value:null,this.source=C||("object"==typeof p?null:tr(p))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(p=>p.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(p,f=ou,v=st.Default){this.assertNotDestroyed();const C=Xm(this),S=vi(void 0);try{if(!(v&st.SkipSelf)){let D=this.records.get(p);if(void 0===D){const M=function Ar(c){return"function"==typeof c||"object"==typeof c&&c instanceof St}(p)&&uh(p);D=M&&this.injectableDefInScope(M)?ml(ff(p),yu):null,this.records.set(p,D)}if(null!=D)return this.hydrate(p,D)}return(v&st.Self?lw():this.parent).get(p,f=v&st.Optional&&f===ou?null:f)}catch(O){if("NullInjectorError"===O.name){if((O[Ah]=O[Ah]||[]).unshift(tr(p)),C)throw O;return function Da(c,p,f,v){const C=c[Ah];throw p[qm]&&C.unshift(p[qm]),c.message=function Zm(c,p,f,v=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let C=tr(p);if(Array.isArray(p))C=p.map(tr).join(" -> ");else if("object"==typeof p){let S=[];for(let O in p)if(p.hasOwnProperty(O)){let D=p[O];S.push(O+":"+("string"==typeof D?JSON.stringify(D):tr(D)))}C=`{${S.join(", ")}}`}return`${f}${v?"("+v+")":""}[${C}]: ${c.replace(hS,"\n  ")}`}("\n"+c.message,C,f,v),c.ngTokenPath=C,c[Ah]=null,c}(O,p,"R3InjectorError",this.source)}throw O}finally{vi(S),Xm(C)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(p=>this.get(p))}toString(){const p=[];return this.records.forEach((v,C)=>p.push(tr(C))),`R3Injector[${p.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xt(205,!1)}processInjectorType(p,f,v){if(!(p=Ot(p)))return!1;let C=Bl(p);const S=null==C&&p.ngModule||void 0,O=void 0===S?p:S,D=-1!==v.indexOf(O);if(void 0!==S&&(C=Bl(S)),null==C)return!1;if(null!=C.imports&&!D){let V;v.push(O);try{Oa(C.imports,X=>{this.processInjectorType(X,f,v)&&(void 0===V&&(V=[]),V.push(X))})}finally{}if(void 0!==V)for(let X=0;X<V.length;X++){const{ngModule:te,providers:oe}=V[X];Oa(oe,ve=>this.processProvider(ve,te,oe||rr))}}this.injectorDefTypes.add(O);const M=ma(O)||(()=>new O);this.records.set(O,ml(M,yu));const L=C.providers;if(null!=L&&!D){const V=p;Oa(L,X=>this.processProvider(X,V,L))}return void 0!==S&&void 0!==p.providers}processProvider(p,f,v){let C=Rs(p=Ot(p))?p:Ot(p&&p.provide);const S=function KS(c,p,f){return uw(c)?ml(void 0,c.useValue):ml(YS(c),yu)}(p);if(Rs(p)||!0!==p.multi)this.records.get(C);else{let O=this.records.get(C);O||(O=ml(void 0,yu,!0),O.factory=()=>xh(O.multi),this.records.set(C,O)),C=p,O.multi.push(p)}this.records.set(C,S)}hydrate(p,f){return f.value===yu&&(f.value=xv,f.value=f.factory()),"object"==typeof f.value&&f.value&&function pw(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(f.value)&&this.onDestroy.add(f.value),f.value}injectableDefInScope(p){if(!p.providedIn)return!1;const f=Ot(p.providedIn);return"string"==typeof f?"any"===f||f===this.scope:this.injectorDefTypes.has(f)}}function ff(c){const p=uh(c),f=null!==p?p.factory:ma(c);if(null!==f)return f;if(c instanceof St)throw new Xt(204,!1);if(c instanceof Function)return function Mv(c){const p=c.length;if(p>0)throw function xp(c,p){const f=[];for(let v=0;v<c;v++)f.push(p);return f}(p,"?"),new Xt(204,!1);const f=function ym(c){const p=c&&(c[Vu]||c[ch]);if(p){const f=function W_(c){if(c.hasOwnProperty("name"))return c.name;const p=(""+c).match(/^function\s*([^\s(]+)/);return null===p?"":p[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${f}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${f}" class.`),p}return null}(c);return null!==f?()=>f.factory(c):()=>new c}(c);throw new Xt(204,!1)}function YS(c,p,f){let v;if(Rs(c)){const C=Ot(c);return ma(C)||ff(C)}if(uw(c))v=()=>Ot(c.useValue);else if(function cw(c){return!(!c||!c.useFactory)}(c))v=()=>c.useFactory(...xh(c.deps||[]));else if(function CO(c){return!(!c||!c.useExisting)}(c))v=()=>ot(Ot(c.useExisting));else{const C=Ot(c&&(c.useClass||c.provide));if(!function Cl(c){return!!c.deps}(c))return ma(C)||ff(C);v=()=>new C(...xh(c.deps))}return v}function ml(c,p,f=!1){return{factory:c,value:p,multi:f?[]:void 0}}function uw(c){return null!==c&&"object"==typeof c&&gS in c}function Rs(c){return"function"==typeof c}let oi=(()=>{class c{static create(f,v){var C;if(Array.isArray(f))return bc({name:""},v,f,"");{const S=null!==(C=f.name)&&void 0!==C?C:"";return bc({name:S},f.parent,f.providers,S)}}}return c.THROW_IF_NOT_FOUND=ou,c.NULL=new vu,c.\u0275prov=Dt({token:c,providedIn:"any",factory:()=>ot(Tv)}),c.__NG_ELEMENT_ID__=-1,c})();function ZS(c,p){Gr(zp(c)[1],ln())}let _d=null;function Qo(){if(!_d){const c=ur.Symbol;if(c&&c.iterator)_d=c.iterator;else{const p=Object.getOwnPropertyNames(Map.prototype);for(let f=0;f<p.length;++f){const v=p[f];"entries"!==v&&"size"!==v&&Map.prototype[v]===Map.prototype.entries&&(_d=v)}}}return _d}function pr(c,p,f){return!Object.is(c[p],f)&&(c[p]=f,!0)}function Ds(c,p,f,v){const C=ke();return pr(C,cs(),p)&&(It(),Va(Rr(),C,c,p,f,v)),Ds}function it(c,p=st.Default){const f=ke();return null===f?ot(c,p):Og(ln(),f,Ot(c),p)}function Lc(){throw new Error("invalid")}function Ao(c,p,f){const v=ke();return pr(v,cs(),p)&&function to(c,p,f,v,C,S,O,D){const M=_i(p,f);let V,L=p.inputs;!D&&null!=L&&(V=L[v])?(Sc(c,f,V,v,C),Ys(p)&&function Ev(c,p){const f=Zr(p,c);16&f[2]||(f[2]|=64)}(f,p.index)):3&p.type&&(v=function Pi(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(v),C=null!=O?O(C,p.value||"",v):C,Ir(S)?S.setProperty(M,v,C):Rh(v)||(M.setProperty?M.setProperty(v,C):M[v]=C))}(It(),Rr(),v,c,p,v[11],f,!1),Ao}function Rd(c,p,f,v,C){const O=C?"class":"style";Sc(c,f,p.inputs[O],O,v)}function ct(c,p,f,v){const C=ke(),S=It(),O=20+c,D=C[11],M=C[O]=Yh(D,p,function Lr(){return nt.lFrame.currentNamespace}()),L=S.firstCreatePass?function Dd(c,p,f,v,C,S,O){const D=p.consts,L=Oo(p,c,2,C,Zs(D,S));return cd(p,f,L,Zs(D,O)),null!==L.attrs&&df(L,L.attrs,!1),null!==L.mergedAttrs&&df(L,L.mergedAttrs,!0),null!==p.queries&&p.queries.elementStart(p,L),L}(O,S,C,0,p,f,v):S.data[O];wa(L,!0);const V=L.mergedAttrs;null!==V&&Zl(D,M,V);const X=L.classes;null!==X&&Jp(D,M,X);const te=L.styles;return null!==te&&So(D,M,te),64!=(64&L.flags)&&qo(S,C,M,L),0===function mg(){return nt.lFrame.elementDepthCount}()&&Tn(M,C),function vo(){nt.lFrame.elementDepthCount++}(),qs(L)&&(of(S,C,L),function zC(c,p,f){if(On(p)){const C=p.directiveEnd;for(let S=p.directiveStart;S<C;S++){const O=c.data[S];O.contentQueries&&O.contentQueries(1,f[S],S)}}}(S,L,C)),null!==v&&wv(C,L),ct}function wt(){let c=ln();ls()?function ql(){nt.lFrame.isParent=!1}():(c=c.parent,wa(c,!1));const p=c;!function ji(){nt.lFrame.elementDepthCount--}();const f=It();return f.firstCreatePass&&(Gr(f,c),On(c)&&f.queries.elementEnd(c)),null!=p.classesWithoutHost&&function ds(c){return 0!=(16&c.flags)}(p)&&Rd(f,p,ke(),p.classesWithoutHost,!0),null!=p.stylesWithoutHost&&function Vm(c){return 0!=(32&c.flags)}(p)&&Rd(f,p,ke(),p.stylesWithoutHost,!1),wt}function Bt(c,p,f,v){return ct(c,p,f,v),wt(),Bt}function Gc(c){return!!c&&"function"==typeof c.then}const Fw=function li(c){return!!c&&"function"==typeof c.subscribe};function kc(c,p,f,v){const C=ke(),S=It(),O=ln();return function ey(c,p,f,v,C,S,O,D){const M=qs(v),V=c.firstCreatePass&&aw(c),X=p[8],te=ow(p);let oe=!0;if(3&v.type||D){const je=_i(v,p),He=D?D(je):je,Te=te.length,ut=D?Ft=>D(gr(Ft[v.index])):v.index;if(Ir(f)){let Ft=null;if(!D&&M&&(Ft=function xo(c,p,f,v){const C=c.cleanup;if(null!=C)for(let S=0;S<C.length-1;S+=2){const O=C[S];if(O===f&&C[S+1]===v){const D=p[7],M=C[S+2];return D.length>M?D[M]:null}"string"==typeof O&&(S+=2)}return null}(c,p,C,v.index)),null!==Ft)(Ft.__ngLastListenerFn__||Ft).__ngNextListenerFn__=S,Ft.__ngLastListenerFn__=S,oe=!1;else{S=As(v,p,X,S,!1);const lr=f.listen(He,C,S);te.push(S,lr),V&&V.push(C,ut,Te,Te+1)}}else S=As(v,p,X,S,!0),He.addEventListener(C,S,O),te.push(S),V&&V.push(C,ut,Te,O)}else S=As(v,p,X,S,!1);const ve=v.outputs;let Me;if(oe&&null!==ve&&(Me=ve[C])){const je=Me.length;if(je)for(let He=0;He<je;He+=2){const Bs=p[Me[He]][Me[He+1]].subscribe(S),Ky=te.length;te.push(S,Bs),V&&V.push(C,v.index,Ky,-(Ky+1))}}}(S,C,C[11],O,c,p,!!f,v),kc}function bf(c,p,f,v){try{return!1!==f(v)}catch(C){return sw(c,C),!1}}function As(c,p,f,v,C){return function S(O){if(O===Function)return v;const D=2&c.flags?Zr(c.index,p):p;0==(32&p[2])&&fd(D);let M=bf(p,0,v,O),L=S.__ngNextListenerFn__;for(;L;)M=bf(p,0,L,O)&&M,L=L.__ngNextListenerFn__;return C&&!1===M&&(O.preventDefault(),O.returnValue=!1),M}}function ty(c=1){return function bh(c){return(nt.lFrame.contextLView=function Sa(c,p){for(;c>0;)p=p[15],c--;return p}(c,nt.lFrame.contextLView))[8]}(c)}function sr(c,p=""){const f=ke(),v=It(),C=c+20,S=v.firstCreatePass?Oo(v,C,1,p,null):v.data[C],O=f[C]=function ys(c,p){return Ir(c)?c.createText(p):c.createTextNode(p)}(f[11],p);qo(v,f,O,S),wa(S,!1)}function yb(c,p,f){const v=ke(),C=function Mc(c,p,f,v){return pr(c,cs(),f)?p+Et(f)+v:Ct}(v,c,p,f);return C!==Ct&&Ba(v,Dn(),C),yb}const uy="en-US";let Hc=uy;function Uc(c,p,f,v,C){if(c=Ot(c),Array.isArray(c))for(let S=0;S<c.length;S++)Uc(c[S],p,f,v,C);else{const S=It(),O=ke();let D=Rs(c)?c:Ot(c.provide),M=YS(c);const L=ln(),V=1048575&L.providerIndexes,X=L.directiveStart,te=L.providerIndexes>>20;if(Rs(c)||!c.multi){const oe=new $o(M,C,it),ve=zc(D,p,C?V:V+te,X);-1===ve?(Dh(Jl(L,O),S,D),Tb(S,c,p.length),p.push(D),L.directiveStart++,L.directiveEnd++,C&&(L.providerIndexes+=1048576),f.push(oe),O.push(oe)):(f[ve]=oe,O[ve]=oe)}else{const oe=zc(D,p,V+te,X),ve=zc(D,p,V,V+te),Me=oe>=0&&f[oe],je=ve>=0&&f[ve];if(C&&!je||!C&&!Me){Dh(Jl(L,O),S,D);const He=function Nd(c,p,f,v,C){const S=new $o(c,f,it);return S.multi=[],S.index=p,S.componentProviders=0,f0(S,C,v&&!f),S}(C?kD:Id,f.length,C,v,M);!C&&je&&(f[ve].providerFactory=He),Tb(S,c,p.length,0),p.push(D),L.directiveStart++,L.directiveEnd++,C&&(L.providerIndexes+=1048576),f.push(He),O.push(He)}else Tb(S,c,oe>-1?oe:ve,f0(f[C?ve:oe],M,!C&&v));!C&&v&&je&&f[ve].componentProviders++}}}function Tb(c,p,f,v){const C=Rs(p),S=function Oc(c){return!!c.useClass}(p);if(C||S){const M=(S?Ot(p.useClass):p).prototype.ngOnDestroy;if(M){const L=c.destroyHooks||(c.destroyHooks=[]);if(!C&&p.multi){const V=L.indexOf(f);-1===V?L.push(f,[v,M]):L[V+1].push(v,M)}else L.push(f,M)}}}function f0(c,p,f){return f&&c.componentProviders++,c.multi.push(p)-1}function zc(c,p,f,v){for(let C=f;C<v;C++)if(p[C]===c)return C;return-1}function Id(c,p,f,v){return Mf(this.multi,[])}function kD(c,p,f,v){const C=this.multi;let S;if(this.providerFactory){const O=this.providerFactory.componentProviders,D=tu(f,f[1],this.providerFactory.index,v);S=D.slice(0,O),Mf(C,S);for(let M=O;M<D.length;M++)S.push(D[M])}else S=[],Mf(C,S);return S}function Mf(c,p){for(let f=0;f<c.length;f++)p.push((0,c[f])());return p}function g0(c,p=[]){return f=>{f.providersResolver=(v,C)=>function GD(c,p,f){const v=It();if(v.firstCreatePass){const C=Rn(c);Uc(f,v.data,v.blueprint,C,!0),Uc(p,v.data,v.blueprint,C,!1)}}(v,C?C(c):c,p)}}class v0{}class BD{resolveComponentFactory(p){throw function VD(c){const p=Error(`No component factory found for ${tr(c)}. Did you add it to @NgModule.entryComponents?`);return p.ngComponent=c,p}(p)}}let $c=(()=>{class c{}return c.NULL=new BD,c})();function HD(){return Ff(ln(),ke())}function Ff(c,p){return new Ya(_i(c,p))}let Ya=(()=>{class c{constructor(f){this.nativeElement=f}}return c.__NG_ELEMENT_ID__=HD,c})();function WD(c){return c instanceof Ya?c.nativeElement:c}class Kc{}let Uw=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function UD(){const c=ke(),f=Zr(ln().index,c);return function jD(c){return c[11]}(Qn(f)?f:c)}(),c})(),Gd=(()=>{class c{}return c.\u0275prov=Dt({token:c,providedIn:"root",factory:()=>null}),c})();class zw{constructor(p){this.full=p,this.major=p.split(".")[0],this.minor=p.split(".")[1],this.patch=p.split(".").slice(2).join(".")}}const zD=new zw("13.3.8"),Yc={};function $w(c,p,f,v,C=!1){for(;null!==f;){const S=p[f.index];if(null!==S&&v.push(gr(S)),ho(S))for(let D=10;D<S.length;D++){const M=S[D],L=M[1].firstChild;null!==L&&$w(M[1],M,L,v)}const O=f.type;if(8&O)$w(c,p,f.child,v);else if(32&O){const D=zh(f,p);let M;for(;M=D();)v.push(M)}else if(16&O){const D=bC(p,f);if(Array.isArray(D))v.push(...D);else{const M=hu(p[16]);$w(M[1],M,D,v,!0)}}f=C?f.projectionNext:f.next}return v}class Cy{constructor(p,f){this._lView=p,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const p=this._lView,f=p[1];return $w(f,p,f.firstChild,[])}get context(){return this._lView[8]}set context(p){this._lView[8]=p}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const p=this._lView[3];if(ho(p)){const f=p[8],v=f?f.indexOf(this):-1;v>-1&&(Xp(p,v),oc(f,v))}this._attachedToViewContainer=!1}gc(this._lView[1],this._lView)}onDestroy(p){$C(this._lView[1],this._lView,null,p)}markForCheck(){fd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Es(c,p,f){const v=p[10];v.begin&&v.begin();try{eo(c,p,c.template,f)}catch(C){throw sw(p,C),C}finally{v.end&&v.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rv(c,p){Fa(c,p,p[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(p){if(this._attachedToViewContainer)throw new Xt(902,"");this._appRef=p}}class Ab extends Cy{constructor(p){super(p),this._view=p}detectChanges(){Os(this._view)}checkNoChanges(){}get context(){return null}}class Pu extends $c{constructor(p){super(),this.ngModule=p}resolveComponentFactory(p){const f=Wr(p);return new xb(f,this.ngModule)}}function y0(c){const p=[];for(let f in c)c.hasOwnProperty(f)&&p.push({propName:c[f],templateName:f});return p}class xb extends v0{constructor(p,f){super(),this.componentDef=p,this.ngModule=f,this.componentType=p.type,this.selector=function AC(c){return c.map(hv).join(",")}(p.selectors),this.ngContentSelectors=p.ngContentSelectors?p.ngContentSelectors:[],this.isBoundToModule=!!f}get inputs(){return y0(this.componentDef.inputs)}get outputs(){return y0(this.componentDef.outputs)}create(p,f,v,C){const S=(C=C||this.ngModule)?function xi(c,p){return{get:(f,v,C)=>{const S=c.get(f,Yc,C);return S!==Yc||v===Yc?S:p.get(f,v,C)}}}(p,C.injector):p,O=S.get(Kc,Fm),D=S.get(Gd,null),M=O.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",V=v?function lf(c,p,f){if(Ir(c))return c.selectRootElement(p,f===ki.ShadowDom);let v="string"==typeof p?c.querySelector(p):p;return v.textContent="",v}(M,v,this.componentDef.encapsulation):Yh(O.createRenderer(null,this.componentDef),L,function $D(c){const p=c.toLowerCase();return"svg"===p?"svg":"math"===p?"math":null}(L)),X=this.componentDef.onPush?576:528,te=function yw(c,p){return{components:[],scheduler:c||dl,clean:zS,playerHandler:p||null,flags:0}}(),oe=af(0,null,null,1,0,null,null,null,null,null),ve=gu(null,oe,te,X,null,null,O,M,D,S);let Me,je;Yu(ve);try{const He=function vw(c,p,f,v,C,S){const O=f[1];f[20]=c;const M=Oo(O,20,2,"#host",null),L=M.mergedAttrs=p.hostAttrs;null!==L&&(df(M,L,!0),null!==c&&(Zl(C,c,L),null!==M.classes&&Jp(C,c,M.classes),null!==M.styles&&So(C,c,M.styles)));const V=v.createRenderer(c,p),X=gu(f,_v(p),null,p.onPush?64:16,f[20],M,v,V,S||null,null);return O.firstCreatePass&&(Dh(Jl(M,f),O,p.type),dd(O,M),XC(M,f.length,1)),cf(f,X),f[20]=X}(V,this.componentDef,ve,O,M);if(V)if(v)Zl(M,V,["ng-version",zD.full]);else{const{attrs:Te,classes:ut}=function xC(c){const p=[],f=[];let v=1,C=2;for(;v<c.length;){let S=c[v];if("string"==typeof S)2===C?""!==S&&p.push(S,c[++v]):8===C&&f.push(S);else{if(!Vn(C))break;C=S}v++}return{attrs:p,classes:f}}(this.componentDef.selectors[0]);Te&&Zl(M,V,Te),ut&&ut.length>0&&Jp(M,V,ut.join(" "))}if(je=yg(oe,20),void 0!==f){const Te=je.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const Ft=f[ut];Te.push(null!=Ft?Array.from(Ft):null)}}Me=function Tc(c,p,f,v,C){const S=f[1],O=function HS(c,p,f){const v=ln();c.firstCreatePass&&(f.providersResolver&&f.providersResolver(f),QC(c,v,p,Bn(c,p,1,null),f));const C=tu(p,c,v.directiveStart,v);Tn(C,p);const S=_i(v,p);return S&&Tn(S,p),C}(S,f,p);if(v.components.push(O),c[8]=O,C&&C.forEach(M=>M(O,p)),p.contentQueries){const M=ln();p.contentQueries(1,O,M.directiveStart)}const D=ln();return!S.firstCreatePass||null===p.hostBindings&&null===p.hostAttrs||(tl(D.index),ka(f[1],D,0,D.directiveStart,D.directiveEnd,p),pd(p,O)),O}(He,this.componentDef,ve,te,[ZS]),sd(oe,ve,null)}finally{qu()}return new Mb(this.componentType,Me,Ff(je,ve),ve,je)}}class Mb extends class Ld{}{constructor(p,f,v,C,S){super(),this.location=v,this._rootLView=C,this._tNode=S,this.instance=f,this.hostView=this.changeDetectorRef=new Ab(C),this.componentType=p}get injector(){return new tc(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(p){this.hostView.onDestroy(p)}}class Tu{}class na{}const Dl=new Map;class w0 extends Tu{constructor(p,f){super(),this._parent=f,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pu(this);const v=po(p);this._bootstrapComponents=vr(v.bootstrap),this._r3Injector=Ec(p,f,[{provide:Tu,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],tr(p)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(p)}get(p,f=oi.THROW_IF_NOT_FOUND,v=st.Default){return p===oi||p===Tu||p===Tv?this:this._r3Injector.get(p,f,v)}destroy(){const p=this._r3Injector;!p.destroyed&&p.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(p){this.destroyCbs.push(p)}}class Ib extends na{constructor(p){super(),this.moduleType=p,null!==po(p)&&function XD(c){const p=new Set;!function f(v){const C=po(v,!0),S=C.id;null!==S&&(function C0(c,p,f){if(p&&p!==f)throw new Error(`Duplicate module registered for ${c} - ${tr(p)} vs ${tr(p.name)}`)}(S,Dl.get(S),v),Dl.set(S,v));const O=vr(C.imports);for(const D of O)p.has(D)||(p.add(D),f(D))}(c)}(p)}create(p){return new w0(this.moduleType,p)}}function Au(c,p,f){const v=function Tr(){const c=nt.lFrame;let p=c.bindingRootIndex;return-1===p&&(p=c.bindingRootIndex=c.tView.bindingStartIndex),p}()+c,C=ke();return C[v]===Ct?function Zo(c,p,f){return c[p]=f}(C,v,f?p.call(f):p()):function Sd(c,p){return c[p]}(C,v)}function Kw(c){return p=>{setTimeout(c,void 0,p)}}const Ce=class cP extends Za{constructor(p=!1){super(),this.__isAsync=p}emit(p){super.next(p)}subscribe(p,f,v){var C,S,O;let D=p,M=f||(()=>null),L=v;if(p&&"object"==typeof p){const X=p;D=null===(C=X.next)||void 0===C?void 0:C.bind(X),M=null===(S=X.error)||void 0===S?void 0:S.bind(X),L=null===(O=X.complete)||void 0===O?void 0:O.bind(X)}this.__isAsync&&(M=Kw(M),D&&(D=Kw(D)),L&&(L=Kw(L)));const V=super.subscribe({next:D,error:M,complete:L});return p instanceof Pr&&p.add(V),V}};function pP(){return this._results[Qo()]()}class Sy{constructor(p=!1){this._emitDistinctChangesOnly=p,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const f=Qo(),v=Sy.prototype;v[f]||(v[f]=pP)}get changes(){return this._changes||(this._changes=new Ce)}get(p){return this._results[p]}map(p){return this._results.map(p)}filter(p){return this._results.filter(p)}find(p){return this._results.find(p)}reduce(p,f){return this._results.reduce(p,f)}forEach(p){this._results.forEach(p)}some(p){return this._results.some(p)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(p,f){const v=this;v.dirty=!1;const C=zi(p);(this._changesDetected=!function Ap(c,p,f){if(c.length!==p.length)return!1;for(let v=0;v<c.length;v++){let C=c[v],S=p[v];if(f&&(C=f(C),S=f(S)),S!==C)return!1}return!0}(v._results,C,f))&&(v._results=C,v.length=C.length,v.last=C[this.length-1],v.first=C[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xu=(()=>{class c{}return c.__NG_ELEMENT_ID__=P0,c})();const dP=xu,hP=class extends dP{constructor(p,f,v){super(),this._declarationLView=p,this._declarationTContainer=f,this.elementRef=v}createEmbeddedView(p){const f=this._declarationTContainer.tViews,v=gu(this._declarationLView,f,p,16,null,f.declTNode,null,null,null,null);v[17]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[19];return null!==S&&(v[19]=S.createEmbeddedView(f)),sd(f,v,p),new Cy(v)}};function P0(){return Yw(ln(),ke())}function Yw(c,p){return 4&c.type?new hP(p,c,Ff(c,p)):null}let Mo=(()=>{class c{}return c.__NG_ELEMENT_ID__=fP,c})();function fP(){return Gb(ln(),ke())}const gP=Mo,qc=class extends gP{constructor(p,f,v){super(),this._lContainer=p,this._hostTNode=f,this._hostLView=v}get element(){return Ff(this._hostTNode,this._hostLView)}get injector(){return new tc(this._hostTNode,this._hostLView)}get parentInjector(){const p=Ju(this._hostTNode,this._hostLView);if(Ep(p)){const f=fs(p,this._hostLView),v=ol(p);return new tc(f[1].data[v+8],f)}return new tc(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(p){const f=T0(this._lContainer);return null!==f&&f[p]||null}get length(){return this._lContainer.length-10}createEmbeddedView(p,f,v){const C=p.createEmbeddedView(f||{});return this.insert(C,v),C}createComponent(p,f,v,C,S){const O=p&&!function Tp(c){return"function"==typeof c}(p);let D;if(O)D=f;else{const X=f||{};D=X.index,v=X.injector,C=X.projectableNodes,S=X.ngModuleRef}const M=O?p:new xb(Wr(p)),L=v||this.parentInjector;if(!S&&null==M.ngModule){const te=(O?L:this.parentInjector).get(Tu,null);te&&(S=te)}const V=M.create(L,C,void 0,S);return this.insert(V.hostView,D),V}insert(p,f){const v=p._lView,C=v[1];if(function Nr(c){return ho(c[3])}(v)){const V=this.indexOf(p);if(-1!==V)this.detach(V);else{const X=v[3],te=new qc(X,X[6],X[3]);te.detach(te.indexOf(p))}}const S=this._adjustIndex(f),O=this._lContainer;!function Xh(c,p,f,v){const C=10+v,S=f.length;v>0&&(f[C-1][4]=p),v<S-10?(p[4]=f[C],ic(f,10+v,p)):(f.push(p),p[4]=null),p[3]=f;const O=p[17];null!==O&&f!==O&&function iv(c,p){const f=c[9];p[16]!==p[3][3][16]&&(c[2]=!0),null===f?c[9]=[p]:f.push(p)}(O,p);const D=p[19];null!==D&&D.insertView(c),p[2]|=128}(C,v,O,S);const D=Zp(S,O),M=v[11],L=Ma(M,O[7]);return null!==L&&function qh(c,p,f,v,C,S){v[0]=C,v[6]=p,Fa(c,v,f,1,C,S)}(C,O[6],M,v,L,D),p.attachToViewContainerRef(),ic(Lb(O),S,p),p}move(p,f){return this.insert(p,f)}indexOf(p){const f=T0(this._lContainer);return null!==f?f.indexOf(p):-1}remove(p){const f=this._adjustIndex(p,-1),v=Xp(this._lContainer,f);v&&(oc(Lb(this._lContainer),f),gc(v[1],v))}detach(p){const f=this._adjustIndex(p,-1),v=Xp(this._lContainer,f);return v&&null!=oc(Lb(this._lContainer),f)?new Cy(v):null}_adjustIndex(p,f=0){return null==p?this.length+f:p}};function T0(c){return c[8]}function Lb(c){return c[8]||(c[8]=[])}function Gb(c,p){let f;const v=p[c.index];if(ho(v))f=v;else{let C;if(8&c.type)C=gr(v);else{const S=p[11];C=S.createComment("");const O=_i(c,p);Yo(S,Ma(S,O),C,function GS(c,p){return Ir(c)?c.nextSibling(p):p.nextSibling}(S,O),!1)}p[c.index]=f=ew(v,p,C,c),cf(p,f)}return new qc(f,c,p)}class kb{constructor(p){this.queryList=p,this.matches=null}clone(){return new kb(this.queryList)}setDirty(){this.queryList.setDirty()}}class qw{constructor(p=[]){this.queries=p}createEmbeddedView(p){const f=p.queries;if(null!==f){const v=null!==p.contentQueries?p.contentQueries[0]:f.length,C=[];for(let S=0;S<v;S++){const O=f.getByIndex(S);C.push(this.queries[O.indexInDeclarationView].clone())}return new qw(C)}return null}insertView(p){this.dirtyQueriesWithMatches(p)}detachView(p){this.dirtyQueriesWithMatches(p)}dirtyQueriesWithMatches(p){for(let f=0;f<this.queries.length;f++)null!==Lf(p,f).matches&&this.queries[f].setDirty()}}class A0{constructor(p,f,v=null){this.predicate=p,this.flags=f,this.read=v}}class If{constructor(p=[]){this.queries=p}elementStart(p,f){for(let v=0;v<this.queries.length;v++)this.queries[v].elementStart(p,f)}elementEnd(p){for(let f=0;f<this.queries.length;f++)this.queries[f].elementEnd(p)}embeddedTView(p){let f=null;for(let v=0;v<this.length;v++){const C=null!==f?f.length:0,S=this.getByIndex(v).embeddedTView(p,C);S&&(S.indexInDeclarationView=v,null!==f?f.push(S):f=[S])}return null!==f?new If(f):null}template(p,f){for(let v=0;v<this.queries.length;v++)this.queries[v].template(p,f)}getByIndex(p){return this.queries[p]}get length(){return this.queries.length}track(p){this.queries.push(p)}}class Xw{constructor(p,f=-1){this.metadata=p,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=f}elementStart(p,f){this.isApplyingToNode(f)&&this.matchTNode(p,f)}elementEnd(p){this._declarationNodeIndex===p.index&&(this._appliesToNextNode=!1)}template(p,f){this.elementStart(p,f)}embeddedTView(p,f){return this.isApplyingToNode(p)?(this.crossesNgTemplate=!0,this.addMatch(-p.index,f),new Xw(this.metadata)):null}isApplyingToNode(p){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const f=this._declarationNodeIndex;let v=p.parent;for(;null!==v&&8&v.type&&v.index!==f;)v=v.parent;return f===(null!==v?v.index:-1)}return this._appliesToNextNode}matchTNode(p,f){const v=this.metadata.predicate;if(Array.isArray(v))for(let C=0;C<v.length;C++){const S=v[C];this.matchTNodeWithReadOption(p,f,CP(f,S)),this.matchTNodeWithReadOption(p,f,eu(f,p,S,!1,!1))}else v===xu?4&f.type&&this.matchTNodeWithReadOption(p,f,-1):this.matchTNodeWithReadOption(p,f,eu(f,p,v,!1,!1))}matchTNodeWithReadOption(p,f,v){if(null!==v){const C=this.metadata.read;if(null!==C)if(C===Ya||C===Mo||C===xu&&4&f.type)this.addMatch(f.index,-2);else{const S=eu(f,p,C,!1,!1);null!==S&&this.addMatch(f.index,S)}else this.addMatch(f.index,v)}}addMatch(p,f){null===this.matches?this.matches=[p,f]:this.matches.push(p,f)}}function CP(c,p){const f=c.localNames;if(null!==f)for(let v=0;v<f.length;v+=2)if(f[v]===p)return f[v+1];return null}function by(c,p,f,v){return-1===f?function wP(c,p){return 11&c.type?Ff(c,p):4&c.type?Yw(c,p):null}(p,c):-2===f?function _P(c,p,f){return f===Ya?Ff(p,c):f===xu?Yw(p,c):f===Mo?Gb(p,c):void 0}(c,p,v):tu(c,c[1],f,p)}function x0(c,p,f,v){const C=p[19].queries[v];if(null===C.matches){const S=c.data,O=f.matches,D=[];for(let M=0;M<O.length;M+=2){const L=O[M];D.push(L<0?null:by(p,S[L],O[M+1],f.metadata.read))}C.matches=D}return C.matches}function Vb(c,p,f,v){const C=c.queries.getByIndex(f),S=C.matches;if(null!==S){const O=x0(c,p,C,f);for(let D=0;D<S.length;D+=2){const M=S[D];if(M>0)v.push(O[D/2]);else{const L=S[D+1],V=p[-M];for(let X=10;X<V.length;X++){const te=V[X];te[17]===te[3]&&Vb(te[1],te,L,v)}if(null!==V[9]){const X=V[9];for(let te=0;te<X.length;te++){const oe=X[te];Vb(oe[1],oe,L,v)}}}}}return v}function Nf(c){const p=ke(),f=It(),v=Lm();Ku(v+1);const C=Lf(f,v);if(c.dirty&&Yl(p)===(2==(2&C.metadata.flags))){if(null===C.matches)c.reset([]);else{const S=C.crossesNgTemplate?Vb(f,p,v,[]):x0(f,p,C,v);c.reset(S,WD),c.notifyOnChanges()}return!0}return!1}function Ey(c,p,f,v){const C=It();if(C.firstCreatePass){const S=ln();(function I0(c,p,f){null===c.queries&&(c.queries=new If),c.queries.track(new Xw(p,f))})(C,new A0(p,f,v),S.index),function hn(c,p){const f=c.contentQueries||(c.contentQueries=[]);p!==(f.length?f[f.length-1]:-1)&&f.push(c.queries.length-1,p)}(C,c),2==(2&f)&&(C.staticContentQueries=!0)}!function F0(c,p,f){const v=new Sy(4==(4&f));$C(c,p,v,v.destroy),null===p[19]&&(p[19]=new qw),p[19].queries.push(new kb(v))}(C,ke(),f)}function Oy(){return function SP(c,p){return c[19].queries[p].queryList}(ke(),Lm())}function Lf(c,p){return c.queries.getByIndex(p)}const $=_t("Input",c=>({bindingPropertyName:c})),Je=_t("Output",c=>({bindingPropertyName:c}));function ao(...c){}const Dy=new St("Application Initializer");let Yb=(()=>{class c{constructor(f){this.appInits=f,this.resolve=ao,this.reject=ao,this.initialized=!1,this.done=!1,this.donePromise=new Promise((v,C)=>{this.resolve=v,this.reject=C})}runInitializers(){if(this.initialized)return;const f=[],v=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let C=0;C<this.appInits.length;C++){const S=this.appInits[C]();if(Gc(S))f.push(S);else if(Fw(S)){const O=new Promise((D,M)=>{S.subscribe({complete:D,error:M})});f.push(O)}}Promise.all(f).then(()=>{v()}).catch(C=>{this.reject(C)}),0===f.length&&v(),this.initialized=!0}}return c.\u0275fac=function(f){return new(f||c)(ot(Dy,8))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Py=new St("AppId",{providedIn:"root",factory:function $0(){return`${e_()}${e_()}${e_()}`}});function e_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const K0=new St("Platform Initializer"),Zc=new St("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Y0=new St("appBootstrapListener");let IP=(()=>{class c{log(f){console.log(f)}warn(f){console.warn(f)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();const Jc=new St("LocaleId",{providedIn:"root",factory:()=>au(Jc,st.Optional|st.SkipSelf)||function q0(){return"undefined"!=typeof $localize&&$localize.locale||uy}()});class LP{constructor(p,f){this.ngModuleFactory=p,this.componentFactories=f}}let qb=(()=>{class c{compileModuleSync(f){return new Ib(f)}compileModuleAsync(f){return Promise.resolve(this.compileModuleSync(f))}compileModuleAndAllComponentsSync(f){const v=this.compileModuleSync(f),S=vr(po(f).declarations).reduce((O,D)=>{const M=Wr(D);return M&&O.push(new xb(M)),O},[]);return new LP(v,S)}compileModuleAndAllComponentsAsync(f){return Promise.resolve(this.compileModuleAndAllComponentsSync(f))}clearCache(){}clearCacheFor(f){}getModuleId(f){}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();const Xb=(()=>Promise.resolve(0))();function Qb(c){"undefined"==typeof Zone?Xb.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class Cn{constructor({enableLongStackTrace:p=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:v=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const C=this;C._nesting=0,C._outer=C._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(C._inner=C._inner.fork(new Zone.TaskTrackingZoneSpec)),p&&Zone.longStackTraceZoneSpec&&(C._inner=C._inner.fork(Zone.longStackTraceZoneSpec)),C.shouldCoalesceEventChangeDetection=!v&&f,C.shouldCoalesceRunChangeDetection=v,C.lastRequestAnimationFrameId=-1,C.nativeRequestAnimationFrame=function X0(){let c=ur.requestAnimationFrame,p=ur.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&p){const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f);const v=p[Zone.__symbol__("OriginalDelegate")];v&&(p=v)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:p}}().nativeRequestAnimationFrame,function Q0(c){const p=()=>{!function VP(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(ur,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,Io(c),c.isCheckStableRunning=!0,Zb(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),Io(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,v,C,S,O,D)=>{try{return Z0(c),f.invokeTask(C,S,O,D)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===S.type||c.shouldCoalesceRunChangeDetection)&&p(),r_(c)}},onInvoke:(f,v,C,S,O,D,M)=>{try{return Z0(c),f.invoke(C,S,O,D,M)}finally{c.shouldCoalesceRunChangeDetection&&p(),r_(c)}},onHasTask:(f,v,C,S)=>{f.hasTask(C,S),v===C&&("microTask"==S.change?(c._hasPendingMicrotasks=S.microTask,Io(c),Zb(c)):"macroTask"==S.change&&(c.hasPendingMacrotasks=S.macroTask))},onHandleError:(f,v,C,S)=>(f.handleError(C,S),c.runOutsideAngular(()=>c.onError.emit(S)),!1)})}(C)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cn.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cn.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(p,f,v){return this._inner.run(p,f,v)}runTask(p,f,v,C){const S=this._inner,O=S.scheduleEventTask("NgZoneEvent: "+C,p,kP,ao,ao);try{return S.runTask(O,f,v)}finally{S.cancelTask(O)}}runGuarded(p,f,v){return this._inner.runGuarded(p,f,v)}runOutsideAngular(p){return this._outer.run(p)}}const kP={};function Zb(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function Io(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function Z0(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function r_(c){c._nesting--,Zb(c)}class J0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ce,this.onMicrotaskEmpty=new Ce,this.onStable=new Ce,this.onError=new Ce}run(p,f,v){return p.apply(f,v)}runGuarded(p,f,v){return p.apply(f,v)}runOutsideAngular(p){return p()}runTask(p,f,v,C){return p.apply(f,v)}}let Is=(()=>{class c{constructor(f){this._ngZone=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cn.assertNotInAngularZone(),Qb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Qb(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(v=>!v.updateCb||!v.updateCb(f)||(clearTimeout(v.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,v,C){let S=-1;v&&v>0&&(S=setTimeout(()=>{this._callbacks=this._callbacks.filter(O=>O.timeoutId!==S),f(this._didWork,this.getPendingTasks())},v)),this._callbacks.push({doneCb:f,timeoutId:S,updateCb:C})}whenStable(f,v,C){if(C&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,v,C),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(f,v,C){return[]}}return c.\u0275fac=function(f){return new(f||c)(ot(Cn))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),BP=(()=>{class c{constructor(){this._applications=new Map,Jb.addToWindow(this)}registerApplication(f,v){this._applications.set(f,v)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,v=!0){return Jb.findTestabilityInTree(this,f,v)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();class eR{addToWindow(p){}findTestabilityInTree(p,f,v){return null}}let Jb=new eR,kd=null;const Vd=new St("AllowMultipleToken"),tR=new St("PlatformOnDestroy");class n_{constructor(p,f){this.name=p,this.token=f}}function rR(c,p,f=[]){const v=`Platform: ${p}`,C=new St(v);return(S=[])=>{let O=tE();if(!O||O.injector.get(Vd,!1)){const D=[...f,...S,{provide:C,useValue:!0}];c?c(D):function eE(c){if(kd&&!kd.get(Vd,!1))throw new Xt(400,"");kd=c;const p=c.get(nR),f=c.get(K0,null);f&&f.forEach(v=>v())}(function jP(c=[],p){return oi.create({name:p,providers:[{provide:Av,useValue:"platform"},{provide:tR,useValue:()=>kd=null},...c]})}(D,v))}return function i_(c){const p=tE();if(!p)throw new Xt(401,"");return p}()}}function tE(){var c;return null!==(c=null==kd?void 0:kd.get(nR))&&void 0!==c?c:null}let nR=(()=>{class c{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,v){const D=function UP(c,p){let f;return f="noop"===c?new J0:("zone.js"===c?void 0:c)||new Cn({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==p?void 0:p.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==p?void 0:p.ngZoneRunCoalescing)}),f}(v?v.ngZone:void 0,{ngZoneEventCoalescing:v&&v.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:v&&v.ngZoneRunCoalescing||!1}),M=[{provide:Cn,useValue:D}];return D.run(()=>{const L=oi.create({providers:M,parent:this.injector,name:f.moduleType.name}),V=f.create(L),X=V.injector.get(Kp,null);if(!X)throw new Xt(402,"");return D.runOutsideAngular(()=>{const te=D.onError.subscribe({next:oe=>{X.handleError(oe)}});V.onDestroy(()=>{o_(this._modules,V),te.unsubscribe()})}),function zP(c,p,f){try{const v=f();return Gc(v)?v.catch(C=>{throw p.runOutsideAngular(()=>c.handleError(C)),C}):v}catch(v){throw p.runOutsideAngular(()=>c.handleError(v)),v}}(X,D,()=>{const te=V.injector.get(Yb);return te.runInitializers(),te.donePromise.then(()=>(function YO(c){$n(c,"Expected localeId to be defined"),"string"==typeof c&&(Hc=c.toLowerCase().replace(/_/g,"-"))}(V.injector.get(Jc,uy)||uy),this._moduleDoBootstrap(V),V))})})}bootstrapModule(f,v=[]){const C=iR({},v);return function WP(c,p,f){const v=new Ib(f);return Promise.resolve(v)}(0,0,f).then(S=>this.bootstrapModuleFactory(S,C))}_moduleDoBootstrap(f){const v=f.injector.get(Ty);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(C=>v.bootstrap(C));else{if(!f.instance.ngDoBootstrap)throw new Xt(403,"");f.instance.ngDoBootstrap(v)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xt(404,"");this._modules.slice().forEach(v=>v.destroy()),this._destroyListeners.forEach(v=>v());const f=this._injector.get(tR,null);null==f||f(),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(f){return new(f||c)(ot(oi))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac,providedIn:"platform"}),c})();function iR(c,p){return Array.isArray(p)?p.reduce(iR,c):Object.assign(Object.assign({},c),p)}let Ty=(()=>{class c{constructor(f,v,C,S){this._zone=f,this._injector=v,this._exceptionHandler=C,this._initStatus=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const O=new Cr(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),D=new Cr(M=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Cn.assertNotInAngularZone(),Qb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Cn.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{L.unsubscribe(),V.unsubscribe()}});this.isStable=function cm(...c){const p=ku(c),f=function oh(c,p){return"number"==typeof ap(c)?c.pop():p}(c,1/0),v=c;return v.length?1===v.length?Vo(v[0]):js(f)(Xr(v,p)):Bo}(O,D.pipe(function ah(c={}){const{connector:p=(()=>new Za),resetOnError:f=!0,resetOnComplete:v=!0,resetOnRefCountZero:C=!0}=c;return S=>{let O=null,D=null,M=null,L=0,V=!1,X=!1;const te=()=>{null==D||D.unsubscribe(),D=null},oe=()=>{te(),O=M=null,V=X=!1},ve=()=>{const Me=O;oe(),null==Me||Me.unsubscribe()};return Hr((Me,je)=>{L++,!X&&!V&&te();const He=M=null!=M?M:p();je.add(()=>{L--,0===L&&!X&&!V&&(D=ag(ve,C))}),He.subscribe(je),O||(O=new In({next:Te=>He.next(Te),error:Te=>{X=!0,te(),D=ag(oe,f,Te),He.error(Te)},complete:()=>{V=!0,te(),D=ag(oe,v),He.complete()}}),Xr(Me).subscribe(O))})(S)}}()))}bootstrap(f,v){if(!this._initStatus.done)throw new Xt(405,"");let C;C=f instanceof v0?f:this._injector.get($c).resolveComponentFactory(f),this.componentTypes.push(C.componentType);const S=function Vf(c){return c.isBoundToModule}(C)?void 0:this._injector.get(Tu),D=C.create(oi.NULL,[],v||C.selector,S),M=D.location.nativeElement,L=D.injector.get(Is,null),V=L&&D.injector.get(BP);return L&&V&&V.registerApplication(M,L),D.onDestroy(()=>{this.detachView(D.hostView),o_(this.components,D),V&&V.unregisterApplication(M)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Xt(101,"");try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(f))}finally{this._runningTick=!1}}attachView(f){const v=f;this._views.push(v),v.attachToAppRef(this)}detachView(f){const v=f;o_(this._views,v),v.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f),this._injector.get(Y0,[]).concat(this._bootstrapListeners).forEach(C=>C(f))}ngOnDestroy(){this._views.slice().forEach(f=>f.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(f){return new(f||c)(ot(Cn),ot(oi),ot(Kp),ot(Yb))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac,providedIn:"root"}),c})();function o_(c,p){const f=c.indexOf(p);f>-1&&c.splice(f,1)}let so=!0,nE=(()=>{class c{}return c.__NG_ELEMENT_ID__=sR,c})();function sR(c){return function KP(c,p,f){if(Ys(c)&&!f){const v=Zr(c.index,p);return new Cy(v,v)}return 47&c.type?new Cy(p[16],p):null}(ln(),ke(),16==(16&c))}const g_=rR(null,"core",[]);let rT=(()=>{class c{constructor(f){}}return c.\u0275fac=function(f){return new(f||c)(ot(Ty))},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({}),c})(),v_=null;function tp(){return v_}const No=new St("DocumentToken");let Wd=(()=>{class c{historyGo(f){throw new Error("Not implemented")}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:function(){return function aT(){return ot(yR)}()},providedIn:"platform"}),c})();const vR=new St("Location Initialized");let yR=(()=>{class c extends Wd{constructor(f){super(),this._doc=f,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tp().getBaseHref(this._doc)}onPopState(f){const v=tp().getGlobalEventTarget(this._doc,"window");return v.addEventListener("popstate",f,!1),()=>v.removeEventListener("popstate",f)}onHashChange(f){const v=tp().getGlobalEventTarget(this._doc,"window");return v.addEventListener("hashchange",f,!1),()=>v.removeEventListener("hashchange",f)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(f){this.location.pathname=f}pushState(f,v,C){mR()?this._history.pushState(f,v,C):this.location.hash=C}replaceState(f,v,C){mR()?this._history.replaceState(f,v,C):this.location.hash=C}forward(){this._history.forward()}back(){this._history.back()}historyGo(f=0){this._history.go(f)}getState(){return this._history.state}}return c.\u0275fac=function(f){return new(f||c)(ot(No))},c.\u0275prov=Dt({token:c,factory:function(){return function CR(){return new yR(ot(No))}()},providedIn:"platform"}),c})();function mR(){return!!window.history.pushState}function sE(c,p){if(0==c.length)return p;if(0==p.length)return c;let f=0;return c.endsWith("/")&&f++,p.startsWith("/")&&f++,2==f?c+p.substring(1):1==f?c+p:c+"/"+p}function wR(c){const p=c.match(/#|\?|$/),f=p&&p.index||c.length;return c.slice(0,f-("/"===c[f-1]?1:0))+c.slice(f)}function Al(c){return c&&"?"!==c[0]?"?"+c:c}let jd=(()=>{class c{historyGo(f){throw new Error("Not implemented")}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:function(){return function sT(c){const p=ot(No).location;return new _R(ot(Wd),p&&p.origin||"")}()},providedIn:"root"}),c})();const Fi=new St("appBaseHref");let _R=(()=>{class c extends jd{constructor(f,v){if(super(),this._platformLocation=f,this._removeListenerFns=[],null==v&&(v=this._platformLocation.getBaseHrefFromDOM()),null==v)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=v}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(f){this._removeListenerFns.push(this._platformLocation.onPopState(f),this._platformLocation.onHashChange(f))}getBaseHref(){return this._baseHref}prepareExternalUrl(f){return sE(this._baseHref,f)}path(f=!1){const v=this._platformLocation.pathname+Al(this._platformLocation.search),C=this._platformLocation.hash;return C&&f?`${v}${C}`:v}pushState(f,v,C,S){const O=this.prepareExternalUrl(C+Al(S));this._platformLocation.pushState(f,v,O)}replaceState(f,v,C,S){const O=this.prepareExternalUrl(C+Al(S));this._platformLocation.replaceState(f,v,O)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(f=0){var v,C;null===(C=(v=this._platformLocation).historyGo)||void 0===C||C.call(v,f)}}return c.\u0275fac=function(f){return new(f||c)(ot(Wd),ot(Fi,8))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),SR=(()=>{class c extends jd{constructor(f,v){super(),this._platformLocation=f,this._baseHref="",this._removeListenerFns=[],null!=v&&(this._baseHref=v)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(f){this._removeListenerFns.push(this._platformLocation.onPopState(f),this._platformLocation.onHashChange(f))}getBaseHref(){return this._baseHref}path(f=!1){let v=this._platformLocation.hash;return null==v&&(v="#"),v.length>0?v.substring(1):v}prepareExternalUrl(f){const v=sE(this._baseHref,f);return v.length>0?"#"+v:v}pushState(f,v,C,S){let O=this.prepareExternalUrl(C+Al(S));0==O.length&&(O=this._platformLocation.pathname),this._platformLocation.pushState(f,v,O)}replaceState(f,v,C,S){let O=this.prepareExternalUrl(C+Al(S));0==O.length&&(O=this._platformLocation.pathname),this._platformLocation.replaceState(f,v,O)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(f=0){var v,C;null===(C=(v=this._platformLocation).historyGo)||void 0===C||C.call(v,f)}}return c.\u0275fac=function(f){return new(f||c)(ot(Wd),ot(Fi,8))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),lE=(()=>{class c{constructor(f,v){this._subject=new Ce,this._urlChangeListeners=[],this._platformStrategy=f;const C=this._platformStrategy.getBaseHref();this._platformLocation=v,this._baseHref=wR(bR(C)),this._platformStrategy.onPopState(S=>{this._subject.emit({url:this.path(!0),pop:!0,state:S.state,type:S.type})})}path(f=!1){return this.normalize(this._platformStrategy.path(f))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(f,v=""){return this.path()==this.normalize(f+Al(v))}normalize(f){return c.stripTrailingSlash(function lT(c,p){return c&&p.startsWith(c)?p.substring(c.length):p}(this._baseHref,bR(f)))}prepareExternalUrl(f){return f&&"/"!==f[0]&&(f="/"+f),this._platformStrategy.prepareExternalUrl(f)}go(f,v="",C=null){this._platformStrategy.pushState(C,"",f,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(f+Al(v)),C)}replaceState(f,v="",C=null){this._platformStrategy.replaceState(C,"",f,v),this._notifyUrlChangeListeners(this.prepareExternalUrl(f+Al(v)),C)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(f=0){var v,C;null===(C=(v=this._platformStrategy).historyGo)||void 0===C||C.call(v,f)}onUrlChange(f){this._urlChangeListeners.push(f),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(v=>{this._notifyUrlChangeListeners(v.url,v.state)}))}_notifyUrlChangeListeners(f="",v){this._urlChangeListeners.forEach(C=>C(f,v))}subscribe(f,v,C){return this._subject.subscribe({next:f,error:v,complete:C})}}return c.normalizeQueryParams=Al,c.joinWithSlash=sE,c.stripTrailingSlash=wR,c.\u0275fac=function(f){return new(f||c)(ot(jd),ot(Wd))},c.\u0275prov=Dt({token:c,factory:function(){return function Ud(){return new lE(ot(jd),ot(Wd))}()},providedIn:"root"}),c})();function bR(c){return c.replace(/\/index.html$/,"")}function C_(c,p){p=encodeURIComponent(p);for(const f of c.split(";")){const v=f.indexOf("="),[C,S]=-1==v?[f,""]:[f.slice(0,v),f.slice(v+1)];if(C.trim()===p)return decodeURIComponent(S)}return null}let UM=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({}),c})();let YM=(()=>{class c{}return c.\u0275prov=Dt({token:c,providedIn:"root",factory:()=>new qM(ot(No),window)}),c})();class qM{constructor(p,f){this.document=p,this.window=f,this.offset=()=>[0,0]}setOffset(p){this.offset=Array.isArray(p)?()=>p:p}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(p){this.supportsScrolling()&&this.window.scrollTo(p[0],p[1])}scrollToAnchor(p){if(!this.supportsScrolling())return;const f=function XM(c,p){const f=c.getElementById(p)||c.getElementsByName(p)[0];if(f)return f;if("function"==typeof c.createTreeWalker&&c.body&&(c.body.createShadowRoot||c.body.attachShadow)){const v=c.createTreeWalker(c.body,NodeFilter.SHOW_ELEMENT);let C=v.currentNode;for(;C;){const S=C.shadowRoot;if(S){const O=S.getElementById(p)||S.querySelector(`[name="${p}"]`);if(O)return O}C=v.nextNode()}}return null}(this.document,p);f&&(this.scrollToElement(f),f.focus())}setHistoryScrollRestoration(p){if(this.supportScrollRestoration()){const f=this.window.history;f&&f.scrollRestoration&&(f.scrollRestoration=p)}}scrollToElement(p){const f=p.getBoundingClientRect(),v=f.left+this.window.pageXOffset,C=f.top+this.window.pageYOffset,S=this.offset();this.window.scrollTo(v-S[0],C-S[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const p=$A(this.window.history)||$A(Object.getPrototypeOf(this.window.history));return!(!p||!p.writable&&!p.set)}catch(p){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(p){return!1}}}function $A(c){return Object.getOwnPropertyDescriptor(c,"scrollRestoration")}class KA{}class pT extends class QM extends class oT{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Ay(c){v_||(v_=c)}(new pT)}onAndCancel(p,f,v){return p.addEventListener(f,v,!1),()=>{p.removeEventListener(f,v,!1)}}dispatchEvent(p,f){p.dispatchEvent(f)}remove(p){p.parentNode&&p.parentNode.removeChild(p)}createElement(p,f){return(f=f||this.getDefaultDocument()).createElement(p)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(p){return p.nodeType===Node.ELEMENT_NODE}isShadowRoot(p){return p instanceof DocumentFragment}getGlobalEventTarget(p,f){return"window"===f?window:"document"===f?p:"body"===f?p.body:null}getBaseHref(p){const f=function ZM(){return DE=DE||document.querySelector("base"),DE?DE.getAttribute("href"):null}();return null==f?null:function JM(c){PR=PR||document.createElement("a"),PR.setAttribute("href",c);const p=PR.pathname;return"/"===p.charAt(0)?p:`/${p}`}(f)}resetBaseElement(){DE=null}getUserAgent(){return window.navigator.userAgent}getCookie(p){return C_(document.cookie,p)}}let PR,DE=null;const YA=new St("TRANSITION_ID"),tF=[{provide:Dy,useFactory:function eF(c,p,f){return()=>{f.get(Yb).donePromise.then(()=>{const v=tp(),C=p.querySelectorAll(`style[ng-transition="${c}"]`);for(let S=0;S<C.length;S++)v.remove(C[S])})}},deps:[YA,No,oi],multi:!0}];class dT{static init(){!function HP(c){Jb=c}(new dT)}addToWindow(p){ur.getAngularTestability=(v,C=!0)=>{const S=p.findTestabilityInTree(v,C);if(null==S)throw new Error("Could not find testability for element.");return S},ur.getAllAngularTestabilities=()=>p.getAllTestabilities(),ur.getAllAngularRootElements=()=>p.getAllRootElements(),ur.frameworkStabilizers||(ur.frameworkStabilizers=[]),ur.frameworkStabilizers.push(v=>{const C=ur.getAllAngularTestabilities();let S=C.length,O=!1;const D=function(M){O=O||M,S--,0==S&&v(O)};C.forEach(function(M){M.whenStable(D)})})}findTestabilityInTree(p,f,v){if(null==f)return null;const C=p.getTestability(f);return null!=C?C:v?tp().isShadowRoot(f)?this.findTestabilityInTree(p,f.host,!0):this.findTestabilityInTree(p,f.parentElement,!0):null}}let rF=(()=>{class c{build(){return new XMLHttpRequest}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();const TR=new St("EventManagerPlugins");let AR=(()=>{class c{constructor(f,v){this._zone=v,this._eventNameToPlugin=new Map,f.forEach(C=>C.manager=this),this._plugins=f.slice().reverse()}addEventListener(f,v,C){return this._findPluginFor(v).addEventListener(f,v,C)}addGlobalEventListener(f,v,C){return this._findPluginFor(v).addGlobalEventListener(f,v,C)}getZone(){return this._zone}_findPluginFor(f){const v=this._eventNameToPlugin.get(f);if(v)return v;const C=this._plugins;for(let S=0;S<C.length;S++){const O=C[S];if(O.supports(f))return this._eventNameToPlugin.set(f,O),O}throw new Error(`No event manager plugin found for event ${f}`)}}return c.\u0275fac=function(f){return new(f||c)(ot(TR),ot(Cn))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();class qA{constructor(p){this._doc=p}addGlobalEventListener(p,f,v){const C=tp().getGlobalEventTarget(this._doc,p);if(!C)throw new Error(`Unsupported event target ${C} for event ${f}`);return this.addEventListener(C,f,v)}}let XA=(()=>{class c{constructor(){this._stylesSet=new Set}addStyles(f){const v=new Set;f.forEach(C=>{this._stylesSet.has(C)||(this._stylesSet.add(C),v.add(C))}),this.onStylesAdded(v)}onStylesAdded(f){}getAllStyles(){return Array.from(this._stylesSet)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),PE=(()=>{class c extends XA{constructor(f){super(),this._doc=f,this._hostNodes=new Map,this._hostNodes.set(f.head,[])}_addStylesToHost(f,v,C){f.forEach(S=>{const O=this._doc.createElement("style");O.textContent=S,C.push(v.appendChild(O))})}addHost(f){const v=[];this._addStylesToHost(this._stylesSet,f,v),this._hostNodes.set(f,v)}removeHost(f){const v=this._hostNodes.get(f);v&&v.forEach(QA),this._hostNodes.delete(f)}onStylesAdded(f){this._hostNodes.forEach((v,C)=>{this._addStylesToHost(f,C,v)})}ngOnDestroy(){this._hostNodes.forEach(f=>f.forEach(QA))}}return c.\u0275fac=function(f){return new(f||c)(ot(No))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();function QA(c){tp().remove(c)}const hT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fT=/%COMP%/g;function xR(c,p,f){for(let v=0;v<p.length;v++){let C=p[v];Array.isArray(C)?xR(c,C,f):(C=C.replace(fT,c),f.push(C))}return f}function ex(c){return p=>{if("__ngUnwrap__"===p)return c;!1===c(p)&&(p.preventDefault(),p.returnValue=!1)}}let gT=(()=>{class c{constructor(f,v,C){this.eventManager=f,this.sharedStylesHost=v,this.appId=C,this.rendererByCompId=new Map,this.defaultRenderer=new vT(f)}createRenderer(f,v){if(!f||!v)return this.defaultRenderer;switch(v.encapsulation){case ki.Emulated:{let C=this.rendererByCompId.get(v.id);return C||(C=new lF(this.eventManager,this.sharedStylesHost,v,this.appId),this.rendererByCompId.set(v.id,C)),C.applyToHost(f),C}case 1:case ki.ShadowDom:return new uF(this.eventManager,this.sharedStylesHost,f,v);default:if(!this.rendererByCompId.has(v.id)){const C=xR(v.id,v.styles,[]);this.sharedStylesHost.addStyles(C),this.rendererByCompId.set(v.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return c.\u0275fac=function(f){return new(f||c)(ot(AR),ot(PE),ot(Py))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();class vT{constructor(p){this.eventManager=p,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(p,f){return f?document.createElementNS(hT[f]||f,p):document.createElement(p)}createComment(p){return document.createComment(p)}createText(p){return document.createTextNode(p)}appendChild(p,f){p.appendChild(f)}insertBefore(p,f,v){p&&p.insertBefore(f,v)}removeChild(p,f){p&&p.removeChild(f)}selectRootElement(p,f){let v="string"==typeof p?document.querySelector(p):p;if(!v)throw new Error(`The selector "${p}" did not match any elements`);return f||(v.textContent=""),v}parentNode(p){return p.parentNode}nextSibling(p){return p.nextSibling}setAttribute(p,f,v,C){if(C){f=C+":"+f;const S=hT[C];S?p.setAttributeNS(S,f,v):p.setAttribute(f,v)}else p.setAttribute(f,v)}removeAttribute(p,f,v){if(v){const C=hT[v];C?p.removeAttributeNS(C,f):p.removeAttribute(`${v}:${f}`)}else p.removeAttribute(f)}addClass(p,f){p.classList.add(f)}removeClass(p,f){p.classList.remove(f)}setStyle(p,f,v,C){C&(Yi.DashCase|Yi.Important)?p.style.setProperty(f,v,C&Yi.Important?"important":""):p.style[f]=v}removeStyle(p,f,v){v&Yi.DashCase?p.style.removeProperty(f):p.style[f]=""}setProperty(p,f,v){p[f]=v}setValue(p,f){p.nodeValue=f}listen(p,f,v){return"string"==typeof p?this.eventManager.addGlobalEventListener(p,f,ex(v)):this.eventManager.addEventListener(p,f,ex(v))}}class lF extends vT{constructor(p,f,v,C){super(p),this.component=v;const S=xR(C+"-"+v.id,v.styles,[]);f.addStyles(S),this.contentAttr=function oF(c){return"_ngcontent-%COMP%".replace(fT,c)}(C+"-"+v.id),this.hostAttr=function aF(c){return"_nghost-%COMP%".replace(fT,c)}(C+"-"+v.id)}applyToHost(p){super.setAttribute(p,this.hostAttr,"")}createElement(p,f){const v=super.createElement(p,f);return super.setAttribute(v,this.contentAttr,""),v}}class uF extends vT{constructor(p,f,v,C){super(p),this.sharedStylesHost=f,this.hostEl=v,this.shadowRoot=v.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const S=xR(C.id,C.styles,[]);for(let O=0;O<S.length;O++){const D=document.createElement("style");D.textContent=S[O],this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(p){return p===this.hostEl?this.shadowRoot:p}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(p,f){return super.appendChild(this.nodeOrShadowRoot(p),f)}insertBefore(p,f,v){return super.insertBefore(this.nodeOrShadowRoot(p),f,v)}removeChild(p,f){return super.removeChild(this.nodeOrShadowRoot(p),f)}parentNode(p){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(p)))}}let cF=(()=>{class c extends qA{constructor(f){super(f)}supports(f){return!0}addEventListener(f,v,C){return f.addEventListener(v,C,!1),()=>this.removeEventListener(f,v,C)}removeEventListener(f,v,C){return f.removeEventListener(v,C)}}return c.\u0275fac=function(f){return new(f||c)(ot(No))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();const rx=["alt","control","meta","shift"],dF={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nx={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},hF={alt:c=>c.altKey,control:c=>c.ctrlKey,meta:c=>c.metaKey,shift:c=>c.shiftKey};let fF=(()=>{class c extends qA{constructor(f){super(f)}supports(f){return null!=c.parseEventName(f)}addEventListener(f,v,C){const S=c.parseEventName(v),O=c.eventCallback(S.fullKey,C,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tp().onAndCancel(f,S.domEventName,O))}static parseEventName(f){const v=f.toLowerCase().split("."),C=v.shift();if(0===v.length||"keydown"!==C&&"keyup"!==C)return null;const S=c._normalizeKey(v.pop());let O="";if(rx.forEach(M=>{const L=v.indexOf(M);L>-1&&(v.splice(L,1),O+=M+".")}),O+=S,0!=v.length||0===S.length)return null;const D={};return D.domEventName=C,D.fullKey=O,D}static getEventFullKey(f){let v="",C=function gF(c){let p=c.key;if(null==p){if(p=c.keyIdentifier,null==p)return"Unidentified";p.startsWith("U+")&&(p=String.fromCharCode(parseInt(p.substring(2),16)),3===c.location&&nx.hasOwnProperty(p)&&(p=nx[p]))}return dF[p]||p}(f);return C=C.toLowerCase()," "===C?C="space":"."===C&&(C="dot"),rx.forEach(S=>{S!=C&&hF[S](f)&&(v+=S+".")}),v+=C,v}static eventCallback(f,v,C){return S=>{c.getEventFullKey(S)===f&&C.runGuarded(()=>v(S))}}static _normalizeKey(f){return"esc"===f?"escape":f}}return c.\u0275fac=function(f){return new(f||c)(ot(No))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();const CF=rR(g_,"browser",[{provide:Zc,useValue:"browser"},{provide:K0,useValue:function vF(){pT.makeCurrent(),dT.init()},multi:!0},{provide:No,useFactory:function mF(){return function fo(c){wh=c}(document),document},deps:[]}]),wF=[{provide:Av,useValue:"root"},{provide:Kp,useFactory:function yF(){return new Kp},deps:[]},{provide:TR,useClass:cF,multi:!0,deps:[No,Cn,Zc]},{provide:TR,useClass:fF,multi:!0,deps:[No]},{provide:gT,useClass:gT,deps:[AR,PE,Py]},{provide:Kc,useExisting:gT},{provide:XA,useExisting:PE},{provide:PE,useClass:PE,deps:[No]},{provide:Is,useClass:Is,deps:[Cn]},{provide:AR,useClass:AR,deps:[TR,Cn]},{provide:KA,useClass:rF,deps:[]}];let _F=(()=>{class c{constructor(f){if(f)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(f){return{ngModule:c,providers:[{provide:Py,useValue:f.appId},{provide:YA,useExisting:Py},tF]}}}return c.\u0275fac=function(f){return new(f||c)(ot(c,12))},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({providers:wF,imports:[UM,rT]}),c})();function Nt(...c){return Xr(c,ku(c))}function b_(c,p){return re(p)?vn(c,p,1):vn(c,1)}function By(c,p){return Hr((f,v)=>{let C=0;f.subscribe(qr(v,S=>c.call(p,S,C++)&&v.next(S)))})}"undefined"!=typeof window&&window;class ax{}class sx{}class Kd{constructor(p){this.normalizedNames=new Map,this.lazyUpdate=null,p?this.lazyInit="string"==typeof p?()=>{this.headers=new Map,p.split("\n").forEach(f=>{const v=f.indexOf(":");if(v>0){const C=f.slice(0,v),S=C.toLowerCase(),O=f.slice(v+1).trim();this.maybeSetNormalizedName(C,S),this.headers.has(S)?this.headers.get(S).push(O):this.headers.set(S,[O])}})}:()=>{this.headers=new Map,Object.keys(p).forEach(f=>{let v=p[f];const C=f.toLowerCase();"string"==typeof v&&(v=[v]),v.length>0&&(this.headers.set(C,v),this.maybeSetNormalizedName(f,C))})}:this.headers=new Map}has(p){return this.init(),this.headers.has(p.toLowerCase())}get(p){this.init();const f=this.headers.get(p.toLowerCase());return f&&f.length>0?f[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(p){return this.init(),this.headers.get(p.toLowerCase())||null}append(p,f){return this.clone({name:p,value:f,op:"a"})}set(p,f){return this.clone({name:p,value:f,op:"s"})}delete(p,f){return this.clone({name:p,value:f,op:"d"})}maybeSetNormalizedName(p,f){this.normalizedNames.has(f)||this.normalizedNames.set(f,p)}init(){this.lazyInit&&(this.lazyInit instanceof Kd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(p=>this.applyUpdate(p)),this.lazyUpdate=null))}copyFrom(p){p.init(),Array.from(p.headers.keys()).forEach(f=>{this.headers.set(f,p.headers.get(f)),this.normalizedNames.set(f,p.normalizedNames.get(f))})}clone(p){const f=new Kd;return f.lazyInit=this.lazyInit&&this.lazyInit instanceof Kd?this.lazyInit:this,f.lazyUpdate=(this.lazyUpdate||[]).concat([p]),f}applyUpdate(p){const f=p.name.toLowerCase();switch(p.op){case"a":case"s":let v=p.value;if("string"==typeof v&&(v=[v]),0===v.length)return;this.maybeSetNormalizedName(p.name,f);const C=("a"===p.op?this.headers.get(f):void 0)||[];C.push(...v),this.headers.set(f,C);break;case"d":const S=p.value;if(S){let O=this.headers.get(f);if(!O)return;O=O.filter(D=>-1===S.indexOf(D)),0===O.length?(this.headers.delete(f),this.normalizedNames.delete(f)):this.headers.set(f,O)}else this.headers.delete(f),this.normalizedNames.delete(f)}}forEach(p){this.init(),Array.from(this.normalizedNames.keys()).forEach(f=>p(this.normalizedNames.get(f),this.headers.get(f)))}}class MF{encodeKey(p){return lx(p)}encodeValue(p){return lx(p)}decodeKey(p){return decodeURIComponent(p)}decodeValue(p){return decodeURIComponent(p)}}const IF=/%(\d[a-f0-9])/gi,NF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function lx(c){return encodeURIComponent(c).replace(IF,(p,f)=>{var v;return null!==(v=NF[f])&&void 0!==v?v:p})}function ux(c){return`${c}`}class zf{constructor(p={}){if(this.updates=null,this.cloneFrom=null,this.encoder=p.encoder||new MF,p.fromString){if(p.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FF(c,p){const f=new Map;return c.length>0&&c.replace(/^\?/,"").split("&").forEach(C=>{const S=C.indexOf("="),[O,D]=-1==S?[p.decodeKey(C),""]:[p.decodeKey(C.slice(0,S)),p.decodeValue(C.slice(S+1))],M=f.get(O)||[];M.push(D),f.set(O,M)}),f}(p.fromString,this.encoder)}else p.fromObject?(this.map=new Map,Object.keys(p.fromObject).forEach(f=>{const v=p.fromObject[f];this.map.set(f,Array.isArray(v)?v:[v])})):this.map=null}has(p){return this.init(),this.map.has(p)}get(p){this.init();const f=this.map.get(p);return f?f[0]:null}getAll(p){return this.init(),this.map.get(p)||null}keys(){return this.init(),Array.from(this.map.keys())}append(p,f){return this.clone({param:p,value:f,op:"a"})}appendAll(p){const f=[];return Object.keys(p).forEach(v=>{const C=p[v];Array.isArray(C)?C.forEach(S=>{f.push({param:v,value:S,op:"a"})}):f.push({param:v,value:C,op:"a"})}),this.clone(f)}set(p,f){return this.clone({param:p,value:f,op:"s"})}delete(p,f){return this.clone({param:p,value:f,op:"d"})}toString(){return this.init(),this.keys().map(p=>{const f=this.encoder.encodeKey(p);return this.map.get(p).map(v=>f+"="+this.encoder.encodeValue(v)).join("&")}).filter(p=>""!==p).join("&")}clone(p){const f=new zf({encoder:this.encoder});return f.cloneFrom=this.cloneFrom||this,f.updates=(this.updates||[]).concat(p),f}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(p=>this.map.set(p,this.cloneFrom.map.get(p))),this.updates.forEach(p=>{switch(p.op){case"a":case"s":const f=("a"===p.op?this.map.get(p.param):void 0)||[];f.push(ux(p.value)),this.map.set(p.param,f);break;case"d":if(void 0===p.value){this.map.delete(p.param);break}{let v=this.map.get(p.param)||[];const C=v.indexOf(ux(p.value));-1!==C&&v.splice(C,1),v.length>0?this.map.set(p.param,v):this.map.delete(p.param)}}}),this.cloneFrom=this.updates=null)}}class LF{constructor(){this.map=new Map}set(p,f){return this.map.set(p,f),this}get(p){return this.map.has(p)||this.map.set(p,p.defaultValue()),this.map.get(p)}delete(p){return this.map.delete(p),this}has(p){return this.map.has(p)}keys(){return this.map.keys()}}function cx(c){return"undefined"!=typeof ArrayBuffer&&c instanceof ArrayBuffer}function px(c){return"undefined"!=typeof Blob&&c instanceof Blob}function dx(c){return"undefined"!=typeof FormData&&c instanceof FormData}class TE{constructor(p,f,v,C){let S;if(this.url=f,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=p.toUpperCase(),function GF(c){switch(c){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||C?(this.body=void 0!==v?v:null,S=C):S=v,S&&(this.reportProgress=!!S.reportProgress,this.withCredentials=!!S.withCredentials,S.responseType&&(this.responseType=S.responseType),S.headers&&(this.headers=S.headers),S.context&&(this.context=S.context),S.params&&(this.params=S.params)),this.headers||(this.headers=new Kd),this.context||(this.context=new LF),this.params){const O=this.params.toString();if(0===O.length)this.urlWithParams=f;else{const D=f.indexOf("?");this.urlWithParams=f+(-1===D?"?":D<f.length-1?"&":"")+O}}else this.params=new zf,this.urlWithParams=f}serializeBody(){return null===this.body?null:cx(this.body)||px(this.body)||dx(this.body)||function kF(c){return"undefined"!=typeof URLSearchParams&&c instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||dx(this.body)?null:px(this.body)?this.body.type||null:cx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(p={}){var f;const v=p.method||this.method,C=p.url||this.url,S=p.responseType||this.responseType,O=void 0!==p.body?p.body:this.body,D=void 0!==p.withCredentials?p.withCredentials:this.withCredentials,M=void 0!==p.reportProgress?p.reportProgress:this.reportProgress;let L=p.headers||this.headers,V=p.params||this.params;const X=null!==(f=p.context)&&void 0!==f?f:this.context;return void 0!==p.setHeaders&&(L=Object.keys(p.setHeaders).reduce((te,oe)=>te.set(oe,p.setHeaders[oe]),L)),p.setParams&&(V=Object.keys(p.setParams).reduce((te,oe)=>te.set(oe,p.setParams[oe]),V)),new TE(v,C,O,{params:V,headers:L,context:X,reportProgress:M,responseType:S,withCredentials:D})}}var Un=(()=>((Un=Un||{})[Un.Sent=0]="Sent",Un[Un.UploadProgress=1]="UploadProgress",Un[Un.ResponseHeader=2]="ResponseHeader",Un[Un.DownloadProgress=3]="DownloadProgress",Un[Un.Response=4]="Response",Un[Un.User=5]="User",Un))();class mT{constructor(p,f=200,v="OK"){this.headers=p.headers||new Kd,this.status=void 0!==p.status?p.status:f,this.statusText=p.statusText||v,this.url=p.url||null,this.ok=this.status>=200&&this.status<300}}class CT extends mT{constructor(p={}){super(p),this.type=Un.ResponseHeader}clone(p={}){return new CT({headers:p.headers||this.headers,status:void 0!==p.status?p.status:this.status,statusText:p.statusText||this.statusText,url:p.url||this.url||void 0})}}class MR extends mT{constructor(p={}){super(p),this.type=Un.Response,this.body=void 0!==p.body?p.body:null}clone(p={}){return new MR({body:void 0!==p.body?p.body:this.body,headers:p.headers||this.headers,status:void 0!==p.status?p.status:this.status,statusText:p.statusText||this.statusText,url:p.url||this.url||void 0})}}class hx extends mT{constructor(p){super(p,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${p.url||"(unknown url)"}`:`Http failure response for ${p.url||"(unknown url)"}: ${p.status} ${p.statusText}`,this.error=p.error||null}}function wT(c,p){return{body:p,headers:c.headers,context:c.context,observe:c.observe,params:c.params,reportProgress:c.reportProgress,responseType:c.responseType,withCredentials:c.withCredentials}}let fx=(()=>{class c{constructor(f){this.handler=f}request(f,v,C={}){let S;if(f instanceof TE)S=f;else{let M,L;M=C.headers instanceof Kd?C.headers:new Kd(C.headers),C.params&&(L=C.params instanceof zf?C.params:new zf({fromObject:C.params})),S=new TE(f,v,void 0!==C.body?C.body:null,{headers:M,context:C.context,params:L,reportProgress:C.reportProgress,responseType:C.responseType||"json",withCredentials:C.withCredentials})}const O=Nt(S).pipe(b_(M=>this.handler.handle(M)));if(f instanceof TE||"events"===C.observe)return O;const D=O.pipe(By(M=>M instanceof MR));switch(C.observe||"body"){case"body":switch(S.responseType){case"arraybuffer":return D.pipe(Gt(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return D.pipe(Gt(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return D.pipe(Gt(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));default:return D.pipe(Gt(M=>M.body))}case"response":return D;default:throw new Error(`Unreachable: unhandled observe type ${C.observe}}`)}}delete(f,v={}){return this.request("DELETE",f,v)}get(f,v={}){return this.request("GET",f,v)}head(f,v={}){return this.request("HEAD",f,v)}jsonp(f,v){return this.request("JSONP",f,{params:(new zf).append(v,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(f,v={}){return this.request("OPTIONS",f,v)}patch(f,v,C={}){return this.request("PATCH",f,wT(C,v))}post(f,v,C={}){return this.request("POST",f,wT(C,v))}put(f,v,C={}){return this.request("PUT",f,wT(C,v))}}return c.\u0275fac=function(f){return new(f||c)(ot(ax))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();class gx{constructor(p,f){this.next=p,this.interceptor=f}handle(p){return this.interceptor.intercept(p,this.next)}}const vx=new St("HTTP_INTERCEPTORS");let VF=(()=>{class c{intercept(f,v){return v.handle(f)}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();const BF=/^\)\]\}',?\n/;let yx=(()=>{class c{constructor(f){this.xhrFactory=f}handle(f){if("JSONP"===f.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Cr(v=>{const C=this.xhrFactory.build();if(C.open(f.method,f.urlWithParams),f.withCredentials&&(C.withCredentials=!0),f.headers.forEach((oe,ve)=>C.setRequestHeader(oe,ve.join(","))),f.headers.has("Accept")||C.setRequestHeader("Accept","application/json, text/plain, */*"),!f.headers.has("Content-Type")){const oe=f.detectContentTypeHeader();null!==oe&&C.setRequestHeader("Content-Type",oe)}if(f.responseType){const oe=f.responseType.toLowerCase();C.responseType="json"!==oe?oe:"text"}const S=f.serializeBody();let O=null;const D=()=>{if(null!==O)return O;const oe=C.statusText||"OK",ve=new Kd(C.getAllResponseHeaders()),Me=function HF(c){return"responseURL"in c&&c.responseURL?c.responseURL:/^X-Request-URL:/m.test(c.getAllResponseHeaders())?c.getResponseHeader("X-Request-URL"):null}(C)||f.url;return O=new CT({headers:ve,status:C.status,statusText:oe,url:Me}),O},M=()=>{let{headers:oe,status:ve,statusText:Me,url:je}=D(),He=null;204!==ve&&(He=void 0===C.response?C.responseText:C.response),0===ve&&(ve=He?200:0);let Te=ve>=200&&ve<300;if("json"===f.responseType&&"string"==typeof He){const ut=He;He=He.replace(BF,"");try{He=""!==He?JSON.parse(He):null}catch(Ft){He=ut,Te&&(Te=!1,He={error:Ft,text:He})}}Te?(v.next(new MR({body:He,headers:oe,status:ve,statusText:Me,url:je||void 0})),v.complete()):v.error(new hx({error:He,headers:oe,status:ve,statusText:Me,url:je||void 0}))},L=oe=>{const{url:ve}=D(),Me=new hx({error:oe,status:C.status||0,statusText:C.statusText||"Unknown Error",url:ve||void 0});v.error(Me)};let V=!1;const X=oe=>{V||(v.next(D()),V=!0);let ve={type:Un.DownloadProgress,loaded:oe.loaded};oe.lengthComputable&&(ve.total=oe.total),"text"===f.responseType&&!!C.responseText&&(ve.partialText=C.responseText),v.next(ve)},te=oe=>{let ve={type:Un.UploadProgress,loaded:oe.loaded};oe.lengthComputable&&(ve.total=oe.total),v.next(ve)};return C.addEventListener("load",M),C.addEventListener("error",L),C.addEventListener("timeout",L),C.addEventListener("abort",L),f.reportProgress&&(C.addEventListener("progress",X),null!==S&&C.upload&&C.upload.addEventListener("progress",te)),C.send(S),v.next({type:Un.Sent}),()=>{C.removeEventListener("error",L),C.removeEventListener("abort",L),C.removeEventListener("load",M),C.removeEventListener("timeout",L),f.reportProgress&&(C.removeEventListener("progress",X),null!==S&&C.upload&&C.upload.removeEventListener("progress",te)),C.readyState!==C.DONE&&C.abort()}})}}return c.\u0275fac=function(f){return new(f||c)(ot(KA))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();const _T=new St("XSRF_COOKIE_NAME"),ST=new St("XSRF_HEADER_NAME");class mx{}let WF=(()=>{class c{constructor(f,v,C){this.doc=f,this.platform=v,this.cookieName=C,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const f=this.doc.cookie||"";return f!==this.lastCookieString&&(this.parseCount++,this.lastToken=C_(f,this.cookieName),this.lastCookieString=f),this.lastToken}}return c.\u0275fac=function(f){return new(f||c)(ot(No),ot(Zc),ot(_T))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),bT=(()=>{class c{constructor(f,v){this.tokenService=f,this.headerName=v}intercept(f,v){const C=f.url.toLowerCase();if("GET"===f.method||"HEAD"===f.method||C.startsWith("http://")||C.startsWith("https://"))return v.handle(f);const S=this.tokenService.getToken();return null!==S&&!f.headers.has(this.headerName)&&(f=f.clone({headers:f.headers.set(this.headerName,S)})),v.handle(f)}}return c.\u0275fac=function(f){return new(f||c)(ot(mx),ot(ST))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),jF=(()=>{class c{constructor(f,v){this.backend=f,this.injector=v,this.chain=null}handle(f){if(null===this.chain){const v=this.injector.get(vx,[]);this.chain=v.reduceRight((C,S)=>new gx(C,S),this.backend)}return this.chain.handle(f)}}return c.\u0275fac=function(f){return new(f||c)(ot(sx),ot(oi))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),UF=(()=>{class c{static disable(){return{ngModule:c,providers:[{provide:bT,useClass:VF}]}}static withOptions(f={}){return{ngModule:c,providers:[f.cookieName?{provide:_T,useValue:f.cookieName}:[],f.headerName?{provide:ST,useValue:f.headerName}:[]]}}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({providers:[bT,{provide:vx,useExisting:bT,multi:!0},{provide:mx,useClass:WF},{provide:_T,useValue:"XSRF-TOKEN"},{provide:ST,useValue:"X-XSRF-TOKEN"}]}),c})(),zF=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({providers:[fx,{provide:ax,useClass:jF},yx,{provide:sx,useExisting:yx}],imports:[[UF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),c})();class Fu extends Za{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const f=super._subscribe(p);return!f.closed&&p.next(this._value),f}getValue(){const{hasError:p,thrownError:f,_value:v}=this;if(p)throw f;return this._throwIfClosed(),v}next(p){super.next(this._value=p)}}const{isArray:$F}=Array,{getPrototypeOf:KF,prototype:YF,keys:qF}=Object;const{isArray:ZF}=Array;function rI(...c){const p=ku(c),f=function sp(c){return re(ap(c))?c.pop():void 0}(c),{args:v,keys:C}=function XF(c){if(1===c.length){const p=c[0];if($F(p))return{args:p,keys:null};if(function QF(c){return c&&"object"==typeof c&&KF(c)===YF}(p)){const f=qF(p);return{args:f.map(v=>p[v]),keys:f}}}return{args:c,keys:null}}(c);if(0===v.length)return Xr([],p);const S=new Cr(function nI(c,p,f=ca){return v=>{Cx(p,()=>{const{length:C}=c,S=new Array(C);let O=C,D=C;for(let M=0;M<C;M++)Cx(p,()=>{const L=Xr(c[M],p);let V=!1;L.subscribe(qr(v,X=>{S[M]=X,V||(V=!0,D--),D||v.next(f(S.slice()))},()=>{--O||v.complete()}))},v)},v)}}(v,p,C?O=>function tI(c,p){return c.reduce((f,v,C)=>(f[v]=p[C],f),{})}(C,O):ca));return f?S.pipe(function eI(c){return Gt(p=>function JF(c,p){return ZF(p)?c(...p):c(p)}(c,p))}(f)):S}function Cx(c,p,f){c?er(f,c,p):p()}function FR(c,p){const f=re(c)?c:()=>c,v=C=>C.error(f());return new Cr(p?C=>p.schedule(v,0,C):v)}const IR=b(c=>function(){c(this),this.name="EmptyError",this.message="no elements in sequence"});function ET(...c){return function iI(){return js(1)}()(Xr(c,ku(c)))}function wx(c){return new Cr(p=>{Vo(c()).subscribe(p)})}function _x(){return Hr((c,p)=>{let f=null;c._refCount++;const v=qr(p,void 0,void 0,void 0,()=>{if(!c||c._refCount<=0||0<--c._refCount)return void(f=null);const C=c._connection,S=f;f=null,C&&(!S||C===S)&&C.unsubscribe(),p.unsubscribe()});c.subscribe(v),v.closed||(f=c.connect())})}class oI extends Cr{constructor(p,f){super(),this.source=p,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,qf(p)&&(this.lift=p.lift)}_subscribe(p){return this.getSubject().subscribe(p)}getSubject(){const p=this._subject;return(!p||p.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:p}=this;this._subject=this._connection=null,null==p||p.unsubscribe()}connect(){let p=this._connection;if(!p){p=this._connection=new Pr;const f=this.getSubject();p.add(this.source.subscribe(qr(f,void 0,()=>{this._teardown(),f.complete()},v=>{this._teardown(),f.error(v)},()=>this._teardown()))),p.closed&&(this._connection=null,p=Pr.EMPTY)}return p}refCount(){return _x()(this)}}function Hy(c,p){return Hr((f,v)=>{let C=null,S=0,O=!1;const D=()=>O&&!C&&v.complete();f.subscribe(qr(v,M=>{null==C||C.unsubscribe();let L=0;const V=S++;Vo(c(M,V)).subscribe(C=qr(v,X=>v.next(p?p(M,X,V,L++):X),()=>{C=null,D()}))},()=>{O=!0,D()}))})}function sI(c,p,f,v,C){return(S,O)=>{let D=f,M=p,L=0;S.subscribe(qr(O,V=>{const X=L++;M=D?c(M,V,X):(D=!0,V),v&&O.next(M)},C&&(()=>{D&&O.next(M),O.complete()})))}}function Sx(c,p){return Hr(sI(c,p,arguments.length>=2,!0))}function $f(c){return Hr((p,f)=>{let S,v=null,C=!1;v=p.subscribe(qr(f,void 0,void 0,O=>{S=Vo(c(O,$f(c)(p))),v?(v.unsubscribe(),v=null,S.subscribe(f)):C=!0})),C&&(v.unsubscribe(),v=null,S.subscribe(f))})}function OT(c){return c<=0?()=>Bo:Hr((p,f)=>{let v=[];p.subscribe(qr(f,C=>{v.push(C),c<v.length&&v.shift()},()=>{for(const C of v)f.next(C);f.complete()},void 0,()=>{v=null}))})}function bx(c=lI){return Hr((p,f)=>{let v=!1;p.subscribe(qr(f,C=>{v=!0,f.next(C)},()=>v?f.complete():f.error(c())))})}function lI(){return new IR}function Ex(c){return Hr((p,f)=>{let v=!1;p.subscribe(qr(f,C=>{v=!0,f.next(C)},()=>{v||f.next(c),f.complete()}))})}function E_(c,p){const f=arguments.length>=2;return v=>v.pipe(c?By((C,S)=>c(C,S,v)):ca,ne(1),f?Ex(p):bx(()=>new IR))}function ks(c,p,f){const v=re(c)||p||f?{next:c,error:p,complete:f}:c;return v?Hr((C,S)=>{var O;null===(O=v.subscribe)||void 0===O||O.call(v);let D=!0;C.subscribe(qr(S,M=>{var L;null===(L=v.next)||void 0===L||L.call(v,M),S.next(M)},()=>{var M;D=!1,null===(M=v.complete)||void 0===M||M.call(v),S.complete()},M=>{var L;D=!1,null===(L=v.error)||void 0===L||L.call(v,M),S.error(M)},()=>{var M,L;D&&(null===(M=v.unsubscribe)||void 0===M||M.call(v)),null===(L=v.finalize)||void 0===L||L.call(v)}))}):ca}class Yd{constructor(p,f){this.id=p,this.url=f}}class RT extends Yd{constructor(p,f,v="imperative",C=null){super(p,f),this.navigationTrigger=v,this.restoredState=C}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class AE extends Yd{constructor(p,f,v){super(p,f),this.urlAfterRedirects=v}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ox extends Yd{constructor(p,f,v){super(p,f),this.reason=v}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pI extends Yd{constructor(p,f,v){super(p,f),this.error=v}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dI extends Yd{constructor(p,f,v,C){super(p,f),this.urlAfterRedirects=v,this.state=C}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hI extends Yd{constructor(p,f,v,C){super(p,f),this.urlAfterRedirects=v,this.state=C}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fI extends Yd{constructor(p,f,v,C,S){super(p,f),this.urlAfterRedirects=v,this.state=C,this.shouldActivate=S}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gI extends Yd{constructor(p,f,v,C){super(p,f),this.urlAfterRedirects=v,this.state=C}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vI extends Yd{constructor(p,f,v,C){super(p,f),this.urlAfterRedirects=v,this.state=C}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rx{constructor(p){this.route=p}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dx{constructor(p){this.route=p}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yI{constructor(p){this.snapshot=p}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mI{constructor(p){this.snapshot=p}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CI{constructor(p){this.snapshot=p}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wI{constructor(p){this.snapshot=p}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Px{constructor(p,f,v){this.routerEvent=p,this.position=f,this.anchor=v}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ut="primary";class _I{constructor(p){this.params=p||{}}has(p){return Object.prototype.hasOwnProperty.call(this.params,p)}get(p){if(this.has(p)){const f=this.params[p];return Array.isArray(f)?f[0]:f}return null}getAll(p){if(this.has(p)){const f=this.params[p];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function O_(c){return new _I(c)}const Tx="ngNavigationCancelingError";function DT(c){const p=Error("NavigationCancelingError: "+c);return p[Tx]=!0,p}function bI(c,p,f){const v=f.path.split("/");if(v.length>c.length||"full"===f.pathMatch&&(p.hasChildren()||v.length<c.length))return null;const C={};for(let S=0;S<v.length;S++){const O=v[S],D=c[S];if(O.startsWith(":"))C[O.substring(1)]=D;else if(O!==D.path)return null}return{consumed:c.slice(0,v.length),posParams:C}}function rp(c,p){const f=c?Object.keys(c):void 0,v=p?Object.keys(p):void 0;if(!f||!v||f.length!=v.length)return!1;let C;for(let S=0;S<f.length;S++)if(C=f[S],!Ax(c[C],p[C]))return!1;return!0}function Ax(c,p){if(Array.isArray(c)&&Array.isArray(p)){if(c.length!==p.length)return!1;const f=[...c].sort(),v=[...p].sort();return f.every((C,S)=>v[S]===C)}return c===p}function xx(c){return Array.prototype.concat.apply([],c)}function Mx(c){return c.length>0?c[c.length-1]:null}function uo(c,p){for(const f in c)c.hasOwnProperty(f)&&p(c[f],f)}function np(c){return Fw(c)?c:Gc(c)?Xr(Promise.resolve(c)):Nt(c)}const RI={exact:function Nx(c,p,f){if(!jy(c.segments,p.segments)||!NR(c.segments,p.segments,f)||c.numberOfChildren!==p.numberOfChildren)return!1;for(const v in p.children)if(!c.children[v]||!Nx(c.children[v],p.children[v],f))return!1;return!0},subset:Lx},Fx={exact:function DI(c,p){return rp(c,p)},subset:function PI(c,p){return Object.keys(p).length<=Object.keys(c).length&&Object.keys(p).every(f=>Ax(c[f],p[f]))},ignored:()=>!0};function Ix(c,p,f){return RI[f.paths](c.root,p.root,f.matrixParams)&&Fx[f.queryParams](c.queryParams,p.queryParams)&&!("exact"===f.fragment&&c.fragment!==p.fragment)}function Lx(c,p,f){return Gx(c,p,p.segments,f)}function Gx(c,p,f,v){if(c.segments.length>f.length){const C=c.segments.slice(0,f.length);return!(!jy(C,f)||p.hasChildren()||!NR(C,f,v))}if(c.segments.length===f.length){if(!jy(c.segments,f)||!NR(c.segments,f,v))return!1;for(const C in p.children)if(!c.children[C]||!Lx(c.children[C],p.children[C],v))return!1;return!0}{const C=f.slice(0,c.segments.length),S=f.slice(c.segments.length);return!!(jy(c.segments,C)&&NR(c.segments,C,v)&&c.children[Ut])&&Gx(c.children[Ut],p,S,v)}}function NR(c,p,f){return p.every((v,C)=>Fx[f](c[C].parameters,v.parameters))}class Wy{constructor(p,f,v){this.root=p,this.queryParams=f,this.fragment=v}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=O_(this.queryParams)),this._queryParamMap}toString(){return xI.serialize(this)}}class Yt{constructor(p,f){this.segments=p,this.children=f,this.parent=null,uo(f,(v,C)=>v.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return LR(this)}}class xE{constructor(p,f){this.path=p,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=O_(this.parameters)),this._parameterMap}toString(){return Wx(this)}}function jy(c,p){return c.length===p.length&&c.every((f,v)=>f.path===p[v].path)}class kx{}class Vx{parse(p){const f=new BI(p);return new Wy(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(p){const f=`/${ME(p.root,!0)}`,v=function II(c){const p=Object.keys(c).map(f=>{const v=c[f];return Array.isArray(v)?v.map(C=>`${GR(f)}=${GR(C)}`).join("&"):`${GR(f)}=${GR(v)}`}).filter(f=>!!f);return p.length?`?${p.join("&")}`:""}(p.queryParams);return`${f}${v}${"string"==typeof p.fragment?`#${function MI(c){return encodeURI(c)}(p.fragment)}`:""}`}}const xI=new Vx;function LR(c){return c.segments.map(p=>Wx(p)).join("/")}function ME(c,p){if(!c.hasChildren())return LR(c);if(p){const f=c.children[Ut]?ME(c.children[Ut],!1):"",v=[];return uo(c.children,(C,S)=>{S!==Ut&&v.push(`${S}:${ME(C,!1)}`)}),v.length>0?`${f}(${v.join("//")})`:f}{const f=function AI(c,p){let f=[];return uo(c.children,(v,C)=>{C===Ut&&(f=f.concat(p(v,C)))}),uo(c.children,(v,C)=>{C!==Ut&&(f=f.concat(p(v,C)))}),f}(c,(v,C)=>C===Ut?[ME(c.children[Ut],!1)]:[`${C}:${ME(v,!1)}`]);return 1===Object.keys(c.children).length&&null!=c.children[Ut]?`${LR(c)}/${f[0]}`:`${LR(c)}/(${f.join("//")})`}}function Bx(c){return encodeURIComponent(c).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function GR(c){return Bx(c).replace(/%3B/gi,";")}function PT(c){return Bx(c).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kR(c){return decodeURIComponent(c)}function Hx(c){return kR(c.replace(/\+/g,"%20"))}function Wx(c){return`${PT(c.path)}${function FI(c){return Object.keys(c).map(p=>`;${PT(p)}=${PT(c[p])}`).join("")}(c.parameters)}`}const NI=/^[^\/()?;=#]+/;function VR(c){const p=c.match(NI);return p?p[0]:""}const LI=/^[^=?&#]+/,kI=/^[^&#]+/;class BI{constructor(p){this.url=p,this.remaining=p}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const p={};if(this.consumeOptional("?"))do{this.parseQueryParam(p)}while(this.consumeOptional("&"));return p}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const p=[];for(this.peekStartsWith("(")||p.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),p.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let v={};return this.peekStartsWith("(")&&(v=this.parseParens(!1)),(p.length>0||Object.keys(f).length>0)&&(v[Ut]=new Yt(p,f)),v}parseSegment(){const p=VR(this.remaining);if(""===p&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(p),new xE(kR(p),this.parseMatrixParams())}parseMatrixParams(){const p={};for(;this.consumeOptional(";");)this.parseParam(p);return p}parseParam(p){const f=VR(this.remaining);if(!f)return;this.capture(f);let v="";if(this.consumeOptional("=")){const C=VR(this.remaining);C&&(v=C,this.capture(v))}p[kR(f)]=kR(v)}parseQueryParam(p){const f=function GI(c){const p=c.match(LI);return p?p[0]:""}(this.remaining);if(!f)return;this.capture(f);let v="";if(this.consumeOptional("=")){const O=function VI(c){const p=c.match(kI);return p?p[0]:""}(this.remaining);O&&(v=O,this.capture(v))}const C=Hx(f),S=Hx(v);if(p.hasOwnProperty(C)){let O=p[C];Array.isArray(O)||(O=[O],p[C]=O),O.push(S)}else p[C]=S}parseParens(p){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const v=VR(this.remaining),C=this.remaining[v.length];if("/"!==C&&")"!==C&&";"!==C)throw new Error(`Cannot parse url '${this.url}'`);let S;v.indexOf(":")>-1?(S=v.substr(0,v.indexOf(":")),this.capture(S),this.capture(":")):p&&(S=Ut);const O=this.parseChildren();f[S]=1===Object.keys(O).length?O[Ut]:new Yt([],O),this.consumeOptional("//")}return f}peekStartsWith(p){return this.remaining.startsWith(p)}consumeOptional(p){return!!this.peekStartsWith(p)&&(this.remaining=this.remaining.substring(p.length),!0)}capture(p){if(!this.consumeOptional(p))throw new Error(`Expected "${p}".`)}}class jx{constructor(p){this._root=p}get root(){return this._root.value}parent(p){const f=this.pathFromRoot(p);return f.length>1?f[f.length-2]:null}children(p){const f=TT(p,this._root);return f?f.children.map(v=>v.value):[]}firstChild(p){const f=TT(p,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(p){const f=AT(p,this._root);return f.length<2?[]:f[f.length-2].children.map(C=>C.value).filter(C=>C!==p)}pathFromRoot(p){return AT(p,this._root).map(f=>f.value)}}function TT(c,p){if(c===p.value)return p;for(const f of p.children){const v=TT(c,f);if(v)return v}return null}function AT(c,p){if(c===p.value)return[p];for(const f of p.children){const v=AT(c,f);if(v.length)return v.unshift(p),v}return[]}class qd{constructor(p,f){this.value=p,this.children=f}toString(){return`TreeNode(${this.value})`}}function R_(c){const p={};return c&&c.children.forEach(f=>p[f.value.outlet]=f),p}class Ux extends jx{constructor(p,f){super(p),this.snapshot=f,xT(this,p)}toString(){return this.snapshot.toString()}}function zx(c,p){const f=function HI(c,p){const O=new BR([],{},{},"",{},Ut,p,null,c.root,-1,{});return new Kx("",new qd(O,[]))}(c,p),v=new Fu([new xE("",{})]),C=new Fu({}),S=new Fu({}),O=new Fu({}),D=new Fu(""),M=new D_(v,C,O,D,S,Ut,p,f.root);return M.snapshot=f.root,new Ux(new qd(M,[]),f)}class D_{constructor(p,f,v,C,S,O,D,M){this.url=p,this.params=f,this.queryParams=v,this.fragment=C,this.data=S,this.outlet=O,this.component=D,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Gt(p=>O_(p)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Gt(p=>O_(p)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $x(c,p="emptyOnly"){const f=c.pathFromRoot;let v=0;if("always"!==p)for(v=f.length-1;v>=1;){const C=f[v],S=f[v-1];if(C.routeConfig&&""===C.routeConfig.path)v--;else{if(S.component)break;v--}}return function WI(c){return c.reduce((p,f)=>({params:Object.assign(Object.assign({},p.params),f.params),data:Object.assign(Object.assign({},p.data),f.data),resolve:Object.assign(Object.assign({},p.resolve),f._resolvedData)}),{params:{},data:{},resolve:{}})}(f.slice(v))}class BR{constructor(p,f,v,C,S,O,D,M,L,V,X){this.url=p,this.params=f,this.queryParams=v,this.fragment=C,this.data=S,this.outlet=O,this.component=D,this.routeConfig=M,this._urlSegment=L,this._lastPathIndex=V,this._resolve=X}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=O_(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=O_(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(v=>v.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Kx extends jx{constructor(p,f){super(f),this.url=p,xT(this,f)}toString(){return Yx(this._root)}}function xT(c,p){p.value._routerState=c,p.children.forEach(f=>xT(c,f))}function Yx(c){const p=c.children.length>0?` { ${c.children.map(Yx).join(", ")} } `:"";return`${c.value}${p}`}function MT(c){if(c.snapshot){const p=c.snapshot,f=c._futureSnapshot;c.snapshot=f,rp(p.queryParams,f.queryParams)||c.queryParams.next(f.queryParams),p.fragment!==f.fragment&&c.fragment.next(f.fragment),rp(p.params,f.params)||c.params.next(f.params),function EI(c,p){if(c.length!==p.length)return!1;for(let f=0;f<c.length;++f)if(!rp(c[f],p[f]))return!1;return!0}(p.url,f.url)||c.url.next(f.url),rp(p.data,f.data)||c.data.next(f.data)}else c.snapshot=c._futureSnapshot,c.data.next(c._futureSnapshot.data)}function FT(c,p){const f=rp(c.params,p.params)&&function TI(c,p){return jy(c,p)&&c.every((f,v)=>rp(f.parameters,p[v].parameters))}(c.url,p.url);return f&&!(!c.parent!=!p.parent)&&(!c.parent||FT(c.parent,p.parent))}function FE(c,p,f){if(f&&c.shouldReuseRoute(p.value,f.value.snapshot)){const v=f.value;v._futureSnapshot=p.value;const C=function UI(c,p,f){return p.children.map(v=>{for(const C of f.children)if(c.shouldReuseRoute(v.value,C.value.snapshot))return FE(c,v,C);return FE(c,v)})}(c,p,f);return new qd(v,C)}{if(c.shouldAttach(p.value)){const S=c.retrieve(p.value);if(null!==S){const O=S.route;return O.value._futureSnapshot=p.value,O.children=p.children.map(D=>FE(c,D)),O}}const v=function zI(c){return new D_(new Fu(c.url),new Fu(c.params),new Fu(c.queryParams),new Fu(c.fragment),new Fu(c.data),c.outlet,c.component,c)}(p.value),C=p.children.map(S=>FE(c,S));return new qd(v,C)}}function HR(c){return"object"==typeof c&&null!=c&&!c.outlets&&!c.segmentPath}function IE(c){return"object"==typeof c&&null!=c&&c.outlets}function IT(c,p,f,v,C){let S={};if(v&&uo(v,(D,M)=>{S[M]=Array.isArray(D)?D.map(L=>`${L}`):`${D}`}),c===p)return new Wy(f,S,C);const O=qx(c,p,f);return new Wy(O,S,C)}function qx(c,p,f){const v={};return uo(c.children,(C,S)=>{v[S]=C===p?f:qx(C,p,f)}),new Yt(c.segments,v)}class Xx{constructor(p,f,v){if(this.isAbsolute=p,this.numberOfDoubleDots=f,this.commands=v,p&&v.length>0&&HR(v[0]))throw new Error("Root segment cannot have matrix parameters");const C=v.find(IE);if(C&&C!==Mx(v))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class NT{constructor(p,f,v){this.segmentGroup=p,this.processChildren=f,this.index=v}}function Qx(c,p,f){if(c||(c=new Yt([],{})),0===c.segments.length&&c.hasChildren())return WR(c,p,f);const v=function QI(c,p,f){let v=0,C=p;const S={match:!1,pathIndex:0,commandIndex:0};for(;C<c.segments.length;){if(v>=f.length)return S;const O=c.segments[C],D=f[v];if(IE(D))break;const M=`${D}`,L=v<f.length-1?f[v+1]:null;if(C>0&&void 0===M)break;if(M&&L&&"object"==typeof L&&void 0===L.outlets){if(!Jx(M,L,O))return S;v+=2}else{if(!Jx(M,{},O))return S;v++}C++}return{match:!0,pathIndex:C,commandIndex:v}}(c,p,f),C=f.slice(v.commandIndex);if(v.match&&v.pathIndex<c.segments.length){const S=new Yt(c.segments.slice(0,v.pathIndex),{});return S.children[Ut]=new Yt(c.segments.slice(v.pathIndex),c.children),WR(S,0,C)}return v.match&&0===C.length?new Yt(c.segments,{}):v.match&&!c.hasChildren()?LT(c,p,f):v.match?WR(c,0,C):LT(c,p,f)}function WR(c,p,f){if(0===f.length)return new Yt(c.segments,{});{const v=function XI(c){return IE(c[0])?c[0].outlets:{[Ut]:c}}(f),C={};return uo(v,(S,O)=>{"string"==typeof S&&(S=[S]),null!==S&&(C[O]=Qx(c.children[O],p,S))}),uo(c.children,(S,O)=>{void 0===v[O]&&(C[O]=S)}),new Yt(c.segments,C)}}function LT(c,p,f){const v=c.segments.slice(0,p);let C=0;for(;C<f.length;){const S=f[C];if(IE(S)){const M=ZI(S.outlets);return new Yt(v,M)}if(0===C&&HR(f[0])){v.push(new xE(c.segments[p].path,Zx(f[0]))),C++;continue}const O=IE(S)?S.outlets[Ut]:`${S}`,D=C<f.length-1?f[C+1]:null;O&&D&&HR(D)?(v.push(new xE(O,Zx(D))),C+=2):(v.push(new xE(O,{})),C++)}return new Yt(v,{})}function ZI(c){const p={};return uo(c,(f,v)=>{"string"==typeof f&&(f=[f]),null!==f&&(p[v]=LT(new Yt([],{}),0,f))}),p}function Zx(c){const p={};return uo(c,(f,v)=>p[v]=`${f}`),p}function Jx(c,p,f){return c==f.path&&rp(p,f.parameters)}class eN{constructor(p,f,v,C){this.routeReuseStrategy=p,this.futureState=f,this.currState=v,this.forwardEvent=C}activate(p){const f=this.futureState._root,v=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,v,p),MT(this.futureState.root),this.activateChildRoutes(f,v,p)}deactivateChildRoutes(p,f,v){const C=R_(f);p.children.forEach(S=>{const O=S.value.outlet;this.deactivateRoutes(S,C[O],v),delete C[O]}),uo(C,(S,O)=>{this.deactivateRouteAndItsChildren(S,v)})}deactivateRoutes(p,f,v){const C=p.value,S=f?f.value:null;if(C===S)if(C.component){const O=v.getContext(C.outlet);O&&this.deactivateChildRoutes(p,f,O.children)}else this.deactivateChildRoutes(p,f,v);else S&&this.deactivateRouteAndItsChildren(f,v)}deactivateRouteAndItsChildren(p,f){p.value.component&&this.routeReuseStrategy.shouldDetach(p.value.snapshot)?this.detachAndStoreRouteSubtree(p,f):this.deactivateRouteAndOutlet(p,f)}detachAndStoreRouteSubtree(p,f){const v=f.getContext(p.value.outlet),C=v&&p.value.component?v.children:f,S=R_(p);for(const O of Object.keys(S))this.deactivateRouteAndItsChildren(S[O],C);if(v&&v.outlet){const O=v.outlet.detach(),D=v.children.onOutletDeactivated();this.routeReuseStrategy.store(p.value.snapshot,{componentRef:O,route:p,contexts:D})}}deactivateRouteAndOutlet(p,f){const v=f.getContext(p.value.outlet),C=v&&p.value.component?v.children:f,S=R_(p);for(const O of Object.keys(S))this.deactivateRouteAndItsChildren(S[O],C);v&&v.outlet&&(v.outlet.deactivate(),v.children.onOutletDeactivated(),v.attachRef=null,v.resolver=null,v.route=null)}activateChildRoutes(p,f,v){const C=R_(f);p.children.forEach(S=>{this.activateRoutes(S,C[S.value.outlet],v),this.forwardEvent(new wI(S.value.snapshot))}),p.children.length&&this.forwardEvent(new mI(p.value.snapshot))}activateRoutes(p,f,v){const C=p.value,S=f?f.value:null;if(MT(C),C===S)if(C.component){const O=v.getOrCreateContext(C.outlet);this.activateChildRoutes(p,f,O.children)}else this.activateChildRoutes(p,f,v);else if(C.component){const O=v.getOrCreateContext(C.outlet);if(this.routeReuseStrategy.shouldAttach(C.snapshot)){const D=this.routeReuseStrategy.retrieve(C.snapshot);this.routeReuseStrategy.store(C.snapshot,null),O.children.onOutletReAttached(D.contexts),O.attachRef=D.componentRef,O.route=D.route.value,O.outlet&&O.outlet.attach(D.componentRef,D.route.value),MT(D.route.value),this.activateChildRoutes(p,null,O.children)}else{const D=function tN(c){for(let p=c.parent;p;p=p.parent){const f=p.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig;if(f&&f.component)return null}return null}(C.snapshot),M=D?D.module.componentFactoryResolver:null;O.attachRef=null,O.route=C,O.resolver=M,O.outlet&&O.outlet.activateWith(C,M),this.activateChildRoutes(p,null,O.children)}}else this.activateChildRoutes(p,null,v)}}class GT{constructor(p,f){this.routes=p,this.module=f}}function Kf(c){return"function"==typeof c}function Uy(c){return c instanceof Wy}const NE=Symbol("INITIAL_VALUE");function LE(){return Hy(c=>rI(c.map(p=>p.pipe(ne(1),function aI(...c){const p=ku(c);return Hr((f,v)=>{(p?ET(c,f,p):ET(c,f)).subscribe(v)})}(NE)))).pipe(Sx((p,f)=>{let v=!1;return f.reduce((C,S,O)=>C!==NE?C:(S===NE&&(v=!0),v||!1!==S&&O!==f.length-1&&!Uy(S)?C:S),p)},NE),By(p=>p!==NE),Gt(p=>Uy(p)?p:!0===p),ne(1)))}class sN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new GE,this.attachRef=null}}class GE{constructor(){this.contexts=new Map}onChildOutletCreated(p,f){const v=this.getOrCreateContext(p);v.outlet=f,this.contexts.set(p,v)}onChildOutletDestroyed(p){const f=this.getContext(p);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let f=this.getContext(p);return f||(f=new sN,this.contexts.set(p,f)),f}getContext(p){return this.contexts.get(p)||null}}let kT=(()=>{class c{constructor(f,v,C,S,O){this.parentContexts=f,this.location=v,this.resolver=C,this.changeDetector=O,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.name=S||Ut,f.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const f=this.parentContexts.getContext(this.name);f&&f.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,v){this.activated=f,this._activatedRoute=v,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,v){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=f;const O=(v=v||this.resolver).resolveComponentFactory(f._futureSnapshot.routeConfig.component),D=this.parentContexts.getOrCreateContext(this.name).children,M=new lN(f,D,this.location.injector);this.activated=this.location.createComponent(O,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return c.\u0275fac=function(f){return new(f||c)(it(GE),it(Mo),it($c),Rp("name"),it(nE))},c.\u0275dir=yn({type:c,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),c})();class lN{constructor(p,f,v){this.route=p,this.childContexts=f,this.parent=v}get(p,f){return p===D_?this.route:p===GE?this.childContexts:this.parent.get(p,f)}}let eM=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275cmp=Vi({type:c,selectors:[["ng-component"]],decls:1,vars:0,template:function(f,v){1&f&&Bt(0,"router-outlet")},directives:[kT],encapsulation:2}),c})();function tM(c,p=""){for(let f=0;f<c.length;f++){const v=c[f];uN(v,cN(p,v))}}function uN(c,p){c.children&&tM(c.children,p)}function cN(c,p){return p?c||p.path?c&&!p.path?`${c}/`:!c&&p.path?p.path:`${c}/${p.path}`:"":c}function VT(c){const p=c.children&&c.children.map(VT),f=p?Object.assign(Object.assign({},c),{children:p}):Object.assign({},c);return!f.component&&(p||f.loadChildren)&&f.outlet&&f.outlet!==Ut&&(f.component=eM),f}function Fl(c){return c.outlet||Ut}function rM(c,p){const f=c.filter(v=>Fl(v)===p);return f.push(...c.filter(v=>Fl(v)!==p)),f}const nM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jR(c,p,f){var v;if(""===p.path)return"full"===p.pathMatch&&(c.hasChildren()||f.length>0)?Object.assign({},nM):{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const S=(p.matcher||bI)(f,c,p);if(!S)return Object.assign({},nM);const O={};uo(S.posParams,(M,L)=>{O[L]=M.path});const D=S.consumed.length>0?Object.assign(Object.assign({},O),S.consumed[S.consumed.length-1].parameters):O;return{matched:!0,consumedSegments:S.consumed,remainingSegments:f.slice(S.consumed.length),parameters:D,positionalParamSegments:null!==(v=S.posParams)&&void 0!==v?v:{}}}function UR(c,p,f,v,C="corrected"){if(f.length>0&&function hN(c,p,f){return f.some(v=>zR(c,p,v)&&Fl(v)!==Ut)}(c,f,v)){const O=new Yt(p,function dN(c,p,f,v){const C={};C[Ut]=v,v._sourceSegment=c,v._segmentIndexShift=p.length;for(const S of f)if(""===S.path&&Fl(S)!==Ut){const O=new Yt([],{});O._sourceSegment=c,O._segmentIndexShift=p.length,C[Fl(S)]=O}return C}(c,p,v,new Yt(f,c.children)));return O._sourceSegment=c,O._segmentIndexShift=p.length,{segmentGroup:O,slicedSegments:[]}}if(0===f.length&&function fN(c,p,f){return f.some(v=>zR(c,p,v))}(c,f,v)){const O=new Yt(c.segments,function pN(c,p,f,v,C,S){const O={};for(const D of v)if(zR(c,f,D)&&!C[Fl(D)]){const M=new Yt([],{});M._sourceSegment=c,M._segmentIndexShift="legacy"===S?c.segments.length:p.length,O[Fl(D)]=M}return Object.assign(Object.assign({},C),O)}(c,p,f,v,c.children,C));return O._sourceSegment=c,O._segmentIndexShift=p.length,{segmentGroup:O,slicedSegments:f}}const S=new Yt(c.segments,c.children);return S._sourceSegment=c,S._segmentIndexShift=p.length,{segmentGroup:S,slicedSegments:f}}function zR(c,p,f){return(!(c.hasChildren()||p.length>0)||"full"!==f.pathMatch)&&""===f.path}function iM(c,p,f,v){return!!(Fl(c)===v||v!==Ut&&zR(p,f,c))&&("**"===c.path||jR(p,c,f).matched)}function oM(c,p,f){return 0===p.length&&!c.children[f]}class $R{constructor(p){this.segmentGroup=p||null}}class aM{constructor(p){this.urlTree=p}}function kE(c){return FR(new $R(c))}function sM(c){return FR(new aM(c))}class mN{constructor(p,f,v,C,S){this.configLoader=f,this.urlSerializer=v,this.urlTree=C,this.config=S,this.allowRedirects=!0,this.ngModule=p.get(Tu)}apply(){const p=UR(this.urlTree.root,[],[],this.config).segmentGroup,f=new Yt(p.segments,p.children);return this.expandSegmentGroup(this.ngModule,this.config,f,Ut).pipe(Gt(S=>this.createUrlTree(BT(S),this.urlTree.queryParams,this.urlTree.fragment))).pipe($f(S=>{if(S instanceof aM)return this.allowRedirects=!1,this.match(S.urlTree);throw S instanceof $R?this.noMatchError(S):S}))}match(p){return this.expandSegmentGroup(this.ngModule,this.config,p.root,Ut).pipe(Gt(C=>this.createUrlTree(BT(C),p.queryParams,p.fragment))).pipe($f(C=>{throw C instanceof $R?this.noMatchError(C):C}))}noMatchError(p){return new Error(`Cannot match any routes. URL Segment: '${p.segmentGroup}'`)}createUrlTree(p,f,v){const C=p.segments.length>0?new Yt([],{[Ut]:p}):p;return new Wy(C,f,v)}expandSegmentGroup(p,f,v,C){return 0===v.segments.length&&v.hasChildren()?this.expandChildren(p,f,v).pipe(Gt(S=>new Yt([],S))):this.expandSegment(p,v,f,v.segments,C,!0)}expandChildren(p,f,v){const C=[];for(const S of Object.keys(v.children))"primary"===S?C.unshift(S):C.push(S);return Xr(C).pipe(b_(S=>{const O=v.children[S],D=rM(f,S);return this.expandSegmentGroup(p,D,O,S).pipe(Gt(M=>({segment:M,outlet:S})))}),Sx((S,O)=>(S[O.outlet]=O.segment,S),{}),function uI(c,p){const f=arguments.length>=2;return v=>v.pipe(c?By((C,S)=>c(C,S,v)):ca,OT(1),f?Ex(p):bx(()=>new IR))}())}expandSegment(p,f,v,C,S,O){return Xr(v).pipe(b_(D=>this.expandSegmentAgainstRoute(p,f,v,D,C,S,O).pipe($f(L=>{if(L instanceof $R)return Nt(null);throw L}))),E_(D=>!!D),$f((D,M)=>{if(D instanceof IR||"EmptyError"===D.name)return oM(f,C,S)?Nt(new Yt([],{})):kE(f);throw D}))}expandSegmentAgainstRoute(p,f,v,C,S,O,D){return iM(C,f,S,O)?void 0===C.redirectTo?this.matchSegmentAgainstRoute(p,f,C,S,O):D&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(p,f,v,C,S,O):kE(f):kE(f)}expandSegmentAgainstRouteUsingRedirect(p,f,v,C,S,O){return"**"===C.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(p,v,C,O):this.expandRegularSegmentAgainstRouteUsingRedirect(p,f,v,C,S,O)}expandWildCardWithParamsAgainstRouteUsingRedirect(p,f,v,C){const S=this.applyRedirectCommands([],v.redirectTo,{});return v.redirectTo.startsWith("/")?sM(S):this.lineralizeSegments(v,S).pipe(vn(O=>{const D=new Yt(O,{});return this.expandSegment(p,D,f,O,C,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(p,f,v,C,S,O){const{matched:D,consumedSegments:M,remainingSegments:L,positionalParamSegments:V}=jR(f,C,S);if(!D)return kE(f);const X=this.applyRedirectCommands(M,C.redirectTo,V);return C.redirectTo.startsWith("/")?sM(X):this.lineralizeSegments(C,X).pipe(vn(te=>this.expandSegment(p,f,v,te.concat(L),O,!1)))}matchSegmentAgainstRoute(p,f,v,C,S){if("**"===v.path)return v.loadChildren?(v._loadedConfig?Nt(v._loadedConfig):this.configLoader.load(p.injector,v)).pipe(Gt(X=>(v._loadedConfig=X,new Yt(C,{})))):Nt(new Yt(C,{}));const{matched:O,consumedSegments:D,remainingSegments:M}=jR(f,v,C);return O?this.getChildConfig(p,v,C).pipe(vn(V=>{const X=V.module,te=V.routes,{segmentGroup:oe,slicedSegments:ve}=UR(f,D,M,te),Me=new Yt(oe.segments,oe.children);if(0===ve.length&&Me.hasChildren())return this.expandChildren(X,te,Me).pipe(Gt(ut=>new Yt(D,ut)));if(0===te.length&&0===ve.length)return Nt(new Yt(D,{}));const je=Fl(v)===S;return this.expandSegment(X,Me,te,ve,je?Ut:S,!0).pipe(Gt(Te=>new Yt(D.concat(Te.segments),Te.children)))})):kE(f)}getChildConfig(p,f,v){return f.children?Nt(new GT(f.children,p)):f.loadChildren?void 0!==f._loadedConfig?Nt(f._loadedConfig):this.runCanLoadGuards(p.injector,f,v).pipe(vn(C=>C?this.configLoader.load(p.injector,f).pipe(Gt(S=>(f._loadedConfig=S,S))):function vN(c){return FR(DT(`Cannot load children because the guard of the route "path: '${c.path}'" returned false`))}(f))):Nt(new GT([],p))}runCanLoadGuards(p,f,v){const C=f.canLoad;return C&&0!==C.length?Nt(C.map(O=>{const D=p.get(O);let M;if(function nN(c){return c&&Kf(c.canLoad)}(D))M=D.canLoad(f,v);else{if(!Kf(D))throw new Error("Invalid CanLoad guard");M=D(f,v)}return np(M)})).pipe(LE(),ks(O=>{if(!Uy(O))return;const D=DT(`Redirecting to "${this.urlSerializer.serialize(O)}"`);throw D.url=O,D}),Gt(O=>!0===O)):Nt(!0)}lineralizeSegments(p,f){let v=[],C=f.root;for(;;){if(v=v.concat(C.segments),0===C.numberOfChildren)return Nt(v);if(C.numberOfChildren>1||!C.children[Ut])return FR(new Error(`Only absolute redirects can have named outlets. redirectTo: '${p.redirectTo}'`));C=C.children[Ut]}}applyRedirectCommands(p,f,v){return this.applyRedirectCreatreUrlTree(f,this.urlSerializer.parse(f),p,v)}applyRedirectCreatreUrlTree(p,f,v,C){const S=this.createSegmentGroup(p,f.root,v,C);return new Wy(S,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(p,f){const v={};return uo(p,(C,S)=>{if("string"==typeof C&&C.startsWith(":")){const D=C.substring(1);v[S]=f[D]}else v[S]=C}),v}createSegmentGroup(p,f,v,C){const S=this.createSegments(p,f.segments,v,C);let O={};return uo(f.children,(D,M)=>{O[M]=this.createSegmentGroup(p,D,v,C)}),new Yt(S,O)}createSegments(p,f,v,C){return f.map(S=>S.path.startsWith(":")?this.findPosParam(p,S,C):this.findOrReturn(S,v))}findPosParam(p,f,v){const C=v[f.path.substring(1)];if(!C)throw new Error(`Cannot redirect to '${p}'. Cannot find '${f.path}'.`);return C}findOrReturn(p,f){let v=0;for(const C of f){if(C.path===p.path)return f.splice(v),C;v++}return p}}function BT(c){const p={};for(const v of Object.keys(c.children)){const S=BT(c.children[v]);(S.segments.length>0||S.hasChildren())&&(p[v]=S)}return function CN(c){if(1===c.numberOfChildren&&c.children[Ut]){const p=c.children[Ut];return new Yt(c.segments.concat(p.segments),p.children)}return c}(new Yt(c.segments,p))}class lM{constructor(p){this.path=p,this.route=this.path[this.path.length-1]}}class KR{constructor(p,f){this.component=p,this.route=f}}function _N(c,p,f){const v=c._root;return VE(v,p?p._root:null,f,[v.value])}function YR(c,p,f){const v=function bN(c){if(!c)return null;for(let p=c.parent;p;p=p.parent){const f=p.routeConfig;if(f&&f._loadedConfig)return f._loadedConfig}return null}(p);return(v?v.module.injector:f).get(c)}function VE(c,p,f,v,C={canDeactivateChecks:[],canActivateChecks:[]}){const S=R_(p);return c.children.forEach(O=>{(function EN(c,p,f,v,C={canDeactivateChecks:[],canActivateChecks:[]}){const S=c.value,O=p?p.value:null,D=f?f.getContext(c.value.outlet):null;if(O&&S.routeConfig===O.routeConfig){const M=function ON(c,p,f){if("function"==typeof f)return f(c,p);switch(f){case"pathParamsChange":return!jy(c.url,p.url);case"pathParamsOrQueryParamsChange":return!jy(c.url,p.url)||!rp(c.queryParams,p.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FT(c,p)||!rp(c.queryParams,p.queryParams);default:return!FT(c,p)}}(O,S,S.routeConfig.runGuardsAndResolvers);M?C.canActivateChecks.push(new lM(v)):(S.data=O.data,S._resolvedData=O._resolvedData),VE(c,p,S.component?D?D.children:null:f,v,C),M&&D&&D.outlet&&D.outlet.isActivated&&C.canDeactivateChecks.push(new KR(D.outlet.component,O))}else O&&BE(p,D,C),C.canActivateChecks.push(new lM(v)),VE(c,null,S.component?D?D.children:null:f,v,C)})(O,S[O.value.outlet],f,v.concat([O.value]),C),delete S[O.value.outlet]}),uo(S,(O,D)=>BE(O,f.getContext(D),C)),C}function BE(c,p,f){const v=R_(c),C=c.value;uo(v,(S,O)=>{BE(S,C.component?p?p.children.getContext(O):null:p,f)}),f.canDeactivateChecks.push(new KR(C.component&&p&&p.outlet&&p.outlet.isActivated?p.outlet.component:null,C))}class IN{}function uM(c){return new Cr(p=>p.error(c))}class LN{constructor(p,f,v,C,S,O){this.rootComponentType=p,this.config=f,this.urlTree=v,this.url=C,this.paramsInheritanceStrategy=S,this.relativeLinkResolution=O}recognize(){const p=UR(this.urlTree.root,[],[],this.config.filter(O=>void 0===O.redirectTo),this.relativeLinkResolution).segmentGroup,f=this.processSegmentGroup(this.config,p,Ut);if(null===f)return null;const v=new BR([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ut,this.rootComponentType,null,this.urlTree.root,-1,{}),C=new qd(v,f),S=new Kx(this.url,C);return this.inheritParamsAndData(S._root),S}inheritParamsAndData(p){const f=p.value,v=$x(f,this.paramsInheritanceStrategy);f.params=Object.freeze(v.params),f.data=Object.freeze(v.data),p.children.forEach(C=>this.inheritParamsAndData(C))}processSegmentGroup(p,f,v){return 0===f.segments.length&&f.hasChildren()?this.processChildren(p,f):this.processSegment(p,f,f.segments,v)}processChildren(p,f){const v=[];for(const S of Object.keys(f.children)){const O=f.children[S],D=rM(p,S),M=this.processSegmentGroup(D,O,S);if(null===M)return null;v.push(...M)}const C=cM(v);return function GN(c){c.sort((p,f)=>p.value.outlet===Ut?-1:f.value.outlet===Ut?1:p.value.outlet.localeCompare(f.value.outlet))}(C),C}processSegment(p,f,v,C){for(const S of p){const O=this.processSegmentAgainstRoute(S,f,v,C);if(null!==O)return O}return oM(f,v,C)?[]:null}processSegmentAgainstRoute(p,f,v,C){if(p.redirectTo||!iM(p,f,v,C))return null;let S,O=[],D=[];if("**"===p.path){const oe=v.length>0?Mx(v).parameters:{};S=new BR(v,oe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hM(p),Fl(p),p.component,p,pM(f),dM(f)+v.length,fM(p))}else{const oe=jR(f,p,v);if(!oe.matched)return null;O=oe.consumedSegments,D=oe.remainingSegments,S=new BR(O,oe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hM(p),Fl(p),p.component,p,pM(f),dM(f)+O.length,fM(p))}const M=function kN(c){return c.children?c.children:c.loadChildren?c._loadedConfig.routes:[]}(p),{segmentGroup:L,slicedSegments:V}=UR(f,O,D,M.filter(oe=>void 0===oe.redirectTo),this.relativeLinkResolution);if(0===V.length&&L.hasChildren()){const oe=this.processChildren(M,L);return null===oe?null:[new qd(S,oe)]}if(0===M.length&&0===V.length)return[new qd(S,[])];const X=Fl(p)===C,te=this.processSegment(M,L,V,X?Ut:C);return null===te?null:[new qd(S,te)]}}function VN(c){const p=c.value.routeConfig;return p&&""===p.path&&void 0===p.redirectTo}function cM(c){const p=[],f=new Set;for(const v of c){if(!VN(v)){p.push(v);continue}const C=p.find(S=>v.value.routeConfig===S.value.routeConfig);void 0!==C?(C.children.push(...v.children),f.add(C)):p.push(v)}for(const v of f){const C=cM(v.children);p.push(new qd(v.value,C))}return p.filter(v=>!f.has(v))}function pM(c){let p=c;for(;p._sourceSegment;)p=p._sourceSegment;return p}function dM(c){let p=c,f=p._segmentIndexShift?p._segmentIndexShift:0;for(;p._sourceSegment;)p=p._sourceSegment,f+=p._segmentIndexShift?p._segmentIndexShift:0;return f-1}function hM(c){return c.data||{}}function fM(c){return c.resolve||{}}function gM(c){return[...Object.keys(c),...Object.getOwnPropertySymbols(c)]}function HT(c){return Hy(p=>{const f=c(p);return f?Xr(f).pipe(Gt(()=>p)):Nt(p)})}class KN extends class $N{shouldDetach(p){return!1}store(p,f){}shouldAttach(p){return!1}retrieve(p){return null}shouldReuseRoute(p,f){return p.routeConfig===f.routeConfig}}{}const WT=new St("ROUTES");class vM{constructor(p,f,v,C){this.injector=p,this.compiler=f,this.onLoadStartListener=v,this.onLoadEndListener=C}load(p,f){if(f._loader$)return f._loader$;this.onLoadStartListener&&this.onLoadStartListener(f);const C=this.loadModuleFactory(f.loadChildren).pipe(Gt(S=>{this.onLoadEndListener&&this.onLoadEndListener(f);const O=S.create(p);return new GT(xx(O.injector.get(WT,void 0,st.Self|st.Optional)).map(VT),O)}),$f(S=>{throw f._loader$=void 0,S}));return f._loader$=new oI(C,()=>new Za).pipe(_x()),f._loader$}loadModuleFactory(p){return np(p()).pipe(vn(f=>f instanceof na?Nt(f):Xr(this.compiler.compileModuleAsync(f))))}}class qN{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,f){return p}}function XN(c){throw c}function QN(c,p,f){return p.parse("/")}function yM(c,p){return Nt(null)}const ZN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Vs=(()=>{class c{constructor(f,v,C,S,O,D,M){this.rootComponentType=f,this.urlSerializer=v,this.rootContexts=C,this.location=S,this.config=M,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Za,this.errorHandler=XN,this.malformedUriErrorHandler=QN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:yM,afterPreactivation:yM},this.urlHandlingStrategy=new qN,this.routeReuseStrategy=new KN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=O.get(Tu),this.console=O.get(IP);const X=O.get(Cn);this.isNgZoneEnabled=X instanceof Cn&&Cn.isInAngularZone(),this.resetConfig(M),this.currentUrlTree=function OI(){return new Wy(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vM(O,D,te=>this.triggerEvent(new Rx(te)),te=>this.triggerEvent(new Dx(te))),this.routerState=zx(this.currentUrlTree,this.rootComponentType),this.transitions=new Fu({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var f;return null===(f=this.location.getState())||void 0===f?void 0:f.\u0275routerPageId}setupNavigations(f){const v=this.events;return f.pipe(By(C=>0!==C.id),Gt(C=>Object.assign(Object.assign({},C),{extractedUrl:this.urlHandlingStrategy.extract(C.rawUrl)})),Hy(C=>{let S=!1,O=!1;return Nt(C).pipe(ks(D=>{this.currentNavigation={id:D.id,initialUrl:D.currentRawUrl,extractedUrl:D.extractedUrl,trigger:D.source,extras:D.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hy(D=>{const M=this.browserUrlTree.toString(),L=!this.navigated||D.extractedUrl.toString()!==M||M!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||L)&&this.urlHandlingStrategy.shouldProcessUrl(D.rawUrl))return mM(D.source)&&(this.browserUrlTree=D.extractedUrl),Nt(D).pipe(Hy(X=>{const te=this.transitions.getValue();return v.next(new RT(X.id,this.serializeUrl(X.extractedUrl),X.source,X.restoredState)),te!==this.transitions.getValue()?Bo:Promise.resolve(X)}),function wN(c,p,f,v){return Hy(C=>function yN(c,p,f,v,C){return new mN(c,p,f,v,C).apply()}(c,p,f,C.extractedUrl,v).pipe(Gt(S=>Object.assign(Object.assign({},C),{urlAfterRedirects:S}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ks(X=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:X.urlAfterRedirects})}),function BN(c,p,f,v,C){return vn(S=>function NN(c,p,f,v,C="emptyOnly",S="legacy"){try{const O=new LN(c,p,f,v,C,S).recognize();return null===O?uM(new IN):Nt(O)}catch(O){return uM(O)}}(c,p,S.urlAfterRedirects,f(S.urlAfterRedirects),v,C).pipe(Gt(O=>Object.assign(Object.assign({},S),{targetSnapshot:O}))))}(this.rootComponentType,this.config,X=>this.serializeUrl(X),this.paramsInheritanceStrategy,this.relativeLinkResolution),ks(X=>{if("eager"===this.urlUpdateStrategy){if(!X.extras.skipLocationChange){const oe=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl);this.setBrowserUrl(oe,X)}this.browserUrlTree=X.urlAfterRedirects}const te=new dI(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);v.next(te)}));if(L&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:te,extractedUrl:oe,source:ve,restoredState:Me,extras:je}=D,He=new RT(te,this.serializeUrl(oe),ve,Me);v.next(He);const Te=zx(oe,this.rootComponentType).snapshot;return Nt(Object.assign(Object.assign({},D),{targetSnapshot:Te,urlAfterRedirects:oe,extras:Object.assign(Object.assign({},je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=D.rawUrl,D.resolve(null),Bo}),HT(D=>{const{targetSnapshot:M,id:L,extractedUrl:V,rawUrl:X,extras:{skipLocationChange:te,replaceUrl:oe}}=D;return this.hooks.beforePreactivation(M,{navigationId:L,appliedUrlTree:V,rawUrlTree:X,skipLocationChange:!!te,replaceUrl:!!oe})}),ks(D=>{const M=new hI(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot);this.triggerEvent(M)}),Gt(D=>Object.assign(Object.assign({},D),{guards:_N(D.targetSnapshot,D.currentSnapshot,this.rootContexts)})),function RN(c,p){return vn(f=>{const{targetSnapshot:v,currentSnapshot:C,guards:{canActivateChecks:S,canDeactivateChecks:O}}=f;return 0===O.length&&0===S.length?Nt(Object.assign(Object.assign({},f),{guardsResult:!0})):function DN(c,p,f,v){return Xr(c).pipe(vn(C=>function FN(c,p,f,v,C){const S=p&&p.routeConfig?p.routeConfig.canDeactivate:null;return S&&0!==S.length?Nt(S.map(D=>{const M=YR(D,p,C);let L;if(function aN(c){return c&&Kf(c.canDeactivate)}(M))L=np(M.canDeactivate(c,p,f,v));else{if(!Kf(M))throw new Error("Invalid CanDeactivate guard");L=np(M(c,p,f,v))}return L.pipe(E_())})).pipe(LE()):Nt(!0)}(C.component,C.route,f,p,v)),E_(C=>!0!==C,!0))}(O,v,C,c).pipe(vn(D=>D&&function rN(c){return"boolean"==typeof c}(D)?function PN(c,p,f,v){return Xr(p).pipe(b_(C=>ET(function AN(c,p){return null!==c&&p&&p(new yI(c)),Nt(!0)}(C.route.parent,v),function TN(c,p){return null!==c&&p&&p(new CI(c)),Nt(!0)}(C.route,v),function MN(c,p,f){const v=p[p.length-1],S=p.slice(0,p.length-1).reverse().map(O=>function SN(c){const p=c.routeConfig?c.routeConfig.canActivateChild:null;return p&&0!==p.length?{node:c,guards:p}:null}(O)).filter(O=>null!==O).map(O=>wx(()=>Nt(O.guards.map(M=>{const L=YR(M,O.node,f);let V;if(function oN(c){return c&&Kf(c.canActivateChild)}(L))V=np(L.canActivateChild(v,c));else{if(!Kf(L))throw new Error("Invalid CanActivateChild guard");V=np(L(v,c))}return V.pipe(E_())})).pipe(LE())));return Nt(S).pipe(LE())}(c,C.path,f),function xN(c,p,f){const v=p.routeConfig?p.routeConfig.canActivate:null;if(!v||0===v.length)return Nt(!0);const C=v.map(S=>wx(()=>{const O=YR(S,p,f);let D;if(function iN(c){return c&&Kf(c.canActivate)}(O))D=np(O.canActivate(p,c));else{if(!Kf(O))throw new Error("Invalid CanActivate guard");D=np(O(p,c))}return D.pipe(E_())}));return Nt(C).pipe(LE())}(c,C.route,f))),E_(C=>!0!==C,!0))}(v,S,c,p):Nt(D)),Gt(D=>Object.assign(Object.assign({},f),{guardsResult:D})))})}(this.ngModule.injector,D=>this.triggerEvent(D)),ks(D=>{if(Uy(D.guardsResult)){const L=DT(`Redirecting to "${this.serializeUrl(D.guardsResult)}"`);throw L.url=D.guardsResult,L}const M=new fI(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(D.urlAfterRedirects),D.targetSnapshot,!!D.guardsResult);this.triggerEvent(M)}),By(D=>!!D.guardsResult||(this.restoreHistory(D),this.cancelNavigationTransition(D,""),!1)),HT(D=>{if(D.guards.canActivateChecks.length)return Nt(D).pipe(ks(M=>{const L=new gI(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(L)}),Hy(M=>{let L=!1;return Nt(M).pipe(function HN(c,p){return vn(f=>{const{targetSnapshot:v,guards:{canActivateChecks:C}}=f;if(!C.length)return Nt(f);let S=0;return Xr(C).pipe(b_(O=>function WN(c,p,f,v){return function jN(c,p,f,v){const C=gM(c);if(0===C.length)return Nt({});const S={};return Xr(C).pipe(vn(O=>function UN(c,p,f,v){const C=YR(c,p,v);return np(C.resolve?C.resolve(p,f):C(p,f))}(c[O],p,f,v).pipe(ks(D=>{S[O]=D}))),OT(1),vn(()=>gM(S).length===C.length?Nt(S):Bo))}(c._resolve,c,p,v).pipe(Gt(S=>(c._resolvedData=S,c.data=Object.assign(Object.assign({},c.data),$x(c,f).resolve),null)))}(O.route,v,c,p)),ks(()=>S++),OT(1),vn(O=>S===C.length?Nt(f):Bo))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ks({next:()=>L=!0,complete:()=>{L||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),ks(M=>{const L=new vI(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(L)}))}),HT(D=>{const{targetSnapshot:M,id:L,extractedUrl:V,rawUrl:X,extras:{skipLocationChange:te,replaceUrl:oe}}=D;return this.hooks.afterPreactivation(M,{navigationId:L,appliedUrlTree:V,rawUrlTree:X,skipLocationChange:!!te,replaceUrl:!!oe})}),Gt(D=>{const M=function jI(c,p,f){const v=FE(c,p._root,f?f._root:void 0);return new Ux(v,p)}(this.routeReuseStrategy,D.targetSnapshot,D.currentRouterState);return Object.assign(Object.assign({},D),{targetRouterState:M})}),ks(D=>{this.currentUrlTree=D.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl),this.routerState=D.targetRouterState,"deferred"===this.urlUpdateStrategy&&(D.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,D),this.browserUrlTree=D.urlAfterRedirects)}),((c,p,f)=>Gt(v=>(new eN(p,v.targetRouterState,v.currentRouterState,f).activate(c),v)))(this.rootContexts,this.routeReuseStrategy,D=>this.triggerEvent(D)),ks({next(){S=!0},complete(){S=!0}}),function cI(c){return Hr((p,f)=>{try{p.subscribe(f)}finally{f.add(c)}})}(()=>{var D;S||O||this.cancelNavigationTransition(C,`Navigation ID ${C.id} is not equal to the current navigation id ${this.navigationId}`),(null===(D=this.currentNavigation)||void 0===D?void 0:D.id)===C.id&&(this.currentNavigation=null)}),$f(D=>{if(O=!0,function SI(c){return c&&c[Tx]}(D)){const M=Uy(D.url);M||(this.navigated=!0,this.restoreHistory(C,!0));const L=new Ox(C.id,this.serializeUrl(C.extractedUrl),D.message);v.next(L),M?setTimeout(()=>{const V=this.urlHandlingStrategy.merge(D.url,this.rawUrlTree),X={skipLocationChange:C.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||mM(C.source)};this.scheduleNavigation(V,"imperative",null,X,{resolve:C.resolve,reject:C.reject,promise:C.promise})},0):C.resolve(!1)}else{this.restoreHistory(C,!0);const M=new pI(C.id,this.serializeUrl(C.extractedUrl),D);v.next(M);try{C.resolve(this.errorHandler(D))}catch(L){C.reject(L)}}return Bo}))}))}resetRootComponentType(f){this.rootComponentType=f,this.routerState.root.component=this.rootComponentType}setTransition(f){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),f))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const v="popstate"===f.type?"popstate":"hashchange";"popstate"===v&&setTimeout(()=>{var C;const S={replaceUrl:!0},O=(null===(C=f.state)||void 0===C?void 0:C.navigationId)?f.state:null;if(O){const M=Object.assign({},O);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(S.state=M)}const D=this.parseUrl(f.url);this.scheduleNavigation(D,v,O,S)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(f){this.events.next(f)}resetConfig(f){tM(f),this.config=f.map(VT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,v={}){const{relativeTo:C,queryParams:S,fragment:O,queryParamsHandling:D,preserveFragment:M}=v,L=C||this.routerState.root,V=M?this.currentUrlTree.fragment:O;let X=null;switch(D){case"merge":X=Object.assign(Object.assign({},this.currentUrlTree.queryParams),S);break;case"preserve":X=this.currentUrlTree.queryParams;break;default:X=S||null}return null!==X&&(X=this.removeEmptyProps(X)),function $I(c,p,f,v,C){if(0===f.length)return IT(p.root,p.root,p.root,v,C);const S=function KI(c){if("string"==typeof c[0]&&1===c.length&&"/"===c[0])return new Xx(!0,0,c);let p=0,f=!1;const v=c.reduce((C,S,O)=>{if("object"==typeof S&&null!=S){if(S.outlets){const D={};return uo(S.outlets,(M,L)=>{D[L]="string"==typeof M?M.split("/"):M}),[...C,{outlets:D}]}if(S.segmentPath)return[...C,S.segmentPath]}return"string"!=typeof S?[...C,S]:0===O?(S.split("/").forEach((D,M)=>{0==M&&"."===D||(0==M&&""===D?f=!0:".."===D?p++:""!=D&&C.push(D))}),C):[...C,S]},[]);return new Xx(f,p,v)}(f);if(S.toRoot())return IT(p.root,p.root,new Yt([],{}),v,C);const O=function YI(c,p,f){if(c.isAbsolute)return new NT(p.root,!0,0);if(-1===f.snapshot._lastPathIndex){const S=f.snapshot._urlSegment;return new NT(S,S===p.root,0)}const v=HR(c.commands[0])?0:1;return function qI(c,p,f){let v=c,C=p,S=f;for(;S>C;){if(S-=C,v=v.parent,!v)throw new Error("Invalid number of '../'");C=v.segments.length}return new NT(v,!1,C-S)}(f.snapshot._urlSegment,f.snapshot._lastPathIndex+v,c.numberOfDoubleDots)}(S,p,c),D=O.processChildren?WR(O.segmentGroup,O.index,S.commands):Qx(O.segmentGroup,O.index,S.commands);return IT(p.root,O.segmentGroup,D,v,C)}(L,this.currentUrlTree,f,X,null!=V?V:null)}navigateByUrl(f,v={skipLocationChange:!1}){const C=Uy(f)?f:this.parseUrl(f),S=this.urlHandlingStrategy.merge(C,this.rawUrlTree);return this.scheduleNavigation(S,"imperative",null,v)}navigate(f,v={skipLocationChange:!1}){return function eL(c){for(let p=0;p<c.length;p++){const f=c[p];if(null==f)throw new Error(`The requested path contains ${f} segment at index ${p}`)}}(f),this.navigateByUrl(this.createUrlTree(f,v),v)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let v;try{v=this.urlSerializer.parse(f)}catch(C){v=this.malformedUriErrorHandler(C,this.urlSerializer,f)}return v}isActive(f,v){let C;if(C=!0===v?Object.assign({},ZN):!1===v?Object.assign({},JN):v,Uy(f))return Ix(this.currentUrlTree,f,C);const S=this.parseUrl(f);return Ix(this.currentUrlTree,S,C)}removeEmptyProps(f){return Object.keys(f).reduce((v,C)=>{const S=f[C];return null!=S&&(v[C]=S),v},{})}processNavigations(){this.navigations.subscribe(f=>{this.navigated=!0,this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId,this.events.next(new AE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,f.resolve(!0)},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}scheduleNavigation(f,v,C,S,O){var D,M;if(this.disposed)return Promise.resolve(!1);let L,V,X;O?(L=O.resolve,V=O.reject,X=O.promise):X=new Promise((ve,Me)=>{L=ve,V=Me});const te=++this.navigationId;let oe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(C=this.location.getState()),oe=C&&C.\u0275routerPageId?C.\u0275routerPageId:S.replaceUrl||S.skipLocationChange?null!==(D=this.browserPageId)&&void 0!==D?D:0:(null!==(M=this.browserPageId)&&void 0!==M?M:0)+1):oe=0,this.setTransition({id:te,targetPageId:oe,source:v,restoredState:C,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:f,extras:S,resolve:L,reject:V,promise:X,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),X.catch(ve=>Promise.reject(ve))}setBrowserUrl(f,v){const C=this.urlSerializer.serialize(f),S=Object.assign(Object.assign({},v.extras.state),this.generateNgRouterState(v.id,v.targetPageId));this.location.isCurrentPathEqualTo(C)||v.extras.replaceUrl?this.location.replaceState(C,"",S):this.location.go(C,"",S)}restoreHistory(f,v=!1){var C,S;if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(C=this.currentNavigation)||void 0===C?void 0:C.finalUrl)||0===O?this.currentUrlTree===(null===(S=this.currentNavigation)||void 0===S?void 0:S.finalUrl)&&0===O&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(v&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(f,v){const C=new Ox(f.id,this.serializeUrl(f.extractedUrl),v);this.triggerEvent(C),f.resolve(!1)}generateNgRouterState(f,v){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:v}:{navigationId:f}}}return c.\u0275fac=function(f){Lc()},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();function mM(c){return"imperative"!==c}let jT=(()=>{class c{constructor(f,v,C,S,O){this.router=f,this.route=v,this.tabIndexAttribute=C,this.renderer=S,this.el=O,this.commands=null,this.onChanges=new Za,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(f){if(null!=this.tabIndexAttribute)return;const v=this.renderer,C=this.el.nativeElement;null!==f?v.setAttribute(C,"tabindex",f):v.removeAttribute(C,"tabindex")}ngOnChanges(f){this.onChanges.next(this)}set routerLink(f){null!=f?(this.commands=Array.isArray(f)?f:[f],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const f={skipLocationChange:T_(this.skipLocationChange),replaceUrl:T_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:T_(this.preserveFragment)})}}return c.\u0275fac=function(f){return new(f||c)(it(Vs),it(D_),Rp("tabindex"),it(Uw),it(Ya))},c.\u0275dir=yn({type:c,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(f,v){1&f&&kc("click",function(){return v.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xs]}),c})(),P_=(()=>{class c{constructor(f,v,C){this.router=f,this.route=v,this.locationStrategy=C,this.commands=null,this.href=null,this.onChanges=new Za,this.subscription=f.events.subscribe(S=>{S instanceof AE&&this.updateTargetUrlAndHref()})}set routerLink(f){this.commands=null!=f?Array.isArray(f)?f:[f]:null}ngOnChanges(f){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(f,v,C,S,O){if(0!==f||v||C||S||O||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const D={skipLocationChange:T_(this.skipLocationChange),replaceUrl:T_(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:T_(this.preserveFragment)})}}return c.\u0275fac=function(f){return new(f||c)(it(Vs),it(D_),it(jd))},c.\u0275dir=yn({type:c,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(f,v){1&f&&kc("click",function(S){return v.onClick(S.button,S.ctrlKey,S.shiftKey,S.altKey,S.metaKey)}),2&f&&Ds("target",v.target)("href",v.href,Kg)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Xs]}),c})();function T_(c){return""===c||!!c}let qR=(()=>{class c{constructor(f,v,C,S,O,D){this.router=f,this.element=v,this.renderer=C,this.cdr=S,this.link=O,this.linkWithHref=D,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ce,this.routerEventsSubscription=f.events.subscribe(M=>{M instanceof AE&&this.update()})}ngAfterContentInit(){Nt(this.links.changes,this.linksWithHrefs.changes,Nt(null)).pipe(js()).subscribe(f=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var f;null===(f=this.linkInputChangesSubscription)||void 0===f||f.unsubscribe();const v=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(C=>!!C).map(C=>C.onChanges);this.linkInputChangesSubscription=Xr(v).pipe(js()).subscribe(C=>{this.isActive!==this.isLinkActive(this.router)(C)&&this.update()})}set routerLinkActive(f){const v=Array.isArray(f)?f:f.split(" ");this.classes=v.filter(C=>!!C)}ngOnChanges(f){this.update()}ngOnDestroy(){var f;this.routerEventsSubscription.unsubscribe(),null===(f=this.linkInputChangesSubscription)||void 0===f||f.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const f=this.hasActiveLinks();this.isActive!==f&&(this.isActive=f,this.cdr.markForCheck(),this.classes.forEach(v=>{f?this.renderer.addClass(this.element.nativeElement,v):this.renderer.removeClass(this.element.nativeElement,v)}),this.isActiveChange.emit(f))})}isLinkActive(f){const v=function tL(c){return!!c.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return C=>!!C.urlTree&&f.isActive(C.urlTree,v)}hasActiveLinks(){const f=this.isLinkActive(this.router);return this.link&&f(this.link)||this.linkWithHref&&f(this.linkWithHref)||this.links.some(f)||this.linksWithHrefs.some(f)}}return c.\u0275fac=function(f){return new(f||c)(it(Vs),it(Ya),it(Uw),it(nE),it(jT,8),it(P_,8))},c.\u0275dir=yn({type:c,selectors:[["","routerLinkActive",""]],contentQueries:function(f,v,C){if(1&f&&(Ey(C,jT,5),Ey(C,P_,5)),2&f){let S;Nf(S=Oy())&&(v.links=S),Nf(S=Oy())&&(v.linksWithHrefs=S)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Xs]}),c})();class CM{}class wM{preload(p,f){return Nt(null)}}let _M=(()=>{class c{constructor(f,v,C,S){this.router=f,this.injector=C,this.preloadingStrategy=S,this.loader=new vM(C,v,M=>f.triggerEvent(new Rx(M)),M=>f.triggerEvent(new Dx(M)))}setUpPreloading(){this.subscription=this.router.events.pipe(By(f=>f instanceof AE),b_(()=>this.preload())).subscribe(()=>{})}preload(){const f=this.injector.get(Tu);return this.processRoutes(f,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,v){const C=[];for(const S of v)if(S.loadChildren&&!S.canLoad&&S._loadedConfig){const O=S._loadedConfig;C.push(this.processRoutes(O.module,O.routes))}else S.loadChildren&&!S.canLoad?C.push(this.preloadConfig(f,S)):S.children&&C.push(this.processRoutes(f,S.children));return Xr(C).pipe(js(),Gt(S=>{}))}preloadConfig(f,v){return this.preloadingStrategy.preload(v,()=>(v._loadedConfig?Nt(v._loadedConfig):this.loader.load(f.injector,v)).pipe(vn(S=>(v._loadedConfig=S,this.processRoutes(S.module,S.routes)))))}}return c.\u0275fac=function(f){return new(f||c)(ot(Vs),ot(qb),ot(oi),ot(CM))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})(),UT=(()=>{class c{constructor(f,v,C={}){this.router=f,this.viewportScroller=v,this.options=C,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},C.scrollPositionRestoration=C.scrollPositionRestoration||"disabled",C.anchorScrolling=C.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(f=>{f instanceof RT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof AE&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.router.parseUrl(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(f=>{f instanceof Px&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,v){this.router.triggerEvent(new Px(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,v))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return c.\u0275fac=function(f){Lc()},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();const zy=new St("ROUTER_CONFIGURATION"),SM=new St("ROUTER_FORROOT_GUARD"),nL=[lE,{provide:kx,useClass:Vx},{provide:Vs,useFactory:function lL(c,p,f,v,C,S,O={},D,M){const L=new Vs(null,c,p,f,v,C,xx(S));return D&&(L.urlHandlingStrategy=D),M&&(L.routeReuseStrategy=M),function uL(c,p){c.errorHandler&&(p.errorHandler=c.errorHandler),c.malformedUriErrorHandler&&(p.malformedUriErrorHandler=c.malformedUriErrorHandler),c.onSameUrlNavigation&&(p.onSameUrlNavigation=c.onSameUrlNavigation),c.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=c.paramsInheritanceStrategy),c.relativeLinkResolution&&(p.relativeLinkResolution=c.relativeLinkResolution),c.urlUpdateStrategy&&(p.urlUpdateStrategy=c.urlUpdateStrategy),c.canceledNavigationResolution&&(p.canceledNavigationResolution=c.canceledNavigationResolution)}(O,L),O.enableTracing&&L.events.subscribe(V=>{var X,te;null===(X=console.group)||void 0===X||X.call(console,`Router Event: ${V.constructor.name}`),console.log(V.toString()),console.log(V),null===(te=console.groupEnd)||void 0===te||te.call(console)}),L},deps:[kx,GE,lE,oi,qb,WT,zy,[class YN{},new Pa],[class zN{},new Pa]]},GE,{provide:D_,useFactory:function cL(c){return c.routerState.root},deps:[Vs]},_M,wM,class rL{preload(p,f){return f().pipe($f(()=>Nt(null)))}},{provide:zy,useValue:{enableTracing:!1}}];function iL(){return new n_("Router",Vs)}let bM=(()=>{class c{constructor(f,v){}static forRoot(f,v){return{ngModule:c,providers:[nL,EM(f),{provide:SM,useFactory:sL,deps:[[Vs,new Pa,new Ei]]},{provide:zy,useValue:v||{}},{provide:jd,useFactory:aL,deps:[Wd,[new Mh(Fi),new Pa],zy]},{provide:UT,useFactory:oL,deps:[Vs,YM,zy]},{provide:CM,useExisting:v&&v.preloadingStrategy?v.preloadingStrategy:wM},{provide:n_,multi:!0,useFactory:iL},[zT,{provide:Dy,multi:!0,useFactory:pL,deps:[zT]},{provide:OM,useFactory:dL,deps:[zT]},{provide:Y0,multi:!0,useExisting:OM}]]}}static forChild(f){return{ngModule:c,providers:[EM(f)]}}}return c.\u0275fac=function(f){return new(f||c)(ot(SM,8),ot(Vs,8))},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({}),c})();function oL(c,p,f){return f.scrollOffset&&p.setOffset(f.scrollOffset),new UT(c,p,f)}function aL(c,p,f={}){return f.useHash?new SR(c,p):new _R(c,p)}function sL(c){return"guarded"}function EM(c){return[{provide:Dp,multi:!0,useValue:c},{provide:WT,multi:!0,useValue:c}]}let zT=(()=>{class c{constructor(f){this.injector=f,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Za}appInitializer(){return this.injector.get(vR,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let v=null;const C=new Promise(D=>v=D),S=this.injector.get(Vs),O=this.injector.get(zy);return"disabled"===O.initialNavigation?(S.setUpLocationChangeListener(),v(!0)):"enabled"===O.initialNavigation||"enabledBlocking"===O.initialNavigation?(S.hooks.afterPreactivation=()=>this.initNavigation?Nt(null):(this.initNavigation=!0,v(!0),this.resultOfPreactivationDone),S.initialNavigation()):v(!0),C})}bootstrapListener(f){const v=this.injector.get(zy),C=this.injector.get(_M),S=this.injector.get(UT),O=this.injector.get(Vs),D=this.injector.get(Ty);f===D.components[0]&&(("enabledNonBlocking"===v.initialNavigation||void 0===v.initialNavigation)&&O.initialNavigation(),C.setUpPreloading(),S.init(),O.resetRootComponentType(D.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return c.\u0275fac=function(f){return new(f||c)(ot(oi))},c.\u0275prov=Dt({token:c,factory:c.\u0275fac}),c})();function pL(c){return c.appInitializer.bind(c)}function dL(c){return c.bootstrapListener.bind(c)}const OM=new St("Router Initializer");function B(c,p,f,v){var O,C=arguments.length,S=C<3?p:null===v?v=Object.getOwnPropertyDescriptor(p,f):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)S=Reflect.decorate(c,p,f,v);else for(var D=c.length-1;D>=0;D--)(O=c[D])&&(S=(C<3?O(S):C>3?O(p,f,S):O(p,f))||S);return C>3&&S&&Object.defineProperty(p,f,S),S}function H(c,p){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(c,p)}sa(497);var KT,$y=sa(564);let Pe=KT=class{hasChildColumns(){return!(!(this.childColumns&&this.childColumns.length>0)||1===this.childColumns.length&&this.childColumns.first===this)}toColDef(){let p=this.createColDefFromGridColumn(this);return this.hasChildColumns()&&(p.children=this.getChildColDefs(this.childColumns)),p}getChildColDefs(p){return p.filter(f=>!f.hasChildColumns()).map(f=>f.toColDef())}createColDefFromGridColumn(p){return function fL(c,p){var f={};for(var v in c)Object.prototype.hasOwnProperty.call(c,v)&&p.indexOf(v)<0&&(f[v]=c[v]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var C=0;for(v=Object.getOwnPropertySymbols(c);C<v.length;C++)p.indexOf(v[C])<0&&Object.prototype.propertyIsEnumerable.call(c,v[C])&&(f[v[C]]=c[v[C]])}return f}(p,["childColumns"])}};Pe.\u0275fac=function(p){return new(p||Pe)},Pe.\u0275cmp=Vi({type:Pe,selectors:[["ag-grid-column"]],contentQueries:function(p,f,v){if(1&p&&Ey(v,KT,4),2&p){let C;Nf(C=Oy())&&(f.childColumns=C)}},inputs:{filterFramework:"filterFramework",filterParams:"filterParams",floatingFilterComponent:"floatingFilterComponent",floatingFilterComponentParams:"floatingFilterComponentParams",floatingFilterComponentFramework:"floatingFilterComponentFramework",floatingFilterFramework:"floatingFilterFramework",filter:"filter",headerName:"headerName",headerValueGetter:"headerValueGetter",headerTooltip:"headerTooltip",headerClass:"headerClass",suppressHeaderKeyboardEvent:"suppressHeaderKeyboardEvent",columnGroupShow:"columnGroupShow",toolPanelClass:"toolPanelClass",suppressColumnsToolPanel:"suppressColumnsToolPanel",suppressFiltersToolPanel:"suppressFiltersToolPanel",tooltipComponent:"tooltipComponent",tooltipComponentFramework:"tooltipComponentFramework",tooltipComponentParams:"tooltipComponentParams",children:"children",groupId:"groupId",openByDefault:"openByDefault",marryChildren:"marryChildren",headerGroupComponent:"headerGroupComponent",headerGroupComponentFramework:"headerGroupComponentFramework",headerGroupComponentParams:"headerGroupComponentParams",colId:"colId",field:"field",type:"type",valueGetter:"valueGetter",valueFormatter:"valueFormatter",refData:"refData",keyCreator:"keyCreator",equals:"equals",tooltipField:"tooltipField",tooltipValueGetter:"tooltipValueGetter",checkboxSelection:"checkboxSelection",icons:"icons",suppressNavigable:"suppressNavigable",suppressKeyboardEvent:"suppressKeyboardEvent",suppressPaste:"suppressPaste",suppressFillHandle:"suppressFillHandle",hide:"hide",initialHide:"initialHide",lockVisible:"lockVisible",lockPosition:"lockPosition",suppressMovable:"suppressMovable",editable:"editable",valueSetter:"valueSetter",valueParser:"valueParser",cellEditor:"cellEditor",cellEditorFramework:"cellEditorFramework",cellEditorParams:"cellEditorParams",cellEditorSelector:"cellEditorSelector",singleClickEdit:"singleClickEdit",newValueHandler:"newValueHandler",cellEditorPopup:"cellEditorPopup",cellEditorPopupPosition:"cellEditorPopupPosition",onCellValueChanged:"onCellValueChanged",onCellClicked:"onCellClicked",onCellDoubleClicked:"onCellDoubleClicked",onCellContextMenu:"onCellContextMenu",getQuickFilterText:"getQuickFilterText",filterValueGetter:"filterValueGetter",floatingFilter:"floatingFilter",headerComponent:"headerComponent",headerComponentFramework:"headerComponentFramework",headerComponentParams:"headerComponentParams",menuTabs:"menuTabs",columnsMenuParams:"columnsMenuParams",suppressMenu:"suppressMenu",headerCheckboxSelection:"headerCheckboxSelection",headerCheckboxSelectionFilteredOnly:"headerCheckboxSelectionFilteredOnly",chartDataType:"chartDataType",pinned:"pinned",initialPinned:"initialPinned",lockPinned:"lockPinned",pinnedRowCellRenderer:"pinnedRowCellRenderer",pinnedRowCellRendererFramework:"pinnedRowCellRendererFramework",pinnedRowCellRendererParams:"pinnedRowCellRendererParams",pinnedRowValueFormatter:"pinnedRowValueFormatter",pivot:"pivot",initialPivot:"initialPivot",pivotIndex:"pivotIndex",initialPivotIndex:"initialPivotIndex",pivotComparator:"pivotComparator",enablePivot:"enablePivot",cellStyle:"cellStyle",cellClass:"cellClass",cellClassRules:"cellClassRules",cellRenderer:"cellRenderer",cellRendererFramework:"cellRendererFramework",cellRendererParams:"cellRendererParams",cellRendererSelector:"cellRendererSelector",autoHeight:"autoHeight",wrapText:"wrapText",enableCellChangeFlash:"enableCellChangeFlash",suppressCellFlash:"suppressCellFlash",rowDrag:"rowDrag",rowDragText:"rowDragText",dndSource:"dndSource",dndSourceOnRowDrag:"dndSourceOnRowDrag",rowGroup:"rowGroup",initialRowGroup:"initialRowGroup",rowGroupIndex:"rowGroupIndex",initialRowGroupIndex:"initialRowGroupIndex",enableRowGroup:"enableRowGroup",enableValue:"enableValue",aggFunc:"aggFunc",initialAggFunc:"initialAggFunc",allowedAggFuncs:"allowedAggFuncs",showRowGroup:"showRowGroup",sortable:"sortable",sort:"sort",initialSort:"initialSort",sortIndex:"sortIndex",initialSortIndex:"initialSortIndex",sortingOrder:"sortingOrder",comparator:"comparator",unSortIcon:"unSortIcon",sortedAt:"sortedAt",colSpan:"colSpan",rowSpan:"rowSpan",width:"width",initialWidth:"initialWidth",minWidth:"minWidth",maxWidth:"maxWidth",flex:"flex",initialFlex:"initialFlex",resizable:"resizable",suppressSizeToFit:"suppressSizeToFit",suppressAutoSize:"suppressAutoSize"},decls:0,vars:0,template:function(p,f){},encapsulation:2}),B([Ag(KT),H("design:type",Sy)],Pe.prototype,"childColumns",void 0),B([$(),H("design:type",Object)],Pe.prototype,"filterFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"filterParams",void 0),B([$(),H("design:type",Object)],Pe.prototype,"floatingFilterComponent",void 0),B([$(),H("design:type",Object)],Pe.prototype,"floatingFilterComponentParams",void 0),B([$(),H("design:type",Object)],Pe.prototype,"floatingFilterComponentFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"floatingFilterFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"filter",void 0),B([$(),H("design:type",String)],Pe.prototype,"headerName",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerValueGetter",void 0),B([$(),H("design:type",String)],Pe.prototype,"headerTooltip",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerClass",void 0),B([$(),H("design:type",Function)],Pe.prototype,"suppressHeaderKeyboardEvent",void 0),B([$(),H("design:type",String)],Pe.prototype,"columnGroupShow",void 0),B([$(),H("design:type",Object)],Pe.prototype,"toolPanelClass",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressColumnsToolPanel",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressFiltersToolPanel",void 0),B([$(),H("design:type",Object)],Pe.prototype,"tooltipComponent",void 0),B([$(),H("design:type",Object)],Pe.prototype,"tooltipComponentFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"tooltipComponentParams",void 0),B([$(),H("design:type",Array)],Pe.prototype,"children",void 0),B([$(),H("design:type",String)],Pe.prototype,"groupId",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"openByDefault",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"marryChildren",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerGroupComponent",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerGroupComponentFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerGroupComponentParams",void 0),B([$(),H("design:type",String)],Pe.prototype,"colId",void 0),B([$(),H("design:type",String)],Pe.prototype,"field",void 0),B([$(),H("design:type",Object)],Pe.prototype,"type",void 0),B([$(),H("design:type",Object)],Pe.prototype,"valueGetter",void 0),B([$(),H("design:type",Object)],Pe.prototype,"valueFormatter",void 0),B([$(),H("design:type",Object)],Pe.prototype,"refData",void 0),B([$(),H("design:type",Function)],Pe.prototype,"keyCreator",void 0),B([$(),H("design:type",Function)],Pe.prototype,"equals",void 0),B([$(),H("design:type",String)],Pe.prototype,"tooltipField",void 0),B([$(),H("design:type",Function)],Pe.prototype,"tooltipValueGetter",void 0),B([$(),H("design:type",Object)],Pe.prototype,"checkboxSelection",void 0),B([$(),H("design:type",Object)],Pe.prototype,"icons",void 0),B([$(),H("design:type",Object)],Pe.prototype,"suppressNavigable",void 0),B([$(),H("design:type",Function)],Pe.prototype,"suppressKeyboardEvent",void 0),B([$(),H("design:type",Object)],Pe.prototype,"suppressPaste",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressFillHandle",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"hide",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"initialHide",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"lockVisible",void 0),B([$(),H("design:type",Object)],Pe.prototype,"lockPosition",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressMovable",void 0),B([$(),H("design:type",Object)],Pe.prototype,"editable",void 0),B([$(),H("design:type",Object)],Pe.prototype,"valueSetter",void 0),B([$(),H("design:type",Object)],Pe.prototype,"valueParser",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellEditor",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellEditorFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellEditorParams",void 0),B([$(),H("design:type",Function)],Pe.prototype,"cellEditorSelector",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"singleClickEdit",void 0),B([$(),H("design:type",Function)],Pe.prototype,"newValueHandler",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"cellEditorPopup",void 0),B([$(),H("design:type",String)],Pe.prototype,"cellEditorPopupPosition",void 0),B([$(),H("design:type",Function)],Pe.prototype,"onCellValueChanged",void 0),B([$(),H("design:type",Function)],Pe.prototype,"onCellClicked",void 0),B([$(),H("design:type",Function)],Pe.prototype,"onCellDoubleClicked",void 0),B([$(),H("design:type",Function)],Pe.prototype,"onCellContextMenu",void 0),B([$(),H("design:type",Function)],Pe.prototype,"getQuickFilterText",void 0),B([$(),H("design:type",Object)],Pe.prototype,"filterValueGetter",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"floatingFilter",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerComponent",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerComponentFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerComponentParams",void 0),B([$(),H("design:type",Array)],Pe.prototype,"menuTabs",void 0),B([$(),H("design:type",Object)],Pe.prototype,"columnsMenuParams",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressMenu",void 0),B([$(),H("design:type",Object)],Pe.prototype,"headerCheckboxSelection",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"headerCheckboxSelectionFilteredOnly",void 0),B([$(),H("design:type",String)],Pe.prototype,"chartDataType",void 0),B([$(),H("design:type",Object)],Pe.prototype,"pinned",void 0),B([$(),H("design:type",Object)],Pe.prototype,"initialPinned",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"lockPinned",void 0),B([$(),H("design:type",Object)],Pe.prototype,"pinnedRowCellRenderer",void 0),B([$(),H("design:type",Object)],Pe.prototype,"pinnedRowCellRendererFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"pinnedRowCellRendererParams",void 0),B([$(),H("design:type",Object)],Pe.prototype,"pinnedRowValueFormatter",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"pivot",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"initialPivot",void 0),B([$(),H("design:type",Number)],Pe.prototype,"pivotIndex",void 0),B([$(),H("design:type",Number)],Pe.prototype,"initialPivotIndex",void 0),B([$(),H("design:type",Function)],Pe.prototype,"pivotComparator",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"enablePivot",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellStyle",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellClass",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellClassRules",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellRenderer",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellRendererFramework",void 0),B([$(),H("design:type",Object)],Pe.prototype,"cellRendererParams",void 0),B([$(),H("design:type",Function)],Pe.prototype,"cellRendererSelector",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"autoHeight",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"wrapText",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"enableCellChangeFlash",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressCellFlash",void 0),B([$(),H("design:type",Object)],Pe.prototype,"rowDrag",void 0),B([$(),H("design:type",Function)],Pe.prototype,"rowDragText",void 0),B([$(),H("design:type",Object)],Pe.prototype,"dndSource",void 0),B([$(),H("design:type",Function)],Pe.prototype,"dndSourceOnRowDrag",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"rowGroup",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"initialRowGroup",void 0),B([$(),H("design:type",Number)],Pe.prototype,"rowGroupIndex",void 0),B([$(),H("design:type",Number)],Pe.prototype,"initialRowGroupIndex",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"enableRowGroup",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"enableValue",void 0),B([$(),H("design:type",Object)],Pe.prototype,"aggFunc",void 0),B([$(),H("design:type",Object)],Pe.prototype,"initialAggFunc",void 0),B([$(),H("design:type",Array)],Pe.prototype,"allowedAggFuncs",void 0),B([$(),H("design:type",Object)],Pe.prototype,"showRowGroup",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"sortable",void 0),B([$(),H("design:type",String)],Pe.prototype,"sort",void 0),B([$(),H("design:type",String)],Pe.prototype,"initialSort",void 0),B([$(),H("design:type",Number)],Pe.prototype,"sortIndex",void 0),B([$(),H("design:type",Number)],Pe.prototype,"initialSortIndex",void 0),B([$(),H("design:type",Array)],Pe.prototype,"sortingOrder",void 0),B([$(),H("design:type",Function)],Pe.prototype,"comparator",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"unSortIcon",void 0),B([$(),H("design:type",Number)],Pe.prototype,"sortedAt",void 0),B([$(),H("design:type",Function)],Pe.prototype,"colSpan",void 0),B([$(),H("design:type",Function)],Pe.prototype,"rowSpan",void 0),B([$(),H("design:type",Number)],Pe.prototype,"width",void 0),B([$(),H("design:type",Number)],Pe.prototype,"initialWidth",void 0),B([$(),H("design:type",Number)],Pe.prototype,"minWidth",void 0),B([$(),H("design:type",Number)],Pe.prototype,"maxWidth",void 0),B([$(),H("design:type",Number)],Pe.prototype,"flex",void 0),B([$(),H("design:type",Number)],Pe.prototype,"initialFlex",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"resizable",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressSizeToFit",void 0),B([$(),H("design:type",Boolean)],Pe.prototype,"suppressAutoSize",void 0);let YT=(()=>{let c=class extends $y.VanillaFrameworkOverrides{constructor(f){super(),this._ngZone=f}setEmitterUsedCallback(f){this.isEmitterUsed=f}setTimeout(f,v){this._ngZone?this._ngZone.runOutsideAngular(()=>{window.setTimeout(()=>{f()},v)}):window.setTimeout(()=>{f()},v)}setInterval(f,v){return new $y.AgPromise(C=>{this._ngZone?this._ngZone.runOutsideAngular(()=>{C(window.setInterval(()=>{f()},v))}):C(window.setInterval(()=>{f()},v))})}addEventListener(f,v,C,S){this.isOutsideAngular(v)&&this._ngZone?this._ngZone.runOutsideAngular(()=>{f.addEventListener(v,C,S)}):f.addEventListener(v,C,S)}dispatchEvent(f,v,C=!1){this.isOutsideAngular(f)?this._ngZone?this._ngZone.runOutsideAngular(v):v():(this.isEmitterUsed(f)||C)&&(!Cn.isInAngularZone()&&this._ngZone?this._ngZone.run(v):v())}isFrameworkComponent(f){if(!f)return!1;const v=f.prototype;return v&&"agInit"in v}};return c.\u0275fac=function(f){return new(f||c)(ot(Cn))},c.\u0275prov=Dt({token:c,factory:function(p){return c.\u0275fac(p)}}),c=B([H("design:paramtypes",[Cn])],c),c})(),qT=(()=>{let c=class extends $y.BaseComponentWrapper{setViewContainerRef(f){this.viewContainerRef=f}setComponentFactoryResolver(f){this.componentFactoryResolver=f}createWrapper(f){let v=this,S=new class C extends class vL{init(p){this._params=p,this._componentRef=this.createComponent(),this._agAwareComponent=this._componentRef.instance,this._frameworkComponentInstance=this._componentRef.instance,this._eGui=this._componentRef.location.nativeElement,this._agAwareComponent.agInit(this._params)}getGui(){return this._eGui}destroy(){this._frameworkComponentInstance&&"function"==typeof this._frameworkComponentInstance.destroy&&this._frameworkComponentInstance.destroy(),this._componentRef&&this._componentRef.destroy()}getFrameworkComponentInstance(){return this._frameworkComponentInstance}}{init(D){super.init(D),this._componentRef.changeDetectorRef.detectChanges()}createComponent(){return v.createComponent(f)}hasMethod(D){return null!=S.getFrameworkComponentInstance()[D]}callMethod(D,M){const L=this.getFrameworkComponentInstance();return S.getFrameworkComponentInstance()[D].apply(L,M)}addMethod(D,M){S[D]=M}};return S}createComponent(f){let v=this.componentFactoryResolver.resolveComponentFactory(f);return this.viewContainerRef.createComponent(v)}};return c.\u0275fac=function(){let p;return function(v){return(p||(p=function sl(c){return Gi(()=>{const p=c.prototype.constructor,f=p[yi]||Pg(p),v=Object.prototype;let C=Object.getPrototypeOf(c.prototype).constructor;for(;C&&C!==v;){const S=C[yi]||Pg(C);if(S&&S!==f)return S;C=Object.getPrototypeOf(C)}return S=>new S})}(c)))(v||c)}}(),c.\u0275prov=Dt({token:c,factory:function(p){return c.\u0275fac(p)}}),c})(),yL=(()=>{let c=class{constructor(f,v,C,S,O){this.viewContainerRef=v,this.angularFrameworkOverrides=C,this.frameworkComponentWrapper=S,this.componentFactoryResolver=O,this._initialised=!1,this._destroyed=!1,this._fullyReady=$y.AgPromise.resolve(!0),this.statusBar=void 0,this.sideBar=void 0,this.suppressContextMenu=void 0,this.preventDefaultOnContextMenu=void 0,this.allowContextMenuWithControlKey=void 0,this.suppressMenuHide=void 0,this.enableBrowserTooltips=void 0,this.tooltipShowDelay=void 0,this.tooltipHideDelay=void 0,this.tooltipMouseTrack=void 0,this.popupParent=void 0,this.copyHeadersToClipboard=void 0,this.copyGroupHeadersToClipboard=void 0,this.clipboardDelimiter=void 0,this.suppressCopyRowsToClipboard=void 0,this.suppressLastEmptyLineOnPaste=void 0,this.suppressClipboardPaste=void 0,this.suppressClipboardApi=void 0,this.columnDefs=void 0,this.defaultColDef=void 0,this.defaultColGroupDef=void 0,this.columnTypes=void 0,this.maintainColumnOrder=void 0,this.suppressFieldDotNotation=void 0,this.deltaColumnMode=void 0,this.applyColumnDefOrder=void 0,this.immutableColumns=void 0,this.suppressSetColumnStateEvents=void 0,this.suppressColumnStateEvents=void 0,this.colWidth=void 0,this.minColWidth=void 0,this.maxColWidth=void 0,this.headerHeight=void 0,this.groupHeaderHeight=void 0,this.floatingFiltersHeight=void 0,this.pivotHeaderHeight=void 0,this.pivotGroupHeaderHeight=void 0,this.allowDragFromColumnsToolPanel=void 0,this.suppressMovableColumns=void 0,this.suppressColumnMoveAnimation=void 0,this.suppressDragLeaveHidesColumns=void 0,this.colResizeDefault=void 0,this.suppressAutoSize=void 0,this.autoSizePadding=void 0,this.skipHeaderOnAutoSize=void 0,this.components=void 0,this.frameworkComponents=void 0,this.editType=void 0,this.singleClickEdit=void 0,this.suppressClickEdit=void 0,this.readOnlyEdit=void 0,this.stopEditingWhenCellsLoseFocus=void 0,this.enterMovesDown=void 0,this.enterMovesDownAfterEdit=void 0,this.undoRedoCellEditing=void 0,this.undoRedoCellEditingLimit=void 0,this.stopEditingWhenGridLosesFocus=void 0,this.defaultCsvExportParams=void 0,this.suppressCsvExport=void 0,this.defaultExcelExportParams=void 0,this.suppressExcelExport=void 0,this.excelStyles=void 0,this.defaultExportParams=void 0,this.quickFilterText=void 0,this.cacheQuickFilter=void 0,this.excludeChildrenWhenTreeDataFiltering=void 0,this.enableCharts=void 0,this.chartThemes=void 0,this.customChartThemes=void 0,this.chartThemeOverrides=void 0,this.loadingCellRenderer=void 0,this.loadingCellRendererFramework=void 0,this.loadingCellRendererParams=void 0,this.loadingCellRendererSelector=void 0,this.localeText=void 0,this.masterDetail=void 0,this.keepDetailRows=void 0,this.keepDetailRowsCount=void 0,this.detailCellRenderer=void 0,this.detailCellRendererFramework=void 0,this.detailCellRendererParams=void 0,this.detailRowHeight=void 0,this.detailRowAutoHeight=void 0,this.context=void 0,this.alignedGrids=void 0,this.tabIndex=void 0,this.rowBuffer=void 0,this.valueCache=void 0,this.valueCacheNeverExpires=void 0,this.enableCellExpressions=void 0,this.suppressParentsInRowNodes=void 0,this.suppressTouch=void 0,this.suppressFocusAfterRefresh=void 0,this.suppressAsyncEvents=void 0,this.suppressBrowserResizeObserver=void 0,this.suppressPropertyNamesCheck=void 0,this.suppressChangeDetection=void 0,this.debug=void 0,this.overlayLoadingTemplate=void 0,this.loadingOverlayComponent=void 0,this.loadingOverlayComponentFramework=void 0,this.loadingOverlayComponentParams=void 0,this.suppressLoadingOverlay=void 0,this.overlayNoRowsTemplate=void 0,this.noRowsOverlayComponent=void 0,this.noRowsOverlayComponentFramework=void 0,this.noRowsOverlayComponentParams=void 0,this.suppressNoRowsOverlay=void 0,this.pagination=void 0,this.paginationPageSize=void 0,this.paginationAutoPageSize=void 0,this.paginateChildRows=void 0,this.suppressPaginationPanel=void 0,this.pivotMode=void 0,this.pivotPanelShow=void 0,this.pivotColumnGroupTotals=void 0,this.pivotRowTotals=void 0,this.pivotSuppressAutoColumn=void 0,this.suppressExpandablePivotGroups=void 0,this.functionsReadOnly=void 0,this.aggFuncs=void 0,this.suppressAggFuncInHeader=void 0,this.suppressAggAtRootLevel=void 0,this.aggregateOnlyChangedColumns=void 0,this.suppressAggFilteredOnly=void 0,this.animateRows=void 0,this.enableCellChangeFlash=void 0,this.cellFlashDelay=void 0,this.cellFadeDelay=void 0,this.domLayout=void 0,this.ensureDomOrder=void 0,this.enableRtl=void 0,this.suppressColumnVirtualisation=void 0,this.suppressMaxRenderedRowRestriction=void 0,this.suppressRowVirtualisation=void 0,this.rowDragManaged=void 0,this.suppressRowDrag=void 0,this.suppressMoveWhenRowDragging=void 0,this.rowDragEntireRow=void 0,this.rowDragMultiRow=void 0,this.fullWidthCellRenderer=void 0,this.fullWidthCellRendererFramework=void 0,this.fullWidthCellRendererParams=void 0,this.embedFullWidthRows=void 0,this.deprecatedEmbedFullWidthRows=void 0,this.groupDisplayType=void 0,this.groupDefaultExpanded=void 0,this.autoGroupColumnDef=void 0,this.groupMaintainOrder=void 0,this.groupSelectsChildren=void 0,this.groupAggFiltering=void 0,this.groupIncludeFooter=void 0,this.groupIncludeTotalFooter=void 0,this.groupSuppressBlankHeader=void 0,this.groupSelectsFiltered=void 0,this.showOpenedGroup=void 0,this.groupRemoveSingleChildren=void 0,this.groupRemoveLowestSingleChildren=void 0,this.groupHideOpenParents=void 0,this.rowGroupPanelShow=void 0,this.groupRowRenderer=void 0,this.groupRowRendererFramework=void 0,this.groupRowRendererParams=void 0,this.suppressMakeColumnVisibleAfterUnGroup=void 0,this.treeData=void 0,this.groupRowInnerRenderer=void 0,this.groupRowInnerRendererFramework=void 0,this.groupMultiAutoColumn=void 0,this.groupUseEntireRow=void 0,this.groupSuppressAutoColumn=void 0,this.rememberGroupStateWhenNewData=void 0,this.pinnedTopRowData=void 0,this.pinnedBottomRowData=void 0,this.rowModelType=void 0,this.rowData=void 0,this.immutableData=void 0,this.asyncTransactionWaitMillis=void 0,this.suppressModelUpdateAfterUpdateTransaction=void 0,this.deltaRowDataMode=void 0,this.batchUpdateWaitMillis=void 0,this.datasource=void 0,this.cacheOverflowSize=void 0,this.infiniteInitialRowCount=void 0,this.serverSideStoreType=void 0,this.cacheBlockSize=void 0,this.maxBlocksInCache=void 0,this.maxConcurrentDatasourceRequests=void 0,this.blockLoadDebounceMillis=void 0,this.purgeClosedRowNodes=void 0,this.serverSideDatasource=void 0,this.serverSideSortingAlwaysResets=void 0,this.serverSideFilteringAlwaysResets=void 0,this.suppressEnterpriseResetOnNewColumns=void 0,this.viewportDatasource=void 0,this.viewportRowModelPageSize=void 0,this.viewportRowModelBufferSize=void 0,this.alwaysShowHorizontalScroll=void 0,this.alwaysShowVerticalScroll=void 0,this.debounceVerticalScrollbar=void 0,this.suppressHorizontalScroll=void 0,this.suppressScrollOnNewData=void 0,this.suppressScrollWhenPopupsAreOpen=void 0,this.suppressAnimationFrame=void 0,this.suppressMiddleClickScrolls=void 0,this.suppressPreventDefaultOnMouseWheel=void 0,this.scrollbarWidth=void 0,this.rowSelection=void 0,this.rowMultiSelectWithClick=void 0,this.suppressRowDeselection=void 0,this.suppressRowClickSelection=void 0,this.suppressCellSelection=void 0,this.suppressCellFocus=void 0,this.suppressMultiRangeSelection=void 0,this.enableCellTextSelection=void 0,this.enableRangeSelection=void 0,this.enableRangeHandle=void 0,this.enableFillHandle=void 0,this.fillHandleDirection=void 0,this.suppressClearOnFillReduction=void 0,this.sortingOrder=void 0,this.accentedSort=void 0,this.unSortIcon=void 0,this.suppressMultiSort=void 0,this.alwaysMultiSort=void 0,this.multiSortKey=void 0,this.suppressMaintainUnsortedOrder=void 0,this.icons=void 0,this.rowHeight=void 0,this.rowStyle=void 0,this.rowClass=void 0,this.rowClassRules=void 0,this.suppressRowHoverHighlight=void 0,this.suppressRowTransform=void 0,this.columnHoverHighlight=void 0,this.deltaSort=void 0,this.treeDataDisplayType=void 0,this.angularCompileRows=void 0,this.angularCompileFilters=void 0,this.functionsPassive=void 0,this.enableGroupEdit=void 0,this.getContextMenuItems=void 0,this.getMainMenuItems=void 0,this.postProcessPopup=void 0,this.processCellForClipboard=void 0,this.processHeaderForClipboard=void 0,this.processGroupHeaderForClipboard=void 0,this.processCellFromClipboard=void 0,this.sendToClipboard=void 0,this.processDataFromClipboard=void 0,this.isExternalFilterPresent=void 0,this.doesExternalFilterPass=void 0,this.getChartToolbarItems=void 0,this.createChartContainer=void 0,this.navigateToNextHeader=void 0,this.tabToNextHeader=void 0,this.navigateToNextCell=void 0,this.tabToNextCell=void 0,this.suppressKeyboardEvent=void 0,this.localeTextFunc=void 0,this.getLocaleText=void 0,this.getDocument=void 0,this.paginationNumberFormatter=void 0,this.groupRowAggNodes=void 0,this.getGroupRowAgg=void 0,this.isGroupOpenByDefault=void 0,this.initialGroupOrderComparator=void 0,this.defaultGroupOrderComparator=void 0,this.processSecondaryColDef=void 0,this.processSecondaryColGroupDef=void 0,this.getDataPath=void 0,this.defaultGroupSortComparator=void 0,this.getChildCount=void 0,this.getServerSideStoreParams=void 0,this.isServerSideGroupOpenByDefault=void 0,this.isApplyServerSideTransaction=void 0,this.isServerSideGroup=void 0,this.getServerSideGroupKey=void 0,this.getBusinessKeyForNode=void 0,this.getRowNodeId=void 0,this.getRowId=void 0,this.processRowPostCreate=void 0,this.isRowSelectable=void 0,this.isRowMaster=void 0,this.fillOperation=void 0,this.postSort=void 0,this.postSortRows=void 0,this.getRowStyle=void 0,this.getRowClass=void 0,this.getRowHeight=void 0,this.isFullWidthCell=void 0,this.isFullWidthRow=void 0,this.toolPanelVisibleChanged=new Ce,this.pasteStart=new Ce,this.pasteEnd=new Ce,this.columnVisible=new Ce,this.columnPinned=new Ce,this.columnResized=new Ce,this.columnMoved=new Ce,this.columnValueChanged=new Ce,this.columnPivotModeChanged=new Ce,this.columnPivotChanged=new Ce,this.columnGroupOpened=new Ce,this.newColumnsLoaded=new Ce,this.gridColumnsChanged=new Ce,this.displayedColumnsChanged=new Ce,this.virtualColumnsChanged=new Ce,this.columnEverythingChanged=new Ce,this.componentStateChanged=new Ce,this.cellValueChanged=new Ce,this.cellEditRequest=new Ce,this.rowValueChanged=new Ce,this.cellEditingStarted=new Ce,this.cellEditingStopped=new Ce,this.rowEditingStarted=new Ce,this.rowEditingStopped=new Ce,this.filterOpened=new Ce,this.filterChanged=new Ce,this.filterModified=new Ce,this.chartCreated=new Ce,this.chartRangeSelectionChanged=new Ce,this.chartOptionsChanged=new Ce,this.chartDestroyed=new Ce,this.cellKeyDown=new Ce,this.cellKeyPress=new Ce,this.gridReady=new Ce,this.firstDataRendered=new Ce,this.gridSizeChanged=new Ce,this.modelUpdated=new Ce,this.virtualRowRemoved=new Ce,this.viewportChanged=new Ce,this.bodyScroll=new Ce,this.bodyScrollEnd=new Ce,this.dragStarted=new Ce,this.dragStopped=new Ce,this.paginationChanged=new Ce,this.rowDragEnter=new Ce,this.rowDragMove=new Ce,this.rowDragLeave=new Ce,this.rowDragEnd=new Ce,this.columnRowGroupChanged=new Ce,this.rowGroupOpened=new Ce,this.expandOrCollapseAll=new Ce,this.pinnedRowDataChanged=new Ce,this.rowDataChanged=new Ce,this.rowDataUpdated=new Ce,this.asyncTransactionsFlushed=new Ce,this.cellClicked=new Ce,this.cellDoubleClicked=new Ce,this.cellFocused=new Ce,this.cellMouseOver=new Ce,this.cellMouseOut=new Ce,this.cellMouseDown=new Ce,this.rowClicked=new Ce,this.rowDoubleClicked=new Ce,this.rowSelected=new Ce,this.selectionChanged=new Ce,this.cellContextMenu=new Ce,this.rangeSelectionChanged=new Ce,this.sortChanged=new Ce,this.columnRowGroupChangeRequest=new Ce,this.columnPivotChangeRequest=new Ce,this.columnValueChangeRequest=new Ce,this.columnAggFuncChangeRequest=new Ce,this._nativeElement=f.nativeElement}ngAfterViewInit(){this.frameworkComponentWrapper.setViewContainerRef(this.viewContainerRef),this.frameworkComponentWrapper.setComponentFactoryResolver(this.componentFactoryResolver),this.angularFrameworkOverrides.setEmitterUsedCallback(this.isEmitterUsed.bind(this)),this.gridOptions=$y.ComponentUtil.copyAttributesToGridOptions(this.gridOptions,this,!0),this.gridParams={globalEventListener:this.globalEventListener.bind(this),frameworkOverrides:this.angularFrameworkOverrides,providedBeanInstances:{frameworkComponentWrapper:this.frameworkComponentWrapper},modules:this.modules||[]},this.columns&&this.columns.length>0&&(this.gridOptions.columnDefs=this.columns.map(f=>f.toColDef())),new $y.Grid(this._nativeElement,this.gridOptions,this.gridParams),this.gridOptions.api&&(this.api=this.gridOptions.api),this.gridOptions.columnApi&&(this.columnApi=this.gridOptions.columnApi),this._initialised=!0,this._fullyReady.resolveNow(null,f=>f)}ngOnChanges(f){this._initialised&&$y.ComponentUtil.processOnChange(f,this.gridOptions,this.api,this.columnApi)}ngOnDestroy(){this._initialised&&(this._destroyed=!0,this.api&&this.api.destroy())}isEmitterUsed(f){const v=this[f],C=!!v&&v.observers&&v.observers.length>0,S=`on${f.charAt(0).toUpperCase()}${f.substring(1)}`;return C||!!this.gridOptions&&!!this.gridOptions[S]}globalEventListener(f,v){if(this._destroyed)return;const C=this[f];C&&this.isEmitterUsed(f)&&("gridReady"===f?this._fullyReady.then(S=>{C.emit(v)}):C.emit(v))}};return c.\u0275fac=function(f){return new(f||c)(it(Ya),it(Mo),it(YT),it(qT),it($c))},c.\u0275cmp=Vi({type:c,selectors:[["ag-grid-angular"]],contentQueries:function(f,v,C){if(1&f&&Ey(C,Pe,4),2&f){let S;Nf(S=Oy())&&(v.columns=S)}},inputs:{statusBar:"statusBar",sideBar:"sideBar",suppressContextMenu:"suppressContextMenu",preventDefaultOnContextMenu:"preventDefaultOnContextMenu",allowContextMenuWithControlKey:"allowContextMenuWithControlKey",suppressMenuHide:"suppressMenuHide",enableBrowserTooltips:"enableBrowserTooltips",tooltipShowDelay:"tooltipShowDelay",tooltipHideDelay:"tooltipHideDelay",tooltipMouseTrack:"tooltipMouseTrack",popupParent:"popupParent",copyHeadersToClipboard:"copyHeadersToClipboard",copyGroupHeadersToClipboard:"copyGroupHeadersToClipboard",clipboardDelimiter:"clipboardDelimiter",suppressCopyRowsToClipboard:"suppressCopyRowsToClipboard",suppressLastEmptyLineOnPaste:"suppressLastEmptyLineOnPaste",suppressClipboardPaste:"suppressClipboardPaste",suppressClipboardApi:"suppressClipboardApi",columnDefs:"columnDefs",defaultColDef:"defaultColDef",defaultColGroupDef:"defaultColGroupDef",columnTypes:"columnTypes",maintainColumnOrder:"maintainColumnOrder",suppressFieldDotNotation:"suppressFieldDotNotation",deltaColumnMode:"deltaColumnMode",applyColumnDefOrder:"applyColumnDefOrder",immutableColumns:"immutableColumns",suppressSetColumnStateEvents:"suppressSetColumnStateEvents",suppressColumnStateEvents:"suppressColumnStateEvents",colWidth:"colWidth",minColWidth:"minColWidth",maxColWidth:"maxColWidth",headerHeight:"headerHeight",groupHeaderHeight:"groupHeaderHeight",floatingFiltersHeight:"floatingFiltersHeight",pivotHeaderHeight:"pivotHeaderHeight",pivotGroupHeaderHeight:"pivotGroupHeaderHeight",allowDragFromColumnsToolPanel:"allowDragFromColumnsToolPanel",suppressMovableColumns:"suppressMovableColumns",suppressColumnMoveAnimation:"suppressColumnMoveAnimation",suppressDragLeaveHidesColumns:"suppressDragLeaveHidesColumns",colResizeDefault:"colResizeDefault",suppressAutoSize:"suppressAutoSize",autoSizePadding:"autoSizePadding",skipHeaderOnAutoSize:"skipHeaderOnAutoSize",components:"components",frameworkComponents:"frameworkComponents",editType:"editType",singleClickEdit:"singleClickEdit",suppressClickEdit:"suppressClickEdit",readOnlyEdit:"readOnlyEdit",stopEditingWhenCellsLoseFocus:"stopEditingWhenCellsLoseFocus",enterMovesDown:"enterMovesDown",enterMovesDownAfterEdit:"enterMovesDownAfterEdit",undoRedoCellEditing:"undoRedoCellEditing",undoRedoCellEditingLimit:"undoRedoCellEditingLimit",stopEditingWhenGridLosesFocus:"stopEditingWhenGridLosesFocus",defaultCsvExportParams:"defaultCsvExportParams",suppressCsvExport:"suppressCsvExport",defaultExcelExportParams:"defaultExcelExportParams",suppressExcelExport:"suppressExcelExport",excelStyles:"excelStyles",defaultExportParams:"defaultExportParams",quickFilterText:"quickFilterText",cacheQuickFilter:"cacheQuickFilter",excludeChildrenWhenTreeDataFiltering:"excludeChildrenWhenTreeDataFiltering",enableCharts:"enableCharts",chartThemes:"chartThemes",customChartThemes:"customChartThemes",chartThemeOverrides:"chartThemeOverrides",loadingCellRenderer:"loadingCellRenderer",loadingCellRendererFramework:"loadingCellRendererFramework",loadingCellRendererParams:"loadingCellRendererParams",loadingCellRendererSelector:"loadingCellRendererSelector",localeText:"localeText",masterDetail:"masterDetail",keepDetailRows:"keepDetailRows",keepDetailRowsCount:"keepDetailRowsCount",detailCellRenderer:"detailCellRenderer",detailCellRendererFramework:"detailCellRendererFramework",detailCellRendererParams:"detailCellRendererParams",detailRowHeight:"detailRowHeight",detailRowAutoHeight:"detailRowAutoHeight",context:"context",alignedGrids:"alignedGrids",tabIndex:"tabIndex",rowBuffer:"rowBuffer",valueCache:"valueCache",valueCacheNeverExpires:"valueCacheNeverExpires",enableCellExpressions:"enableCellExpressions",suppressParentsInRowNodes:"suppressParentsInRowNodes",suppressTouch:"suppressTouch",suppressFocusAfterRefresh:"suppressFocusAfterRefresh",suppressAsyncEvents:"suppressAsyncEvents",suppressBrowserResizeObserver:"suppressBrowserResizeObserver",suppressPropertyNamesCheck:"suppressPropertyNamesCheck",suppressChangeDetection:"suppressChangeDetection",debug:"debug",overlayLoadingTemplate:"overlayLoadingTemplate",loadingOverlayComponent:"loadingOverlayComponent",loadingOverlayComponentFramework:"loadingOverlayComponentFramework",loadingOverlayComponentParams:"loadingOverlayComponentParams",suppressLoadingOverlay:"suppressLoadingOverlay",overlayNoRowsTemplate:"overlayNoRowsTemplate",noRowsOverlayComponent:"noRowsOverlayComponent",noRowsOverlayComponentFramework:"noRowsOverlayComponentFramework",noRowsOverlayComponentParams:"noRowsOverlayComponentParams",suppressNoRowsOverlay:"suppressNoRowsOverlay",pagination:"pagination",paginationPageSize:"paginationPageSize",paginationAutoPageSize:"paginationAutoPageSize",paginateChildRows:"paginateChildRows",suppressPaginationPanel:"suppressPaginationPanel",pivotMode:"pivotMode",pivotPanelShow:"pivotPanelShow",pivotColumnGroupTotals:"pivotColumnGroupTotals",pivotRowTotals:"pivotRowTotals",pivotSuppressAutoColumn:"pivotSuppressAutoColumn",suppressExpandablePivotGroups:"suppressExpandablePivotGroups",functionsReadOnly:"functionsReadOnly",aggFuncs:"aggFuncs",suppressAggFuncInHeader:"suppressAggFuncInHeader",suppressAggAtRootLevel:"suppressAggAtRootLevel",aggregateOnlyChangedColumns:"aggregateOnlyChangedColumns",suppressAggFilteredOnly:"suppressAggFilteredOnly",animateRows:"animateRows",enableCellChangeFlash:"enableCellChangeFlash",cellFlashDelay:"cellFlashDelay",cellFadeDelay:"cellFadeDelay",domLayout:"domLayout",ensureDomOrder:"ensureDomOrder",enableRtl:"enableRtl",suppressColumnVirtualisation:"suppressColumnVirtualisation",suppressMaxRenderedRowRestriction:"suppressMaxRenderedRowRestriction",suppressRowVirtualisation:"suppressRowVirtualisation",rowDragManaged:"rowDragManaged",suppressRowDrag:"suppressRowDrag",suppressMoveWhenRowDragging:"suppressMoveWhenRowDragging",rowDragEntireRow:"rowDragEntireRow",rowDragMultiRow:"rowDragMultiRow",fullWidthCellRenderer:"fullWidthCellRenderer",fullWidthCellRendererFramework:"fullWidthCellRendererFramework",fullWidthCellRendererParams:"fullWidthCellRendererParams",embedFullWidthRows:"embedFullWidthRows",deprecatedEmbedFullWidthRows:"deprecatedEmbedFullWidthRows",groupDisplayType:"groupDisplayType",groupDefaultExpanded:"groupDefaultExpanded",autoGroupColumnDef:"autoGroupColumnDef",groupMaintainOrder:"groupMaintainOrder",groupSelectsChildren:"groupSelectsChildren",groupAggFiltering:"groupAggFiltering",groupIncludeFooter:"groupIncludeFooter",groupIncludeTotalFooter:"groupIncludeTotalFooter",groupSuppressBlankHeader:"groupSuppressBlankHeader",groupSelectsFiltered:"groupSelectsFiltered",showOpenedGroup:"showOpenedGroup",groupRemoveSingleChildren:"groupRemoveSingleChildren",groupRemoveLowestSingleChildren:"groupRemoveLowestSingleChildren",groupHideOpenParents:"groupHideOpenParents",rowGroupPanelShow:"rowGroupPanelShow",groupRowRenderer:"groupRowRenderer",groupRowRendererFramework:"groupRowRendererFramework",groupRowRendererParams:"groupRowRendererParams",suppressMakeColumnVisibleAfterUnGroup:"suppressMakeColumnVisibleAfterUnGroup",treeData:"treeData",groupRowInnerRenderer:"groupRowInnerRenderer",groupRowInnerRendererFramework:"groupRowInnerRendererFramework",groupMultiAutoColumn:"groupMultiAutoColumn",groupUseEntireRow:"groupUseEntireRow",groupSuppressAutoColumn:"groupSuppressAutoColumn",rememberGroupStateWhenNewData:"rememberGroupStateWhenNewData",pinnedTopRowData:"pinnedTopRowData",pinnedBottomRowData:"pinnedBottomRowData",rowModelType:"rowModelType",rowData:"rowData",immutableData:"immutableData",asyncTransactionWaitMillis:"asyncTransactionWaitMillis",suppressModelUpdateAfterUpdateTransaction:"suppressModelUpdateAfterUpdateTransaction",deltaRowDataMode:"deltaRowDataMode",batchUpdateWaitMillis:"batchUpdateWaitMillis",datasource:"datasource",cacheOverflowSize:"cacheOverflowSize",infiniteInitialRowCount:"infiniteInitialRowCount",serverSideStoreType:"serverSideStoreType",cacheBlockSize:"cacheBlockSize",maxBlocksInCache:"maxBlocksInCache",maxConcurrentDatasourceRequests:"maxConcurrentDatasourceRequests",blockLoadDebounceMillis:"blockLoadDebounceMillis",purgeClosedRowNodes:"purgeClosedRowNodes",serverSideDatasource:"serverSideDatasource",serverSideSortingAlwaysResets:"serverSideSortingAlwaysResets",serverSideFilteringAlwaysResets:"serverSideFilteringAlwaysResets",suppressEnterpriseResetOnNewColumns:"suppressEnterpriseResetOnNewColumns",viewportDatasource:"viewportDatasource",viewportRowModelPageSize:"viewportRowModelPageSize",viewportRowModelBufferSize:"viewportRowModelBufferSize",alwaysShowHorizontalScroll:"alwaysShowHorizontalScroll",alwaysShowVerticalScroll:"alwaysShowVerticalScroll",debounceVerticalScrollbar:"debounceVerticalScrollbar",suppressHorizontalScroll:"suppressHorizontalScroll",suppressScrollOnNewData:"suppressScrollOnNewData",suppressScrollWhenPopupsAreOpen:"suppressScrollWhenPopupsAreOpen",suppressAnimationFrame:"suppressAnimationFrame",suppressMiddleClickScrolls:"suppressMiddleClickScrolls",suppressPreventDefaultOnMouseWheel:"suppressPreventDefaultOnMouseWheel",scrollbarWidth:"scrollbarWidth",rowSelection:"rowSelection",rowMultiSelectWithClick:"rowMultiSelectWithClick",suppressRowDeselection:"suppressRowDeselection",suppressRowClickSelection:"suppressRowClickSelection",suppressCellSelection:"suppressCellSelection",suppressCellFocus:"suppressCellFocus",suppressMultiRangeSelection:"suppressMultiRangeSelection",enableCellTextSelection:"enableCellTextSelection",enableRangeSelection:"enableRangeSelection",enableRangeHandle:"enableRangeHandle",enableFillHandle:"enableFillHandle",fillHandleDirection:"fillHandleDirection",suppressClearOnFillReduction:"suppressClearOnFillReduction",sortingOrder:"sortingOrder",accentedSort:"accentedSort",unSortIcon:"unSortIcon",suppressMultiSort:"suppressMultiSort",alwaysMultiSort:"alwaysMultiSort",multiSortKey:"multiSortKey",suppressMaintainUnsortedOrder:"suppressMaintainUnsortedOrder",icons:"icons",rowHeight:"rowHeight",rowStyle:"rowStyle",rowClass:"rowClass",rowClassRules:"rowClassRules",suppressRowHoverHighlight:"suppressRowHoverHighlight",suppressRowTransform:"suppressRowTransform",columnHoverHighlight:"columnHoverHighlight",deltaSort:"deltaSort",treeDataDisplayType:"treeDataDisplayType",angularCompileRows:"angularCompileRows",angularCompileFilters:"angularCompileFilters",functionsPassive:"functionsPassive",enableGroupEdit:"enableGroupEdit",getContextMenuItems:"getContextMenuItems",getMainMenuItems:"getMainMenuItems",postProcessPopup:"postProcessPopup",processCellForClipboard:"processCellForClipboard",processHeaderForClipboard:"processHeaderForClipboard",processGroupHeaderForClipboard:"processGroupHeaderForClipboard",processCellFromClipboard:"processCellFromClipboard",sendToClipboard:"sendToClipboard",processDataFromClipboard:"processDataFromClipboard",isExternalFilterPresent:"isExternalFilterPresent",doesExternalFilterPass:"doesExternalFilterPass",getChartToolbarItems:"getChartToolbarItems",createChartContainer:"createChartContainer",navigateToNextHeader:"navigateToNextHeader",tabToNextHeader:"tabToNextHeader",navigateToNextCell:"navigateToNextCell",tabToNextCell:"tabToNextCell",suppressKeyboardEvent:"suppressKeyboardEvent",localeTextFunc:"localeTextFunc",getLocaleText:"getLocaleText",getDocument:"getDocument",paginationNumberFormatter:"paginationNumberFormatter",groupRowAggNodes:"groupRowAggNodes",getGroupRowAgg:"getGroupRowAgg",isGroupOpenByDefault:"isGroupOpenByDefault",initialGroupOrderComparator:"initialGroupOrderComparator",defaultGroupOrderComparator:"defaultGroupOrderComparator",processSecondaryColDef:"processSecondaryColDef",processSecondaryColGroupDef:"processSecondaryColGroupDef",getDataPath:"getDataPath",defaultGroupSortComparator:"defaultGroupSortComparator",getChildCount:"getChildCount",getServerSideStoreParams:"getServerSideStoreParams",isServerSideGroupOpenByDefault:"isServerSideGroupOpenByDefault",isApplyServerSideTransaction:"isApplyServerSideTransaction",isServerSideGroup:"isServerSideGroup",getServerSideGroupKey:"getServerSideGroupKey",getBusinessKeyForNode:"getBusinessKeyForNode",getRowNodeId:"getRowNodeId",getRowId:"getRowId",processRowPostCreate:"processRowPostCreate",isRowSelectable:"isRowSelectable",isRowMaster:"isRowMaster",fillOperation:"fillOperation",postSort:"postSort",postSortRows:"postSortRows",getRowStyle:"getRowStyle",getRowClass:"getRowClass",getRowHeight:"getRowHeight",isFullWidthCell:"isFullWidthCell",isFullWidthRow:"isFullWidthRow",gridOptions:"gridOptions",modules:"modules"},outputs:{toolPanelVisibleChanged:"toolPanelVisibleChanged",pasteStart:"pasteStart",pasteEnd:"pasteEnd",columnVisible:"columnVisible",columnPinned:"columnPinned",columnResized:"columnResized",columnMoved:"columnMoved",columnValueChanged:"columnValueChanged",columnPivotModeChanged:"columnPivotModeChanged",columnPivotChanged:"columnPivotChanged",columnGroupOpened:"columnGroupOpened",newColumnsLoaded:"newColumnsLoaded",gridColumnsChanged:"gridColumnsChanged",displayedColumnsChanged:"displayedColumnsChanged",virtualColumnsChanged:"virtualColumnsChanged",columnEverythingChanged:"columnEverythingChanged",componentStateChanged:"componentStateChanged",cellValueChanged:"cellValueChanged",cellEditRequest:"cellEditRequest",rowValueChanged:"rowValueChanged",cellEditingStarted:"cellEditingStarted",cellEditingStopped:"cellEditingStopped",rowEditingStarted:"rowEditingStarted",rowEditingStopped:"rowEditingStopped",filterOpened:"filterOpened",filterChanged:"filterChanged",filterModified:"filterModified",chartCreated:"chartCreated",chartRangeSelectionChanged:"chartRangeSelectionChanged",chartOptionsChanged:"chartOptionsChanged",chartDestroyed:"chartDestroyed",cellKeyDown:"cellKeyDown",cellKeyPress:"cellKeyPress",gridReady:"gridReady",firstDataRendered:"firstDataRendered",gridSizeChanged:"gridSizeChanged",modelUpdated:"modelUpdated",virtualRowRemoved:"virtualRowRemoved",viewportChanged:"viewportChanged",bodyScroll:"bodyScroll",bodyScrollEnd:"bodyScrollEnd",dragStarted:"dragStarted",dragStopped:"dragStopped",paginationChanged:"paginationChanged",rowDragEnter:"rowDragEnter",rowDragMove:"rowDragMove",rowDragLeave:"rowDragLeave",rowDragEnd:"rowDragEnd",columnRowGroupChanged:"columnRowGroupChanged",rowGroupOpened:"rowGroupOpened",expandOrCollapseAll:"expandOrCollapseAll",pinnedRowDataChanged:"pinnedRowDataChanged",rowDataChanged:"rowDataChanged",rowDataUpdated:"rowDataUpdated",asyncTransactionsFlushed:"asyncTransactionsFlushed",cellClicked:"cellClicked",cellDoubleClicked:"cellDoubleClicked",cellFocused:"cellFocused",cellMouseOver:"cellMouseOver",cellMouseOut:"cellMouseOut",cellMouseDown:"cellMouseDown",rowClicked:"rowClicked",rowDoubleClicked:"rowDoubleClicked",rowSelected:"rowSelected",selectionChanged:"selectionChanged",cellContextMenu:"cellContextMenu",rangeSelectionChanged:"rangeSelectionChanged",sortChanged:"sortChanged",columnRowGroupChangeRequest:"columnRowGroupChangeRequest",columnPivotChangeRequest:"columnPivotChangeRequest",columnValueChangeRequest:"columnValueChangeRequest",columnAggFuncChangeRequest:"columnAggFuncChangeRequest"},features:[g0([YT,qT]),Xs],decls:0,vars:0,template:function(f,v){},encapsulation:2}),B([Ag(Pe),H("design:type",Sy)],c.prototype,"columns",void 0),B([$(),H("design:type",Object)],c.prototype,"gridOptions",void 0),B([$(),H("design:type",Array)],c.prototype,"modules",void 0),B([$(),H("design:type",Object)],c.prototype,"statusBar",void 0),B([$(),H("design:type",Object)],c.prototype,"sideBar",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressContextMenu",void 0),B([$(),H("design:type",Boolean)],c.prototype,"preventDefaultOnContextMenu",void 0),B([$(),H("design:type",Boolean)],c.prototype,"allowContextMenuWithControlKey",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMenuHide",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableBrowserTooltips",void 0),B([$(),H("design:type",Number)],c.prototype,"tooltipShowDelay",void 0),B([$(),H("design:type",Number)],c.prototype,"tooltipHideDelay",void 0),B([$(),H("design:type",Boolean)],c.prototype,"tooltipMouseTrack",void 0),B([$(),H("design:type",HTMLElement)],c.prototype,"popupParent",void 0),B([$(),H("design:type",Boolean)],c.prototype,"copyHeadersToClipboard",void 0),B([$(),H("design:type",Boolean)],c.prototype,"copyGroupHeadersToClipboard",void 0),B([$(),H("design:type",String)],c.prototype,"clipboardDelimiter",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressCopyRowsToClipboard",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressLastEmptyLineOnPaste",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressClipboardPaste",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressClipboardApi",void 0),B([$(),H("design:type",Array)],c.prototype,"columnDefs",void 0),B([$(),H("design:type",Object)],c.prototype,"defaultColDef",void 0),B([$(),H("design:type",Object)],c.prototype,"defaultColGroupDef",void 0),B([$(),H("design:type",Object)],c.prototype,"columnTypes",void 0),B([$(),H("design:type",Boolean)],c.prototype,"maintainColumnOrder",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressFieldDotNotation",void 0),B([$(),H("design:type",Boolean)],c.prototype,"deltaColumnMode",void 0),B([$(),H("design:type",Boolean)],c.prototype,"applyColumnDefOrder",void 0),B([$(),H("design:type",Boolean)],c.prototype,"immutableColumns",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressSetColumnStateEvents",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressColumnStateEvents",void 0),B([$(),H("design:type",Number)],c.prototype,"colWidth",void 0),B([$(),H("design:type",Number)],c.prototype,"minColWidth",void 0),B([$(),H("design:type",Number)],c.prototype,"maxColWidth",void 0),B([$(),H("design:type",Number)],c.prototype,"headerHeight",void 0),B([$(),H("design:type",Number)],c.prototype,"groupHeaderHeight",void 0),B([$(),H("design:type",Number)],c.prototype,"floatingFiltersHeight",void 0),B([$(),H("design:type",Number)],c.prototype,"pivotHeaderHeight",void 0),B([$(),H("design:type",Number)],c.prototype,"pivotGroupHeaderHeight",void 0),B([$(),H("design:type",Boolean)],c.prototype,"allowDragFromColumnsToolPanel",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMovableColumns",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressColumnMoveAnimation",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressDragLeaveHidesColumns",void 0),B([$(),H("design:type",String)],c.prototype,"colResizeDefault",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressAutoSize",void 0),B([$(),H("design:type",Number)],c.prototype,"autoSizePadding",void 0),B([$(),H("design:type",Boolean)],c.prototype,"skipHeaderOnAutoSize",void 0),B([$(),H("design:type",Object)],c.prototype,"components",void 0),B([$(),H("design:type",Object)],c.prototype,"frameworkComponents",void 0),B([$(),H("design:type",String)],c.prototype,"editType",void 0),B([$(),H("design:type",Boolean)],c.prototype,"singleClickEdit",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressClickEdit",void 0),B([$(),H("design:type",Boolean)],c.prototype,"readOnlyEdit",void 0),B([$(),H("design:type",Boolean)],c.prototype,"stopEditingWhenCellsLoseFocus",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enterMovesDown",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enterMovesDownAfterEdit",void 0),B([$(),H("design:type",Boolean)],c.prototype,"undoRedoCellEditing",void 0),B([$(),H("design:type",Number)],c.prototype,"undoRedoCellEditingLimit",void 0),B([$(),H("design:type",Boolean)],c.prototype,"stopEditingWhenGridLosesFocus",void 0),B([$(),H("design:type",Object)],c.prototype,"defaultCsvExportParams",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressCsvExport",void 0),B([$(),H("design:type",Object)],c.prototype,"defaultExcelExportParams",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressExcelExport",void 0),B([$(),H("design:type",Array)],c.prototype,"excelStyles",void 0),B([$(),H("design:type",Object)],c.prototype,"defaultExportParams",void 0),B([$(),H("design:type",String)],c.prototype,"quickFilterText",void 0),B([$(),H("design:type",Boolean)],c.prototype,"cacheQuickFilter",void 0),B([$(),H("design:type",Boolean)],c.prototype,"excludeChildrenWhenTreeDataFiltering",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableCharts",void 0),B([$(),H("design:type",Array)],c.prototype,"chartThemes",void 0),B([$(),H("design:type",Object)],c.prototype,"customChartThemes",void 0),B([$(),H("design:type",Object)],c.prototype,"chartThemeOverrides",void 0),B([$(),H("design:type",Object)],c.prototype,"loadingCellRenderer",void 0),B([$(),H("design:type",Object)],c.prototype,"loadingCellRendererFramework",void 0),B([$(),H("design:type",Object)],c.prototype,"loadingCellRendererParams",void 0),B([$(),H("design:type",Function)],c.prototype,"loadingCellRendererSelector",void 0),B([$(),H("design:type",Object)],c.prototype,"localeText",void 0),B([$(),H("design:type",Boolean)],c.prototype,"masterDetail",void 0),B([$(),H("design:type",Boolean)],c.prototype,"keepDetailRows",void 0),B([$(),H("design:type",Number)],c.prototype,"keepDetailRowsCount",void 0),B([$(),H("design:type",Object)],c.prototype,"detailCellRenderer",void 0),B([$(),H("design:type",Object)],c.prototype,"detailCellRendererFramework",void 0),B([$(),H("design:type",Object)],c.prototype,"detailCellRendererParams",void 0),B([$(),H("design:type",Number)],c.prototype,"detailRowHeight",void 0),B([$(),H("design:type",Boolean)],c.prototype,"detailRowAutoHeight",void 0),B([$(),H("design:type",Object)],c.prototype,"context",void 0),B([$(),H("design:type",Array)],c.prototype,"alignedGrids",void 0),B([$(),H("design:type",Number)],c.prototype,"tabIndex",void 0),B([$(),H("design:type",Number)],c.prototype,"rowBuffer",void 0),B([$(),H("design:type",Boolean)],c.prototype,"valueCache",void 0),B([$(),H("design:type",Boolean)],c.prototype,"valueCacheNeverExpires",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableCellExpressions",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressParentsInRowNodes",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressTouch",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressFocusAfterRefresh",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressAsyncEvents",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressBrowserResizeObserver",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressPropertyNamesCheck",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressChangeDetection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"debug",void 0),B([$(),H("design:type",String)],c.prototype,"overlayLoadingTemplate",void 0),B([$(),H("design:type",Object)],c.prototype,"loadingOverlayComponent",void 0),B([$(),H("design:type",Object)],c.prototype,"loadingOverlayComponentFramework",void 0),B([$(),H("design:type",Object)],c.prototype,"loadingOverlayComponentParams",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressLoadingOverlay",void 0),B([$(),H("design:type",String)],c.prototype,"overlayNoRowsTemplate",void 0),B([$(),H("design:type",Object)],c.prototype,"noRowsOverlayComponent",void 0),B([$(),H("design:type",Object)],c.prototype,"noRowsOverlayComponentFramework",void 0),B([$(),H("design:type",Object)],c.prototype,"noRowsOverlayComponentParams",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressNoRowsOverlay",void 0),B([$(),H("design:type",Boolean)],c.prototype,"pagination",void 0),B([$(),H("design:type",Number)],c.prototype,"paginationPageSize",void 0),B([$(),H("design:type",Boolean)],c.prototype,"paginationAutoPageSize",void 0),B([$(),H("design:type",Boolean)],c.prototype,"paginateChildRows",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressPaginationPanel",void 0),B([$(),H("design:type",Boolean)],c.prototype,"pivotMode",void 0),B([$(),H("design:type",String)],c.prototype,"pivotPanelShow",void 0),B([$(),H("design:type",String)],c.prototype,"pivotColumnGroupTotals",void 0),B([$(),H("design:type",String)],c.prototype,"pivotRowTotals",void 0),B([$(),H("design:type",Boolean)],c.prototype,"pivotSuppressAutoColumn",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressExpandablePivotGroups",void 0),B([$(),H("design:type",Boolean)],c.prototype,"functionsReadOnly",void 0),B([$(),H("design:type",Object)],c.prototype,"aggFuncs",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressAggFuncInHeader",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressAggAtRootLevel",void 0),B([$(),H("design:type",Boolean)],c.prototype,"aggregateOnlyChangedColumns",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressAggFilteredOnly",void 0),B([$(),H("design:type",Boolean)],c.prototype,"animateRows",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableCellChangeFlash",void 0),B([$(),H("design:type",Number)],c.prototype,"cellFlashDelay",void 0),B([$(),H("design:type",Number)],c.prototype,"cellFadeDelay",void 0),B([$(),H("design:type",String)],c.prototype,"domLayout",void 0),B([$(),H("design:type",Boolean)],c.prototype,"ensureDomOrder",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableRtl",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressColumnVirtualisation",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMaxRenderedRowRestriction",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressRowVirtualisation",void 0),B([$(),H("design:type",Boolean)],c.prototype,"rowDragManaged",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressRowDrag",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMoveWhenRowDragging",void 0),B([$(),H("design:type",Boolean)],c.prototype,"rowDragEntireRow",void 0),B([$(),H("design:type",Boolean)],c.prototype,"rowDragMultiRow",void 0),B([$(),H("design:type",Object)],c.prototype,"fullWidthCellRenderer",void 0),B([$(),H("design:type",Object)],c.prototype,"fullWidthCellRendererFramework",void 0),B([$(),H("design:type",Object)],c.prototype,"fullWidthCellRendererParams",void 0),B([$(),H("design:type",Boolean)],c.prototype,"embedFullWidthRows",void 0),B([$(),H("design:type",Boolean)],c.prototype,"deprecatedEmbedFullWidthRows",void 0),B([$(),H("design:type",String)],c.prototype,"groupDisplayType",void 0),B([$(),H("design:type",Number)],c.prototype,"groupDefaultExpanded",void 0),B([$(),H("design:type",Object)],c.prototype,"autoGroupColumnDef",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupMaintainOrder",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupSelectsChildren",void 0),B([$(),H("design:type",Object)],c.prototype,"groupAggFiltering",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupIncludeFooter",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupIncludeTotalFooter",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupSuppressBlankHeader",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupSelectsFiltered",void 0),B([$(),H("design:type",Boolean)],c.prototype,"showOpenedGroup",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupRemoveSingleChildren",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupRemoveLowestSingleChildren",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupHideOpenParents",void 0),B([$(),H("design:type",String)],c.prototype,"rowGroupPanelShow",void 0),B([$(),H("design:type",Object)],c.prototype,"groupRowRenderer",void 0),B([$(),H("design:type",Object)],c.prototype,"groupRowRendererFramework",void 0),B([$(),H("design:type",Object)],c.prototype,"groupRowRendererParams",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMakeColumnVisibleAfterUnGroup",void 0),B([$(),H("design:type",Boolean)],c.prototype,"treeData",void 0),B([$(),H("design:type",Object)],c.prototype,"groupRowInnerRenderer",void 0),B([$(),H("design:type",Object)],c.prototype,"groupRowInnerRendererFramework",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupMultiAutoColumn",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupUseEntireRow",void 0),B([$(),H("design:type",Boolean)],c.prototype,"groupSuppressAutoColumn",void 0),B([$(),H("design:type",Boolean)],c.prototype,"rememberGroupStateWhenNewData",void 0),B([$(),H("design:type",Array)],c.prototype,"pinnedTopRowData",void 0),B([$(),H("design:type",Array)],c.prototype,"pinnedBottomRowData",void 0),B([$(),H("design:type",String)],c.prototype,"rowModelType",void 0),B([$(),H("design:type",Array)],c.prototype,"rowData",void 0),B([$(),H("design:type",Boolean)],c.prototype,"immutableData",void 0),B([$(),H("design:type",Number)],c.prototype,"asyncTransactionWaitMillis",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressModelUpdateAfterUpdateTransaction",void 0),B([$(),H("design:type",Boolean)],c.prototype,"deltaRowDataMode",void 0),B([$(),H("design:type",Number)],c.prototype,"batchUpdateWaitMillis",void 0),B([$(),H("design:type",Object)],c.prototype,"datasource",void 0),B([$(),H("design:type",Number)],c.prototype,"cacheOverflowSize",void 0),B([$(),H("design:type",Number)],c.prototype,"infiniteInitialRowCount",void 0),B([$(),H("design:type",String)],c.prototype,"serverSideStoreType",void 0),B([$(),H("design:type",Number)],c.prototype,"cacheBlockSize",void 0),B([$(),H("design:type",Number)],c.prototype,"maxBlocksInCache",void 0),B([$(),H("design:type",Number)],c.prototype,"maxConcurrentDatasourceRequests",void 0),B([$(),H("design:type",Number)],c.prototype,"blockLoadDebounceMillis",void 0),B([$(),H("design:type",Boolean)],c.prototype,"purgeClosedRowNodes",void 0),B([$(),H("design:type",Object)],c.prototype,"serverSideDatasource",void 0),B([$(),H("design:type",Boolean)],c.prototype,"serverSideSortingAlwaysResets",void 0),B([$(),H("design:type",Boolean)],c.prototype,"serverSideFilteringAlwaysResets",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressEnterpriseResetOnNewColumns",void 0),B([$(),H("design:type",Object)],c.prototype,"viewportDatasource",void 0),B([$(),H("design:type",Number)],c.prototype,"viewportRowModelPageSize",void 0),B([$(),H("design:type",Number)],c.prototype,"viewportRowModelBufferSize",void 0),B([$(),H("design:type",Boolean)],c.prototype,"alwaysShowHorizontalScroll",void 0),B([$(),H("design:type",Boolean)],c.prototype,"alwaysShowVerticalScroll",void 0),B([$(),H("design:type",Boolean)],c.prototype,"debounceVerticalScrollbar",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressHorizontalScroll",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressScrollOnNewData",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressScrollWhenPopupsAreOpen",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressAnimationFrame",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMiddleClickScrolls",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressPreventDefaultOnMouseWheel",void 0),B([$(),H("design:type",Number)],c.prototype,"scrollbarWidth",void 0),B([$(),H("design:type",String)],c.prototype,"rowSelection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"rowMultiSelectWithClick",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressRowDeselection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressRowClickSelection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressCellSelection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressCellFocus",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMultiRangeSelection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableCellTextSelection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableRangeSelection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableRangeHandle",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableFillHandle",void 0),B([$(),H("design:type",String)],c.prototype,"fillHandleDirection",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressClearOnFillReduction",void 0),B([$(),H("design:type",Array)],c.prototype,"sortingOrder",void 0),B([$(),H("design:type",Boolean)],c.prototype,"accentedSort",void 0),B([$(),H("design:type",Boolean)],c.prototype,"unSortIcon",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMultiSort",void 0),B([$(),H("design:type",Boolean)],c.prototype,"alwaysMultiSort",void 0),B([$(),H("design:type",String)],c.prototype,"multiSortKey",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressMaintainUnsortedOrder",void 0),B([$(),H("design:type",Object)],c.prototype,"icons",void 0),B([$(),H("design:type",Number)],c.prototype,"rowHeight",void 0),B([$(),H("design:type",Object)],c.prototype,"rowStyle",void 0),B([$(),H("design:type",Object)],c.prototype,"rowClass",void 0),B([$(),H("design:type",Object)],c.prototype,"rowClassRules",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressRowHoverHighlight",void 0),B([$(),H("design:type",Boolean)],c.prototype,"suppressRowTransform",void 0),B([$(),H("design:type",Boolean)],c.prototype,"columnHoverHighlight",void 0),B([$(),H("design:type",Boolean)],c.prototype,"deltaSort",void 0),B([$(),H("design:type",String)],c.prototype,"treeDataDisplayType",void 0),B([$(),H("design:type",Boolean)],c.prototype,"angularCompileRows",void 0),B([$(),H("design:type",Boolean)],c.prototype,"angularCompileFilters",void 0),B([$(),H("design:type",Boolean)],c.prototype,"functionsPassive",void 0),B([$(),H("design:type",Boolean)],c.prototype,"enableGroupEdit",void 0),B([$(),H("design:type",Function)],c.prototype,"getContextMenuItems",void 0),B([$(),H("design:type",Function)],c.prototype,"getMainMenuItems",void 0),B([$(),H("design:type",Function)],c.prototype,"postProcessPopup",void 0),B([$(),H("design:type",Function)],c.prototype,"processCellForClipboard",void 0),B([$(),H("design:type",Function)],c.prototype,"processHeaderForClipboard",void 0),B([$(),H("design:type",Function)],c.prototype,"processGroupHeaderForClipboard",void 0),B([$(),H("design:type",Function)],c.prototype,"processCellFromClipboard",void 0),B([$(),H("design:type",Function)],c.prototype,"sendToClipboard",void 0),B([$(),H("design:type",Function)],c.prototype,"processDataFromClipboard",void 0),B([$(),H("design:type",Function)],c.prototype,"isExternalFilterPresent",void 0),B([$(),H("design:type",Function)],c.prototype,"doesExternalFilterPass",void 0),B([$(),H("design:type",Function)],c.prototype,"getChartToolbarItems",void 0),B([$(),H("design:type",Function)],c.prototype,"createChartContainer",void 0),B([$(),H("design:type",Function)],c.prototype,"navigateToNextHeader",void 0),B([$(),H("design:type",Function)],c.prototype,"tabToNextHeader",void 0),B([$(),H("design:type",Function)],c.prototype,"navigateToNextCell",void 0),B([$(),H("design:type",Function)],c.prototype,"tabToNextCell",void 0),B([$(),H("design:type",Function)],c.prototype,"suppressKeyboardEvent",void 0),B([$(),H("design:type",Function)],c.prototype,"localeTextFunc",void 0),B([$(),H("design:type",Function)],c.prototype,"getLocaleText",void 0),B([$(),H("design:type",Function)],c.prototype,"getDocument",void 0),B([$(),H("design:type",Function)],c.prototype,"paginationNumberFormatter",void 0),B([$(),H("design:type",Function)],c.prototype,"groupRowAggNodes",void 0),B([$(),H("design:type",Function)],c.prototype,"getGroupRowAgg",void 0),B([$(),H("design:type",Function)],c.prototype,"isGroupOpenByDefault",void 0),B([$(),H("design:type",Function)],c.prototype,"initialGroupOrderComparator",void 0),B([$(),H("design:type",Function)],c.prototype,"defaultGroupOrderComparator",void 0),B([$(),H("design:type",Function)],c.prototype,"processSecondaryColDef",void 0),B([$(),H("design:type",Function)],c.prototype,"processSecondaryColGroupDef",void 0),B([$(),H("design:type",Function)],c.prototype,"getDataPath",void 0),B([$(),H("design:type",Function)],c.prototype,"defaultGroupSortComparator",void 0),B([$(),H("design:type",Function)],c.prototype,"getChildCount",void 0),B([$(),H("design:type",Function)],c.prototype,"getServerSideStoreParams",void 0),B([$(),H("design:type",Function)],c.prototype,"isServerSideGroupOpenByDefault",void 0),B([$(),H("design:type",Function)],c.prototype,"isApplyServerSideTransaction",void 0),B([$(),H("design:type",Function)],c.prototype,"isServerSideGroup",void 0),B([$(),H("design:type",Function)],c.prototype,"getServerSideGroupKey",void 0),B([$(),H("design:type",Function)],c.prototype,"getBusinessKeyForNode",void 0),B([$(),H("design:type",Function)],c.prototype,"getRowNodeId",void 0),B([$(),H("design:type",Function)],c.prototype,"getRowId",void 0),B([$(),H("design:type",Function)],c.prototype,"processRowPostCreate",void 0),B([$(),H("design:type",Function)],c.prototype,"isRowSelectable",void 0),B([$(),H("design:type",Function)],c.prototype,"isRowMaster",void 0),B([$(),H("design:type",Function)],c.prototype,"fillOperation",void 0),B([$(),H("design:type",Function)],c.prototype,"postSort",void 0),B([$(),H("design:type",Function)],c.prototype,"postSortRows",void 0),B([$(),H("design:type",Function)],c.prototype,"getRowStyle",void 0),B([$(),H("design:type",Function)],c.prototype,"getRowClass",void 0),B([$(),H("design:type",Function)],c.prototype,"getRowHeight",void 0),B([$(),H("design:type",Function)],c.prototype,"isFullWidthCell",void 0),B([$(),H("design:type",Function)],c.prototype,"isFullWidthRow",void 0),B([Je(),H("design:type",Ce)],c.prototype,"toolPanelVisibleChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"pasteStart",void 0),B([Je(),H("design:type",Ce)],c.prototype,"pasteEnd",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnVisible",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnPinned",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnResized",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnMoved",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnValueChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnPivotModeChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnPivotChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnGroupOpened",void 0),B([Je(),H("design:type",Ce)],c.prototype,"newColumnsLoaded",void 0),B([Je(),H("design:type",Ce)],c.prototype,"gridColumnsChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"displayedColumnsChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"virtualColumnsChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnEverythingChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"componentStateChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellValueChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellEditRequest",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowValueChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellEditingStarted",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellEditingStopped",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowEditingStarted",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowEditingStopped",void 0),B([Je(),H("design:type",Ce)],c.prototype,"filterOpened",void 0),B([Je(),H("design:type",Ce)],c.prototype,"filterChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"filterModified",void 0),B([Je(),H("design:type",Ce)],c.prototype,"chartCreated",void 0),B([Je(),H("design:type",Ce)],c.prototype,"chartRangeSelectionChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"chartOptionsChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"chartDestroyed",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellKeyDown",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellKeyPress",void 0),B([Je(),H("design:type",Ce)],c.prototype,"gridReady",void 0),B([Je(),H("design:type",Ce)],c.prototype,"firstDataRendered",void 0),B([Je(),H("design:type",Ce)],c.prototype,"gridSizeChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"modelUpdated",void 0),B([Je(),H("design:type",Ce)],c.prototype,"virtualRowRemoved",void 0),B([Je(),H("design:type",Ce)],c.prototype,"viewportChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"bodyScroll",void 0),B([Je(),H("design:type",Ce)],c.prototype,"bodyScrollEnd",void 0),B([Je(),H("design:type",Ce)],c.prototype,"dragStarted",void 0),B([Je(),H("design:type",Ce)],c.prototype,"dragStopped",void 0),B([Je(),H("design:type",Ce)],c.prototype,"paginationChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDragEnter",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDragMove",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDragLeave",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDragEnd",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnRowGroupChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowGroupOpened",void 0),B([Je(),H("design:type",Ce)],c.prototype,"expandOrCollapseAll",void 0),B([Je(),H("design:type",Ce)],c.prototype,"pinnedRowDataChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDataChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDataUpdated",void 0),B([Je(),H("design:type",Ce)],c.prototype,"asyncTransactionsFlushed",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellClicked",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellDoubleClicked",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellFocused",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellMouseOver",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellMouseOut",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellMouseDown",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowClicked",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowDoubleClicked",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rowSelected",void 0),B([Je(),H("design:type",Ce)],c.prototype,"selectionChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"cellContextMenu",void 0),B([Je(),H("design:type",Ce)],c.prototype,"rangeSelectionChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"sortChanged",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnRowGroupChangeRequest",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnPivotChangeRequest",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnValueChangeRequest",void 0),B([Je(),H("design:type",Ce)],c.prototype,"columnAggFuncChangeRequest",void 0),c=B([H("design:paramtypes",[Ya,Mo,YT,qT,$c])],c),c})();var XT;let A_=XT=class{static withComponents(p){return{ngModule:XT,providers:[{provide:Dp,useValue:p,multi:!0}]}}static forRoot(p){return{ngModule:XT,providers:[{provide:Dp,useValue:p,multi:!0}]}}};A_.\u0275fac=function(p){return new(p||A_)},A_.\u0275mod=Nn({type:A_}),A_.\u0275inj=Yn({imports:[[]]});const PM=function(){return["/home"]},mL=function(){return["/agreements"]};class CL{init(p){const f=document.createElement("span"),v=document.createElement("img"),C=document.createElement("p");var S=0;"Invalid"===p.value?(S=Math.floor(3*Math.random())+1,C.innerHTML='Invalid <span style="color:#fff0f5;"><span style="background-color:#d9524e;;padding:4px;">'+S+"</span></span>",this.eGui=C):"Published"===p.value?(v.src="assets/img/tick.png",f.appendChild(document.createTextNode(p.value+" ")),f.appendChild(v),this.eGui=f):(v.src="assets/img/peding.png",f.appendChild(document.createTextNode(p.value+" ")),f.appendChild(v),this.eGui=f)}getGui(){return this.eGui}refresh(){return!1}}let wL=(()=>{class c{constructor(f){this.http=f,this.columnDefs=[{field:"Status",maxWidth:130,minWidth:130,filter:"agTextColumnFilter",cellRenderer:CL,cellStyle:v=>"Invalid"===v.value?{color:"red",FontSize:"96px","font-weight":"bold"}:"Published"===v.value?{color:"green",FontSize:"96px","font-weight":"bold"}:{color:"#aaaaaa",FontSize:"96px","font-weight":"bold"}},{field:"Quote Number",maxWidth:160},{field:"Agreement Name",maxWidth:190,cellStyle:{color:"rgb(15 183 188)",FontSize:"96px","font-size":"15px"}},{field:"Agreement Type",maxWidth:180},{field:"Distributor Name",maxWidth:180},{field:"Effective Date",type:["dateColumn","nonEditableColumn"],maxWidth:160},{field:"Expiration Date",type:["dateColumn","nonEditableColumn"],maxWidth:160},{field:"Created Date",type:["dateColumn","nonEditableColumn"],maxWidth:160},{field:"Days Until Expiration",maxWidth:190,minWidth:160}],this.sideBar={toolPanels:[{id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel",toolPanelParams:{suppressRowGroups:!0,suppressValues:!0}}],defaultToolPanel:"columns"},this.defaultColDef={flex:1,minWidth:120,editable:!0,filter:"agTextColumnFilter",floatingFilter:!0,resizable:!0},this.columnTypes={numberColumn:{width:130,filter:"agNumberColumnFilter"},medalColumn:{width:100,columnGroupShow:"open",filter:!1},nonEditableColumn:{editable:!1},dateColumn:{filter:"agDateColumnFilter",filterParams:{comparator:(v,C)=>{const S=C.split("/"),O=Number(S[0]),D=Number(S[1])-1,M=Number(S[2]),L=new Date(M,D,O);return L<v?-1:L>v?1:0}}}}}onGridReady(f){this.gridApi=f.api,this.http.get("assets/data/data.json").subscribe(v=>f.api.setRowData(v))}}return c.\u0275fac=function(f){return new(f||c)(it(fx))},c.\u0275cmp=Vi({type:c,selectors:[["app-agreements"]],decls:53,vars:12,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css","integrity","sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn","crossorigin","anonymous"],["rel","stylesheet","href","https://use.fontawesome.com/releases/v5.6.3/css/all.css","integrity","sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/","crossorigin","anonymous"],["rel","stylesheet","href","https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css","integrity","sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==","crossorigin","anonymous","referrerpolicy","no-referrer"],[1,"body"],[1,"navbar","navbar-expand-xl","fixed-top","navbar-light","bg-blue","shadow-sm"],["routerLinkActive","routerLinkActive",1,"navbar-brand","d-flex","align-items-center",3,"routerLink"],["src","assets/img/logo_tps.svg","alt","TPS's Logo"],["type","button","data-toggle","collapse","data-target","navbarHeader","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarHeader",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLinkActive","routerLinkActive","id","Home",1,"nav-link",3,"routerLink"],["src","assets/img/house-bar.png","alt","Bootstrap","width","24","height","24"],["routerLinkActive","routerLinkActive","id","Agreements",1,"nav-link",3,"routerLink"],["src","assets/img/supermarket-bar.png","alt","Bootstrap","width","24","height","24"],[1,"navbar-nav","mr-auto1"],[1,"nav-item1"],["id","goodafternoon",1,"nav-link"],["src","assets/img/setting.png","alt","Bootstrap","width","18","height","18"],[1,"blankcategory"],[1,"bc-icons"],["aria-label","breadcrumb"],[1,"breadcrumb"],[1,"breadcrumb-item"],["href","./index.html",1,"white-text"],[1,"fa-solid","fa-angle-right"],[1,"container_home"],[1,"paragraph"],["id","tittle_para"],[1,"para_para"],[1,"ag-theme-alpine",2,"width","100%","height","80vh","padding-left","30px",3,"columnDefs","defaultColDef","pagination","sideBar","paginationPageSize","columnTypes","gridReady"]],template:function(f,v){1&f&&(ct(0,"html",0)(1,"head"),Bt(2,"meta",1)(3,"meta",2)(4,"meta",3),ct(5,"title"),sr(6,"Agreements"),wt(),Bt(7,"link",4)(8,"link",5)(9,"link",6),wt(),ct(10,"body")(11,"div",7)(12,"header")(13,"div",8)(14,"a",9),Bt(15,"img",10),wt(),ct(16,"button",11),Bt(17,"span",12),wt(),ct(18,"div",13)(19,"ul",14)(20,"li",15)(21,"a",16),Bt(22,"img",17),sr(23," Home"),wt()(),ct(24,"li",15)(25,"a",18),Bt(26,"img",19),sr(27," Agreements"),wt()()(),ct(28,"ul",20)(29,"li",21)(30,"a",22)(31,"b"),sr(32,"Pandult"),wt(),ct(33,"p"),sr(34,"Good Afternoon, User"),wt()()()(),Bt(35,"img",23),wt()()(),ct(36,"div",24)(37,"div",25)(38,"nav",26)(39,"ol",27)(40,"li",28)(41,"a",29),sr(42,"Home"),wt()(),ct(43,"li",28),Bt(44,"i",30),sr(45," Agreements"),wt()()()()(),ct(46,"div",31)(47,"div",32)(48,"h2",33),sr(49,"Agreements"),wt(),ct(50,"p",34),sr(51,"View, modify, and edit agreement details to prepare for claim submission"),wt()(),ct(52,"ag-grid-angular",35),kc("gridReady",function(S){return v.onGridReady(S)}),wt()()()()()),2&f&&(Qi(14),Ao("routerLink",Au(9,PM)),Qi(7),Ao("routerLink",Au(10,PM)),Qi(4),Ao("routerLink",Au(11,mL)),Qi(27),Ao("columnDefs",v.columnDefs)("defaultColDef",v.defaultColDef)("pagination",!0)("sideBar",v.sideBar)("paginationPageSize",25)("columnTypes",v.columnTypes))},directives:[P_,qR,yL],styles:["header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:48px}.nav[_ngcontent-%COMP%]{width:100%;height:90px}#Home[_ngcontent-%COMP%], #Agreements[_ngcontent-%COMP%], #help[_ngcontent-%COMP%], #goodafternoon[_ngcontent-%COMP%], #goodafternoon1[_ngcontent-%COMP%], #setting[_ngcontent-%COMP%]{color:#fff}.navbarHeader[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}.bg-blue[_ngcontent-%COMP%]{background-image:linear-gradient(0,#224559,#1476a3)}a.bg-green[_ngcontent-%COMP%]:hover, a.bg-dark[_ngcontent-%COMP%]:focus, button.bg-dark[_ngcontent-%COMP%]:hover, button.bg-dark[_ngcontent-%COMP%]:focus{background-color:#1d2124!important}.topnav[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}body[_ngcontent-%COMP%]{width:100%;height:auto;padding:25px;background-color:#f5f5f5}.Mod_breadcrum[_ngcontent-%COMP%]{font-style:italic;font-weight:700;color:#000}.container_home[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff}.blankcategory[_ngcontent-%COMP%]{margin-top:90px}#tittle_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#1476a3}#para_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#333}.paragraph[_ngcontent-%COMP%]{margin-left:40px}.blankcategory[_ngcontent-%COMP%]   .bc-icons[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{content:none}.blankcategory[_ngcontent-%COMP%]   .bc-icons[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#eee}"]}),c})();const TM=function(){return["/home"]},_L=function(){return["/agreements"]};function bL(c,p){if(1&c&&(ct(0,"p",4),sr(1),wt()),2&c){const f=ty();Qi(1),yb("product-details works! ",f.name,"")}}const EL=[{path:"home",component:(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275cmp=Vi({type:c,selectors:[["app-home"]],decls:86,vars:6,consts:[["lang","en"],["charset","UTF-8"],["http-equiv","X-UA-Compatible","content","IE=edge"],["name","viewport","content","width=device-width, initial-scale=1.0"],["rel","stylesheet","href","https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css","integrity","sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk","crossorigin","anonymous"],[1,"body"],[1,"navbar","navbar-expand-xl","fixed-top","navbar-light","bg-blue","shadow-sm"],["routerLinkActive","routerLinkActive",1,"navbar-brand","d-flex","align-items-center",3,"routerLink"],["src","assets/img/logo_tps.svg","alt","TPS's Logo"],["type","button","data-toggle","collapse","data-target","#navbarHeader","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarHeader",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLinkActive","routerLinkActive","id","Home",1,"nav-link",3,"routerLink"],["src","assets/img/house-bar.png","alt","Bootstrap","width","24","height","24"],["routerLinkActive","routerLinkActive","id","Agreements",1,"nav-link",3,"routerLink"],["src","assets/img/supermarket-bar.png","alt","Bootstrap","width","24","height","24"],[1,"navbar-nav","mr-auto1"],[1,"nav-item1"],["id","goodafternoon",1,"nav-link"],["src","assets/img/setting.png","alt","Bootstrap","width","18","height","18"],[1,"container_home","d-flex","align-content-start","flex-wrap"],[1,"row","d-flex","flex-wrap"],[1,"paragraph"],["id","tittle_para"],[1,"para_para"],[1,"col-sm-8"],[1,"row"],[1,"item_hashtag","d-flex","flex-wrap"],[1,"col-md-3"],["src","assets/img/tag.png","alt","Bootstrap","width","150px","height","150px"],[1,"col-md-7"],[1,"decscrip"],[1,"title_tag"],[1,"para_tag"],["type","submit","value","Get Started",1,"btn","btn-info1"],[1,"item_hashtag","d-flex","align-content-start","flex-wrap"],["src","assets/img/claim.png","alt","Bootstrap","width","150px","height","150px"],["src","assets/img/bar-chart.png","alt","Bootstrap","width","150px","height","150px"],[1,"col-sm-3","WorkFlow"],[1,"flextitle","d-flex","justify-content-between"],[1,"title_workflow"],["id","h4_workflow"],["type","button",1,"btn","btn-outline-primary"],[1,"d-flex","justify-content-center","content_workflow"]],template:function(f,v){1&f&&(ct(0,"html",0)(1,"head"),Bt(2,"meta",1)(3,"meta",2)(4,"meta",3),ct(5,"title"),sr(6,"Exercise 1"),wt(),Bt(7,"link",4),wt(),ct(8,"body")(9,"div",5)(10,"header")(11,"div",6)(12,"a",7),Bt(13,"img",8),wt(),ct(14,"button",9),Bt(15,"span",10),wt(),ct(16,"div",11)(17,"ul",12)(18,"li",13)(19,"a",14),Bt(20,"img",15),sr(21," Home"),wt()(),ct(22,"li",13)(23,"a",16),Bt(24,"img",17),sr(25," Agreements"),wt()()(),ct(26,"ul",18)(27,"li",19)(28,"a",20)(29,"b"),sr(30,"Pandult"),wt(),ct(31,"p"),sr(32,"Good Afternoon, User"),wt()()()(),Bt(33,"img",21),wt()()(),ct(34,"div",22)(35,"div",23)(36,"div",24)(37,"h2",25),sr(38,"Welcome to Celerity Enterprises!"),wt(),ct(39,"p",26),sr(40,"We provide a unified platform for agreement reconciliation, communication, and reporting between parties across the supplier and distribution network"),wt()(),ct(41,"div",27)(42,"div",28)(43,"div",29)(44,"div",30),Bt(45,"img",31),wt(),ct(46,"div",32)(47,"div",33)(48,"h2",34),sr(49,"Agreements"),wt(),ct(50,"p",35),sr(51," Review the status of special pricing agreements in place with your customers. View, modify, or publish agreements details to ensure contact rules are in place for accounting accuracy "),wt()()(),ct(52,"div",30),Bt(53,"input",36),wt()(),ct(54,"div",37)(55,"div",30),Bt(56,"img",38),wt(),ct(57,"div",32)(58,"div",33)(59,"h2",34),sr(60,"Claims"),wt(),ct(61,"p",35),sr(62," Ensure claims and submittals are ready to be sent your trading partners. Check the status of claim submissions, track workflow, and have complete transparency through the submission process. "),wt()()(),ct(63,"div",30),Bt(64,"input",36),wt()(),ct(65,"div",37)(66,"div",30),Bt(67,"img",39),wt(),ct(68,"div",32)(69,"div",33)(70,"h2",34),sr(71,"Reports"),wt(),ct(72,"p",35),sr(73," Get updateed agreement and claim data in real time, providing business intelligence for up-to-date understanding of your business. Create key performance reports, create scheduled reporting, and enjoy self-service analytics created for your unique business goals. "),wt()()(),ct(74,"div",30),Bt(75,"input",36),wt()()()(),ct(76,"div",40)(77,"div",41)(78,"div",42)(79,"h4",43),sr(80,"My WorkFlow"),wt()(),ct(81,"div",42)(82,"button",44),sr(83,"See all"),wt()()(),ct(84,"p",45),sr(85,"There are no tasks assigned to you"),wt()()()()()()()),2&f&&(Qi(12),Ao("routerLink",Au(3,TM)),Qi(7),Ao("routerLink",Au(4,TM)),Qi(4),Ao("routerLink",Au(5,_L)))},directives:[P_,qR],styles:["header[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:48px}.nav[_ngcontent-%COMP%]{width:100%;height:90px}#Home[_ngcontent-%COMP%], #Agreements[_ngcontent-%COMP%], #help[_ngcontent-%COMP%], #goodafternoon[_ngcontent-%COMP%], #setting[_ngcontent-%COMP%]{color:#fff}.navbarHeader[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}.bg-blue[_ngcontent-%COMP%]{background-image:linear-gradient(0,#224559,#1476a3)}a.bg-green[_ngcontent-%COMP%]:hover, a.bg-dark[_ngcontent-%COMP%]:focus, button.bg-dark[_ngcontent-%COMP%]:hover, button.bg-dark[_ngcontent-%COMP%]:focus{background-color:#1d2124!important}.topnav[_ngcontent-%COMP%]{overflow:hidden;background-color:#333;position:relative}body[_ngcontent-%COMP%]{width:100%;height:auto;padding:25px;background-color:#f5f5f5}.container_home[_ngcontent-%COMP%]{width:100%;height:auto;background-color:#fff;margin-top:90px}.paragraph[_ngcontent-%COMP%]{padding:25px 0 0 25px}#tittle_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#1476a3}#para_para[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;color:#333}.item_hashtag[_ngcontent-%COMP%]{width:100%;height:40%;margin-left:50px;margin-bottom:20px;border-radius:5px;background-color:#f5f5f5;display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.item_hashtag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{flex-basis:1px}.item_hashtag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{flex-basis:1px}.WorkFlow[_ngcontent-%COMP%]{width:100%;height:20%;background-color:#f5f5f5;margin:0 50px}.content_workflow[_ngcontent-%COMP%]{margin-top:25px;font-size:small}.decscrip[_ngcontent-%COMP%]{margin-bottom:50px}.btn-info1[_ngcontent-%COMP%]{height:50px;width:150px;color:#fff;background-color:#1978a3;border-color:#1978a3;font-weight:700}.btn-info1[_ngcontent-%COMP%]:hover{color:#fff;background-color:#138496;border-color:#117a8b}.title_tag[_ngcontent-%COMP%], .para_tag[_ngcontent-%COMP%]{color:#2e4774}@media only screen and (max-width: 1450px){.item_hashtag[_ngcontent-%COMP%]{width:100%;height:40%;background-color:#f5f5f5;border-radius:5px;display:flex;flex-direction:row;justify-content:center}.btn-info1[_ngcontent-%COMP%]{height:50px;width:180px;color:#fff;background-color:#1978a3;border-color:#1978a3;font-weight:700;margin-bottom:20px;display:flex}.WorkFlow[_ngcontent-%COMP%]{width:100%;height:200px;background-color:#f5f5f5;margin:20px 50px}}"]}),c})()},{path:"agreements",component:wL},{path:"product-details",component:(()=>{class c{constructor(){this.name="H\xea N\xf4"}ngOnInit(){}resetname(){console.log("Check click")}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275cmp=Vi({type:c,selectors:[["app-product-details"]],decls:5,vars:1,consts:[[1,"zx"],["name","H\xea n\xf4",4,"ngif"],[3,"value"],[3,"click"],["name","H\xea n\xf4"]],template:function(f,v){1&f&&(ct(0,"div",0),function bd(c,p,f,v,C,S,O,D){const M=ke(),L=It(),V=c+20,X=L.firstCreatePass?function tb(c,p,f,v,C,S,O,D,M){const L=p.consts,V=Oo(p,c,4,O||null,Zs(L,D));cd(p,f,V,Zs(L,M)),Gr(p,V);const X=V.tViews=af(2,V,v,C,S,p.directiveRegistry,p.pipeRegistry,null,p.schemas,L);return null!==p.queries&&(p.queries.template(p,V),X.queries=p.queries.embeddedTView(V)),V}(V,L,M,p,f,v,C,S,O):L.data[V];wa(X,!1);const te=M[11].createComment("");qo(L,M,te,X),Tn(te,M),cf(M,M[V]=ew(te,M,te,X)),qs(X)&&of(L,M,X),null!=O&&wv(M,X,D)}(1,bL,2,1,"p",1),Bt(2,"input",2),ct(3,"button",3),kc("click",function(){return v.resetname()}),sr(4,"Reset Name"),wt()()),2&f&&(Qi(2),Ao("value",v.name))},styles:[""]}),c})()}];let OL=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=Nn({type:c}),c.\u0275inj=Yn({imports:[[bM.forRoot(EL)],bM]}),c})();const RL=function(){return["/home"]},DL=function(){return["/agreements"]};let PL=(()=>{class c{constructor(){this.title="Angular13"}}return c.\u0275fac=function(f){return new(f||c)},c.\u0275cmp=Vi({type:c,selectors:[["app-root"]],decls:6,vars:4,consts:[["routerLinkActive","routerLinkActive",3,"routerLink"]],template:function(f,v){1&f&&(ct(0,"a",0),sr(1," \u0110i T\u1edbi Home\n"),wt(),sr(2,"\n\xa0\n"),ct(3,"a",0),sr(4," \u0110i T\u1edbi Agreements\n"),wt(),Bt(5,"router-outlet")),2&f&&(Ao("routerLink",Au(2,RL)),Qi(3),Ao("routerLink",Au(3,DL)))},directives:[P_,qR,kT],styles:[""]}),c})(),TL=(()=>{class c{}return c.\u0275fac=function(f){return new(f||c)},c.\u0275mod=Nn({type:c,bootstrap:[PL]}),c.\u0275inj=Yn({providers:[{provide:jd,useClass:SR}],imports:[[_F,OL,zF,A_.withComponents([])]]}),c})();(function rE(){so=!1})(),CF().bootstrapModule(TL)},564:(x_,W)=>{function sa(h){return null==h||""===h?null:h}function re(h,i){return void 0===i&&(i=!1),null!=h&&(""!==h||i)}function b(h){return!re(h)}function zn(h){return null==h||0===h.length}function Il(h){return null!=h&&"function"==typeof h.toString?h.toString():null}function Pr(h){if(void 0!==h){if(null===h||""===h)return null;if("number"==typeof h)return isNaN(h)?void 0:h;var i=parseInt(h,10);return isNaN(i)?void 0:i}}function Lo(h){if(void 0!==h)return null!==h&&""!==h&&("boolean"==typeof h?h:/true/i.test(h))}function Iu(h,i,r){void 0===r&&(r=!1);var o=null==h,u=null==i;if(h&&h.toNumber&&(h=h.toNumber()),i&&i.toNumber&&(i=i.toNumber()),o&&u)return 0;if(o)return-1;if(u)return 1;function d(m,w){return m>w?1:m<w?-1:0}if("string"!=typeof h||!r)return d(h,i);try{return h.localeCompare(i)}catch(m){return d(h,i)}}function la(h){if(h instanceof Set||h instanceof Map){var i=[];return h.forEach(function(r){return i.push(r)}),i}return Object.values(h)}Object.defineProperty(W,"__esModule",{value:!0});var qy=Object.freeze({makeNull:sa,exists:re,missing:b,missingOrEmpty:zn,toStringOrNull:Il,attrToNumber:Pr,attrToBoolean:Lo,attrToString:function Yy(h){if(null!=h&&""!==h)return h},referenceCompare:function Yf(h,i){return null==h&&null==i||!(null==h&&null!=i||null!=h&&null==i)&&h===i},jsonEquals:function Nl(h,i){return(h?JSON.stringify(h):null)===(i?JSON.stringify(i):null)},defaultComparator:Iu,values:la}),gn=function(){function h(){this.existingKeys={}}return h.prototype.addExistingKeys=function(i){for(var r=0;r<i.length;r++)this.existingKeys[i[r]]=!0},h.prototype.getUniqueKey=function(i,r){i=Il(i);for(var o=0;;){var u=void 0;if(i?(u=i,0!==o&&(u+="_"+o)):r?(u=r,0!==o&&(u+="_"+o)):u=""+o,!this.existingKeys[u])return this.existingKeys[u]=!0,u;o++}},h}();function qt(h,i){null!=h&&(Array.isArray(h)?h.forEach(function(r,o){return i(""+o,r)}):Object.keys(h).forEach(function(r){return i(r,h[r])}))}function Ll(h){for(var i={},r=Object.keys(h),o=0;o<r.length;o++){var u=r[o];i[u]=h[u]}return i}function ua(h,i){if(h){var r=h,o={};return Object.keys(r).forEach(function(u){if(!(i&&i.indexOf(u)>=0)){var d=r[u],m=ip(d)&&d.constructor===Object;o[u]=m?ua(d):d}}),o}}function Xa(h,i){return h[i]}function Xy(h,i,r){h[i]=r}function Qy(h,i,r,o){var u=Xa(h,r);void 0!==u&&Xy(i,r,o?o(u):u)}function Xd(h){var i={};return h.filter(function(r){return null!=r}).forEach(function(r){Object.keys(r).forEach(function(o){return i[o]=null})}),Object.keys(i)}function Go(h){if(!h)return[];var i=Object;if("function"==typeof i.values)return i.values(h);var r=[];for(var o in h)h.hasOwnProperty(o)&&h.propertyIsEnumerable(o)&&r.push(h[o]);return r}function In(h,i,r,o){void 0===r&&(r=!0),void 0===o&&(o=!1),re(i)&&qt(i,function(u,d){var m=h[u];m!==d&&(o&&null==m&&null!=d&&"object"==typeof d&&d.constructor===Object&&(h[u]=m={}),ip(d)&&ip(m)&&!Array.isArray(m)?In(m,d,r,o):(r||void 0!==d)&&(h[u]=d))})}function Hs(h,i,r){if(i&&h){if(!r)return h[i];for(var o=i.split("."),u=h,d=0;d<o.length;d++){if(null==u)return;u=u[o[d]]}return u}}function ca(h,i){Object.keys(h).forEach(function(u){"object"==typeof h[u]&&(h[u]=void 0)});var r=Object.getPrototypeOf(h),o={};Object.keys(r).forEach(function(u){"function"==typeof r[u]&&(o[u]={value:function(){console.warn("AG Grid: "+i+" function "+u+"() cannot be called as the grid has been destroyed.\n                     Please don't call grid API functions on destroyed grids - as a matter of fact you shouldn't\n                     be keeping the API reference, your application has a memory leak! Remove the API reference\n                     when the grid is destroyed.")},writable:!0})}),Object.defineProperties(h,o)}function ip(h){return"object"==typeof h&&null!==h}var Jy=Object.freeze({iterateObject:qt,cloneObject:Ll,deepCloneObject:function Ni(h){return JSON.parse(JSON.stringify(h))},deepCloneDefinition:ua,getProperty:Xa,setProperty:Xy,copyPropertiesIfPresent:function Nu(h,i){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];r.forEach(function(u){return Qy(h,i,u)})},copyPropertyIfPresent:Qy,getAllKeysInObjects:Xd,getAllValuesInObject:Go,mergeDeep:In,missingOrEmptyObject:function Qd(h){return b(h)||0===Object.keys(h).length},get:function Qa(h,i,r){if(null==h)return r;for(var o=i.split("."),u=h;o.length>1;)if(null==(u=u[o.shift()]))return r;var d=u[o[0]];return null!=d?d:r},set:function Zd(h,i,r){if(null!=h){for(var o=i.split("."),u=h;o.length>1;)if(null==(u=u[o.shift()]))return;u[o[0]]=r}},deepFreeze:function Zy(h){return Object.freeze(h),la(h).forEach(function(i){(ip(i)||"function"==typeof i)&&Zy(i)}),h},getValueUsingField:Hs,removeAllReferences:ca,isNonNullObject:ip}),Cr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,em=/([^\s,]+)/g,tm={};function Wt(h,i){tm[i]||(h(),tm[i]=!0)}function Jd(h){if(h.name)return h.name;var i=/function\s+([^\(]+)/.exec(h.toString());return i&&2===i.length?i[1].trim():null}function eh(h){return!!(h&&h.constructor&&h.call&&h.apply)}function qf(h){Gt(h,400)}var Hr=[],qr=!1;function Xf(h){Hr.push(h),!qr&&(qr=!0,window.setTimeout(function(){var i=Hr.slice();Hr.length=0,qr=!1,i.forEach(function(r){return r()})},0))}function Gt(h,i){void 0===i&&(i=0),h.length>0&&window.setTimeout(function(){return h.forEach(function(r){return r()})},i)}function pa(h,i,r){var o;return void 0===r&&(r=!1),function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var m=this,w=r&&!o;window.clearTimeout(o),o=window.setTimeout(function(){o=null,r||h.apply(m,u)},i),w&&h.apply(m,u)}}function th(h,i){var r=0;return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];var d=this,m=(new Date).getTime();m-r<i||(r=m,h.apply(d,o))}}function Qf(h,i,r,o){void 0===r&&(r=100);var u=(new Date).getTime(),d=null,m=!1,w=function(){var P=(new Date).getTime()-u>r;(h()||P)&&(i(),m=!0,null!=d&&(window.clearInterval(d),d=null),P&&o&&console.warn(o))};w(),m||(d=window.setInterval(w,10))}function M_(h){h&&h()}var HE=Object.freeze({doOnce:Wt,getFunctionName:Jd,getFunctionParameters:function Za(h){var i=h.toString().replace(Cr,"");return i.slice(i.indexOf("(")+1,i.indexOf(")")).match(em)||[]},isFunction:eh,executeInAWhile:qf,executeNextVMTurn:Xf,executeAfter:Gt,debounce:pa,throttle:th,waitUntil:Qf,compose:function Lu(){for(var h=[],i=0;i<arguments.length;i++)h[i]=arguments[i];return function(r){return h.reduce(function(o,u){return u(o)},r)}},callIfPresent:M_}),rm=function(){function h(i,r){if(this.beanWrappers={},this.destroyed=!1,i&&i.beanClasses){this.contextParams=i,this.logger=r,this.logger.log(">> creating ag-Application Context"),this.createBeans();var o=this.getBeanInstances();this.wireBeans(o),this.logger.log(">> ag-Application Context ready - component is alive")}}return h.prototype.getBeanInstances=function(){return la(this.beanWrappers).map(function(i){return i.beanInstance})},h.prototype.createBean=function(i,r){if(!i)throw Error("Can't wire to bean since it is null");return this.wireBeans([i],r),i},h.prototype.wireBeans=function(i,r){this.autoWireBeans(i),this.methodWireBeans(i),this.callLifeCycleMethods(i,"preConstructMethods"),re(r)&&i.forEach(r),this.callLifeCycleMethods(i,"postConstructMethods")},h.prototype.createBeans=function(){var i=this;this.contextParams.beanClasses.forEach(this.createBeanWrapper.bind(this)),qt(this.beanWrappers,function(o,u){var d;u.bean.__agBeanMetaData&&u.bean.__agBeanMetaData.autowireMethods&&u.bean.__agBeanMetaData.autowireMethods.agConstructor&&(d=u.bean.__agBeanMetaData.autowireMethods.agConstructor);var m=i.getBeansForParameters(d,u.bean.name),w=function F_(h,i){var r=[null].concat(i);return new(h.bind.apply(h,r))}(u.bean,m);u.beanInstance=w});var r=Object.keys(this.beanWrappers).join(", ");this.logger.log("created beans: "+r)},h.prototype.createBeanWrapper=function(i){var r=i.__agBeanMetaData;if(!r){var o;return o=i.prototype.constructor?Jd(i.prototype.constructor):""+i,void console.error("Context item "+o+" is not a bean")}this.beanWrappers[r.beanName]={bean:i,beanInstance:null,beanName:r.beanName}},h.prototype.autoWireBeans=function(i){var r=this;i.forEach(function(o){r.forEachMetaDataInHierarchy(o,function(u,d){var m=u.agClassAttributes;!m||m.forEach(function(w){var P=r.lookupBeanInstance(d,w.beanName,w.optional);o[w.attributeName]=P})})})},h.prototype.methodWireBeans=function(i){var r=this;i.forEach(function(o){r.forEachMetaDataInHierarchy(o,function(u,d){qt(u.autowireMethods,function(m,w){if("agConstructor"!==m){var P=r.getBeansForParameters(w,d);o[m].apply(o,P)}})})})},h.prototype.forEachMetaDataInHierarchy=function(i,r){for(var o=Object.getPrototypeOf(i);null!=o;){var u=o.constructor;u.hasOwnProperty("__agBeanMetaData")&&r(u.__agBeanMetaData,this.getBeanName(u)),o=Object.getPrototypeOf(o)}},h.prototype.getBeanName=function(i){if(i.__agBeanMetaData&&i.__agBeanMetaData.beanName)return i.__agBeanMetaData.beanName;var r=i.toString();return r.substring(9,r.indexOf("("))},h.prototype.getBeansForParameters=function(i,r){var o=this,u=[];return i&&qt(i,function(d,m){var w=o.lookupBeanInstance(r,m);u[Number(d)]=w}),u},h.prototype.lookupBeanInstance=function(i,r,o){if(void 0===o&&(o=!1),"context"===r)return this;if(this.contextParams.providedBeanInstances&&this.contextParams.providedBeanInstances.hasOwnProperty(r))return this.contextParams.providedBeanInstances[r];var u=this.beanWrappers[r];return u?u.beanInstance:(o||console.error("AG Grid: unable to find bean reference "+r+" while initialising "+i),null)},h.prototype.callLifeCycleMethods=function(i,r){var o=this;i.forEach(function(u){return o.callLifeCycleMethodsOnBean(u,r)})},h.prototype.callLifeCycleMethodsOnBean=function(i,r,o){var u={};this.forEachMetaDataInHierarchy(i,function(m){var w=m[r];w&&w.forEach(function(P){P!=o&&(u[P]=!0)})}),Object.keys(u).forEach(function(m){return i[m]()})},h.prototype.getBean=function(i){return this.lookupBeanInstance("getBean",i,!0)},h.prototype.destroy=function(){if(!this.destroyed){this.logger.log(">> Shutting down ag-Application Context");var i=this.getBeanInstances();this.destroyBeans(i),this.contextParams.providedBeanInstances=null,this.destroyed=!0,this.logger.log(">> ag-Application Context shut down - component is dead")}},h.prototype.destroyBean=function(i){!i||this.destroyBeans([i])},h.prototype.destroyBeans=function(i){var r=this;return i?(i.forEach(function(o){r.callLifeCycleMethodsOnBean(o,"preDestroyMethods","destroy"),"function"==typeof o.destroy&&o.destroy()}),[]):[]},h}();function Zf(h,i,r){var o=Li(h.constructor);o.preConstructMethods||(o.preConstructMethods=[]),o.preConstructMethods.push(i)}function We(h,i,r){var o=Li(h.constructor);o.postConstructMethods||(o.postConstructMethods=[]),o.postConstructMethods.push(i)}function _n(h,i,r){var o=Li(h.constructor);o.preDestroyMethods||(o.preDestroyMethods=[]),o.preDestroyMethods.push(i)}function qe(h){return function(i){Li(i).beanName=h}}function K(h){return function(i,r,o){nm(i,h,!1,0,r,null)}}function jt(h){return function(i,r,o){nm(i,h,!0,0,r,null)}}function nm(h,i,r,o,u,d){if(null!==i)if("number"!=typeof d){var m=Li(h.constructor);m.agClassAttributes||(m.agClassAttributes=[]),m.agClassAttributes.push({attributeName:u,beanName:i,optional:r})}else console.error("AG Grid: Autowired should be on an attribute");else console.error("AG Grid: Autowired name should not be null")}function Er(h){return function(i,r,o){var d,u="function"==typeof i?i:i.constructor;if("number"==typeof o){var m=void 0;r?(d=Li(u),m=r):(d=Li(u),m="agConstructor"),d.autowireMethods||(d.autowireMethods={}),d.autowireMethods[m]||(d.autowireMethods[m]={}),d.autowireMethods[m][o]=h}}}function Li(h){return h.hasOwnProperty("__agBeanMetaData")||(h.__agBeanMetaData={}),h.__agBeanMetaData}var h,im=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Jf=function(h,i){return function(r,o){i(r,o,h)}},Ja=function(){function h(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}return h.prototype.setBeans=function(i,r,o,u){if(void 0===u&&(u=null),this.frameworkOverrides=o,u){var d=r.useAsyncEvents();this.addGlobalListener(u,d)}},h.prototype.getListeners=function(i,r,o){var u=r?this.allAsyncListeners:this.allSyncListeners,d=u.get(i);return!d&&o&&u.set(i,d=new Set),d},h.prototype.noRegisteredListenersExist=function(){return 0===this.allSyncListeners.size&&0===this.allAsyncListeners.size&&0===this.globalSyncListeners.size&&0===this.globalAsyncListeners.size},h.prototype.addEventListener=function(i,r,o){void 0===o&&(o=!1),this.getListeners(i,o,!0).add(r)},h.prototype.removeEventListener=function(i,r,o){void 0===o&&(o=!1);var u=this.getListeners(i,o,!1);u&&(u.delete(r),0===u.size)&&(o?this.allAsyncListeners:this.allSyncListeners).delete(i)},h.prototype.addGlobalListener=function(i,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).add(i)},h.prototype.removeGlobalListener=function(i,r){void 0===r&&(r=!1),(r?this.globalAsyncListeners:this.globalSyncListeners).delete(i)},h.prototype.dispatchEvent=function(i){this.dispatchToListeners(i,!0),this.dispatchToListeners(i,!1),this.firedEvents[i.type]=!0},h.prototype.dispatchEventOnce=function(i){this.firedEvents[i.type]||this.dispatchEvent(i)},h.prototype.dispatchToListeners=function(i,r){var o=this,u=i.type,m=this.getListeners(u,r,!1);m&&m.forEach(function(x){r?o.dispatchAsync(function(){return x(i)}):x(i)}),(r?this.globalAsyncListeners:this.globalSyncListeners).forEach(function(P){r?o.dispatchAsync(function(){return o.frameworkOverrides.dispatchEvent(u,function(){return P(u,i)},!0)}):o.frameworkOverrides.dispatchEvent(u,function(){return P(u,i)},!0)})},h.prototype.dispatchAsync=function(i){this.asyncFunctionsQueue.push(i),this.scheduled||(window.setTimeout(this.flushAsyncQueue.bind(this),0),this.scheduled=!0)},h.prototype.flushAsyncQueue=function(){this.scheduled=!1;var i=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],i.forEach(function(r){return r()})},im([Jf(0,Er("loggerFactory")),Jf(1,Er("gridOptionsWrapper")),Jf(2,Er("frameworkOverrides")),Jf(3,Er("globalEventListener"))],h.prototype,"setBeans",null),im([qe("eventService")],h)}(),ge=function(){function h(){}return h.ROW_BUFFER_SIZE=10,h.LAYOUT_INTERVAL=500,h.BATCH_WAIT_MILLIS=50,h.EXPORT_TYPE_DRAG_COPY="dragCopy",h.EXPORT_TYPE_CLIPBOARD="clipboard",h.EXPORT_TYPE_EXCEL="excel",h.EXPORT_TYPE_CSV="csv",h.ROW_MODEL_TYPE_INFINITE="infinite",h.ROW_MODEL_TYPE_VIEWPORT="viewport",h.ROW_MODEL_TYPE_CLIENT_SIDE="clientSide",h.ROW_MODEL_TYPE_SERVER_SIDE="serverSide",h.ALWAYS="always",h.ONLY_WHEN_GROUPING="onlyWhenGrouping",h.PINNED_TOP="top",h.PINNED_BOTTOM="bottom",h.DOM_LAYOUT_NORMAL="normal",h.DOM_LAYOUT_PRINT="print",h.DOM_LAYOUT_AUTO_HEIGHT="autoHeight",h.GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn",h.SOURCE_PASTE="paste",h.PINNED_RIGHT="right",h.PINNED_LEFT="left",h.SORT_ASC="asc",h.SORT_DESC="desc",h.INPUT_SELECTOR="input, select, button, textarea",h.FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea",h.FOCUSABLE_EXCLUDE=".ag-hidden, .ag-hidden *, [disabled], .ag-disabled, .ag-disabled *",h}();(h=W.ModuleNames||(W.ModuleNames={})).CommunityCoreModule="@ag-grid-community/core",h.CommunityAllModules="@ag-grid-community/all",h.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",h.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",h.CsvExportModule="@ag-grid-community/csv-export",h.EnterpriseCoreModule="@ag-grid-enterprise/core",h.EnterpriseAllModules="@ag-grid-enterprise/all",h.RowGroupingModule="@ag-grid-enterprise/row-grouping",h.ColumnToolPanelModule="@ag-grid-enterprise/column-tool-panel",h.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",h.MenuModule="@ag-grid-enterprise/menu",h.SetFilterModule="@ag-grid-enterprise/set-filter",h.MultiFilterModule="@ag-grid-enterprise/multi-filter",h.StatusBarModule="@ag-grid-enterprise/status-bar",h.SideBarModule="@ag-grid-enterprise/side-bar",h.RangeSelectionModule="@ag-grid-enterprise/range-selection",h.MasterDetailModule="@ag-grid-enterprise/master-detail",h.RichSelectModule="@ag-grid-enterprise/rich-select",h.GridChartsModule="@ag-grid-enterprise/charts",h.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",h.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",h.ExcelExportModule="@ag-grid-enterprise/excel-export",h.ClipboardModule="@ag-grid-enterprise/clipboard",h.SparklinesModule="@ag-grid-enterprise/sparklines",h.AngularModule="@ag-grid-community/angular",h.ReactModule="@ag-grid-community/react",h.VueModule="@ag-grid-community/vue",h.PolymerModule="@ag-grid-community/polymer";var yt=function(){function h(){}return h.register=function(i,r){void 0===r&&(r=!0),h.modulesMap[i.moduleName]=i,void 0===h.moduleBased?h.moduleBased=r:h.moduleBased!==r&&Wt(function(){console.warn("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),console.warn("Please see https://www.ag-grid.com/javascript-grid/packages-modules/ for more information.")},"ModulePackageCheck")},h.registerModules=function(i,r){void 0===r&&(r=!0),i&&i.forEach(function(o){return h.register(o,r)})},h.assertRegistered=function(i,r){return!!this.isRegistered(i)||(u=h.moduleBased?"AG Grid: unable to use "+r+" as module "+i+" is not present. Please see: https://www.ag-grid.com/javascript-grid/modules/":"AG Grid: unable to use "+r+" as package 'ag-grid-enterprise' is not present. Please see: https://www.ag-grid.com/javascript-grid/packages/",Wt(function(){console.warn(u)},r+i),!1);var u},h.isRegistered=function(i){return!!h.modulesMap[i]},h.getRegisteredModules=function(){return la(h.modulesMap)},h.isPackageBased=function(){return!h.moduleBased},h.modulesMap={},h}(),op=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},WE=0,kt=function(){function h(i,r,o,u){this.instanceId=WE++,this.moving=!1,this.menuVisible=!1,this.filterActive=!1,this.eventService=new Ja,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=i,this.userProvidedColDef=r,this.colId=o,this.primary=u,this.setState(i)}return h.prototype.getInstanceId=function(){return this.instanceId},h.prototype.setState=function(i){void 0!==i.sort?(i.sort===ge.SORT_ASC||i.sort===ge.SORT_DESC)&&(this.sort=i.sort):(i.initialSort===ge.SORT_ASC||i.initialSort===ge.SORT_DESC)&&(this.sort=i.initialSort);var r=Pr(i.sortIndex),o=Pr(i.initialSortIndex);void 0!==r?null!==r&&(this.sortIndex=r):null!==o&&(this.sortIndex=o);var u=Lo(i.hide),d=Lo(i.initialHide);this.visible=void 0!==u?!u:!d,this.setPinned(void 0!==i.pinned?i.pinned:i.initialPinned);var m=Pr(i.flex),w=Pr(i.initialFlex);void 0!==m?this.flex=m:void 0!==w&&(this.flex=w)},h.prototype.setColDef=function(i,r){this.colDef=i,this.userProvidedColDef=r,this.initMinAndMaxWidths(),this.initDotNotation()},h.prototype.getUserProvidedColDef=function(){return this.userProvidedColDef},h.prototype.setParent=function(i){this.parent=i},h.prototype.getParent=function(){return this.parent},h.prototype.setOriginalParent=function(i){this.originalParent=i},h.prototype.getOriginalParent=function(){return this.originalParent},h.prototype.initialise=function(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.validate()},h.prototype.initDotNotation=function(){var i=this.gridOptionsWrapper.isSuppressFieldDotNotation();this.fieldContainsDots=re(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=re(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!i},h.prototype.initMinAndMaxWidths=function(){var i=this.colDef;this.minWidth=this.columnUtils.calculateColMinWidth(i),this.maxWidth=this.columnUtils.calculateColMaxWidth(i)},h.prototype.resetActualWidth=function(i){void 0===i&&(i="api");var r=this.columnUtils.calculateColInitialWidth(this.colDef);this.setActualWidth(r,i,!0)},h.prototype.isEmptyGroup=function(){return!1},h.prototype.isRowGroupDisplayed=function(i){return!(b(this.colDef)||b(this.colDef.showRowGroup)||!0!==this.colDef.showRowGroup&&this.colDef.showRowGroup!==i)},h.prototype.isPrimary=function(){return this.primary},h.prototype.isFilterAllowed=function(){return!!this.colDef.filter||!!this.colDef.filterFramework},h.prototype.isFieldContainsDots=function(){return this.fieldContainsDots},h.prototype.isTooltipFieldContainsDots=function(){return this.tooltipFieldContainsDots},h.prototype.validate=function(){var i=this.colDef;function r(m,w,P){Wt(function(){P?console.warn(m,P):Wt(function(){return console.warn(m)},w)},w)}this.gridOptionsWrapper.isRowModelDefault()&&!yt.isRegistered(W.ModuleNames.RowGroupingModule)&&["enableRowGroup","rowGroup","rowGroupIndex","enablePivot","enableValue","pivot","pivotIndex","aggFunc"].forEach(function(m){re(i[m])&&(yt.isPackageBased()?r("AG Grid: "+m+" is only valid in ag-grid-enterprise, your column definition should not have "+m,"ColumnRowGroupingMissing"+m):r("AG Grid: "+m+" is only valid with AG Grid Enterprise Module "+W.ModuleNames.RowGroupingModule+" - your column definition should not have "+m,"ColumnRowGroupingMissing"+m))}),yt.isRegistered(W.ModuleNames.RichSelectModule)||"agRichSelect"===this.colDef.cellEditor&&(yt.isPackageBased()?r("AG Grid: "+this.colDef.cellEditor+" can only be used with ag-grid-enterprise","ColumnRichSelectMissing"):r("AG Grid: "+this.colDef.cellEditor+" can only be used with AG Grid Enterprise Module "+W.ModuleNames.RichSelectModule,"ColumnRichSelectMissing")),this.gridOptionsWrapper.isTreeData()&&["rowGroup","rowGroupIndex","pivot","pivotIndex"].forEach(function(m){re(i[m])&&r("AG Grid: "+m+" is not possible when doing tree data, your column definition should not have "+m,"TreeDataCannotRowGroup")}),re(this.colDef.width)&&"number"!=typeof this.colDef.width&&r("AG Grid: colDef.width should be a number, not "+typeof this.colDef.width,"ColumnCheck_asdfawef"),i.pinnedRowCellRenderer&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererParams&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowCellRendererFramework&&r("AG Grid: pinnedRowCellRenderer no longer exists, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue. See https://www.ag-grid.com/javascript-grid/cell-rendering/#many-renderers-one-column","colDef.pinnedRowCellRenderer-deprecated"),i.pinnedRowValueGetter&&r("AG Grid: pinnedRowCellRenderer is deprecated, use cellRendererSelector if you want a different Cell Renderer for pinned rows. Check params.node.rowPinned. This was an unfortunate (but necessary) change we had to do to allow future plans we have of re-skinng the data grid in frameworks such as React, Angular and Vue.","colDef.pinnedRowCellRenderer-deprecated")},h.prototype.addEventListener=function(i,r){this.eventService.addEventListener(i,r)},h.prototype.removeEventListener=function(i,r){this.eventService.removeEventListener(i,r)},h.prototype.createColumnFunctionCallbackParams=function(i){return{node:i,data:i.data,column:this,colDef:this.colDef,context:this.gridOptionsWrapper.getContext(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()}},h.prototype.isSuppressNavigable=function(i){if("boolean"==typeof this.colDef.suppressNavigable)return this.colDef.suppressNavigable;if("function"==typeof this.colDef.suppressNavigable){var r=this.createColumnFunctionCallbackParams(i);return(0,this.colDef.suppressNavigable)(r)}return!1},h.prototype.isCellEditable=function(i){return!(i.group&&!this.gridOptionsWrapper.isEnableGroupEdit())&&this.isColumnFunc(i,this.colDef.editable)},h.prototype.isSuppressFillHandle=function(){return!!Lo(this.colDef.suppressFillHandle)},h.prototype.isAutoHeight=function(){return!!Lo(this.colDef.autoHeight)},h.prototype.isRowDrag=function(i){return this.isColumnFunc(i,this.colDef.rowDrag)},h.prototype.isDndSource=function(i){return this.isColumnFunc(i,this.colDef.dndSource)},h.prototype.isCellCheckboxSelection=function(i){return this.isColumnFunc(i,this.colDef.checkboxSelection)},h.prototype.isSuppressPaste=function(i){return this.isColumnFunc(i,this.colDef?this.colDef.suppressPaste:null)},h.prototype.isResizable=function(){return!!Lo(this.colDef.resizable)},h.prototype.isColumnFunc=function(i,r){return"boolean"==typeof r?r:"function"==typeof r&&r(this.createColumnFunctionCallbackParams(i))},h.prototype.setMoving=function(i,r){void 0===r&&(r="api"),this.moving=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_MOVING_CHANGED,r))},h.prototype.createColumnEvent=function(i,r){return{api:this.gridApi,columnApi:this.columnApi,type:i,column:this,columns:[this],source:r}},h.prototype.isMoving=function(){return this.moving},h.prototype.getSort=function(){return this.sort},h.prototype.setSort=function(i,r){void 0===r&&(r="api"),this.sort!==i&&(this.sort=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_SORT_CHANGED,r)))},h.prototype.setMenuVisible=function(i,r){void 0===r&&(r="api"),this.menuVisible!==i&&(this.menuVisible=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_MENU_VISIBLE_CHANGED,r)))},h.prototype.isMenuVisible=function(){return this.menuVisible},h.prototype.isSortAscending=function(){return this.sort===ge.SORT_ASC},h.prototype.isSortDescending=function(){return this.sort===ge.SORT_DESC},h.prototype.isSortNone=function(){return b(this.sort)},h.prototype.isSorting=function(){return re(this.sort)},h.prototype.getSortIndex=function(){return this.sortIndex},h.prototype.setSortIndex=function(i){this.sortIndex=i},h.prototype.setAggFunc=function(i){this.aggFunc=i},h.prototype.getAggFunc=function(){return this.aggFunc},h.prototype.getLeft=function(){return this.left},h.prototype.getOldLeft=function(){return this.oldLeft},h.prototype.getRight=function(){return this.left+this.actualWidth},h.prototype.setLeft=function(i,r){void 0===r&&(r="api"),this.oldLeft=this.left,this.left!==i&&(this.left=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_LEFT_CHANGED,r)))},h.prototype.isFilterActive=function(){return this.filterActive},h.prototype.setFilterActive=function(i,r,o){void 0===r&&(r="api"),this.filterActive!==i&&(this.filterActive=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_FILTER_ACTIVE_CHANGED,r)));var u=this.createColumnEvent(h.EVENT_FILTER_CHANGED,r);o&&In(u,o),this.eventService.dispatchEvent(u)},h.prototype.setPinned=function(i){this.pinned=!0===i||i===ge.PINNED_LEFT?ge.PINNED_LEFT:i===ge.PINNED_RIGHT?ge.PINNED_RIGHT:null},h.prototype.setFirstRightPinned=function(i,r){void 0===r&&(r="api"),this.firstRightPinned!==i&&(this.firstRightPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_FIRST_RIGHT_PINNED_CHANGED,r)))},h.prototype.setLastLeftPinned=function(i,r){void 0===r&&(r="api"),this.lastLeftPinned!==i&&(this.lastLeftPinned=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_LAST_LEFT_PINNED_CHANGED,r)))},h.prototype.isFirstRightPinned=function(){return this.firstRightPinned},h.prototype.isLastLeftPinned=function(){return this.lastLeftPinned},h.prototype.isPinned=function(){return this.pinned===ge.PINNED_LEFT||this.pinned===ge.PINNED_RIGHT},h.prototype.isPinnedLeft=function(){return this.pinned===ge.PINNED_LEFT},h.prototype.isPinnedRight=function(){return this.pinned===ge.PINNED_RIGHT},h.prototype.getPinned=function(){return this.pinned},h.prototype.setVisible=function(i,r){void 0===r&&(r="api");var o=!0===i;this.visible!==o&&(this.visible=o,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_VISIBLE_CHANGED,r)))},h.prototype.isVisible=function(){return this.visible},h.prototype.getColDef=function(){return this.colDef},h.prototype.getColumnGroupShow=function(){return this.colDef.columnGroupShow},h.prototype.getColId=function(){return this.colId},h.prototype.getId=function(){return this.getColId()},h.prototype.getUniqueId=function(){return this.getId()},h.prototype.getDefinition=function(){return this.colDef},h.prototype.getActualWidth=function(){return this.actualWidth},h.prototype.createBaseColDefParams=function(i){return{node:i,data:i.data,colDef:this.colDef,column:this,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}},h.prototype.getColSpan=function(i){if(b(this.colDef.colSpan))return 1;var r=this.createBaseColDefParams(i),o=this.colDef.colSpan(r);return Math.max(o,1)},h.prototype.getRowSpan=function(i){if(b(this.colDef.rowSpan))return 1;var r=this.createBaseColDefParams(i),o=this.colDef.rowSpan(r);return Math.max(o,1)},h.prototype.setActualWidth=function(i,r,o){void 0===r&&(r="api"),void 0===o&&(o=!1),null!=this.minWidth&&(i=Math.max(i,this.minWidth)),null!=this.maxWidth&&(i=Math.min(i,this.maxWidth)),this.actualWidth!==i&&(this.actualWidth=i,this.flex&&"flex"!==r&&"gridInitializing"!==r&&(this.flex=null),o||this.fireColumnWidthChangedEvent(r))},h.prototype.fireColumnWidthChangedEvent=function(i){this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_WIDTH_CHANGED,i))},h.prototype.isGreaterThanMax=function(i){return null!=this.maxWidth&&i>this.maxWidth},h.prototype.getMinWidth=function(){return this.minWidth},h.prototype.getMaxWidth=function(){return this.maxWidth},h.prototype.getFlex=function(){return this.flex||0},h.prototype.setFlex=function(i){this.flex!==i&&(this.flex=i)},h.prototype.setMinimum=function(i){void 0===i&&(i="api"),re(this.minWidth)&&this.setActualWidth(this.minWidth,i)},h.prototype.setRowGroupActive=function(i,r){void 0===r&&(r="api"),this.rowGroupActive!==i&&(this.rowGroupActive=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_ROW_GROUP_CHANGED,r)))},h.prototype.isRowGroupActive=function(){return this.rowGroupActive},h.prototype.setPivotActive=function(i,r){void 0===r&&(r="api"),this.pivotActive!==i&&(this.pivotActive=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_PIVOT_CHANGED,r)))},h.prototype.isPivotActive=function(){return this.pivotActive},h.prototype.isAnyFunctionActive=function(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()},h.prototype.isAnyFunctionAllowed=function(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()},h.prototype.setValueActive=function(i,r){void 0===r&&(r="api"),this.aggregationActive!==i&&(this.aggregationActive=i,this.eventService.dispatchEvent(this.createColumnEvent(h.EVENT_VALUE_CHANGED,r)))},h.prototype.isValueActive=function(){return this.aggregationActive},h.prototype.isAllowPivot=function(){return!0===this.colDef.enablePivot},h.prototype.isAllowValue=function(){return!0===this.colDef.enableValue},h.prototype.isAllowRowGroup=function(){return!0===this.colDef.enableRowGroup},h.prototype.getMenuTabs=function(i){var r=this.getColDef().menuTabs;return null==r&&(r=i),r},h.prototype.isLockPosition=function(){return console.warn("AG Grid: since v21, col.isLockPosition() should not be used, please use col.getColDef().lockPosition instead."),!!this.colDef&&!!this.colDef.lockPosition},h.prototype.isLockVisible=function(){return console.warn("AG Grid: since v21, col.isLockVisible() should not be used, please use col.getColDef().lockVisible instead."),!!this.colDef&&!!this.colDef.lockVisible},h.prototype.isLockPinned=function(){return console.warn("AG Grid: since v21, col.isLockPinned() should not be used, please use col.getColDef().lockPinned instead."),!!this.colDef&&!!this.colDef.lockPinned},h.EVENT_MOVING_CHANGED="movingChanged",h.EVENT_LEFT_CHANGED="leftChanged",h.EVENT_WIDTH_CHANGED="widthChanged",h.EVENT_LAST_LEFT_PINNED_CHANGED="lastLeftPinnedChanged",h.EVENT_FIRST_RIGHT_PINNED_CHANGED="firstRightPinnedChanged",h.EVENT_VISIBLE_CHANGED="visibleChanged",h.EVENT_FILTER_CHANGED="filterChanged",h.EVENT_FILTER_ACTIVE_CHANGED="filterActiveChanged",h.EVENT_SORT_CHANGED="sortChanged",h.EVENT_MENU_VISIBLE_CHANGED="menuVisibleChanged",h.EVENT_ROW_GROUP_CHANGED="columnRowGroupChanged",h.EVENT_PIVOT_CHANGED="columnPivotChanged",h.EVENT_VALUE_CHANGED="columnValueChanged",op([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),op([K("columnUtils")],h.prototype,"columnUtils",void 0),op([K("columnApi")],h.prototype,"columnApi",void 0),op([K("gridApi")],h.prototype,"gridApi",void 0),op([K("context")],h.prototype,"context",void 0),op([We],h.prototype,"initialise",null),h}();function da(){for(var h=[],i=0;i<arguments.length;i++)h[i]=arguments[i];for(var r=0;r<h.length;r++){var o=h[r];if(re(o))return o}return null}function Jt(h){if(h&&h.length)return h[h.length-1]}function Ws(h,i,r){return null==h&&null==i||null!=h&&null!=i&&h.length===i.length&&h.every(function(o,u){return r?r(o,i[u]):i[u]===o})}function eg(h){return h.sort(function(i,r){return i-r})}function on(h,i){var r=h.indexOf(i);r>=0&&h.splice(r,1)}function nh(h,i){i.forEach(function(r){return on(h,r)})}function ko(h,i,r){h.splice(r,0,i)}function Vo(h,i,r){nh(h,i),i.slice().reverse().forEach(function(o){return ko(h,o,r)})}function gi(h,i){return h.indexOf(i)>-1}function tg(h,i){null==i||null==h||i.forEach(function(r){return h.push(r)})}var sm=Object.freeze({firstExistingValue:da,existsAndNotEmpty:function I_(h){return null!=h&&h.length>0},last:Jt,areEqual:Ws,compareArrays:function om(h,i){return Ws(h,i)},shallowCompare:function rh(h,i){return Ws(h,i)},sortNumerically:eg,removeRepeatsFromArray:function Gu(h,i){if(h)for(var r=h.length-2;r>=0;r--)h[r]===i&&h[r+1]===i&&h.splice(r+1,1)},removeFromArray:on,removeAllFromArray:nh,insertIntoArray:ko,insertArrayIntoArray:function ih(h,i,r){if(null!=h&&null!=i)for(var o=i.length-1;o>=0;o--)ko(h,i[o],r)},moveInArray:Vo,includes:gi,flatten:function N_(h){return[].concat.apply([],h)},pushAll:tg,toStrings:function rg(h){return h.map(Il)},forEachReverse:function am(h,i){if(null!=h)for(var r=h.length-1;r>=0;r--)i(h[r],r)}}),er=function(){function h(i,r,o,u){this.displayedChildren=[],this.localEventService=new Ja,this.groupId=r,this.instanceId=o,this.providedColumnGroup=i,this.pinned=u}return h.createUniqueId=function(i,r){return i+"_"+r},h.prototype.reset=function(){this.parent=null,this.children=null,this.displayedChildren=null},h.prototype.getParent=function(){return this.parent},h.prototype.setParent=function(i){this.parent=i},h.prototype.getUniqueId=function(){return h.createUniqueId(this.groupId,this.instanceId)},h.prototype.isEmptyGroup=function(){return 0===this.displayedChildren.length},h.prototype.isMoving=function(){var i=this.getProvidedColumnGroup().getLeafColumns();return!(!i||0===i.length)&&i.every(function(r){return r.isMoving()})},h.prototype.checkLeft=function(){if(this.displayedChildren.forEach(function(u){u instanceof h&&u.checkLeft()}),this.displayedChildren.length>0)if(this.gridOptionsWrapper.isEnableRtl()){var r=Jt(this.displayedChildren).getLeft();this.setLeft(r)}else{var o=this.displayedChildren[0].getLeft();this.setLeft(o)}else this.setLeft(null)},h.prototype.getLeft=function(){return this.left},h.prototype.getOldLeft=function(){return this.oldLeft},h.prototype.setLeft=function(i){this.oldLeft=i,this.left!==i&&(this.left=i,this.localEventService.dispatchEvent(this.createAgEvent(h.EVENT_LEFT_CHANGED)))},h.prototype.getPinned=function(){return this.pinned},h.prototype.createAgEvent=function(i){return{type:i}},h.prototype.addEventListener=function(i,r){this.localEventService.addEventListener(i,r)},h.prototype.removeEventListener=function(i,r){this.localEventService.removeEventListener(i,r)},h.prototype.getGroupId=function(){return this.groupId},h.prototype.getInstanceId=function(){return this.instanceId},h.prototype.isChildInThisGroupDeepSearch=function(i){var r=!1;return this.children.forEach(function(o){i===o&&(r=!0),o instanceof h&&o.isChildInThisGroupDeepSearch(i)&&(r=!0)}),r},h.prototype.getActualWidth=function(){var i=0;return this.displayedChildren&&this.displayedChildren.forEach(function(r){i+=r.getActualWidth()}),i},h.prototype.isResizable=function(){if(!this.displayedChildren)return!1;var i=!1;return this.displayedChildren.forEach(function(r){r.isResizable()&&(i=!0)}),i},h.prototype.getMinWidth=function(){var i=0;return this.displayedChildren.forEach(function(r){i+=r.getMinWidth()||0}),i},h.prototype.addChild=function(i){this.children||(this.children=[]),this.children.push(i)},h.prototype.getDisplayedChildren=function(){return this.displayedChildren},h.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},h.prototype.getDisplayedLeafColumns=function(){var i=[];return this.addDisplayedLeafColumns(i),i},h.prototype.getDefinition=function(){return this.providedColumnGroup.getColGroupDef()},h.prototype.getColGroupDef=function(){return this.providedColumnGroup.getColGroupDef()},h.prototype.isPadding=function(){return this.providedColumnGroup.isPadding()},h.prototype.isExpandable=function(){return this.providedColumnGroup.isExpandable()},h.prototype.isExpanded=function(){return this.providedColumnGroup.isExpanded()},h.prototype.setExpanded=function(i){this.providedColumnGroup.setExpanded(i)},h.prototype.addDisplayedLeafColumns=function(i){this.displayedChildren.forEach(function(r){r instanceof kt?i.push(r):r instanceof h&&r.addDisplayedLeafColumns(i)})},h.prototype.addLeafColumns=function(i){this.children.forEach(function(r){r instanceof kt?i.push(r):r instanceof h&&r.addLeafColumns(i)})},h.prototype.getChildren=function(){return this.children},h.prototype.getColumnGroupShow=function(){return this.providedColumnGroup.getColumnGroupShow()},h.prototype.getProvidedColumnGroup=function(){return this.providedColumnGroup},h.prototype.getOriginalColumnGroup=function(){return console.warn("AG Grid: columnGroup.getOriginalColumnGroup() is deprecated due to a method rename, use columnGroup.getProvidedColumnGroup() instead"),this.getProvidedColumnGroup()},h.prototype.getPaddingLevel=function(){var i=this.getParent();return this.isPadding()&&i&&i.isPadding()?1+i.getPaddingLevel():0},h.prototype.calculateDisplayedColumns=function(){var i=this;this.displayedChildren=[];for(var r=this;null!=r&&r.isPadding();)r=r.getParent();if(!r||!r.providedColumnGroup.isExpandable())return this.displayedChildren=this.children,void this.localEventService.dispatchEvent(this.createAgEvent(h.EVENT_DISPLAYED_CHILDREN_CHANGED));this.children.forEach(function(u){if(!(u instanceof h)||u.displayedChildren&&u.displayedChildren.length)switch(u.getColumnGroupShow()){case h.HEADER_GROUP_SHOW_OPEN:r.providedColumnGroup.isExpanded()&&i.displayedChildren.push(u);break;case h.HEADER_GROUP_SHOW_CLOSED:r.providedColumnGroup.isExpanded()||i.displayedChildren.push(u);break;default:i.displayedChildren.push(u)}}),this.localEventService.dispatchEvent(this.createAgEvent(h.EVENT_DISPLAYED_CHILDREN_CHANGED))},h.HEADER_GROUP_SHOW_OPEN="open",h.HEADER_GROUP_SHOW_CLOSED="closed",h.EVENT_LEFT_CHANGED="leftChanged",h.EVENT_DISPLAYED_CHILDREN_CHANGED="displayedChildrenChanged",function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),h}(),Or=function(){function h(i,r,o,u){this.localEventService=new Ja,this.expandable=!1,this.colGroupDef=i,this.groupId=r,this.expanded=!!i&&!!i.openByDefault,this.padding=o,this.level=u}return h.prototype.setOriginalParent=function(i){this.originalParent=i},h.prototype.getOriginalParent=function(){return this.originalParent},h.prototype.getLevel=function(){return this.level},h.prototype.isVisible=function(){return!!this.children&&this.children.some(function(i){return i.isVisible()})},h.prototype.isPadding=function(){return this.padding},h.prototype.setExpanded=function(i){this.expanded=void 0!==i&&i,this.localEventService.dispatchEvent({type:h.EVENT_EXPANDED_CHANGED})},h.prototype.isExpandable=function(){return this.expandable},h.prototype.isExpanded=function(){return this.expanded},h.prototype.getGroupId=function(){return this.groupId},h.prototype.getId=function(){return this.getGroupId()},h.prototype.setChildren=function(i){this.children=i},h.prototype.getChildren=function(){return this.children},h.prototype.getColGroupDef=function(){return this.colGroupDef},h.prototype.getLeafColumns=function(){var i=[];return this.addLeafColumns(i),i},h.prototype.addLeafColumns=function(i){!this.children||this.children.forEach(function(r){r instanceof kt?i.push(r):r instanceof h&&r.addLeafColumns(i)})},h.prototype.getColumnGroupShow=function(){var i=this.colGroupDef;if(i)return i.columnGroupShow},h.prototype.setupExpandable=function(){var i=this;this.setExpandable(),this.getLeafColumns().forEach(function(r){return r.addEventListener(kt.EVENT_VISIBLE_CHANGED,i.onColumnVisibilityChanged.bind(i))})},h.prototype.setExpandable=function(){if(!this.isPadding()){for(var i=!1,r=!1,o=!1,u=this.findChildrenRemovingPadding(),d=0,m=u.length;d<m;d++){var w=u[d];if(w.isVisible()){var P=w.getColumnGroupShow();P===er.HEADER_GROUP_SHOW_OPEN?(i=!0,o=!0):P===er.HEADER_GROUP_SHOW_CLOSED?(r=!0,o=!0):(i=!0,r=!0)}}var x=i&&r&&o;this.expandable!==x&&(this.expandable=x,this.localEventService.dispatchEvent({type:h.EVENT_EXPANDABLE_CHANGED}))}},h.prototype.findChildrenRemovingPadding=function(){var i=[],r=function(o){o.forEach(function(u){u instanceof h&&u.isPadding()?r(u.children):i.push(u)})};return r(this.children),i},h.prototype.onColumnVisibilityChanged=function(){this.setExpandable()},h.prototype.addEventListener=function(i,r){this.localEventService.addEventListener(i,r)},h.prototype.removeEventListener=function(i,r){this.localEventService.removeEventListener(i,r)},h.EVENT_EXPANDED_CHANGED="expandedChanged",h.EVENT_EXPANDABLE_CHANGED="expandableChanged",h}(),vn={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},js="__ag_Grid_Stop_Propagation",Bo=["touchstart","touchend","touchmove","touchcancel"],lm={};function Gl(h){h[js]=!0}function ha(h){return!0===h[js]}var ap=function(){var h={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return function(r){if("boolean"==typeof lm[r])return lm[r];var o=document.createElement(h[r]||"div");return lm[r="on"+r]=r in o}}();function sp(h,i,r){for(var o=i.target;o;){var u=h.getDomData(o,r);if(u)return u;o=o.parentElement}return null}function oh(h,i){return!(!i||!h)&&ig(i).indexOf(h)>=0}function lp(h){for(var i=[],r=h.target;r;)i.push(r),r=r.parentElement;return i}function ig(h){var i=h;return i.path?i.path:i.composedPath?i.composedPath():i.__agGridEventPath?i.__agGridEventPath:lp(h)}function up(h,i,r,o){var u=gi(Bo,r);h&&h.addEventListener&&h.addEventListener(i,r,o,u?{passive:!0}:void 0)}var um=Object.freeze({stopPropagationForAgGrid:Gl,isStopPropagationForAgGrid:ha,isEventSupported:ap,getCtrlForEvent:sp,addChangeListener:function ku(h,i){h.addEventListener("changed",i),h.addEventListener("paste",i),h.addEventListener("input",i)},isElementInEventPath:oh,createEventPath:lp,addAgGridEventPath:function ng(h){h.__agGridEventPath=ig(h)},getEventPath:ig,addSafePassiveEventListener:up}),cp=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ge=function(){function h(){var i=this;this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.isAlive=function(){return!i.destroyed}}return h.prototype.getFrameworkOverrides=function(){return this.frameworkOverrides},h.prototype.getContext=function(){return this.context},h.prototype.destroy=function(){this.destroyFunctions.forEach(function(i){return i()}),this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchEvent({type:h.EVENT_DESTROYED})},h.prototype.addEventListener=function(i,r){this.localEventService||(this.localEventService=new Ja),this.localEventService.addEventListener(i,r)},h.prototype.removeEventListener=function(i,r){this.localEventService&&this.localEventService.removeEventListener(i,r)},h.prototype.dispatchEventAsync=function(i){var r=this;window.setTimeout(function(){return r.dispatchEvent(i)},0)},h.prototype.dispatchEvent=function(i){this.localEventService&&this.localEventService.dispatchEvent(i)},h.prototype.addManagedListener=function(i,r,o){var u=this;if(!this.destroyed){i instanceof HTMLElement?up(this.getFrameworkOverrides(),i,r,o):i.addEventListener(r,o);var d=function(){return i.removeEventListener(r,o),u.destroyFunctions=u.destroyFunctions.filter(function(m){return m!==d}),null};return this.destroyFunctions.push(d),d}},h.prototype.addDestroyFunc=function(i){this.isAlive()?this.destroyFunctions.push(i):i()},h.prototype.createManagedBean=function(i,r){var o=this.createBean(i,r);return this.addDestroyFunc(this.destroyBean.bind(this,i,r)),o},h.prototype.createBean=function(i,r,o){return(r||this.getContext()).createBean(i,o)},h.prototype.destroyBean=function(i,r){return(r||this.getContext()).destroyBean(i)},h.prototype.destroyBeans=function(i,r){var o=this;return i&&i.forEach(function(u){return o.destroyBean(u,r)}),[]},h.EVENT_DESTROYED="destroyed",cp([K("frameworkOverrides")],h.prototype,"frameworkOverrides",void 0),cp([K("context")],h.prototype,"context",void 0),cp([K("eventService")],h.prototype,"eventService",void 0),cp([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),cp([_n],h.prototype,"destroy",null),h}(),G_=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),og=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Xr=function(h,i){return function(r,o){i(r,o,h)}},cm=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return G_(i,h),i.prototype.setBeans=function(r){this.logger=r.create("ColumnFactory")},i.prototype.createColumnTree=function(r,o,u){var d=new gn,m=this.extractExistingTreeData(u),w=m.existingCols,P=m.existingGroups;d.addExistingKeys(m.existingColKeys);var N=this.recursivelyCreateColumns(r,0,o,w,d,P),k=this.findMaxDept(N,0);this.logger.log("Number of levels for grouped columns is "+k);var q=this.balanceColumnTree(N,0,k,d);return this.columnUtils.depthFirstOriginalTreeSearch(null,q,function(le,de){le instanceof Or&&le.setupExpandable(),le.setOriginalParent(de)}),{columnTree:q,treeDept:k}},i.prototype.extractExistingTreeData=function(r){var o=[],u=[],d=[];return r&&this.columnUtils.depthFirstOriginalTreeSearch(null,r,function(m){if(m instanceof Or)u.push(m);else{var P=m;d.push(P.getId()),o.push(P)}}),{existingCols:o,existingGroups:u,existingColKeys:d}},i.prototype.createForAutoGroups=function(r,o){var u=this;return r.map(function(d){return u.createAutoGroupTreeItem(o,d)})},i.prototype.createAutoGroupTreeItem=function(r,o){for(var d=o,m=this.findDepth(r)-1;m>=0;m--){var w=new Or(null,"FAKE_PATH_"+o.getId()+"}_"+m,!0,m);this.context.createBean(w),w.setChildren([d]),d.setOriginalParent(w),d=w}return d},i.prototype.findDepth=function(r){for(var o=0,u=r;u&&u[0]&&u[0]instanceof Or;)o++,u=u[0].getChildren();return o},i.prototype.balanceColumnTree=function(r,o,u,d){for(var m=[],w=0;w<r.length;w++){var P=r[w];if(P instanceof Or){var x=P,N=this.balanceColumnTree(x.getChildren(),o+1,u,d);x.setChildren(N),m.push(x)}else{for(var k=void 0,q=void 0,ee=u-1;ee>=o;ee--){var le=d.getUniqueKey(null,null),de=this.createMergedColGroupDef(null),ye=new Or(de,le,!0,o);this.context.createBean(ye),q&&q.setChildren([ye]),q=ye,k||(k=q)}if(k&&q){if(m.push(k),r.some(function(Oe){return Oe instanceof Or})){q.setChildren([P]);continue}q.setChildren(r);break}m.push(P)}}return m},i.prototype.findMaxDept=function(r,o){for(var u=o,d=0;d<r.length;d++){var m=r[d];if(m instanceof Or){var P=this.findMaxDept(m.getChildren(),o+1);u<P&&(u=P)}}return u},i.prototype.recursivelyCreateColumns=function(r,o,u,d,m,w){var P=this;return(r||[]).map(function(x){return P.isColumnGroup(x)?P.createColumnGroup(u,x,o,d,m,w):P.createColumn(u,x,d,m)})},i.prototype.createColumnGroup=function(r,o,u,d,m,w){var P=this.createMergedColGroupDef(o),x=m.getUniqueKey(P.groupId||null,null),N=new Or(P,x,!1,u);this.context.createBean(N);var k=this.findExistingGroup(o,w);k&&on(w,k),k&&k.isExpanded()&&N.setExpanded(!0);var q=this.recursivelyCreateColumns(P.children,u+1,r,d,m,w);return N.setChildren(q),N},i.prototype.createMergedColGroupDef=function(r){var o={};return Object.assign(o,this.gridOptionsWrapper.getDefaultColGroupDef()),Object.assign(o,r),this.checkForDeprecatedItems(o),o},i.prototype.createColumn=function(r,o,u,d){var m=this.mergeColDefs(o);this.checkForDeprecatedItems(m);var w=this.findExistingColumn(o,u);if(u&&w&&on(u,w),w)w.setColDef(m,o),this.applyColumnState(w,m);else{var P=d.getUniqueKey(m.colId,m.field);w=new kt(m,o,P,r),this.context.createBean(w)}return w},i.prototype.applyColumnState=function(r,o){var u=Pr(o.flex);if(void 0!==u&&r.setFlex(u),r.getFlex()<=0){var m=Pr(o.width);if(null!=m)r.setActualWidth(m);else{var w=r.getActualWidth();r.setActualWidth(w)}}void 0!==o.sort&&r.setSort(o.sort==ge.SORT_ASC||o.sort==ge.SORT_DESC?o.sort:void 0);var P=Pr(o.sortIndex);void 0!==P&&r.setSortIndex(P);var x=Lo(o.hide);void 0!==x&&r.setVisible(!x),void 0!==o.pinned&&r.setPinned(o.pinned)},i.prototype.findExistingColumn=function(r,o){return(o||[]).find(function(u){var d=u.getUserProvidedColDef();if(!d)return!1;var w=null!=r.field;return null!=r.colId?u.getId()===r.colId:w?d.field===r.field:d===r})},i.prototype.findExistingGroup=function(r,o){return o.find(function(u){return!(!u.getColGroupDef()||null==r.groupId||u.getId()!==r.groupId)})},i.prototype.mergeColDefs=function(r){var o={},u=this.gridOptionsWrapper.getDefaultColDef();In(o,u,!1,!0);var d=r.type;return d||(d=u&&u.type),d&&this.assignColumnTypes(d,o),In(o,r,!1,!0),o},i.prototype.assignColumnTypes=function(r,o){var u=[];if(r instanceof Array)r.some(function(P){return"string"!=typeof P})?console.warn("AG Grid: if colDef.type is supplied an array it should be of type 'string[]'"):u=r;else{if("string"!=typeof r)return void console.warn("AG Grid: colDef.type should be of type 'string' | 'string[]'");u=r.split(",")}var m=Object.assign({},vn);qt(this.gridOptionsWrapper.getColumnTypes()||{},function(P,x){P in m?console.warn("AG Grid: the column type '"+P+"' is a default column type and cannot be overridden."):m[P]=x}),u.forEach(function(P){var x=m[P.trim()];x?In(o,x,!1,!0):console.warn("AG Grid: colDef.type '"+P+"' does not correspond to defined gridOptions.columnTypes")})},i.prototype.checkForDeprecatedItems=function(r){if(r){var o=r;void 0!==o.group&&console.warn("AG Grid: colDef.group is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.headerGroup&&console.warn("AG Grid: colDef.headerGroup is invalid, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.headerGroupShow&&console.warn("AG Grid: colDef.headerGroupShow is invalid, should be columnGroupShow, please check documentation on how to do grouping as it changed in version 3"),void 0!==o.suppressRowGroup&&console.warn("AG Grid: colDef.suppressRowGroup is deprecated, please use colDef.type instead"),void 0!==o.suppressAggregation&&console.warn("AG Grid: colDef.suppressAggregation is deprecated, please use colDef.type instead"),(o.suppressRowGroup||o.suppressAggregation)&&console.warn("AG Grid: colDef.suppressAggregation and colDef.suppressRowGroup are deprecated, use allowRowGroup, allowPivot and allowValue instead"),o.displayName&&(console.warn("AG Grid: Found displayName "+o.displayName+", please use headerName instead, displayName is deprecated."),o.headerName=o.displayName)}},i.prototype.isColumnGroup=function(r){return void 0!==r.children},og([K("columnUtils")],i.prototype,"columnUtils",void 0),og([Xr(0,Er("loggerFactory"))],i.prototype,"setBeans",null),og([qe("columnFactory")],i)}(Ge),ne=function(){function h(){}return h.EVENT_COLUMN_EVERYTHING_CHANGED="columnEverythingChanged",h.EVENT_NEW_COLUMNS_LOADED="newColumnsLoaded",h.EVENT_COLUMN_PIVOT_MODE_CHANGED="columnPivotModeChanged",h.EVENT_COLUMN_ROW_GROUP_CHANGED="columnRowGroupChanged",h.EVENT_EXPAND_COLLAPSE_ALL="expandOrCollapseAll",h.EVENT_COLUMN_PIVOT_CHANGED="columnPivotChanged",h.EVENT_GRID_COLUMNS_CHANGED="gridColumnsChanged",h.EVENT_COLUMN_VALUE_CHANGED="columnValueChanged",h.EVENT_COLUMN_MOVED="columnMoved",h.EVENT_COLUMN_VISIBLE="columnVisible",h.EVENT_COLUMN_PINNED="columnPinned",h.EVENT_COLUMN_GROUP_OPENED="columnGroupOpened",h.EVENT_COLUMN_RESIZED="columnResized",h.EVENT_DISPLAYED_COLUMNS_CHANGED="displayedColumnsChanged",h.EVENT_VIRTUAL_COLUMNS_CHANGED="virtualColumnsChanged",h.EVENT_ASYNC_TRANSACTIONS_FLUSHED="asyncTransactionsFlushed",h.EVENT_ROW_GROUP_OPENED="rowGroupOpened",h.EVENT_ROW_DATA_CHANGED="rowDataChanged",h.EVENT_ROW_DATA_UPDATED="rowDataUpdated",h.EVENT_PINNED_ROW_DATA_CHANGED="pinnedRowDataChanged",h.EVENT_RANGE_SELECTION_CHANGED="rangeSelectionChanged",h.EVENT_CHART_CREATED="chartCreated",h.EVENT_CHART_RANGE_SELECTION_CHANGED="chartRangeSelectionChanged",h.EVENT_CHART_OPTIONS_CHANGED="chartOptionsChanged",h.EVENT_CHART_DESTROYED="chartDestroyed",h.EVENT_TOOL_PANEL_VISIBLE_CHANGED="toolPanelVisibleChanged",h.EVENT_COLUMN_PANEL_ITEM_DRAG_START="columnPanelItemDragStart",h.EVENT_COLUMN_PANEL_ITEM_DRAG_END="columnPanelItemDragEnd",h.EVENT_MODEL_UPDATED="modelUpdated",h.EVENT_PASTE_START="pasteStart",h.EVENT_PASTE_END="pasteEnd",h.EVENT_FILL_START="fillStart",h.EVENT_FILL_END="fillEnd",h.EVENT_CELL_CLICKED="cellClicked",h.EVENT_CELL_DOUBLE_CLICKED="cellDoubleClicked",h.EVENT_CELL_MOUSE_DOWN="cellMouseDown",h.EVENT_CELL_CONTEXT_MENU="cellContextMenu",h.EVENT_CELL_VALUE_CHANGED="cellValueChanged",h.EVENT_CELL_EDIT_REQUEST="cellEditRequest",h.EVENT_ROW_VALUE_CHANGED="rowValueChanged",h.EVENT_CELL_FOCUSED="cellFocused",h.EVENT_ROW_SELECTED="rowSelected",h.EVENT_SELECTION_CHANGED="selectionChanged",h.EVENT_CELL_KEY_DOWN="cellKeyDown",h.EVENT_CELL_KEY_PRESS="cellKeyPress",h.EVENT_CELL_MOUSE_OVER="cellMouseOver",h.EVENT_CELL_MOUSE_OUT="cellMouseOut",h.EVENT_FILTER_CHANGED="filterChanged",h.EVENT_FILTER_MODIFIED="filterModified",h.EVENT_FILTER_OPENED="filterOpened",h.EVENT_SORT_CHANGED="sortChanged",h.EVENT_VIRTUAL_ROW_REMOVED="virtualRowRemoved",h.EVENT_ROW_CLICKED="rowClicked",h.EVENT_ROW_DOUBLE_CLICKED="rowDoubleClicked",h.EVENT_GRID_READY="gridReady",h.EVENT_GRID_SIZE_CHANGED="gridSizeChanged",h.EVENT_VIEWPORT_CHANGED="viewportChanged",h.EVENT_SCROLLBAR_WIDTH_CHANGED="scrollbarWidthChanged",h.EVENT_FIRST_DATA_RENDERED="firstDataRendered",h.EVENT_DRAG_STARTED="dragStarted",h.EVENT_DRAG_STOPPED="dragStopped",h.EVENT_CHECKBOX_CHANGED="checkboxChanged",h.EVENT_ROW_EDITING_STARTED="rowEditingStarted",h.EVENT_ROW_EDITING_STOPPED="rowEditingStopped",h.EVENT_CELL_EDITING_STARTED="cellEditingStarted",h.EVENT_CELL_EDITING_STOPPED="cellEditingStopped",h.EVENT_BODY_SCROLL="bodyScroll",h.EVENT_BODY_SCROLL_END="bodyScrollEnd",h.EVENT_HEIGHT_SCALE_CHANGED="heightScaleChanged",h.EVENT_PAGINATION_CHANGED="paginationChanged",h.EVENT_COMPONENT_STATE_CHANGED="componentStateChanged",h.EVENT_BODY_HEIGHT_CHANGED="bodyHeightChanged",h.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED="displayedColumnsWidthChanged",h.EVENT_SCROLL_VISIBILITY_CHANGED="scrollVisibilityChanged",h.EVENT_COLUMN_HOVER_CHANGED="columnHoverChanged",h.EVENT_FLASH_CELLS="flashCells",h.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED="paginationPixelOffsetChanged",h.EVENT_DISPLAYED_ROWS_CHANGED="displayedRowsChanged",h.EVENT_LEFT_PINNED_WIDTH_CHANGED="leftPinnedWidthChanged",h.EVENT_RIGHT_PINNED_WIDTH_CHANGED="rightPinnedWidthChanged",h.EVENT_ROW_CONTAINER_HEIGHT_CHANGED="rowContainerHeightChanged",h.EVENT_ROW_DRAG_ENTER="rowDragEnter",h.EVENT_ROW_DRAG_MOVE="rowDragMove",h.EVENT_ROW_DRAG_LEAVE="rowDragLeave",h.EVENT_ROW_DRAG_END="rowDragEnd",h.EVENT_POPUP_TO_FRONT="popupToFront",h.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST="columnRowGroupChangeRequest",h.EVENT_COLUMN_PIVOT_CHANGE_REQUEST="columnPivotChangeRequest",h.EVENT_COLUMN_VALUE_CHANGE_REQUEST="columnValueChangeRequest",h.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST="columnAggFuncChangeRequest",h.EVENT_KEYBOARD_FOCUS="keyboardFocus",h.EVENT_MOUSE_FOCUS="mouseFocus",h.EVENT_STORE_UPDATED="storeUpdated",h}(),ah=function(){function h(){this.existingIds={}}return h.prototype.getInstanceIdForKey=function(i){var o,r=this.existingIds[i];return this.existingIds[i]=o="number"!=typeof r?0:r+1,o},h}(),ag=/[&<>"']/g,or={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function tr(h){return null==h?null:h.replace(/([A-Z])/g,function(i){return"-"+i[0].toLowerCase()})}function sh(h){return null==h?null:h.replace(/-([a-z])/g,function(i){return i[1].toUpperCase()})}function sg(h){return h[0].toUpperCase()+h.substr(1).toLowerCase()}function co(h){return null==h?null:h.toString().toString().replace(ag,function(i){return or[i]})}function Ot(h){return h&&null!=h?h.replace(/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g,"$1$4 $2$3$5").replace("."," ").split(" ").map(function(o){return o.substring(0,1).toUpperCase()+(o.length>1?o.substring(1,o.length):"")}).join(" "):null}var pm=Object.freeze({utf8_encode:function es(h){var i=String.fromCharCode;function u(k,q){return i(k>>q&63|128)}function d(k){if(k>=0&&k<=31&&10!==k)return"_x"+k.toString(16).toUpperCase().padStart(4,"0")+"_";if(0==(4294967168&k))return i(k);var le="";return 0==(4294965248&k)?le=i(k>>6&31|192):0==(4294901760&k)?(function o(k){if(k>=55296&&k<=57343)throw Error("Lone surrogate U+"+k.toString(16).toUpperCase()+" is not a scalar value")}(k),le=i(k>>12&15|224),le+=u(k,6)):0==(4292870144&k)&&(le=i(k>>18&7|240),le+=u(k,12),le+=u(k,6)),le+i(63&k|128)}for(var m=function r(k){var q=[];if(!k)return[];for(var de,ye,ee=k.length,le=0;le<ee;)(de=k.charCodeAt(le++))>=55296&&de<=56319&&le<ee?56320==(64512&(ye=k.charCodeAt(le++)))?q.push(((1023&de)<<10)+(1023&ye)+65536):(q.push(de),le--):q.push(de);return q}(h),w=m.length,P=-1,N="";++P<w;)N+=d(m[P]);return N},camelCaseToHyphen:tr,hyphenToCamelCase:sh,capitalise:sg,escapeString:co,camelCaseToHumanText:Ot});function kl(h){var i=new Map;return h.forEach(function(r){return i.set(r[0],r[1])}),i}var Et=Object.freeze({convertToMap:kl,mapById:function Xt(h,i){var r=new Map;return h.forEach(function(o){return r.set(i(o),o)}),r},keys:function lg(h){var i=[];return h.forEach(function(r,o){return i.push(o)}),i}}),Sn=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),an=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},jE=function(h,i){return function(r,o){i(r,o,h)}},k_=function(h){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&h[i],o=0;if(r)return r.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},lh=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},bn=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(lh(arguments[i]));return h},dm=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.primaryHeaderRowCount=0,r.secondaryHeaderRowCount=0,r.gridHeaderRowCount=0,r.displayedColumnsLeft=[],r.displayedColumnsRight=[],r.displayedColumnsCenter=[],r.displayedColumns=[],r.displayedColumnsAndGroupsMap={},r.viewportColumns=[],r.viewportColumnsCenter=[],r.autoHeightActiveAtLeastOnce=!1,r.rowGroupColumns=[],r.valueColumns=[],r.pivotColumns=[],r.ready=!1,r.autoGroupsNeedBuilding=!1,r.forceRecreateAutoGroups=!1,r.pivotMode=!1,r.bodyWidth=0,r.leftWidth=0,r.rightWidth=0,r.bodyWidthDirty=!0,r.colDefVersion=0,r.flexColsCalculatedAtLestOnce=!1,r}return Sn(i,h),i.prototype.init=function(){var r=this;this.suppressColumnVirtualisation=this.gridOptionsWrapper.isSuppressColumnVirtualisation();var o=this.gridOptionsWrapper.isPivotMode();this.isPivotSettingAllowed(o)&&(this.pivotMode=o),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.addManagedListener(this.gridOptionsWrapper,"autoGroupColumnDef",function(){return r.onAutoGroupColumnDefChanged()}),this.addManagedListener(this.gridOptionsWrapper,"defaultColDef",function(){return r.onDefaultColDefChanged()})},i.prototype.onAutoGroupColumnDefChanged=function(){this.autoGroupsNeedBuilding=!0,this.forceRecreateAutoGroups=!0,this.updateGridColumns(),this.updateDisplayedColumns("gridOptionsChanged")},i.prototype.onDefaultColDefChanged=function(){this.colDefVersion++,this.forceRecreateAutoGroups=!0,this.createColumnsFromColumnDefs(!0)},i.prototype.getColDefVersion=function(){return this.colDefVersion},i.prototype.setColumnDefs=function(r,o){void 0===o&&(o="api");var u=!!this.columnDefs;this.colDefVersion++,this.columnDefs=r,this.createColumnsFromColumnDefs(u,o)},i.prototype.createColumnsFromColumnDefs=function(r,o){var u=this;void 0===o&&(o="api");var d=r?this.compareColumnStatesAndRaiseEvents(o):void 0;this.valueCache.expire(),this.autoGroupsNeedBuilding=!0;var m=this.primaryColumns,P=this.columnFactory.createColumnTree(this.columnDefs,!0,this.primaryColumnTree);this.primaryColumnTree=P.columnTree,this.primaryHeaderRowCount=P.treeDept+1,this.primaryColumns=this.getColumnsFromTree(this.primaryColumnTree),this.primaryColumnsMap={},this.primaryColumns.forEach(function(k){return u.primaryColumnsMap[k.getId()]=k}),this.extractRowGroupColumns(o,m),this.extractPivotColumns(o,m),this.extractValueColumns(o,m),this.ready=!0,(this.gridColsArePrimary||void 0===this.gridColsArePrimary)&&(this.updateGridColumns(),r&&!this.gridOptionsWrapper.isMaintainColumnOrder()&&this.orderGridColumnsLikePrimary(),this.updateDisplayedColumns(o),this.checkViewportColumns()),this.dispatchEverythingChanged(o),d&&d(),this.dispatchNewColumnsLoaded()},i.prototype.dispatchNewColumnsLoaded=function(){this.eventService.dispatchEvent({type:ne.EVENT_NEW_COLUMNS_LOADED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.dispatchEverythingChanged=function(r){void 0===r&&(r="api"),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_EVERYTHING_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:r})},i.prototype.orderGridColumnsLikePrimary=function(){var r=this,o=this.primaryColumns;!o||this.gridColumns.sort(function(u,d){var m=o.indexOf(u),w=o.indexOf(d),P=m>=0,x=w>=0;return P&&x?m-w:P?1:x?-1:r.gridColumns.indexOf(u)-r.gridColumns.indexOf(d)})},i.prototype.getAllDisplayedAutoHeightCols=function(){return this.displayedAutoHeightCols},i.prototype.setViewport=function(){this.gridOptionsWrapper.isEnableRtl()?(this.viewportLeft=this.bodyWidth-this.scrollPosition-this.scrollWidth,this.viewportRight=this.bodyWidth-this.scrollPosition):(this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition)},i.prototype.getDisplayedColumnsStartingAt=function(r){for(var o=r,u=[];null!=o;)u.push(o),o=this.getDisplayedColAfter(o);return u},i.prototype.checkViewportColumns=function(){if(null!=this.displayedColumnsCenter){var r=this.viewportColumns.map(function(d){return d.getId()}).join("#");this.extractViewport(),r!==this.viewportColumns.map(function(d){return d.getId()}).join("#")&&this.eventService.dispatchEvent({type:ne.EVENT_VIRTUAL_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.setViewportPosition=function(r,o){(r!==this.scrollWidth||o!==this.scrollPosition||this.bodyWidthDirty)&&(this.scrollWidth=r,this.scrollPosition=o,this.bodyWidthDirty=!0,this.setViewport(),this.ready&&this.checkViewportColumns())},i.prototype.isPivotMode=function(){return this.pivotMode},i.prototype.isPivotSettingAllowed=function(r){return!r||!this.gridOptionsWrapper.isTreeData()||(console.warn("AG Grid: Pivot mode not available in conjunction Tree Data i.e. 'gridOptions.treeData: true'"),!1)},i.prototype.setPivotMode=function(r,o){void 0===o&&(o="api"),r!==this.pivotMode&&this.isPivotSettingAllowed(this.pivotMode)&&(this.pivotMode=r,this.autoGroupsNeedBuilding=!0,this.updateGridColumns(),this.updateDisplayedColumns(o),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getSecondaryPivotColumn=function(r,o){if(b(this.secondaryColumns))return null;var u=this.getPrimaryColumn(o),d=null;return this.secondaryColumns.forEach(function(m){var w=m.getColDef().pivotKeys,P=m.getColDef().pivotValueColumn;Ws(w,r)&&P===u&&(d=m)}),d},i.prototype.setBeans=function(r){this.logger=r.create("columnModel")},i.prototype.setFirstRightAndLastLeftPinned=function(r){var o,u;this.gridOptionsWrapper.isEnableRtl()?(o=this.displayedColumnsLeft?this.displayedColumnsLeft[0]:null,u=this.displayedColumnsRight?Jt(this.displayedColumnsRight):null):(o=this.displayedColumnsLeft?Jt(this.displayedColumnsLeft):null,u=this.displayedColumnsRight?this.displayedColumnsRight[0]:null),this.gridColumns.forEach(function(d){d.setLastLeftPinned(d===o,r),d.setFirstRightPinned(d===u,r)})},i.prototype.autoSizeColumns=function(r){var o=this,u=r.columns,d=r.skipHeader,m=r.skipHeaderGroups,w=r.stopAtGroup,P=r.source,x=void 0===P?"api":P;this.animationFrameService.flushAllFrames();for(var N=[],k=-1,q=null!=d?d:this.gridOptionsWrapper.isSkipHeaderOnAutoSize(),ee=null!=m?m:q;0!==k;)k=0,this.actionOnGridColumns(u,function(le){if(N.indexOf(le)>=0)return!1;var de=o.autoWidthCalculator.getPreferredWidthForColumn(le,q);if(de>0){var ye=o.normaliseColumnWidth(le,de);le.setActualWidth(ye,x),N.push(le),k++}return!0},x);ee||this.autoSizeColumnGroupsByColumns(u,w),this.fireColumnResizedEvent(N,!0,"autosizeColumns")},i.prototype.fireColumnResizedEvent=function(r,o,u,d){void 0===d&&(d=null),r&&r.length&&this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_RESIZED,columns:r,column:1===r.length?r[0]:null,flexColumns:d,finished:o,api:this.gridApi,columnApi:this.columnApi,source:u})},i.prototype.autoSizeColumn=function(r,o,u){void 0===u&&(u="api"),r&&this.autoSizeColumns({columns:[r],skipHeader:o,skipHeaderGroups:!0,source:u})},i.prototype.autoSizeColumnGroupsByColumns=function(r,o){var u,d,m,w,N,P=new Set;this.getGridColumns(r).forEach(function(Oe){for(var Ee=Oe.getParent();Ee&&Ee!=o;)Ee.isPadding()||P.add(Ee),Ee=Ee.getParent()});try{for(var q=k_(P),ee=q.next();!ee.done;ee=q.next()){var le=ee.value;try{for(var de=(m=void 0,k_(this.ctrlsService.getHeaderRowContainerCtrls())),ye=de.next();!ye.done&&!(N=ye.value.getHeaderCtrlForColumn(le));ye=de.next());}catch(Oe){m={error:Oe}}finally{try{ye&&!ye.done&&(w=de.return)&&w.call(de)}finally{if(m)throw m.error}}N&&N.resizeLeafColumnsToFit()}}catch(Oe){u={error:Oe}}finally{try{ee&&!ee.done&&(d=q.return)&&d.call(q)}finally{if(u)throw u.error}}return[]},i.prototype.autoSizeAllColumns=function(r,o){void 0===o&&(o="api");var u=this.getAllDisplayedColumns();this.autoSizeColumns({columns:u,skipHeader:r,source:o})},i.prototype.getColumnsFromTree=function(r){var o=[],u=function(d){for(var m=0;m<d.length;m++){var w=d[m];w instanceof kt?o.push(w):w instanceof Or&&u(w.getChildren())}};return u(r),o},i.prototype.getAllDisplayedTrees=function(){return this.displayedTreeLeft&&this.displayedTreeRight&&this.displayedTreeCentre?this.displayedTreeLeft.concat(this.displayedTreeCentre).concat(this.displayedTreeRight):null},i.prototype.getPrimaryColumnTree=function(){return this.primaryColumnTree},i.prototype.getHeaderRowCount=function(){return this.gridHeaderRowCount},i.prototype.getDisplayedTreeLeft=function(){return this.displayedTreeLeft},i.prototype.getDisplayedTreeRight=function(){return this.displayedTreeRight},i.prototype.getDisplayedTreeCentre=function(){return this.displayedTreeCentre},i.prototype.isColumnDisplayed=function(r){return this.getAllDisplayedColumns().indexOf(r)>=0},i.prototype.getAllDisplayedColumns=function(){return this.displayedColumns},i.prototype.getViewportColumns=function(){return this.viewportColumns},i.prototype.getDisplayedLeftColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsLeft):this.displayedColumnsLeft},i.prototype.getDisplayedRightColumnsForRow=function(r){return this.colSpanActive?this.getDisplayedColumnsForRow(r,this.displayedColumnsRight):this.displayedColumnsRight},i.prototype.getDisplayedColumnsForRow=function(r,o,u,d){for(var x,m=[],w=null,P=function(k){var Oe,q=o[k],ee=o.length-k,le=Math.min(q.getColSpan(r),ee),de=[q];if(le>1){for(var ye=le-1,xe=1;xe<=ye;xe++)de.push(o[k+xe]);k+=ye}u?(Oe=!1,de.forEach(function($e){u($e)&&(Oe=!0)})):Oe=!0,Oe&&(0===m.length&&w&&d&&d(q)&&m.push(w),m.push(q)),w=q,x=k},N=0;N<o.length;N++)P(N),N=x;return m},i.prototype.getViewportCenterColumnsForRow=function(r){var o=this;if(!this.colSpanActive)return this.viewportColumnsCenter;var d=this.suppressColumnVirtualisation?null:this.isColumnInViewport.bind(this);return this.getDisplayedColumnsForRow(r,this.displayedColumnsCenter,d,function(m){var w=m.getLeft();return re(w)&&w>o.viewportLeft})},i.prototype.getAriaColumnIndex=function(r){return this.getAllGridColumns().indexOf(r)+1},i.prototype.isColumnInViewport=function(r){if(r.isAutoHeight())return!0;var o=r.getLeft()||0,u=o+r.getActualWidth(),d=this.viewportLeft-200,m=this.viewportRight+200;return!(o<d&&u<d||o>m&&u>m)},i.prototype.getDisplayedColumnsLeftWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsLeft)},i.prototype.getDisplayedColumnsRightWidth=function(){return this.getWidthOfColsInList(this.displayedColumnsRight)},i.prototype.updatePrimaryColumnList=function(r,o,u,d,m,w){var P=this;if(void 0===w&&(w="api"),r&&!zn(r)){var x=!1;r.forEach(function(k){var q=P.getPrimaryColumn(k);if(q){if(u){if(o.indexOf(q)>=0)return;o.push(q)}else{if(o.indexOf(q)<0)return;on(o,q)}d(q),x=!0}}),x&&(this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(w),this.eventService.dispatchEvent({type:m,columns:o,column:1===o.length?o[0]:null,api:this.gridApi,columnApi:this.columnApi,source:w}))}},i.prototype.setRowGroupColumns=function(r,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.setPrimaryColumnList(r,this.rowGroupColumns,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.setRowGroupActive.bind(this),o)},i.prototype.setRowGroupActive=function(r,o,u){r!==o.isRowGroupActive()&&(o.setRowGroupActive(r,u),!r&&!this.gridOptionsWrapper.isSuppressMakeColumnVisibleAfterUnGroup()&&o.setVisible(!0,u))},i.prototype.addRowGroupColumn=function(r,o){void 0===o&&(o="api"),r&&this.addRowGroupColumns([r],o)},i.prototype.addRowGroupColumns=function(r,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!0,this.setRowGroupActive.bind(this,!0),ne.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},i.prototype.removeRowGroupColumns=function(r,o){void 0===o&&(o="api"),this.autoGroupsNeedBuilding=!0,this.updatePrimaryColumnList(r,this.rowGroupColumns,!1,this.setRowGroupActive.bind(this,!1),ne.EVENT_COLUMN_ROW_GROUP_CHANGED,o)},i.prototype.removeRowGroupColumn=function(r,o){void 0===o&&(o="api"),r&&this.removeRowGroupColumns([r],o)},i.prototype.addPivotColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!0,function(u){return u.setPivotActive(!0,o)},ne.EVENT_COLUMN_PIVOT_CHANGED,o)},i.prototype.setPivotColumns=function(r,o){void 0===o&&(o="api"),this.setPrimaryColumnList(r,this.pivotColumns,ne.EVENT_COLUMN_PIVOT_CHANGED,function(u,d){d.setPivotActive(u,o)},o)},i.prototype.addPivotColumn=function(r,o){void 0===o&&(o="api"),this.addPivotColumns([r],o)},i.prototype.removePivotColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.pivotColumns,!1,function(u){return u.setPivotActive(!1,o)},ne.EVENT_COLUMN_PIVOT_CHANGED,o)},i.prototype.removePivotColumn=function(r,o){void 0===o&&(o="api"),this.removePivotColumns([r],o)},i.prototype.setPrimaryColumnList=function(r,o,u,d,m){var w=this;o.length=0,re(r)&&r.forEach(function(P){var x=w.getPrimaryColumn(P);x&&o.push(x)}),(this.primaryColumns||[]).forEach(function(P){var x=o.indexOf(P)>=0;d(x,P)}),this.autoGroupsNeedBuilding&&this.updateGridColumns(),this.updateDisplayedColumns(m),this.fireColumnEvent(u,o,m)},i.prototype.setValueColumns=function(r,o){void 0===o&&(o="api"),this.setPrimaryColumnList(r,this.valueColumns,ne.EVENT_COLUMN_VALUE_CHANGED,this.setValueActive.bind(this),o)},i.prototype.setValueActive=function(r,o,u){if(r!==o.isValueActive()&&(o.setValueActive(r,u),r&&!o.getAggFunc())){var d=this.aggFuncService.getDefaultAggFunc(o);o.setAggFunc(d)}},i.prototype.addValueColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.valueColumns,!0,this.setValueActive.bind(this,!0),ne.EVENT_COLUMN_VALUE_CHANGED,o)},i.prototype.addValueColumn=function(r,o){void 0===o&&(o="api"),r&&this.addValueColumns([r],o)},i.prototype.removeValueColumn=function(r,o){void 0===o&&(o="api"),this.removeValueColumns([r],o)},i.prototype.removeValueColumns=function(r,o){void 0===o&&(o="api"),this.updatePrimaryColumnList(r,this.valueColumns,!1,this.setValueActive.bind(this,!1),ne.EVENT_COLUMN_VALUE_CHANGED,o)},i.prototype.normaliseColumnWidth=function(r,o){var u=r.getMinWidth();re(u)&&o<u&&(o=u);var d=r.getMaxWidth();return re(d)&&r.isGreaterThanMax(o)&&(o=d),o},i.prototype.getPrimaryOrGridColumn=function(r){return this.getPrimaryColumn(r)||this.getGridColumn(r)},i.prototype.setColumnWidths=function(r,o,u,d){var m=this;void 0===d&&(d="api");var w=[];r.forEach(function(P){var x=m.getPrimaryOrGridColumn(P.key);if(x&&(w.push({width:P.newWidth,ratios:[1],columns:[x]}),"shift"===m.gridOptionsWrapper.getColResizeDefault()&&(o=!o),o)){var k=m.getDisplayedColAfter(x);if(!k)return;var q=x.getActualWidth()-P.newWidth,ee=k.getActualWidth()+q;w.push({width:ee,ratios:[1],columns:[k]})}}),0!==w.length&&this.resizeColumnSets({resizeSets:w,finished:u,source:d})},i.prototype.checkMinAndMaxWidthsForSet=function(r){var u=r.width,d=0,m=0,w=!0;return r.columns.forEach(function(N){var k=N.getMinWidth();d+=k||0;var q=N.getMaxWidth();re(q)&&q>0?m+=q:w=!1}),u>=d&&(!w||u<=m)},i.prototype.resizeColumnSets=function(r){var o=this,u=r.resizeSets,d=r.finished,m=r.source;if(!u||u.every(function(le){return o.checkMinAndMaxWidthsForSet(le)})){var x=[],N=[];u.forEach(function(le){var de=le.width,ye=le.columns,xe=le.ratios,Oe={},Ee={};ye.forEach(function(Ue){return N.push(Ue)});for(var $e=!0,pt=0,vt=function(){if(++pt>1e3)return console.error("AG Grid: infinite loop in resizeColumnSets"),"break";$e=!1;var Ue=[],xt=0,Tt=de;ye.forEach(function(ir,ta){Ee[ir.getId()]?Tt-=Oe[ir.getId()]:(Ue.push(ir),xt+=xe[ta])});var Br=1/xt;Ue.forEach(function(ir,ta){var ui;ta===Ue.length-1?ui=Tt:(ui=Math.round(xe[ta]*de*Br),Tt-=ui);var za=ir.getMinWidth(),El=ir.getMaxWidth();re(za)&&ui<za?(ui=za,Ee[ir.getId()]=!0,$e=!0):re(El)&&El>0&&ui>El&&(ui=El,Ee[ir.getId()]=!0,$e=!0),Oe[ir.getId()]=ui})};$e&&"break"!==vt(););ye.forEach(function(Ue){var xt=Oe[Ue.getId()];Ue.getActualWidth()!==xt&&(Ue.setActualWidth(xt,m),x.push(Ue))})});var k=x.length>0,q=[];k&&(q=this.refreshFlexedColumns({resizingCols:N,skipSetLeft:!0}),this.setLeftValues(m),this.updateBodyWidths(),this.checkViewportColumns());var ee=N.concat(q);(k||d)&&this.fireColumnResizedEvent(ee,d,m,q)}else d&&this.fireColumnResizedEvent(u&&u.length>0?u[0].columns:null,d,m)},i.prototype.setColumnAggFunc=function(r,o,u){if(void 0===u&&(u="api"),r){var d=this.getPrimaryColumn(r);!d||(d.setAggFunc(o),this.fireColumnEvent(ne.EVENT_COLUMN_VALUE_CHANGED,[d],u))}},i.prototype.fireColumnEvent=function(r,o,u){this.eventService.dispatchEvent({type:r,columns:o,column:o&&1==o.length?o[0]:null,api:this.gridApi,columnApi:this.columnApi,source:u})},i.prototype.moveRowGroupColumn=function(r,o,u){void 0===u&&(u="api");var d=this.rowGroupColumns[r];this.rowGroupColumns.splice(r,1),this.rowGroupColumns.splice(o,0,d),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_ROW_GROUP_CHANGED,columns:this.rowGroupColumns,column:1===this.rowGroupColumns.length?this.rowGroupColumns[0]:null,api:this.gridApi,columnApi:this.columnApi,source:u})},i.prototype.moveColumns=function(r,o,u){if(void 0===u&&(u="api"),this.columnAnimationService.start(),o>this.gridColumns.length-r.length)return console.warn("AG Grid: tried to insert columns in invalid location, toIndex = "+o),void console.warn("AG Grid: remember that you should not count the moving columns when calculating the new index");var d=this.getGridColumns(r);!this.doesMovePassRules(d,o)||(Vo(this.gridColumns,d,o),this.updateDisplayedColumns(u),this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_MOVED,columns:d,column:1===d.length?d[0]:null,toIndex:o,api:this.gridApi,columnApi:this.columnApi,source:u}),this.columnAnimationService.finish())},i.prototype.doesMovePassRules=function(r,o){var u=this.gridColumns.slice();return Vo(u,r,o),!(!this.doesMovePassMarryChildren(u)||!this.doesMovePassLockedPositions(u))},i.prototype.sortColumnsLikeGridColumns=function(r){var o=this;!r||r.length<=1||r.filter(function(d){return o.gridColumns.indexOf(d)<0}).length>0||r.sort(function(d,m){return o.gridColumns.indexOf(d)-o.gridColumns.indexOf(m)})},i.prototype.doesMovePassLockedPositions=function(r){var o=0,u=!0;return r.forEach(function(m){var w=function(m){return m?!0===m||"left"===m?0:2:1}(m.getColDef().lockPosition);w<o&&(u=!1),o=w}),u},i.prototype.doesMovePassMarryChildren=function(r){var o=!0;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){if(u instanceof Or){var d=u,m=d.getColGroupDef();if(m&&m.marryChildren){var P=[];d.getLeafColumns().forEach(function(ee){var le=r.indexOf(ee);P.push(le)}),Math.max.apply(Math,P)-Math.min.apply(Math,P)>d.getLeafColumns().length-1&&(o=!1)}}}),o},i.prototype.moveColumn=function(r,o,u){void 0===u&&(u="api"),this.moveColumns([r],o,u)},i.prototype.moveColumnByIndex=function(r,o,u){void 0===u&&(u="api"),this.moveColumn(this.gridColumns[r],o,u)},i.prototype.getColumnDefs=function(){var r=this;if(this.primaryColumns){var o=this.primaryColumns.slice();return this.gridColsArePrimary?o.sort(function(u,d){return r.gridColumns.indexOf(u)-r.gridColumns.indexOf(d)}):this.lastPrimaryOrder&&o.sort(function(u,d){return r.lastPrimaryOrder.indexOf(u)-r.lastPrimaryOrder.indexOf(d)}),this.columnDefFactory.buildColumnDefs(o,this.rowGroupColumns,this.pivotColumns)}},i.prototype.getBodyContainerWidth=function(){return this.bodyWidth},i.prototype.getContainerWidth=function(r){switch(r){case ge.PINNED_LEFT:return this.leftWidth;case ge.PINNED_RIGHT:return this.rightWidth;default:return this.bodyWidth}},i.prototype.updateBodyWidths=function(){var r=this.getWidthOfColsInList(this.displayedColumnsCenter),o=this.getWidthOfColsInList(this.displayedColumnsLeft),u=this.getWidthOfColsInList(this.displayedColumnsRight);this.bodyWidthDirty=this.bodyWidth!==r,(this.bodyWidth!==r||this.leftWidth!==o||this.rightWidth!==u)&&(this.bodyWidth=r,this.leftWidth=o,this.rightWidth=u,this.eventService.dispatchEvent({type:ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getValueColumns=function(){return this.valueColumns?this.valueColumns:[]},i.prototype.getPivotColumns=function(){return this.pivotColumns?this.pivotColumns:[]},i.prototype.isPivotActive=function(){return this.pivotColumns&&this.pivotColumns.length>0&&this.pivotMode},i.prototype.getRowGroupColumns=function(){return this.rowGroupColumns?this.rowGroupColumns:[]},i.prototype.getDisplayedCenterColumns=function(){return this.displayedColumnsCenter},i.prototype.getDisplayedLeftColumns=function(){return this.displayedColumnsLeft},i.prototype.getDisplayedRightColumns=function(){return this.displayedColumnsRight},i.prototype.getDisplayedColumns=function(r){switch(r){case ge.PINNED_LEFT:return this.getDisplayedLeftColumns();case ge.PINNED_RIGHT:return this.getDisplayedRightColumns();default:return this.getDisplayedCenterColumns()}},i.prototype.getAllPrimaryColumns=function(){return this.primaryColumns?this.primaryColumns.slice():null},i.prototype.getSecondaryColumns=function(){return this.secondaryColumns?this.secondaryColumns.slice():null},i.prototype.getAllColumnsForQuickFilter=function(){return this.columnsForQuickFilter},i.prototype.getAllGridColumns=function(){return this.gridColumns},i.prototype.isEmpty=function(){return zn(this.gridColumns)},i.prototype.isRowGroupEmpty=function(){return zn(this.rowGroupColumns)},i.prototype.setColumnVisible=function(r,o,u){void 0===u&&(u="api"),this.setColumnsVisible([r],o,u)},i.prototype.setColumnsVisible=function(r,o,u){var d=this;void 0===o&&(o=!1),void 0===u&&(u="api"),this.columnAnimationService.start(),this.actionOnGridColumns(r,function(m){return m.isVisible()!==o&&(m.setVisible(o,u),!0)},u,function(){return{type:ne.EVENT_COLUMN_VISIBLE,visible:o,column:null,columns:null,api:d.gridApi,columnApi:d.columnApi,source:u}}),this.columnAnimationService.finish()},i.prototype.setColumnPinned=function(r,o,u){void 0===u&&(u="api"),r&&this.setColumnsPinned([r],o,u)},i.prototype.setColumnsPinned=function(r,o,u){var m,d=this;void 0===u&&(u="api"),"print"!==this.gridOptionsWrapper.getDomLayout()?(this.columnAnimationService.start(),m=!0===o||o===ge.PINNED_LEFT?ge.PINNED_LEFT:o===ge.PINNED_RIGHT?ge.PINNED_RIGHT:null,this.actionOnGridColumns(r,function(w){return w.getPinned()!==m&&(w.setPinned(m),!0)},u,function(){return{type:ne.EVENT_COLUMN_PINNED,pinned:m,column:null,columns:null,api:d.gridApi,columnApi:d.columnApi,source:u}}),this.columnAnimationService.finish()):console.warn("Changing the column pinning status is not allowed with domLayout='print'")},i.prototype.actionOnGridColumns=function(r,o,u,d){var m=this;if(!zn(r)){var w=[];if(r.forEach(function(x){var N=m.getGridColumn(x);N&&!1!==o(N)&&w.push(N)}),w.length&&(this.updateDisplayedColumns(u),re(d)&&d)){var P=d();P.columns=w,P.column=1===w.length?w[0]:null,this.eventService.dispatchEvent(P)}}},i.prototype.getDisplayedColBefore=function(r){var o=this.getAllDisplayedColumns(),u=o.indexOf(r);return u>0?o[u-1]:null},i.prototype.getDisplayedColAfter=function(r){var o=this.getAllDisplayedColumns(),u=o.indexOf(r);return u<o.length-1?o[u+1]:null},i.prototype.getDisplayedGroupAfter=function(r){return this.getDisplayedGroupAtDirection(r,"After")},i.prototype.getDisplayedGroupBefore=function(r){return this.getDisplayedGroupAtDirection(r,"Before")},i.prototype.getDisplayedGroupAtDirection=function(r,o){for(var u=r.getProvidedColumnGroup().getLevel()+r.getPaddingLevel(),d=r.getDisplayedLeafColumns(),m="After"===o?Jt(d):d[0],w="getDisplayedCol"+o;;){var P=this[w](m);if(!P)return null;var x=this.getColumnGroupAtLevel(P,u);if(x!==r)return x}},i.prototype.getColumnGroupAtLevel=function(r,o){for(var u=r.getParent();!(u.getProvidedColumnGroup().getLevel()+u.getPaddingLevel()<=o);)u=u.getParent();return u},i.prototype.isPinningLeft=function(){return this.displayedColumnsLeft.length>0},i.prototype.isPinningRight=function(){return this.displayedColumnsRight.length>0},i.prototype.getPrimaryAndSecondaryAndAutoColumns=function(){var r;return(r=[]).concat.apply(r,bn([this.primaryColumns||[],this.groupAutoColumns||[],this.secondaryColumns||[]]))},i.prototype.getPrimaryAndAutoGroupCols=function(){var r;return(r=[]).concat.apply(r,bn([this.primaryColumns||[],this.groupAutoColumns||[]]))},i.prototype.getPrimaryAndSecondaryColumns=function(){var r;return(r=[]).concat.apply(r,bn([this.primaryColumns||[],this.secondaryColumns||[]]))},i.prototype.createStateItemFromColumn=function(r){var o=r.isRowGroupActive()?this.rowGroupColumns.indexOf(r):null,u=r.isPivotActive()?this.pivotColumns.indexOf(r):null,d=r.isValueActive()?r.getAggFunc():null,m=null!=r.getSort()?r.getSort():null,w=null!=r.getSortIndex()?r.getSortIndex():null,P=null!=r.getFlex()&&r.getFlex()>0?r.getFlex():null;return{colId:r.getColId(),width:r.getActualWidth(),hide:!r.isVisible(),pinned:r.getPinned(),sort:m,sortIndex:w,aggFunc:d,rowGroup:r.isRowGroupActive(),rowGroupIndex:o,pivot:r.isPivotActive(),pivotIndex:u,flex:P}},i.prototype.getColumnState=function(){if(b(this.primaryColumns)||!this.isAlive())return[];var o=this.getPrimaryAndSecondaryAndAutoColumns().map(this.createStateItemFromColumn.bind(this));return this.orderColumnStateList(o),o},i.prototype.orderColumnStateList=function(r){var o=kl(this.gridColumns.map(function(u,d){return[u.getColId(),d]}));r.sort(function(u,d){return(o.has(u.colId)?o.get(u.colId):-1)-(o.has(d.colId)?o.get(d.colId):-1)})},i.prototype.resetColumnState=function(r){void 0===r&&(r="api");var o=this.getColumnsFromTree(this.primaryColumnTree),u=[],d=1e3,m=1e3,w=[];this.groupAutoColumns&&(w=w.concat(this.groupAutoColumns)),o&&(w=w.concat(o)),w.forEach(function(P){var x=function(lt,Ue){return null!=lt?lt:null!=Ue?Ue:null},N=P.getColDef(),k=x(N.sort,N.initialSort),q=x(N.sortIndex,N.initialSortIndex),ee=x(N.hide,N.initialHide),le=x(N.pinned,N.initialPinned),de=x(N.width,N.initialWidth),ye=x(N.flex,N.initialFlex),xe=x(N.rowGroupIndex,N.initialRowGroupIndex),Oe=x(N.rowGroup,N.initialRowGroup);null==xe&&(null==Oe||0==Oe)&&(xe=null,Oe=null);var Ee=x(N.pivotIndex,N.initialPivotIndex),$e=x(N.pivot,N.initialPivot);null==Ee&&(null==$e||0==$e)&&(Ee=null,$e=null);var pt=x(N.aggFunc,N.initialAggFunc),vt={colId:P.getColId(),sort:k,sortIndex:q,hide:ee,pinned:le,width:de,flex:ye,rowGroup:Oe,rowGroupIndex:xe,pivot:$e,pivotIndex:Ee,aggFunc:pt};b(xe)&&Oe&&(vt.rowGroupIndex=d++),b(Ee)&&$e&&(vt.pivotIndex=m++),u.push(vt)}),this.applyColumnState({state:u,applyOrder:!0},r)},i.prototype.applyColumnState=function(r,o){var u=this;if(void 0===o&&(o="api"),zn(this.primaryColumns))return!1;if(r&&r.state&&!r.state.forEach)return console.warn("AG Grid: applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;var d=function(x,N,k){var q=u.compareColumnStatesAndRaiseEvents(o);u.autoGroupsNeedBuilding=!0;var ee=N.slice(),le={},de={},ye=[],xe=[],Oe=0,Ee=u.rowGroupColumns.slice(),$e=u.pivotColumns.slice();x.forEach(function(Ue){var xt=Ue.colId||"";if(xt.startsWith(ge.GROUP_AUTO_COLUMN_ID))return ye.push(Ue),void xe.push(Ue);var Br=k(xt);Br?(u.syncColumnWithStateItem(Br,Ue,r.defaultState,le,de,!1,o),on(ee,Br)):(xe.push(Ue),Oe+=1)});var pt=function(Ue){return u.syncColumnWithStateItem(Ue,null,r.defaultState,le,de,!1,o)};ee.forEach(pt);var vt=function(Ue,xt,Tt,Br){var ir=Ue[Tt.getId()],ta=Ue[Br.getId()],ra=null!=ir,ui=null!=ta;if(ra&&ui)return ir-ta;if(ra)return-1;if(ui)return 1;var za=xt.indexOf(Tt),El=xt.indexOf(Br),sy=za>=0;return sy&&El>=0?za-El:sy?-1:1};u.rowGroupColumns.sort(vt.bind(u,le,Ee)),u.pivotColumns.sort(vt.bind(u,de,$e)),u.updateGridColumns();var lt=u.groupAutoColumns?u.groupAutoColumns.slice():[];return ye.forEach(function(Ue){var xt=u.getAutoColumn(Ue.colId);on(lt,xt),u.syncColumnWithStateItem(xt,Ue,r.defaultState,null,null,!0,o)}),lt.forEach(pt),u.applyOrderAfterApplyState(r),u.updateDisplayedColumns(o),u.dispatchEverythingChanged(o),q(),{unmatchedAndAutoStates:xe,unmatchedCount:Oe}};this.columnAnimationService.start();var m=d(r.state||[],this.primaryColumns||[],function(x){return u.getPrimaryColumn(x)}),w=m.unmatchedAndAutoStates,P=m.unmatchedCount;return(w.length>0||re(r.defaultState))&&(P=d(w,this.secondaryColumns||[],function(x){return u.getSecondaryColumn(x)}).unmatchedCount),this.columnAnimationService.finish(),0===P},i.prototype.applyOrderAfterApplyState=function(r){var o=this;if(r.applyOrder&&r.state){var u=[],d={};r.state.forEach(function(w){if(w.colId&&!d[w.colId]){var P=o.gridColumnsMap[w.colId];P&&(u.push(P),d[w.colId]=!0)}});var m=0;if(this.gridColumns.forEach(function(w){var P=w.getColId();null!=d[P]||(P.startsWith(ge.GROUP_AUTO_COLUMN_ID)?ko(u,w,m++):u.push(w))}),u=this.placeLockedColumns(u),!this.doesMovePassMarryChildren(u))return void console.warn("AG Grid: Applying column order broke a group where columns should be married together. Applying new order has been discarded.");this.gridColumns=u}},i.prototype.compareColumnStatesAndRaiseEvents=function(r){var o=this,u={rowGroupColumns:this.rowGroupColumns.slice(),pivotColumns:this.pivotColumns.slice(),valueColumns:this.valueColumns.slice()},d=this.getColumnState(),m={};return d.forEach(function(w){m[w.colId]=w}),function(){if(!o.gridOptionsWrapper.isSuppressColumnStateEvents()){var w=o.getPrimaryAndSecondaryAndAutoColumns(),P=function(xe,Oe,Ee,$e){Ws(Oe.map($e),Ee.map($e))||o.eventService.dispatchEvent({type:xe,columns:Ee,column:1===Ee.length?Ee[0]:null,api:o.gridApi,columnApi:o.columnApi,source:r})},x=function(xe){var Oe=[];return w.forEach(function(Ee){var $e=m[Ee.getColId()];$e&&xe($e,Ee)&&Oe.push(Ee)}),Oe},N=function(xe){return xe.getColId()};P(ne.EVENT_COLUMN_ROW_GROUP_CHANGED,u.rowGroupColumns,o.rowGroupColumns,N),P(ne.EVENT_COLUMN_PIVOT_CHANGED,u.pivotColumns,o.pivotColumns,N),x(function(xe,Oe){var Ee=null!=xe.aggFunc,$e=Ee!=Oe.isValueActive(),pt=Ee&&xe.aggFunc!=Oe.getAggFunc();return $e||pt}).length>0&&o.fireColumnEvent(ne.EVENT_COLUMN_VALUE_CHANGED,o.valueColumns,r),o.fireColumnResizedEvent(x(function(xe,Oe){return xe.width!=Oe.getActualWidth()}),!0,r),o.raiseColumnPinnedEvent(x(function(xe,Oe){return xe.pinned!=Oe.getPinned()}),r),o.raiseColumnVisibleEvent(x(function(xe,Oe){return xe.hide==Oe.isVisible()}),r),x(function(xe,Oe){return xe.sort!=Oe.getSort()||xe.sortIndex!=Oe.getSortIndex()}).length>0&&o.sortController.dispatchSortChangedEvents(r),o.raiseColumnMovedEvent(d,r)}}},i.prototype.raiseColumnPinnedEvent=function(r,o){if(r.length){var u=1===r.length?r[0]:null,d=this.getCommonValue(r,function(w){return w.getPinned()});this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_PINNED,pinned:null!=d?d:null,columns:r,column:u,api:this.gridApi,columnApi:this.columnApi,source:o})}},i.prototype.getCommonValue=function(r,o){if(r&&0!=r.length){for(var u=o(r[0]),d=1;d<r.length;d++)if(u!==o(r[d]))return;return u}},i.prototype.raiseColumnVisibleEvent=function(r,o){if(r.length){var u=1===r.length?r[0]:null,d=this.getCommonValue(r,function(w){return w.isVisible()});this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_VISIBLE,visible:d,columns:r,column:u,api:this.gridApi,columnApi:this.columnApi,source:o})}},i.prototype.raiseColumnMovedEvent=function(r,o){var u=this,d=this.getColumnState(),m={};d.forEach(function(q){return m[q.colId]=q});var w={};r.forEach(function(q){m[q.colId]&&(w[q.colId]=!0)});var P=r.filter(function(q){return w[q.colId]}),x=d.filter(function(q){return w[q.colId]}),N=[];x.forEach(function(q,ee){var le=P&&P[ee];if(le&&le.colId!==q.colId){var de=u.getGridColumn(le.colId);de&&N.push(de)}}),N.length&&this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_MOVED,columns:N,column:null,api:this.gridApi,columnApi:this.columnApi,source:o})},i.prototype.syncColumnWithStateItem=function(r,o,u,d,m,w,P){if(r){var x=function(xt,Tt){var Br={value1:void 0,value2:void 0},ir=!1;return o&&(void 0!==o[xt]&&(Br.value1=o[xt],ir=!0),re(Tt)&&void 0!==o[Tt]&&(Br.value2=o[Tt],ir=!0)),!ir&&u&&(void 0!==u[xt]&&(Br.value1=u[xt]),re(Tt)&&void 0!==u[Tt]&&(Br.value2=u[Tt])),Br},N=x("hide").value1;void 0!==N&&r.setVisible(!N,P);var k=x("pinned").value1;void 0!==k&&r.setPinned(k);var q=this.columnUtils.calculateColMinWidth(r.getColDef()),ee=x("flex").value1;if(void 0!==ee&&r.setFlex(ee),r.getFlex()<=0){var de=x("width").value1;null!=de&&null!=q&&de>=q&&r.setActualWidth(de,P)}var ye=x("sort").value1;void 0!==ye&&r.setSort(ye===ge.SORT_DESC||ye===ge.SORT_ASC?ye:void 0,P);var xe=x("sortIndex").value1;if(void 0!==xe&&r.setSortIndex(xe),!w&&r.isPrimary()){var Oe=x("aggFunc").value1;void 0!==Oe&&("string"==typeof Oe?(r.setAggFunc(Oe),r.isValueActive()||(r.setValueActive(!0,P),this.valueColumns.push(r))):(re(Oe)&&console.warn("AG Grid: stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),r.isValueActive()&&(r.setValueActive(!1,P),on(this.valueColumns,r))));var Ee=x("rowGroup","rowGroupIndex"),$e=Ee.value1,pt=Ee.value2;(void 0!==$e||void 0!==pt)&&("number"==typeof pt||$e?(r.isRowGroupActive()||(r.setRowGroupActive(!0,P),this.rowGroupColumns.push(r)),d&&"number"==typeof pt&&(d[r.getId()]=pt)):r.isRowGroupActive()&&(r.setRowGroupActive(!1,P),on(this.rowGroupColumns,r)));var vt=x("pivot","pivotIndex"),lt=vt.value1,Ue=vt.value2;(void 0!==lt||void 0!==Ue)&&("number"==typeof Ue||lt?(r.isPivotActive()||(r.setPivotActive(!0,P),this.pivotColumns.push(r)),m&&"number"==typeof Ue&&(m[r.getId()]=Ue)):r.isPivotActive()&&(r.setPivotActive(!1,P),on(this.pivotColumns,r)))}}},i.prototype.getGridColumns=function(r){return this.getColumns(r,this.getGridColumn.bind(this))},i.prototype.getColumns=function(r,o){var u=[];return r&&r.forEach(function(d){var m=o(d);m&&u.push(m)}),u},i.prototype.getColumnWithValidation=function(r){if(null==r)return null;var o=this.getGridColumn(r);return o||console.warn("AG Grid: could not find column "+r),o},i.prototype.getPrimaryColumn=function(r){return this.primaryColumns?this.getColumn(r,this.primaryColumns,this.primaryColumnsMap):null},i.prototype.getGridColumn=function(r){return this.getColumn(r,this.gridColumns,this.gridColumnsMap)},i.prototype.getSecondaryColumn=function(r){return this.secondaryColumns?this.getColumn(r,this.secondaryColumns,this.secondaryColumnsMap):null},i.prototype.getColumn=function(r,o,u){if(!r)return null;if("string"==typeof r&&u[r])return u[r];for(var d=0;d<o.length;d++)if(this.columnsMatch(o[d],r))return o[d];return this.getAutoColumn(r)},i.prototype.getAutoColumn=function(r){var o=this;return this.groupAutoColumns&&re(this.groupAutoColumns)&&!b(this.groupAutoColumns)&&this.groupAutoColumns.find(function(u){return o.columnsMatch(u,r)})||null},i.prototype.columnsMatch=function(r,o){var u=r===o,d=r.getColDef()===o,m=r.getColId()==o;return u||d||m},i.prototype.getDisplayNameForColumn=function(r,o,u){if(void 0===u&&(u=!1),!r)return null;var d=this.getHeaderName(r.getColDef(),r,null,null,o);return u?this.wrapHeaderNameWithAggFunc(r,d):d},i.prototype.getDisplayNameForProvidedColumnGroup=function(r,o,u){var d=o?o.getColGroupDef():null;return d?this.getHeaderName(d,null,r,o,u):null},i.prototype.getDisplayNameForColumnGroup=function(r,o){return this.getDisplayNameForProvidedColumnGroup(r,r.getProvidedColumnGroup(),o)},i.prototype.getHeaderName=function(r,o,u,d,m){var w=r.headerValueGetter;if(w){var P={colDef:r,column:o,columnGroup:u,providedColumnGroup:d,location:m,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};return"function"==typeof w?w(P):"string"==typeof w?this.expressionService.evaluate(w,P):(console.warn("ag-grid: headerValueGetter must be a function or a string"),"")}return null!=r.headerName?r.headerName:r.field?Ot(r.field):""},i.prototype.wrapHeaderNameWithAggFunc=function(r,o){if(this.gridOptionsWrapper.isSuppressAggFuncInHeader())return o;var w,u=r.getColDef().pivotValueColumn,m=null;if(re(u))m=u?u.getAggFunc():null,w=!0;else{var P=r.isValueActive(),x=this.pivotMode||!this.isRowGroupEmpty();P&&x?(m=r.getAggFunc(),w=!0):w=!1}if(w){var N="string"==typeof m?m:"func";return this.gridOptionsWrapper.getLocaleTextFunc()(N,N)+"("+o+")"}return o},i.prototype.getColumnGroup=function(r,o){if(!r)return null;if(r instanceof er)return r;var u=this.getAllDisplayedTrees(),d="number"==typeof o,m=null;return this.columnUtils.depthFirstAllColumnTreeSearch(u,function(w){if(w instanceof er){var P=w;(d?r===P.getGroupId()&&o===P.getInstanceId():r===P.getGroupId())&&(m=P)}}),m},i.prototype.isReady=function(){return this.ready},i.prototype.extractValueColumns=function(r,o){this.valueColumns=this.extractColumns(o,this.valueColumns,function(u,d){return u.setValueActive(d,r)},function(){},function(){},function(u){var d=u.aggFunc;return null===d||""===d?null:void 0!==d?!!d:void 0},function(u){return null!=u.initialAggFunc&&""!=u.initialAggFunc}),this.valueColumns.forEach(function(u){var d=u.getColDef();null!=d.aggFunc&&""!=d.aggFunc?u.setAggFunc(d.aggFunc):u.getAggFunc()||u.setAggFunc(d.initialAggFunc)})},i.prototype.extractRowGroupColumns=function(r,o){this.rowGroupColumns=this.extractColumns(o,this.rowGroupColumns,function(u,d){return u.setRowGroupActive(d,r)},function(u){return u.rowGroupIndex},function(u){return u.initialRowGroupIndex},function(u){return u.rowGroup},function(u){return u.initialRowGroup})},i.prototype.extractColumns=function(r,o,u,d,m,w,P){void 0===r&&(r=[]),void 0===o&&(o=[]);var x=[],N=[];(this.primaryColumns||[]).forEach(function(ee){var le=r.indexOf(ee)<0,de=ee.getColDef(),ye=Lo(w(de)),xe=Lo(P(de)),Oe=Pr(d(de)),Ee=Pr(m(de));(void 0!==ye?ye:void 0!==Oe?null!==Oe&&Oe>=0:le?void 0!==xe?xe:void 0!==Ee&&null!=Ee&&Ee>=0:o.indexOf(ee)>=0)&&((le?null!=Oe||null!=Ee:null!=Oe)?x.push(ee):N.push(ee))});var k=function(ee){var le=d(ee.getColDef()),de=m(ee.getColDef());return null!=le?le:de};x.sort(function(ee,le){var de=k(ee),ye=k(le);return de===ye?0:de<ye?-1:1});var q=[].concat(x);return o.forEach(function(ee){N.indexOf(ee)>=0&&q.push(ee)}),N.forEach(function(ee){q.indexOf(ee)<0&&q.push(ee)}),o.forEach(function(ee){q.indexOf(ee)<0&&u(ee,!1)}),q.forEach(function(ee){o.indexOf(ee)<0&&u(ee,!0)}),q},i.prototype.extractPivotColumns=function(r,o){this.pivotColumns=this.extractColumns(o,this.pivotColumns,function(u,d){return u.setPivotActive(d,r)},function(u){return u.pivotIndex},function(u){return u.initialPivotIndex},function(u){return u.pivot},function(u){return u.initialPivot})},i.prototype.resetColumnGroupState=function(r){void 0===r&&(r="api");var o=[];this.columnUtils.depthFirstOriginalTreeSearch(null,this.primaryColumnTree,function(u){if(u instanceof Or){var d=u.getColGroupDef(),m={groupId:u.getGroupId(),open:d?d.openByDefault:void 0};o.push(m)}}),this.setColumnGroupState(o,r)},i.prototype.getColumnGroupState=function(){var r=[];return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(o){o instanceof Or&&r.push({groupId:o.getGroupId(),open:o.isExpanded()})}),r},i.prototype.setColumnGroupState=function(r,o){var u=this;void 0===o&&(o="api"),this.columnAnimationService.start();var d=[];r.forEach(function(m){var P=m.open,x=u.getProvidedColumnGroup(m.groupId);!x||x.isExpanded()!==P&&(u.logger.log("columnGroupOpened("+x.getGroupId()+","+P+")"),x.setExpanded(P),d.push(x))}),this.updateGroupsAndDisplayedColumns(o),this.setFirstRightAndLastLeftPinned(o),d.forEach(function(m){u.eventService.dispatchEvent({type:ne.EVENT_COLUMN_GROUP_OPENED,columnGroup:m,api:u.gridApi,columnApi:u.columnApi})}),this.columnAnimationService.finish()},i.prototype.setColumnGroupOpened=function(r,o,u){var d;void 0===u&&(u="api"),d=r instanceof Or?r.getId():r||"",this.setColumnGroupState([{groupId:d,open:o}],u)},i.prototype.getProvidedColumnGroup=function(r){"string"!=typeof r&&console.error("AG Grid: group key must be a string");var o=null;return this.columnUtils.depthFirstOriginalTreeSearch(null,this.gridBalancedTree,function(u){u instanceof Or&&u.getId()===r&&(o=u)}),o},i.prototype.calculateColumnsForDisplay=function(){var r=this;return this.pivotMode&&b(this.secondaryColumns)?this.gridColumns.filter(function(u){var d=r.groupAutoColumns&&gi(r.groupAutoColumns,u),m=r.valueColumns&&gi(r.valueColumns,u);return d||m}):this.gridColumns.filter(function(u){return r.groupAutoColumns&&gi(r.groupAutoColumns,u)||u.isVisible()})},i.prototype.checkColSpanActiveInCols=function(r){var o=!1;return r.forEach(function(u){re(u.getColDef().colSpan)&&(o=!0)}),o},i.prototype.calculateColumnsForGroupDisplay=function(){var r=this;this.groupDisplayColumns=[];var o=function(u){var d=u.getColDef();d&&re(d.showRowGroup)&&r.groupDisplayColumns.push(u)};this.gridColumns.forEach(o),this.groupAutoColumns&&this.groupAutoColumns.forEach(o)},i.prototype.getGroupDisplayColumns=function(){return this.groupDisplayColumns},i.prototype.updateDisplayedColumns=function(r){var o=this.calculateColumnsForDisplay();this.buildDisplayedTrees(o),this.calculateColumnsForGroupDisplay(),this.updateGroupsAndDisplayedColumns(r),this.setFirstRightAndLastLeftPinned(r)},i.prototype.isSecondaryColumnsPresent=function(){return re(this.secondaryColumns)},i.prototype.setSecondaryColumns=function(r,o){var u=this;void 0===o&&(o="api");var d=r&&r.length>0;if(d||!b(this.secondaryColumns)){if(d){this.processSecondaryColumnDefinitions(r);var m=this.columnFactory.createColumnTree(r,!1,this.secondaryBalancedTree||this.previousSecondaryColumns||void 0);this.secondaryBalancedTree=m.columnTree,this.secondaryHeaderRowCount=m.treeDept+1,this.secondaryColumns=this.getColumnsFromTree(this.secondaryBalancedTree),this.secondaryColumnsMap={},this.secondaryColumns.forEach(function(w){return u.secondaryColumnsMap[w.getId()]=w}),this.previousSecondaryColumns=null}else this.previousSecondaryColumns=this.secondaryBalancedTree,this.secondaryBalancedTree=null,this.secondaryHeaderRowCount=-1,this.secondaryColumns=null,this.secondaryColumnsMap={};this.updateGridColumns(),this.updateDisplayedColumns(o)}},i.prototype.processSecondaryColumnDefinitions=function(r){var o=this.gridOptionsWrapper.getProcessSecondaryColDefFunc(),u=this.gridOptionsWrapper.getProcessSecondaryColGroupDefFunc();if(o||u){var d=function(m){m.forEach(function(w){if(re(w.children)){var x=w;u&&u(x),d(x.children)}else o&&o(w)})};r&&d(r)}},i.prototype.updateGridColumns=function(){var r=this;if(this.gridColsArePrimary?this.lastPrimaryOrder=this.gridColumns:this.lastSecondaryOrder=this.gridColumns,this.secondaryColumns&&this.secondaryBalancedTree){var o=this.secondaryColumns.every(function(d){return void 0!==r.gridColumnsMap[d.getColId()]});this.gridBalancedTree=this.secondaryBalancedTree.slice(),this.gridHeaderRowCount=this.secondaryHeaderRowCount,this.gridColumns=this.secondaryColumns.slice(),this.gridColsArePrimary=!1,o&&this.orderGridColsLike(this.lastSecondaryOrder)}else this.primaryColumns&&(this.gridBalancedTree=this.primaryColumnTree.slice(),this.gridHeaderRowCount=this.primaryHeaderRowCount,this.gridColumns=this.primaryColumns.slice(),this.gridColsArePrimary=!0,this.orderGridColsLike(this.lastPrimaryOrder));this.addAutoGroupToGridColumns(),this.gridColumns=this.placeLockedColumns(this.gridColumns),this.setupQuickFilterColumns(),this.clearDisplayedAndViewportColumns(),this.colSpanActive=this.checkColSpanActiveInCols(this.gridColumns),this.gridColumnsMap={},this.gridColumns.forEach(function(d){return r.gridColumnsMap[d.getId()]=d}),this.setAutoHeightActive(),this.eventService.dispatchEvent({type:ne.EVENT_GRID_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setAutoHeightActive=function(){if(this.autoHeightActive=this.gridColumns.filter(function(d){return d.isAutoHeight()}).length>0,this.autoHeightActive){this.autoHeightActiveAtLeastOnce=!0;var r=this.rowModel.getType();r!==ge.ROW_MODEL_TYPE_CLIENT_SIDE&&r!==ge.ROW_MODEL_TYPE_SERVER_SIDE&&Wt(function(){return console.warn("AG Grid - autoHeight columns only work with Client Side Row Model and Server Side Row Model.")},"autoHeightActive.wrongRowModel")}},i.prototype.orderGridColsLike=function(r){if(!b(r)){var o=kl(r.map(function(N,k){return[N,k]})),u=!0;if(this.gridColumns.forEach(function(N){o.has(N)&&(u=!1)}),!u){var d=kl(this.gridColumns.map(function(N){return[N,!0]})),m=r.filter(function(N){return d.has(N)}),w=kl(m.map(function(N){return[N,!0]})),P=this.gridColumns.filter(function(N){return!w.has(N)}),x=m.slice();P.forEach(function(N){var k=N.getOriginalParent();if(k){for(var q=[];!q.length&&k;)k.getLeafColumns().forEach(function(ye){var xe=x.indexOf(ye)>=0,Oe=q.indexOf(ye)<0;xe&&Oe&&q.push(ye)}),k=k.getOriginalParent();if(q.length){var le=q.map(function(ye){return x.indexOf(ye)}),de=Math.max.apply(Math,bn(le));ko(x,N,de+1)}else x.push(N)}else x.push(N)}),this.gridColumns=x}}},i.prototype.isPrimaryColumnGroupsPresent=function(){return this.primaryHeaderRowCount>1},i.prototype.setupQuickFilterColumns=function(){this.groupAutoColumns?this.columnsForQuickFilter=(this.primaryColumns||[]).concat(this.groupAutoColumns):this.primaryColumns&&(this.columnsForQuickFilter=this.primaryColumns)},i.prototype.placeLockedColumns=function(r){var o=[],u=[],d=[];return r.forEach(function(m){var w=m.getColDef().lockPosition;"right"===w?d.push(m):"left"===w||!0===w?o.push(m):u.push(m)}),bn(o,u,d)},i.prototype.addAutoGroupToGridColumns=function(){if(this.createGroupAutoColumnsIfNeeded(),!b(this.groupAutoColumns)){this.gridColumns=this.groupAutoColumns?this.groupAutoColumns.concat(this.gridColumns):this.gridColumns;var r=this.columnFactory.createForAutoGroups(this.groupAutoColumns,this.gridBalancedTree);this.gridBalancedTree=r.concat(this.gridBalancedTree)}},i.prototype.clearDisplayedAndViewportColumns=function(){this.displayedTreeLeft=[],this.displayedTreeRight=[],this.displayedTreeCentre=[],this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={},this.displayedColumnsLeft=[],this.displayedColumnsRight=[],this.displayedColumnsCenter=[],this.displayedColumns=[],this.viewportColumns=[]},i.prototype.updateGroupsAndDisplayedColumns=function(r){this.updateOpenClosedVisibilityInColumnGroups(),this.deriveDisplayedColumns(r),this.refreshFlexedColumns(),this.extractViewport(),this.updateBodyWidths(),this.eventService.dispatchEvent({type:ne.EVENT_DISPLAYED_COLUMNS_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.deriveDisplayedColumns=function(r){this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeLeft,this.displayedColumnsLeft),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeCentre,this.displayedColumnsCenter),this.derivedDisplayedColumnsFromDisplayedTree(this.displayedTreeRight,this.displayedColumnsRight),this.joinDisplayedColumns(),this.setLeftValues(r),this.displayedAutoHeightCols=this.displayedColumns.filter(function(o){return o.isAutoHeight()})},i.prototype.isAutoRowHeightActive=function(){return this.autoHeightActive},i.prototype.wasAutoRowHeightEverActive=function(){return this.autoHeightActiveAtLeastOnce},i.prototype.joinDisplayedColumns=function(){this.displayedColumns=this.gridOptionsWrapper.isEnableRtl()?this.displayedColumnsRight.concat(this.displayedColumnsCenter).concat(this.displayedColumnsLeft):this.displayedColumnsLeft.concat(this.displayedColumnsCenter).concat(this.displayedColumnsRight)},i.prototype.setLeftValues=function(r){this.setLeftValuesOfColumns(r),this.setLeftValuesOfGroups()},i.prototype.setLeftValuesOfColumns=function(r){var o=this;if(this.primaryColumns){var u=this.primaryColumns.slice(0),d=this.gridOptionsWrapper.isEnableRtl();[this.displayedColumnsLeft,this.displayedColumnsRight,this.displayedColumnsCenter].forEach(function(m){if(d){var w=o.getWidthOfColsInList(m);m.forEach(function(x){w-=x.getActualWidth(),x.setLeft(w,r)})}else{var P=0;m.forEach(function(x){x.setLeft(P,r),P+=x.getActualWidth()})}nh(u,m)}),u.forEach(function(m){m.setLeft(null,r)})}},i.prototype.setLeftValuesOfGroups=function(){[this.displayedTreeLeft,this.displayedTreeRight,this.displayedTreeCentre].forEach(function(r){r.forEach(function(o){o instanceof er&&o.checkLeft()})})},i.prototype.derivedDisplayedColumnsFromDisplayedTree=function(r,o){o.length=0,this.columnUtils.depthFirstDisplayedColumnTreeSearch(r,function(u){u instanceof kt&&o.push(u)})},i.prototype.extractViewportColumns=function(){this.viewportColumnsCenter=this.suppressColumnVirtualisation?this.displayedColumnsCenter:this.filterOutColumnsWithinViewport(),this.viewportColumns=this.viewportColumnsCenter.concat(this.displayedColumnsLeft).concat(this.displayedColumnsRight)},i.prototype.getVirtualHeaderGroupRow=function(r,o){var u;switch(r){case ge.PINNED_LEFT:u=this.viewportRowLeft[o];break;case ge.PINNED_RIGHT:u=this.viewportRowRight[o];break;default:u=this.viewportRowCenter[o]}return b(u)&&(u=[]),u},i.prototype.extractViewportRows=function(){this.viewportRowLeft={},this.viewportRowRight={},this.viewportRowCenter={};var r={};this.viewportColumns.forEach(function(u){return r[u.getId()]=!0});var o=function(u,d,m){for(var w=!1,P=0;P<u.length;P++){var x=u[P],N=!1;if(x instanceof kt)N=!0===r[x.getId()];else{var q=x.getDisplayedChildren();q&&(N=o(q,d,m+1))}N&&(w=!0,d[m]||(d[m]=[]),d[m].push(x))}return w};o(this.displayedTreeLeft,this.viewportRowLeft,0),o(this.displayedTreeRight,this.viewportRowRight,0),o(this.displayedTreeCentre,this.viewportRowCenter,0)},i.prototype.extractViewport=function(){this.extractViewportColumns(),this.extractViewportRows()},i.prototype.filterOutColumnsWithinViewport=function(){return this.displayedColumnsCenter.filter(this.isColumnInViewport.bind(this))},i.prototype.refreshFlexedColumns=function(r){var o=this;void 0===r&&(r={});var u=r.source?r.source:"flex";if(null!=r.viewportWidth&&(this.flexViewportWidth=r.viewportWidth),!this.flexViewportWidth)return[];var d=-1;r.resizingCols&&r.resizingCols.forEach(function($e){var pt=o.displayedColumnsCenter.indexOf($e);d<pt&&(d=pt)});var m=function($e){var pt=o.displayedColumnsCenter.indexOf($e)>d;return $e.getFlex()&&pt},w=this.displayedColumnsCenter.filter(function($e){return!m($e)}),P=this.displayedColumnsCenter.filter(function($e){return m($e)}),x=[];if(!P.length)return[];var k,N=[];e:for(;;){var q=P.reduce(function($e,pt){return $e+pt.getFlex()},0);k=this.flexViewportWidth-this.getWidthOfColsInList(w);for(var ee=0;ee<P.length;ee++){var le=P[ee],de=k*le.getFlex()/q,ye=0,xe=le.getMinWidth(),Oe=le.getMaxWidth();if(re(xe)&&de<xe?ye=xe:re(Oe)&&de>Oe&&(ye=Oe),ye){le.setActualWidth(ye,u),on(P,le),x.push(le),w.push(le);continue e}N[ee]=Math.round(de)}break}var Ee=k;return P.forEach(function($e,pt){$e.setActualWidth(Math.min(N[pt],Ee),u),x.push($e),Ee-=N[pt]}),r.skipSetLeft||this.setLeftValues(u),r.updateBodyWidths&&this.updateBodyWidths(),r.fireResizedEvent&&this.fireColumnResizedEvent(x,!0,u,P),this.flexColsCalculatedAtLestOnce||(this.gridOptionsWrapper.isRowModelDefault()&&this.rowModel.resetRowHeights(),this.flexColsCalculatedAtLestOnce=!0),P},i.prototype.sizeColumnsToFit=function(r,o,u){void 0===o&&(o="sizeColumnsToFit");var d=this.getAllDisplayedColumns();if(!(r<=0)&&d.length){var m=[],w=[];d.forEach(function(Ee){!0===Ee.getColDef().suppressSizeToFit?w.push(Ee):m.push(Ee)});var P=m.slice(0),x=!1,N=function(Ee){on(m,Ee),w.push(Ee)};for(m.forEach(function(Ee){return Ee.resetActualWidth(o)});!x;){x=!0;var k=r-this.getWidthOfColsInList(w);if(k<=0)m.forEach(function(Ee){Ee.setMinimum(o)});else for(var q=k/this.getWidthOfColsInList(m),ee=k,le=m.length-1;le>=0;le--){var de=m[le],ye=de.getMinWidth(),xe=de.getMaxWidth(),Oe=Math.round(de.getActualWidth()*q);re(ye)&&Oe<ye?(Oe=ye,N(de),x=!1):re(xe)&&de.isGreaterThanMax(Oe)?(Oe=xe,N(de),x=!1):0===le&&(Oe=ee),de.setActualWidth(Oe,o,!0),ee-=Oe}}P.forEach(function(Ee){Ee.fireColumnWidthChangedEvent(o)}),this.setLeftValues(o),this.updateBodyWidths(),!u&&this.fireColumnResizedEvent(P,!0,o)}},i.prototype.buildDisplayedTrees=function(r){var o=[],u=[],d=[];r.forEach(function(w){switch(w.getPinned()){case"left":o.push(w);break;case"right":u.push(w);break;default:d.push(w)}});var m=new ah;this.displayedTreeLeft=this.displayedGroupCreator.createDisplayedGroups(o,this.gridBalancedTree,m,ge.PINNED_LEFT,this.displayedTreeLeft),this.displayedTreeRight=this.displayedGroupCreator.createDisplayedGroups(u,this.gridBalancedTree,m,ge.PINNED_RIGHT,this.displayedTreeRight),this.displayedTreeCentre=this.displayedGroupCreator.createDisplayedGroups(d,this.gridBalancedTree,m,null,this.displayedTreeCentre),this.updateDisplayedMap()},i.prototype.updateDisplayedMap=function(){var r=this;this.displayedColumnsAndGroupsMap={};var o=function(u){r.displayedColumnsAndGroupsMap[u.getUniqueId()]=u};this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeCentre,o),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeLeft,o),this.columnUtils.depthFirstAllColumnTreeSearch(this.displayedTreeRight,o)},i.prototype.isDisplayed=function(r){return this.displayedColumnsAndGroupsMap[r.getUniqueId()]===r},i.prototype.updateOpenClosedVisibilityInColumnGroups=function(){var r=this.getAllDisplayedTrees();this.columnUtils.depthFirstAllColumnTreeSearch(r,function(o){o instanceof er&&o.calculateDisplayedColumns()})},i.prototype.getGroupAutoColumns=function(){return this.groupAutoColumns},i.prototype.createGroupAutoColumnsIfNeeded=function(){if(this.autoGroupsNeedBuilding){this.autoGroupsNeedBuilding=!1;var r=this.gridOptionsWrapper.isGroupUseEntireRow(this.pivotMode),o=this.pivotMode?this.gridOptionsWrapper.isPivotSuppressAutoColumn():this.gridOptionsWrapper.isGroupSuppressAutoColumn();if(!(this.rowGroupColumns.length>0||this.usingTreeData)||o||r)this.groupAutoColumns=null;else{var w=this.autoGroupColService.createAutoGroupColumns(this.groupAutoColumns||[],this.rowGroupColumns);(!this.autoColsEqual(w,this.groupAutoColumns)||this.forceRecreateAutoGroups)&&(this.groupAutoColumns=w)}}},i.prototype.autoColsEqual=function(r,o){return Ws(r,o,function(u,d){return u.getColId()===d.getColId()})},i.prototype.getWidthOfColsInList=function(r){return r.reduce(function(o,u){return o+u.getActualWidth()},0)},i.prototype.getGridBalancedTree=function(){return this.gridBalancedTree},i.prototype.hasFloatingFilters=function(){return!!this.gridColumns&&this.gridColumns.some(function(o){return o.getColDef().floatingFilter})},i.prototype.getFirstDisplayedColumn=function(){var r=this.gridOptionsWrapper.isEnableRtl(),o=["getDisplayedLeftColumns","getDisplayedCenterColumns","getDisplayedRightColumns"];r&&o.reverse();for(var u=0;u<o.length;u++){var d=this[o[u]]();if(d.length)return r?Jt(d):d[0]}return null},an([K("expressionService")],i.prototype,"expressionService",void 0),an([K("columnFactory")],i.prototype,"columnFactory",void 0),an([K("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),an([K("ctrlsService")],i.prototype,"ctrlsService",void 0),an([K("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),an([K("columnUtils")],i.prototype,"columnUtils",void 0),an([K("columnAnimationService")],i.prototype,"columnAnimationService",void 0),an([K("autoGroupColService")],i.prototype,"autoGroupColService",void 0),an([jt("aggFuncService")],i.prototype,"aggFuncService",void 0),an([jt("valueCache")],i.prototype,"valueCache",void 0),an([jt("animationFrameService")],i.prototype,"animationFrameService",void 0),an([K("rowModel")],i.prototype,"rowModel",void 0),an([K("columnApi")],i.prototype,"columnApi",void 0),an([K("gridApi")],i.prototype,"gridApi",void 0),an([K("sortController")],i.prototype,"sortController",void 0),an([K("columnDefFactory")],i.prototype,"columnDefFactory",void 0),an([We],i.prototype,"init",null),an([jE(0,Er("loggerFactory"))],i.prototype,"setBeans",null),an([qe("columnModel")],i)}(Ge),hm=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fa=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return hm(i,h),i.prototype.calculateColMinWidth=function(r){return null!=r.minWidth?r.minWidth:this.gridOptionsWrapper.getMinColWidth()},i.prototype.calculateColMaxWidth=function(r){return null!=r.maxWidth?r.maxWidth:this.gridOptionsWrapper.getMaxColWidth()||Number.MAX_SAFE_INTEGER},i.prototype.calculateColInitialWidth=function(r){var d,o=this.calculateColMinWidth(r),u=this.calculateColMaxWidth(r),m=Pr(r.width),w=Pr(r.initialWidth);return d=null!=m?m:null!=w?w:this.gridOptionsWrapper.getColWidth(),Math.max(Math.min(d,u),o)},i.prototype.getOriginalPathForColumn=function(r,o){var u=[],d=!1,m=function(w,P){for(var x=0;x<w.length;x++){if(d)return;var N=w[x];N instanceof Or?(m(N.getChildren(),P+1),u[P]=N):N===r&&(d=!0)}};return m(o,0),d?u:null},i.prototype.depthFirstOriginalTreeSearch=function(r,o,u){var d=this;!o||o.forEach(function(m){m instanceof Or&&d.depthFirstOriginalTreeSearch(m,m.getChildren(),u),u(m,r)})},i.prototype.depthFirstAllColumnTreeSearch=function(r,o){var u=this;!r||r.forEach(function(d){d instanceof er&&u.depthFirstAllColumnTreeSearch(d.getChildren(),o),o(d)})},i.prototype.depthFirstDisplayedColumnTreeSearch=function(r,o){var u=this;!r||r.forEach(function(d){d instanceof er&&u.depthFirstDisplayedColumnTreeSearch(d.getDisplayedChildren(),o),o(d)})},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("columnUtils")],i),i}(Ge),V_=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),B_=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return V_(i,h),i.prototype.createDisplayedGroups=function(r,o,u,d,m){var x,N,w=this,P=[],k=this.mapOldGroupsById(m);return r.forEach(function(q){for(var ee=w.getOriginalPathForColumn(o,q),le=[],de=!N,ye=0;ye<ee.length;ye++)if(de||ee[ye]!==N[ye]){var xe=w.createColumnGroup(ee[ye],u,k,d);le[ye]=xe,0==ye?P.push(xe):le[ye-1].addChild(xe)}else le[ye]=x[ye];0===le.length?P.push(q):Jt(le).addChild(q),x=le,N=ee}),this.setupParentsIntoColumns(P,null),P},i.prototype.createColumnGroup=function(r,o,u,d){var m=r.getGroupId(),w=o.getInstanceIdForKey(m),x=u[er.createUniqueId(m,w)];return x&&x.getProvidedColumnGroup()!==r&&(x=null),re(x)?x.reset():(x=new er(r,m,w,d),this.context.createBean(x)),x},i.prototype.mapOldGroupsById=function(r){var o={},u=function(d){d.forEach(function(m){if(m instanceof er){var w=m;o[m.getUniqueId()]=w,u(w.getChildren())}})};return r&&u(r),o},i.prototype.setupParentsIntoColumns=function(r,o){var u=this;r.forEach(function(d){if(d.setParent(o),d instanceof er){var m=d;u.setupParentsIntoColumns(m.getChildren(),m)}})},i.prototype.getOriginalPathForColumn=function(r,o){var u=[],d=!1,m=function(w,P){for(var x=0;x<w.length;x++){if(d)return;var N=w[x];N instanceof Or?(m(N.getChildren(),P+1),u[P]=N):N===o&&(d=!0)}};return m(r,0),d?u:(console.warn("AG Grid: could not get path"),null)},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("displayedGroupCreator")],i),i}(Ge),pp=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},ts=function(){function h(){}return h.STRING_PROPERTIES=["sortingOrder","rowClass","rowSelection","overlayLoadingTemplate","overlayNoRowsTemplate","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","serverSideStoreType","groupDisplayType","treeDataDisplayType"],h.OBJECT_PROPERTIES=["components","frameworkComponents","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultExportParams","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","colResizeDefault","statusBar","sideBar","chartThemeOverrides","customChartThemes"],h.ARRAY_PROPERTIES=["alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes"],h.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","colWidth","headerHeight","groupHeaderHeight","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","minColWidth","maxColWidth","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","scrollbarWidth","batchUpdateWaitMillis","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","tabIndex"],h.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellSelection","suppressCellFocus","suppressHorizontalScroll","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","angularCompileRows","angularCompileFilters","groupSuppressAutoColumn","groupSelectsChildren","groupIncludeFooter","groupIncludeTotalFooter","groupUseEntireRow","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressParentsInRowNodes","suppressColumnMoveAnimation","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","rememberGroupStateWhenNewData","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","suppressAggAtRootLevel","suppressFocusAfterRefresh","functionsPassive","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","deprecatedEmbedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupMultiAutoColumn","pagination","stopEditingWhenGridLosesFocus","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","deltaRowDataMode","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","treeData","masterDetail","suppressMultiRangeSelection","enterMovesDownAfterEdit","enterMovesDown","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressEnterpriseResetOnNewColumns","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","serverSideSortingAlwaysResets","suppressSetColumnStateEvents","suppressColumnStateEvents","enableCharts","deltaColumnMode","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","immutableData","immutableColumns","pivotSuppressAutoColumn","suppressExpandablePivotGroups","applyColumnDefOrder","debounceVerticalScrollbar","detailRowAutoHeight","serverSideFilteringAlwaysResets","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","maintainColumnOrder","groupMaintainOrder","columnHoverHighlight","reactUi","suppressReactUi","readOnlyEdit","suppressRowVirtualisation"],h.ALL_PROPERTIES=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(pp(arguments[i]));return h}(h.ARRAY_PROPERTIES,h.OBJECT_PROPERTIES,h.STRING_PROPERTIES,h.NUMBER_PROPERTIES,h.FUNCTION_PROPERTIES=["localeTextFunc","getLocaleText","groupRowInnerRenderer","groupRowInnerRendererFramework","groupRowRenderer","groupRowRendererFramework","isExternalFilterPresent","getRowHeight","doesExternalFilterPass","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","groupRowAggNodes","getGroupRowAgg","getRowNodeId","isFullWidthCell","isFullWidthRow","fullWidthCellRenderer","fullWidthCellRendererFramework","processSecondaryColDef","processSecondaryColGroupDef","getBusinessKeyForNode","sendToClipboard","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","loadingCellRenderer","loadingCellRendererFramework","loadingOverlayComponent","loadingOverlayComponentFramework","noRowsOverlayComponent","noRowsOverlayComponentFramework","detailCellRenderer","detailCellRendererFramework","isRowMaster","isRowSelectable","postSort","postSortRows","processHeaderForClipboard","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","suppressKeyboardEvent","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideStoreParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","defaultGroupSortComparator","defaultGroupOrderComparator","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","groupAggFiltering"],h.BOOLEAN_PROPERTIES),h.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],h}(),rs=function(){return rs=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},rs.apply(this,arguments)},Vl=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},$n=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(Vl(arguments[i]));return h},Vt=function(){function h(){}return h.getEventCallbacks=function(){return h.EVENT_CALLBACKS||(h.EVENT_CALLBACKS=h.EVENTS.map(function(i){return h.getCallbackForEvent(i)})),h.EVENT_CALLBACKS},h.copyAttributesToGridOptions=function(i,r,o){"object"!=typeof i&&(i={});var u=i,d=function(m){return void 0!==r[m]};return d("groupAggFiltering")&&"function"!=typeof r.groupAggFiltering&&(u.groupAggFiltering=h.toBoolean(r.groupAggFiltering),delete r.groupAggFiltering),$n(h.ARRAY_PROPERTIES,h.STRING_PROPERTIES,h.OBJECT_PROPERTIES,h.FUNCTION_PROPERTIES,h.getEventCallbacks()).filter(d).forEach(function(m){return u[m]=r[m]}),h.BOOLEAN_PROPERTIES.filter(d).forEach(function(m){return u[m]=h.toBoolean(r[m])}),h.NUMBER_PROPERTIES.filter(d).forEach(function(m){return u[m]=h.toNumber(r[m])}),i},h.getCallbackForEvent=function(i){return!i||i.length<2?i:"on"+i[0].toUpperCase()+i.substr(1)},h.processOnChange=function(i,r,o,u){if(i){var d=rs({},i),m=r,w=function(N){return d[N]};w("groupAggFiltering")&&(m.groupAggFiltering="function"==typeof d.groupAggFiltering?d.groupAggFiltering:h.toBoolean(d.groupAggFiltering),delete d.groupAggFiltering),$n(h.ARRAY_PROPERTIES,h.OBJECT_PROPERTIES,h.STRING_PROPERTIES,h.getEventCallbacks()).filter(w).forEach(function(N){return m[N]=d[N].currentValue}),h.BOOLEAN_PROPERTIES.filter(w).forEach(function(N){return m[N]=h.toBoolean(d[N].currentValue)}),h.NUMBER_PROPERTIES.filter(w).forEach(function(N){return m[N]=h.toNumber(d[N].currentValue)}),d.enableCellTextSelection&&(o.setEnableCellTextSelection(h.toBoolean(d.enableCellTextSelection.currentValue)),delete d.enableCellTextSelection),d.quickFilterText&&(o.setQuickFilter(d.quickFilterText.currentValue),delete d.quickFilterText),d.autoGroupColumnDef&&(o.setAutoGroupColumnDef(d.autoGroupColumnDef.currentValue,"gridOptionsChanged"),delete d.autoGroupColumnDef),d.columnDefs&&(o.setColumnDefs(d.columnDefs.currentValue,"gridOptionsChanged"),delete d.columnDefs),d.defaultColDef&&(o.setDefaultColDef(d.defaultColDef.currentValue,"gridOptionsChanged"),delete d.defaultColDef),d.paginationPageSize&&(o.paginationSetPageSize(h.toNumber(d.paginationPageSize.currentValue)),delete d.paginationPageSize),d.pivotMode&&(u.setPivotMode(h.toBoolean(d.pivotMode.currentValue)),delete d.pivotMode),d.groupRemoveSingleChildren&&(o.setGroupRemoveSingleChildren(h.toBoolean(d.groupRemoveSingleChildren.currentValue)),delete d.groupRemoveSingleChildren),d.suppressRowDrag&&(o.setSuppressRowDrag(h.toBoolean(d.suppressRowDrag.currentValue)),delete d.suppressRowDrag),d.suppressMoveWhenRowDragging&&(o.setSuppressMoveWhenRowDragging(h.toBoolean(d.suppressMoveWhenRowDragging.currentValue)),delete d.suppressMoveWhenRowDragging),d.suppressRowClickSelection&&(o.setSuppressRowClickSelection(h.toBoolean(d.suppressRowClickSelection.currentValue)),delete d.suppressRowClickSelection),d.suppressClipboardPaste&&(o.setSuppressClipboardPaste(h.toBoolean(d.suppressClipboardPaste.currentValue)),delete d.suppressClipboardPaste),d.headerHeight&&(o.setHeaderHeight(h.toNumber(d.headerHeight.currentValue)),delete d.headerHeight);var P=o;Object.keys(d).forEach(function(N){var k="set"+N.charAt(0).toUpperCase()+N.substring(1);P[k]&&P[k](i[N].currentValue)});var x={type:ne.EVENT_COMPONENT_STATE_CHANGED,api:r.api,columnApi:r.columnApi};qt(i,function(N,k){x[N]=k}),o.dispatchEvent(x)}},h.toBoolean=function(i){return"boolean"==typeof i?i:"string"==typeof i&&("TRUE"===i.toUpperCase()||""==i)},h.toNumber=function(i){return"number"==typeof i?i:"string"==typeof i?Number(i):void 0},h.EVENTS=[],h.PUBLIC_EVENTS=[],h.EXCLUDED_INTERNAL_EVENTS=[],h.STRING_PROPERTIES=ts.STRING_PROPERTIES,h.OBJECT_PROPERTIES=ts.OBJECT_PROPERTIES,h.ARRAY_PROPERTIES=ts.ARRAY_PROPERTIES,h.NUMBER_PROPERTIES=ts.NUMBER_PROPERTIES,h.BOOLEAN_PROPERTIES=ts.BOOLEAN_PROPERTIES,h.FUNCTION_PROPERTIES=ts.FUNCTION_PROPERTIES,h.ALL_PROPERTIES=ts.ALL_PROPERTIES,h}();Vt.EVENTS=la(ne),Vt.EXCLUDED_INTERNAL_EVENTS=[ne.EVENT_SCROLLBAR_WIDTH_CHANGED,ne.EVENT_CHECKBOX_CHANGED,ne.EVENT_HEIGHT_SCALE_CHANGED,ne.EVENT_BODY_HEIGHT_CHANGED,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,ne.EVENT_SCROLL_VISIBILITY_CHANGED,ne.EVENT_COLUMN_HOVER_CHANGED,ne.EVENT_FLASH_CELLS,ne.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,ne.EVENT_DISPLAYED_ROWS_CHANGED,ne.EVENT_LEFT_PINNED_WIDTH_CHANGED,ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED,ne.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,ne.EVENT_POPUP_TO_FRONT,ne.EVENT_KEYBOARD_FOCUS,ne.EVENT_MOUSE_FOCUS,ne.EVENT_STORE_UPDATED,ne.EVENT_COLUMN_PANEL_ITEM_DRAG_START,ne.EVENT_COLUMN_PANEL_ITEM_DRAG_END,ne.EVENT_FILL_START,ne.EVENT_FILL_END],Vt.PUBLIC_EVENTS=Vt.EVENTS.filter(function(h){return!gi(Vt.EXCLUDED_INTERNAL_EVENTS,h)});var ug=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),H_=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.componentsMappedByName={},r}return ug(i,h),i.prototype.setupComponents=function(r){var o=this;r&&r.forEach(function(u){return o.addComponent(u)})},i.prototype.addComponent=function(r){var u=r.componentName.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().toUpperCase();this.componentsMappedByName[u]=r.componentClass},i.prototype.getComponentClass=function(r){return this.componentsMappedByName[r]},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("agStackComponentsRegistry")],i),i}(Ge),Dt=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},Yn=function(){function h(){}return h.STRING_PROPERTIES=["headerName","columnGroupShow","headerClass","toolPanelClass","headerValueGetter","pivotKeys","groupId","colId","sort","initialSort","field","type","tooltipComponent","tooltipField","headerTooltip","cellClass","showRowGroup","filter","initialAggFunc","aggFunc","pinned","initialPinned","chartDataType","cellEditorPopupPosition"],h.OBJECT_PROPERTIES=["headerGroupComponent","headerGroupComponentFramework","headerGroupComponentParams","cellStyle","cellRenderer","cellRendererParams","cellRendererFramework","cellEditor","cellEditorFramework","cellEditorParams","pinnedRowCellRendererFramework","pinnedRowCellRendererParams","filterFramework","filterParams","pivotValueColumn","headerComponent","headerComponentFramework","headerComponentParams","floatingFilterComponent","floatingFilterComponentParams","floatingFilterComponentFramework","floatingFilterFramework","tooltipComponent","tooltipComponentParams","tooltipComponentFramework","refData","columnsMenuParams"],h.ARRAY_PROPERTIES=["children","sortingOrder","allowedAggFuncs","menuTabs","pivotTotalColumnIds","cellClassRules","icons"],h.NUMBER_PROPERTIES=["sortedAt","sortIndex","initialSortIndex","flex","initialFlex","width","initialWidth","minWidth","maxWidth","rowGroupIndex","initialRowGroupIndex","pivotIndex","initialPivotIndex"],h.BOOLEAN_PROPERTIES=["suppressCellFlash","suppressColumnsToolPanel","suppressFiltersToolPanel","openByDefault","marryChildren","hide","initialHide","rowGroup","initialRowGroup","pivot","initialPivot","checkboxSelection","headerCheckboxSelection","headerCheckboxSelectionFilteredOnly","suppressMenu","suppressMovable","lockPosition","lockVisible","lockPinned","unSortIcon","suppressSizeToFit","suppressAutoSize","enableRowGroup","enablePivot","enableValue","editable","suppressPaste","suppressNavigable","enableCellChangeFlash","rowDrag","dndSource","autoHeight","wrapText","sortable","resizable","singleClickEdit","floatingFilter","cellEditorPopup","suppressFillHandle"],h.ALL_PROPERTIES=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(Dt(arguments[i]));return h}(h.ARRAY_PROPERTIES,h.OBJECT_PROPERTIES,h.STRING_PROPERTIES,h.NUMBER_PROPERTIES,h.FUNCTION_PROPERTIES=["dndSourceOnRowDrag","valueGetter","valueSetter","filterValueGetter","keyCreator","pinnedRowCellRenderer","valueFormatter","pinnedRowValueFormatter","valueParser","comparator","equals","pivotComparator","suppressKeyboardEvent","suppressHeaderKeyboardEvent","colSpan","rowSpan","getQuickFilterText","newValueHandler","onCellValueChanged","onCellClicked","onCellDoubleClicked","onCellContextMenu","rowDragText","tooltipValueGetter","tooltipComponent","tooltipComponentFramework","cellRendererSelector","cellEditorSelector"],h.BOOLEAN_PROPERTIES),h.FRAMEWORK_PROPERTIES=["__ob__","__v_skip","__metadata__","mappedColumnProperties","hasChildColumns","toColDef","createColDefFromGridColumn"],h}(),uh=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},Us=function(){function h(i,r,o,u){void 0===u&&(u=1),this.r=Math.min(1,Math.max(0,i||0)),this.g=Math.min(1,Math.max(0,r||0)),this.b=Math.min(1,Math.max(0,o||0)),this.a=Math.min(1,Math.max(0,u||0))}return h.fromString=function(i){if(i.indexOf("#")>=0)return h.fromHexString(i);var r=h.nameToHex[i];if(r)return h.fromHexString(r);if(i.indexOf("rgb")>=0)return h.fromRgbaString(i);throw new Error("Invalid color string: '"+i+"'")},h.parseHex=function(i){var r;switch((i=i.replace(/ /g,"").slice(1)).length){case 6:case 8:r=[];for(var o=0;o<i.length;o+=2)r.push(parseInt(""+i[o]+i[o+1],16));break;case 3:case 4:r=i.split("").map(function(u){return parseInt(u,16)}).map(function(u){return u+16*u})}if(r.length>=3&&r.every(function(u){return u>=0}))return 3===r.length&&r.push(255),r},h.fromHexString=function(i){var r=h.parseHex(i);if(r){var o=uh(r,4);return new h(o[0]/255,o[1]/255,o[2]/255,o[3]/255)}throw new Error("Malformed hexadecimal color string: '"+i+"'")},h.stringToRgba=function(i){for(var r=uh([NaN,NaN],2),o=r[0],u=r[1],d=0;d<i.length;d++){var m=i[d];if(o||"("!==m){if(")"===m){u=d;break}}else o=d}var w=o&&u&&i.substring(o+1,u);if(w){var P=w.split(","),x=[];for(d=0;d<P.length;d++){var N=P[d],k=parseFloat(N);if(isNaN(k))return;N.indexOf("%")>=0?(k=Math.max(0,Math.min(100,k)),k/=100):3===d?k=Math.max(0,Math.min(1,k)):(k=Math.max(0,Math.min(255,k)),k/=255),x.push(k)}return x}},h.fromRgbaString=function(i){var r=h.stringToRgba(i);if(r){if(3===r.length)return new h(r[0],r[1],r[2]);if(4===r.length)return new h(r[0],r[1],r[2],r[3])}throw new Error("Malformed rgb/rgba color string: '"+i+"'")},h.fromArray=function(i){if(4===i.length)return new h(i[0],i[1],i[2],i[3]);if(3===i.length)return new h(i[0],i[1],i[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},h.fromHSB=function(i,r,o,u){void 0===u&&(u=1);var d=h.HSBtoRGB(i,r,o);return new h(d[0],d[1],d[2],u)},h.padHex=function(i){return 1===i.length?"0"+i:i},h.prototype.toHexString=function(){var i="#"+h.padHex(Math.round(255*this.r).toString(16))+h.padHex(Math.round(255*this.g).toString(16))+h.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(i+=h.padHex(Math.round(255*this.a).toString(16))),i},h.prototype.toRgbaString=function(i){void 0===i&&(i=3);var r=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],o=Math.pow(10,i);return 1!==this.a?(r.push(Math.round(this.a*o)/o),"rgba("+r.join(", ")+")"):"rgb("+r.join(", ")+")"},h.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},h.prototype.toHSB=function(){return h.RGBtoHSB(this.r,this.g,this.b)},h.RGBtoHSB=function(i,r,o){var u=Math.min(i,r,o),d=Math.max(i,r,o),w=NaN;if(u!==d){var P=d-u,x=(d-i)/P,N=(d-r)/P,k=(d-o)/P;w=i===d?k-N:r===d?2+x-k:4+N-x,(w/=6)<0&&(w+=1)}return[360*w,0!==d?(d-u)/d:0,d]},h.HSBtoRGB=function(i,r,o){isNaN(i)&&(i=0),i=(i%360+360)%360/360;var u=0,d=0,m=0;if(0===r)u=d=m=o;else{var w=6*(i-Math.floor(i)),P=w-Math.floor(w),x=o*(1-r),N=o*(1-r*P),k=o*(1-r*(1-P));switch(w>>0){case 0:u=o,d=k,m=x;break;case 1:u=N,d=o,m=x;break;case 2:u=x,d=o,m=k;break;case 3:u=x,d=N,m=o;break;case 4:u=k,d=x,m=o;break;case 5:u=o,d=x,m=N}}return[u,d,m]},h.prototype.derive=function(i,r,o,u){var d=h.RGBtoHSB(this.r,this.g,this.b),m=d[2];0==m&&o>1&&(m=.05);var w=((d[0]+i)%360+360)%360,P=Math.max(Math.min(d[1]*r,1),0);m=Math.max(Math.min(m*o,1),0);var x=Math.max(Math.min(this.a*u,1),0),N=h.HSBtoRGB(w,P,m);return N.push(x),h.fromArray(N)},h.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},h.prototype.darker=function(){return this.derive(0,1,.7,1)},h.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),h}();function ym(h,i){void 0===i&&(i=",");var r=[],o=function(q){return"\r"===q||"\n"===q},u=!1;if(""===h)return[[""]];for(var m,w,P,d=function(q,ee,le){var de=h[le-1],ye=h[le],xe=h[le+1],Oe=function(){r[q]||(r[q]=[]),r[q][ee]||(r[q][ee]="")};if(Oe(),'"'===ye){if(u)return'"'===xe?(r[q][ee]+='"',le++):u=!1,m=q,w=ee,P=le,"continue";if(void 0===de||de===i||o(de))return u=!0,m=q,w=ee,P=le,"continue"}if(!u){if(ye===i)return ee++,Oe(),m=q,w=ee,P=le,"continue";if(o(ye))return ee=0,q++,Oe(),"\r"===ye&&"\n"===xe&&le++,m=q,w=ee,P=le,"continue"}r[q][ee]+=ye,m=q,w=ee,P=le},x=0,N=0,k=0;k<h.length;k++)d(x,N,k),x=m,N=w,k=P;return r}var Vu,zs,ch,cg,st,ns,pg,vi,W_=Object.freeze({stringToArray:ym});function ph(){return void 0===ch&&(ch=!function mm(){return void 0===zs&&(zs=!!document.documentMode),zs}()&&!!window.StyleMedia),ch}function Gi(){return void 0===Vu&&(Vu=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),Vu}function qn(){if(void 0===cg){var h=window;cg=!!h.chrome&&(!!h.chrome.webstore||!!h.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return cg}function Cm(){if(void 0===st){var h=window;st=void 0!==h.InstallTrigger}return st}function dp(){return void 0===ns&&(ns=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream),ns}function ki(h){if(!h)return null;var i=h.tabIndex,r=h.getAttribute("tabIndex");return-1!==i||null!==r&&(""!==r||Cm())?i.toString():null}function wm(){if(!document.body)return-1;var h=1e6,i=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,r=document.createElement("div");for(document.body.appendChild(r);;){var o=2*h;if(r.style.height=o+"px",o>i||r.clientHeight!==o)break;h=o}return document.body.removeChild(r),h}function _m(){return null==vi&&Sm(),vi}function Sm(){var h=document.body,i=document.createElement("div");i.style.width=i.style.height="100px",i.style.opacity="0",i.style.overflow="scroll",i.style.msOverflowStyle="scrollbar",i.style.position="absolute",h.appendChild(i);var r=i.offsetWidth-i.clientWidth;0===r&&0===i.clientWidth&&(r=null),i.parentNode&&i.parentNode.removeChild(i),null!=r&&(vi=r,pg=0===r)}function bm(){return null==pg&&Sm(),pg}function j_(){return document.body?document.body.clientWidth:window.innerHeight?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:-1}function Em(){return document.body?document.body.clientHeight:window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:-1}var rr,Bu=Object.freeze({isBrowserEdge:ph,isBrowserSafari:Gi,isBrowserChrome:qn,isBrowserFirefox:Cm,isIOSUserAgent:dp,getTabIndex:ki,getMaxDivHeight:wm,getScrollbarWidth:_m,isInvisibleScrollbar:bm,hasOverflowScrolling:function ur(){var h,i,r=["webkit","moz","o","ms"],o=document.createElement("div"),d=!1;document.getElementsByTagName("body")[0].appendChild(o),o.setAttribute("style",r.map(function(N){return"-"+N+"-overflow-scrolling: touch"}).concat("overflow-scrolling: touch").join(";"));var w=window.getComputedStyle(o);if("touch"===w.overflowScrolling&&(d=!0),!d)try{for(var P=function(h){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&h[i],o=0;if(r)return r.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),x=P.next();!x.done;x=P.next())if("touch"===w[x.value+"OverflowScrolling"]){d=!0;break}}catch(N){h={error:N}}finally{try{x&&!x.done&&(i=P.return)&&i.call(P)}finally{if(h)throw h.error}}return o.parentNode&&o.parentNode.removeChild(o),d},getBodyWidth:j_,getBodyHeight:Em});function hh(h){var i=Element.prototype.matches||Element.prototype.msMatchesSelector,r=i.call(h,ge.INPUT_SELECTOR),o=i.call(h,ge.FOCUSABLE_EXCLUDE),u=Wr(h);return r&&!o&&u}function ar(h,i){h.classList.toggle("ag-hidden",!i)}function dg(h,i){h.classList.toggle("ag-invisible",!i)}function yi(h,i){var r="disabled",o=i?function(u){return u.setAttribute(r,"")}:function(u){return u.removeAttribute(r)};o(h),fp(h.querySelectorAll("input"),function(u){return o(u)})}function sn(h,i,r){for(var o=0;h;){if(h.classList.contains(i))return!0;if(h=h.parentElement,r&&++o>r)break}return!1}function Hu(h){var i=window.getComputedStyle(h),o=i.width,u=i.paddingTop,d=i.paddingRight,m=i.paddingBottom,w=i.paddingLeft,P=i.marginTop,x=i.marginRight,N=i.marginBottom,k=i.marginLeft,q=i.boxSizing;return{height:parseFloat(i.height),width:parseFloat(o),paddingTop:parseFloat(u),paddingRight:parseFloat(d),paddingBottom:parseFloat(m),paddingLeft:parseFloat(w),marginTop:parseFloat(P),marginRight:parseFloat(x),marginBottom:parseFloat(N),marginLeft:parseFloat(k),boxSizing:q}}function Vi(h){var i=Hu(h);return"border-box"===i.boxSizing?i.height-i.paddingTop-i.paddingBottom:i.height}function Ve(h){var i=Hu(h);return"border-box"===i.boxSizing?i.width-i.paddingLeft-i.paddingRight:i.width}function fh(h){var i=Hu(h);return Math.ceil(h.offsetHeight+(i.marginBottom+i.marginTop))}function is(h){var i=Hu(h);return Math.ceil(h.offsetWidth+(i.marginLeft+i.marginRight))}function Xn(){if("boolean"==typeof rr)return rr;var h=document.createElement("div");return h.style.direction="rtl",h.style.width="1px",h.style.height="1px",h.style.position="fixed",h.style.top="0px",h.style.overflow="hidden",h.dir="rtl",h.innerHTML='<div style="width: 2px">\n            <span style="display: inline-block; width: 1px"></span>\n            <span style="display: inline-block; width: 1px"></span>\n        </div>',document.body.appendChild(h),h.scrollLeft=1,rr=0===Math.floor(h.scrollLeft),document.body.removeChild(h),rr}function Nn(h,i){var r=h.scrollLeft;return i&&(r=Math.abs(r),qn()&&!Xn()&&(r=h.scrollWidth-h.clientWidth-r)),r}function Hl(h,i,r){r&&(Xn()?i*=-1:(Gi()||qn())&&(i=h.scrollWidth-h.clientWidth-i)),h.scrollLeft=i}function Ln(h){for(;h&&h.firstChild;)h.removeChild(h.firstChild)}function hr(h){h&&h.parentNode&&h.parentNode.removeChild(h)}function Wr(h){return null!==h.offsetParent}function wr(h){if(null!==DOMParser)return(new DOMParser).parseFromString(h,"text/html").body.firstChild;var o=document.createElement("div");return o.innerHTML=(h||"").trim(),o.firstChild}function Wu(h){return h&&h.clientHeight?h.clientHeight:0}function hp(h){return h&&h.clientWidth?h.clientWidth:0}function jl(h,i,r){r&&r.nextSibling===i||(r?r.nextSibling?h.insertBefore(i,r.nextSibling):h.appendChild(i):h.firstChild&&h.firstChild!==i&&h.insertAdjacentElement("afterbegin",i))}function ju(h,i){for(var r=0;r<i.length;r++){var o=i[r],u=h.children[r];u!==o&&h.insertBefore(o,u)}}function $s(h,i,r){r?r.insertAdjacentElement("afterend",i):h.firstChild?h.insertAdjacentElement("afterbegin",i):h.appendChild(i)}function hg(h,i){!i||Object.keys(i).forEach(function(r){var o=sh(r);o&&(h.style[o]=i[r])})}function mi(h){return h.clientWidth<h.scrollWidth}function Xe(h){return h.clientHeight<h.scrollHeight}function Pt(h,i){"flex"===i?(h.style.removeProperty("width"),h.style.removeProperty("minWidth"),h.style.removeProperty("maxWidth"),h.style.flex="1 1 auto"):zt(h,i)}function zt(h,i){i=Qr(i),h.style.width=i.toString(),h.style.maxWidth=i.toString(),h.style.minWidth=i.toString()}function Hi(h,i){i=Qr(i),h.style.height=i.toString(),h.style.maxHeight=i.toString(),h.style.minHeight=i.toString()}function Qr(h){return"number"==typeof h?h+"px":h}function Ks(h){return"function"==typeof Node?h instanceof Node:h&&"object"==typeof h&&"number"==typeof h.nodeType&&"string"==typeof h.nodeName}function Mr(h){return"function"==typeof HTMLElement?h instanceof HTMLElement:h&&ip(h)&&1===h.nodeType&&"string"==typeof h.nodeName}function os(h){return Ks(h)||Mr(h)}function Ul(h){if(null==h)return[];var i=[];return fp(h,function(r){return i.push(r)}),i}function mt(h,i){if(h)for(var r=0;r<h.length;r++){var o=h[r];i(o.name,o.value)}}function ga(h,i,r){null==r?h.removeAttribute(i):h.setAttribute(i,r.toString())}function fp(h,i){if(null!=h)for(var r=0;r<h.length;r++)i(h[r])}var va=Object.freeze({radioCssClass:function dh(h,i,r){for(var o=h.parentElement,u=o&&o.firstChild;u;)i&&u.classList.toggle(i,u===h),r&&u.classList.toggle(r,u!==h),u=u.nextSibling},isFocusableFormField:hh,setDisplayed:ar,setVisible:dg,setDisabled:yi,isElementChildOfClass:sn,getElementSize:Hu,getInnerHeight:Vi,getInnerWidth:Ve,getAbsoluteHeight:fh,getAbsoluteWidth:is,isRtlNegativeScroll:Xn,getScrollLeft:Nn,setScrollLeft:Hl,clearElement:Ln,removeElement:function yn(h,i){hr(h.querySelector(i))},removeFromParent:hr,isVisible:Wr,loadTemplate:wr,appendHtml:function Wl(h,i){h.lastChild?h.insertAdjacentHTML("afterbegin",i):h.innerHTML=i},getElementAttribute:function po(h,i){return h.attributes&&h.attributes[i]?h.attributes[i].value:null},offsetHeight:Wu,offsetWidth:hp,ensureDomOrder:jl,setDomChildOrder:ju,insertWithDomOrder:$s,prependDC:function Gn(h,i){re(h.firstChild)?h.insertBefore(i,h.firstChild):h.appendChild(i)},addStylesToElement:hg,isHorizontalScrollShowing:mi,isVerticalScrollShowing:Xe,setElementWidth:Pt,setFixedWidth:zt,setElementHeight:function Bi(h,i){"flex"===i?(h.style.removeProperty("height"),h.style.removeProperty("minHeight"),h.style.removeProperty("maxHeight"),h.style.flex="1 1 auto"):Hi(h,i)},setFixedHeight:Hi,formatSize:Qr,isNode:Ks,isElement:Mr,isNodeOrElement:os,copyNodeList:Ul,iterateNamedNodeMap:mt,setCheckboxState:function zl(h,i){"boolean"==typeof i?(h.checked=i,h.indeterminate=!1):h.indeterminate=!0},addOrRemoveAttribute:ga,nodeListForEach:fp}),Om=Object.freeze({getNameOfClass:function Ci(h){var r=h.toString(),o=/function (.{1,})\(/.exec(r);return o&&o.length>1?o[1]:""},findLineByLeastSquares:function gp(h){var i=h.length,r=0;if(i<=1)return h;for(var o=0;o<h.length;o++){var u=h[o],d=u.toString().split("e-");d.length>1?r=Math.max(r,parseInt(d[1],10)):Math.floor(u)!==u&&(r=Math.max(r,u.toString().split(".")[1].length))}for(var m=0,w=0,P=0,x=0,N=0,k=0;k<i;k++)m+=k,w+=N=h[k],x+=k*k,P+=k*N;var q=(i*P-m*w)/(i*x-m*m),ee=w/i-q*m/i,le=[];for(k=0;k<=i;k++)le.push(parseFloat((k*q+ee).toFixed(r)));return le},cssStyleObjectToMarkup:function Uu(h){if(!h)return"";var i=[];return qt(h,function(r,o){var u=tr(r);i.push(u+": "+o+";")}),i.join(" ")},message:function Ho(h){var i=document.createElement("div"),r=document.querySelector("#__ag__message");i.innerHTML=h,r||(r=wr('<div id="__ag__message" style="display: inline-block; position: absolute; top: 0px; left: 0px; color: white; background-color: black; z-index: 20; padding: 2px; border: 1px solid darkred; height: 200px; overflow-y: auto;"></div>'),document.body&&document.body.appendChild(r)),r.insertBefore(i,r.children[0])},bindCellRendererToHtmlElement:function fr(h,i){h.then(function(r){var o=r.getGui();null!=o&&("object"==typeof o?i.appendChild(o):i.innerHTML=o)})}});function En(h,i,r){h.setAttribute(ho(i),r.toString())}function Qn(h,i){h.removeAttribute(ho(i))}function ho(h){return"aria-"+h}function On(h,i){i?h.setAttribute("role",i):h.removeAttribute("role")}function Ys(h){return h.isSortAscending()?"ascending":h.isSortDescending()?"descending":"none"}function qs(h){return parseInt(h.getAttribute("aria-level"),10)}function Rn(h){return parseInt(h.getAttribute("aria-posinset"),10)}function ya(h,i){var r="label";i?En(h,r,i):Qn(h,r)}function $l(h,i){var r="labelledby";i?En(h,r,i):Qn(h,r)}function yp(h,i){var r="describedby";i?En(h,r,i):Qn(h,r)}function gh(h,i){En(h,"level",i)}function zu(h,i){En(h,"disabled",i)}function wi(h,i){En(h,"expanded",i)}function fg(h,i){En(h,"setsize",i)}function Rm(h,i){En(h,"posinset",i)}function z_(h,i){En(h,"multiselectable",i)}function $_(h,i){En(h,"rowcount",i)}function Dm(h,i){En(h,"rowindex",i)}function K_(h,i){En(h,"colcount",i)}function Pm(h,i){En(h,"colindex",i)}function Y_(h,i){En(h,"colspan",i)}function q_(h,i){En(h,"sort",i)}function X_(h){Qn(h,"sort")}function Kl(h,i){var r="selected";i?En(h,r,i):Qn(h,r)}function vh(h,i){En(h,"checked",void 0===i?"mixed":i)}var zE=Object.freeze({setAriaRole:On,getAriaSortState:Ys,getAriaLevel:qs,getAriaPosInSet:Rn,getAriaDescribedBy:function vp(h){return h.getAttribute("aria-describedby")||""},setAriaLabel:ya,setAriaLabelledBy:$l,setAriaDescribedBy:yp,setAriaLevel:gh,setAriaDisabled:zu,setAriaExpanded:wi,removeAriaExpanded:function U_(h){Qn(h,"expanded")},setAriaSetSize:fg,setAriaPosInSet:Rm,setAriaMultiSelectable:z_,setAriaRowCount:$_,setAriaRowIndex:Dm,setAriaColCount:K_,setAriaColIndex:Pm,setAriaColSpan:Y_,setAriaSort:q_,removeAriaSort:X_,setAriaSelected:Kl,setAriaChecked:vh});function Tm(h,i){return h.toString().padStart(i,"0")}function Q_(h,i){for(var r=[],o=h;o<=i;o++)r.push(o);return r}function ma(h){return""!==h&&!isNaN(parseFloat(h))&&isFinite(h)}function gg(h,i,r){return"number"!=typeof h?"":h.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+i)}var xm=Object.freeze({padStartWidthZeros:Tm,createArrayOfNumbers:Q_,isNumeric:ma,cleanNumber:function Z_(h){return"string"==typeof h&&(h=parseInt(h,10)),"number"==typeof h?Math.floor(h):null},decToHex:function Xs(h,i){for(var r="",o=0;o<i;o++)r+=String.fromCharCode(255&h),h>>>=8;return r},formatNumberTwoDecimalPlacesAndCommas:function Am(h,i,r){return"number"!=typeof h?"":gg(Math.round(100*h)/100,i,r)},formatNumberCommas:gg,sum:function J_(h){return null==h?null:h.reduce(function(i,r){return i+r},0)}}),yh=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d};function Qs(h,i,r){if(void 0===i&&(i=!0),void 0===r&&(r="-"),!h)return null;var o=[h.getFullYear(),h.getMonth()+1,h.getDate()].map(function(u){return Tm(u,2)}).join(r);return i&&(o+=" "+[h.getHours(),h.getMinutes(),h.getSeconds()].map(function(u){return Tm(u,2)}).join(":")),o}function Ca(h){if(!h)return null;var i=yh(h.split(" "),2),r=i[0],o=i[1];if(!r)return null;var u=r.split("-").map(function(le){return parseInt(le,10)});if(3!==u.filter(function(le){return!isNaN(le)}).length)return null;var d=yh(u,3),m=d[0],w=d[1],P=d[2],x=new Date(m,w-1,P);if(x.getFullYear()!==m||x.getMonth()!==w-1||x.getDate()!==P)return null;if(!o||"00:00:00"===o)return x;var N=yh(o.split(":").map(function(le){return parseInt(le,10)}),3),k=N[0],q=N[1],ee=N[2];return k>=0&&k<24&&x.setHours(k),q>=0&&q<60&&x.setMinutes(q),ee>=0&&ee<60&&x.setSeconds(ee),x}var eS=Object.freeze({serialiseDate:Qs,parseDateTimeFromString:Ca});function Wi(h,i,r){var o={},u=h.filter(function(d){return!i.some(function(m){return m===d})});return u.length>0&&u.forEach(function(d){return o[d]=mh(d,r)}),o}function mh(h,i,r,o){var u=o?Mm:Ch,d=i.map(function(m){return{value:m,relevance:u(h.toLowerCase(),m.toLocaleLowerCase())}});return d.sort(function(m,w){return w.relevance-m.relevance}),r&&(d=d.filter(function(m){return 0!==m.relevance})),d.map(function(m){return m.value})}function vg(h){var o,u,d,i=h.toLowerCase(),r=new Array(i.length-1);for(o=u=0,d=r.length;u<=d;o=u+=1)r[o]=i.slice(o,o+2);return r}function Ch(h,i){if(0===h.length&&0===i.length)return 0;var m,w,r=vg(h),o=vg(i),u=r.length+o.length,d=0;for(m=0,w=r.length;m<w;m++){var N,P=r[m],x=void 0;for(x=0,N=o.length;x<N;x++)P===o[x]&&d++}return d>0?2*d/u:0}function Mm(h,i){for(var r=h.replace(/\s/g,""),o=i.replace(/\s/g,""),u=0,d=0,m=0;m<r.length;m++){var w=o.indexOf(r[m],d);-1!==w&&(u+=100-100*(d=w)/1e4*100)}return u}var tS=Object.freeze({fuzzyCheckStrings:Wi,fuzzySuggestions:mh,get_bigrams:vg,string_distances:Ch,string_weighted_distances:Mm}),wh={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"};function fo(h,i,r){var o=Fr(h,i,r);if(o&&o.className.indexOf("ag-icon")>-1)return o;var u=document.createElement("span");return u.appendChild(o),u}function Fr(h,i,r,o){var u=null,d=r&&r.getColDef().icons;if(d&&(u=d[h]),i&&!u){var m=i.getIcons();m&&(u=m[h])}if(!u){var P=document.createElement("span"),x=wh[h];return x||(o?x=h:(console.warn("AG Grid: Did not find icon "+h),x="")),P.setAttribute("class","ag-icon ag-icon-"+x),P.setAttribute("unselectable","on"),On(P,"presentation"),P}var w=void 0;if("function"==typeof u)w=u();else{if("string"!=typeof u)throw new Error("icon from grid options needs to be a string or a function");w=u}return"string"==typeof w?wr(w):os(w)?w:void console.warn("AG Grid: iconRenderer should return back a string or a dom object")}var $E=Object.freeze({iconNameClassMap:wh,createIcon:fo,createIconNoSpan:Fr});function Im(h){if(h.altKey||h.ctrlKey||h.metaKey)return!1;var i=1===h.key.length,r=function KE(h){return ph()&&"Del"===h.key&&46===h.charCode}(h);return i||r}function gr(h,i,r,o,u){var d=h.getSuppressKeyboardEventFunc(),m=o?o.getColDef().suppressKeyboardEvent:void 0;if(!d&&!m)return!1;var w={event:i,editing:u,column:o,api:h.getApi(),node:r,data:r.data,colDef:o.getColDef(),context:h.getContext(),columnApi:h.getColumnApi()};return!(!m||!m(w))||!!d&&d(w)}function Nm(h,i,r,o){var u=o.getDefinition(),d=u&&u.suppressHeaderKeyboardEvent;return!!re(d)&&!!d({api:h.getApi(),columnApi:h.getColumnApi(),context:h.getContext(),colDef:u,column:o,headerRowIndex:r,event:i})}var Qt=Object.freeze({isEventFromPrintableCharacter:Im,isUserSuppressingKeyboardEvent:gr,isUserSuppressingHeaderKeyboardEvent:Nm});function _i(h,i,r){if(0===r)return!1;var o=Math.abs(h.clientX-i.clientX),u=Math.abs(h.clientY-i.clientY);return Math.max(o,u)<=r}var rS=Object.freeze({areEventsNear:_i}),Zr=Object.freeze({sortRowNodesByOrder:function yg(h,i){if(h){for(var r=function(w,P){var x=i[w.id],N=i[P.id],k=void 0!==x,q=void 0!==N;return k&&q?x-N:k||q?k?1:-1:w.__objectId-P.__objectId},d=!1,m=0;m<h.length-1;m++)if(r(h[m],h[m+1])>0){d=!0;break}d&&h.sort(r)}},traverseNodesWithKey:function as(h,i){var r=[];!function o(u){!u||u.forEach(function(d){if(d.group||d.hasChildren()){r.push(d.key);var m=r.join("|");i(d,m),o(d.childrenAfterGroup),r.pop()}})}(h)}});function Yl(h){var i=new Set;return h.forEach(function(r){return i.add(r)}),i}var _h=Object.freeze({convertToSet:Yl}),Nr=function(){return Nr=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Nr.apply(this,arguments)},ft=Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr(Nr({},Om),zE),sm),Bu),W_),eS),va),um),HE),tS),qy),$E),Qt),Et),rS),xm),Jy),Zr),_h),pm),ss=function(){function h(i,r){void 0===i&&(i=0),void 0===r&&(r=1),this.nextValue=i,this.step=r}return h.prototype.next=function(){var i=this.nextValue;return this.nextValue+=this.step,i},h.prototype.peek=function(){return this.nextValue},h.prototype.skip=function(i){this.nextValue+=i},h}();!function(h){h[h.IN_PROGRESS=0]="IN_PROGRESS",h[h.RESOLVED=1]="RESOLVED"}(W.AgPromiseStatus||(W.AgPromiseStatus={}));var nt=function(){function h(i){var r=this;this.status=W.AgPromiseStatus.IN_PROGRESS,this.resolution=null,this.waiters=[],i(function(o){return r.onDone(o)},function(o){return r.onReject(o)})}return h.all=function(i){return new h(function(r){var o=i.length,u=new Array(o);i.forEach(function(d,m){d.then(function(w){u[m]=w,0==--o&&r(u)})})})},h.resolve=function(i){return void 0===i&&(i=null),new h(function(r){return r(i)})},h.prototype.then=function(i){var r=this;return new h(function(o){r.status===W.AgPromiseStatus.RESOLVED?o(i(r.resolution)):r.waiters.push(function(u){return o(i(u))})})},h.prototype.resolveNow=function(i,r){return this.status===W.AgPromiseStatus.RESOLVED?r(this.resolution):i},h.prototype.onDone=function(i){this.status=W.AgPromiseStatus.RESOLVED,this.resolution=i,this.waiters.forEach(function(r){return r(i)})},h.prototype.onReject=function(i){console.warn("TBI")},h}(),go=function(){function h(){this.timestamp=(new Date).getTime()}return h.prototype.print=function(i){var r=(new Date).getTime()-this.timestamp;console.info(i+" = "+r),this.timestamp=(new Date).getTime()},h}(),YE=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mg=function(){return mg=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},mg.apply(this,arguments)},vo=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ji=(()=>(function(h){h[h.NOTHING=0]="NOTHING",h[h.WAITING_TO_SHOW=1]="WAITING_TO_SHOW",h[h.SHOWING=2]="SHOWING"}(ji||(ji={})),ji))(),mp=function(h){function i(r){var o=h.call(this)||this;return o.DEFAULT_SHOW_TOOLTIP_DELAY=2e3,o.DEFAULT_HIDE_TOOLTIP_DELAY=1e4,o.SHOW_QUICK_TOOLTIP_DIFF=1e3,o.FADE_OUT_TOOLTIP_TIMEOUT=1e3,o.state=ji.NOTHING,o.tooltipInstanceCount=0,o.tooltipMouseTrack=!1,o.parentComp=r,o}return YE(i,h),i.prototype.postConstruct=function(){this.tooltipShowDelay=this.gridOptionsWrapper.getTooltipDelay("show")||this.DEFAULT_SHOW_TOOLTIP_DELAY,this.tooltipHideDelay=this.gridOptionsWrapper.getTooltipDelay("hide")||this.DEFAULT_HIDE_TOOLTIP_DELAY,this.tooltipMouseTrack=this.gridOptionsWrapper.isTooltipMouseTrack();var r=this.parentComp.getGui();this.addManagedListener(r,"mouseenter",this.onMouseEnter.bind(this)),this.addManagedListener(r,"mouseleave",this.onMouseLeave.bind(this)),this.addManagedListener(r,"mousemove",this.onMouseMove.bind(this)),this.addManagedListener(r,"mousedown",this.onMouseDown.bind(this)),this.addManagedListener(r,"keydown",this.onKeyDown.bind(this))},i.prototype.destroy=function(){this.setToDoNothing(),h.prototype.destroy.call(this)},i.prototype.onMouseEnter=function(r){if(!dp()&&this.state==ji.NOTHING){var o=this.isLastTooltipHiddenRecently()?200:this.tooltipShowDelay;this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),o),this.lastMouseEvent=r,this.state=ji.WAITING_TO_SHOW}},i.prototype.onMouseLeave=function(){this.setToDoNothing()},i.prototype.onKeyDown=function(){this.setToDoNothing()},i.prototype.setToDoNothing=function(){this.state===ji.SHOWING&&this.hideTooltip(),this.clearTimeouts(),this.state=ji.NOTHING},i.prototype.onMouseMove=function(r){this.lastMouseEvent=r,this.tooltipMouseTrack&&this.state===ji.SHOWING&&this.tooltipComp&&this.positionTooltipUnderLastMouseEvent()},i.prototype.onMouseDown=function(){this.setToDoNothing()},i.prototype.hideTooltip=function(){this.tooltipComp&&(this.destroyTooltipComp(),i.lastTooltipHideTime=(new Date).getTime()),this.state=ji.NOTHING},i.prototype.destroyTooltipComp=function(){var r=this;this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");var o=this.tooltipPopupDestroyFunc,u=this.tooltipComp;window.setTimeout(function(){o(),r.getContext().destroyBean(u)},this.FADE_OUT_TOOLTIP_TIMEOUT),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0},i.prototype.isLastTooltipHiddenRecently=function(){return(new Date).getTime()-i.lastTooltipHideTime<this.SHOW_QUICK_TOOLTIP_DIFF},i.prototype.showTooltip=function(){var r=mg({},this.parentComp.getTooltipParams());if(re(r.value)){this.state=ji.SHOWING,this.tooltipInstanceCount++;var o=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(r).newAgStackInstance().then(o)}else this.setToDoNothing()},i.prototype.newTooltipComponentCallback=function(r,o){if(this.state!==ji.SHOWING||this.tooltipInstanceCount!==r)this.getContext().destroyBean(o);else{var d=o.getGui();this.tooltipComp=o,d.classList.contains("ag-tooltip")||d.classList.add("ag-tooltip-custom");var m=this.gridOptionsWrapper.getLocaleTextFunc(),w=this.popupService.addPopup({eChild:d,ariaLabel:m("ariaLabelTooltip","Tooltip")});w&&(this.tooltipPopupDestroyFunc=w.hideFunc),this.positionTooltipUnderLastMouseEvent(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.tooltipHideDelay)}},i.prototype.positionTooltipUnderLastMouseEvent=function(){this.popupService.positionPopupUnderMouseEvent({type:"tooltip",mouseEvent:this.lastMouseEvent,ePopup:this.tooltipComp.getGui(),nudgeY:18})},i.prototype.clearTimeouts=function(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0),this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)},vo([K("popupService")],i.prototype,"popupService",void 0),vo([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),vo([K("columnApi")],i.prototype,"columnApi",void 0),vo([K("gridApi")],i.prototype,"gridApi",void 0),vo([We],i.prototype,"postConstruct",null),i}(Ge),Sh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Js=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ke=new ss,It=function(){function h(i){this.cssClassStates={},this.getGui=i}return h.prototype.addCssClass=function(i){var r=this,o=(i||"").split(" ");o.length>1?o.forEach(function(d){return r.addCssClass(d)}):!0!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.add(i),this.cssClassStates[i]=!0)},h.prototype.removeCssClass=function(i){var r=this,o=(i||"").split(" ");o.length>1?o.forEach(function(d){return r.removeCssClass(d)}):!1!==this.cssClassStates[i]&&i.length&&(this.getGui().classList.remove(i),this.cssClassStates[i]=!1)},h.prototype.containsCssClass=function(i){return this.getGui().classList.contains(i)},h.prototype.addOrRemoveCssClass=function(i,r){var o=this,u=(i||"").split(" ");u.length>1?u.forEach(function(m){return o.addOrRemoveCssClass(m,r)}):this.cssClassStates[i]!==r&&i.length&&(this.getGui().classList.toggle(i,r),this.cssClassStates[i]=r)},h}(),Rt=function(h){function i(r){var o=h.call(this)||this;return o.displayed=!0,o.visible=!0,o.compId=ke.next(),o.cssClassManager=new It(function(){return o.eGui}),r&&o.setTemplate(r),o}return Sh(i,h),i.prototype.preConstructOnComponent=function(){this.usingBrowserTooltips=this.gridOptionsWrapper.isEnableBrowserTooltips()},i.prototype.getCompId=function(){return this.compId},i.prototype.getTooltipParams=function(){return{value:this.tooltipText,location:"UNKNOWN"}},i.prototype.setTooltip=function(r){var o=this;this.tooltipText!=r&&(this.tooltipText&&(o.usingBrowserTooltips?o.getGui().removeAttribute("title"):o.tooltipFeature=o.destroyBean(o.tooltipFeature)),null!=r&&(this.tooltipText=r,this.tooltipText&&(o.usingBrowserTooltips?o.getGui().setAttribute("title",o.tooltipText):o.tooltipFeature=o.createBean(new mp(o)))))},i.prototype.createChildComponentsFromTags=function(r,o){var u=this;Ul(r.childNodes).forEach(function(m){if(m instanceof HTMLElement){var w=u.createComponentFromElement(m,function(x){x.getGui()&&u.copyAttributesFromNode(m,x.getGui())},o);if(w){if(w.addItems&&m.children.length){u.createChildComponentsFromTags(m,o);var P=Array.prototype.slice.call(m.children);w.addItems(P)}u.swapComponentForNode(w,r,m)}else m.childNodes&&u.createChildComponentsFromTags(m,o)}})},i.prototype.createComponentFromElement=function(r,o,u){var d=r.nodeName,m=u?u[r.getAttribute("ref")]:void 0,w=this.agStackComponentsRegistry.getComponentClass(d);if(w){i.elementGettingCreated=r;var P=new w(m);return P.setParentComponent(this),this.createBean(P,null,o),P}return null},i.prototype.copyAttributesFromNode=function(r,o){mt(r.attributes,function(u,d){return o.setAttribute(u,d)})},i.prototype.swapComponentForNode=function(r,o,u){var d=r.getGui();o.replaceChild(d,u),o.insertBefore(document.createComment(u.nodeName),d),this.addDestroyFunc(this.destroyBean.bind(this,r)),this.swapInComponentForQuerySelectors(r,u)},i.prototype.swapInComponentForQuerySelectors=function(r,o){var u=this;this.iterateOverQuerySelectors(function(d){u[d.attributeName]===o&&(u[d.attributeName]=r)})},i.prototype.iterateOverQuerySelectors=function(r){for(var o=Object.getPrototypeOf(this);null!=o;){var u=o.__agComponentMetaData,d=Jd(o.constructor);u&&u[d]&&u[d].querySelectors&&u[d].querySelectors.forEach(function(m){return r(m)}),o=Object.getPrototypeOf(o)}},i.prototype.setTemplate=function(r,o){var u=wr(r);this.setTemplateFromElement(u,o)},i.prototype.setTemplateFromElement=function(r,o){this.eGui=r,this.eGui.__agComponent=this,this.wireQuerySelectors(),this.getContext()&&this.createChildComponentsFromTags(this.getGui(),o)},i.prototype.createChildComponentsPreConstruct=function(){this.getGui()&&this.createChildComponentsFromTags(this.getGui())},i.prototype.wireQuerySelectors=function(){var r=this;if(this.eGui){var o=this;this.iterateOverQuerySelectors(function(u){var d=function(P){return o[u.attributeName]=P};if(u.refSelector&&r.eGui.getAttribute("ref")===u.refSelector)d(r.eGui);else{var w=r.eGui.querySelector(u.querySelector);w&&d(w.__agComponent||w)}})}},i.prototype.getGui=function(){return this.eGui},i.prototype.getFocusableElement=function(){return this.eGui},i.prototype.setParentComponent=function(r){this.parentComponent=r},i.prototype.getParentComponent=function(){return this.parentComponent},i.prototype.setGui=function(r){this.eGui=r},i.prototype.queryForHtmlElement=function(r){return this.eGui.querySelector(r)},i.prototype.queryForHtmlInputElement=function(r){return this.eGui.querySelector(r)},i.prototype.appendChild=function(r,o){if(o||(o=this.eGui),null!=r)if(os(r))o.appendChild(r);else{var u=r;o.appendChild(u.getGui()),this.addDestroyFunc(this.destroyBean.bind(this,u))}},i.prototype.isDisplayed=function(){return this.displayed},i.prototype.setVisible=function(r){r!==this.visible&&(this.visible=r,dg(this.eGui,r))},i.prototype.setDisplayed=function(r){r!==this.displayed&&(this.displayed=r,ar(this.eGui,r),this.dispatchEvent({type:i.EVENT_DISPLAYED_CHANGED,visible:this.displayed}))},i.prototype.destroy=function(){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),h.prototype.destroy.call(this)},i.prototype.addGuiEventListener=function(r,o){var u=this;this.eGui.addEventListener(r,o),this.addDestroyFunc(function(){return u.eGui.removeEventListener(r,o)})},i.prototype.addCssClass=function(r){this.cssClassManager.addCssClass(r)},i.prototype.removeCssClass=function(r){this.cssClassManager.removeCssClass(r)},i.prototype.containsCssClass=function(r){return this.cssClassManager.containsCssClass(r)},i.prototype.addOrRemoveCssClass=function(r,o){this.cssClassManager.addOrRemoveCssClass(r,o)},i.prototype.getAttribute=function(r){var o=this.eGui;return o?o.getAttribute(r):null},i.prototype.getRefElement=function(r){return this.queryForHtmlElement('[ref="'+r+'"]')},i.EVENT_DISPLAYED_CHANGED="displayedChanged",Js([K("agStackComponentsRegistry")],i.prototype,"agStackComponentsRegistry",void 0),Js([Zf],i.prototype,"preConstructOnComponent",null),Js([Zf],i.prototype,"createChildComponentsPreConstruct",null),i}(Ge);function Ne(h){return $u.bind(this,"[ref="+h+"]",h)}function $u(h,i,r,o,u){null!==h?"number"!=typeof u?function wa(h,i,r){var o=function ls(h,i){return h.__agComponentMetaData||(h.__agComponentMetaData={}),h.__agComponentMetaData[i]||(h.__agComponentMetaData[i]={}),h.__agComponentMetaData[i]}(h,Jd(h.constructor));o[i]||(o[i]=[]),o[i].push(r)}(r,"querySelectors",{attributeName:o,querySelector:h,refSelector:i}):console.error("AG Grid: QuerySelector should be on an attribute"):console.error("AG Grid: QuerySelector selector should not be null")}var ql=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Cp=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Cg=function(h){function i(){return h.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this}return ql(i,h),i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.init=function(r){this.params=r;var o=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),u=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(o+" "+u("ariaFilterInput","Filter Input"))},i.prototype.onParentModelChanged=function(r){var o=this;r?this.params.parentFilterInstance(function(u){if(u.getModelAsString){var d=u.getModelAsString(r);o.eFloatingFilterText.setValue(d)}}):this.eFloatingFilterText.setValue("")},Cp([Ne("eFloatingFilterText")],i.prototype,"eFloatingFilterText",void 0),Cp([K("columnModel")],i.prototype,"columnModel",void 0),i}(Rt),nS=function(){function h(i,r,o,u){var d=this;this.alive=!0,this.context=i,this.eParent=u,r.getDateCompDetails(o).newAgStackInstance().then(function(P){d.alive?(d.dateComp=P,P&&(u.appendChild(P.getGui()),P.afterGuiAttached&&P.afterGuiAttached(),d.tempValue&&P.setDate(d.tempValue),null!=d.disabled&&d.setDateCompDisabled(d.disabled))):i.destroyBean(P)})}return h.prototype.destroy=function(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)},h.prototype.getDate=function(){return this.dateComp?this.dateComp.getDate():this.tempValue},h.prototype.setDate=function(i){this.dateComp?this.dateComp.setDate(i):this.tempValue=i},h.prototype.setDisabled=function(i){this.dateComp?this.setDateCompDisabled(i):this.disabled=i},h.prototype.setDisplayed=function(i){ar(this.eParent,i)},h.prototype.setInputPlaceholder=function(i){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(i)},h.prototype.setInputAriaLabel=function(i){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(i)},h.prototype.afterGuiAttached=function(i){this.dateComp&&"function"==typeof this.dateComp.afterGuiAttached&&this.dateComp.afterGuiAttached(i)},h.prototype.setDateCompDisabled=function(i){null!=this.dateComp&&null!=this.dateComp.setDisabled&&this.dateComp.setDisabled(i)},h}(),Wo=function(){return Wo=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Wo.apply(this,arguments)},Tr=function(){function h(){this.customFilterOptions={}}return h.prototype.init=function(i,r){this.filterOptions=i.filterOptions||r,this.mapCustomOptions(),this.selectDefaultItem(i),this.checkForDeprecatedParams()},h.prototype.checkForDeprecatedParams=function(){this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.test})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, test() has been replaced with predicate()."),this.filterOptions.some(function(i){return"string"!=typeof i&&null!=i.hideFilterInput})&&console.warn("AG Grid: [IFilterOptionDef] since v26.2.0, useOfHideFilterInput has been replaced with numberOfInputs.")},h.prototype.getFilterOptions=function(){return this.filterOptions},h.prototype.mapCustomOptions=function(){var i=this;!this.filterOptions||this.filterOptions.forEach(function(r){if("string"!=typeof r){if(![["displayKey"],["displayName"],["predicate","test"]].every(function(w){return!!w.some(function(P){return null!=r[P]})||(console.warn("AG Grid: ignoring FilterOptionDef as it doesn't contain one of '"+w+"'"),!1)}))return void(i.filterOptions=i.filterOptions.filter(function(w){return w===r})||[]);var d=r.test,m=Wo({},r);null!=d&&null==r.predicate&&(m.predicate=function(w,P){return d(w[0],P)},delete m.test),m.hideFilterInput&&null==m.numberOfInputs&&(m.numberOfInputs=0,delete m.hideFilterInput),i.customFilterOptions[r.displayKey]=m}})},h.prototype.selectDefaultItem=function(i){if(i.defaultOption)this.defaultOption=i.defaultOption;else if(this.filterOptions.length>=1){var r=this.filterOptions[0];"string"==typeof r?this.defaultOption=r:r.displayKey?this.defaultOption=r.displayKey:console.warn("AG Grid: invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else console.warn("AG Grid: no filter options for filter")},h.prototype.getDefaultOption=function(){return this.defaultOption},h.prototype.getCustomOption=function(i){return this.customFilterOptions[i]},h}(),us={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose One",equals:"Equals",notEqual:"Not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"In range",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equals",greaterThanOrEqual:"Greater than or equals",contains:"Contains",notContains:"Not contains",startsWith:"Starts with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"},Ie=function(){function h(){}return h.BACKSPACE="Backspace",h.TAB="Tab",h.ENTER="Enter",h.ESCAPE="Escape",h.SPACE=" ",h.LEFT="ArrowLeft",h.UP="ArrowUp",h.RIGHT="ArrowRight",h.DOWN="ArrowDown",h.DELETE="Delete",h.A="A",h.C="C",h.V="V",h.D="D",h.Z="Z",h.Y="Y",h.F2="F2",h.PAGE_UP="PageUp",h.PAGE_DOWN="PageDown",h.PAGE_HOME="Home",h.PAGE_END="End",h}(),cs=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jo=function(){return jo=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},jo.apply(this,arguments)},_a=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Uo=function(h){function i(r,o){void 0===o&&(o={});var u=h.call(this)||this;return u.eFocusableElement=r,u.callbacks=o,u.callbacks=jo({shouldStopEventPropagation:function(){return!1},onTabKeyDown:function(d){if(!d.defaultPrevented){var m=u.focusService.findNextFocusableElement(u.eFocusableElement,!1,d.shiftKey);!m||(m.focus(),d.preventDefault())}}},o),u}return cs(i,h),i.prototype.postConstruct=function(){this.eFocusableElement.classList.add(i.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedListener(this.eFocusableElement,"focusin",this.callbacks.onFocusIn),this.callbacks.onFocusOut&&this.addManagedListener(this.eFocusableElement,"focusout",this.callbacks.onFocusOut)},i.prototype.addKeyDownListeners=function(r){var o=this;this.addManagedListener(r,"keydown",function(u){if(!u.defaultPrevented&&!ha(u)){if(o.callbacks.shouldStopEventPropagation(u))return void Gl(u);u.key===Ie.TAB?o.callbacks.onTabKeyDown(u):o.callbacks.handleKeyDown&&o.callbacks.handleKeyDown(u)}})},i.FOCUS_MANAGED_CLASS="ag-focus-managed",_a([K("focusService")],i.prototype,"focusService",void 0),_a([We],i.prototype,"postConstruct",null),i}(Ge),iS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wg=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Xl=function(h){function i(r){var o=h.call(this)||this;return o.filterNameKey=r,o.applyActive=!1,o.hidePopup=null,o.appliedModel=null,o}return iS(i,h),i.prototype.postConstruct=function(){this.resetTemplate(),this.createManagedBean(new Uo(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)}))},i.prototype.handleKeyDown=function(r){},i.prototype.getFilterTitle=function(){return this.translate(this.filterNameKey)},i.prototype.isFilterActive=function(){return!!this.appliedModel},i.prototype.resetTemplate=function(r){var o='\n            <div class="ag-filter-wrapper">\n                <div class="ag-filter-body-wrapper ag-'+this.getCssIdentifier()+'-body-wrapper">\n                    '+this.createBodyTemplate()+"\n                </div>\n            </div>";this.setTemplate(o,r)},i.prototype.isReadOnly=function(){return!!this.providedFilterParams.readOnly},i.prototype.init=function(r){var o=this;this.setParams(r),this.resetUiToDefaults(!0).then(function(){o.updateUiVisibility(),o.setupOnBtApplyDebounce()})},i.prototype.setParams=function(r){this.providedFilterParams=r,this.applyActive=i.isUseApplyButton(r),this.createButtonPanel()},i.prototype.createButtonPanel=function(){var r=this,o=this.providedFilterParams.buttons;if(!(!o||o.length<1||this.isReadOnly())){var u=document.createElement("div");u.classList.add("ag-filter-apply-panel"),Yl(o).forEach(function(m){return function(m){var w,P;switch(m){case"apply":w=r.translate("applyFilter"),P=function(N){return r.onBtApply(!1,!1,N)};break;case"clear":w=r.translate("clearFilter"),P=function(){return r.onBtClear()};break;case"reset":w=r.translate("resetFilter"),P=function(){return r.onBtReset()};break;case"cancel":w=r.translate("cancelFilter"),P=function(N){r.onBtCancel(N)};break;default:return void console.warn("AG Grid: Unknown button type specified")}var x=wr('<button\n                    type="button"\n                    ref="'+m+'FilterButton"\n                    class="ag-standard-button ag-filter-apply-panel-button"\n                >'+w+"\n                </button>");u.appendChild(x),r.addManagedListener(x,"click",P)}(m)}),this.getGui().appendChild(u)}},i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.setupOnBtApplyDebounce=function(){var r=i.getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs());this.onBtApplyDebounce=pa(this.onBtApply.bind(this),r)},i.prototype.getModel=function(){return this.appliedModel?this.appliedModel:null},i.prototype.setModel=function(r){var o=this;return(null!=r?this.setModelIntoUi(r):this.resetUiToDefaults()).then(function(){o.updateUiVisibility(),o.applyModel()})},i.prototype.onBtCancel=function(r){var o=this,u=this.getModel(),d=function(){o.onUiChanged(!1,"prevent"),o.providedFilterParams.closeOnApply&&o.close(r)};null!=u?this.setModelIntoUi(u).then(d):this.resetUiToDefaults().then(d)},i.prototype.onBtClear=function(){var r=this;this.resetUiToDefaults().then(function(){return r.onUiChanged()})},i.prototype.onBtReset=function(){this.onBtClear(),this.onBtApply()},i.prototype.applyModel=function(){var r=this.getModelFromUi();if(!this.isModelValid(r))return!1;var o=this.appliedModel;return this.appliedModel=r,!this.areModelsEqual(o,r)},i.prototype.isModelValid=function(r){return!0},i.prototype.onBtApply=function(r,o,u){void 0===r&&(r=!1),void 0===o&&(o=!1),this.applyModel()&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:r,afterDataChange:o}),this.providedFilterParams.closeOnApply&&this.applyActive&&!r&&!o&&this.close(u)},i.prototype.onNewRowsLoaded=function(){},i.prototype.close=function(r){if(this.hidePopup){var d,u=r&&r.key;("Enter"===u||"Space"===u)&&(d={keyboardEvent:r}),this.hidePopup(d),this.hidePopup=null}},i.prototype.onUiChanged=function(r,o){if(void 0===r&&(r=!1),this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly){var u=this.isModelValid(this.getModelFromUi());yi(this.getRefElement("applyFilterButton"),!u)}r&&!o||"immediately"===o?this.onBtApply(r):(!this.applyActive&&!o||"debounce"===o)&&this.onBtApplyDebounce()},i.prototype.afterGuiAttached=function(r){null!=r&&(this.hidePopup=r.hidePopup)},i.getDebounceMs=function(r,o){return i.isUseApplyButton(r)?(null!=r.debounceMs&&console.warn("AG Grid: debounceMs is ignored when apply button is present"),0):null!=r.debounceMs?r.debounceMs:o},i.isUseApplyButton=function(r){return!!r.buttons&&r.buttons.indexOf("apply")>=0},i.prototype.destroy=function(){this.hidePopup=null,h.prototype.destroy.call(this)},i.prototype.translate=function(r){return this.gridOptionsWrapper.getLocaleTextFunc()(r,us[r])},i.prototype.getCellValue=function(r){var o=this.providedFilterParams;return this.providedFilterParams.valueGetter({api:o.api,colDef:o.colDef,column:o.column,columnApi:o.columnApi,context:o.context,data:r.data,getValue:function(x){return r.data[x]},node:r})},wg([K("rowModel")],i.prototype,"rowModel",void 0),wg([K("valueService")],i.prototype,"valueService",void 0),wg([We],i.prototype,"postConstruct",null),i}(Rt),wp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ku=function(h){function i(r,o){var u=h.call(this,o)||this;return u.labelSeparator="",u.labelAlignment="left",u.label="",u.config=r||{},u}return wp(i,h),i.prototype.postConstruct=function(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");var r=this.config,o=r.labelSeparator,u=r.label,d=r.labelWidth,m=r.labelAlignment;null!=o&&this.setLabelSeparator(o),null!=u&&this.setLabel(u),null!=d&&this.setLabelWidth(d),this.setLabelAlignment(m||this.labelAlignment),this.refreshLabel()},i.prototype.refreshLabel=function(){Ln(this.eLabel),"string"==typeof this.label?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),""===this.label?(this.eLabel.classList.add("ag-hidden"),On(this.eLabel,"presentation")):(this.eLabel.classList.remove("ag-hidden"),On(this.eLabel,null))},i.prototype.setLabelSeparator=function(r){return this.labelSeparator===r||(this.labelSeparator=r,null!=this.label&&this.refreshLabel()),this},i.prototype.getLabelId=function(){return this.eLabel.id=this.eLabel.id||"ag-"+this.getCompId()+"-label",this.eLabel.id},i.prototype.getLabel=function(){return this.label},i.prototype.setLabel=function(r){return this.label===r||(this.label=r,this.refreshLabel()),this},i.prototype.setLabelAlignment=function(r){var u=this.getGui().classList;return u.toggle("ag-label-align-left","left"===r),u.toggle("ag-label-align-right","right"===r),u.toggle("ag-label-align-top","top"===r),this},i.prototype.setLabelWidth=function(r){return null==this.label||Pt(this.eLabel,r),this},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(Rt),oS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zo=function(h){function i(r,o,u){var d=h.call(this,r,o)||this;return d.className=u,d.disabled=!1,d}return oS(i,h),i.prototype.postConstruct=function(){h.prototype.postConstruct.call(this),this.className&&this.addCssClass(this.className)},i.prototype.onValueChange=function(r){var o=this;return this.addManagedListener(this,i.EVENT_CHANGED,function(){return r(o.getValue())}),this},i.prototype.getWidth=function(){return this.getGui().clientWidth},i.prototype.setWidth=function(r){return zt(this.getGui(),r),this},i.prototype.getPreviousValue=function(){return this.previousValue},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(r,o){return this.value===r||(this.previousValue=this.value,this.value=r,o||this.dispatchEvent({type:i.EVENT_CHANGED})),this},i.prototype.setDisabled=function(r){r=!!r;var o=this.getGui();return yi(o,r),o.classList.toggle("ag-disabled",r),this.disabled=r,this},i.prototype.isDisabled=function(){return!!this.disabled},i.EVENT_CHANGED="valueChange",i}(Ku),Yu=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_p=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},el=function(h){function i(r,o,u,d){var m=h.call(this,r,'<div class="ag-picker-field" role="presentation">\n                <div ref="eLabel"></div>\n                <div ref="eWrapper"\n                    class="ag-wrapper ag-picker-field-wrapper"\n                    tabIndex="-1"\n                    aria-expanded="false"\n                    '+(d?'role="'+d+'"':"")+'\n                >\n                    <div ref="eDisplayField" class="ag-picker-field-display"></div>\n                    <div ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>\n                </div>\n            </div>',o)||this;return m.pickerIcon=u,m.isPickerDisplayed=!1,m.isDestroyingPicker=!1,m.skipClick=!1,m}return Yu(i,h),i.prototype.postConstruct=function(){var r=this;h.prototype.postConstruct.call(this);var o=this.getCompId()+"-display";this.eDisplayField.setAttribute("id",o),yp(this.eWrapper,o);var u=function(){r.skipClick?r.skipClick=!1:r.isDisabled()||(r.pickerComponent=r.showPicker())},d=this.getGui();if(this.addManagedListener(d,"mousedown",function(w){!r.skipClick&&r.pickerComponent&&r.pickerComponent.isAlive()&&Wr(r.pickerComponent.getGui())&&d.contains(w.target)&&(r.skipClick=!0)}),this.addManagedListener(d,"keydown",function(w){switch(w.key){case Ie.UP:case Ie.DOWN:case Ie.ENTER:case Ie.SPACE:u();case Ie.ESCAPE:r.isPickerDisplayed&&w.preventDefault()}}),this.addManagedListener(this.eWrapper,"click",u),this.addManagedListener(this.eLabel,"click",u),this.pickerIcon){var m=Fr(this.pickerIcon,this.gridOptionsWrapper);m&&this.eIcon.appendChild(m)}},i.prototype.refreshLabel=function(){re(this.getLabel())?$l(this.eWrapper,this.getLabelId()):this.eWrapper.removeAttribute("aria-labelledby"),h.prototype.refreshLabel.call(this)},i.prototype.setAriaLabel=function(r){return ya(this.eWrapper,r),this},i.prototype.setInputWidth=function(r){return Pt(this.eWrapper,r),this},i.prototype.getFocusableElement=function(){return this.eWrapper},_p([Ne("eLabel")],i.prototype,"eLabel",void 0),_p([Ne("eWrapper")],i.prototype,"eWrapper",void 0),_p([Ne("eDisplayField")],i.prototype,"eDisplayField",void 0),_p([Ne("eIcon")],i.prototype,"eIcon",void 0),i}(zo),_g=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qu=function(h){function i(r){void 0===r&&(r="default");var o=h.call(this,'<div class="ag-list ag-'+r+'-list" role="listbox"></div>')||this;return o.cssIdentifier=r,o.options=[],o.itemEls=[],o}return _g(i,h),i.prototype.init=function(){this.addManagedListener(this.getGui(),"keydown",this.handleKeyDown.bind(this))},i.prototype.handleKeyDown=function(r){var o=r.key;switch(o){case Ie.ENTER:if(this.highlightedEl){var u=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(u)}else this.setValue(this.getValue());break;case Ie.DOWN:case Ie.UP:var d=o===Ie.DOWN,m=void 0;if(r.preventDefault(),this.highlightedEl){var P=this.itemEls.indexOf(this.highlightedEl)+(d?1:-1);P=Math.min(Math.max(P,0),this.itemEls.length-1),m=this.itemEls[P]}else m=this.itemEls[d?0:this.itemEls.length-1];this.highlightItem(m)}},i.prototype.addOptions=function(r){var o=this;return r.forEach(function(u){return o.addOption(u)}),this},i.prototype.addOption=function(r){var o=r.value,d=co(r.text||o);return this.options.push({value:o,text:d}),this.renderOption(o,d),this.updateIndices(),this},i.prototype.updateIndices=function(){var r=this.getGui().querySelectorAll(".ag-list-item");r.forEach(function(o,u){Rm(o,u+1),fg(o,r.length)})},i.prototype.renderOption=function(r,o){var u=this,d=document.createElement("div");On(d,"option"),d.classList.add("ag-list-item","ag-"+this.cssIdentifier+"-list-item"),d.innerHTML="<span>"+o+"</span>",d.tabIndex=-1,this.itemEls.push(d),this.addManagedListener(d,"mouseover",function(){return u.highlightItem(d)}),this.addManagedListener(d,"mouseleave",function(){return u.clearHighlighted()}),this.addManagedListener(d,"click",function(){return u.setValue(r)}),this.getGui().appendChild(d)},i.prototype.setValue=function(r,o){if(this.value===r)return this.fireItemSelected(),this;if(null==r)return this.reset(),this;var u=this.options.findIndex(function(m){return m.value===r});if(-1!==u){var d=this.options[u];this.value=d.value,this.displayValue=null!=d.text?d.text:d.value,this.highlightItem(this.itemEls[u]),o||this.fireChangeEvent()}return this},i.prototype.setValueByIndex=function(r){return this.setValue(this.options[r].value)},i.prototype.getValue=function(){return this.value},i.prototype.getDisplayValue=function(){return this.displayValue},i.prototype.refreshHighlighted=function(){var r=this;this.clearHighlighted();var o=this.options.findIndex(function(u){return u.value===r.value});-1!==o&&this.highlightItem(this.itemEls[o])},i.prototype.reset=function(){this.value=null,this.displayValue=null,this.clearHighlighted(),this.fireChangeEvent()},i.prototype.highlightItem=function(r){!r.offsetParent||(this.clearHighlighted(),this.highlightedEl=r,this.highlightedEl.classList.add(i.ACTIVE_CLASS),Kl(this.highlightedEl,!0),this.highlightedEl.focus())},i.prototype.clearHighlighted=function(){!this.highlightedEl||!this.highlightedEl.offsetParent||(this.highlightedEl.classList.remove(i.ACTIVE_CLASS),Kl(this.highlightedEl,!1),this.highlightedEl=null)},i.prototype.fireChangeEvent=function(){this.dispatchEvent({type:zo.EVENT_CHANGED}),this.fireItemSelected()},i.prototype.fireItemSelected=function(){this.dispatchEvent({type:i.EVENT_ITEM_SELECTED})},i.EVENT_ITEM_SELECTED="selectedItem",i.ACTIVE_CLASS="ag-active-item",function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"init",null),i}(Rt),bh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sa=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Dn=function(h){function i(r){return h.call(this,r,"ag-select","smallDown","listbox")||this}return bh(i,h),i.prototype.init=function(){var r=this;this.listComponent=this.createBean(new qu("select")),this.listComponent.setParentComponent(this),this.eWrapper.tabIndex=0,this.listComponent.addManagedListener(this.listComponent,qu.EVENT_ITEM_SELECTED,function(){r.hideList&&r.hideList()}),this.listComponent.addManagedListener(this.listComponent,zo.EVENT_CHANGED,function(){r.setValue(r.listComponent.getValue(),!1,!0),r.hideList&&r.hideList()})},i.prototype.showPicker=function(){var r=this,o=this.listComponent.getGui(),u=this.gridOptionsWrapper.getDocument(),d=this.addManagedListener(u.body,"wheel",function(x){!o.contains(x.target)&&r.hideList&&r.hideList()}),m=this.addManagedListener(o,"focusout",function(x){!o.contains(x.relatedTarget)&&r.hideList&&r.hideList()}),w=this.gridOptionsWrapper.getLocaleTextFunc(),P=this.popupService.addPopup({modal:!0,eChild:o,closeOnEsc:!0,closedCallback:function(){r.hideList=null,r.isPickerDisplayed=!1,m(),d(),r.isAlive()&&(wi(r.eWrapper,!1),r.getFocusableElement().focus())},ariaLabel:w("ariaLabelSelectField","Select Field")});return P&&(this.hideList=P.hideFunc),this.isPickerDisplayed=!0,Pt(o,is(this.eWrapper)),wi(this.eWrapper,!0),o.style.maxHeight=Vi(this.popupService.getPopupParent())+"px",o.style.position="absolute",this.popupService.positionPopupUnderComponent({type:"ag-list",eventSource:this.eWrapper,ePopup:o,keepWithinBounds:!0}),this.listComponent.refreshHighlighted(),this.listComponent},i.prototype.addOptions=function(r){var o=this;return r.forEach(function(u){return o.addOption(u)}),this},i.prototype.addOption=function(r){return this.listComponent.addOption(r),this},i.prototype.setValue=function(r,o,u){return this.value===r?this:(u||this.listComponent.setValue(r,!0),this.listComponent.getValue()===this.getValue()?this:(this.eDisplayField.innerHTML=this.listComponent.getDisplayValue(),h.prototype.setValue.call(this,r,o)))},i.prototype.destroy=function(){this.hideList&&this.hideList(),this.destroyBean(this.listComponent),h.prototype.destroy.call(this)},Sa([K("popupService")],i.prototype,"popupService",void 0),Sa([We],i.prototype,"init",null),i}(el),tl=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rr=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},yo=function(h){function i(r,o,u,d){void 0===u&&(u="text"),void 0===d&&(d="input");var m=h.call(this,r,'\n            <div role="presentation">\n                <div ref="eLabel" class="ag-input-field-label"></div>\n                <div ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">\n                    <'+d+' ref="eInput" class="ag-input-field-input"></'+d+">\n                </div>\n            </div>",o)||this;return m.inputType=u,m.displayFieldTag=d,m}return tl(i,h),i.prototype.postConstruct=function(){h.prototype.postConstruct.call(this),this.setInputType(),this.eLabel.classList.add(this.className+"-label"),this.eWrapper.classList.add(this.className+"-input-wrapper"),this.eInput.classList.add(this.className+"-input"),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||"ag-"+this.getCompId()+"-input";var r=this.config,o=r.width,u=r.value;null!=o&&this.setWidth(o),null!=u&&this.setValue(u),this.addInputListeners()},i.prototype.refreshLabel=function(){re(this.getLabel())?$l(this.eInput,this.getLabelId()):this.eInput.removeAttribute("aria-labelledby"),h.prototype.refreshLabel.call(this)},i.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(o){return r.setValue(o.target.value)})},i.prototype.setInputType=function(){"input"===this.displayFieldTag&&this.eInput.setAttribute("type",this.inputType)},i.prototype.getInputElement=function(){return this.eInput},i.prototype.setInputWidth=function(r){return Pt(this.eWrapper,r),this},i.prototype.setInputName=function(r){return this.getInputElement().setAttribute("name",r),this},i.prototype.getFocusableElement=function(){return this.eInput},i.prototype.setMaxLength=function(r){return this.eInput.maxLength=r,this},i.prototype.setInputPlaceholder=function(r){return ga(this.eInput,"placeholder",r),this},i.prototype.setInputAriaLabel=function(r){return ya(this.eInput,r),this},i.prototype.setDisabled=function(r){return yi(this.eInput,r),h.prototype.setDisabled.call(this,r)},Rr([Ne("eLabel")],i.prototype,"eLabel",void 0),Rr([Ne("eWrapper")],i.prototype,"eWrapper",void 0),Rr([Ne("eInput")],i.prototype,"eInput",void 0),i}(zo),Sp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mo=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Pn=(()=>(function(h){h[h.One=0]="One",h[h.Two=1]="Two"}(Pn||(Pn={})),Pn))(),Lr=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Sp(i,h),i.prototype.getNumberOfInputs=function(r){var o=this.optionsFactory.getCustomOption(r);if(o){var u=o.numberOfInputs;return null!=u?u:1}return r&&[i.EMPTY,i.NOT_BLANK,i.BLANK].indexOf(r)>=0?0:r===i.IN_RANGE?2:1},i.prototype.onFloatingFilterChanged=function(r,o){this.setTypeFromFloatingFilter(r),this.setValueFromFloatingFilter(o),this.onUiChanged(!0)},i.prototype.setTypeFromFloatingFilter=function(r){this.eType1.setValue(r),this.eType2.setValue(this.optionsFactory.getDefaultOption()),(this.isDefaultOperator("AND")?this.eJoinOperatorAnd:this.eJoinOperatorOr).setValue(!0)},i.prototype.getModelFromUi=function(){return this.isConditionUiComplete(Pn.One)?this.isAllowTwoConditions()&&this.isConditionUiComplete(Pn.Two)?{filterType:this.getFilterType(),operator:this.getJoinOperator(),condition1:this.createCondition(Pn.One),condition2:this.createCondition(Pn.Two)}:this.createCondition(Pn.One):null},i.prototype.getConditionTypes=function(){return[this.eType1.getValue(),this.eType2.getValue()]},i.prototype.getJoinOperator=function(){return!0===this.eJoinOperatorOr.getValue()?"OR":"AND"},i.prototype.areModelsEqual=function(r,o){if(!r&&!o)return!0;if(!r&&o||r&&!o)return!1;var w,u=!r.operator,d=!o.operator;if(!u&&d||u&&!d)return!1;if(u)w=this.areSimpleModelsEqual(r,o);else{var N=r,k=o;w=N.operator===k.operator&&this.areSimpleModelsEqual(N.condition1,k.condition1)&&this.areSimpleModelsEqual(N.condition2,k.condition2)}return w},i.prototype.setModelIntoUi=function(r){if(r.operator){var u=r,d="OR"===u.operator;this.eJoinOperatorAnd.setValue(!d),this.eJoinOperatorOr.setValue(d),this.eType1.setValue(u.condition1.type),this.eType2.setValue(u.condition2.type),this.setConditionIntoUi(u.condition1,Pn.One),this.setConditionIntoUi(u.condition2,Pn.Two)}else{var m=r;this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND")),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR")),this.eType1.setValue(m.type),this.eType2.setValue(this.optionsFactory.getDefaultOption()),this.setConditionIntoUi(m,Pn.One),this.setConditionIntoUi(null,Pn.Two)}return nt.resolve()},i.prototype.doesFilterPass=function(r){var o=this,u=this.getModel();if(null==u)return!0;var d=u.operator,m=[];return d?m.push(u.condition1,u.condition2):m.push(u),m[d&&"OR"===d?"some":"every"](function(x){return o.individualConditionPasses(r,x)})},i.prototype.setParams=function(r){h.prototype.setParams.call(this,r),this.optionsFactory=new Tr,this.optionsFactory.init(r,this.getDefaultFilterOptions()),this.allowTwoConditions=!r.suppressAndOrCondition,this.alwaysShowBothConditions=!!r.alwaysShowBothConditions,this.defaultJoinOperator=this.getDefaultJoinOperator(r.defaultJoinOperator),this.putOptionsIntoDropdown(),this.addChangedListeners()},i.prototype.getDefaultJoinOperator=function(r){return gi(["AND","OR"],r)?r:"AND"},i.prototype.putOptionsIntoDropdown=function(){var r=this,o=this.optionsFactory.getFilterOptions(),u=[this.eType1,this.eType2];o.forEach(function(d){var m="string"==typeof d?r.createBoilerplateListOption(d):r.createCustomListOption(d);u.forEach(function(w){return w.addOption(m)})}),u.forEach(function(d){return d.setDisabled(o.length<=1)})},i.prototype.createBoilerplateListOption=function(r){return{value:r,text:this.translate(r)}},i.prototype.createCustomListOption=function(r){var o=r.displayKey,u=this.optionsFactory.getCustomOption(r.displayKey);return{value:o,text:u?this.gridOptionsWrapper.getLocaleTextFunc()(u.displayKey,u.displayName):this.translate(o)}},i.prototype.isAllowTwoConditions=function(){return this.allowTwoConditions},i.prototype.createBodyTemplate=function(){return'\n            <ag-select class="ag-filter-select" ref="eOptions1"></ag-select>\n            '+this.createValueTemplate(Pn.One)+'\n            <div class="ag-filter-condition" ref="eJoinOperatorPanel">\n               <ag-radio-button ref="eJoinOperatorAnd" class="ag-filter-condition-operator ag-filter-condition-operator-and"></ag-radio-button>\n               <ag-radio-button ref="eJoinOperatorOr" class="ag-filter-condition-operator ag-filter-condition-operator-or"></ag-radio-button>\n            </div>\n            <ag-select class="ag-filter-select" ref="eOptions2"></ag-select>\n            '+this.createValueTemplate(Pn.Two)},i.prototype.getCssIdentifier=function(){return"simple-filter"},i.prototype.updateUiVisibility=function(){var r=this,u=[this.eCondition1Body,this.eCondition2Body];[[this.eType1],[this.eType2,this.eJoinOperatorPanel,this.eJoinOperatorAnd,this.eJoinOperatorOr]].forEach(function(d,m){var w=r.isConditionVisible(m),P=r.isConditionDisabled(m);d.forEach(function(x){x instanceof yo||x instanceof Dn?(x.setDisabled(P),x.setDisplayed(w)):(yi(x,P),ar(x,w))})}),u.forEach(function(d,m){ar(d,r.isConditionBodyVisible(m))}),this.forEachInput(function(d,m,w,P){r.setElementDisplayed(d,m<P),r.setElementDisabled(d,r.isConditionDisabled(w))}),this.resetPlaceholder()},i.prototype.afterGuiAttached=function(r){if(h.prototype.afterGuiAttached.call(this,r),this.resetPlaceholder(),!r||!r.suppressFocus&&!this.isReadOnly()){var o=this.getInputs()[0][0];if(!o)return;o instanceof yo&&o.getInputElement().focus()}},i.prototype.resetPlaceholder=function(){var r=this,o=this.gridOptionsWrapper.getLocaleTextFunc();this.forEachInput(function(u,d,m,w){if(u instanceof yo){var P=0===d&&w>1?"inRangeStart":0===d?"filterOoo":"inRangeEnd",x=0===d&&w>1?o("ariaFilterFromValue","Filter from value"):0===d?o("ariaFilterValue","Filter Value"):o("ariaFilterToValue","Filter to Value");u.setInputPlaceholder(r.translate(P)),u.setInputAriaLabel(x)}})},i.prototype.setElementValue=function(r,o,u){r instanceof yo&&r.setValue(null!=o?String(o):null,u)},i.prototype.setElementDisplayed=function(r,o){r instanceof Rt&&ar(r.getGui(),o)},i.prototype.setElementDisabled=function(r,o){r instanceof Rt&&yi(r.getGui(),o)},i.prototype.attachElementOnChange=function(r,o){r instanceof yo&&r.onValueChange(o)},i.prototype.forEachInput=function(r){var o=this,u=this.getInputs();this.getConditionTypes().forEach(function(d,m){for(var w=o.getNumberOfInputs(d),P=0;P<u[m].length;P++){var x=u[m][P];null!=x&&r(x,P,m,w)}})},i.prototype.isConditionVisible=function(r){return 0===r||!!this.allowTwoConditions&&(this.isReadOnly()?this.isConditionUiComplete(r):!!this.alwaysShowBothConditions||this.isConditionUiComplete(r-1))},i.prototype.isConditionDisabled=function(r){return!(!this.isReadOnly()&&this.isConditionVisible(r))||0!==r&&!this.isConditionUiComplete(r-1)},i.prototype.isConditionBodyVisible=function(r){if(!this.isConditionVisible(r))return!1;var o=this.getConditionTypes()[r];return this.getNumberOfInputs(o)>0},i.prototype.isConditionUiComplete=function(r){return!(this.getConditionTypes()[r]===i.EMPTY||this.getValues(r).some(function(u){return null==u}))},i.prototype.resetUiToDefaults=function(r){var o=this,d=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator"),m="ag-simple-filter-and-or-"+this.getCompId(),w=this.optionsFactory.getDefaultOption();return this.eType1.setValue(w,r).setAriaLabel(d).setDisabled(this.isReadOnly()),this.eType2.setValue(this.optionsFactory.getDefaultOption(),r).setAriaLabel(d).setDisabled(this.isReadOnly()),this.eJoinOperatorAnd.setValue(this.isDefaultOperator("AND"),r).setName(m).setLabel(this.translate("andCondition")).setDisabled(this.isReadOnly()),this.eJoinOperatorOr.setValue(this.isDefaultOperator("OR"),r).setName(m).setLabel(this.translate("orCondition")).setDisabled(this.isReadOnly()),this.forEachInput(function(P){o.setElementValue(P,null,r),o.setElementDisabled(P,o.isReadOnly())}),this.resetPlaceholder(),nt.resolve()},i.prototype.setConditionIntoUi=function(r,o){var u=this,d=this.mapValuesFromModel(r);this.forEachInput(function(m,w,P,x){P===o&&u.setElementValue(m,null!=d[w]?d[w]:null)})},i.prototype.setValueFromFloatingFilter=function(r){var o=this;this.forEachInput(function(u,d,m,w){o.setElementValue(u,0===d&&0===m?r:null)})},i.prototype.isDefaultOperator=function(r){return r===this.defaultJoinOperator},i.prototype.addChangedListeners=function(){var r=this;if(!this.isReadOnly()){var o=function(){return r.onUiChanged()};this.eType1.onValueChange(o),this.eType2.onValueChange(o),this.eJoinOperatorOr.onValueChange(o),this.eJoinOperatorAnd.onValueChange(o),this.forEachInput(function(u){r.attachElementOnChange(u,o)})}},i.prototype.individualConditionPasses=function(r,o){var u=this.getCellValue(r.node),d=this.mapValuesFromModel(o),m=this.optionsFactory.getCustomOption(o.type),w=this.evaluateCustomFilter(m,d,u);return null!=w?w:null==u?this.evaluateNullValue(o.type):this.evaluateNonNullValue(d,u,o,r)},i.prototype.evaluateCustomFilter=function(r,o,u){if(null!=r){var d=r.predicate;if(null!=d&&!o.some(function(m){return null==m}))return d(o,u)}},i.prototype.isBlank=function(r){return null==r||"string"==typeof r&&0===r.trim().length},i.EMPTY="empty",i.BLANK="blank",i.NOT_BLANK="notBlank",i.EQUALS="equals",i.NOT_EQUAL="notEqual",i.LESS_THAN="lessThan",i.LESS_THAN_OR_EQUAL="lessThanOrEqual",i.GREATER_THAN="greaterThan",i.GREATER_THAN_OR_EQUAL="greaterThanOrEqual",i.IN_RANGE="inRange",i.CONTAINS="contains",i.NOT_CONTAINS="notContains",i.STARTS_WITH="startsWith",i.ENDS_WITH="endsWith",mo([Ne("eOptions1")],i.prototype,"eType1",void 0),mo([Ne("eOptions2")],i.prototype,"eType2",void 0),mo([Ne("eJoinOperatorPanel")],i.prototype,"eJoinOperatorPanel",void 0),mo([Ne("eJoinOperatorAnd")],i.prototype,"eJoinOperatorAnd",void 0),mo([Ne("eJoinOperatorOr")],i.prototype,"eJoinOperatorOr",void 0),mo([Ne("eCondition1Body")],i.prototype,"eCondition1Body",void 0),mo([Ne("eCondition2Body")],i.prototype,"eCondition2Body",void 0),i}(Xl),Si=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gr=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Si(i,h),i.prototype.setParams=function(r){h.prototype.setParams.call(this,r),this.scalarFilterParams=r},i.prototype.evaluateNullValue=function(r){switch(r){case i.EQUALS:case i.NOT_EQUAL:if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case i.GREATER_THAN:case i.GREATER_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case i.LESS_THAN:case i.LESS_THAN_OR_EQUAL:if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case i.IN_RANGE:if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case i.BLANK:return!0;case i.NOT_BLANK:return!1}return!1},i.prototype.evaluateNonNullValue=function(r,o,u){var d=this.comparator(),m=null!=r[0]?d(r[0],o):0;switch(u.type){case i.EQUALS:return 0===m;case i.NOT_EQUAL:return 0!==m;case i.GREATER_THAN:return m>0;case i.GREATER_THAN_OR_EQUAL:return m>=0;case i.LESS_THAN:return m<0;case i.LESS_THAN_OR_EQUAL:return m<=0;case i.IN_RANGE:var w=d(r[1],o);return this.scalarFilterParams.inRangeInclusive?m>=0&&w<=0:m>0&&w<0;case i.BLANK:return this.isBlank(o);case i.NOT_BLANK:return!this.isBlank(o);default:return console.warn('AG Grid: Unexpected type of filter "'+u.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}},i}(Lr),Eh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rl=function(){return rl=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},rl.apply(this,arguments)},nl=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ba=function(h){function i(){var r=h.call(this,"dateFilter")||this;return r.minValidYear=1e3,r.maxValidYear=1/0,r}return Eh(i,h),i.prototype.afterGuiAttached=function(r){h.prototype.afterGuiAttached.call(this,r),this.dateCondition1FromComp.afterGuiAttached(r)},i.prototype.mapValuesFromModel=function(r){var o=r||{},u=o.dateFrom,d=o.dateTo,m=o.type;return[u&&Ca(u)||null,d&&Ca(d)||null].slice(0,this.getNumberOfInputs(m))},i.prototype.comparator=function(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)},i.prototype.defaultComparator=function(r,o){return null==o||o<r?-1:o>r?1:0},i.prototype.setParams=function(r){h.prototype.setParams.call(this,r),this.dateFilterParams=r;var o=function(u,d){if(null!=r[u]){if(!isNaN(r[u]))return null==r[u]?d:Number(r[u]);console.warn("AG Grid: DateFilter "+u+" is not a number")}return d};this.minValidYear=o("minValidYear",1e3),this.maxValidYear=o("maxValidYear",1/0),this.minValidYear>this.maxValidYear&&console.warn("AG Grid: DateFilter minValidYear should be <= maxValidYear"),this.createDateComponents()},i.prototype.createDateComponents=function(){var r=this,o=function(u){return new nS(r.getContext(),r.userComponentFactory,{onDateChanged:function(){return r.onUiChanged()},filterParams:r.dateFilterParams},u)};this.dateCondition1FromComp=o(this.eCondition1PanelFrom),this.dateCondition1ToComp=o(this.eCondition1PanelTo),this.dateCondition2FromComp=o(this.eCondition2PanelFrom),this.dateCondition2ToComp=o(this.eCondition2PanelTo),this.addDestroyFunc(function(){r.forEachInput(function(u){return u.destroy()})})},i.prototype.setElementValue=function(r,o,u){r.setDate(o)},i.prototype.setElementDisplayed=function(r,o){r.setDisplayed(o)},i.prototype.setElementDisabled=function(r,o){r.setDisabled(o)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var o=r===Pn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body">\n                <div class="ag-filter-from ag-filter-date-from" ref="eCondition'+o+'PanelFrom"></div>\n                <div class="ag-filter-to ag-filter-date-to" ref="eCondition'+o+'PanelTo"></div>\n            </div>'},i.prototype.isConditionUiComplete=function(r){var o=this;if(!h.prototype.isConditionUiComplete.call(this,r))return!1;var d=!0;return this.forEachInput(function(m,w,P,x){P!==r||!d||w>=x||(d=d&&function(m){return null!=m&&m.getUTCFullYear()>=o.minValidYear&&m.getUTCFullYear()<=o.maxValidYear}(m.getDate()))}),d},i.prototype.areSimpleModelsEqual=function(r,o){return r.dateFrom===o.dateFrom&&r.dateTo===o.dateTo&&r.type===o.type},i.prototype.getFilterType=function(){return"date"},i.prototype.createCondition=function(r){var o=this.getConditionTypes()[r],u={},d=this.getValues(r);return d.length>0&&(u.dateFrom=Qs(d[0])),d.length>1&&(u.dateTo=Qs(d[1])),rl({dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:o},u)},i.prototype.resetPlaceholder=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.translate("dateFormatOoo"),u=r("ariaFilterValue","Filter Value");this.forEachInput(function(d){d.setInputPlaceholder(o),d.setInputAriaLabel(u)})},i.prototype.getInputs=function(){return[[this.dateCondition1FromComp,this.dateCondition1ToComp],[this.dateCondition2FromComp,this.dateCondition2ToComp]]},i.prototype.getValues=function(r){var o=[];return this.forEachInput(function(u,d,m,w){r===m&&d<w&&o.push(u.getDate())}),o},i.DEFAULT_FILTER_OPTIONS=[Gr.EQUALS,Gr.GREATER_THAN,Gr.LESS_THAN,Gr.NOT_EQUAL,Gr.IN_RANGE,Gr.BLANK,Gr.NOT_BLANK],nl([Ne("eCondition1PanelFrom")],i.prototype,"eCondition1PanelFrom",void 0),nl([Ne("eCondition1PanelTo")],i.prototype,"eCondition1PanelTo",void 0),nl([Ne("eCondition2PanelFrom")],i.prototype,"eCondition2PanelFrom",void 0),nl([Ne("eCondition2PanelTo")],i.prototype,"eCondition2PanelTo",void 0),nl([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),i}(Gr),$o=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),km=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return $o(i,h),i.prototype.getDefaultDebounceMs=function(){return 0},i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.getTextFromModel=function(r){if(!r)return null;if(null!=r.operator){var u=r,d=u||{},m=d.condition1,w=d.condition2,P=this.optionsFactory.getCustomOption(m.type),x=this.optionsFactory.getCustomOption(w.type);return[this.conditionToString(m,P),u.operator,this.conditionToString(w,x)].join(" ")}var N=r,k=this.optionsFactory.getCustomOption(N.type),q=k||{},ee=q.displayKey,le=q.displayName;return ee&&le&&0===q.numberOfInputs?(this.gridOptionsWrapper.getLocaleTextFunc()(ee,le),le):this.conditionToString(N,k)},i.prototype.isEventFromFloatingFilter=function(r){return r&&r.afterFloatingFilter},i.prototype.getLastType=function(){return this.lastType},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setLastTypeFromModel=function(r){r?this.lastType=(r.operator?r.condition1:r).type:this.lastType=this.optionsFactory.getDefaultOption()},i.prototype.canWeEditAfterModelFromParentFilter=function(r){return r?!r.operator&&this.isTypeEditable(r.type):this.isTypeEditable(this.lastType)},i.prototype.init=function(r){this.optionsFactory=new Tr,this.optionsFactory.init(r.filterParams,this.getDefaultFilterOptions()),this.lastType=this.optionsFactory.getDefaultOption(),this.readOnly=!!r.filterParams.readOnly;var o=this.isTypeEditable(this.lastType);this.setEditable(o)},i.prototype.doesFilterHaveSingleInput=function(r){var u=(this.optionsFactory.getCustomOption(r)||{}).numberOfInputs;return null==u||1==u},i.prototype.isTypeEditable=function(r){var o=[Lr.IN_RANGE,Lr.EMPTY,Lr.BLANK,Lr.NOT_BLANK];return!!r&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(r)&&o.indexOf(r)<0},i}(Rt),aS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ql=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Oh=function(h){function i(){return h.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eReadOnlyText"></ag-input-text-field>\n                <div ref="eDateWrapper" style="display: flex;"></div>\n            </div>')||this}return aS(i,h),i.prototype.getDefaultFilterOptions=function(){return ba.DEFAULT_FILTER_OPTIONS},i.prototype.conditionToString=function(r,o){var u=r.type,m=u==Lr.IN_RANGE||2===(o||{}).numberOfInputs,w=Ca(r.dateFrom),P=Ca(r.dateTo);return m?Qs(w,!1)+"-"+Qs(P,!1):null!=w?""+Qs(w,!1):""+u},i.prototype.init=function(r){h.prototype.init.call(this,r),this.params=r,this.createDateComponent();var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))},i.prototype.setEditable=function(r){ar(this.eDateWrapper,r),ar(this.eReadOnlyText.getGui(),!r)},i.prototype.onParentModelChanged=function(r,o){if(!this.isEventFromFloatingFilter(o)){h.prototype.setLastTypeFromModel.call(this,r);var u=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(r);this.setEditable(u),u?(this.dateComp.setDate(r?Ca(r.dateFrom):null),this.eReadOnlyText.setValue("")):(this.eReadOnlyText.setValue(this.getTextFromModel(r)),this.dateComp.setDate(null))}},i.prototype.onDateChanged=function(){var r=this,u=Qs(this.dateComp.getDate());this.params.parentFilterInstance(function(d){if(d){var m=Ca(u);d.onFloatingFilterChanged(r.getLastType()||null,m)}})},i.prototype.createDateComponent=function(){var r=this,o=Xl.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),u={onDateChanged:pa(this.onDateChanged.bind(this),o),filterParams:this.params.column.getColDef().filterParams};this.dateComp=new nS(this.getContext(),this.userComponentFactory,u,this.eDateWrapper),this.addDestroyFunc(function(){return r.dateComp.destroy()})},Ql([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Ql([Ne("eReadOnlyText")],i.prototype,"eReadOnlyText",void 0),Ql([Ne("eDateWrapper")],i.prototype,"eDateWrapper",void 0),i}(km),ds=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bm=function(h){function i(){return h.call(this,'\n            <div class="ag-filter-filter">\n                <ag-input-text-field class="ag-date-filter" ref="eDateInput"></ag-input-text-field>\n            </div>')||this}return ds(i,h),i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.init=function(r){var o=this,u=this.gridOptionsWrapper.getDocument(),d=this.eDateInput.getInputElement();this.shouldUseBrowserDatePicker(r)&&(d.type="date"),this.addManagedListener(d,"mousedown",function(){o.eDateInput.isDisabled()||d.focus()}),this.addManagedListener(d,"input",function(x){x.target===u.activeElement&&(o.eDateInput.isDisabled()||r.onDateChanged())});var m=r.filterParams||{},w=m.minValidYear,P=m.maxValidYear;w&&(d.min=w+"-01-01"),P&&(d.max=P+"-12-31")},i.prototype.getDate=function(){return Ca(this.eDateInput.getValue())},i.prototype.setDate=function(r){this.eDateInput.setValue(Qs(r,!1))},i.prototype.setInputPlaceholder=function(r){this.eDateInput.setInputPlaceholder(r)},i.prototype.setDisabled=function(r){this.eDateInput.setDisabled(r)},i.prototype.afterGuiAttached=function(r){(!r||!r.suppressFocus)&&this.eDateInput.getInputElement().focus()},i.prototype.shouldUseBrowserDatePicker=function(r){return r.filterParams&&null!=r.filterParams.browserDatePicker?r.filterParams.browserDatePicker:qn()||Cm()},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([Ne("eDateInput")],i.prototype,"eDateInput",void 0),i}(Rt),qE=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zl=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},hs=function(h){function i(){return h.call(this,"numberFilter")||this}return qE(i,h),i.prototype.mapValuesFromModel=function(r){var o=r||{},u=o.filter,d=o.filterTo;return[null==u?null:u,null==d?null:d].slice(0,this.getNumberOfInputs(o.type))},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.comparator=function(){return function(r,o){return r===o?0:r<o?1:-1}},i.prototype.setParams=function(r){this.numberFilterParams=r;var o=this.getAllowedCharPattern();if(o){var u={allowedCharPattern:o};this.resetTemplate({"eValue-index0-1":u,"eValue-index1-1":u,"eValue-index0-2":u,"eValue-index1-2":u})}h.prototype.setParams.call(this,r)},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var o=r===Pn.One?"1":"2",d=this.getAllowedCharPattern()?"ag-input-text-field":"ag-input-number-field";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body" role="presentation">\n                <'+d+' class="ag-filter-from ag-filter-filter" ref="eValue-index0-'+o+'"></'+d+">\n                <"+d+' class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+o+'"></'+d+">\n            </div>"},i.prototype.getValues=function(r){var o=this,u=[];return this.forEachInput(function(d,m,w,P){r===w&&m<P&&u.push(o.stringToFloat(d.getValue()))}),u},i.prototype.areSimpleModelsEqual=function(r,o){return r.filter===o.filter&&r.filterTo===o.filterTo&&r.type===o.type},i.prototype.getFilterType=function(){return"number"},i.prototype.stringToFloat=function(r){if("number"==typeof r)return r;var o=sa(r);return null!=o&&""===o.trim()&&(o=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(o):null==o||"-"===o.trim()?null:parseFloat(o)},i.prototype.createCondition=function(r){var o=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:o},d=this.getValues(r);return d.length>0&&(u.filter=d[0]),d.length>1&&(u.filterTo=d[1]),u},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getAllowedCharPattern=function(){return(this.numberFilterParams||{}).allowedCharPattern||(qn()||ph()?null:"\\d\\-\\.")},i.DEFAULT_FILTER_OPTIONS=[Gr.EQUALS,Gr.NOT_EQUAL,Gr.LESS_THAN,Gr.LESS_THAN_OR_EQUAL,Gr.GREATER_THAN,Gr.GREATER_THAN_OR_EQUAL,Gr.IN_RANGE,Gr.BLANK,Gr.NOT_BLANK],Zl([Ne("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),Zl([Ne("eValue-index1-1")],i.prototype,"eValueTo1",void 0),Zl([Ne("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),Zl([Ne("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Gr),Rh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),il=function(){return il=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},il.apply(this,arguments)},bp=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ep=function(h){function i(){return h.call(this,"textFilter")||this}return Rh(i,h),i.trimInput=function(r){var o=r&&r.trim();return""===o?r:o},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.setParams=function(r){h.prototype.setParams.call(this,r),this.textFilterParams=r,this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?i.DEFAULT_FORMATTER:i.DEFAULT_LOWERCASE_FORMATTER)},i.prototype.getTextMatcher=function(){var r=this.textFilterParams.textCustomComparator;return r?(ft.doOnce(function(){return console.warn("AG Grid - textCustomComparator is deprecated, use textMatcher instead.")},"textCustomComparator.deprecated"),function(o){return r(o.filterOption,o.value,o.filterText)}):this.textFilterParams.textMatcher||i.DEFAULT_MATCHER},i.prototype.createCondition=function(r){var o=this.getConditionTypes()[r],u={filterType:this.getFilterType(),type:o},d=this.getValues(r);return d.length>0&&(u.filter=d[0]),d.length>1&&(u.filterTo=d[1]),u},i.prototype.getFilterType=function(){return"text"},i.prototype.areSimpleModelsEqual=function(r,o){return r.filter===o.filter&&r.filterTo===o.filterTo&&r.type===o.type},i.prototype.getInputs=function(){return[[this.eValueFrom1,this.eValueTo1],[this.eValueFrom2,this.eValueTo2]]},i.prototype.getValues=function(r){var o=this,u=[];return this.forEachInput(function(d,m,w,P){if(r===w&&m<P){var x=sa(d.getValue()),N=(o.textFilterParams.trimInput?i.trimInput(x):x)||null;u.push(N),d.setValue(N,!0)}}),u},i.prototype.getDefaultFilterOptions=function(){return i.DEFAULT_FILTER_OPTIONS},i.prototype.createValueTemplate=function(r){var o=r===Pn.One?"1":"2";return'\n            <div class="ag-filter-body" ref="eCondition'+o+'Body" role="presentation">\n                <ag-input-text-field class=".ag-filter-from ag-filter-filter" ref="eValue-index0-'+o+'"></ag-input-text-field>\n                <ag-input-text-field class="ag-filter-to ag-filter-filter" ref="eValue-index1-'+o+'"></ag-input-text-field>\n            </div>'},i.prototype.mapValuesFromModel=function(r){var o=r||{};return[o.filter||null,o.filterTo||null].slice(0,this.getNumberOfInputs(o.type))},i.prototype.evaluateNullValue=function(r){return!!r&&[Lr.NOT_EQUAL,Lr.NOT_CONTAINS,Lr.BLANK].indexOf(r)>=0},i.prototype.evaluateNonNullValue=function(r,o,u,d){var m=this,w=r.map(function(xe){return m.formatter(xe)})||[],P=this.formatter(o),x=this.textFilterParams,N=x.api,k=x.colDef,q=x.column,ee=x.columnApi,le=x.context,de=x.textFormatter;if(u.type===Lr.BLANK)return this.isBlank(o);if(u.type===Lr.NOT_BLANK)return!this.isBlank(o);var ye={api:N,colDef:k,column:q,columnApi:ee,context:le,node:d.node,data:d.data,filterOption:u.type,value:P,textFormatter:de};return w.some(function(xe){return m.matcher(il(il({},ye),{filterText:xe}))})},i.DEFAULT_FILTER_OPTIONS=[Lr.CONTAINS,Lr.NOT_CONTAINS,Lr.EQUALS,Lr.NOT_EQUAL,Lr.STARTS_WITH,Lr.ENDS_WITH,Lr.BLANK,Lr.NOT_BLANK],i.DEFAULT_FORMATTER=function(r){return r},i.DEFAULT_LOWERCASE_FORMATTER=function(r){return null==r?null:r.toString().toLowerCase()},i.DEFAULT_MATCHER=function(r){var u=r.value,d=r.filterText;if(null==d)return!1;switch(r.filterOption){case i.CONTAINS:return u.indexOf(d)>=0;case i.NOT_CONTAINS:return u.indexOf(d)<0;case i.EQUALS:return u===d;case i.NOT_EQUAL:return u!=d;case i.STARTS_WITH:return 0===u.indexOf(d);case i.ENDS_WITH:var m=u.lastIndexOf(d);return m>=0&&m===u.length-d.length;default:return!1}},bp([Ne("eValue-index0-1")],i.prototype,"eValueFrom1",void 0),bp([Ne("eValue-index1-1")],i.prototype,"eValueTo1",void 0),bp([Ne("eValue-index0-2")],i.prototype,"eValueFrom2",void 0),bp([Ne("eValue-index1-2")],i.prototype,"eValueTo2",void 0),i}(Lr),ol=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Op=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},fs=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return ol(i,h),i.prototype.postConstruct=function(){this.resetTemplate()},i.prototype.resetTemplate=function(r){this.setTemplate('\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterInput"></ag-input-text-field>\n            </div>\n        ',r)},i.prototype.getDefaultDebounceMs=function(){return 500},i.prototype.onParentModelChanged=function(r,o){this.isEventFromFloatingFilter(o)||(this.setLastTypeFromModel(r),this.eFloatingFilterInput.setValue(this.getTextFromModel(r)),this.setEditable(this.canWeEditAfterModelFromParentFilter(r)))},i.prototype.init=function(r){h.prototype.init.call(this,r),this.params=r,this.applyActive=Xl.isUseApplyButton(this.params.filterParams);var o=this.params.filterParams.allowedCharPattern;if(null!=o&&this.resetTemplate({eFloatingFilterInput:{allowedCharPattern:o}}),!this.isReadOnly()){var u=Xl.getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),d=pa(this.syncUpWithParentFilter.bind(this),u),m=this.eFloatingFilterInput.getGui();this.addManagedListener(m,"input",d),this.addManagedListener(m,"keypress",d),this.addManagedListener(m,"keydown",d)}var w=r.column.getDefinition();(this.isReadOnly()||w.filterParams&&w.filterParams.filterOptions&&1===w.filterParams.filterOptions.length&&"inRange"===w.filterParams.filterOptions[0])&&this.eFloatingFilterInput.setDisabled(!0);var P=this.columnModel.getDisplayNameForColumn(r.column,"header",!0),x=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterInput.setInputAriaLabel(P+" "+x("ariaFilterInput","Filter Input"))},i.prototype.syncUpWithParentFilter=function(r){var o=this;if(!this.applyActive||r.key===Ie.ENTER){var d=this.eFloatingFilterInput.getValue();this.params.filterParams.trimInput&&(d=Ep.trimInput(d),this.eFloatingFilterInput.setValue(d,!0)),this.params.parentFilterInstance(function(m){m&&m.onFloatingFilterChanged(o.getLastType()||null,d||null)})}},i.prototype.conditionToString=function(r,o){return r.type==Lr.IN_RANGE||2===(o||{}).numberOfInputs?r.filter+"-"+r.filterTo:null!=r.filter?""+r.filter:""+r.type},i.prototype.setEditable=function(r){this.eFloatingFilterInput.setDisabled(!r)},Op([K("columnModel")],i.prototype,"columnModel",void 0),Op([Ne("eFloatingFilterInput")],i.prototype,"eFloatingFilterInput",void 0),Op([We],i.prototype,"postConstruct",null),i}(km),Xu=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qu=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Xu(i,h),i.prototype.getDefaultFilterOptions=function(){return hs.DEFAULT_FILTER_OPTIONS},i}(fs),XE=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bg=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return XE(i,h),i.prototype.getDefaultFilterOptions=function(){return Ep.DEFAULT_FILTER_OPTIONS},i}(fs),Ui=function(){function h(i,r){var o=this;void 0===r&&(r=!1),this.destroyFuncs=[],this.touching=!1,this.eventService=new Ja,this.eElement=i,this.preventMouseClick=r;var u=this.onTouchStart.bind(this),d=this.onTouchMove.bind(this),m=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",u,{passive:!0}),this.eElement.addEventListener("touchmove",d,{passive:!0}),this.eElement.addEventListener("touchend",m,{passive:!1}),this.destroyFuncs.push(function(){o.eElement.removeEventListener("touchstart",u,{passive:!0}),o.eElement.removeEventListener("touchmove",d,{passive:!0}),o.eElement.removeEventListener("touchend",m,{passive:!1})})}return h.prototype.getActiveTouch=function(i){for(var r=0;r<i.length;r++)if(i[r].identifier===this.touchStart.identifier)return i[r];return null},h.prototype.addEventListener=function(i,r){this.eventService.addEventListener(i,r)},h.prototype.removeEventListener=function(i,r){this.eventService.removeEventListener(i,r)},h.prototype.onTouchStart=function(i){var r=this;if(!this.touching){this.touchStart=i.touches[0],this.touching=!0,this.moved=!1;var o=this.touchStart;window.setTimeout(function(){r.touching&&r.touchStart===o&&!r.moved&&(r.moved=!0,r.eventService.dispatchEvent({type:h.EVENT_LONG_TAP,touchStart:r.touchStart,touchEvent:i}))},500)}},h.prototype.onTouchMove=function(i){if(this.touching){var r=this.getActiveTouch(i.touches);r&&!_i(r,this.touchStart,4)&&(this.moved=!0)}},h.prototype.onTouchEnd=function(i){this.touching&&(this.moved||(this.eventService.dispatchEvent({type:h.EVENT_TAP,touchStart:this.touchStart}),this.checkForDoubleTap()),this.preventMouseClick&&i.preventDefault(),this.touching=!1)},h.prototype.checkForDoubleTap=function(){var i=(new Date).getTime();this.lastTapTime&&this.lastTapTime>0&&i-this.lastTapTime>h.DOUBLE_TAP_MILLIS?(this.eventService.dispatchEvent({type:h.EVENT_DOUBLE_TAP,touchStart:this.touchStart}),this.lastTapTime=null):this.lastTapTime=i},h.prototype.destroy=function(){this.destroyFuncs.forEach(function(i){return i()})},h.EVENT_TAP="tap",h.EVENT_DOUBLE_TAP="doubleTap",h.EVENT_LONG_TAP="longTap",h.DOUBLE_TAP_MILLIS=500,h}(),Hm=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ko=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Jl=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.lastMovingChanged=0,r}return Hm(i,h),i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.refresh=function(r){return this.params=r,this.workOutTemplate()==this.currentTemplate&&this.workOutShowMenu()==this.currentShowMenu&&this.workOutSort()==this.currentSort&&(this.setDisplayName(r),!0)},i.prototype.workOutTemplate=function(){var r=da(this.params.template,i.TEMPLATE);return r&&r.trim?r.trim():r},i.prototype.init=function(r){this.params=r,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate),this.setupTap(),this.setupIcons(r.column),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setDisplayName(r)},i.prototype.setDisplayName=function(r){if(this.currentDisplayName!=r.displayName){this.currentDisplayName=r.displayName;var o=co(this.currentDisplayName);this.eText&&(this.eText.innerHTML=o)}},i.prototype.setupIcons=function(r){this.addInIcon("sortAscending",this.eSortAsc,r),this.addInIcon("sortDescending",this.eSortDesc,r),this.addInIcon("sortUnSort",this.eSortNone,r),this.addInIcon("menu",this.eMenu,r),this.addInIcon("filter",this.eFilter,r)},i.prototype.addInIcon=function(r,o,u){if(null!=o){var d=Fr(r,this.gridOptionsWrapper,u);d&&o.appendChild(d)}},i.prototype.setupTap=function(){var r=this,o=this.gridOptionsWrapper;if(!o.isSuppressTouch()){var u=new Ui(this.getGui(),!0),d=o.isSuppressMenuHide(),m=d&&re(this.eMenu),w=m?new Ui(this.eMenu,!0):u;this.params.enableMenu&&this.addManagedListener(w,Ui[m?"EVENT_TAP":"EVENT_LONG_TAP"],function(k){o.getApi().showColumnMenuAfterMouseClick(r.params.column,k.touchStart)}),this.params.enableSorting&&this.addManagedListener(u,Ui.EVENT_TAP,function(k){d&&r.eMenu.contains(k.touchStart.target)||r.sortController.progressSort(r.params.column,!1,"uiColumnSorted")}),this.addDestroyFunc(function(){return u.destroy()}),m&&this.addDestroyFunc(function(){return w.destroy()})}},i.prototype.workOutShowMenu=function(){var r=!this.gridOptionsWrapper.isSuppressMenuHide(),o=dp()&&r;return this.params.enableMenu&&!o},i.prototype.setMenu=function(){var r=this;if(this.eMenu){if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu)return void hr(this.eMenu);var o=this.gridOptionsWrapper.isSuppressMenuHide();this.addManagedListener(this.eMenu,"click",function(){return r.showMenu(r.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",o)}},i.prototype.showMenu=function(r){r||(r=this.eMenu),this.menuFactory.showMenuAfterButtonClick(this.params.column,r,"columnMenu")},i.prototype.removeSortIcons=function(){hr(this.eSortAsc),hr(this.eSortDesc),hr(this.eSortNone),hr(this.eSortOrder)},i.prototype.workOutSort=function(){return this.params.enableSorting},i.prototype.setupSort=function(){var r=this;if(this.currentSort=this.params.enableSorting,this.currentSort){var o=this.gridOptionsWrapper.isMultiSortKeyCtrl();this.addManagedListener(this.params.column,kt.EVENT_MOVING_CHANGED,function(){r.lastMovingChanged=(new Date).getTime()}),this.eLabel&&this.addManagedListener(this.eLabel,"click",function(u){var d=r.params.column.isMoving(),m=(new Date).getTime();d||m-r.lastMovingChanged<50||r.params.progressSort(o?u.ctrlKey||u.metaKey:u.shiftKey)}),this.addManagedListener(this.params.column,kt.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.onSortChanged(),this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.setMultiSortOrder.bind(this)),this.setMultiSortOrder()}else this.removeSortIcons()},i.prototype.onSortChanged=function(){if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",this.params.column.isSortAscending()),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",this.params.column.isSortDescending()),this.addOrRemoveCssClass("ag-header-cell-sorted-none",this.params.column.isSortNone()),this.eSortAsc&&this.eSortAsc.classList.toggle("ag-hidden",!this.params.column.isSortAscending()),this.eSortDesc&&this.eSortDesc.classList.toggle("ag-hidden",!this.params.column.isSortDescending()),this.eSortNone){var r=!this.params.column.getColDef().unSortIcon&&!this.gridOptionsWrapper.isUnSortIcon();this.eSortNone.classList.toggle("ag-hidden",r||!this.params.column.isSortNone())}},i.prototype.setMultiSortOrder=function(){if(this.eSortOrder){var r=this.params.column,o=this.sortController.getColumnsWithSortingOrdered(),u=o.indexOf(r),d=o.length>1,m=r.isSorting()&&d;ar(this.eSortOrder,m),u>=0?this.eSortOrder.innerHTML=(u+1).toString():Ln(this.eSortOrder)}},i.prototype.setupFilterIcon=function(){!this.eFilter||(this.addManagedListener(this.params.column,kt.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.onFilterChanged())},i.prototype.onFilterChanged=function(){var r=this.params.column.isFilterActive();this.eFilter.classList.toggle("ag-hidden",!r)},i.TEMPLATE='<div class="ag-cell-label-container" role="presentation">\n            <span ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>\n            <div ref="eLabel" class="ag-header-cell-label" role="presentation">\n                <span ref="eText" class="ag-header-cell-text"></span>\n                <span ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>\n                <span ref="eSortOrder" class="ag-header-icon ag-header-label-icon ag-sort-order" aria-hidden="true"></span>\n                <span ref="eSortAsc" class="ag-header-icon ag-header-label-icon ag-sort-ascending-icon" aria-hidden="true"></span>\n                <span ref="eSortDesc" class="ag-header-icon ag-header-label-icon ag-sort-descending-icon" aria-hidden="true"></span>\n                <span ref="eSortNone" class="ag-header-icon ag-header-label-icon ag-sort-none-icon" aria-hidden="true"></span>\n            </div>\n        </div>',Ko([K("sortController")],i.prototype,"sortController",void 0),Ko([K("menuFactory")],i.prototype,"menuFactory",void 0),Ko([Ne("eFilter")],i.prototype,"eFilter",void 0),Ko([Ne("eSortAsc")],i.prototype,"eSortAsc",void 0),Ko([Ne("eSortDesc")],i.prototype,"eSortDesc",void 0),Ko([Ne("eSortNone")],i.prototype,"eSortNone",void 0),Ko([Ne("eSortOrder")],i.prototype,"eSortOrder",void 0),Ko([Ne("eMenu")],i.prototype,"eMenu",void 0),Ko([Ne("eLabel")],i.prototype,"eLabel",void 0),Ko([Ne("eText")],i.prototype,"eText",void 0),i}(Rt),Eg=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zu=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ju=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return Eg(i,h),i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.init=function(r){this.params=r,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()},i.prototype.checkWarnings=function(){this.params.template&&Wt(function(){return console.warn("AG Grid: A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")},"HeaderGroupComp.templateNotSupported")},i.prototype.setupExpandIcons=function(){var r=this;this.addInIcon("columnGroupOpened","agOpened"),this.addInIcon("columnGroupClosed","agClosed");var o=function(m){if(!ha(m)){var w=!r.params.columnGroup.isExpanded();r.columnModel.setColumnGroupOpened(r.params.columnGroup.getProvidedColumnGroup(),w,"uiColumnExpanded")}};this.addTouchAndClickListeners(this.eCloseIcon,o),this.addTouchAndClickListeners(this.eOpenIcon,o);var u=function(m){Gl(m)};this.addManagedListener(this.eCloseIcon,"dblclick",u),this.addManagedListener(this.eOpenIcon,"dblclick",u),this.addManagedListener(this.getGui(),"dblclick",o),this.updateIconVisibility();var d=this.params.columnGroup.getProvidedColumnGroup();this.addManagedListener(d,Or.EVENT_EXPANDED_CHANGED,this.updateIconVisibility.bind(this)),this.addManagedListener(d,Or.EVENT_EXPANDABLE_CHANGED,this.updateIconVisibility.bind(this))},i.prototype.addTouchAndClickListeners=function(r,o){var u=new Ui(r,!0);this.addManagedListener(u,Ui.EVENT_TAP,o),this.addDestroyFunc(function(){return u.destroy()}),this.addManagedListener(r,"click",o)},i.prototype.updateIconVisibility=function(){if(this.params.columnGroup.isExpandable()){var o=this.params.columnGroup.isExpanded();ar(this.eOpenIcon,o),ar(this.eCloseIcon,!o)}else ar(this.eOpenIcon,!1),ar(this.eCloseIcon,!1)},i.prototype.addInIcon=function(r,o){var u=Fr(r,this.gridOptionsWrapper,null);u&&this.getRefElement(o).appendChild(u)},i.prototype.addGroupExpandIcon=function(){if(!this.params.columnGroup.isExpandable())return ar(this.eOpenIcon,!1),void ar(this.eCloseIcon,!1)},i.prototype.setupLabel=function(){var r=this.params.displayName;if(re(r)){var o=co(r);this.getRefElement("agLabel").innerHTML=o}},i.TEMPLATE='<div class="ag-header-group-cell-label" ref="agContainer" role="presentation">\n            <span ref="agLabel" class="ag-header-group-text" role="presentation"></span>\n            <span ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>\n            <span ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>\n        </div>',Zu([K("columnModel")],i.prototype,"columnModel",void 0),Zu([Ne("agOpened")],i.prototype,"eOpenIcon",void 0),Zu([Ne("agClosed")],i.prototype,"eCloseIcon",void 0),i}(Rt),Dh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),al=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Dh(i,h),i.prototype.isPopup=function(){return!0},i.prototype.setParentComponent=function(r){r.addCssClass("ag-has-popup"),h.prototype.setParentComponent.call(this,r)},i.prototype.destroy=function(){var r=this.parentComponent;r&&r.isAlive()&&r.getGui().classList.remove("ag-has-popup"),h.prototype.destroy.call(this)},i}(Rt),Wm=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Og=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return Wm(i,h),i.prototype.init=function(r){this.params=r,this.focusAfterAttached=r.cellStartedEdit,this.eTextArea.setMaxLength(r.maxLength||200).setCols(r.cols||60).setRows(r.rows||10),re(r.value)&&this.eTextArea.setValue(r.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this))},i.prototype.onKeyDown=function(r){var o=r.key;(o===Ie.LEFT||o===Ie.UP||o===Ie.RIGHT||o===Ie.DOWN||r.shiftKey&&o===Ie.ENTER)&&r.stopPropagation()},i.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()},i.prototype.getValue=function(){return this.params.parseValue(this.eTextArea.getValue())},i.TEMPLATE='<div class="ag-large-text" tabindex="0">\n            <ag-input-text-area ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>\n        </div>',function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([Ne("eTextArea")],i.prototype,"eTextArea",void 0),i}(al),Um=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zm=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ph=function(h){function i(){var r=h.call(this,'<div class="ag-cell-edit-wrapper"><ag-select class="ag-cell-editor" ref="eSelect"></ag-select></div>')||this;return r.startedByEnter=!1,r}return Um(i,h),i.prototype.init=function(r){var o=this;if(this.focusAfterAttached=r.cellStartedEdit,b(r.values))console.warn("AG Grid: no values found for select cellEditor");else{this.startedByEnter=null!=r.eventKey&&r.eventKey===Ie.ENTER;var u=!1;r.values.forEach(function(d){var m={value:d},w=o.valueFormatterService.formatValue(r.column,null,null,d);m.text=null!=w?w:d,o.eSelect.addOption(m),u=u||r.value===d}),u?this.eSelect.setValue(r.value,!0):r.values.length&&this.eSelect.setValue(r.values[0],!0),this.gridOptionsWrapper.isFullRowEdit()||this.eSelect.onValueChange(function(){return r.stopEditing()})}},i.prototype.afterGuiAttached=function(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&this.eSelect.showPicker()},i.prototype.focusIn=function(){this.eSelect.getFocusableElement().focus()},i.prototype.getValue=function(){return this.eSelect.getValue()},i.prototype.isPopup=function(){return!1},zm([K("valueFormatterService")],i.prototype,"valueFormatterService",void 0),zm([Ne("eSelect")],i.prototype,"eSelect",void 0),i}(al),eu=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tu=function(h){function i(){var r=h.call(this)||this;return Wt(function(){return console.warn('AG Grid: The PopupSelectCellEditor (agPopupSelectCellEditor) is deprecated. Instead use {cellEditor: "agSelectCellEditor", cellEditorPopup: true} ')},"PopupSelectCellEditor.deprecated"),r}return eu(i,h),i.prototype.isPopup=function(){return!0},i}(Ph),Rg=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ec=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return Rg(i,h),i.prototype.init=function(r){this.params=r;var u,o=this.eInput;r.cellStartedEdit?(this.focusAfterAttached=!0,r.eventKey===Ie.BACKSPACE||r.eventKey===Ie.DELETE?u="":r.charPress?u=r.charPress:(u=this.getStartValue(r),r.eventKey!==Ie.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,u=this.getStartValue(r)),null!=u&&o.setValue(u,!0),this.addManagedListener(o.getGui(),"keydown",function(d){var m=d.key;(m===Ie.PAGE_UP||m===Ie.PAGE_DOWN)&&d.preventDefault()})},i.prototype.afterGuiAttached=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(r("ariaInputEditor","Input Editor")),this.focusAfterAttached){Gi()||o.getFocusableElement().focus();var u=o.getInputElement();if(this.highlightAllOnFocus)u.select();else{var d=o.getValue(),m=re(d)&&d.length||0;m&&u.setSelectionRange(m,m)}}},i.prototype.focusIn=function(){var r=this.eInput,o=r.getFocusableElement(),u=r.getInputElement();o.focus(),u.select()},i.prototype.getValue=function(){return this.params.parseValue(this.eInput.getValue())},i.prototype.getStartValue=function(r){return r.useFormatter||r.column.getColDef().refData?r.formatValue(r.value):r.value},i.prototype.isPopup=function(){return!1},i.TEMPLATE='<div class="ag-cell-edit-wrapper"><ag-input-text-field class="ag-cell-editor" ref="eInput"></ag-input-text-field></div>',function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([Ne("eInput")],i.prototype,"eInput",void 0),i}(al),tc=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sl=function(h){function i(){var r=h.call(this)||this;return Wt(function(){return console.warn('AG Grid: The PopupTextCellEditor (agPopupTextCellEditor) is deprecated. Instead use {cellEditor: "agTextCellEditor", cellEditorPopup: true} ')},"PopupTextCellEditor.deprecated"),r}return tc(i,h),i.prototype.isPopup=function(){return!0},i}(ec),Pg=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ru=function(h){function i(){var r=h.call(this,i.TEMPLATE)||this;return r.refreshCount=0,r}return Pg(i,h),i.prototype.init=function(r){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(r)},i.prototype.showDelta=function(r,o){var u=Math.abs(o),d=r.formatValue(u),m=re(d)?d:u,w=o>=0;this.eDelta.innerHTML=w?"\u2191"+m:"\u2193"+m,this.eDelta.classList.toggle("ag-value-change-delta-up",w),this.eDelta.classList.toggle("ag-value-change-delta-down",!w)},i.prototype.setTimerToRemoveDelta=function(){var r=this;this.refreshCount++;var o=this.refreshCount;window.setTimeout(function(){o===r.refreshCount&&r.hideDeltaValue()},2e3)},i.prototype.hideDeltaValue=function(){this.eValue.classList.remove("ag-value-change-value-highlight"),Ln(this.eDelta)},i.prototype.refresh=function(r){var o=r.value;return o!==this.lastValue&&(re(r.valueFormatted)?this.eValue.innerHTML=r.valueFormatted:re(r.value)?this.eValue.innerHTML=o:Ln(this.eValue),!this.filterManager.isSuppressFlashingCellsBecauseFiltering())&&("number"==typeof o&&"number"==typeof this.lastValue&&this.showDelta(r,o-this.lastValue),this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),this.setTimerToRemoveDelta(),this.lastValue=o,!0)},i.TEMPLATE='<span><span class="ag-value-change-delta"></span><span class="ag-value-change-value"></span></span>',function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([K("filterManager")],i.prototype,"filterManager",void 0),i}(Rt),Th=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gs=function(h){function i(){var r=h.call(this,i.TEMPLATE)||this;return r.refreshCount=0,r.eCurrent=r.queryForHtmlElement(".ag-value-slide-current"),r}return Th(i,h),i.prototype.init=function(r){this.refresh(r)},i.prototype.addSlideAnimation=function(){var r=this;this.refreshCount++;var o=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious),this.ePrevious=wr('<span class="ag-value-slide-previous ag-value-slide-out"></span>'),this.ePrevious.innerHTML=this.eCurrent.innerHTML,this.getGui().insertBefore(this.ePrevious,this.eCurrent),window.setTimeout(function(){o===r.refreshCount&&r.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(function(){o===r.refreshCount&&(r.getGui().removeChild(r.ePrevious),r.ePrevious=null)},3e3)},i.prototype.refresh=function(r){var o=r.value;return b(o)&&(o=""),o!==this.lastValue&&!this.filterManager.isSuppressFlashingCellsBecauseFiltering()&&(this.addSlideAnimation(),this.lastValue=o,re(r.valueFormatted)?this.eCurrent.innerHTML=r.valueFormatted:re(r.value)?this.eCurrent.innerHTML=o:Ln(this.eCurrent),!0)},i.TEMPLATE='<span>\n            <span class="ag-value-slide-current"></span>\n        </span>',function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([K("filterManager")],i.prototype,"filterManager",void 0),i}(Rt);!function(h){h[h.Above=0]="Above",h[h.Below=1]="Below"}(W.RowHighlightPosition||(W.RowHighlightPosition={}));var _t=function(){function h(i){this.rowIndex=null,this.key=null,this.childrenMapped={},this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=h.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.selected=!1,this.beans=i}return h.prototype.setData=function(i){this.setDataCommon(i,!1)},h.prototype.updateData=function(i){this.setDataCommon(i,!0)},h.prototype.setDataCommon=function(i,r){var o=this.data;this.data=i,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable();var u=this.createDataChangedEvent(i,o,r);this.dispatchLocalEvent(u)},h.prototype.updateDataOnDetailNode=function(){this.detailNode&&(this.detailNode.data=this.data)},h.prototype.createDataChangedEvent=function(i,r,o){return{type:h.EVENT_DATA_CHANGED,node:this,oldData:r,newData:i,update:o}},h.prototype.createLocalRowEvent=function(i){return{type:i,node:this}},h.prototype.getRowIndexString=function(){return this.rowPinned===ge.PINNED_TOP?"t-"+this.rowIndex:this.rowPinned===ge.PINNED_BOTTOM?"b-"+this.rowIndex:this.rowIndex.toString()},h.prototype.createDaemonNode=function(){var i=new h(this.beans);return i.id=this.id,i.data=this.data,i.daemon=!0,i.selected=this.selected,i.level=this.level,i},h.prototype.setDataAndId=function(i,r){var o=re(this.id)?this.createDaemonNode():null,u=this.data;this.data=i,this.updateDataOnDetailNode(),this.setId(r),this.beans.selectionService.syncInRowNode(this,o),this.checkRowSelectable();var d=this.createDataChangedEvent(i,u,!1);this.dispatchLocalEvent(d)},h.prototype.checkRowSelectable=function(){var i=this.beans.gridOptionsWrapper.getIsRowSelectableFunc();this.setRowSelectable(!i||i(this))},h.prototype.setRowSelectable=function(i){this.selectable!==i&&(this.selectable=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_SELECTABLE_CHANGED)))},h.prototype.setId=function(i){var r=this.beans.gridOptionsWrapper.getRowIdFunc();if(r)if(this.data){var o=this.getGroupKeys(!0);this.id=r({data:this.data,parentKeys:o.length>0?o:void 0,level:this.level}),null!==this.id&&"string"==typeof this.id&&this.id.startsWith(h.ID_PREFIX_ROW_GROUP)&&console.error("AG Grid: Row IDs cannot start with "+h.ID_PREFIX_ROW_GROUP+", this is a reserved prefix for AG Grid's row grouping feature."),null!==this.id&&"string"!=typeof this.id&&(this.id=""+this.id)}else this.id=void 0;else this.id=i},h.prototype.getGroupKeys=function(i){void 0===i&&(i=!1);var r=[],o=this;for(i&&(o=o.parent);o&&o.level>=0;)r.push(o.key),o=o.parent;return r.reverse(),r},h.prototype.isPixelInRange=function(i){return!(!re(this.rowTop)||!re(this.rowHeight))&&i>=this.rowTop&&i<this.rowTop+this.rowHeight},h.prototype.setFirstChild=function(i){this.firstChild!==i&&(this.firstChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_FIRST_CHILD_CHANGED)))},h.prototype.setLastChild=function(i){this.lastChild!==i&&(this.lastChild=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_LAST_CHILD_CHANGED)))},h.prototype.setChildIndex=function(i){this.childIndex!==i&&(this.childIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_CHILD_INDEX_CHANGED)))},h.prototype.setRowTop=function(i){this.oldRowTop=this.rowTop,this.rowTop!==i&&(this.rowTop=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_TOP_CHANGED)),this.setDisplayed(null!==i))},h.prototype.clearRowTopAndRowIndex=function(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)},h.prototype.setDisplayed=function(i){this.displayed!==i&&(this.displayed=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_DISPLAYED_CHANGED)))},h.prototype.setDragging=function(i){this.dragging!==i&&(this.dragging=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_DRAGGING_CHANGED)))},h.prototype.setHighlighted=function(i){i!==this.highlighted&&(this.highlighted=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_HIGHLIGHT_CHANGED)))},h.prototype.setAllChildrenCount=function(i){this.allChildrenCount!==i&&(this.allChildrenCount=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_ALL_CHILDREN_COUNT_CHANGED)))},h.prototype.setMaster=function(i){this.master!==i&&(this.master&&!i&&(this.expanded=!1),this.master=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_MASTER_CHANGED)))},h.prototype.setGroup=function(i){this.group!==i&&(this.group&&!i&&(this.expanded=!1),this.group=i,this.updateHasChildren(),this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_GROUP_CHANGED)))},h.prototype.setRowHeight=function(i,r){void 0===r&&(r=!1),this.rowHeight=i,this.rowHeightEstimated=r,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_HEIGHT_CHANGED))},h.prototype.setRowAutoHeight=function(i,r){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[r.getId()]=i,null!=i&&(null==this.checkAutoHeightsDebounced&&(this.checkAutoHeightsDebounced=pa(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())},h.prototype.checkAutoHeights=function(){var i=!1,r=!0,o=0,u=this.__autoHeights;if(null!=u&&(this.beans.columnModel.getAllDisplayedAutoHeightCols().forEach(function(w){var P=u[w.getId()];null!=P?(r=!1,P>o&&(o=P)):i=!0}),!i&&((r||o<10)&&(o=this.beans.gridOptionsWrapper.getRowHeightForNode(this).height),o!=this.rowHeight))){this.setRowHeight(o);var m=this.beans.rowModel;m.onRowHeightChanged&&m.onRowHeightChanged()}},h.prototype.setRowIndex=function(i){this.rowIndex!==i&&(this.rowIndex=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_ROW_INDEX_CHANGED)))},h.prototype.setUiLevel=function(i){this.uiLevel!==i&&(this.uiLevel=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_UI_LEVEL_CHANGED)))},h.prototype.setExpanded=function(i){if(this.expanded!==i){this.expanded=i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_EXPANDED_CHANGED));var r=Object.assign({},this.createGlobalRowEvent(ne.EVENT_ROW_GROUP_OPENED),{expanded:i});this.beans.rowNodeEventThrottle.dispatchExpanded(r),this.beans.gridOptionsWrapper.isGroupIncludeFooter()&&this.beans.rowRenderer.refreshCells({rowNodes:[this]})}},h.prototype.createGlobalRowEvent=function(i){return{type:i,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi()}},h.prototype.dispatchLocalEvent=function(i){this.eventService&&this.eventService.dispatchEvent(i)},h.prototype.setDataValue=function(i,r,o){var u=this.beans.columnModel.getPrimaryColumn(i),d=this.beans.valueService.getValue(u,this),m=this.beans.valueService.setValue(this,u,r,o);return this.dispatchCellChangedEvent(u,r,d),m},h.prototype.setGroupValue=function(i,r){var o=this.beans.columnModel.getGridColumn(i);b(this.groupData)&&(this.groupData={});var u=o.getColId(),d=this.groupData[u];d!==r&&(this.groupData[u]=r,this.dispatchCellChangedEvent(o,r,d))},h.prototype.setAggData=function(i){var r=this,o=Xd([this.aggData,i]),u=this.aggData;this.aggData=i,this.eventService&&o.forEach(function(d){var m=r.beans.columnModel.getGridColumn(d);r.dispatchCellChangedEvent(m,r.aggData?r.aggData[d]:void 0,u?u[d]:void 0)})},h.prototype.updateHasChildren=function(){var i=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;i!==this.__hasChildren&&(this.__hasChildren=!!i,this.eventService&&this.eventService.dispatchEvent(this.createLocalRowEvent(h.EVENT_HAS_CHILDREN_CHANGED)))},h.prototype.hasChildren=function(){return null==this.__hasChildren&&this.updateHasChildren(),this.__hasChildren},h.prototype.isEmptyRowGroupNode=function(){return this.group&&zn(this.childrenAfterGroup)},h.prototype.dispatchCellChangedEvent=function(i,r,o){this.dispatchLocalEvent({type:h.EVENT_CELL_CHANGED,node:this,column:i,newValue:r,oldValue:o})},h.prototype.resetQuickFilterAggregateText=function(){this.quickFilterAggregateText=null},h.prototype.isExpandable=function(){return!!(this.hasChildren()&&!this.footer||this.master)},h.prototype.isSelected=function(){return this.footer?this.sibling.isSelected():this.selected},h.prototype.depthFirstSearch=function(i){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(function(r){return r.depthFirstSearch(i)}),i(this)},h.prototype.calculateSelectedFromChildren=function(){var i=!1,r=!1,o=!1;if(this.childrenAfterGroup)for(var d=0;d<this.childrenAfterGroup.length;d++){var m=this.childrenAfterGroup[d];if(m.selectable)switch(m.isSelected()){case!0:i=!0;break;case!1:r=!0;break;default:o=!0}}this.selectThisNode(o?void 0:!(!i||r)||!(!i&&r)&&void 0)},h.prototype.setSelectedInitialValue=function(i){this.selected=i},h.prototype.setSelected=function(i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1),this.setSelectedParams({newValue:i,clearSelection:r,suppressFinishActions:o,rangeSelect:!1})},h.prototype.isRowPinned=function(){return this.rowPinned===ge.PINNED_TOP||this.rowPinned===ge.PINNED_BOTTOM},h.prototype.setSelectedParams=function(i){var r=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),o=!0===i.newValue,u=!0===i.clearSelection,d=!0===i.suppressFinishActions,m=!0===i.rangeSelect,w=r&&!0===i.groupSelectsFiltered;if(void 0===this.id)return console.warn("AG Grid: cannot select node until id for node is known"),0;if(this.rowPinned)return console.warn("AG Grid: cannot select pinned rows"),0;if(this.footer)return this.sibling.setSelectedParams(i);if(m&&this.beans.selectionService.getLastSelectedNode()){var P=this.beans.selectionService.getLastSelectedNode()!==this,x=this.beans.gridOptionsWrapper.isRowSelectionMulti();if(P&&x){var N=this.doRowRangeSelection(i.newValue);return this.beans.selectionService.setLastSelectedNode(this),N}}var k=0;return w&&this.group||this.selectThisNode(o)&&k++,r&&this.group&&(k+=this.selectChildNodes(o,w)),d||(o&&(u||!this.beans.gridOptionsWrapper.isRowSelectionMulti())&&(k+=this.beans.selectionService.clearOtherNodes(this)),k>0&&(this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi})),o&&this.beans.selectionService.setLastSelectedNode(this)),k},h.prototype.doRowRangeSelection=function(i){var r=this;void 0===i&&(i=!0);var o=this.beans.gridOptionsWrapper.isGroupSelectsChildren(),u=this.beans.selectionService.getLastSelectedNode(),d=this.beans.rowModel.getNodesInRangeForSelection(this,u),m=0;return d.forEach(function(P){P.group&&o||!1===i&&r===P||P.selectThisNode(i)&&m++}),this.beans.selectionService.updateGroupsFromChildrenSelections(),this.beans.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.beans.gridApi,columnApi:this.beans.columnApi}),m},h.prototype.isParentOfNode=function(i){for(var r=this.parent;r;){if(r===i)return!0;r=r.parent}return!1},h.prototype.selectThisNode=function(i){if(!this.selectable&&i||this.selected===i)return!1;this.selected=i,this.eventService&&this.dispatchLocalEvent(this.createLocalRowEvent(h.EVENT_ROW_SELECTED));var u=this.createGlobalRowEvent(ne.EVENT_ROW_SELECTED);return this.beans.eventService.dispatchEvent(u),!0},h.prototype.selectChildNodes=function(i,r){var o=r?this.childrenAfterAggFilter:this.childrenAfterGroup;if(b(o))return 0;for(var u=0,d=0;d<o.length;d++)u+=o[d].setSelectedParams({newValue:i,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:r});return u},h.prototype.addEventListener=function(i,r){this.eventService||(this.eventService=new Ja),this.eventService.addEventListener(i,r)},h.prototype.removeEventListener=function(i,r){!this.eventService||(this.eventService.removeEventListener(i,r),this.eventService.noRegisteredListenersExist()&&(this.eventService=null))},h.prototype.onMouseEnter=function(){this.dispatchLocalEvent(this.createLocalRowEvent(h.EVENT_MOUSE_ENTER))},h.prototype.onMouseLeave=function(){this.dispatchLocalEvent(this.createLocalRowEvent(h.EVENT_MOUSE_LEAVE))},h.prototype.getFirstChildOfFirstChild=function(i){for(var r=this,o=!0,u=!1,d=null;o&&!u;){var m=r.parent;re(m)&&r.firstChild?m.rowGroupColumn===i&&(u=!0,d=m):o=!1,r=m}return u?d:null},h.prototype.isFullWidthCell=function(){var i=this.beans.gridOptionsWrapper.getIsFullWidthCellFunc();return!!i&&i({rowNode:this})},h.prototype.getRoute=function(){if(null!=this.key){for(var i=[],r=this;null!=r.key;)i.push(r.key),r=r.parent;return i.reverse()}},h.ID_PREFIX_ROW_GROUP="row-group-",h.ID_PREFIX_TOP_PINNED="t-",h.ID_PREFIX_BOTTOM_PINNED="b-",h.OBJECT_ID_SEQUENCE=0,h.EVENT_ROW_SELECTED="rowSelected",h.EVENT_DATA_CHANGED="dataChanged",h.EVENT_CELL_CHANGED="cellChanged",h.EVENT_ALL_CHILDREN_COUNT_CHANGED="allChildrenCountChanged",h.EVENT_MASTER_CHANGED="masterChanged",h.EVENT_GROUP_CHANGED="groupChanged",h.EVENT_MOUSE_ENTER="mouseEnter",h.EVENT_MOUSE_LEAVE="mouseLeave",h.EVENT_HEIGHT_CHANGED="heightChanged",h.EVENT_TOP_CHANGED="topChanged",h.EVENT_DISPLAYED_CHANGED="displayedChanged",h.EVENT_FIRST_CHILD_CHANGED="firstChildChanged",h.EVENT_LAST_CHILD_CHANGED="lastChildChanged",h.EVENT_CHILD_INDEX_CHANGED="childIndexChanged",h.EVENT_ROW_INDEX_CHANGED="rowIndexChanged",h.EVENT_EXPANDED_CHANGED="expandedChanged",h.EVENT_HAS_CHILDREN_CHANGED="hasChildrenChanged",h.EVENT_SELECTABLE_CHANGED="selectableChanged",h.EVENT_UI_LEVEL_CHANGED="uiLevelChanged",h.EVENT_HIGHLIGHT_CHANGED="rowHighlightChanged",h.EVENT_DRAGGING_CHANGED="draggingChanged",h}(),sS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),St=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Dp=function(h){function i(){return h.call(this,'\n            <div class="ag-selection-checkbox" role="presentation">\n                <ag-checkbox role="presentation" ref="eCheckbox"></ag-checkbox>\n            </div>')||this}return sS(i,h),i.prototype.postConstruct=function(){this.eCheckbox.setPassive(!0)},i.prototype.getCheckboxId=function(){return this.eCheckbox.getInputElement().id},i.prototype.onDataChanged=function(){this.onSelectionChanged()},i.prototype.onSelectableChanged=function(){this.showOrHideSelect()},i.prototype.onSelectionChanged=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=this.rowNode.isSelected(),u=void 0===o?r("ariaIndeterminate","indeterminate"):!0===o?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),d=r("ariaRowToggleSelection","Press Space to toggle row selection");this.eCheckbox.setValue(o,!0),this.eCheckbox.setInputAriaLabel(d+" ("+u+")")},i.prototype.onCheckedClicked=function(r){var o=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:o})},i.prototype.onUncheckedClicked=function(r){var o=this.gridOptionsWrapper.isGroupSelectsFiltered();return this.rowNode.setSelectedParams({newValue:!0,rangeSelect:r.shiftKey,groupSelectsFiltered:o})},i.prototype.init=function(r){var o=this;if(this.rowNode=r.rowNode,this.column=r.column,this.onSelectionChanged(),this.addGuiEventListener("click",function(w){return Gl(w)}),this.addGuiEventListener("dblclick",function(w){return Gl(w)}),this.addManagedListener(this.eCheckbox.getInputElement(),"click",function(w){var P=o.eCheckbox.getValue();void 0===o.eCheckbox.getPreviousValue()||void 0===P?0===o.onUncheckedClicked(w||{})&&o.onCheckedClicked(w):P?o.onCheckedClicked(w):o.onUncheckedClicked(w||{})}),this.addManagedListener(this.rowNode,_t.EVENT_ROW_SELECTED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_DATA_CHANGED,this.onDataChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_SELECTABLE_CHANGED,this.onSelectableChanged.bind(this)),this.gridOptionsWrapper.getIsRowSelectableFunc()||this.checkboxCallbackExists()){var m=this.showOrHideSelect.bind(this);this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,m),this.addManagedListener(this.rowNode,_t.EVENT_DATA_CHANGED,m),this.addManagedListener(this.rowNode,_t.EVENT_CELL_CHANGED,m),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")},i.prototype.showOrHideSelect=function(){var r=this.rowNode.selectable;r&&this.checkboxCallbackExists()&&(r=this.column.isCellCheckboxSelection(this.rowNode)),this.setVisible(r)},i.prototype.checkboxCallbackExists=function(){var r=this.column?this.column.getColDef():null;return!!r&&"function"==typeof r.checkboxSelection},St([Ne("eCheckbox")],i.prototype,"eCheckbox",void 0),St([We],i.prototype,"postConstruct",null),i}(Rt),lS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nu=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ag=function(h){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&h[i],o=0;if(r)return r.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(h){h[h.ToolPanel=0]="ToolPanel",h[h.HeaderCell=1]="HeaderCell",h[h.RowDrag=2]="RowDrag",h[h.ChartPanel=3]="ChartPanel"})(W.DragSourceType||(W.DragSourceType={})),function(h){h[h.Up=0]="Up",h[h.Down=1]="Down"}(W.VerticalDirection||(W.VerticalDirection={})),function(h){h[h.Left=0]="Left",h[h.Right=1]="Right"}(W.HorizontalDirection||(W.HorizontalDirection={}));var kr=function(h){function i(){var o=null!==h&&h.apply(this,arguments)||this;return o.dragSourceAndParamsList=[],o.dropTargets=[],o}var r;return lS(i,h),r=i,i.prototype.init=function(){this.ePinnedIcon=fo("columnMovePin",this.gridOptionsWrapper,null),this.eHideIcon=fo("columnMoveHide",this.gridOptionsWrapper,null),this.eMoveIcon=fo("columnMoveMove",this.gridOptionsWrapper,null),this.eLeftIcon=fo("columnMoveLeft",this.gridOptionsWrapper,null),this.eRightIcon=fo("columnMoveRight",this.gridOptionsWrapper,null),this.eGroupIcon=fo("columnMoveGroup",this.gridOptionsWrapper,null),this.eAggregateIcon=fo("columnMoveValue",this.gridOptionsWrapper,null),this.ePivotIcon=fo("columnMovePivot",this.gridOptionsWrapper,null),this.eDropNotAllowedIcon=fo("dropNotAllowed",this.gridOptionsWrapper,null)},i.prototype.addDragSource=function(o,u){void 0===u&&(u=!1);var d={eElement:o.eElement,dragStartPixels:o.dragStartPixels,onDragStart:this.onDragStart.bind(this,o),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this)};this.dragSourceAndParamsList.push({params:d,dragSource:o}),this.dragService.addDragSource(d,u)},i.prototype.removeDragSource=function(o){var u=this.dragSourceAndParamsList.find(function(d){return d.dragSource===o});u&&(this.dragService.removeDragSource(u.params),on(this.dragSourceAndParamsList,u))},i.prototype.clearDragSourceParamsList=function(){var o=this;this.dragSourceAndParamsList.forEach(function(u){return o.dragService.removeDragSource(u.params)}),this.dragSourceAndParamsList.length=0},i.prototype.nudge=function(){this.dragging&&this.onDragging(this.eventLastTime,!0)},i.prototype.onDragStart=function(o,u){this.dragging=!0,this.dragSource=o,this.eventLastTime=u,this.dragItem=this.dragSource.getDragItem(),this.lastDropTarget=this.dragSource.dragSourceDropTarget,this.dragSource.onDragStarted&&this.dragSource.onDragStarted(),this.createGhost()},i.prototype.onDragStop=function(o){if(this.eventLastTime=null,this.dragging=!1,this.dragSource.onDragStopped&&this.dragSource.onDragStopped(),this.lastDropTarget&&this.lastDropTarget.onDragStop){var u=this.createDropTargetEvent(this.lastDropTarget,o,null,null,!1);this.lastDropTarget.onDragStop(u)}this.lastDropTarget=null,this.dragItem=null,this.removeGhost()},i.prototype.onDragging=function(o,u){var d=this,m=this.getHorizontalDirection(o),w=this.getVerticalDirection(o);this.eventLastTime=o,this.positionGhost(o);var P=this.dropTargets.filter(function(q){return d.isMouseOnDropTarget(o,q)}),x=P.length,N=null;if(x>0&&(N=1===x?P[0]:P.reduce(function(q,ee){if(!q)return ee;var le=q.getContainer(),de=ee.getContainer();return le.contains(de)?ee:q})),N!==this.lastDropTarget)this.leaveLastTargetIfExists(o,m,w,u),this.enterDragTargetIfExists(N,o,m,w,u),this.lastDropTarget=N;else if(N&&N.onDragging){var k=this.createDropTargetEvent(N,o,m,w,u);N.onDragging(k)}},i.prototype.enterDragTargetIfExists=function(o,u,d,m,w){if(o){if(o.onDragEnter){var P=this.createDropTargetEvent(o,u,d,m,w);o.onDragEnter(P)}this.setGhostIcon(o.getIconName?o.getIconName():null)}},i.prototype.leaveLastTargetIfExists=function(o,u,d,m){if(this.lastDropTarget){if(this.lastDropTarget.onDragLeave){var w=this.createDropTargetEvent(this.lastDropTarget,o,u,d,m);this.lastDropTarget.onDragLeave(w)}this.setGhostIcon(null)}},i.prototype.getAllContainersFromDropTarget=function(o){var u=o.getSecondaryContainers?o.getSecondaryContainers():null,d=[[o.getContainer()]];return u?d.concat(u):d},i.prototype.allContainersIntersect=function(o,u){var d,m;try{for(var w=Ag(u),P=w.next();!P.done;P=w.next()){var N=P.value.getBoundingClientRect();if(0===N.width||0===N.height)return!1;if(!(o.clientX>=N.left&&o.clientX<N.right&&o.clientY>=N.top&&o.clientY<N.bottom))return!1}}catch(ee){d={error:ee}}finally{try{P&&!P.done&&(m=w.return)&&m.call(w)}finally{if(d)throw d.error}}return!0},i.prototype.isMouseOnDropTarget=function(o,u){var d,m,w=this.getAllContainersFromDropTarget(u),P=!1;try{for(var x=Ag(w),N=x.next();!N.done;N=x.next())if(this.allContainersIntersect(o,N.value)){P=!0;break}}catch(q){d={error:q}}finally{try{N&&!N.done&&(m=x.return)&&m.call(x)}finally{if(d)throw d.error}}return!(u.targetContainsSource&&!u.getContainer().contains(this.dragSource.eElement))&&P&&u.isInterestedIn(this.dragSource.type,this.dragSource.eElement)},i.prototype.addDropTarget=function(o){this.dropTargets.push(o)},i.prototype.removeDropTarget=function(o){this.dropTargets=this.dropTargets.filter(function(u){return u.getContainer()!==o.getContainer()})},i.prototype.hasExternalDropZones=function(){return this.dropTargets.some(function(o){return o.external})},i.prototype.findExternalZone=function(o){return this.dropTargets.filter(function(d){return d.external}).find(function(d){return d.getContainer()===o.getContainer()})||null},i.prototype.getHorizontalDirection=function(o){var u=this.eventLastTime&&this.eventLastTime.clientX,d=o.clientX;return u===d?null:u>d?W.HorizontalDirection.Left:W.HorizontalDirection.Right},i.prototype.getVerticalDirection=function(o){var u=this.eventLastTime&&this.eventLastTime.clientY,d=o.clientY;return u===d?null:u>d?W.VerticalDirection.Up:W.VerticalDirection.Down},i.prototype.createDropTargetEvent=function(o,u,d,m,w){var P=o.getContainer(),x=P.getBoundingClientRect(),N=this;return{event:u,x:u.clientX-x.left,y:u.clientY-x.top,vDirection:m,hDirection:d,dragSource:N.dragSource,fromNudge:w,dragItem:N.dragItem,api:N.gridApi,columnApi:N.columnApi,dropZoneTarget:P}},i.prototype.positionGhost=function(o){var u=this.eGhost;if(u){var m=u.getBoundingClientRect().height,w=j_()-2,P=Em()-2,x=o.pageY-m/2,N=o.pageX-10,k=this.gridOptionsWrapper.getDocument(),q=k.defaultView||window,ee=q.pageYOffset||k.documentElement.scrollTop,le=q.pageXOffset||k.documentElement.scrollLeft;w>0&&N+u.clientWidth>w+le&&(N=w+le-u.clientWidth),N<0&&(N=0),P>0&&x+u.clientHeight>P+ee&&(x=P+ee-u.clientHeight),x<0&&(x=0),u.style.left=N+"px",u.style.top=x+"px"}},i.prototype.removeGhost=function(){this.eGhost&&this.eGhostParent&&this.eGhostParent.removeChild(this.eGhost),this.eGhost=null},i.prototype.createGhost=function(){this.eGhost=wr(r.GHOST_TEMPLATE);var o=this.environment.getTheme().theme;o&&this.eGhost.classList.add(o),this.eGhostIcon=this.eGhost.querySelector(".ag-dnd-ghost-icon"),this.setGhostIcon(null);var u=this.eGhost.querySelector(".ag-dnd-ghost-label"),d=this.dragSource.dragItemName;eh(d)&&(d=d()),u.innerHTML=co(d)||"",this.eGhost.style.height="25px",this.eGhost.style.top="20px",this.eGhost.style.left="20px";var m=this.gridOptionsWrapper.getDocument(),w=null;try{w=m.fullscreenElement}catch(P){}finally{w||(w=m.querySelector("body"))}this.eGhostParent=w,this.eGhostParent?this.eGhostParent.appendChild(this.eGhost):console.warn("AG Grid: could not find document body, it is needed for dragging columns")},i.prototype.setGhostIcon=function(o,u){void 0===u&&(u=!1),Ln(this.eGhostIcon);var d=null;switch(o||(o=this.dragSource.defaultIconName||r.ICON_NOT_ALLOWED),o){case r.ICON_PINNED:d=this.ePinnedIcon;break;case r.ICON_MOVE:d=this.eMoveIcon;break;case r.ICON_LEFT:d=this.eLeftIcon;break;case r.ICON_RIGHT:d=this.eRightIcon;break;case r.ICON_GROUP:d=this.eGroupIcon;break;case r.ICON_AGGREGATE:d=this.eAggregateIcon;break;case r.ICON_PIVOT:d=this.ePivotIcon;break;case r.ICON_NOT_ALLOWED:d=this.eDropNotAllowedIcon;break;case r.ICON_HIDE:d=this.eHideIcon}this.eGhostIcon.classList.toggle("ag-shake-left-to-right",u),(d!==this.eHideIcon||!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns())&&d&&this.eGhostIcon.appendChild(d)},i.ICON_PINNED="pinned",i.ICON_MOVE="move",i.ICON_LEFT="left",i.ICON_RIGHT="right",i.ICON_GROUP="group",i.ICON_AGGREGATE="aggregate",i.ICON_PIVOT="pivot",i.ICON_NOT_ALLOWED="notAllowed",i.ICON_HIDE="hide",i.GHOST_TEMPLATE='<div class="ag-dnd-ghost ag-unselectable">\n            <span class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>\n            <div class="ag-dnd-ghost-label"></div>\n        </div>',nu([K("dragService")],i.prototype,"dragService",void 0),nu([K("environment")],i.prototype,"environment",void 0),nu([K("columnApi")],i.prototype,"columnApi",void 0),nu([K("gridApi")],i.prototype,"gridApi",void 0),nu([We],i.prototype,"init",null),nu([_n],i.prototype,"clearDragSourceParamsList",null),r=nu([qe("dragAndDropService")],i)}(Ge),Co=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ea=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},bi=function(h){function i(r,o,u,d,m,w){var P=h.call(this)||this;return P.cellValueFn=r,P.rowNode=o,P.column=u,P.customGui=d,P.dragStartPixels=m,P.suppressVisibilityChange=w,P.dragSource=null,P}return Co(i,h),i.prototype.isCustomGui=function(){return null!=this.customGui},i.prototype.postConstruct=function(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(Fr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){var r=this.beans.gridOptionsWrapper.isRowDragManaged()?new Pp(this,this.beans,this.rowNode,this.column):new Jr(this,this.beans,this.rowNode,this.column);this.createManagedBean(r,this.beans.context)}},i.prototype.setDragElement=function(r,o){this.setTemplateFromElement(r),this.addDragSource(o)},i.prototype.getSelectedCount=function(){if(!this.beans.gridOptionsWrapper.isRowDragMultiRow())return 1;var o=this.beans.selectionService.getSelectedNodes();return-1!==o.indexOf(this.rowNode)?o.length:1},i.prototype.checkCompatibility=function(){var r=this.beans.gridOptionsWrapper.isRowDragManaged();this.beans.gridOptionsWrapper.isTreeData()&&r&&Wt(function(){return console.warn("AG Grid: If using row drag with tree data, you cannot have rowDragManaged=true")},"RowDragComp.managedAndTreeData")},i.prototype.addDragSource=function(r){var o=this;void 0===r&&(r=4),this.dragSource&&this.removeDragSource();var u={rowNode:this.rowNode,columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()},d=this.column&&this.column.getColDef().rowDragText,m=this.gridOptionsWrapper.getLocaleTextFunc();this.dragSource={type:W.DragSourceType.RowDrag,eElement:this.getGui(),dragItemName:function(){var w=o.getSelectedCount();return d?d(u,w):1===w?o.cellValueFn():w+" "+m("rowDragRows","rows")},getDragItem:function(){return u},dragStartPixels:r,dragSourceDomDataKey:this.beans.gridOptionsWrapper.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)},i.prototype.removeDragSource=function(){this.dragSource&&this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null},Ea([K("beans")],i.prototype,"beans",void 0),Ea([We],i.prototype,"postConstruct",null),Ea([_n],i.prototype,"removeDragSource",null),i}(Rt),xg=function(h){function i(r,o,u){var d=h.call(this)||this;return d.parent=r,d.rowNode=o,d.column=u,d}return Co(i,h),i.prototype.setDisplayedOrVisible=function(r){if(r)this.parent.setDisplayed(!1);else{var o=!0,u=!1;this.column&&(o=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),u=eh(this.column.getColDef().rowDrag)),u?(this.parent.setDisplayed(!0),this.parent.setVisible(o)):(this.parent.setDisplayed(o),this.parent.setVisible(!0))}},i}(Ge),Jr=function(h){function i(r,o,u,d){var m=h.call(this,r,u,d)||this;return m.beans=o,m}return Co(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var r=this.beans.gridOptionsWrapper.isSuppressRowDrag();this.setDisplayedOrVisible(r)},Ea([We],i.prototype,"postConstruct",null),i}(xg),Pp=function(h){function i(r,o,u,d){var m=h.call(this,r,u,d)||this;return m.beans=o,m}return Co(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.beans.eventService,ne.EVENT_SORT_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_FILTER_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_DATA_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_CELL_CHANGED,this.workOutVisibility.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()},i.prototype.onSuppressRowDrag=function(){this.workOutVisibility()},i.prototype.workOutVisibility=function(){var o=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),u=o&&o.shouldPreventRowMove(),d=this.beans.gridOptionsWrapper.isSuppressRowDrag(),m=this.beans.dragAndDropService.hasExternalDropZones();this.setDisplayedOrVisible(u&&!m||d)},Ea([We],i.prototype,"postConstruct",null),i}(xg),Tp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mg=function(){return Mg=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Mg.apply(this,arguments)},Ap=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},zi=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tp(i,h),i.prototype.init=function(r,o,u,d,m,w,P){this.params=P,this.eGui=o,this.eCheckbox=u,this.eExpanded=d,this.eContracted=m,this.comp=r,this.compClass=w;var x=this.isTopLevelFooter(),N=this.isEmbeddedRowMismatch(),k=null==P.value,q=!1;if(this.gridOptionsWrapper.isGroupIncludeFooter()&&this.gridOptionsWrapper.isGroupHideOpenParents()){var ee=P.node;ee.footer&&(q=(P.colDef&&P.colDef.showRowGroup)!==(ee.rowGroupColumn&&ee.rowGroupColumn.getColId()))}this.cellIsBlank=!x&&(N||k||q),!this.cellIsBlank&&(this.setupShowingValueForOpenedParent(),this.findDisplayedGroupNode(),this.addFullWidthRowDraggerIfNeeded(),this.addExpandAndContract(),this.addCheckboxIfNeeded(),this.addValueElement(),this.setupIndent())},i.prototype.isTopLevelFooter=function(){if(!this.gridOptionsWrapper.isGroupIncludeTotalFooter()||null!=this.params.value||-1!=this.params.node.level)return!1;var r=this.params.colDef;if(null==r||!0===r.showRowGroup)return!0;var u=this.columnModel.getRowGroupColumns();return!u||0===u.length||u[0].getId()===r.showRowGroup},i.prototype.isEmbeddedRowMismatch=function(){if(!this.params.fullWidth||!this.gridOptionsWrapper.isEmbedFullWidthRows())return!1;var r=this.params.pinned===ge.PINNED_LEFT,o=this.params.pinned===ge.PINNED_RIGHT,u=!r&&!o;return this.gridOptionsWrapper.isEnableRtl()?this.columnModel.isPinningLeft()?!o:!u:this.columnModel.isPinningLeft()?!r:!u},i.prototype.findDisplayedGroupNode=function(){var r=this.params.column,o=this.params.node;if(this.showingValueForOpenedParent)for(var u=o.parent;null!=u;){if(u.rowGroupColumn&&r.isRowGroupDisplayed(u.rowGroupColumn.getId())){this.displayedGroupNode=u;break}u=u.parent}b(this.displayedGroupNode)&&(this.displayedGroupNode=o)},i.prototype.setupShowingValueForOpenedParent=function(){var r=this.params.node,o=this.params.column;if(this.gridOptionsWrapper.isGroupHideOpenParents())if(r.groupData){if(null!=r.rowGroupColumn){var d=r.rowGroupColumn.getId();if(o.isRowGroupDisplayed(d))return void(this.showingValueForOpenedParent=!1)}var w=null!=r.groupData[o.getId()];this.showingValueForOpenedParent=w}else this.showingValueForOpenedParent=!1;else this.showingValueForOpenedParent=!1},i.prototype.addValueElement=function(){this.displayedGroupNode.footer?this.addFooterValue():(this.addGroupValue(),this.addChildCount())},i.prototype.addGroupValue=function(){var r=this.adjustParamsWithDetailsFromRelatedColumn(),o=this.getInnerCompDetails(r),u=r.valueFormatted;this.comp.setInnerRenderer(o,null!=u?u:r.value)},i.prototype.adjustParamsWithDetailsFromRelatedColumn=function(){var r=this.displayedGroupNode.rowGroupColumn,o=this.params.column;if(!r)return this.params;if(null!=o&&!o.isRowGroupDisplayed(r.getId()))return this.params;var m=this.params,w=this.params,N=this.valueFormatterService.formatValue(r,w.node,w.value);return Mg(Mg({},m),{valueFormatted:N})},i.prototype.addFooterValue=function(){var r=this.params.footerValueGetter,o="";if(r){var u=Ll(this.params);u.value=this.params.value,"function"==typeof r?o=r(u):"string"==typeof r?o=this.expressionService.evaluate(r,u):console.warn("AG Grid: footerValueGetter should be either a function or a string (expression)")}else o="Total "+(null!=this.params.value?this.params.value:"");var d=this.getInnerCompDetails(this.params);this.comp.setInnerRenderer(d,o)},i.prototype.getInnerCompDetails=function(r){var o=this;if(r.fullWidth)return this.userComponentFactory.getFullWidthGroupRowInnerCellRenderer(this.gridOptions.groupRowRendererParams,r);var u=this.userComponentFactory.getInnerRendererDetails(r,r),d=function(N){return N&&N.componentClass==o.compClass};if(u&&!d(u))return u;var m=this.displayedGroupNode.rowGroupColumn,w=m?m.getColDef():void 0;if(w){var P=this.userComponentFactory.getCellRendererDetails(w,r);if(P&&!d(P))return P;if(d(P)&&w.cellRendererParams&&w.cellRendererParams.innerRenderer)return this.userComponentFactory.getInnerRendererDetails(w.cellRendererParams,r)}},i.prototype.addChildCount=function(){this.params.suppressCount||(this.addManagedListener(this.displayedGroupNode,_t.EVENT_ALL_CHILDREN_COUNT_CHANGED,this.updateChildCount.bind(this)),this.updateChildCount())},i.prototype.updateChildCount=function(){var r=this.displayedGroupNode.allChildrenCount,o=this.isShowRowGroupForThisRow();this.comp.setChildCount(o&&null!=r&&r>=0?"("+r+")":"")},i.prototype.isShowRowGroupForThisRow=function(){if(this.gridOptionsWrapper.isTreeData())return!0;var r=this.displayedGroupNode.rowGroupColumn;if(!r)return!1;var o=this.params.column;return null==o||o.isRowGroupDisplayed(r.getId())},i.prototype.addExpandAndContract=function(){var r=this.params,o=Fr("groupExpanded",this.gridOptionsWrapper,null),u=Fr("groupContracted",this.gridOptionsWrapper,null);o&&this.eExpanded.appendChild(o),u&&this.eContracted.appendChild(u);var d=r.eGridCell;!this.gridOptionsWrapper.isEnableGroupEdit()&&this.isExpandable()&&!r.suppressDoubleClickExpand&&this.addManagedListener(d,"dblclick",this.onCellDblClicked.bind(this)),this.addManagedListener(this.eExpanded,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eContracted,"click",this.onExpandClicked.bind(this)),this.addManagedListener(d,"keydown",this.onKeyDown.bind(this)),this.addManagedListener(r.node,_t.EVENT_EXPANDED_CHANGED,this.showExpandAndContractIcons.bind(this)),this.showExpandAndContractIcons();var m=this.onRowNodeIsExpandableChanged.bind(this);this.addManagedListener(this.displayedGroupNode,_t.EVENT_ALL_CHILDREN_COUNT_CHANGED,m),this.addManagedListener(this.displayedGroupNode,_t.EVENT_MASTER_CHANGED,m),this.addManagedListener(this.displayedGroupNode,_t.EVENT_GROUP_CHANGED,m),this.addManagedListener(this.displayedGroupNode,_t.EVENT_HAS_CHILDREN_CHANGED,m)},i.prototype.onExpandClicked=function(r){ha(r)||(Gl(r),this.onExpandOrContract())},i.prototype.onExpandOrContract=function(){var r=this.displayedGroupNode;r.setExpanded(!r.expanded)},i.prototype.isExpandable=function(){if(this.showingValueForOpenedParent)return!0;var r=this.displayedGroupNode,o=this.columnModel.isPivotMode()&&r.leafGroup;if(!r.isExpandable()||r.footer||o)return!1;var d=this.params.column;return null==d||"string"!=typeof d.getColDef().showRowGroup||this.isShowRowGroupForThisRow()},i.prototype.showExpandAndContractIcons=function(){var r=this,u=r.displayedGroupNode,d=r.columnModel,m=r.params.node,w=this.isExpandable();if(w){var P=!!this.showingValueForOpenedParent||m.expanded;this.comp.setExpandedDisplayed(P),this.comp.setContractedDisplayed(!P)}else this.comp.setExpandedDisplayed(!1),this.comp.setContractedDisplayed(!1);var x=d.isPivotMode(),N=x&&u.leafGroup,k=w&&!N,q=m.footer&&-1===m.level;this.comp.addOrRemoveCssClass("ag-cell-expandable",k),this.comp.addOrRemoveCssClass("ag-row-group",k),x?this.comp.addOrRemoveCssClass("ag-pivot-leaf-group",N):q||this.comp.addOrRemoveCssClass("ag-row-group-leaf-indent",!k)},i.prototype.onRowNodeIsExpandableChanged=function(){this.showExpandAndContractIcons(),this.setIndent()},i.prototype.setupIndent=function(){this.params.suppressPadding||(this.addManagedListener(this.params.node,_t.EVENT_UI_LEVEL_CHANGED,this.setIndent.bind(this)),this.setIndent())},i.prototype.setIndent=function(){if(!this.gridOptionsWrapper.isGroupHideOpenParents()){var r=this.params,o=r.node,u=!!r.colDef,d=this.gridOptionsWrapper.isTreeData(),w=!u||d||!0===r.colDef.showRowGroup?o.uiLevel:0;r.padding>=0&&Wt(function(){return console.warn("AG Grid: cellRendererParams.padding no longer works, it was deprecated in since v14.2 and removed in v26, configuring padding for groupCellRenderer should be done with Sass variables and themes. Please see the AG Grid documentation page for Themes, in particular the property $row-group-indent-size.")},"groupCellRenderer->doDeprecatedWay"),this.indentClass&&this.comp.addOrRemoveCssClass(this.indentClass,!1),this.indentClass="ag-row-group-indent-"+w,this.comp.addOrRemoveCssClass(this.indentClass,!0)}},i.prototype.addFullWidthRowDraggerIfNeeded=function(){var r=this;if(this.params.fullWidth&&this.params.rowDrag){var o=new bi(function(){return r.params.value},this.params.node);this.createManagedBean(o,this.context),this.eGui.insertAdjacentElement("afterbegin",o.getGui())}},i.prototype.isUserWantsSelected=function(){var r=this.params.checkbox;return"function"==typeof r?r(this.params):!0===r},i.prototype.addCheckboxIfNeeded=function(){var r=this,o=this.displayedGroupNode,u=this.isUserWantsSelected()&&!o.footer&&!o.rowPinned&&!o.detail;if(u){var d=new Dp;this.getContext().createBean(d),d.init({rowNode:o,column:this.params.column}),this.eCheckbox.appendChild(d.getGui()),this.addDestroyFunc(function(){return r.getContext().destroyBean(d)})}this.comp.setCheckboxVisible(u)},i.prototype.onKeyDown=function(r){r.key!==Ie.ENTER||this.params.suppressEnterExpand||this.params.column&&this.params.column.isCellEditable(this.params.node)||this.onExpandOrContract()},i.prototype.onCellDblClicked=function(r){ha(r)||oh(this.eExpanded,r)||oh(this.eContracted,r)||this.onExpandOrContract()},Ap([K("expressionService")],i.prototype,"expressionService",void 0),Ap([K("valueFormatterService")],i.prototype,"valueFormatterService",void 0),Ap([K("columnModel")],i.prototype,"columnModel",void 0),Ap([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Ap([K("gridOptions")],i.prototype,"gridOptions",void 0),i}(Ge),Oa=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ic=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},oc=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return Oa(i,h),i.prototype.init=function(r){var o=this,u={setInnerRenderer:function(P,x){return o.setRenderDetails(P,x)},setChildCount:function(P){return o.eChildCount.innerHTML=P},addOrRemoveCssClass:function(P,x){return o.addOrRemoveCssClass(P,x)},setContractedDisplayed:function(P){return ar(o.eContracted,P)},setExpandedDisplayed:function(P){return ar(o.eExpanded,P)},setCheckboxVisible:function(P){return o.eCheckbox.classList.toggle("ag-invisible",!P)}},d=this.createManagedBean(new zi),m=!r.colDef,w=this.getGui();d.init(u,w,this.eCheckbox,this.eExpanded,this.eContracted,this.constructor,r),m&&On(w,"gridcell")},i.prototype.setRenderDetails=function(r,o){var u=this;if(r){var d=r.newAgStackInstance();if(!d)return;d.then(function(m){if(m){var w=function(){return u.context.destroyBean(m)};u.isAlive()?(u.eValue.appendChild(m.getGui()),u.addDestroyFunc(w)):w()}})}else this.eValue.innerText=o},i.prototype.destroy=function(){this.getContext().destroyBean(this.innerCellRenderer),h.prototype.destroy.call(this)},i.prototype.refresh=function(){return!1},i.TEMPLATE='<span class="ag-cell-wrapper">\n            <span class="ag-group-expanded" ref="eExpanded"></span>\n            <span class="ag-group-contracted" ref="eContracted"></span>\n            <span class="ag-group-checkbox ag-invisible" ref="eCheckbox"></span>\n            <span class="ag-group-value" ref="eValue"></span>\n            <span class="ag-group-child-count" ref="eChildCount"></span>\n        </span>',ic([Ne("eExpanded")],i.prototype,"eExpanded",void 0),ic([Ne("eContracted")],i.prototype,"eContracted",void 0),ic([Ne("eCheckbox")],i.prototype,"eCheckbox",void 0),ic([Ne("eValue")],i.prototype,"eValue",void 0),ic([Ne("eChildCount")],i.prototype,"eChildCount",void 0),i}(Rt),xp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fg=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},uS=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return xp(i,h),i.prototype.init=function(r){r.node.failedLoad?this.setupFailed():this.setupLoading()},i.prototype.setupFailed=function(){this.eLoadingText.innerText="ERR"},i.prototype.setupLoading=function(){var r=Fr("groupLoading",this.gridOptionsWrapper,null);r&&this.eLoadingIcon.appendChild(r);var o=this.gridOptionsWrapper.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")},i.prototype.refresh=function(r){return!1},i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-loading">\n            <span class="ag-loading-icon" ref="eLoadingIcon"></span>\n            <span class="ag-loading-text" ref="eLoadingText"></span>\n        </div>',Fg([Ne("eLoadingIcon")],i.prototype,"eLoadingIcon",void 0),Fg([Ne("eLoadingText")],i.prototype,"eLoadingText",void 0),i}(Rt),cS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),QE=function(h){function i(){return h.call(this)||this}return cS(i,h),i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.init=function(r){var o=this.gridOptionsWrapper.getOverlayLoadingTemplate()?this.gridOptionsWrapper.getOverlayLoadingTemplate():i.DEFAULT_LOADING_OVERLAY_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),d=o.replace("[LOADING...]",u("loadingOoo","Loading..."));this.setTemplate(d)},i.DEFAULT_LOADING_OVERLAY_TEMPLATE='<span class="ag-overlay-loading-center">[LOADING...]</span>',i}(Rt),ZE=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$m=function(h){function i(){return h.call(this)||this}return ZE(i,h),i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.init=function(r){var o=this.gridOptionsWrapper.getOverlayNoRowsTemplate()?this.gridOptionsWrapper.getOverlayNoRowsTemplate():i.DEFAULT_NO_ROWS_TEMPLATE,u=this.gridOptionsWrapper.getLocaleTextFunc(),d=o.replace("[NO_ROWS_TO_SHOW]",u("noRowsToShow","No Rows To Show"));this.setTemplate(d)},i.DEFAULT_NO_ROWS_TEMPLATE='<span class="ag-overlay-no-rows-center">[NO_ROWS_TO_SHOW]</span>',i}(Rt),$i=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ig=function(h){function i(){return h.call(this,'<div class="ag-tooltip"></div>')||this}return $i(i,h),i.prototype.init=function(r){var o=r.value;this.getGui().innerHTML=co(o)},i}(al),ac=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ng=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Mp=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.agGridDefaults={agDateInput:Bm,agColumnHeader:Jl,agColumnGroupHeader:Ju,agTextColumnFloatingFilter:bg,agNumberColumnFloatingFilter:Qu,agDateColumnFloatingFilter:Oh,agReadOnlyFloatingFilter:Cg,agAnimateShowChangeCellRenderer:ru,agAnimateSlideCellRenderer:gs,agGroupCellRenderer:oc,agGroupRowRenderer:oc,agLoadingCellRenderer:uS,agCellEditor:ec,agTextCellEditor:ec,agSelectCellEditor:Ph,agPopupTextCellEditor:sl,agPopupSelectCellEditor:tu,agLargeTextCellEditor:Og,agTextColumnFilter:Ep,agNumberColumnFilter:hs,agDateColumnFilter:ba,agLoadingOverlay:QE,agNoRowsOverlay:$m,agTooltipComponent:Ig},r.agDeprecatedNames={set:{newComponentName:"agSetColumnFilter",propertyHolder:"filter"},text:{newComponentName:"agTextColumnFilter",propertyHolder:"filter"},number:{newComponentName:"agNumberColumnFilter",propertyHolder:"filter"},date:{newComponentName:"agDateColumnFilter",propertyHolder:"filter"},group:{newComponentName:"agGroupCellRenderer",propertyHolder:"cellRenderer"},animateShowChange:{newComponentName:"agAnimateShowChangeCellRenderer",propertyHolder:"cellRenderer"},animateSlide:{newComponentName:"agAnimateSlideCellRenderer",propertyHolder:"cellRenderer"},select:{newComponentName:"agSelectCellEditor",propertyHolder:"cellEditor"},largeText:{newComponentName:"agLargeTextCellEditor",propertyHolder:"cellEditor"},popupSelect:{newComponentName:"agPopupSelectCellEditor",propertyHolder:"cellEditor"},popupText:{newComponentName:"agPopupTextCellEditor",propertyHolder:"cellEditor"},richSelect:{newComponentName:"agRichSelectCellEditor",propertyHolder:"cellEditor"},headerComponent:{newComponentName:"agColumnHeader",propertyHolder:"headerComponent"}},r.jsComps={},r.fwComps={},r}return ac(i,h),i.prototype.init=function(){var r=this;null!=this.gridOptions.components&&qt(this.gridOptions.components,function(o,u){return r.registerJsComponent(o,u)}),null!=this.gridOptions.frameworkComponents&&qt(this.gridOptions.frameworkComponents,function(o,u){return r.registerFwComponent(o,u)})},i.prototype.registerDefaultComponent=function(r,o){var u=this.translateIfDeprecated(r);this.agGridDefaults[u]?console.error("Trying to overwrite a default component. You should call registerComponent"):this.agGridDefaults[u]=o},i.prototype.registerJsComponent=function(r,o){var u=this.translateIfDeprecated(r);this.fwComps[u]?console.error("Trying to register a component that you have already registered for frameworks: "+u):this.jsComps[u]=o},i.prototype.registerFwComponent=function(r,o){Wt(function(){return console.warn("AG Grid: As of v27, registering components via grid property frameworkComponents is deprecated. Instead register both JavaScript AND Framework Components via the components property.")},"UserComponentRegistry.frameworkComponentsDeprecated");var d=this.translateIfDeprecated(r);this.fwComps[d]=o},i.prototype.retrieve=function(r){var o=this.translateIfDeprecated(r),u=function(N,k){return{componentFromFramework:k,component:N}},d=this.getFrameworkOverrides().frameworkComponent(o);if(null!=d)return u(d,!0);var m=this.fwComps[o];if(m)return u(m,!0);var w=this.jsComps[o];if(w)return u(w,this.getFrameworkOverrides().isFrameworkComponent(w));var x=this.agGridDefaults[o];return x?u(x,!1):(Object.keys(this.agGridDefaults).indexOf(o)<0&&console.warn("AG Grid: Looking for component ["+o+"] but it wasn't found."),null)},i.prototype.translateIfDeprecated=function(r){var o=this.agDeprecatedNames[r];return null!=o?(Wt(function(){console.warn("ag-grid. Since v15.0 component names have been renamed to be namespaced. You should rename "+o.propertyHolder+":"+r+" to "+o.propertyHolder+":"+o.newComponentName)},"DEPRECATE_COMPONENT_"+r),o.newComponentName):r},Ng([K("gridOptions")],i.prototype,"gridOptions",void 0),Ng([K("agComponentUtils")],i.prototype,"agComponentUtils",void 0),Ng([We],i.prototype,"init",null),Ng([qe("userComponentRegistry")],i)}(Ge),iu={propertyName:"dateComponent",cellRenderer:!1},Km={propertyName:"headerComponent",cellRenderer:!1},Lg={propertyName:"headerGroupComponent",cellRenderer:!1},pS={propertyName:"cellRenderer",cellRenderer:!0},JE={propertyName:"cellEditor",cellRenderer:!1},Fp={propertyName:"innerRenderer",cellRenderer:!0},Ym={propertyName:"loadingOverlayComponent",cellRenderer:!1},Gg={propertyName:"noRowsOverlayComponent",cellRenderer:!1},eO={propertyName:"tooltipComponent",cellRenderer:!1},ou={propertyName:"filter",cellRenderer:!1},kg={propertyName:"floatingFilterComponent",cellRenderer:!1},Ah={propertyName:"toolPanel",cellRenderer:!1},dS={propertyName:"statusPanel",cellRenderer:!1},hS={propertyName:"fullWidthCellRenderer",cellRenderer:!0},fS={propertyName:"loadingCellRenderer",cellRenderer:!0},qm={propertyName:"groupRowRenderer",cellRenderer:!0},gS={propertyName:"detailCellRenderer",cellRenderer:!0},Ra=function(){function h(){}return h.getFloatingFilterType=function(i){return this.filterToFloatingFilterMapping[i]},h.filterToFloatingFilterMapping={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"},h}(),Xm=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ot=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Xm(i,h),i.prototype.getHeaderCompDetails=function(r,o){return this.getCompDetails(r,Km,"agColumnHeader",o)},i.prototype.getHeaderGroupCompDetails=function(r){var o=r.columnGroup.getColGroupDef();return this.getCompDetails(o,Lg,"agColumnGroupHeader",r)},i.prototype.getFullWidthCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,hS,null,r,!0)},i.prototype.getFullWidthLoadingCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,fS,"agLoadingCellRenderer",r,!0)},i.prototype.getFullWidthGroupCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,qm,"agGroupRowRenderer",r,!0)},i.prototype.getFullWidthDetailCellRendererDetails=function(r){return this.getCompDetails(this.gridOptions,gS,"agDetailCellRenderer",r,!0)},i.prototype.getInnerRendererDetails=function(r,o){return this.getCompDetails(r,Fp,null,o)},i.prototype.getFullWidthGroupRowInnerCellRenderer=function(r,o){return this.getCompDetails(r,Fp,null,o)},i.prototype.getCellRendererDetails=function(r,o){return this.getCompDetails(r,pS,null,o)},i.prototype.getCellEditorDetails=function(r,o){return this.getCompDetails(r,JE,"agCellEditor",o,!0)},i.prototype.getFilterDetails=function(r,o,u){return this.getCompDetails(r,ou,u,o,!0)},i.prototype.getDateCompDetails=function(r){return this.getCompDetails(this.gridOptions,iu,"agDateInput",r,!0)},i.prototype.getLoadingOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,Ym,"agLoadingOverlay",r,!0)},i.prototype.getNoRowsOverlayCompDetails=function(r){return this.getCompDetails(this.gridOptions,Gg,"agNoRowsOverlay",r,!0)},i.prototype.getTooltipCompDetails=function(r){return this.getCompDetails(r.colDef,eO,"agTooltipComponent",r,!0)},i.prototype.getSetFilterCellRendererDetails=function(r,o){return this.getCompDetails(r,pS,null,o)},i.prototype.getFloatingFilterCompDetails=function(r,o,u){return this.getCompDetails(r,kg,u,o)},i.prototype.getToolPanelCompDetails=function(r,o){return this.getCompDetails(r,Ah,null,o,!0)},i.prototype.getStatusPanelCompDetails=function(r,o){return this.getCompDetails(r,dS,null,o,!0)},i.prototype.getCompDetails=function(r,o,u,d,m){var w=this;void 0===m&&(m=!1);var P=o.propertyName,x=o.cellRenderer,N=this.getCompKeys(r,o,d),k=N.compName,q=N.jsComp,ee=N.fwComp,le=N.paramsFromSelector,de=N.popupFromSelector,ye=N.popupPositionFromSelector,xe=function(pt){var vt=w.userComponentRegistry.retrieve(pt);vt&&(q=vt.componentFromFramework?void 0:vt.component,ee=vt.componentFromFramework?vt.component:void 0)};if(null!=k&&xe(k),null==q&&null==ee&&null!=u&&xe(u),q&&x&&!this.agComponentUtils.doesImplementIComponent(q)&&(q=this.agComponentUtils.adaptFunction(P,q)),q||ee){var Oe=this.mergeParamsWithApplicationProvidedParams(r,o,d,le),Ee=null==q,$e=q||ee;return{componentFromFramework:Ee,componentClass:$e,params:Oe,type:o,popupFromSelector:de,popupPositionFromSelector:ye,newAgStackInstance:function(){return w.newAgStackInstance($e,Ee,Oe,o)}}}m&&console.error("Could not find component "+k+", did you forget to configure this component?")},i.prototype.getCompKeys=function(r,o,u){var w,P,x,N,k,q,d=this,m=o.propertyName;if(r){var ee=r,le=ee[m+"Selector"],de=le?le(u):null,ye=function(Oe,Ee){var $e=function(){var vt="AG Grid: As of v27, the property "+m+"Framework is deprecated. The property "+m+" can now be used for JavaScript AND Framework Components.";Wt(function(){return console.warn(vt)},"UserComponentFactory."+m+"FrameworkDeprecated")};"string"==typeof Oe?w=Oe:"string"==typeof Ee?($e(),w=Ee):null!=Oe&&!0!==Oe?d.getFrameworkOverrides().isFrameworkComponent(Oe)?x=Oe:P=Oe:null!=Ee&&($e(),x=Ee)};if(de){if(null!=de.frameworkComponent){var xe="AG Grid: As of v27, the return for "+m+"Selector has attributes [component, params] only. The attribute frameworkComponent is deprecated. You should now return back Framework Components using the 'component' attribute and the grid works out if it's a framework component or not.";Wt(function(){return console.warn(xe)},"UserComponentFactory."+m+"FrameworkSelectorDeprecated"),ye(de.frameworkComponent,void 0)}else ye(de.component,void 0);N=de.params,k=de.popup,q=de.popupPosition}else ye(ee[m],ee[m+"Framework"])}return{compName:w,jsComp:P,fwComp:x,paramsFromSelector:N,popupFromSelector:k,popupPositionFromSelector:q}},i.prototype.newAgStackInstance=function(r,o,u,d){var P;if(o){var x=this.componentMetadataProvider.retrieve(d.propertyName);P=this.frameworkComponentWrapper.wrap(r,x.mandatoryMethodList,x.optionalMethodList,d)}else P=new r;var N=this.initComponent(P,u);return null==N?nt.resolve(P):N.then(function(){return P})},i.prototype.mergeParamsWithApplicationProvidedParams=function(r,o,u,d){void 0===d&&(d=null);var m={context:this.gridOptionsWrapper.getContext(),columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};In(m,u);var P=r&&r[o.propertyName+"Params"];return"function"==typeof P?In(m,P(u)):"object"==typeof P&&In(m,P),In(m,d),m},i.prototype.initComponent=function(r,o){if(this.context.createBean(r),null!=r.init)return r.init(o)},i.prototype.getDefaultFloatingFilterType=function(r){if(null==r)return null;var o=null,u=this.getCompKeys(r,ou),d=u.compName,m=u.jsComp,w=u.fwComp;return d?o=Ra.getFloatingFilterType(d):null==m&&null==w&&!0===r.filter&&(o=yt.isRegistered(W.ModuleNames.SetFilterModule)?"agSetColumnFloatingFilter":"agTextColumnFloatingFilter"),o},sc([K("gridOptions")],i.prototype,"gridOptions",void 0),sc([K("agComponentUtils")],i.prototype,"agComponentUtils",void 0),sc([K("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),sc([K("userComponentRegistry")],i.prototype,"userComponentRegistry",void 0),sc([jt("frameworkComponentWrapper")],i.prototype,"frameworkComponentWrapper",void 0),sc([qe("userComponentFactory")],i)}(Ge);!function(h){h[h.SINGLE_SHEET=0]="SINGLE_SHEET",h[h.MULTI_SHEET=1]="MULTI_SHEET"}(W.ExcelFactoryMode||(W.ExcelFactoryMode={}));var Qm=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),au=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},xh=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.dragEndFunctions=[],r.dragSources=[],r}return Qm(i,h),i.prototype.init=function(){this.logger=this.loggerFactory.create("DragService")},i.prototype.removeAllListeners=function(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0},i.prototype.removeListener=function(r){var o=r.dragSource.eElement;o.removeEventListener("mousedown",r.mouseDownListener),r.touchEnabled&&o.removeEventListener("touchstart",r.touchStartListener,{passive:!0})},i.prototype.removeDragSource=function(r){var o=this.dragSources.find(function(u){return u.dragSource===r});!o||(this.removeListener(o),on(this.dragSources,o))},i.prototype.isDragging=function(){return this.dragging},i.prototype.addDragSource=function(r,o){var u=this;void 0===o&&(o=!1);var d=this.onMouseDown.bind(this,r);r.eElement.addEventListener("mousedown",d);var m=null,w=this.gridOptionsWrapper.isSuppressTouch();o&&!w&&r.eElement.addEventListener("touchstart",m=function(P){P.cancelable&&P.preventDefault(),u.onTouchStart(r,P)},{passive:!0}),this.dragSources.push({dragSource:r,mouseDownListener:d,touchStartListener:m,touchEnabled:o})},i.prototype.onTouchStart=function(r,o){var u=this;this.currentDragParams=r,this.dragging=!1;var d=o.touches[0];this.touchLastTime=d,this.touchStart=d;var w=function(k){return u.onTouchUp(k,r.eElement)},x=r.eElement,N=[{target:document,type:"touchmove",listener:function(k){k.cancelable&&k.preventDefault()},options:{passive:!1}},{target:x,type:"touchmove",listener:function(k){return u.onTouchMove(k,r.eElement)},options:{passive:!0}},{target:x,type:"touchend",listener:w,options:{passive:!0}},{target:x,type:"touchcancel",listener:w,options:{passive:!0}}];this.addTemporaryEvents(N),0===r.dragStartPixels&&this.onCommonMove(d,this.touchStart,r.eElement)},i.prototype.onMouseDown=function(r,o){var u=this,d=o;if(!(r.skipMouseEvent&&r.skipMouseEvent(o)||d._alreadyProcessedByDragService||(d._alreadyProcessedByDragService=!0,0!==o.button))){this.currentDragParams=r,this.dragging=!1,this.mouseStartEvent=o;var m=this.gridOptionsWrapper.getDocument();this.addTemporaryEvents([{target:m,type:"mousemove",listener:function(q){return u.onMouseMove(q,r.eElement)}},{target:m,type:"mouseup",listener:function(q){return u.onMouseUp(q,r.eElement)}},{target:m,type:"contextmenu",listener:function(q){return q.preventDefault()}}]),0===r.dragStartPixels&&this.onMouseMove(o,r.eElement)}},i.prototype.addTemporaryEvents=function(r){r.forEach(function(o){o.target.addEventListener(o.type,o.listener,o.options)}),this.dragEndFunctions.push(function(){r.forEach(function(o){o.target.removeEventListener(o.type,o.listener,o.options)})})},i.prototype.isEventNearStartEvent=function(r,o){var u=this.currentDragParams.dragStartPixels;return _i(r,o,re(u)?u:4)},i.prototype.getFirstActiveTouch=function(r){for(var o=0;o<r.length;o++)if(r[o].identifier===this.touchStart.identifier)return r[o];return null},i.prototype.onCommonMove=function(r,o,u){if(!this.dragging){if(!this.dragging&&this.isEventNearStartEvent(r,o))return;this.dragging=!0,this.eventService.dispatchEvent({type:ne.EVENT_DRAG_STARTED,api:this.gridApi,columnApi:this.columnApi,target:u}),this.currentDragParams.onDragStart(o),this.currentDragParams.onDragging(o)}this.currentDragParams.onDragging(r)},i.prototype.onTouchMove=function(r,o){var u=this.getFirstActiveTouch(r.touches);!u||this.onCommonMove(u,this.touchStart,o)},i.prototype.onMouseMove=function(r,o){Gi()&&"mousemove"===r.type&&r.cancelable&&this.mouseEventService.isEventFromThisGrid(r)&&!this.isOverFormFieldElement(r)&&r.preventDefault(),this.onCommonMove(r,this.mouseStartEvent,o)},i.prototype.isOverFormFieldElement=function(r){var o,u;return!!(null===(u=null===(o=r.target)||void 0===o?void 0:o.tagName.toLocaleLowerCase())||void 0===u?void 0:u.match("^a$|textarea|input|select|button"))},i.prototype.onTouchUp=function(r,o){var u=this.getFirstActiveTouch(r.changedTouches);u||(u=this.touchLastTime),this.onUpCommon(u,o)},i.prototype.onMouseUp=function(r,o){this.onUpCommon(r,o)},i.prototype.onUpCommon=function(r,o){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(r),this.eventService.dispatchEvent({type:ne.EVENT_DRAG_STOPPED,api:this.gridApi,columnApi:this.columnApi,target:o})),this.mouseStartEvent=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(function(d){return d()}),this.dragEndFunctions.length=0},au([K("loggerFactory")],i.prototype,"loggerFactory",void 0),au([K("columnApi")],i.prototype,"columnApi",void 0),au([K("gridApi")],i.prototype,"gridApi",void 0),au([K("mouseEventService")],i.prototype,"mouseEventService",void 0),au([We],i.prototype,"init",null),au([_n],i.prototype,"removeAllListeners",null),au([qe("dragService")],i)}(Ge),Ip=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Np=function(){return Np=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Np.apply(this,arguments)},Da=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Zm=function(h){function i(){var o=null!==h&&h.apply(this,arguments)||this;return o.allColumnFilters=new Map,o.activeAggregateFilters=[],o.activeColumnFilters=[],o.quickFilter=null,o.quickFilterParts=null,o.processingFilterChange=!1,o}var r;return Ip(i,h),r=i,i.prototype.init=function(){var o=this;this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,function(){return o.onColumnsChanged()}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VALUE_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return o.refreshFiltersForAggregations()}),this.quickFilter=this.parseQuickFilter(this.gridOptionsWrapper.getQuickFilterText()),this.setQuickFilterParts(),this.allowShowChangeAfterFilter=this.gridOptionsWrapper.isAllowShowChangeAfterFilter()},i.prototype.setQuickFilterParts=function(){this.quickFilterParts=this.quickFilter?this.quickFilter.split(" "):null},i.prototype.setFilterModel=function(o){var u=this,d=[],m=this.getFilterModel();if(o){var w=Yl(Object.keys(o));this.allColumnFilters.forEach(function(P,x){d.push(u.setModelOnFilterWrapper(P.filterPromise,o[x])),w.delete(x)}),w.forEach(function(P){var x=u.columnModel.getPrimaryColumn(P)||u.columnModel.getGridColumn(P);if(x)if(x.isFilterAllowed()){var N=u.getOrCreateFilterWrapper(x,"NO_UI");N?d.push(u.setModelOnFilterWrapper(N.filterPromise,o[P])):console.warn("AG-Grid: setFilterModel() - unable to fully apply model, unable to create filter for colId: "+P)}else console.warn("AG Grid: setFilterModel() - unable to fully apply model, filtering disabled for colId: "+P);else console.warn("AG Grid: setFilterModel() - no column found for colId: "+P)})}else this.allColumnFilters.forEach(function(P){d.push(u.setModelOnFilterWrapper(P.filterPromise,null))});nt.all(d).then(function(){var P=u.getFilterModel(),x=[];u.allColumnFilters.forEach(function(N,k){ft.jsonEquals(m?m[k]:null,P?P[k]:null)||x.push(N.column)}),x.length>0&&u.onFilterChanged({columns:x})})},i.prototype.setModelOnFilterWrapper=function(o,u){return new nt(function(d){o.then(function(m){"function"!=typeof m.setModel&&(console.warn("AG Grid: filter missing setModel method, which is needed for setFilterModel"),d()),(m.setModel(u)||nt.resolve()).then(function(){return d()})})})},i.prototype.getFilterModel=function(){var o={};return this.allColumnFilters.forEach(function(u,d){var w=u.filterPromise.resolveNow(null,function(x){return x});if(null==w)return null;if("function"==typeof w.getModel){var P=w.getModel();re(P)&&(o[d]=P)}else console.warn("AG Grid: filter API missing getModel method, which is needed for getFilterModel")}),o},i.prototype.isColumnFilterPresent=function(){return this.activeColumnFilters.length>0},i.prototype.isAggregateFilterPresent=function(){return!!this.activeAggregateFilters.length},i.prototype.doAggregateFiltersPass=function(o,u){return this.doColumnFiltersPass(o,u,!0)},i.prototype.updateActiveFilters=function(){var o=this;this.activeColumnFilters.length=0,this.activeAggregateFilters.length=0;var u=function(w){return!!w&&(w.isFilterActive?w.isFilterActive():(console.warn("AG Grid: Filter is missing isFilterActive() method"),!1))},d=!!this.gridOptionsWrapper.getGroupAggFiltering();this.allColumnFilters.forEach(function(w){if(w.filterPromise.resolveNow(!1,u)){var P=w.filterPromise.resolveNow(null,function(x){return x});!function(w){if(!w.isPrimary())return!0;var x=!o.columnModel.isPivotActive();return!(!w.isValueActive()||!x)&&(!!o.columnModel.isPivotMode()||d)}(w.column)?o.activeColumnFilters.push(P):o.activeAggregateFilters.push(P)}})},i.prototype.updateFilterFlagInColumns=function(o,u){this.allColumnFilters.forEach(function(d){var m=d.filterPromise.resolveNow(!1,function(w){return w.isFilterActive()});d.column.setFilterActive(m,o,u)})},i.prototype.isAnyFilterPresent=function(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent()},i.prototype.doColumnFiltersPass=function(o,u,d){for(var P=d?this.activeAggregateFilters:this.activeColumnFilters,x=d?o.aggData:o.data,N=0;N<P.length;N++){var k=P[N];if(null!=k&&k!==u){if("function"!=typeof k.doesFilterPass)throw new Error("Filter is missing method doesFilterPass");if(!k.doesFilterPass({node:o,data:x}))return!1}}return!0},i.prototype.parseQuickFilter=function(o){return re(o)?this.gridOptionsWrapper.isRowModelDefault()?o.toUpperCase():(console.warn("AG Grid - Quick filtering only works with the Client-Side Row Model"),null):null},i.prototype.setQuickFilter=function(o){if(null==o||"string"==typeof o){var u=this.parseQuickFilter(o);this.quickFilter!==u&&(this.quickFilter=u,this.setQuickFilterParts(),this.onFilterChanged())}else console.warn("AG Grid - setQuickFilter() only supports string inputs, received: "+typeof o)},i.prototype.refreshFiltersForAggregations=function(){this.gridOptionsWrapper.getGroupAggFiltering()&&this.onFilterChanged()},i.prototype.callOnFilterChangedOutsideRenderCycle=function(o){var u=this;void 0===o&&(o={});var d=function(){return u.onFilterChanged(o)};this.rowRenderer.isRefreshInProgress()?setTimeout(d,0):d()},i.prototype.onFilterChanged=function(o){void 0===o&&(o={});var u=o.filterInstance,d=o.additionalEventAttributes,m=o.columns;this.updateActiveFilters(),this.updateFilterFlagInColumns("filterChanged",d),this.allColumnFilters.forEach(function(P){!P.filterPromise||P.filterPromise.then(function(x){x&&x!==u&&x.onAnyFilterChanged&&x.onAnyFilterChanged()})});var w={type:ne.EVENT_FILTER_CHANGED,api:this.gridApi,columnApi:this.columnApi,columns:m||[]};d&&In(w,d),this.processingFilterChange=!0,this.eventService.dispatchEvent(w),this.processingFilterChange=!1},i.prototype.isSuppressFlashingCellsBecauseFiltering=function(){return!this.allowShowChangeAfterFilter&&this.processingFilterChange},i.prototype.isQuickFilterPresent=function(){return null!==this.quickFilter},i.prototype.doesRowPassOtherFilters=function(o,u){return this.doesRowPassFilter({rowNode:u,filterInstanceToSkip:o})},i.prototype.doesRowPassQuickFilterNoCache=function(o,u){var d=this;return this.columnModel.getAllColumnsForQuickFilter().some(function(w){var P=d.getQuickFilterTextForColumn(w,o);return re(P)&&P.indexOf(u)>=0})},i.prototype.doesRowPassQuickFilterCache=function(o,u){return o.quickFilterAggregateText||this.aggregateRowForQuickFilter(o),o.quickFilterAggregateText.indexOf(u)>=0},i.prototype.doesRowPassQuickFilter=function(o){var u=this,d=this.gridOptionsWrapper.isCacheQuickFilter();return this.quickFilterParts.every(function(m){return d?u.doesRowPassQuickFilterCache(o,m):u.doesRowPassQuickFilterNoCache(o,m)})},i.prototype.doesRowPassAggregateFilters=function(o){return!(this.isAggregateFilterPresent()&&!this.doAggregateFiltersPass(o.rowNode,o.filterInstanceToSkip))},i.prototype.doesRowPassFilter=function(o){return!(this.isQuickFilterPresent()&&!this.doesRowPassQuickFilter(o.rowNode)||this.gridOptionsWrapper.isExternalFilterPresent()&&!this.gridOptionsWrapper.doesExternalFilterPass(o.rowNode)||this.isColumnFilterPresent()&&!this.doColumnFiltersPass(o.rowNode,o.filterInstanceToSkip))},i.prototype.getQuickFilterTextForColumn=function(o,u){var d=this.valueService.getValue(o,u,!0),m=o.getColDef();if(m.getQuickFilterText){var w={value:d,node:u,data:u.data,column:o,colDef:m,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};d=m.getQuickFilterText(w)}return re(d)?d.toString().toUpperCase():null},i.prototype.aggregateRowForQuickFilter=function(o){var u=this,d=[];this.columnModel.getAllColumnsForQuickFilter().forEach(function(w){var P=u.getQuickFilterTextForColumn(w,o);re(P)&&d.push(P)}),o.quickFilterAggregateText=d.join(r.QUICK_FILTER_SEPARATOR)},i.prototype.onNewRowsLoaded=function(o){this.allColumnFilters.forEach(function(u){u.filterPromise.then(function(d){d.onNewRowsLoaded&&d.onNewRowsLoaded()})}),this.updateFilterFlagInColumns(o),this.updateActiveFilters()},i.prototype.createValueGetter=function(o){var u=this;return function(d){return u.valueService.getValue(o,d.node,!0)}},i.prototype.getFilterComponent=function(o,u,d){var m;if(void 0===d&&(d=!0),d)return(null===(m=this.getOrCreateFilterWrapper(o,u))||void 0===m?void 0:m.filterPromise)||null;var w=this.cachedFilter(o);return w?w.filterPromise:null},i.prototype.isFilterActive=function(o){var u=this.cachedFilter(o);return!!u&&u.filterPromise.resolveNow(!1,function(d){return d.isFilterActive()})},i.prototype.getOrCreateFilterWrapper=function(o,u){if(!o.isFilterAllowed())return null;var d=this.cachedFilter(o);return d?"NO_UI"!==u&&this.putIntoGui(d,u):(d=this.createFilterWrapper(o,u),this.allColumnFilters.set(o.getColId(),d)),d},i.prototype.cachedFilter=function(o){return this.allColumnFilters.get(o.getColId())},i.prototype.createFilterInstance=function(o){var w,u=this,d=yt.isRegistered(W.ModuleNames.SetFilterModule)?"agSetColumnFilter":"agTextColumnFilter",m=o.getColDef(),P=Np(Np({},this.createFilterParams(o,m)),{filterModifiedCallback:function(){u.eventService.dispatchEvent({type:ne.EVENT_FILTER_MODIFIED,api:u.gridApi,columnApi:u.columnApi,column:o,filterInstance:w})},filterChangedCallback:function(k){u.callOnFilterChangedOutsideRenderCycle({filterInstance:w,additionalEventAttributes:k,columns:[o]})},doesRowPassOtherFilter:function(k){return u.doesRowPassOtherFilters(w,k)}}),x=this.userComponentFactory.getFilterDetails(m,P,d);if(!x)return null;var N=x.newAgStackInstance();return N&&N.then(function(k){return w=k}),N},i.prototype.createFilterParams=function(o,u){return{api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),column:o,colDef:Ll(u),rowModel:this.rowModel,filterChangedCallback:function(){},filterModifiedCallback:function(){},valueGetter:this.createValueGetter(o),context:this.gridOptionsWrapper.getContext(),doesRowPassOtherFilter:function(){return!0}}},i.prototype.createFilterWrapper=function(o,u){var d={column:o,filterPromise:null,compiledElement:null,guiPromise:nt.resolve(null)};return d.filterPromise=this.createFilterInstance(o),d.filterPromise&&this.putIntoGui(d,u),d},i.prototype.putIntoGui=function(o,u){var d=this,m=document.createElement("div");m.className="ag-filter",o.guiPromise=new nt(function(w){o.filterPromise.then(function(P){var x=P.getGui();re(x)||console.warn("AG Grid: getGui method from filter returned "+x+", it should be a DOM element or an HTML template string."),"string"==typeof x&&(x=wr(x)),m.appendChild(x),w(m),d.eventService.dispatchEvent({type:ne.EVENT_FILTER_OPENED,column:o.column,source:u,eGui:m,api:d.gridApi,columnApi:d.columnApi})})})},i.prototype.onColumnsChanged=function(){var o=this,u=[];this.allColumnFilters.forEach(function(d,m){!(d.column.isPrimary()?o.columnModel.getPrimaryColumn(m):o.columnModel.getGridColumn(m))&&(u.push(d.column),o.disposeFilterWrapper(d,"filterDestroyed"))}),u.length>0&&this.onFilterChanged({columns:u})},i.prototype.destroyFilter=function(o,u){void 0===u&&(u="api");var d=this.allColumnFilters.get(o.getColId());d&&(this.disposeFilterWrapper(d,u),this.onFilterChanged({columns:[o]}))},i.prototype.disposeFilterWrapper=function(o,u){var d=this;o.filterPromise.then(function(m){(m.setModel(null)||nt.resolve()).then(function(){d.getContext().destroyBean(m),o.column.setFilterActive(!1,u),d.allColumnFilters.delete(o.column.getColId())})})},i.prototype.destroy=function(){var o=this;h.prototype.destroy.call(this),this.allColumnFilters.forEach(function(u){return o.disposeFilterWrapper(u,"filterDestroyed")})},i.QUICK_FILTER_SEPARATOR="\n",Da([K("valueService")],i.prototype,"valueService",void 0),Da([K("columnModel")],i.prototype,"columnModel",void 0),Da([K("rowModel")],i.prototype,"rowModel",void 0),Da([K("columnApi")],i.prototype,"columnApi",void 0),Da([K("gridApi")],i.prototype,"gridApi",void 0),Da([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Da([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Da([We],i.prototype,"init",null),Da([_n],i.prototype,"destroy",null),r=Da([qe("filterManager")],i)}(Ge),Mh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pa=function(h){function i(r,o){var u=h.call(this,r)||this;return u.ctrl=o,u}return Mh(i,h),i.prototype.getCtrl=function(){return this.ctrl},i}(Rt),Lp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ei=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Jm=function(h){function i(r){return h.call(this,i.TEMPLATE,r)||this}return Lp(i,h),i.prototype.postConstruct=function(){var r=this,o=this.getGui();this.ctrl.setComp({addOrRemoveCssClass:function(d,m){return r.addOrRemoveCssClass(d,m)},addOrRemoveBodyCssClass:function(d,m){return r.eFloatingFilterBody.classList.toggle(d,m)},addOrRemoveButtonWrapperCssClass:function(d,m){return r.eButtonWrapper.classList.toggle(d,m)},setCompDetails:function(d){return r.setCompDetails(d)},getFloatingFilterComp:function(){return r.compPromise},setWidth:function(d){return o.style.width=d},setMenuIcon:function(d){return r.eButtonShowMainFilter.appendChild(d)}},o,this.eButtonShowMainFilter,this.eFloatingFilterBody)},i.prototype.setCompDetails=function(r){var o=this;this.compPromise=r.newAgStackInstance(),this.compPromise.then(function(u){return o.afterCompCreated(u)})},i.prototype.afterCompCreated=function(r){var o=this;!r||(this.addDestroyFunc(function(){return o.context.destroyBean(r)}),this.isAlive()&&(this.eFloatingFilterBody.appendChild(r.getGui()),r.afterGuiAttached&&r.afterGuiAttached()))},i.TEMPLATE='<div class="ag-header-cell ag-floating-filter" role="gridcell" tabindex="-1">\n            <div ref="eFloatingFilterBody" role="presentation"></div>\n            <div class="ag-floating-filter-button ag-hidden" ref="eButtonWrapper" role="presentation">\n                <button type="button" aria-label="Open Filter Menu" class="ag-floating-filter-button-button" ref="eButtonShowMainFilter" tabindex="-1"></button>\n            </div>\n        </div>',Ei([Ne("eFloatingFilterBody")],i.prototype,"eFloatingFilterBody",void 0),Ei([Ne("eButtonWrapper")],i.prototype,"eButtonWrapper",void 0),Ei([Ne("eButtonShowMainFilter")],i.prototype,"eButtonShowMainFilter",void 0),Ei([We],i.prototype,"postConstruct",null),i}(Pa),Gp=function(){function h(){}return h.parse=function(i){if(!i)return null;if(!0===i)return{toolPanels:[h.DEFAULT_COLUMN_COMP,h.DEFAULT_FILTER_COMP],defaultToolPanel:"columns"};if("string"==typeof i)return h.parse([i]);if(Array.isArray(i)){var r=[];return i.forEach(function(u){var d=h.DEFAULT_BY_KEY[u];d?r.push(d):console.warn("AG Grid: the key "+u+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(h.DEFAULT_BY_KEY).join(","))}),0===r.length?null:{toolPanels:r,defaultToolPanel:r[0].id}}return{toolPanels:h.parseComponents(i.toolPanels),defaultToolPanel:i.defaultToolPanel,hiddenByDefault:i.hiddenByDefault,position:i.position}},h.parseComponents=function(i){var r=[];return i&&i.forEach(function(o){var u=null;if("string"==typeof o){var d=h.DEFAULT_BY_KEY[o];if(!d)return void console.warn("AG Grid: the key "+o+" is not a valid key for specifying a tool panel, valid keys are: "+Object.keys(h.DEFAULT_BY_KEY).join(","));u=d}else u=o;r.push(u)}),r},h.DEFAULT_BY_KEY={columns:h.DEFAULT_COLUMN_COMP={id:"columns",labelDefault:"Columns",labelKey:"columns",iconKey:"columns",toolPanel:"agColumnsToolPanel"},filters:h.DEFAULT_FILTER_COMP={id:"filters",labelDefault:"Filters",labelKey:"filters",iconKey:"filter",toolPanel:"agFiltersToolPanel"}},h}(),kp=function(){return kp=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},kp.apply(this,arguments)},Ta=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Vp=function(h,i){return function(r,o){i(r,o,h)}},tO=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},eC=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(tO(arguments[i]));return h};function Se(h){return!0===h||"true"===h}function tC(h){return"number"==typeof h?h:"string"==typeof h?parseInt(h,10):void 0}function rC(h,i){var r=parseInt(h,10);return ma(r)&&r>0?r:i}var Ke=function(){function h(){this.propertyEventService=new Ja,this.domDataKey="__AG_"+Math.random().toString(),this.destroyed=!1}var i;return i=h,h.prototype.agWire=function(r,o){this.gridOptions.api=r,this.gridOptions.columnApi=o,this.checkForDeprecated(),this.checkForViolations()},h.prototype.destroy=function(){this.gridOptions.api=null,this.gridOptions.columnApi=null,this.destroyed=!0},h.prototype.init=function(){var r=this;!0!==this.gridOptions.suppressPropertyNamesCheck&&(this.checkGridOptionsProperties(),this.checkColumnDefProperties()),null!=this.gridOptions.sideBar&&(this.gridOptions.sideBar=Gp.parse(this.gridOptions.sideBar));var o=this.useAsyncEvents();if(this.eventService.addGlobalListener(this.globalEventHandler.bind(this),o),this.isGroupSelectsChildren()&&this.isSuppressParentsInRowNodes()&&console.warn("AG Grid: 'groupSelectsChildren' does not work with 'suppressParentsInRowNodes', this selection method needs the part in rowNode to work"),this.isGroupSelectsChildren()&&(this.isRowSelectionMulti()||console.warn("AG Grid: rowSelection must be 'multiple' for groupSelectsChildren to make sense"),this.isRowModelServerSide()&&console.warn("AG Grid: group selects children is NOT support for Server Side Row Model. This is because the rows are lazy loaded, so selecting a group is not possible asthe grid has no way of knowing what the children are.")),this.isGroupRemoveSingleChildren()&&this.isGroupHideOpenParents()&&console.warn("AG Grid: groupRemoveSingleChildren and groupHideOpenParents do not work with each other, you need to pick one. And don't ask us how to us these together on our support forum either you will get the same answer!"),this.isRowModelServerSide()){var u=function(m){return"AG Grid: '"+m+"' is not supported on the Server-Side Row Model"};re(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupDefaultExpanded")),re(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeFooter")),re(this.gridOptions.groupDefaultExpanded)&&console.warn(u("groupIncludeTotalFooter"))}this.isEnableRangeSelection()&&yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"enableRangeSelection"),!this.isEnableRangeSelection()&&(this.isEnableRangeHandle()||this.isEnableFillHandle())&&console.warn("AG Grid: 'enableRangeHandle' and 'enableFillHandle' will not work unless 'enableRangeSelection' is set to true");var d=function(m){r.gridOptions.icons&&r.gridOptions.icons[m]&&console.warn("gridOptions.icons."+m+" is no longer supported. For information on how to style checkboxes and radio buttons, see https://www.ag-grid.com/javascript-grid-icons/")};d("radioButtonOff"),d("radioButtonOn"),d("checkboxChecked"),d("checkboxUnchecked"),d("checkboxIndeterminate"),this.getScrollbarWidth()},h.prototype.checkColumnDefProperties=function(){var r=this;null!=this.gridOptions.columnDefs&&this.gridOptions.columnDefs.forEach(function(o){var u=Object.getOwnPropertyNames(o),d=eC(Yn.ALL_PROPERTIES,Yn.FRAMEWORK_PROPERTIES);r.checkProperties(u,d,d,"colDef","https://www.ag-grid.com/javascript-grid-column-properties/")})},h.prototype.checkGridOptionsProperties=function(){var r=Object.getOwnPropertyNames(this.gridOptions),o=eC(ts.ALL_PROPERTIES,ts.FRAMEWORK_PROPERTIES,la(ne).map(function(d){return Vt.getCallbackForEvent(d)})),u=eC(o,["api","columnApi"]);this.checkProperties(r,u,o,"gridOptions","https://www.ag-grid.com/javascript-data-grid/grid-options/")},h.prototype.checkProperties=function(r,o,u,d,m){var w=Wi(r,o,u);qt(w,function(P,x){console.warn("ag-grid: invalid "+d+" property '"+P+"' did you mean any of these: "+x.slice(0,8).join(", "))}),Object.keys(w).length>0&&console.warn("ag-grid: to see all the valid "+d+" properties please check: "+m)},h.prototype.mergeGridCommonParams=function(r){var o=this;return r?function(d){var m=kp(kp({},d),{api:o.getApi(),columnApi:o.getColumnApi(),context:o.getContext()});return r(m)}:r},h.prototype.getDomDataKey=function(){return this.domDataKey},h.prototype.getDomData=function(r,o){var u=r[this.getDomDataKey()];return u?u[o]:void 0},h.prototype.setDomData=function(r,o,u){var d=this.getDomDataKey(),m=r[d];b(m)&&(r[d]=m={}),m[o]=u},h.prototype.isRowSelection=function(){return"single"===this.gridOptions.rowSelection||"multiple"===this.gridOptions.rowSelection},h.prototype.isSuppressRowDeselection=function(){return Se(this.gridOptions.suppressRowDeselection)},h.prototype.isRowSelectionMulti=function(){return"multiple"===this.gridOptions.rowSelection},h.prototype.isRowMultiSelectWithClick=function(){return Se(this.gridOptions.rowMultiSelectWithClick)},h.prototype.getContext=function(){return this.gridOptions.context},h.prototype.isPivotMode=function(){return Se(this.gridOptions.pivotMode)},h.prototype.isSuppressExpandablePivotGroups=function(){return Se(this.gridOptions.suppressExpandablePivotGroups)},h.prototype.getPivotColumnGroupTotals=function(){return this.gridOptions.pivotColumnGroupTotals},h.prototype.getPivotRowTotals=function(){return this.gridOptions.pivotRowTotals},h.prototype.isRowModelInfinite=function(){return this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_INFINITE},h.prototype.isRowModelViewport=function(){return this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_VIEWPORT},h.prototype.isRowModelServerSide=function(){return this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_SERVER_SIDE},h.prototype.isRowModelDefault=function(){return b(this.gridOptions.rowModelType)||this.gridOptions.rowModelType===ge.ROW_MODEL_TYPE_CLIENT_SIDE},h.prototype.isFullRowEdit=function(){return"fullRow"===this.gridOptions.editType},h.prototype.isSuppressFocusAfterRefresh=function(){return Se(this.gridOptions.suppressFocusAfterRefresh)},h.prototype.isSuppressBrowserResizeObserver=function(){return Se(this.gridOptions.suppressBrowserResizeObserver)},h.prototype.isSuppressMaintainUnsortedOrder=function(){return Se(this.gridOptions.suppressMaintainUnsortedOrder)},h.prototype.isSuppressClearOnFillReduction=function(){return Se(this.gridOptions.suppressClearOnFillReduction)},h.prototype.isShowToolPanel=function(){return Se(this.gridOptions.sideBar&&Array.isArray(this.getSideBar().toolPanels))},h.prototype.getSideBar=function(){return this.gridOptions.sideBar},h.prototype.isSuppressTouch=function(){return Se(this.gridOptions.suppressTouch)},h.prototype.isMaintainColumnOrder=function(){return Se(this.gridOptions.maintainColumnOrder)},h.prototype.isSuppressRowTransform=function(){return Se(this.gridOptions.suppressRowTransform)},h.prototype.isSuppressColumnStateEvents=function(){return Se(this.gridOptions.suppressColumnStateEvents)},h.prototype.isAllowDragFromColumnsToolPanel=function(){return Se(this.gridOptions.allowDragFromColumnsToolPanel)},h.prototype.useAsyncEvents=function(){return!Se(this.gridOptions.suppressAsyncEvents)},h.prototype.isEnableCellChangeFlash=function(){return Se(this.gridOptions.enableCellChangeFlash)},h.prototype.getCellFlashDelay=function(){return this.gridOptions.cellFlashDelay||500},h.prototype.getCellFadeDelay=function(){return this.gridOptions.cellFadeDelay||1e3},h.prototype.isGroupSelectsChildren=function(){var r=Se(this.gridOptions.groupSelectsChildren);return r&&this.isTreeData()?(console.warn("AG Grid: groupSelectsChildren does not work with tree data"),!1):r},h.prototype.isSuppressRowHoverHighlight=function(){return Se(this.gridOptions.suppressRowHoverHighlight)},h.prototype.isColumnHoverHighlight=function(){return Se(this.gridOptions.columnHoverHighlight)},h.prototype.isGroupSelectsFiltered=function(){return Se(this.gridOptions.groupSelectsFiltered)},h.prototype.isGroupHideOpenParents=function(){return Se(this.gridOptions.groupHideOpenParents)},h.prototype.isGroupMaintainOrder=function(){return Se(this.gridOptions.groupMaintainOrder)},h.prototype.getAutoGroupColumnDef=function(){return this.gridOptions.autoGroupColumnDef},h.prototype.isGroupMultiAutoColumn=function(){return this.gridOptions.groupDisplayType?this.matchesGroupDisplayType("multipleColumns",this.gridOptions.groupDisplayType):Se(this.gridOptions.groupHideOpenParents)},h.prototype.isGroupUseEntireRow=function(r){return!r&&!!this.gridOptions.groupDisplayType&&this.matchesGroupDisplayType("groupRows",this.gridOptions.groupDisplayType)},h.prototype.isGroupSuppressAutoColumn=function(){return!(!this.gridOptions.groupDisplayType||!this.matchesGroupDisplayType("custom",this.gridOptions.groupDisplayType))||!!this.gridOptions.treeDataDisplayType&&this.matchesTreeDataDisplayType("custom",this.gridOptions.treeDataDisplayType)},h.prototype.isGroupRemoveSingleChildren=function(){return Se(this.gridOptions.groupRemoveSingleChildren)},h.prototype.isGroupRemoveLowestSingleChildren=function(){return Se(this.gridOptions.groupRemoveLowestSingleChildren)},h.prototype.isGroupIncludeFooter=function(){return Se(this.gridOptions.groupIncludeFooter)},h.prototype.isGroupIncludeTotalFooter=function(){return Se(this.gridOptions.groupIncludeTotalFooter)},h.prototype.isGroupSuppressBlankHeader=function(){return Se(this.gridOptions.groupSuppressBlankHeader)},h.prototype.isSuppressRowClickSelection=function(){return Se(this.gridOptions.suppressRowClickSelection)},h.prototype.isSuppressCellFocus=function(){return Se(this.gridOptions.suppressCellFocus)},h.prototype.isSuppressMultiSort=function(){return Se(this.gridOptions.suppressMultiSort)},h.prototype.isAlwaysMultiSort=function(){return Se(this.gridOptions.alwaysMultiSort)},h.prototype.isMultiSortKeyCtrl=function(){return"ctrl"===this.gridOptions.multiSortKey},h.prototype.isPivotSuppressAutoColumn=function(){return Se(this.gridOptions.pivotSuppressAutoColumn)},h.prototype.isSuppressDragLeaveHidesColumns=function(){return Se(this.gridOptions.suppressDragLeaveHidesColumns)},h.prototype.isSuppressScrollOnNewData=function(){return Se(this.gridOptions.suppressScrollOnNewData)},h.prototype.isSuppressScrollWhenPopupsAreOpen=function(){return Se(this.gridOptions.suppressScrollWhenPopupsAreOpen)},h.prototype.isRowDragEntireRow=function(){return Se(this.gridOptions.rowDragEntireRow)},h.prototype.isSuppressRowDrag=function(){return Se(this.gridOptions.suppressRowDrag)},h.prototype.isRowDragManaged=function(){return Se(this.gridOptions.rowDragManaged)},h.prototype.isSuppressMoveWhenRowDragging=function(){return Se(this.gridOptions.suppressMoveWhenRowDragging)},h.prototype.isRowDragMultiRow=function(){return Se(this.gridOptions.rowDragMultiRow)},h.prototype.getDomLayout=function(){var r=this.gridOptions.domLayout||ge.DOM_LAYOUT_NORMAL;return-1===[ge.DOM_LAYOUT_PRINT,ge.DOM_LAYOUT_AUTO_HEIGHT,ge.DOM_LAYOUT_NORMAL].indexOf(r)?(Wt(function(){return console.warn("AG Grid: "+r+" is not valid for DOM Layout, valid values are "+ge.DOM_LAYOUT_NORMAL+", "+ge.DOM_LAYOUT_AUTO_HEIGHT+" and "+ge.DOM_LAYOUT_PRINT)},"warn about dom layout values"),ge.DOM_LAYOUT_NORMAL):r},h.prototype.isSuppressHorizontalScroll=function(){return Se(this.gridOptions.suppressHorizontalScroll)},h.prototype.isSuppressMaxRenderedRowRestriction=function(){return Se(this.gridOptions.suppressMaxRenderedRowRestriction)},h.prototype.isExcludeChildrenWhenTreeDataFiltering=function(){return Se(this.gridOptions.excludeChildrenWhenTreeDataFiltering)},h.prototype.isAlwaysShowHorizontalScroll=function(){return Se(this.gridOptions.alwaysShowHorizontalScroll)},h.prototype.isAlwaysShowVerticalScroll=function(){return Se(this.gridOptions.alwaysShowVerticalScroll)},h.prototype.isDebounceVerticalScrollbar=function(){return Se(this.gridOptions.debounceVerticalScrollbar)},h.prototype.isSuppressLoadingOverlay=function(){return Se(this.gridOptions.suppressLoadingOverlay)},h.prototype.isSuppressNoRowsOverlay=function(){return Se(this.gridOptions.suppressNoRowsOverlay)},h.prototype.isSuppressFieldDotNotation=function(){return Se(this.gridOptions.suppressFieldDotNotation)},h.prototype.getPinnedTopRowData=function(){return this.gridOptions.pinnedTopRowData},h.prototype.getPinnedBottomRowData=function(){return this.gridOptions.pinnedBottomRowData},h.prototype.isFunctionsPassive=function(){return Se(this.gridOptions.functionsPassive)},h.prototype.isSuppressChangeDetection=function(){return Se(this.gridOptions.suppressChangeDetection)},h.prototype.isSuppressAnimationFrame=function(){return Se(this.gridOptions.suppressAnimationFrame)},h.prototype.getQuickFilterText=function(){return this.gridOptions.quickFilterText},h.prototype.isCacheQuickFilter=function(){return Se(this.gridOptions.cacheQuickFilter)},h.prototype.isUnSortIcon=function(){return Se(this.gridOptions.unSortIcon)},h.prototype.isSuppressMenuHide=function(){return Se(this.gridOptions.suppressMenuHide)},h.prototype.isEnterMovesDownAfterEdit=function(){return Se(this.gridOptions.enterMovesDownAfterEdit)},h.prototype.isEnterMovesDown=function(){return Se(this.gridOptions.enterMovesDown)},h.prototype.isUndoRedoCellEditing=function(){return Se(this.gridOptions.undoRedoCellEditing)},h.prototype.getUndoRedoCellEditingLimit=function(){return tC(this.gridOptions.undoRedoCellEditingLimit)},h.prototype.getRowStyle=function(){return this.gridOptions.rowStyle},h.prototype.getRowClass=function(){return this.gridOptions.rowClass},h.prototype.getRowStyleFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowStyle)},h.prototype.getRowClassFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getRowClass)},h.prototype.rowClassRules=function(){return this.gridOptions.rowClassRules},h.prototype.getServerSideStoreType=function(){return this.gridOptions.serverSideStoreType},h.prototype.getServerSideStoreParamsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getServerSideStoreParams)},h.prototype.getCreateChartContainerFunc=function(){return this.mergeGridCommonParams(this.gridOptions.createChartContainer)},h.prototype.getPopupParent=function(){return this.gridOptions.popupParent},h.prototype.getBlockLoadDebounceMillis=function(){return this.gridOptions.blockLoadDebounceMillis},h.prototype.getPostProcessPopupFunc=function(){return this.mergeGridCommonParams(this.gridOptions.postProcessPopup)},h.prototype.getPaginationNumberFormatterFunc=function(){return this.mergeGridCommonParams(this.gridOptions.paginationNumberFormatter)},h.prototype.getChildCountFunc=function(){return this.gridOptions.getChildCount},h.prototype.getIsApplyServerSideTransactionFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isApplyServerSideTransaction)},h.prototype.getInitialGroupOrderComparator=function(){var r=this.gridOptions,o=r.initialGroupOrderComparator,u=r.defaultGroupOrderComparator;return o?this.mergeGridCommonParams(o):u?function(d){return u(d.nodeA,d.nodeB)}:void 0},h.prototype.getIsFullWidthCellFunc=function(){var r=this.gridOptions,o=r.isFullWidthRow,u=r.isFullWidthCell;return o?this.mergeGridCommonParams(o):u?function(d){return u(d.rowNode)}:void 0},h.prototype.getFullWidthCellRendererParams=function(){return this.gridOptions.fullWidthCellRendererParams},h.prototype.isEmbedFullWidthRows=function(){return Se(this.gridOptions.embedFullWidthRows)||Se(this.gridOptions.deprecatedEmbedFullWidthRows)},h.prototype.isDetailRowAutoHeight=function(){return Se(this.gridOptions.detailRowAutoHeight)},h.prototype.getSuppressKeyboardEventFunc=function(){return this.gridOptions.suppressKeyboardEvent},h.prototype.getBusinessKeyForNodeFunc=function(){return this.gridOptions.getBusinessKeyForNode},h.prototype.getApi=function(){return this.gridOptions.api},h.prototype.getColumnApi=function(){return this.gridOptions.columnApi},h.prototype.isReadOnlyEdit=function(){return Se(this.gridOptions.readOnlyEdit)},h.prototype.isImmutableData=function(){return null!=this.gridOptions.getRowId||Se(this.gridOptions.immutableData)},h.prototype.isEnsureDomOrder=function(){return Se(this.gridOptions.ensureDomOrder)},h.prototype.isEnableCharts=function(){return!!Se(this.gridOptions.enableCharts)&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"enableCharts")},h.prototype.getColResizeDefault=function(){return this.gridOptions.colResizeDefault},h.prototype.isSingleClickEdit=function(){return Se(this.gridOptions.singleClickEdit)},h.prototype.isSuppressClickEdit=function(){return Se(this.gridOptions.suppressClickEdit)},h.prototype.isStopEditingWhenCellsLoseFocus=function(){return Se(this.gridOptions.stopEditingWhenCellsLoseFocus)},h.prototype.getGroupDefaultExpanded=function(){return this.gridOptions.groupDefaultExpanded},h.prototype.getMaxConcurrentDatasourceRequests=function(){var r=tC(this.gridOptions.maxConcurrentDatasourceRequests);return null==r?2:r<=0?void 0:r},h.prototype.getMaxBlocksInCache=function(){return this.gridOptions.maxBlocksInCache},h.prototype.getCacheOverflowSize=function(){return this.gridOptions.cacheOverflowSize},h.prototype.getPaginationPageSize=function(){return tC(this.gridOptions.paginationPageSize)},h.prototype.isPaginateChildRows=function(){return!(!this.isGroupRemoveSingleChildren()&&!this.isGroupRemoveLowestSingleChildren())||Se(this.gridOptions.paginateChildRows)},h.prototype.getCacheBlockSize=function(){return rC(this.gridOptions.cacheBlockSize)},h.prototype.getInfiniteInitialRowCount=function(){return this.gridOptions.infiniteInitialRowCount},h.prototype.isPurgeClosedRowNodes=function(){return Se(this.gridOptions.purgeClosedRowNodes)},h.prototype.isSuppressPaginationPanel=function(){return Se(this.gridOptions.suppressPaginationPanel)},h.prototype.getRowData=function(){return this.gridOptions.rowData},h.prototype.isEnableRtl=function(){return Se(this.gridOptions.enableRtl)},h.prototype.getRowGroupPanelShow=function(){return this.gridOptions.rowGroupPanelShow},h.prototype.getPivotPanelShow=function(){return this.gridOptions.pivotPanelShow},h.prototype.isAngularCompileRows=function(){return Se(this.gridOptions.angularCompileRows)},h.prototype.isAngularCompileFilters=function(){return Se(this.gridOptions.angularCompileFilters)},h.prototype.isDebug=function(){return Se(this.gridOptions.debug)},h.prototype.getColumnDefs=function(){return this.gridOptions.columnDefs},h.prototype.getColumnTypes=function(){return this.gridOptions.columnTypes},h.prototype.getDatasource=function(){return this.gridOptions.datasource},h.prototype.getViewportDatasource=function(){return this.gridOptions.viewportDatasource},h.prototype.getServerSideDatasource=function(){return this.gridOptions.serverSideDatasource},h.prototype.isAccentedSort=function(){return Se(this.gridOptions.accentedSort)},h.prototype.isEnableBrowserTooltips=function(){return Se(this.gridOptions.enableBrowserTooltips)},h.prototype.isEnableCellExpressions=function(){return Se(this.gridOptions.enableCellExpressions)},h.prototype.isEnableGroupEdit=function(){return Se(this.gridOptions.enableGroupEdit)},h.prototype.isSuppressMiddleClickScrolls=function(){return Se(this.gridOptions.suppressMiddleClickScrolls)},h.prototype.isPreventDefaultOnContextMenu=function(){return Se(this.gridOptions.preventDefaultOnContextMenu)},h.prototype.isSuppressPreventDefaultOnMouseWheel=function(){return Se(this.gridOptions.suppressPreventDefaultOnMouseWheel)},h.prototype.isSuppressColumnVirtualisation=function(){return Se(this.gridOptions.suppressColumnVirtualisation)},h.prototype.isSuppressRowVirtualisation=function(){return Se(this.gridOptions.suppressRowVirtualisation)},h.prototype.isSuppressContextMenu=function(){return Se(this.gridOptions.suppressContextMenu)},h.prototype.isAllowContextMenuWithControlKey=function(){return Se(this.gridOptions.allowContextMenuWithControlKey)},h.prototype.isSuppressCopyRowsToClipboard=function(){return Se(this.gridOptions.suppressCopyRowsToClipboard)},h.prototype.isCopyHeadersToClipboard=function(){return Se(this.gridOptions.copyHeadersToClipboard)},h.prototype.isCopyGroupHeadersToClipboard=function(){return Se(this.gridOptions.copyGroupHeadersToClipboard)},h.prototype.isSuppressClipboardPaste=function(){return Se(this.gridOptions.suppressClipboardPaste)},h.prototype.isSuppressLastEmptyLineOnPaste=function(){return Se(this.gridOptions.suppressLastEmptyLineOnPaste)},h.prototype.isPagination=function(){return Se(this.gridOptions.pagination)},h.prototype.isSuppressEnterpriseResetOnNewColumns=function(){return Se(this.gridOptions.suppressEnterpriseResetOnNewColumns)},h.prototype.getProcessDataFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processDataFromClipboard)},h.prototype.getAsyncTransactionWaitMillis=function(){return re(this.gridOptions.asyncTransactionWaitMillis)?this.gridOptions.asyncTransactionWaitMillis:ge.BATCH_WAIT_MILLIS},h.prototype.isSuppressMovableColumns=function(){return Se(this.gridOptions.suppressMovableColumns)},h.prototype.isAnimateRows=function(){return!this.isEnsureDomOrder()&&Se(this.gridOptions.animateRows)},h.prototype.isSuppressColumnMoveAnimation=function(){return Se(this.gridOptions.suppressColumnMoveAnimation)},h.prototype.isSuppressAggFuncInHeader=function(){return Se(this.gridOptions.suppressAggFuncInHeader)},h.prototype.isSuppressAggAtRootLevel=function(){return Se(this.gridOptions.suppressAggAtRootLevel)},h.prototype.isSuppressAggFilteredOnly=function(){return void 0!==this.getGroupAggFiltering()||Se(this.gridOptions.suppressAggFilteredOnly)},h.prototype.isShowOpenedGroup=function(){return Se(this.gridOptions.showOpenedGroup)},h.prototype.isReactUi=function(){return Se(this.gridOptions.reactUi)},h.prototype.isSuppressReactUi=function(){return Se(this.gridOptions.suppressReactUi)},h.prototype.isEnableRangeSelection=function(){return yt.isRegistered(W.ModuleNames.RangeSelectionModule)&&Se(this.gridOptions.enableRangeSelection)},h.prototype.isEnableRangeHandle=function(){return Se(this.gridOptions.enableRangeHandle)},h.prototype.isEnableFillHandle=function(){return Se(this.gridOptions.enableFillHandle)},h.prototype.getFillHandleDirection=function(){var r=this.gridOptions.fillHandleDirection;return r?"x"!==r&&"y"!==r&&"xy"!==r?(Wt(function(){return console.warn("AG Grid: valid values for fillHandleDirection are 'x', 'y' and 'xy'. Default to 'xy'.")},"warn invalid fill direction"),"xy"):r:"xy"},h.prototype.getFillOperation=function(){return this.mergeGridCommonParams(this.gridOptions.fillOperation)},h.prototype.isSuppressMultiRangeSelection=function(){return Se(this.gridOptions.suppressMultiRangeSelection)},h.prototype.isPaginationAutoPageSize=function(){return Se(this.gridOptions.paginationAutoPageSize)},h.prototype.isRememberGroupStateWhenNewData=function(){return Se(this.gridOptions.rememberGroupStateWhenNewData)},h.prototype.getIcons=function(){return this.gridOptions.icons},h.prototype.getGroupAggFiltering=function(){var r=this.gridOptions.groupAggFiltering;return"function"==typeof r?this.mergeGridCommonParams(r):Se(r)?function(){return!0}:void 0},h.prototype.getAggFuncs=function(){return this.gridOptions.aggFuncs},h.prototype.getSortingOrder=function(){return this.gridOptions.sortingOrder},h.prototype.getAlignedGrids=function(){return this.gridOptions.alignedGrids},h.prototype.isMasterDetail=function(){return!!Se(this.gridOptions.masterDetail)&&yt.assertRegistered(W.ModuleNames.MasterDetailModule,"masterDetail")},h.prototype.isKeepDetailRows=function(){return Se(this.gridOptions.keepDetailRows)},h.prototype.getKeepDetailRowsCount=function(){var r=this.gridOptions.keepDetailRowsCount;return re(r)&&r>0?this.gridOptions.keepDetailRowsCount:10},h.prototype.getIsRowMasterFunc=function(){return this.gridOptions.isRowMaster},h.prototype.getIsRowSelectableFunc=function(){return this.gridOptions.isRowSelectable},h.prototype.getGroupRowRendererParams=function(){return this.gridOptions.groupRowRendererParams},h.prototype.getOverlayLoadingTemplate=function(){return this.gridOptions.overlayLoadingTemplate},h.prototype.getOverlayNoRowsTemplate=function(){return this.gridOptions.overlayNoRowsTemplate},h.prototype.isSuppressAutoSize=function(){return Se(this.gridOptions.suppressAutoSize)},h.prototype.isEnableCellTextSelection=function(){return Se(this.gridOptions.enableCellTextSelection)},h.prototype.isSuppressParentsInRowNodes=function(){return Se(this.gridOptions.suppressParentsInRowNodes)},h.prototype.isSuppressClipboardApi=function(){return Se(this.gridOptions.suppressClipboardApi)},h.prototype.isFunctionsReadOnly=function(){return Se(this.gridOptions.functionsReadOnly)},h.prototype.isEnableCellTextSelect=function(){return Se(this.gridOptions.enableCellTextSelection)},h.prototype.getDefaultColDef=function(){return this.gridOptions.defaultColDef},h.prototype.getDefaultColGroupDef=function(){return this.gridOptions.defaultColGroupDef},h.prototype.getDefaultExportParams=function(r){return this.gridOptions.defaultExportParams?(console.warn("AG Grid: Since v25.2 `defaultExportParams`  has been replaced by `default"+sg(r)+"ExportParams`'"),this.gridOptions.defaultExportParams):"csv"===r&&this.gridOptions.defaultCsvExportParams?this.gridOptions.defaultCsvExportParams:"excel"===r&&this.gridOptions.defaultExcelExportParams?this.gridOptions.defaultExcelExportParams:void 0},h.prototype.isSuppressCsvExport=function(){return Se(this.gridOptions.suppressCsvExport)},h.prototype.isAllowShowChangeAfterFilter=function(){return Se(this.gridOptions.allowShowChangeAfterFilter)},h.prototype.isSuppressExcelExport=function(){return Se(this.gridOptions.suppressExcelExport)},h.prototype.isSuppressMakeColumnVisibleAfterUnGroup=function(){return Se(this.gridOptions.suppressMakeColumnVisibleAfterUnGroup)},h.prototype.getDataPathFunc=function(){return this.gridOptions.getDataPath},h.prototype.getIsServerSideGroupFunc=function(){return this.gridOptions.isServerSideGroup},h.prototype.getIsServerSideGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isServerSideGroupOpenByDefault)},h.prototype.getIsGroupOpenByDefaultFunc=function(){return this.mergeGridCommonParams(this.gridOptions.isGroupOpenByDefault)},h.prototype.getServerSideGroupKeyFunc=function(){return this.gridOptions.getServerSideGroupKey},h.prototype.getGroupRowAggFunc=function(){var r=this.gridOptions,o=r.getGroupRowAgg,u=r.groupRowAggNodes;return o?this.mergeGridCommonParams(o):u?function(d){return u(d.nodes)}:void 0},h.prototype.getContextMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getContextMenuItems)},h.prototype.getMainMenuItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getMainMenuItems)},h.prototype.getRowIdFunc=function(){var r=this.gridOptions,o=r.getRowId,u=r.getRowNodeId;return o?this.mergeGridCommonParams(o):u?function(d){return u(d.data)}:void 0},h.prototype.getNavigateToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextHeader)},h.prototype.getTabToNextHeaderFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextHeader)},h.prototype.getNavigateToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.navigateToNextCell)},h.prototype.getTabToNextCellFunc=function(){return this.mergeGridCommonParams(this.gridOptions.tabToNextCell)},h.prototype.getGridTabIndex=function(){return(this.gridOptions.tabIndex||0).toString()},h.prototype.isTreeData=function(){return!!Se(this.gridOptions.treeData)&&yt.assertRegistered(W.ModuleNames.RowGroupingModule,"Tree Data")},h.prototype.isValueCache=function(){return Se(this.gridOptions.valueCache)},h.prototype.isValueCacheNeverExpires=function(){return Se(this.gridOptions.valueCacheNeverExpires)},h.prototype.isDeltaSort=function(){return Se(this.gridOptions.deltaSort)},h.prototype.isAggregateOnlyChangedColumns=function(){return Se(this.gridOptions.aggregateOnlyChangedColumns)},h.prototype.getProcessSecondaryColDefFunc=function(){return this.gridOptions.processSecondaryColDef},h.prototype.getProcessSecondaryColGroupDefFunc=function(){return this.gridOptions.processSecondaryColGroupDef},h.prototype.getSendToClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.sendToClipboard)},h.prototype.getProcessRowPostCreateFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processRowPostCreate)},h.prototype.getProcessCellForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellForClipboard)},h.prototype.getProcessHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processHeaderForClipboard)},h.prototype.getProcessGroupHeaderForClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processGroupHeaderForClipboard)},h.prototype.getProcessCellFromClipboardFunc=function(){return this.mergeGridCommonParams(this.gridOptions.processCellFromClipboard)},h.prototype.getViewportRowModelPageSize=function(){return rC(this.gridOptions.viewportRowModelPageSize,5)},h.prototype.getViewportRowModelBufferSize=function(){return function vS(h,i){return h>=0?h:i}(this.gridOptions.viewportRowModelBufferSize,5)},h.prototype.isServerSideSortingAlwaysResets=function(){return Se(this.gridOptions.serverSideSortingAlwaysResets)},h.prototype.isServerSideFilteringAlwaysResets=function(){return Se(this.gridOptions.serverSideFilteringAlwaysResets)},h.prototype.getPostSortFunc=function(){var r=this.gridOptions,o=r.postSortRows,u=r.postSort;return o?this.mergeGridCommonParams(o):u?function(d){return u(d.nodes)}:void 0},h.prototype.getChartToolbarItemsFunc=function(){return this.mergeGridCommonParams(this.gridOptions.getChartToolbarItems)},h.prototype.getChartThemeOverrides=function(){return this.gridOptions.chartThemeOverrides},h.prototype.getCustomChartThemes=function(){return this.gridOptions.customChartThemes},h.prototype.getChartThemes=function(){return this.gridOptions.chartThemes||["ag-default","ag-material","ag-pastel","ag-vivid","ag-solar"]},h.prototype.getClipboardDelimiter=function(){return re(this.gridOptions.clipboardDelimiter)?this.gridOptions.clipboardDelimiter:"\t"},h.prototype.setProperty=function(r,o,u){void 0===u&&(u=!1);var d=this.gridOptions,m=d[r];(u||m!==o)&&(d[r]=o,this.propertyEventService.dispatchEvent({type:r,currentValue:o,previousValue:m}))},h.prototype.addEventListener=function(r,o){this.propertyEventService.addEventListener(r,o)},h.prototype.removeEventListener=function(r,o){this.propertyEventService.removeEventListener(r,o)},h.prototype.isSkipHeaderOnAutoSize=function(){return!!this.gridOptions.skipHeaderOnAutoSize},h.prototype.getAutoSizePadding=function(){var r=this.gridOptions.autoSizePadding;return null!=r&&r>=0?r:20},h.prototype.getHeaderHeight=function(){return"number"==typeof this.gridOptions.headerHeight?this.gridOptions.headerHeight:this.getFromTheme(25,"headerHeight")},h.prototype.getFloatingFiltersHeight=function(){return"number"==typeof this.gridOptions.floatingFiltersHeight?this.gridOptions.floatingFiltersHeight:this.getFromTheme(25,"headerHeight")},h.prototype.getGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.groupHeaderHeight?this.gridOptions.groupHeaderHeight:this.getHeaderHeight()},h.prototype.getPivotHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotHeaderHeight?this.gridOptions.pivotHeaderHeight:this.getHeaderHeight()},h.prototype.getPivotGroupHeaderHeight=function(){return"number"==typeof this.gridOptions.pivotGroupHeaderHeight?this.gridOptions.pivotGroupHeaderHeight:this.getGroupHeaderHeight()},h.prototype.isExternalFilterPresent=function(){return"function"==typeof this.gridOptions.isExternalFilterPresent&&this.gridOptions.isExternalFilterPresent({api:this.getApi(),columnApi:this.getColumnApi(),context:this.getContext()})},h.prototype.doesExternalFilterPass=function(r){return"function"==typeof this.gridOptions.doesExternalFilterPass&&this.gridOptions.doesExternalFilterPass(r)},h.prototype.getTooltipDelay=function(r){var o=this.gridOptions,m="show"===r?o.tooltipShowDelay:o.tooltipHideDelay,w=sg(r);return re(m)?(m<0&&Wt(function(){return console.warn("ag-grid: tooltip"+w+"Delay should not be lower than 0")},"tooltip"+w+"DelayWarn"),Math.max(200,m)):null},h.prototype.isTooltipMouseTrack=function(){return Se(this.gridOptions.tooltipMouseTrack)},h.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(){return Se(this.gridOptions.suppressModelUpdateAfterUpdateTransaction)},h.prototype.getDocument=function(){var r=null;return this.gridOptions.getDocument&&re(this.gridOptions.getDocument)?r=this.gridOptions.getDocument():this.eGridDiv&&(r=this.eGridDiv.ownerDocument),r&&re(r)?r:document},h.prototype.getMinColWidth=function(){var r=this.gridOptions.minColWidth;if(re(r)&&r>i.MIN_COL_WIDTH)return this.gridOptions.minColWidth;var o=this.getFromTheme(null,"headerCellMinWidth");return re(o)?Math.max(o,i.MIN_COL_WIDTH):i.MIN_COL_WIDTH},h.prototype.getMaxColWidth=function(){return this.gridOptions.maxColWidth&&this.gridOptions.maxColWidth>i.MIN_COL_WIDTH?this.gridOptions.maxColWidth:null},h.prototype.getColWidth=function(){return"number"!=typeof this.gridOptions.colWidth||this.gridOptions.colWidth<i.MIN_COL_WIDTH?200:this.gridOptions.colWidth},h.prototype.getRowBuffer=function(){var r=this.gridOptions.rowBuffer;return"number"==typeof r?r<0&&(Wt(function(){return console.warn("AG Grid: rowBuffer should not be negative")},"warn rowBuffer negative"),this.gridOptions.rowBuffer=r=0):r=ge.ROW_BUFFER_SIZE,r},h.prototype.getRowBufferInPixels=function(){return this.getRowBuffer()*this.getRowHeightAsNumber()},h.prototype.getScrollbarWidth=function(){if(null==this.scrollbarWidth){var o="number"==typeof this.gridOptions.scrollbarWidth&&this.gridOptions.scrollbarWidth>=0?this.gridOptions.scrollbarWidth:_m();null!=o&&(this.scrollbarWidth=o,this.eventService.dispatchEvent({type:ne.EVENT_SCROLLBAR_WIDTH_CHANGED}))}return this.scrollbarWidth},h.prototype.checkForDeprecated=function(){var r=this.gridOptions;r.deprecatedEmbedFullWidthRows&&console.warn("AG Grid: since v21.2, deprecatedEmbedFullWidthRows has been replaced with embedFullWidthRows."),r.rowDeselection&&console.warn("AG Grid: since v24.x, rowDeselection is deprecated and the behaviour is true by default. Please use `suppressRowDeselection` to prevent rows from being deselected."),r.enableMultiRowDragging&&(r.rowDragMultiRow=!0,delete r.enableMultiRowDragging,console.warn("AG Grid: since v26.1, `enableMultiRowDragging` is deprecated. Please use `rowDragMultiRow`."));var o=function(m,w,P){null!=r[m]&&(console.warn("AG Grid: since version "+P+", '"+m+"' is deprecated / renamed, please use the new property name '"+w+"' instead."),null==r[w]&&(r[w]=r[m]))};if(o("batchUpdateWaitMillis","asyncTransactionWaitMillis","23.1.x"),o("deltaRowDataMode","immutableData","23.1.x"),(r.immutableColumns||r.deltaColumnMode)&&console.warn("AG Grid: since v24.0, immutableColumns and deltaColumnMode properties are gone. The grid now works like this as default. To keep column order maintained, set grid property applyColumnDefOrder=true"),o("suppressSetColumnStateEvents","suppressColumnStateEvents","24.0.x"),r.groupRowInnerRenderer||r.groupRowInnerRendererParams||r.groupRowInnerRendererFramework){console.warn("AG Grid: since v24.0, grid properties groupRowInnerRenderer, groupRowInnerRendererFramework and groupRowInnerRendererParams are no longer used."),console.warn("  Instead use the grid properties groupRowRendererParams.innerRenderer, groupRowRendererParams.innerRendererFramework and groupRowRendererParams.innerRendererParams."),console.warn("  For example instead of this:"),console.warn('    groupRowInnerRenderer: "myRenderer"'),console.warn("    groupRowInnerRendererParams: {x: a}"),console.warn("  Replace with this:"),console.warn("    groupRowRendererParams: {"),console.warn('      innerRenderer: "myRenderer",'),console.warn("      innerRendererParams: {x: a}"),console.warn("    }"),console.warn("  We have copied the properties over for you. However to stop this error message, please change your application code."),r.groupRowRendererParams||(r.groupRowRendererParams={});var u=r.groupRowRendererParams;r.groupRowInnerRenderer&&(u.innerRenderer=r.groupRowInnerRenderer),r.groupRowInnerRendererParams&&(u.innerRendererParams=r.groupRowInnerRendererParams),r.groupRowInnerRendererFramework&&(u.innerRendererFramework=r.groupRowInnerRendererFramework)}r.rememberGroupStateWhenNewData&&console.warn("AG Grid: since v24.0, grid property rememberGroupStateWhenNewData is deprecated. This feature was provided before Transaction Updates worked (which keep group state). Now that transaction updates are possible and they keep group state, this feature is no longer needed."),r.detailCellRendererParams&&r.detailCellRendererParams.autoHeight&&(console.warn("AG Grid: since v24.1, grid property detailCellRendererParams.autoHeight is replaced with grid property detailRowAutoHeight. This allows this feature to work when you provide a custom DetailCellRenderer"),r.detailRowAutoHeight=!0),r.suppressKeyboardEvent&&console.warn("AG Grid: since v24.1 suppressKeyboardEvent in the gridOptions has been deprecated and will be removed in\n                 future versions of AG Grid. If you need this to be set for every column use the defaultColDef property."),r.suppressEnterpriseResetOnNewColumns&&console.warn("AG Grid: since v25, grid property suppressEnterpriseResetOnNewColumns is deprecated. This was a temporary property to allow changing columns in Server Side Row Model without triggering a reload. Now that it is possible to dynamically change columns in the grid, this is no longer needed."),r.suppressColumnStateEvents&&console.warn('AG Grid: since v25, grid property suppressColumnStateEvents no longer works due to a refactor that we did. It should be possible to achieve similar using event.source, which would be "api" if the event was due to setting column state via the API'),r.defaultExportParams&&console.warn("AG Grid: since v25.2, the grid property `defaultExportParams` has been replaced by `defaultCsvExportParams` and `defaultExcelExportParams`."),r.stopEditingWhenGridLosesFocus&&(console.warn("AG Grid: since v25.2.2, the grid property `stopEditingWhenGridLosesFocus` has been replaced by `stopEditingWhenCellsLoseFocus`."),r.stopEditingWhenCellsLoseFocus=!0),r.applyColumnDefOrder&&console.warn("AG Grid: since v26.0, the grid property `applyColumnDefOrder` is no longer needed, as this is the default behaviour. To turn this behaviour off, set maintainColumnOrder=true"),r.groupMultiAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupMultiAutoColumn` has been replaced by `groupDisplayType = 'multipleColumns'`"),r.groupDisplayType="multipleColumns"),r.groupUseEntireRow&&(console.warn("AG Grid: since v26.0, the grid property `groupUseEntireRow` has been replaced by `groupDisplayType = 'groupRows'`"),r.groupDisplayType="groupRows"),r.groupSuppressAutoColumn&&(console.warn("AG Grid: since v26.0, the grid property `groupSuppressAutoColumn` has been replaced by `"+(r.treeData?"treeDataDisplayType":"groupDisplayType")+" = 'custom'`"),r.groupDisplayType="custom"),r.defaultGroupOrderComparator&&console.warn("AG Grid: since v27.2, the grid property `defaultGroupOrderComparator` is deprecated and has been replaced by `initialGroupOrderComparator` and now receives a single params object."),r.defaultGroupSortComparator&&(console.warn("AG Grid: since v26.0, the grid property `defaultGroupSortComparator` has been replaced by `initialGroupOrderComparator`"),r.defaultGroupOrderComparator=r.defaultGroupSortComparator),r.groupRowAggNodes&&console.warn("AG Grid: since v27.2, the grid property `groupRowAggNodes` is deprecated and has been replaced by `getGroupRowAgg` and now receives a single params object."),r.postSort&&console.warn("AG Grid: since v27.2, the grid property `postSort` is deprecated and has been replaced by `postSortRows` and now receives a single params object."),r.isFullWidthCell&&console.warn("AG Grid: since v27.2, the grid property `isFullWidthCell` is deprecated and has been replaced by `isFullWidthRow` and now receives a single params object."),r.localeTextFunc&&console.warn("AG Grid: since v27.2, the grid property `localeTextFunc` is deprecated and has been replaced by `getLocaleText` and now receives a single params object."),r.colWidth&&console.warn("AG Grid: since v26.1, the grid property `colWidth` is deprecated and should be set via `defaultColDef.width`."),r.minColWidth&&console.warn("AG Grid: since v26.1, the grid property `minColWidth` is deprecated and should be set via `defaultColDef.minWidth`."),r.maxColWidth&&console.warn("AG Grid: since v26.1, the grid property `maxColWidth` is deprecated and should be set via `defaultColDef.maxWidth`."),r.reactUi&&console.warn("AG Grid: since v27.0, React UI is on by default, so no need for reactUi=true. To turn it off, set suppressReactUi=true."),r.suppressReactUi&&console.warn("AG Grid: The legacy React rendering engine is deprecated and will be removed in the next major version of the grid."),r.suppressCellSelection&&(console.warn("AG Grid: since v27.0, `suppressCellSelection` has been replaced by `suppressCellFocus`."),r.suppressCellFocus=r.suppressCellSelection),r.getRowNodeId&&console.warn("AG Grid: since v27.1, `getRowNodeId` is deprecated and has been replaced by `getRowId`. The difference: if getRowId() is implemented then immutable data is enabled by default."),r.immutableData&&(r.getRowId?console.warn("AG Grid: since v27.1, `immutableData` is deprecated. With the `getRowId` callback implemented, immutable data is enabled by default so you can remove `immutableData=true`."):console.warn("AG Grid: since v27.1, `immutableData` is deprecated. To enable immutable data you must implement the `getRowId()` callback.")),r.clipboardDeliminator&&(console.warn("AG Grid: since v27.1, `clipboardDeliminator` has been replaced by `clipboardDelimiter`."),r.clipboardDelimiter=r.clipboardDeliminator)},h.prototype.checkForViolations=function(){this.isTreeData()&&this.treeDataViolations()},h.prototype.treeDataViolations=function(){this.isRowModelDefault()&&b(this.getDataPathFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=clientSide, but you did not provide getDataPath function, please provide getDataPath function if using tree data."),this.isRowModelServerSide()&&(b(this.getIsServerSideGroupFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide isServerSideGroup function, please provide isServerSideGroup function if using tree data."),b(this.getServerSideGroupKeyFunc())&&console.warn("AG Grid: property usingTreeData=true with rowModel=serverSide, but you did not provide getServerSideGroupKey function, please provide getServerSideGroupKey function if using tree data."))},h.prototype.getLocaleTextFunc=function(){var r=this,o=this.gridOptions,u=o.localeText,d=o.getLocaleText;return d?function(w,P,x){var N={key:w,defaultValue:P,variableValues:x,api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()};return d(N)}:o.localeTextFunc||function(w,P,x){var N=u&&u[w];if(N&&x&&x.length)for(var k=0;!(k>=x.length)&&-1!==N.indexOf("${variable}");)N=N.replace("${variable}",x[k++]);return null!=N?N:P}},h.prototype.globalEventHandler=function(r,o){if(!this.destroyed){var u=Vt.getCallbackForEvent(r);"function"==typeof this.gridOptions[u]&&this.gridOptions[u](o)}},h.prototype.setRowHeightVariable=function(r){var u=r+"px";this.eGridDiv.style.getPropertyValue("--ag-line-height").trim()!=u&&this.eGridDiv.style.setProperty("--ag-line-height",u)},h.prototype.getRowHeightAsNumber=function(){if(!this.gridOptions.rowHeight||b(this.gridOptions.rowHeight))return this.getDefaultRowHeight();var r=this.gridOptions.rowHeight;return r&&this.isNumeric(r)?(this.setRowHeightVariable(r),r):(console.warn("AG Grid row height must be a number if not using standard row model"),this.getDefaultRowHeight())},h.prototype.isGetRowHeightFunction=function(){return"function"==typeof this.gridOptions.getRowHeight},h.prototype.getRowHeightForNode=function(r,o,u){if(void 0===o&&(o=!1),null==u&&(u=this.getDefaultRowHeight()),this.isGetRowHeightFunction()){if(o)return{height:u,estimated:!0};var d={node:r,data:r.data},m=this.mergeGridCommonParams(this.gridOptions.getRowHeight)(d);if(this.isNumeric(m))return 0===m&&Wt(function(){return console.warn("AG Grid: The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.")},"invalidRowHeight"),{height:Math.max(1,m),estimated:!1}}return r.detail&&this.isMasterDetail()?this.isDetailRowAutoHeight()?{height:1,estimated:!1}:this.isNumeric(this.gridOptions.detailRowHeight)?{height:this.gridOptions.detailRowHeight,estimated:!1}:{height:300,estimated:!1}:{height:this.gridOptions.rowHeight&&this.isNumeric(this.gridOptions.rowHeight)?this.gridOptions.rowHeight:u,estimated:!1}},h.prototype.isDynamicRowHeight=function(){return"function"==typeof this.gridOptions.getRowHeight},h.prototype.getListItemHeight=function(){return this.getFromTheme(20,"listItemHeight")},h.prototype.chartMenuPanelWidth=function(){return this.environment.chartMenuPanelWidth()},h.prototype.isNumeric=function(r){return!isNaN(r)&&"number"==typeof r&&isFinite(r)},h.prototype.getFromTheme=function(r,o){var u=this.environment.getTheme().theme;return u&&0===u.indexOf("ag-theme")?this.environment.getSassVariable(u,o):r},h.prototype.getDefaultRowHeight=function(){return this.getFromTheme(25,"rowHeight")},h.prototype.matchesGroupDisplayType=function(r,o){var u=["groupRows","multipleColumns","custom","singleColumn"];return u.indexOf(o)<0?(console.warn("AG Grid: '"+o+"' is not a valid groupDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):o===r},h.prototype.matchesTreeDataDisplayType=function(r,o){var u=["auto","custom"];return u.indexOf(o)<0?(console.warn("AG Grid: '"+o+"' is not a valid treeDataDisplayType value - possible values are: '"+u.join("', '")+"'"),!1):o===r},h.MIN_COL_WIDTH=10,h.PROP_HEADER_HEIGHT="headerHeight",h.PROP_GROUP_REMOVE_SINGLE_CHILDREN="groupRemoveSingleChildren",h.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN="groupRemoveLowestSingleChildren",h.PROP_PIVOT_HEADER_HEIGHT="pivotHeaderHeight",h.PROP_SUPPRESS_CLIPBOARD_PASTE="suppressClipboardPaste",h.PROP_GROUP_HEADER_HEIGHT="groupHeaderHeight",h.PROP_PIVOT_GROUP_HEADER_HEIGHT="pivotGroupHeaderHeight",h.PROP_NAVIGATE_TO_NEXT_CELL="navigateToNextCell",h.PROP_TAB_TO_NEXT_CELL="tabToNextCell",h.PROP_NAVIGATE_TO_NEXT_HEADER="navigateToNextHeader",h.PROP_TAB_TO_NEXT_HEADER="tabToNextHeader",h.PROP_IS_EXTERNAL_FILTER_PRESENT="isExternalFilterPresent",h.PROP_DOES_EXTERNAL_FILTER_PASS="doesExternalFilterPass",h.PROP_FLOATING_FILTERS_HEIGHT="floatingFiltersHeight",h.PROP_SUPPRESS_ROW_CLICK_SELECTION="suppressRowClickSelection",h.PROP_SUPPRESS_ROW_DRAG="suppressRowDrag",h.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG="suppressMoveWhenRowDragging",h.PROP_GET_ROW_CLASS="getRowClass",h.PROP_GET_ROW_STYLE="getRowStyle",h.PROP_GET_ROW_HEIGHT="getRowHeight",h.PROP_POPUP_PARENT="popupParent",h.PROP_DOM_LAYOUT="domLayout",h.PROP_FILL_HANDLE_DIRECTION="fillHandleDirection",h.PROP_GROUP_ROW_AGG_NODES="groupRowAggNodes",h.PROP_GET_GROUP_ROW_AGG="getGroupRowAgg",h.PROP_GET_BUSINESS_KEY_FOR_NODE="getBusinessKeyForNode",h.PROP_GET_CHILD_COUNT="getChildCount",h.PROP_PROCESS_ROW_POST_CREATE="processRowPostCreate",h.PROP_GET_ROW_NODE_ID="getRowNodeId",h.PROP_GET_ROW_ID="getRowId",h.PROP_IS_FULL_WIDTH_CELL="isFullWidthCell",h.PROP_IS_FULL_WIDTH_ROW="isFullWidthRow",h.PROP_IS_ROW_SELECTABLE="isRowSelectable",h.PROP_IS_ROW_MASTER="isRowMaster",h.PROP_POST_SORT="postSort",h.PROP_POST_SORT_ROWS="postSortRows",h.PROP_GET_DOCUMENT="getDocument",h.PROP_POST_PROCESS_POPUP="postProcessPopup",h.PROP_DEFAULT_GROUP_ORDER_COMPARATOR="defaultGroupOrderComparator",h.PROP_INITIAL_GROUP_ORDER_COMPARATOR="initialGroupOrderComparator",h.PROP_PAGINATION_NUMBER_FORMATTER="paginationNumberFormatter",h.PROP_GET_CONTEXT_MENU_ITEMS="getContextMenuItems",h.PROP_GET_MAIN_MENU_ITEMS="getMainMenuItems",h.PROP_PROCESS_CELL_FOR_CLIPBOARD="processCellForClipboard",h.PROP_PROCESS_CELL_FROM_CLIPBOARD="processCellFromClipboard",h.PROP_SEND_TO_CLIPBOARD="sendToClipboard",h.PROP_PROCESS_TO_SECONDARY_COLDEF="processSecondaryColDef",h.PROP_PROCESS_SECONDARY_COL_GROUP_DEF="processSecondaryColGroupDef",h.PROP_GET_CHART_TOOLBAR_ITEMS="getChartToolbarItems",h.PROP_GET_SERVER_SIDE_STORE_PARAMS="getServerSideStoreParams",h.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT="isServerSideGroupOpenByDefault",h.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION="isApplyServerSideTransaction",h.PROP_IS_SERVER_SIDE_GROUP="isServerSideGroup",h.PROP_GET_SERVER_SIDE_GROUP_KEY="getServerSideGroupKey",Ta([K("gridOptions")],h.prototype,"gridOptions",void 0),Ta([K("eventService")],h.prototype,"eventService",void 0),Ta([K("environment")],h.prototype,"environment",void 0),Ta([K("eGridDiv")],h.prototype,"eGridDiv",void 0),Ta([Vp(0,Er("gridApi")),Vp(1,Er("columnApi"))],h.prototype,"agWire",null),Ta([_n],h.prototype,"destroy",null),Ta([We],h.prototype,"init",null),i=Ta([qe("gridOptionsWrapper")],h)}(),Hp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zt=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d};!function(h){h.AUTO_HEIGHT="ag-layout-auto-height",h.NORMAL="ag-layout-normal",h.PRINT="ag-layout-print"}(W.LayoutCssClasses||(W.LayoutCssClasses={}));var ul=function(h){function i(r){var o=h.call(this)||this;return o.view=r,o}return Hp(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()},i.prototype.updateLayoutClasses=function(){var r=this.gridOptionsWrapper.getDomLayout(),o={autoHeight:r===ge.DOM_LAYOUT_AUTO_HEIGHT,normal:r===ge.DOM_LAYOUT_NORMAL,print:r===ge.DOM_LAYOUT_PRINT};this.view.updateLayoutClasses(o.autoHeight?W.LayoutCssClasses.AUTO_HEIGHT:o.print?W.LayoutCssClasses.PRINT:W.LayoutCssClasses.NORMAL,o)},Zt([K("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),Zt([We],i.prototype,"postConstruct",null),i}(Ge),Bg=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Aa=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},rO=function(h){function i(r){var o=h.call(this)||this;return o.scrollLeft=-1,o.nextScrollTop=-1,o.scrollTop=-1,o.eBodyViewport=r,o.resetLastHorizontalScrollElementDebounced=pa(o.resetLastHorizontalScrollElement.bind(o),500),o}return Bg(i,h),i.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this)),this.ctrlsService.whenReady(function(o){r.centerRowContainerCtrl=o.centerRowContainerCtrl,r.onDisplayedColumnsWidthChanged(),r.addScrollListener()})},i.prototype.addScrollListener=function(){var r=this.ctrlsService.getFakeHScrollCtrl();this.addManagedListener(this.centerRowContainerCtrl.getViewportElement(),"scroll",this.onCenterViewportScroll.bind(this)),this.addManagedListener(r.getViewport(),"scroll",this.onFakeHorizontalScroll.bind(this));var o=this.gridOptionsWrapper.isDebounceVerticalScrollbar()?pa(this.onVerticalScroll.bind(this),100):this.onVerticalScroll.bind(this);this.addManagedListener(this.eBodyViewport,"scroll",o)},i.prototype.onDisplayedColumnsWidthChanged=function(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()},i.prototype.horizontallyScrollHeaderCenterAndFloatingCenter=function(r){if(null!=this.centerRowContainerCtrl){void 0===r&&(r=this.centerRowContainerCtrl.getCenterViewportScrollLeft());var u=this.enableRtl?r:-r,d=this.ctrlsService.getTopCenterRowContainerCtrl(),m=this.ctrlsService.getBottomCenterRowContainerCtrl(),w=this.ctrlsService.getFakeHScrollCtrl();this.ctrlsService.getHeaderRowContainerCtrl().setHorizontalScroll(u),m.setContainerTranslateX(u),d.setContainerTranslateX(u),Hl(this.lastHorizontalScrollElement===this.centerRowContainerCtrl.getViewportElement()?w.getViewport():this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl)}},i.prototype.isControllingScroll=function(r){return this.lastHorizontalScrollElement?r===this.lastHorizontalScrollElement:(this.lastHorizontalScrollElement=r,!0)},i.prototype.onFakeHorizontalScroll=function(){var r=this.ctrlsService.getFakeHScrollCtrl().getViewport();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},i.prototype.onCenterViewportScroll=function(){var r=this.centerRowContainerCtrl.getViewportElement();!this.isControllingScroll(r)||this.onBodyHorizontalScroll(r)},i.prototype.onBodyHorizontalScroll=function(r){var o=this.centerRowContainerCtrl.getViewportElement();this.shouldBlockScrollUpdate("horizontal",o.scrollLeft,!0)||(this.doHorizontalScroll(Math.round(Nn(r,this.enableRtl))),this.resetLastHorizontalScrollElementDebounced())},i.prototype.onVerticalScroll=function(){var r=this.eBodyViewport.scrollTop;this.shouldBlockScrollUpdate("vertical",r,!0)||(this.animationFrameService.setScrollTop(r),this.nextScrollTop=r,this.gridOptionsWrapper.isSuppressAnimationFrame()?(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()):this.animationFrameService.schedule())},i.prototype.resetLastHorizontalScrollElement=function(){this.lastHorizontalScrollElement=null},i.prototype.doHorizontalScroll=function(r){var u=Nn(this.ctrlsService.getFakeHScrollCtrl().getViewport(),this.enableRtl);this.scrollLeft===r&&r===u||(this.scrollLeft=r,this.fireScrollEvent("horizontal"),this.horizontallyScrollHeaderCenterAndFloatingCenter(r),this.onHorizontalViewportChanged())},i.prototype.fireScrollEvent=function(r){var o=this,u={type:ne.EVENT_BODY_SCROLL,api:this.gridApi,columnApi:this.columnApi,direction:r,left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(u),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(function(){var d=Object.assign({},u,{type:ne.EVENT_BODY_SCROLL_END});o.eventService.dispatchEvent(d)},100)},i.prototype.shouldBlockScrollUpdate=function(r,o,u){if(void 0===u&&(u=!1),u&&!dp())return!1;if("vertical"===r){var d=Vi(this.eBodyViewport);if(o<0||o+d>this.eBodyViewport.scrollHeight)return!0}if("horizontal"===r){var w=this.centerRowContainerCtrl.getCenterWidth(),P=this.centerRowContainerCtrl.getViewportElement().scrollWidth;if(this.enableRtl&&Xn()){if(o>0)return!0}else if(o<0)return!0;if(Math.abs(o)+w>P)return!0}return!1},i.prototype.redrawRowsAfterScroll=function(){this.fireScrollEvent("vertical")},i.prototype.onHorizontalViewportChanged=function(){this.centerRowContainerCtrl.onHorizontalViewportChanged()},i.prototype.checkScrollLeft=function(){this.scrollLeft!==this.centerRowContainerCtrl.getCenterViewportScrollLeft()&&this.onBodyHorizontalScroll(this.centerRowContainerCtrl.getViewportElement())},i.prototype.executeAnimationFrameScroll=function(){var r=this.scrollTop!=this.nextScrollTop;return r&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),r},i.prototype.setHorizontalScrollPosition=function(r){var u=this.centerRowContainerCtrl.getViewportElement().scrollWidth-this.centerRowContainerCtrl.getCenterWidth();this.shouldBlockScrollUpdate("horizontal",r)&&(r=this.enableRtl&&Xn()?r>0?0:u:Math.min(Math.max(r,0),u)),Hl(this.centerRowContainerCtrl.getViewportElement(),Math.abs(r),this.enableRtl),this.doHorizontalScroll(r)},i.prototype.setVerticalScrollPosition=function(r){this.eBodyViewport.scrollTop=r},i.prototype.getVScrollPosition=function(){return{top:this.eBodyViewport.scrollTop,bottom:this.eBodyViewport.scrollTop+this.eBodyViewport.offsetHeight}},i.prototype.getHScrollPosition=function(){return this.centerRowContainerCtrl.getHScrollPosition()},i.prototype.isHorizontalScrollShowing=function(){return this.centerRowContainerCtrl.isHorizontalScrollShowing()},i.prototype.scrollHorizontally=function(r){var o=this.centerRowContainerCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(o+r),this.centerRowContainerCtrl.getViewportElement().scrollLeft-o},i.prototype.scrollToTop=function(){this.eBodyViewport.scrollTop=0},i.prototype.ensureNodeVisible=function(r,o){void 0===o&&(o=null);for(var u=this.rowModel.getRowCount(),d="function"==typeof r,m=-1,w=0;w<u;w++){var P=this.rowModel.getRow(w);if(d){if(r(P)){m=w;break}}else if(r===P||r===P.data){m=w;break}}m>=0&&this.ensureIndexVisible(m,o)},i.prototype.ensureIndexVisible=function(r,o){if(this.gridOptionsWrapper.getDomLayout()!==ge.DOM_LAYOUT_PRINT){var u=this.paginationProxy.getRowCount();if("number"!=typeof r||r<0||r>=u)return void console.warn("invalid row index for ensureIndexVisible: "+r);this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()||this.paginationProxy.goToPageWithIndex(r);var P,w=this.paginationProxy.getRow(r);do{var x=w.rowTop,N=w.rowHeight,k=this.paginationProxy.getPixelOffset(),q=w.rowTop-k,ee=q+w.rowHeight,le=this.getVScrollPosition(),de=this.heightScaler.getDivStretchOffset(),ye=le.top+de,xe=le.bottom+de,Oe=xe-ye,Ee=this.heightScaler.getScrollPositionForPixel(q),$e=this.heightScaler.getScrollPositionForPixel(ee-Oe),pt=Math.min((Ee+$e)/2,q),Ue=null;"top"===o?Ue=Ee:"bottom"===o?Ue=$e:"middle"===o?Ue=pt:ye>q?Ue=Ee:xe<ee&&(Ue=$e),null!==Ue&&(this.eBodyViewport.scrollTop=Ue,this.rowRenderer.redrawAfterScroll()),P=x!==w.rowTop||N!==w.rowHeight}while(P);this.animationFrameService.flushAllFrames()}},i.prototype.ensureColumnVisible=function(r,o){void 0===o&&(o="auto");var u=this.columnModel.getGridColumn(r);if(u&&!u.isPinned()&&this.columnModel.isColumnDisplayed(u)){var d=this.getPositionedHorizontalScroll(u,o);null!==d&&this.centerRowContainerCtrl.setCenterViewportScrollLeft(d),this.centerRowContainerCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()}},i.prototype.getPositionedHorizontalScroll=function(r,o){var u=this.isColumnOutsideViewport(r),d=u.columnBeforeStart,m=u.columnAfterEnd,w=this.centerRowContainerCtrl.getCenterWidth()<r.getActualWidth(),P=this.centerRowContainerCtrl.getCenterWidth(),x=this.enableRtl,N=(x?d:m)||w,k=x?m:d;"auto"!==o&&(N="start"===o,k="end"===o);var q="middle"===o;if(N||k||q){var ee=this.getColumnBounds(r),le=ee.colLeft,ye=ee.colRight;return q?ee.colMiddle-P/2:N?x?ye:le:x?le-P:ye-P}return null},i.prototype.isColumnOutsideViewport=function(r){var o=this.getViewportBounds(),u=o.start,d=o.end,m=this.getColumnBounds(r),w=m.colLeft,P=m.colRight,x=this.enableRtl;return{columnBeforeStart:x?u>P:d<P,columnAfterEnd:x?d<w:u>w}},i.prototype.getColumnBounds=function(r){var o=this.enableRtl,u=this.columnModel.getBodyContainerWidth(),d=r.getActualWidth(),m=r.getLeft(),w=o?-1:1,P=o?u-m:m;return{colLeft:P,colMiddle:P+d/2*w,colRight:P+d*w}},i.prototype.getViewportBounds=function(){var r=this.centerRowContainerCtrl.getCenterWidth(),o=this.centerRowContainerCtrl.getCenterViewportScrollLeft();return{start:o,end:r+o,width:r}},Aa([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Aa([K("animationFrameService")],i.prototype,"animationFrameService",void 0),Aa([K("columnApi")],i.prototype,"columnApi",void 0),Aa([K("gridApi")],i.prototype,"gridApi",void 0),Aa([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Aa([K("rowModel")],i.prototype,"rowModel",void 0),Aa([K("rowContainerHeightService")],i.prototype,"heightScaler",void 0),Aa([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Aa([K("columnModel")],i.prototype,"columnModel",void 0),Aa([We],i.prototype,"postConstruct",null),i}(Ge),su=function(){function h(i){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=i.scrollContainer,this.scrollHorizontally=-1!==i.scrollAxis.indexOf("x"),this.scrollVertically=-1!==i.scrollAxis.indexOf("y"),this.scrollByTick=null!=i.scrollByTick?i.scrollByTick:20,i.onScrollCallback&&(this.onScrollCallback=i.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=i.getVerticalPosition,this.setVerticalPosition=i.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=i.getHorizontalPosition,this.setHorizontalPosition=i.setHorizontalPosition),this.shouldSkipVerticalScroll=i.shouldSkipVerticalScroll||function(){return!1},this.shouldSkipHorizontalScroll=i.shouldSkipHorizontalScroll||function(){return!1}}return h.prototype.check=function(i,r){void 0===r&&(r=!1);var o=r||this.shouldSkipVerticalScroll();if(!o||!this.shouldSkipHorizontalScroll()){var u=this.scrollContainer.getBoundingClientRect(),d=this.scrollByTick;this.tickLeft=i.clientX<u.left+d,this.tickRight=i.clientX>u.right-d,this.tickUp=i.clientY<u.top+d&&!o,this.tickDown=i.clientY>u.bottom-d&&!o,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}},h.prototype.ensureTickingStarted=function(){null===this.tickingInterval&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)},h.prototype.doTick=function(){var i;if(this.tickCount++,i=this.tickCount>20?200:this.tickCount>10?80:40,this.scrollVertically){var r=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(r-i),this.tickDown&&this.setVerticalPosition(r+i)}if(this.scrollHorizontally){var o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-i),this.tickRight&&this.setHorizontalPosition(o+i)}this.onScrollCallback&&this.onScrollCallback()},h.prototype.ensureCleared=function(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)},h}(),Ih=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Hg=function(){return Hg=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Hg.apply(this,arguments)},Zn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},uc=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},yS=function(h){function i(r){var o=h.call(this)||this;return o.isMultiRowDrag=!1,o.isGridSorted=!1,o.isGridFiltered=!1,o.isRowGroupActive=!1,o.eContainer=r,o}return Ih(i,h),i.prototype.postConstruct=function(){var r=this;this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel);var o=function(){r.onSortChanged(),r.onFilterChanged(),r.onRowGroupChanged()};this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,function(){o()}),o(),this.ctrlsService.whenReady(function(){var u=r.ctrlsService.getGridBodyCtrl();r.autoScrollService=new su({scrollContainer:u.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:function(){return u.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(d){return u.getScrollFeature().setVerticalScrollPosition(d)},onScrollCallback:function(){r.onDragging(r.lastDraggingEvent)}})})},i.prototype.onSortChanged=function(){this.isGridSorted=this.sortController.isSortActive()},i.prototype.onFilterChanged=function(){this.isGridFiltered=this.filterManager.isAnyFilterPresent()},i.prototype.onRowGroupChanged=function(){var r=this.columnModel.getRowGroupColumns();this.isRowGroupActive=!zn(r)},i.prototype.getContainer=function(){return this.eContainer},i.prototype.isInterestedIn=function(r){return r===W.DragSourceType.RowDrag},i.prototype.getIconName=function(){return this.gridOptionsWrapper.isRowDragManaged()&&this.shouldPreventRowMove()?kr.ICON_NOT_ALLOWED:kr.ICON_MOVE},i.prototype.shouldPreventRowMove=function(){return this.isGridSorted||this.isGridFiltered||this.isRowGroupActive},i.prototype.getRowNodes=function(r){var o=this;if(!this.isFromThisGrid(r))return r.dragItem.rowNodes||[];var u=this.gridOptionsWrapper.isRowDragMultiRow(),d=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(uc(arguments[i]));return h}(this.selectionService.getSelectedNodes()).sort(function(w,P){return o.getRowIndexNumber(w)-o.getRowIndexNumber(P)}),m=r.dragItem.rowNode;return u&&-1!==d.indexOf(m)?(this.isMultiRowDrag=!0,d):(this.isMultiRowDrag=!1,[m])},i.prototype.onDragEnter=function(r){r.dragItem.rowNodes=this.getRowNodes(r),this.dispatchGridEvent(ne.EVENT_ROW_DRAG_ENTER,r),this.getRowNodes(r).forEach(function(o){o.setDragging(!0)}),this.onEnterOrDragging(r)},i.prototype.onDragging=function(r){this.onEnterOrDragging(r)},i.prototype.isFromThisGrid=function(r){return r.dragSource.dragSourceDomDataKey===this.gridOptionsWrapper.getDomDataKey()},i.prototype.isDropZoneWithinThisGrid=function(r){return!this.ctrlsService.getGridBodyCtrl().getGui().contains(r.dropZoneTarget)},i.prototype.onEnterOrDragging=function(r){this.dispatchGridEvent(ne.EVENT_ROW_DRAG_MOVE,r),this.lastDraggingEvent=r;var o=this.mouseEventService.getNormalisedPosition(r).y;this.gridOptionsWrapper.isRowDragManaged()&&this.doManagedDrag(r,o),this.autoScrollService.check(r.event)},i.prototype.doManagedDrag=function(r,o){var u=this.isFromThisGrid(r),d=this.gridOptionsWrapper.isRowDragManaged(),m=r.dragItem.rowNodes;d&&this.shouldPreventRowMove()||(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!u?this.isDropZoneWithinThisGrid(r)||this.clientSideRowModel.highlightRowAtPixel(m[0],o):this.moveRows(m,o))},i.prototype.getRowIndexNumber=function(r){return parseInt(Jt(r.getRowIndexString().split("-")),10)},i.prototype.moveRowAndClearHighlight=function(r){var o=this,u=this.clientSideRowModel.getLastHighlightedRowNode(),d=u&&u.highlighted===W.RowHighlightPosition.Below,m=this.mouseEventService.getNormalisedPosition(r).y,w=r.dragItem.rowNodes,P=d?1:0;if(this.isFromThisGrid(r))w.forEach(function(k){k.rowTop<m&&(P-=1)}),this.moveRows(w,m,P);else{var x=this.gridOptionsWrapper.getRowIdFunc(),N=this.clientSideRowModel.getRowIndexAtPixel(m)+1;this.clientSideRowModel.getHighlightPosition(m)===W.RowHighlightPosition.Above&&N--,this.clientSideRowModel.updateRowData({add:w.map(function(k){return k.data}).filter(function(k){return!o.clientSideRowModel.getRowNode(x?x({data:k,level:0}):k.id)}),addIndex:N})}this.clearRowHighlight()},i.prototype.clearRowHighlight=function(){this.clientSideRowModel.highlightRowAtPixel(null)},i.prototype.moveRows=function(r,o,u){void 0===u&&(u=0),this.clientSideRowModel.ensureRowsAtPixel(r,o,u)&&(this.focusService.clearFocusedCell(),this.rangeService&&this.rangeService.removeAllCellRanges())},i.prototype.addRowDropZone=function(r){var o=this;if(r.getContainer())if(this.dragAndDropService.findExternalZone(r))console.warn("AG Grid: addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");else{var u={getContainer:r.getContainer};r.fromGrid?(r.fromGrid=void 0,u=r):(r.onDragEnter&&(u.onDragEnter=function(d){r.onDragEnter(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_ENTER,d))}),r.onDragLeave&&(u.onDragLeave=function(d){r.onDragLeave(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_LEAVE,d))}),r.onDragging&&(u.onDragging=function(d){r.onDragging(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_MOVE,d))}),r.onDragStop&&(u.onDragStop=function(d){r.onDragStop(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_END,d))})),this.dragAndDropService.addDropTarget(Hg({isInterestedIn:function(d){return d===W.DragSourceType.RowDrag},getIconName:function(){return kr.ICON_MOVE},external:!0},u))}else Wt(function(){return console.warn("AG Grid: addRowDropZone - A container target needs to be provided")},"add-drop-zone-empty-target")},i.prototype.getRowDropZone=function(r){var o=this,u=this.getContainer.bind(this),d=this.onDragEnter.bind(this),m=this.onDragLeave.bind(this),w=this.onDragging.bind(this),P=this.onDragStop.bind(this);return r?{getContainer:u,onDragEnter:r.onDragEnter?function(x){d(x),r.onDragEnter(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_ENTER,x))}:d,onDragLeave:r.onDragLeave?function(x){m(x),r.onDragLeave(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_LEAVE,x))}:m,onDragging:r.onDragging?function(x){w(x),r.onDragging(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_MOVE,x))}:w,onDragStop:r.onDragStop?function(x){P(x),r.onDragStop(o.draggingToRowDragEvent(ne.EVENT_ROW_DRAG_END,x))}:P,fromGrid:!0}:{getContainer:u,onDragEnter:d,onDragLeave:m,onDragging:w,onDragStop:P,fromGrid:!0}},i.prototype.draggingToRowDragEvent=function(r,o){var w,P,u=this.mouseEventService.getNormalisedPosition(o).y,m=-1;switch(u>this.paginationProxy.getCurrentPageHeight()||(m=this.rowModel.getRowIndexAtPixel(u),w=this.rowModel.getRow(m)),o.vDirection){case W.VerticalDirection.Down:P="down";break;case W.VerticalDirection.Up:P="up";break;default:P=null}return{type:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:m,overNode:w,y:u,vDirection:P}},i.prototype.dispatchGridEvent=function(r,o){var u=this.draggingToRowDragEvent(r,o);this.eventService.dispatchEvent(u)},i.prototype.onDragLeave=function(r){this.dispatchGridEvent(ne.EVENT_ROW_DRAG_LEAVE,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&this.clearRowHighlight(),this.isFromThisGrid(r)&&(this.isMultiRowDrag=!1)},i.prototype.onDragStop=function(r){this.dispatchGridEvent(ne.EVENT_ROW_DRAG_END,r),this.stopDragging(r),this.gridOptionsWrapper.isRowDragManaged()&&(this.gridOptionsWrapper.isSuppressMoveWhenRowDragging()||!this.isFromThisGrid(r))&&!this.isDropZoneWithinThisGrid(r)&&this.moveRowAndClearHighlight(r)},i.prototype.stopDragging=function(r){this.autoScrollService.ensureCleared(),this.getRowNodes(r).forEach(function(o){o.setDragging(!1)})},Zn([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Zn([K("rowModel")],i.prototype,"rowModel",void 0),Zn([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Zn([K("columnModel")],i.prototype,"columnModel",void 0),Zn([K("focusService")],i.prototype,"focusService",void 0),Zn([K("sortController")],i.prototype,"sortController",void 0),Zn([K("filterManager")],i.prototype,"filterManager",void 0),Zn([K("selectionService")],i.prototype,"selectionService",void 0),Zn([K("mouseEventService")],i.prototype,"mouseEventService",void 0),Zn([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Zn([jt("rangeService")],i.prototype,"rangeService",void 0),Zn([K("columnApi")],i.prototype,"columnApi",void 0),Zn([K("gridApi")],i.prototype,"gridApi",void 0),Zn([We],i.prototype,"postConstruct",null),i}(Ge),mS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Oi=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d};!function(h){h.ANIMATION_ON="ag-row-animation",h.ANIMATION_OFF="ag-row-no-animation"}(W.RowAnimationCssClasses||(W.RowAnimationCssClasses={}));var nC="ag-selectable",lu="ag-force-vertical-scroll",Jn="ag-column-moving",cc=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return mS(i,h),i.prototype.getScrollFeature=function(){return this.bodyScrollFeature},i.prototype.getBodyViewportElement=function(){return this.eBodyViewport},i.prototype.setComp=function(r,o,u,d,m){this.comp=r,this.eGridBody=o,this.eBodyViewport=u,this.eTop=d,this.eBottom=m,this.setCellTextSelection(this.gridOptionsWrapper.isEnableCellTextSelect()),this.createManagedBean(new ul(this.comp)),this.bodyScrollFeature=this.createManagedBean(new rO(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([d,u,m]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.ctrlsService.registerGridBodyCtrl(this)},i.prototype.getComp=function(){return this.comp},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_PINNED_ROW_DATA_CHANGED,this.setFloatingHeights.bind(this))},i.prototype.addFocusListeners=function(r){var o=this;r.forEach(function(u){o.addManagedListener(u,"focusin",function(){u.classList.add("ag-has-focus")}),o.addManagedListener(u,"focusout",function(d){u.contains(d.relatedTarget)||u.classList.remove("ag-has-focus")})})},i.prototype.setColumnMovingCss=function(r){this.comp.setColumnMovingCss(r?Jn:null,r)},i.prototype.setCellTextSelection=function(r){void 0===r&&(r=!1),this.comp.setCellSelectableCss(r?nC:null,r)},i.prototype.onScrollVisibilityChanged=function(){var r=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(r)},i.prototype.onGridColumnsChanged=function(){var r=this.columnModel.getAllGridColumns();this.comp.setColumnCount(r?r.length:0)},i.prototype.disableBrowserDragging=function(){this.addManagedListener(this.eGridBody,"dragstart",function(r){if(r.target instanceof HTMLImageElement)return r.preventDefault(),!1})},i.prototype.addStopEditingWhenGridLosesFocus=function(){var r=this;if(this.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus()){var o=function(d){var m=d.relatedTarget;if(null!==ki(m)){var w=u.some(function(x){return x.contains(m)})&&r.mouseEventService.isElementInThisGrid(m);if(!w){var P=r.popupService;w=P.getActivePopups().some(function(x){return x.contains(m)})||P.isElementWithinCustomPopup(m)}w||r.rowRenderer.stopEditing()}else r.rowRenderer.stopEditing()},u=[this.eBodyViewport,this.eBottom,this.eTop];u.forEach(function(d){return r.addManagedListener(d,"focusout",o)})}},i.prototype.updateRowCount=function(){var r=this.headerNavigationService.getHeaderRowCount(),o=this.paginationProxy.getType(),u=-1;o===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(u=0,this.paginationProxy.forEachNode(function(m){m.group||u++})),this.comp.setRowCount(-1===u?-1:r+u)},i.prototype.registerBodyViewportResizeListener=function(r){this.comp.registerBodyViewportResizeListener(r)},i.prototype.setVerticalScrollPaddingVisible=function(r){this.comp.setPinnedTopBottomOverflowY(r?"scroll":"hidden")},i.prototype.isVerticalScrollShowing=function(){var r=this.gridOptionsWrapper.isAlwaysShowVerticalScroll();return this.comp.setAlwaysVerticalScrollClass(r?lu:null,r),r||Xe(this.eBodyViewport)},i.prototype.setupRowAnimationCssClass=function(){var r=this,o=function(){var u=r.gridOptionsWrapper.isAnimateRows()&&!r.rowContainerHeightService.isStretching();r.comp.setRowAnimationCssOnBodyViewport(u?W.RowAnimationCssClasses.ANIMATION_ON:W.RowAnimationCssClasses.ANIMATION_OFF,u)};o(),this.addManagedListener(this.eventService,ne.EVENT_HEIGHT_SCALE_CHANGED,o)},i.prototype.getGridBodyElement=function(){return this.eGridBody},i.prototype.addBodyViewportListener=function(){var r=this;this.addManagedListener(this.eBodyViewport,"contextmenu",function(u){r.gridOptionsWrapper.isPreventDefaultOnContextMenu()&&u.preventDefault();var d=u.target;(d===r.eBodyViewport||d===r.ctrlsService.getCenterRowContainerCtrl().getViewportElement())&&r.contextMenuFactory&&r.contextMenuFactory.onContextMenu(u,null,null,null,null,r.eGridBody)}),this.addManagedListener(this.eBodyViewport,"wheel",this.onWheel.bind(this))},i.prototype.onWheel=function(r){!this.gridOptionsWrapper.isSuppressScrollWhenPopupsAreOpen()||this.popupService.hasAnchoredPopup()&&r.preventDefault()},i.prototype.getGui=function(){return this.eGridBody},i.prototype.scrollVertically=function(r){var o=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(o+r),this.eBodyViewport.scrollTop-o},i.prototype.addRowDragListener=function(){this.rowDragFeature=this.createManagedBean(new yS(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature)},i.prototype.getRowDragFeature=function(){return this.rowDragFeature},i.prototype.setFloatingHeights=function(){var r=this.pinnedRowModel,o=r.getPinnedTopTotalHeight();o&&(o+=1);var u=r.getPinnedBottomTotalHeight();u&&(u+=1),this.comp.setTopHeight(o),this.comp.setBottomHeight(u),this.comp.setTopDisplay(o?"inherit":"none"),this.comp.setBottomDisplay(u?"inherit":"none")},i.prototype.sizeColumnsToFit=function(r){var o=this,d=this.isVerticalScrollShowing()?this.gridOptionsWrapper.getScrollbarWidth():0,w=Ve(this.eBodyViewport)-d;w>0?this.columnModel.sizeColumnsToFit(w,"sizeColumnsToFit"):void 0===r?window.setTimeout(function(){o.sizeColumnsToFit(100)},0):100===r?window.setTimeout(function(){o.sizeColumnsToFit(500)},100):500===r?window.setTimeout(function(){o.sizeColumnsToFit(-1)},500):console.warn("AG Grid: tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")},i.prototype.addScrollEventListener=function(r){this.eBodyViewport.addEventListener("scroll",r)},i.prototype.removeScrollEventListener=function(r){this.eBodyViewport.removeEventListener("scroll",r)},Oi([K("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Oi([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Oi([K("columnModel")],i.prototype,"columnModel",void 0),Oi([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Oi([jt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Oi([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Oi([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Oi([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Oi([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Oi([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Oi([K("popupService")],i.prototype,"popupService",void 0),Oi([K("mouseEventService")],i.prototype,"mouseEventService",void 0),i}(Ge);(function(h){h[h.FILL=0]="FILL",h[h.RANGE=1]="RANGE"})(W.SelectionHandleType||(W.SelectionHandleType={})),function(h){h[h.VALUE=0]="VALUE",h[h.DIMENSION=1]="DIMENSION"}(W.CellRangeType||(W.CellRangeType={}));var uu="ag-cell-range-selected",wS=function(){function h(i,r){this.beans=i,this.cellCtrl=r}return h.prototype.setComp=function(i,r){this.cellComp=i,this.eGui=r,this.onRangeSelectionChanged()},h.prototype.onRangeSelectionChanged=function(){!this.cellComp||(this.rangeCount=this.beans.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(uu,0!==this.rangeCount),this.cellComp.addOrRemoveCssClass(uu+"-1",1===this.rangeCount),this.cellComp.addOrRemoveCssClass(uu+"-2",2===this.rangeCount),this.cellComp.addOrRemoveCssClass(uu+"-3",3===this.rangeCount),this.cellComp.addOrRemoveCssClass(uu+"-4",this.rangeCount>=4),this.cellComp.addOrRemoveCssClass("ag-cell-range-chart",this.hasChartRange),Kl(this.eGui,this.rangeCount>0||void 0),this.cellComp.addOrRemoveCssClass("ag-cell-range-single-cell",this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())},h.prototype.updateRangeBorders=function(){var i=this.getRangeBorders(),r=this.isSingleCell(),u=!r&&i.right,d=!r&&i.bottom,m=!r&&i.left;this.cellComp.addOrRemoveCssClass("ag-cell-range-top",!r&&i.top),this.cellComp.addOrRemoveCssClass("ag-cell-range-right",u),this.cellComp.addOrRemoveCssClass("ag-cell-range-bottom",d),this.cellComp.addOrRemoveCssClass("ag-cell-range-left",m)},h.prototype.isSingleCell=function(){var i=this.beans.rangeService;return 1===this.rangeCount&&i&&!i.isMoreThanOneCell()},h.prototype.getHasChartRange=function(){var i=this.beans.rangeService;if(!this.rangeCount||!i)return!1;var r=i.getCellRanges();return r.length>0&&r.every(function(o){return gi([W.CellRangeType.DIMENSION,W.CellRangeType.VALUE],o.type)})},h.prototype.updateRangeBordersIfRangeCount=function(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())},h.prototype.getRangeBorders=function(){var k,q,i=this,r=this.beans.gridOptionsWrapper.isEnableRtl(),o=!1,u=!1,d=!1,m=!1,w=this.cellCtrl.getCellPosition().column,P=this.beans,x=P.rangeService,N=P.columnModel;r?(k=N.getDisplayedColAfter(w),q=N.getDisplayedColBefore(w)):(k=N.getDisplayedColBefore(w),q=N.getDisplayedColAfter(w));var ee=x.getCellRanges().filter(function(Oe){return x.isCellInSpecificRange(i.cellCtrl.getCellPosition(),Oe)});k||(m=!0),q||(u=!0);for(var le=0;le<ee.length&&!(o&&u&&d&&m);le++){var de=ee[le],ye=x.getRangeStartRow(de),xe=x.getRangeEndRow(de);!o&&this.beans.rowPositionUtils.sameRow(ye,this.cellCtrl.getCellPosition())&&(o=!0),!d&&this.beans.rowPositionUtils.sameRow(xe,this.cellCtrl.getCellPosition())&&(d=!0),!m&&k&&de.columns.indexOf(k)<0&&(m=!0),!u&&q&&de.columns.indexOf(q)<0&&(u=!0)}return{top:o,right:u,bottom:d,left:m}},h.prototype.refreshHandle=function(){if(this.beans.rangeService){var i=this.shouldHaveSelectionHandle();this.selectionHandle&&!i&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),i&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass("ag-cell-range-handle",!!this.selectionHandle)}},h.prototype.shouldHaveSelectionHandle=function(){var i=this.beans,r=i.gridOptionsWrapper,o=i.rangeService,u=o.getCellRanges(),d=u.length;if(this.rangeCount<1||d<1)return!1;var m=Jt(u),w=this.cellCtrl.getCellPosition(),P=r.isEnableFillHandle()&&!this.cellCtrl.isSuppressFillHandle(),x=r.isEnableRangeHandle(),N=1===d&&!this.cellCtrl.isEditing()&&(P||x);if(this.hasChartRange){var q=u[0].type===W.CellRangeType.DIMENSION&&o.isCellInSpecificRange(w,u[0]);this.cellComp.addOrRemoveCssClass("ag-cell-range-chart-category",q),N=m.type===W.CellRangeType.VALUE}return N&&null!=m.endRow&&o.isContiguousRange(m)&&o.isBottomRightCell(m,w)},h.prototype.addSelectionHandle=function(){var i=this.beans,r=i.gridOptionsWrapper,u=Jt(i.rangeService.getCellRanges()).type,m=r.isEnableFillHandle()&&b(u)?W.SelectionHandleType.FILL:W.SelectionHandleType.RANGE;this.selectionHandle&&this.selectionHandle.getType()!==m&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.beans.selectionHandleFactory.createSelectionHandle(m)),this.selectionHandle.refresh(this.cellCtrl)},h.prototype.destroy=function(){this.beans.context.destroyBean(this.selectionHandle)},h}(),_S=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sO=function(h){function i(r,o){var u=h.call(this)||this;return u.cellCtrl=r,u.beans=o,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u.setupColSpan(),u.setupRowSpan(),u}return _S(i,h),i.prototype.setupRowSpan=function(){this.rowSpan=this.column.getRowSpan(this.rowNode)},i.prototype.setComp=function(r){this.eGui=r,this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()},i.prototype.onDisplayColumnsChanged=function(){var r=this.getColSpanningList();Ws(this.colsSpanning,r)||(this.colsSpanning=r,this.onWidthChanged(),this.onLeftChanged())},i.prototype.setupColSpan=function(){null!=this.column.getColDef().colSpan&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListener(this.beans.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayColumnsChanged.bind(this)),this.addManagedListener(this.beans.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onWidthChanged.bind(this)))},i.prototype.onWidthChanged=function(){if(this.eGui){var r=this.getCellWidth();this.eGui.style.width=r+"px"}},i.prototype.getCellWidth=function(){return this.colsSpanning?this.colsSpanning.reduce(function(r,o){return r+o.getActualWidth()},0):this.column.getActualWidth()},i.prototype.getColSpanningList=function(){var r=this.column.getColSpan(this.rowNode),o=[];if(1===r)o.push(this.column);else for(var u=this.column,d=this.column.getPinned(),m=0;u&&m<r&&(o.push(u),(u=this.beans.columnModel.getDisplayedColAfter(u))&&!b(u)&&d===u.getPinned());m++);return o},i.prototype.onLeftChanged=function(){if(this.eGui){var r=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=r+"px"}},i.prototype.getCellLeft=function(){return(this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Jt(this.colsSpanning):this.column).getLeft()},i.prototype.modifyLeftForPrintLayout=function(r){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()===ge.PINNED_LEFT)return r;var o=this.beans.columnModel.getDisplayedColumnsLeftWidth();return this.column.getPinned()===ge.PINNED_RIGHT?o+this.beans.columnModel.getBodyContainerWidth()+(r||0):o+(r||0)},i.prototype.applyRowSpan=function(){if(1!==this.rowSpan){var r=this.beans.gridOptionsWrapper.getRowHeightAsNumber();this.eGui.style.height=r*this.rowSpan+"px",this.eGui.style.zIndex="1"}},i.prototype.destroy=function(){h.prototype.destroy.call(this)},i}(Ge),SS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lh=function(h){function i(r,o){var u=h.call(this)||this;return u.staticClasses=[],u.cellCtrl=r,u.beans=o,u.column=r.getColumn(),u.rowNode=r.getRowNode(),u}return SS(i,h),i.prototype.setComp=function(r){this.cellComp=r,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()},i.prototype.applyCellClassRules=function(){var r=this,o=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.beans.stylingService.processClassRules(o.cellClassRules,u,function(d){return r.cellComp.addOrRemoveCssClass(d,!0)},function(d){return r.cellComp.addOrRemoveCssClass(d,!1)})},i.prototype.applyUserStyles=function(){var r=this.column.getColDef();if(r.cellStyle){var o;if("function"==typeof r.cellStyle){var u={column:this.column,value:this.cellCtrl.getValue(),colDef:r,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};o=(0,r.cellStyle)(u)}else o=r.cellStyle;this.cellComp.setUserStyles(o)}},i.prototype.applyClassesFromColDef=function(){var r=this,o=this.column.getColDef(),u={value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:o,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()};this.staticClasses.length&&this.staticClasses.forEach(function(d){return r.cellComp.addOrRemoveCssClass(d,!1)}),this.staticClasses=this.beans.stylingService.getStaticCellClasses(o,u),this.staticClasses.length&&this.staticClasses.forEach(function(d){return r.cellComp.addOrRemoveCssClass(d,!0)})},i.prototype.destroy=function(){h.prototype.destroy.call(this)},i}(Ge),aC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wo=function(h){function i(r,o){var u=h.call(this)||this;return u.ctrl=r,u.beans=o,u}return aC(i,h),i.prototype.setComp=function(r){this.comp=r,this.setupTooltip()},i.prototype.setupTooltip=function(){this.browserTooltips=this.beans.gridOptionsWrapper.isEnableBrowserTooltips(),this.updateTooltipText(),this.browserTooltips?this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0):this.createTooltipFeatureIfNeeded()},i.prototype.updateTooltipText=function(){this.tooltip=this.ctrl.getTooltipValue()},i.prototype.createTooltipFeatureIfNeeded=function(){var r=this;null==this.genericTooltipFeature&&(this.genericTooltipFeature=this.createManagedBean(new mp({getTooltipParams:function(){return r.getTooltipParams()},getGui:function(){return r.ctrl.getGui()}}),this.beans.context))},i.prototype.refreshToolTip=function(){this.updateTooltipText(),this.browserTooltips&&this.comp.setTitle(null!=this.tooltip?this.tooltip:void 0)},i.prototype.getTooltipParams=function(){var r=this.ctrl,o=r.getColumn?r.getColumn():void 0,u=r.getColDef?r.getColDef():void 0,d=r.getRowNode?r.getRowNode():void 0;return{location:r.getLocation(),colDef:u,column:o,rowIndex:r.getRowIndex?r.getRowIndex():void 0,node:d,data:d?d.data:void 0,value:this.getTooltipText(),valueFormatted:r.getValueFormatted?r.getValueFormatted():void 0}},i.prototype.getTooltipText=function(){return this.tooltip},i.prototype.destroy=function(){h.prototype.destroy.call(this)},i}(Ge),bt=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Gh=function(){function h(){}return h.prototype.postConstruct=function(){this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail(),this.gridOptionsWrapper.isRowModelDefault()&&(this.clientSideRowModel=this.rowModel),this.gridOptionsWrapper.isRowModelServerSide()&&(this.serverSideRowModel=this.rowModel)},bt([K("resizeObserverService")],h.prototype,"resizeObserverService",void 0),bt([K("paginationProxy")],h.prototype,"paginationProxy",void 0),bt([K("context")],h.prototype,"context",void 0),bt([K("columnApi")],h.prototype,"columnApi",void 0),bt([K("gridApi")],h.prototype,"gridApi",void 0),bt([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),bt([K("expressionService")],h.prototype,"expressionService",void 0),bt([K("rowRenderer")],h.prototype,"rowRenderer",void 0),bt([K("templateService")],h.prototype,"templateService",void 0),bt([K("valueService")],h.prototype,"valueService",void 0),bt([K("eventService")],h.prototype,"eventService",void 0),bt([K("columnModel")],h.prototype,"columnModel",void 0),bt([K("headerNavigationService")],h.prototype,"headerNavigationService",void 0),bt([K("navigationService")],h.prototype,"navigationService",void 0),bt([K("columnAnimationService")],h.prototype,"columnAnimationService",void 0),bt([jt("rangeService")],h.prototype,"rangeService",void 0),bt([K("focusService")],h.prototype,"focusService",void 0),bt([jt("contextMenuFactory")],h.prototype,"contextMenuFactory",void 0),bt([K("popupService")],h.prototype,"popupService",void 0),bt([K("valueFormatterService")],h.prototype,"valueFormatterService",void 0),bt([K("stylingService")],h.prototype,"stylingService",void 0),bt([K("columnHoverService")],h.prototype,"columnHoverService",void 0),bt([K("userComponentFactory")],h.prototype,"userComponentFactory",void 0),bt([K("userComponentRegistry")],h.prototype,"userComponentRegistry",void 0),bt([K("animationFrameService")],h.prototype,"animationFrameService",void 0),bt([K("dragAndDropService")],h.prototype,"dragAndDropService",void 0),bt([K("sortController")],h.prototype,"sortController",void 0),bt([K("filterManager")],h.prototype,"filterManager",void 0),bt([K("rowContainerHeightService")],h.prototype,"rowContainerHeightService",void 0),bt([K("frameworkOverrides")],h.prototype,"frameworkOverrides",void 0),bt([K("cellPositionUtils")],h.prototype,"cellPositionUtils",void 0),bt([K("rowPositionUtils")],h.prototype,"rowPositionUtils",void 0),bt([K("selectionService")],h.prototype,"selectionService",void 0),bt([jt("selectionHandleFactory")],h.prototype,"selectionHandleFactory",void 0),bt([K("rowCssClassCalculator")],h.prototype,"rowCssClassCalculator",void 0),bt([K("rowModel")],h.prototype,"rowModel",void 0),bt([K("ctrlsService")],h.prototype,"ctrlsService",void 0),bt([K("ctrlsFactory")],h.prototype,"ctrlsFactory",void 0),bt([K("agStackComponentsRegistry")],h.prototype,"agStackComponentsRegistry",void 0),bt([K("valueCache")],h.prototype,"valueCache",void 0),bt([K("rowNodeEventThrottle")],h.prototype,"rowNodeEventThrottle",void 0),bt([We],h.prototype,"postConstruct",null),bt([qe("beans")],h)}(),sC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lC=function(h){function i(r,o,u){var d=h.call(this)||this;return d.cellCtrl=r,d.beans=o,d.column=u,d}return sC(i,h),i.prototype.onMouseEvent=function(r,o){if(!ha(o))switch(r){case"click":this.onCellClicked(o);break;case"mousedown":case"touchstart":this.onMouseDown(o);break;case"dblclick":this.onCellDoubleClicked(o);break;case"mouseout":this.onMouseOut(o);break;case"mouseover":this.onMouseOver(o)}},i.prototype.onCellClicked=function(r){if(this.isDoubleClickOnIPad())return this.onCellDoubleClicked(r),void r.preventDefault();var o=this.beans,u=o.eventService,d=o.gridOptionsWrapper,m=this.cellCtrl.createEvent(r,ne.EVENT_CELL_CLICKED);u.dispatchEvent(m);var w=this.column.getColDef();w.onCellClicked&&window.setTimeout(function(){return w.onCellClicked(m)},0),(d.isSingleClickEdit()||w.singleClickEdit)&&!d.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit()},i.prototype.isDoubleClickOnIPad=function(){if(!dp()||ap("dblclick"))return!1;var r=(new Date).getTime(),o=r-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=r,o},i.prototype.onCellDoubleClicked=function(r){var o=this.column.getColDef(),u=this.cellCtrl.createEvent(r,ne.EVENT_CELL_DOUBLE_CLICKED);this.beans.eventService.dispatchEvent(u),"function"==typeof o.onCellDoubleClicked&&window.setTimeout(function(){return o.onCellDoubleClicked(u)},0),!this.beans.gridOptionsWrapper.isSingleClickEdit()&&!this.beans.gridOptionsWrapper.isSuppressClickEdit()&&this.cellCtrl.startRowOrCellEdit(null,null,r)},i.prototype.onMouseDown=function(r){var o=r.ctrlKey,u=r.metaKey,d=r.shiftKey,m=r.target,w=this.beans,P=w.eventService,x=w.rangeService;if(!this.isRightClickInExistingRange(r)){var N=x&&0!=x.getCellRanges().length;if(!d||!N){var k=ph()&&!this.cellCtrl.isEditing()&&!hh(m);this.cellCtrl.focusCell(k)}if(d&&N&&r.preventDefault(),!this.containsWidget(m)){if(x){var q=this.cellCtrl.getCellPosition();d?x.extendLatestRangeToCell(q):x.setRangeToCell(q,o||u)}P.dispatchEvent(this.cellCtrl.createEvent(r,ne.EVENT_CELL_MOUSE_DOWN))}}},i.prototype.isRightClickInExistingRange=function(r){var o=this.beans.rangeService;return!(!o||!o.isCellInAnyRange(this.cellCtrl.getCellPosition())||2!==r.button)},i.prototype.containsWidget=function(r){return sn(r,"ag-selection-checkbox",3)},i.prototype.onMouseOut=function(r){if(!this.mouseStayingInsideCell(r)){var o=this.cellCtrl.createEvent(r,ne.EVENT_CELL_MOUSE_OUT);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.clearMouseOver()}},i.prototype.onMouseOver=function(r){if(!this.mouseStayingInsideCell(r)){var o=this.cellCtrl.createEvent(r,ne.EVENT_CELL_MOUSE_OVER);this.beans.eventService.dispatchEvent(o),this.beans.columnHoverService.setMouseOver([this.column])}},i.prototype.mouseStayingInsideCell=function(r){if(!r.target||!r.relatedTarget)return!1;var o=this.cellCtrl.getGui(),u=o.contains(r.target),d=o.contains(r.relatedTarget);return u&&d},i.prototype.destroy=function(){},i}(Gh),lO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),uO=function(h){function i(r,o,u,d,m){var w=h.call(this)||this;return w.cellCtrl=r,w.beans=o,w.rowNode=d,w.rowCtrl=m,w}return lO(i,h),i.prototype.setComp=function(r){this.eGui=r},i.prototype.onKeyDown=function(r){var o=r.key;switch(o){case Ie.ENTER:this.onEnterKeyDown(r);break;case Ie.F2:this.onF2KeyDown(r);break;case Ie.ESCAPE:this.onEscapeKeyDown(r);break;case Ie.TAB:this.onTabKeyDown(r);break;case Ie.BACKSPACE:case Ie.DELETE:this.onBackspaceOrDeleteKeyPressed(o,r);break;case Ie.DOWN:case Ie.UP:case Ie.RIGHT:case Ie.LEFT:this.onNavigationKeyPressed(r,o)}},i.prototype.onNavigationKeyPressed=function(r,o){this.cellCtrl.isEditing()||(r.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(o):this.beans.navigationService.navigateToNextCell(r,o,this.cellCtrl.getCellPosition(),!0),r.preventDefault())},i.prototype.onShiftRangeSelect=function(r){if(this.beans.rangeService){var o=this.beans.rangeService.extendLatestRangeInDirection(r);o&&this.beans.navigationService.ensureCellVisible(o)}},i.prototype.onTabKeyDown=function(r){this.beans.navigationService.onTabKeyDown(this.cellCtrl,r)},i.prototype.onBackspaceOrDeleteKeyPressed=function(r,o){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(r,void 0,o)},i.prototype.onEnterKeyDown=function(r){this.cellCtrl.isEditing()||this.rowCtrl.isEditing()?this.cellCtrl.stopEditingAndFocus():this.beans.gridOptionsWrapper.isEnterMovesDown()?this.beans.navigationService.navigateToNextCell(null,Ie.DOWN,this.cellCtrl.getCellPosition(),!1):(this.cellCtrl.startRowOrCellEdit(Ie.ENTER,void 0,r),this.cellCtrl.isEditing()&&r.preventDefault())},i.prototype.onF2KeyDown=function(r){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(Ie.F2,void 0,r)},i.prototype.onEscapeKeyDown=function(r){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))},i.prototype.onKeyPress=function(r){if(r.target===this.eGui&&!this.cellCtrl.isEditing()){var d=String.fromCharCode(r.charCode);" "===d?this.onSpaceKeyPressed(r):Im(r)&&(this.cellCtrl.startRowOrCellEdit(null,d,r),r.preventDefault())}},i.prototype.onSpaceKeyPressed=function(r){var o=this.beans.gridOptionsWrapper;if(!this.cellCtrl.isEditing()&&o.isRowSelection()){var u=this.rowNode.isSelected(),d=!u;if(d||!o.isSuppressRowDeselection()){var m=this.beans.gridOptionsWrapper.isGroupSelectsFiltered(),w=this.rowNode.setSelectedParams({newValue:d,rangeSelect:r.shiftKey,groupSelectsFiltered:m});void 0===u&&0===w&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:r.shiftKey,groupSelectsFiltered:m})}}r.preventDefault()},i.prototype.destroy=function(){},i}(Ge),QR=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),jg=function(h){function i(r,o,u,d){var m=h.call(this,'<div class="ag-drag-handle ag-row-drag" draggable="true"></div>')||this;return m.rowNode=r,m.column=o,m.beans=u,m.eCell=d,m}return QR(i,h),i.prototype.postConstruct=function(){this.getGui().appendChild(Fr("rowDrag",this.beans.gridOptionsWrapper,null)),this.addGuiEventListener("mousedown",function(o){o.stopPropagation()}),this.addDragSource(),this.checkVisibility()},i.prototype.addDragSource=function(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))},i.prototype.onDragStart=function(r){var o=this,u=this.column.getColDef().dndSourceOnRowDrag;r.dataTransfer.setDragImage(this.eCell,0,0),u?u({rowNode:this.rowNode,dragEvent:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):function(){try{var w=JSON.stringify(o.rowNode.data);r.dataTransfer.setData("application/json",w),r.dataTransfer.setData("text/plain",w)}catch(P){}}()},i.prototype.checkVisibility=function(){var r=this.column.isDndSource(this.rowNode);this.setDisplayed(r)},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(Rt),cl=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ug=function(){return Ug=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Ug.apply(this,arguments)},zg="ag-cell-not-inline-editing",en=0,pl=function(h){function i(r,o,u,d){var m=h.call(this)||this;return m.suppressRefreshCell=!1,m.column=r,m.rowNode=o,m.beans=u,m.rowCtrl=d,m.instanceId=r.getId()+"-"+en++,m.createCellPosition(),m.addFeatures(),m}return cl(i,h),i.prototype.addFeatures=function(){var r=this;this.cellPositionFeature=new sO(this,this.beans),this.addDestroyFunc(function(){return r.cellPositionFeature.destroy()}),this.cellCustomStyleFeature=new Lh(this,this.beans),this.addDestroyFunc(function(){return r.cellCustomStyleFeature.destroy()}),this.cellMouseListenerFeature=new lC(this,this.beans,this.column),this.addDestroyFunc(function(){return r.cellMouseListenerFeature.destroy()}),this.cellKeyboardListenerFeature=new uO(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.addDestroyFunc(function(){return r.cellKeyboardListenerFeature.destroy()}),this.beans.rangeService&&this.beans.gridOptionsWrapper.isEnableRangeSelection()&&(this.cellRangeFeature=new wS(this.beans,this),this.addDestroyFunc(function(){return r.cellRangeFeature.destroy()})),this.addTooltipFeature()},i.prototype.addTooltipFeature=function(){var r=this;this.tooltipFeature=new wo({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getRowIndex:function(){return r.cellPosition.rowIndex},getRowNode:function(){return r.rowNode},getGui:function(){return r.getGui()},getLocation:function(){return"cell"},getTooltipValue:function(){var d=r.column.getColDef(),m=r.rowNode.data;if(d.tooltipField&&re(m))return Hs(m,d.tooltipField,r.column.isTooltipFieldContainsDots());var w=d.tooltipValueGetter;return w?w({location:"cell",api:r.beans.gridOptionsWrapper.getApi(),columnApi:r.beans.gridOptionsWrapper.getColumnApi(),context:r.beans.gridOptionsWrapper.getContext(),colDef:r.column.getColDef(),column:r.column,rowIndex:r.cellPosition.rowIndex,node:r.rowNode,data:r.rowNode.data,value:r.value,valueFormatted:r.valueFormatted}):null},getValueFormatted:function(){return r.valueFormatted}},this.beans),this.addDestroyFunc(function(){return r.tooltipFeature.destroy()})},i.prototype.setComp=function(r,o,u,d,m){this.cellComp=r,this.gow=this.beans.gridOptionsWrapper,this.eGui=o,this.eCellWrapper=u,this.printLayout=d,this.updateAndFormatValue(!0),this.addDomData(),this.onCellFocused(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAriaExpanded(),this.setupAutoHeight(),this.setAriaColIndex(),this.gow.isSuppressCellFocus()||this.cellComp.setTabIndex(-1);var w=co(this.column.getId());this.cellComp.setColId(w),this.cellComp.setRole("gridcell"),this.cellPositionFeature.setComp(o),this.cellCustomStyleFeature.setComp(r),this.tooltipFeature.setComp(r),this.cellKeyboardListenerFeature.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(r,o),m&&this.isCellEditable()?this.startEditing():this.showValue()},i.prototype.setupAutoHeight=function(){var r=this;if(this.column.isAutoHeight()){var o=this.eCellWrapper,u=o.parentElement,d=this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height,m=function(x){if(!r.editing&&r.isAlive()){var N=r.beans.gridOptionsWrapper.getDocument();if((!N||!N.contains(o))&&x<5)return void r.beans.frameworkOverrides.setTimeout(function(){return m(x+1)},0);var k=Hu(u),ye=Math.max(o.offsetHeight+k.paddingTop+k.paddingBottom,d);r.rowNode.setRowAutoHeight(ye,r.column)}},w=function(){return m(0)};w();var P=this.beans.resizeObserverService.observeResize(o,w);this.addDestroyFunc(function(){P(),r.rowNode.setRowAutoHeight(void 0,r.column)})}},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.showValue=function(r){void 0===r&&(r=!1);var o=null!=this.valueFormatted?this.valueFormatted:this.value,u=this.createCellRendererParams(),d=this.beans.userComponentFactory.getCellRendererDetails(this.column.getColDef(),u);this.cellComp.setRenderDetails(d,o,r),this.refreshHandle()},i.prototype.setupControlComps=function(){var r=this.column.getColDef();this.includeSelection=this.isIncludeControl(r.checkboxSelection),this.includeRowDrag=this.isIncludeControl(r.rowDrag),this.includeDndSource=this.isIncludeControl(r.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)},i.prototype.isForceWrapper=function(){return this.beans.gridOptionsWrapper.isEnableCellTextSelection()||this.column.isAutoHeight()},i.prototype.isIncludeControl=function(r){return!(null!=this.rowNode.rowPinned||"function"!=typeof r&&!0!==r)},i.prototype.setupAriaExpanded=function(){var r=this,o=this.column.getColDef();if(this.rowNode.isExpandable()){var u=o.showRowGroup,d=this.rowNode.rowGroupColumn,m=!0===u,w=d&&d.getColId()===u;if(m||w){var x=function(){wi(r.eGui,!!r.rowNode.expanded)};this.addManagedListener(this.rowNode,_t.EVENT_EXPANDED_CHANGED,x),x()}}},i.prototype.refreshShouldDestroy=function(){var r=this.column.getColDef(),o=this.includeSelection!=this.isIncludeControl(r.checkboxSelection),u=this.includeRowDrag!=this.isIncludeControl(r.rowDrag),d=this.includeDndSource!=this.isIncludeControl(r.dndSource);return o||u||d},i.prototype.startEditing=function(r,o,u,d){var m,w;if(void 0===r&&(r=null),void 0===o&&(o=null),void 0===u&&(u=!1),void 0===d&&(d=null),this.isCellEditable()&&!this.editing){var P=this.createCellEditorParams(r,o,u),x=this.column.getColDef(),N=this.beans.userComponentFactory.getCellEditorDetails(x,P),k=null!=(null===(m=N)||void 0===m?void 0:m.popupFromSelector)?N.popupFromSelector:!!x.cellEditorPopup,q=null!=(null===(w=N)||void 0===w?void 0:w.popupPositionFromSelector)?N.popupPositionFromSelector:x.cellEditorPopupPosition;this.setEditing(!0,k),this.cellComp.setEditDetails(N,k,q);var ee=this.createEvent(d,ne.EVENT_CELL_EDITING_STARTED);this.beans.eventService.dispatchEvent(ee)}},i.prototype.setEditing=function(r,o){void 0===o&&(o=!1),this.editing!==r&&(this.editing=r,this.editingInPopup=o,this.setInlineEditingClass())},i.prototype.stopRowOrCellEdit=function(r){void 0===r&&(r=!1),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.stopRowEditing(r):this.stopEditing(r)},i.prototype.onPopupEditorClosed=function(){!this.isEditing()||this.stopEditingAndFocus()},i.prototype.takeValueFromCellEditor=function(r){var o={newValueExists:!1};if(r)return o;var u=this.cellComp.getCellEditor();return u?u.isCancelAfterEnd&&u.isCancelAfterEnd()?o:{newValue:u.getValue(),newValueExists:!0}:o},i.prototype.saveNewValue=function(r,o){if(o===r)return!1;if(this.beans.gridOptionsWrapper.isReadOnlyEdit())return this.dispatchEventForSaveValueReadOnly(r,o),!1;this.suppressRefreshCell=!0;var u=this.rowNode.setDataValue(this.column,o);return this.suppressRefreshCell=!1,u},i.prototype.dispatchEventForSaveValueReadOnly=function(r,o){var u=this.rowNode,d={type:ne.EVENT_CELL_EDIT_REQUEST,event:null,rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:this.column,api:this.beans.gridApi,columnApi:this.beans.columnApi,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),data:u.data,node:u,oldValue:r,newValue:o,value:o,source:void 0};this.beans.eventService.dispatchEvent(d)},i.prototype.stopEditing=function(r){if(void 0===r&&(r=!1),!this.editing)return!1;var o=this.takeValueFromCellEditor(r),u=o.newValue,d=o.newValueExists,m=this.getValueFromValueService(),w=!1;return d&&(w=this.saveNewValue(m,u)),this.setEditing(!1),this.cellComp.setEditDetails(),this.updateAndFormatValue(),this.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.dispatchEditingStoppedEvent(m,u),w},i.prototype.dispatchEditingStoppedEvent=function(r,o){var u=Ug(Ug({},this.createEvent(null,ne.EVENT_CELL_EDITING_STOPPED)),{oldValue:r,newValue:o});this.beans.eventService.dispatchEvent(u)},i.prototype.setInlineEditingClass=function(){if(this.isAlive()){var r=this.editing&&!this.editingInPopup,o=this.editing&&this.editingInPopup;this.cellComp.addOrRemoveCssClass("ag-cell-inline-editing",r),this.cellComp.addOrRemoveCssClass(zg,!r),this.cellComp.addOrRemoveCssClass("ag-cell-popup-editing",o),this.rowCtrl.setInlineEditingCss(this.editing)}},i.prototype.hackSayEditingInPopup=function(){this.editingInPopup||(this.editingInPopup=!0,this.setInlineEditingClass())},i.prototype.createCellEditorParams=function(r,o,u){return{value:this.getValueFromValueService(),key:r,eventKey:r,charPress:o,column:this.column,colDef:this.column.getColDef(),rowIndex:this.getCellPosition().rowIndex,node:this.rowNode,data:this.rowNode.data,api:this.beans.gridOptionsWrapper.getApi(),cellStartedEdit:u,columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),onKeyDown:this.onKeyDown.bind(this),stopEditing:this.stopEditingAndFocus.bind(this),eGridCell:this.getGui(),parseValue:this.parseValue.bind(this),formatValue:this.formatValue.bind(this)}},i.prototype.createCellRendererParams=function(){var r=this;return{value:this.value,valueFormatted:this.valueFormatted,getValue:this.getValueFromValueService.bind(this),setValue:function(d){return r.beans.valueService.setValue(r.rowNode,r.column,d)},formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,colDef:this.column.getColDef(),column:this.column,rowIndex:this.getCellPosition().rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:function(d,m,w,P){return r.registerRowDragger(d,m,P)},addRowCompListener:function(d,m){console.warn("AG Grid: since AG Grid v26, params.addRowCompListener() is deprecated. If you need this functionality, please contact AG Grid support and advise why so that we can revert with an appropriate workaround, as we dont have any valid use cases for it. This method was originally provided as a work around to know when cells were destroyed in AG Grid before custom Cell Renderers could be provided."),r.rowCtrl.addEventListener(d,m)}}},i.prototype.parseValue=function(r){var o=this.column.getColDef(),u={node:this.rowNode,data:this.rowNode.data,oldValue:this.getValue(),newValue:r,colDef:o,column:this.column,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext()},d=o.valueParser;return re(d)?this.beans.expressionService.evaluate(d,u):r},i.prototype.setFocusOutOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusOut&&r.focusOut()}},i.prototype.setFocusInOnEditor=function(){if(this.editing){var r=this.cellComp.getCellEditor();r&&r.focusIn?r.focusIn():this.focusCell(!0)}},i.prototype.onCellChanged=function(r){this.cellComp&&r.column===this.column&&this.refreshCell({})},i.prototype.refreshCell=function(r){if(!this.suppressRefreshCell&&!this.editing&&this.cellComp){var o=this.column.getColDef(),u=null!=r&&!!r.newData,d=null!=r&&!!r.suppressFlash||!!o.suppressCellFlash,w=r&&r.forceRefresh||null==o.field&&null==o.valueGetter&&null==o.showRowGroup||u,P=this.updateAndFormatValue();if(w||P){this.showValue(u);var N=this.beans.filterManager.isSuppressFlashingCellsBecauseFiltering();!d&&!N&&(this.beans.gridOptionsWrapper.isEnableCellChangeFlash()||o.enableCellChangeFlash)&&this.flashCell(),this.cellCustomStyleFeature.applyUserStyles(),this.cellCustomStyleFeature.applyClassesFromColDef()}this.refreshToolTip(),this.cellCustomStyleFeature.applyCellClassRules()}},i.prototype.stopEditingAndFocus=function(r){void 0===r&&(r=!1),this.stopRowOrCellEdit(),this.focusCell(!0),r||this.navigateAfterEdit()},i.prototype.navigateAfterEdit=function(){this.beans.gridOptionsWrapper.isFullRowEdit()||this.beans.gridOptionsWrapper.isEnterMovesDownAfterEdit()&&this.beans.navigationService.navigateToNextCell(null,Ie.DOWN,this.getCellPosition(),!1)},i.prototype.flashCell=function(r){this.animateCell("data-changed",r&&r.flashDelay,r&&r.fadeDelay)},i.prototype.animateCell=function(r,o,u){var d=this,m="ag-cell-"+r,w="ag-cell-"+r+"-animation",P=this.beans.gridOptionsWrapper;o||(o=P.getCellFlashDelay()),re(u)||(u=P.getCellFadeDelay()),this.cellComp.addOrRemoveCssClass(m,!0),this.cellComp.addOrRemoveCssClass(w,!1),window.setTimeout(function(){d.cellComp.addOrRemoveCssClass(m,!1),d.cellComp.addOrRemoveCssClass(w,!0),d.eGui.style.transition="background-color "+u+"ms",window.setTimeout(function(){d.cellComp.addOrRemoveCssClass(w,!1),d.eGui.style.transition=""},u)},o)},i.prototype.onFlashCells=function(r){if(this.cellComp){var o=this.beans.cellPositionUtils.createId(this.getCellPosition());r.cells[o]&&this.animateCell("highlight")}},i.prototype.isCellEditable=function(){return this.column.isCellEditable(this.rowNode)},i.prototype.isSuppressFillHandle=function(){return this.column.isSuppressFillHandle()},i.prototype.formatValue=function(r){var o=this.callValueFormatter(r);return null!=o?o:r},i.prototype.callValueFormatter=function(r){return this.beans.valueFormatterService.formatValue(this.column,this.rowNode,r)},i.prototype.updateAndFormatValue=function(r){void 0===r&&(r=!1);var o=this.value,u=this.valueFormatted;return this.value=this.getValueFromValueService(),this.valueFormatted=this.callValueFormatter(this.value),!!r||!this.valuesAreEqual(o,this.value)||this.valueFormatted!=u},i.prototype.valuesAreEqual=function(r,o){var u=this.column.getColDef();return u.equals?u.equals(r,o):r===o},i.prototype.getComp=function(){return this.cellComp},i.prototype.getValueFromValueService=function(){var r=this.rowNode.leafGroup&&this.beans.columnModel.isPivotMode(),o=this.rowNode.group&&this.rowNode.expanded&&!this.rowNode.footer&&!r,u=this.beans.gridOptionsWrapper.isGroupIncludeFooter(),d=this.beans.gridOptionsWrapper.isGroupSuppressBlankHeader();return this.beans.valueService.getValue(this.column,this.rowNode,!1,o&&u&&!d)},i.prototype.getValue=function(){return this.value},i.prototype.getValueFormatted=function(){return this.valueFormatted},i.prototype.addDomData=function(){var r=this,o=this.getGui();this.beans.gridOptionsWrapper.setDomData(o,i.DOM_DATA_KEY_CELL_CTRL,this),this.addDestroyFunc(function(){return r.beans.gridOptionsWrapper.setDomData(o,i.DOM_DATA_KEY_CELL_CTRL,null)})},i.prototype.createEvent=function(r,o){return{type:o,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridApi,columnApi:this.beans.columnApi,rowPinned:this.rowNode.rowPinned,event:r,rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyPress=function(r){this.cellKeyboardListenerFeature.onKeyPress(r)},i.prototype.onKeyDown=function(r){this.cellKeyboardListenerFeature.onKeyDown(r)},i.prototype.onMouseEvent=function(r,o){this.cellMouseListenerFeature.onMouseEvent(r,o)},i.prototype.getGui=function(){return this.eGui},i.prototype.refreshToolTip=function(){this.tooltipFeature.refreshToolTip()},i.prototype.getColSpanningList=function(){return this.cellPositionFeature.getColSpanningList()},i.prototype.onLeftChanged=function(){!this.cellComp||this.cellPositionFeature.onLeftChanged()},i.prototype.onDisplayedColumnsChanged=function(){!this.eGui||this.setAriaColIndex()},i.prototype.setAriaColIndex=function(){var r=this.beans.columnModel.getAriaColumnIndex(this.column);Pm(this.getGui(),r)},i.prototype.isSuppressNavigable=function(){return this.column.isSuppressNavigable(this.rowNode)},i.prototype.onWidthChanged=function(){return this.cellPositionFeature.onWidthChanged()},i.prototype.getColumn=function(){return this.column},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getBeans=function(){return this.beans},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.appendChild=function(r){this.eGui.appendChild(r)},i.prototype.refreshHandle=function(){this.editing||this.cellRangeFeature&&this.cellRangeFeature.refreshHandle()},i.prototype.getCellPosition=function(){return this.cellPosition},i.prototype.isEditing=function(){return this.editing},i.prototype.startRowOrCellEdit=function(r,o,u){void 0===u&&(u=null),this.beans.gridOptionsWrapper.isFullRowEdit()?this.rowCtrl.startRowEditing(r,o,this):this.startEditing(r,o,!0,u)},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getRowPosition=function(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}},i.prototype.updateRangeBordersIfRangeCount=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()},i.prototype.onRangeSelectionChanged=function(){!this.cellComp||this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.isRangeSelectionEnabled=function(){return null!=this.cellRangeFeature},i.prototype.focusCell=function(r){void 0===r&&(r=!1),this.beans.focusService.setFocusedCell(this.getCellPosition().rowIndex,this.column,this.rowNode.rowPinned,r)},i.prototype.onRowIndexChanged=function(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onRangeSelectionChanged()},i.prototype.onFirstRightPinnedChanged=function(){if(this.cellComp){var r=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass("ag-cell-first-right-pinned",r)}},i.prototype.onLastLeftPinnedChanged=function(){if(this.cellComp){var r=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass("ag-cell-last-left-pinned",r)}},i.prototype.onCellFocused=function(r){if(this.cellComp&&!this.gow.isSuppressCellFocus()){var o=this.beans.focusService.isCellFocused(this.cellPosition);this.cellComp.addOrRemoveCssClass("ag-cell-focus",o),o&&r&&r.forceBrowserFocus&&this.cellComp.getFocusableElement().focus();var d=this.beans.gridOptionsWrapper.isFullRowEdit();!o&&!d&&this.editing&&this.stopRowOrCellEdit()}},i.prototype.createCellPosition=function(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:sa(this.rowNode.rowPinned),column:this.column}},i.prototype.applyStaticCssClasses=function(){this.cellComp.addOrRemoveCssClass("ag-cell",!0),this.cellComp.addOrRemoveCssClass(zg,!0);var r=1==this.column.isAutoHeight();this.cellComp.addOrRemoveCssClass("ag-cell-auto-height",r),this.cellComp.addOrRemoveCssClass("ag-cell-normal-height",!r)},i.prototype.onColumnHover=function(){if(this.cellComp&&this.beans.gridOptionsWrapper.isColumnHoverHighlight()){var r=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass("ag-column-hover",r)}},i.prototype.onNewColumnsLoaded=function(){!this.cellComp||(this.setWrapText(),this.editing||this.refreshCell({forceRefresh:!0,suppressFlash:!0}))},i.prototype.setWrapText=function(){var r=1==this.column.getColDef().wrapText;this.cellComp.addOrRemoveCssClass("ag-cell-wrap-text",r)},i.prototype.dispatchCellContextMenuEvent=function(r){var o=this.column.getColDef(),u=this.createEvent(r,ne.EVENT_CELL_CONTEXT_MENU);this.beans.eventService.dispatchEvent(u),o.onCellContextMenu&&window.setTimeout(function(){return o.onCellContextMenu(u)},0)},i.prototype.getCellRenderer=function(){return this.cellComp?this.cellComp.getCellRenderer():null},i.prototype.getCellEditor=function(){return this.cellComp?this.cellComp.getCellEditor():null},i.prototype.destroy=function(){h.prototype.destroy.call(this)},i.prototype.createSelectionCheckbox=function(){var r=new Dp;return this.beans.context.createBean(r),r.init({rowNode:this.rowNode,column:this.column}),r},i.prototype.createDndSource=function(){var r=new jg(this.rowNode,this.column,this.beans,this.eGui);return this.beans.context.createBean(r),r},i.prototype.registerRowDragger=function(r,o,u){var d=this;if(this.customRowDragComp)this.customRowDragComp.setDragElement(r,o);else{var m=this.createRowDragComp(r,o,u);m&&(this.customRowDragComp=m,this.addDestroyFunc(function(){return d.beans.context.destroyBean(m)}))}},i.prototype.createRowDragComp=function(r,o,u){var d=this,m=this.beans.gridOptionsWrapper.isPagination(),w=this.beans.gridOptionsWrapper.isRowDragManaged(),P=this.beans.gridOptionsWrapper.isRowModelDefault();if(w){if(!P)return void Wt(function(){return console.warn("AG Grid: managed row dragging is only allowed in the Client Side Row Model")},"CellComp.addRowDragging");if(m)return void Wt(function(){return console.warn("AG Grid: managed row dragging is not possible when doing pagination")},"CellComp.addRowDragging")}var x=new bi(function(){return d.value},this.rowNode,this.column,r,o,u);return this.beans.context.createBean(x),x},i.DOM_DATA_KEY_CELL_CTRL="cellCtrl",i}(Ge),RS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kg=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},ei=(()=>(function(h){h.Normal="Normal",h.FullWidth="FullWidth",h.FullWidthLoading="FullWidthLoading",h.FullWidthGroup="FullWidthGroup",h.FullWidthDetail="FullWidthDetail"}(ei||(ei={})),ei))(),DS=0,vs=function(h){function i(r,o,u,d,m){var w=h.call(this)||this;return w.allRowGuis=[],w.active=!0,w.centerCellCtrls={list:[],map:{}},w.leftCellCtrls={list:[],map:{}},w.rightCellCtrls={list:[],map:{}},w.lastMouseDownOnDragger=!1,w.updateColumnListsPending=!1,w.beans=o,w.rowNode=r,w.paginationPage=w.beans.paginationProxy.getCurrentPage(),w.useAnimationFrameForCreate=d,w.printLayout=m,w.instanceId=r.id+"-"+DS++,w.setAnimateFlags(u),w.rowFocused=w.beans.focusService.isRowFocused(w.rowNode.rowIndex,w.rowNode.rowPinned),w.rowLevel=w.beans.rowCssClassCalculator.calculateRowLevel(w.rowNode),w.setRowType(),w.addListeners(),w.setInitialRowTop(),w}return RS(i,h),i.prototype.getBeans=function(){return this.beans},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(r,o,u){var d={rowComp:r,element:o,containerType:u};this.allRowGuis.push(d),u===W.RowContainerType.LEFT?this.leftGui=d:u===W.RowContainerType.RIGHT?this.rightGui=d:u===W.RowContainerType.FULL_WIDTH?this.fullWidthGui=d:this.centerGui=d,(null!=this.leftGui&&null!=this.rightGui&&null!=this.centerGui||null!=this.fullWidthGui)&&this.initialiseRowComps()},i.prototype.isCacheable=function(){return this.rowType===ei.FullWidthDetail&&this.beans.gridOptionsWrapper.isKeepDetailRows()},i.prototype.setCached=function(r){var o=r?"none":"";this.allRowGuis.forEach(function(u){return u.element.style.display=o})},i.prototype.initialiseRowComps=function(){var r=this,o=this.beans.gridOptionsWrapper;this.onRowHeightChanged(),this.updateRowIndexes(),this.setFocusedClasses(),this.setStylesFromGridOptions(),o.isRowSelection()&&this.rowNode.selectable&&this.onRowSelected(),this.updateColumnLists(!this.useAnimationFrameForCreate),this.slideRowIn&&Xf(this.onTopChanged.bind(this)),this.fadeRowIn&&Xf(function(){r.allRowGuis.forEach(function(w){return w.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)})});var u=this.getRowBusinessKey(),d=co(this.rowNode.id),m=co(u);this.allRowGuis.forEach(function(w){var P=w.rowComp;P.setRole("row"),r.getInitialRowClasses(w.containerType).forEach(function(N){return P.addOrRemoveCssClass(N,!0)}),r.rowNode.group&&wi(w.element,1==r.rowNode.expanded),null!=d&&P.setRowId(d),null!=m&&P.setRowBusinessKey(m),r.isFullWidth()&&!r.beans.gridOptionsWrapper.isSuppressCellFocus()&&P.setTabIndex(-1),o.setDomData(w.element,i.DOM_DATA_KEY_ROW_CTRL,r),r.addDestroyFunc(function(){return o.setDomData(w.element,i.DOM_DATA_KEY_ROW_CTRL,null)}),r.useAnimationFrameForCreate?r.beans.animationFrameService.createTask(r.addHoverFunctionality.bind(r,w.element),r.rowNode.rowIndex,"createTasksP2"):r.addHoverFunctionality(w.element),r.isFullWidth()&&r.setupFullWidth(w),o.isRowDragEntireRow()&&r.addRowDraggerToRow(w),r.useAnimationFrameForCreate&&r.beans.animationFrameService.addDestroyTask(function(){!r.isAlive()||w.rowComp.addOrRemoveCssClass("ag-after-created",!0)})}),this.executeProcessRowPostCreateFunc()},i.prototype.addRowDraggerToRow=function(r){if(this.beans.gridOptionsWrapper.isEnableRangeSelection())Wt(function(){console.warn("AG Grid: Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `enableRangeSelection: true`")},"rowDragAndRangeSelectionEnabled");else{var u=new bi(function(){return"1 row"},this.rowNode,void 0,r.element,void 0,!0);this.createManagedBean(u,this.beans.context)}},i.prototype.setupFullWidth=function(r){var o=this.getPinnedForContainer(r.containerType),u=this.createFullWidthParams(r.element,o),d=yt.isRegistered(W.ModuleNames.MasterDetailModule);if(this.rowType!=ei.FullWidthDetail||d){var m;switch(this.rowType){case ei.FullWidthDetail:m=this.beans.userComponentFactory.getFullWidthDetailCellRendererDetails(u);break;case ei.FullWidthGroup:m=this.beans.userComponentFactory.getFullWidthGroupCellRendererDetails(u);break;case ei.FullWidthLoading:m=this.beans.userComponentFactory.getFullWidthLoadingCellRendererDetails(u);break;default:m=this.beans.userComponentFactory.getFullWidthCellRendererDetails(u)}r.rowComp.showFullWidth(m)}else yt.isPackageBased()?console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with ag-grid-enterprise package."):console.warn("AG Grid: cell renderer 'agDetailCellRenderer' (for master detail) not found. Can only be used with AG Grid Enterprise Module "+W.ModuleNames.MasterDetailModule)},i.prototype.isPrintLayout=function(){return this.printLayout},i.prototype.getCellElement=function(r){var o=this.getCellCtrl(r);return o?o.getGui():null},i.prototype.executeProcessRowPostCreateFunc=function(){var r=this.beans.gridOptionsWrapper.getProcessRowPostCreateFunc();r&&r({eRow:this.centerGui?this.centerGui.element:void 0,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)})},i.prototype.setRowType=function(){var r=this.rowNode.stub,o=this.rowNode.isFullWidthCell(),u=this.beans.doingMasterDetail&&this.rowNode.detail,d=this.beans.columnModel.isPivotMode(),w=!!this.rowNode.group&&!this.rowNode.footer&&this.beans.gridOptionsWrapper.isGroupUseEntireRow(d);this.rowType=r?ei.FullWidthLoading:u?ei.FullWidthDetail:o?ei.FullWidth:w?ei.FullWidthGroup:ei.Normal},i.prototype.updateColumnLists=function(r){var o=this;if(void 0===r&&(r=!1),!this.isFullWidth()){if(r||this.beans.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout)return void this.updateColumnListsImpl();this.updateColumnListsPending||(this.beans.animationFrameService.createTask(function(){!o.active||o.updateColumnListsImpl()},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}},i.prototype.createCellCtrls=function(r,o,u){var d=this;void 0===u&&(u=null);var m={list:[],map:{}},w=function(P,x){m.list.push(x),m.map[P]=x};return o.forEach(function(P){var x=P.getInstanceId(),N=r.map[x];N||(N=new pl(P,d.rowNode,d.beans,d)),w(x,N)}),r.list.forEach(function(P){if(null==m.map[P.getColumn().getInstanceId()]){if(!d.isCellEligibleToBeRemoved(P,u))return void w(P.getColumn().getInstanceId(),P);P.destroy()}}),m},i.prototype.updateColumnListsImpl=function(){var r=this;this.updateColumnListsPending=!1;var o=this.beans.columnModel;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,o.getAllDisplayedColumns()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{var u=o.getViewportCenterColumnsForRow(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,u);var d=o.getDisplayedLeftColumnsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,d,ge.PINNED_LEFT);var m=o.getDisplayedRightColumnsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,m,ge.PINNED_RIGHT)}this.allRowGuis.forEach(function(w){w.rowComp.setCellCtrls((w.containerType===W.RowContainerType.LEFT?r.leftCellCtrls:w.containerType===W.RowContainerType.RIGHT?r.rightCellCtrls:r.centerCellCtrls).list)})},i.prototype.isCellEligibleToBeRemoved=function(r,o){var u=!0;if(r.getColumn().getPinned()!=o)return u;var w=r.isEditing(),P=this.beans.focusService.isCellFocused(r.getCellPosition());if(w||P){var N=r.getColumn();return!(this.beans.columnModel.getAllDisplayedColumns().indexOf(N)>=0)&&u}return u},i.prototype.setAnimateFlags=function(r){if(r){var o=re(this.rowNode.oldRowTop);this.slideRowIn=o,this.fadeRowIn=!o}else this.slideRowIn=!1,this.fadeRowIn=!1},i.prototype.isEditing=function(){return this.editingRow},i.prototype.stopRowEditing=function(r){this.stopEditing(r)},i.prototype.isFullWidth=function(){return this.rowType!==ei.Normal},i.prototype.getRowType=function(){return this.rowType},i.prototype.refreshFullWidth=function(){var r=this,o=function(x,N){if(!x)return!0;var k=x.rowComp.getFullWidthCellRenderer();if(!k||!k.refresh)return!1;var q=r.createFullWidthParams(x.element,N);return k.refresh(q)},u=o(this.fullWidthGui,null),d=o(this.centerGui,null),m=o(this.leftGui,ge.PINNED_LEFT),w=o(this.rightGui,ge.PINNED_RIGHT);return u&&d&&m&&w},i.prototype.addListeners=function(){this.addManagedListener(this.rowNode,_t.EVENT_HEIGHT_CHANGED,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_ROW_SELECTED,this.onRowSelected.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_ROW_INDEX_CHANGED,this.onRowIndexChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_TOP_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_EXPANDED_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_HAS_CHILDREN_CHANGED,this.updateExpandedCss.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_DATA_CHANGED,this.onRowNodeDataChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_CELL_CHANGED,this.onRowNodeCellChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_HIGHLIGHT_CHANGED,this.onRowNodeHighlightChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_DRAGGING_CHANGED,this.onRowNodeDraggingChanged.bind(this)),this.addManagedListener(this.rowNode,_t.EVENT_UI_LEVEL_CHANGED,this.onUiLevelChanged.bind(this));var r=this.beans.eventService;this.addManagedListener(r,ne.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED,this.onPaginationPixelOffsetChanged.bind(this)),this.addManagedListener(r,ne.EVENT_HEIGHT_SCALE_CHANGED,this.onTopChanged.bind(this)),this.addManagedListener(r,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(r,ne.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(r,ne.EVENT_CELL_FOCUSED,this.onCellFocusChanged.bind(this)),this.addManagedListener(r,ne.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),this.addManagedListener(r,ne.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(r,ne.EVENT_COLUMN_MOVED,this.onColumnMoved.bind(this)),this.addListenersForCellComps()},i.prototype.onColumnMoved=function(){this.updateColumnLists()},i.prototype.addListenersForCellComps=function(){var r=this;this.addManagedListener(this.rowNode,_t.EVENT_ROW_INDEX_CHANGED,function(){r.getAllCellCtrls().forEach(function(o){return o.onRowIndexChanged()})}),this.addManagedListener(this.rowNode,_t.EVENT_CELL_CHANGED,function(o){r.getAllCellCtrls().forEach(function(u){return u.onCellChanged(o)})})},i.prototype.onRowNodeDataChanged=function(r){this.getAllCellCtrls().forEach(function(o){return o.refreshCell({suppressFlash:!r.update,newData:!r.update})}),this.onRowSelected(),this.postProcessCss()},i.prototype.onRowNodeCellChanged=function(){this.postProcessCss()},i.prototype.postProcessCss=function(){this.setStylesFromGridOptions(),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()},i.prototype.onRowNodeHighlightChanged=function(){var r=this.rowNode.highlighted;this.allRowGuis.forEach(function(o){var d=r===W.RowHighlightPosition.Below;o.rowComp.addOrRemoveCssClass("ag-row-highlight-above",r===W.RowHighlightPosition.Above),o.rowComp.addOrRemoveCssClass("ag-row-highlight-below",d)})},i.prototype.onRowNodeDraggingChanged=function(){this.postProcessRowDragging()},i.prototype.postProcessRowDragging=function(){var r=this.rowNode.dragging;this.allRowGuis.forEach(function(o){return o.rowComp.addOrRemoveCssClass("ag-row-dragging",r)})},i.prototype.updateExpandedCss=function(){var r=this.rowNode.isExpandable(),o=1==this.rowNode.expanded;this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-group",r),u.rowComp.addOrRemoveCssClass("ag-row-group-expanded",r&&o),u.rowComp.addOrRemoveCssClass("ag-row-group-contracted",r&&!o),wi(u.element,r&&o)})},i.prototype.onDisplayedColumnsChanged=function(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()},i.prototype.onVirtualColumnsChanged=function(){this.updateColumnLists()},i.prototype.getRowPosition=function(){return{rowPinned:sa(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}},i.prototype.onKeyboardNavigate=function(r){var o=this.allRowGuis.find(function(x){return x.element.contains(r.target)});if((o?o.element:null)===r.target){var m=this.rowNode,w=this.beans.focusService.getFocusedCell();this.beans.navigationService.navigateToNextCell(r,r.key,{rowIndex:m.rowIndex,rowPinned:m.rowPinned,column:w&&w.column},!0),r.preventDefault()}},i.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented&&!ha(r)){var o=this.allRowGuis.find(function(w){return w.element.contains(r.target)}),u=o?o.element:null,d=u===r.target,m=null;d||(m=this.beans.focusService.findNextFocusableElement(u,!1,r.shiftKey)),(this.isFullWidth()&&d||!m)&&this.beans.navigationService.onTabKeyDown(this,r)}},i.prototype.onFullWidthRowFocused=function(r){var o,u=this.rowNode,d=this.isFullWidth()&&r.rowIndex===u.rowIndex&&r.rowPinned==u.rowPinned,m=this.fullWidthGui?this.fullWidthGui.element:null===(o=this.centerGui)||void 0===o?void 0:o.element;!m||(m.classList.toggle("ag-full-width-focus",d),d&&m.focus({preventScroll:!0}))},i.prototype.refreshCell=function(r){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,r),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,r),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,r),this.updateColumnLists()},i.prototype.removeCellCtrl=function(r,o){var u={list:[],map:{}};return r.list.forEach(function(d){d!==o&&(u.list.push(d),u.map[d.getInstanceId()]=d)}),u},i.prototype.onMouseEvent=function(r,o){switch(r){case"dblclick":this.onRowDblClick(o);break;case"click":this.onRowClick(o);break;case"touchstart":case"mousedown":this.onRowMouseDown(o)}},i.prototype.createRowEvent=function(r,o){return{type:r,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,context:this.beans.gridOptionsWrapper.getContext(),api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),event:o}},i.prototype.createRowEventWithSource=function(r,o){var u=this.createRowEvent(r,o);return u.source=this,u},i.prototype.onRowDblClick=function(r){if(!ha(r)){var o=this.createRowEventWithSource(ne.EVENT_ROW_DOUBLE_CLICKED,r);this.beans.eventService.dispatchEvent(o)}},i.prototype.onRowMouseDown=function(r){if(this.lastMouseDownOnDragger=sn(r.target,"ag-row-drag",3),this.isFullWidth()){var o=this.rowNode;this.beans.focusService.setFocusedCell(o.rowIndex,this.beans.columnModel.getAllDisplayedColumns()[0],o.rowPinned,!0)}},i.prototype.onRowClick=function(r){if(!ha(r)&&!this.lastMouseDownOnDragger){var u=this.createRowEventWithSource(ne.EVENT_ROW_CLICKED,r);this.beans.eventService.dispatchEvent(u);var d=r.ctrlKey||r.metaKey,m=r.shiftKey;if(!(this.beans.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowNode.group||!this.rowNode.selectable||this.rowNode.rowPinned||!this.beans.gridOptionsWrapper.isRowSelection()||this.beans.gridOptionsWrapper.isSuppressRowClickSelection())){var P=this.beans.gridOptionsWrapper.isRowMultiSelectWithClick(),x=!this.beans.gridOptionsWrapper.isSuppressRowDeselection();this.rowNode.isSelected()?P?this.rowNode.setSelectedParams({newValue:!1}):d?x&&this.rowNode.setSelectedParams({newValue:!1}):this.rowNode.setSelectedParams({newValue:!m,clearSelection:!m,rangeSelect:m}):this.rowNode.setSelectedParams({newValue:!0,clearSelection:!P&&!d,rangeSelect:m})}}},i.prototype.setupDetailRowAutoHeight=function(r){var o=this;if(this.rowType===ei.FullWidthDetail&&this.beans.gridOptionsWrapper.isDetailRowAutoHeight()){var u=function(){var m=r.clientHeight;null!=m&&m>0&&o.beans.frameworkOverrides.setTimeout(function(){o.rowNode.setRowHeight(m),o.beans.clientSideRowModel?o.beans.clientSideRowModel.onRowHeightChanged():o.beans.serverSideRowModel&&o.beans.serverSideRowModel.onRowHeightChanged()},0)},d=this.beans.resizeObserverService.observeResize(r,u);this.addDestroyFunc(d),u()}},i.prototype.createFullWidthParams=function(r,o){var u=this;return{fullWidth:!0,data:this.rowNode.data,node:this.rowNode,value:this.rowNode.key,valueFormatted:this.rowNode.key,rowIndex:this.rowNode.rowIndex,api:this.beans.gridOptionsWrapper.getApi(),columnApi:this.beans.gridOptionsWrapper.getColumnApi(),context:this.beans.gridOptionsWrapper.getContext(),eGridCell:r,eParentOfValue:r,pinned:o,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:function(m,w,P,x){return u.addFullWidthRowDragging(m,w,P,x)}}},i.prototype.addFullWidthRowDragging=function(r,o,u,d){if(void 0===u&&(u=""),this.isFullWidth()){var m=new bi(function(){return u},this.rowNode,void 0,r,o,d);this.createManagedBean(m,this.beans.context)}},i.prototype.onUiLevelChanged=function(){var r=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=r){var o="ag-row-level-"+r,u="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(function(d){d.rowComp.addOrRemoveCssClass(o,!0),d.rowComp.addOrRemoveCssClass(u,!1)})}this.rowLevel=r},i.prototype.isFirstRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageFirstRow()},i.prototype.isLastRowOnPage=function(){return this.rowNode.rowIndex===this.beans.paginationProxy.getPageLastRow()},i.prototype.onModelUpdated=function(){this.refreshFirstAndLastRowStyles()},i.prototype.refreshFirstAndLastRowStyles=function(){var r=this.isFirstRowOnPage(),o=this.isLastRowOnPage();this.firstRowOnPage!==r&&(this.firstRowOnPage=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-first",r)})),this.lastRowOnPage!==o&&(this.lastRowOnPage=o,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-last",o)}))},i.prototype.stopEditing=function(r){void 0===r&&(r=!1);var o=this.getAllCellCtrls().map(function(d){return d.stopEditing(r)});if(this.editingRow){if(!r&&o.some(function(d){return d})){var u=this.createRowEvent(ne.EVENT_ROW_VALUE_CHANGED);this.beans.eventService.dispatchEvent(u)}this.setEditingRow(!1)}},i.prototype.setInlineEditingCss=function(r){this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-inline-editing",r),o.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!r)})},i.prototype.setEditingRow=function(r){this.editingRow=r,this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-row-editing",r)});var o=this.createRowEvent(r?ne.EVENT_ROW_EDITING_STARTED:ne.EVENT_ROW_EDITING_STOPPED);this.beans.eventService.dispatchEvent(o)},i.prototype.startRowEditing=function(r,o,u,d){void 0===r&&(r=null),void 0===o&&(o=null),void 0===u&&(u=null),void 0===d&&(d=null),!this.editingRow&&(this.getAllCellCtrls().forEach(function(m){var w=m===u;w?m.startEditing(r,o,w,d):m.startEditing(null,null,w,d)}),this.setEditingRow(!0))},i.prototype.getAllCellCtrls=function(){var r=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(Kg(arguments[i]));return h}(this.centerCellCtrls.list,this.leftCellCtrls.list,this.rightCellCtrls.list);return r},i.prototype.postProcessClassesFromGridOptions=function(){var r=this,o=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!o||!o.length||o.forEach(function(u){r.allRowGuis.forEach(function(d){return d.rowComp.addOrRemoveCssClass(u,!0)})})},i.prototype.postProcessRowClassRules=function(){var r=this;this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,function(o){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(o,!0)})},function(o){r.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass(o,!1)})})},i.prototype.setStylesFromGridOptions=function(){var r=this.processStylesFromGridOptions();this.allRowGuis.forEach(function(o){return o.rowComp.setUserStyles(r)})},i.prototype.getRowBusinessKey=function(){var r=this.beans.gridOptionsWrapper.getBusinessKeyForNodeFunc();if("function"==typeof r)return r(this.rowNode)},i.prototype.getPinnedForContainer=function(r){return r===W.RowContainerType.LEFT?ge.PINNED_LEFT:r===W.RowContainerType.RIGHT?ge.PINNED_RIGHT:null},i.prototype.getInitialRowClasses=function(r){var o=this.getPinnedForContainer(r),u={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeRowIn,rowIsEven:this.rowNode.rowIndex%2==0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:o};return this.beans.rowCssClassCalculator.getInitialRowClasses(u)},i.prototype.processStylesFromGridOptions=function(){var r=this.beans.gridOptionsWrapper.getRowStyle();if(!r||"function"!=typeof r){var u,o=this.beans.gridOptionsWrapper.getRowStyleFunc();return o&&(u=o({data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex})),Object.assign({},r,u)}console.warn("AG Grid: rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead")},i.prototype.onRowSelected=function(){var r=this,o=this.rowNode.isSelected();this.allRowGuis.forEach(function(u){u.rowComp.addOrRemoveCssClass("ag-row-selected",o),Kl(u.element,!!o||void 0);var d=r.createAriaLabel();ya(u.element,null==d?"":d)})},i.prototype.createAriaLabel=function(){var r=this.rowNode.isSelected();if(!r||!this.beans.gridOptionsWrapper.isSuppressRowDeselection())return this.beans.gridOptionsWrapper.getLocaleTextFunc()(r?"ariaRowDeselect":"ariaRowSelect","Press SPACE to "+(r?"deselect":"select")+" this row.")},i.prototype.isUseAnimationFrameForCreate=function(){return this.useAnimationFrameForCreate},i.prototype.addHoverFunctionality=function(r){var o=this;!this.active||(this.addManagedListener(r,"mouseenter",function(){return o.rowNode.onMouseEnter()}),this.addManagedListener(r,"mouseleave",function(){return o.rowNode.onMouseLeave()}),this.addManagedListener(this.rowNode,_t.EVENT_MOUSE_ENTER,function(){o.beans.gridOptionsWrapper.isSuppressRowHoverHighlight()||r.classList.add("ag-row-hover")}),this.addManagedListener(this.rowNode,_t.EVENT_MOUSE_LEAVE,function(){r.classList.remove("ag-row-hover")}))},i.prototype.roundRowTopToBounds=function(r){var u=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.applyPaginationOffset(u.top,!0)-100,m=this.applyPaginationOffset(u.bottom,!0)+100;return Math.min(Math.max(d,r),m)},i.prototype.getFrameworkOverrides=function(){return this.beans.frameworkOverrides},i.prototype.onRowHeightChanged=function(){if(null!=this.rowNode.rowHeight){var r=this.rowNode.rowHeight,o=this.beans.gridOptionsWrapper.getDefaultRowHeight(),d=this.beans.gridOptionsWrapper.isGetRowHeightFunction()?this.beans.gridOptionsWrapper.getRowHeightForNode(this.rowNode).height:void 0,m=d?Math.min(o,d)-2+"px":void 0;this.allRowGuis.forEach(function(w){w.element.style.height=r+"px",m&&w.element.style.setProperty("--ag-line-height",m)})}},i.prototype.addEventListener=function(r,o){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=ne.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved is now called "+ne.EVENT_VIRTUAL_ROW_REMOVED)),h.prototype.addEventListener.call(this,r,o)},i.prototype.removeEventListener=function(r,o){("renderedRowRemoved"===r||"rowRemoved"===r)&&(r=ne.EVENT_VIRTUAL_ROW_REMOVED,console.warn("AG Grid: Since version 11, event renderedRowRemoved and rowRemoved is now called "+ne.EVENT_VIRTUAL_ROW_REMOVED)),h.prototype.removeEventListener.call(this,r,o)},i.prototype.destroyFirstPass=function(){this.active=!1,this.setupRemoveAnimation();var r=this.createRowEvent(ne.EVENT_VIRTUAL_ROW_REMOVED);this.dispatchEvent(r),this.beans.eventService.dispatchEvent(r),h.prototype.destroy.call(this)},i.prototype.setupRemoveAnimation=function(){if(null!=this.rowNode.rowTop){var o=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(function(u){return u.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0)})},i.prototype.destroySecondPass=function(){this.allRowGuis.length=0;var r=function(o){return o.list.forEach(function(u){return u.destroy()}),{list:[],map:{}}};this.centerCellCtrls=r(this.centerCellCtrls),this.leftCellCtrls=r(this.leftCellCtrls),this.rightCellCtrls=r(this.rightCellCtrls)},i.prototype.setFocusedClasses=function(){var r=this;this.allRowGuis.forEach(function(o){o.rowComp.addOrRemoveCssClass("ag-row-focus",r.rowFocused),o.rowComp.addOrRemoveCssClass("ag-row-no-focus",!r.rowFocused)})},i.prototype.onCellFocusChanged=function(){var r=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);r!==this.rowFocused&&(this.rowFocused=r,this.setFocusedClasses()),!r&&this.editingRow&&this.stopEditing(!1)},i.prototype.onPaginationChanged=function(){var r=this.beans.paginationProxy.getCurrentPage();this.paginationPage!==r&&(this.paginationPage=r,this.onTopChanged()),this.refreshFirstAndLastRowStyles()},i.prototype.onTopChanged=function(){this.setRowTop(this.rowNode.rowTop)},i.prototype.onPaginationPixelOffsetChanged=function(){this.onTopChanged()},i.prototype.applyPaginationOffset=function(r,o){return void 0===o&&(o=!1),this.rowNode.isRowPinned()?r:r+this.beans.paginationProxy.getPixelOffset()*(o?1:-1)},i.prototype.setRowTop=function(r){if(!this.printLayout&&re(r)){var o=this.applyPaginationOffset(r),u=this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o);this.setRowTopStyle(u+"px")}},i.prototype.getInitialRowTop=function(){return this.initialTop},i.prototype.getInitialTransform=function(){return this.initialTransform},i.prototype.setInitialRowTop=function(){if(this.printLayout)return"";var r=this.slideRowIn?this.roundRowTopToBounds(this.rowNode.oldRowTop):this.rowNode.rowTop,o=this.applyPaginationOffset(r),d=(this.rowNode.isRowPinned()?o:this.beans.rowContainerHeightService.getRealPixelPosition(o))+"px";this.beans.gridOptionsWrapper.isSuppressRowTransform()?this.initialTop=d:this.initialTransform="translateY("+d+")"},i.prototype.setRowTopStyle=function(r){var o=this.beans.gridOptionsWrapper.isSuppressRowTransform();this.allRowGuis.forEach(function(u){return o?u.rowComp.setTop(r):u.rowComp.setTransform("translateY("+r+")")})},i.prototype.getRowNode=function(){return this.rowNode},i.prototype.getCellCtrl=function(r){var o=null;return this.getAllCellCtrls().forEach(function(u){u.getColumn()==r&&(o=u)}),null!=o||this.getAllCellCtrls().forEach(function(u){u.getColSpanningList().indexOf(r)>=0&&(o=u)}),o},i.prototype.onRowIndexChanged=function(){null!=this.rowNode.rowIndex&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())},i.prototype.updateRowIndexes=function(){var r=this.rowNode.getRowIndexString(),o=this.beans.headerNavigationService.getHeaderRowCount(),u=this.rowNode.rowIndex%2==0,d=o+this.rowNode.rowIndex+1;this.allRowGuis.forEach(function(m){m.rowComp.setRowIndex(r),m.rowComp.addOrRemoveCssClass("ag-row-even",u),m.rowComp.addOrRemoveCssClass("ag-row-odd",!u),Dm(m.element,d)})},i.prototype.getPinnedLeftRowElement=function(){return this.leftGui?this.leftGui.element:void 0},i.prototype.getPinnedRightRowElement=function(){return this.rightGui?this.rightGui.element:void 0},i.prototype.getBodyRowElement=function(){return this.centerGui?this.centerGui.element:void 0},i.prototype.getFullWidthRowElement=function(){return this.fullWidthGui?this.fullWidthGui.element:void 0},i.DOM_DATA_KEY_ROW_CTRL="renderedRow",i}(Ge),PS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ri=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},TS=function(h){function i(r){var o=h.call(this)||this;return o.element=r,o}return PS(i,h),i.prototype.postConstruct=function(){this.addMouseListeners(),this.mockContextMenuForIPad(),this.addKeyboardEvents()},i.prototype.addKeyboardEvents=function(){var r=this;["keydown","keypress"].forEach(function(u){var d=r.processKeyboardEvent.bind(r,u);r.addManagedListener(r.element,u,d)})},i.prototype.addMouseListeners=function(){var r=this;["dblclick","contextmenu","mouseover","mouseout","click",ap("touchstart")?"touchstart":"mousedown"].forEach(function(d){var m=r.processMouseEvent.bind(r,d);r.addManagedListener(r.element,d,m)})},i.prototype.processMouseEvent=function(r,o){if(this.mouseEventService.isEventFromThisGrid(o)&&!ha(o)){var u=this.getRowForEvent(o),d=this.mouseEventService.getRenderedCellForEvent(o);"contextmenu"===r?this.handleContextMenuMouseEvent(o,null,u,d):(d&&d.onMouseEvent(r,o),u&&u.onMouseEvent(r,o))}},i.prototype.mockContextMenuForIPad=function(){var r=this;if(dp()){var o=new Ui(this.element);this.addManagedListener(o,Ui.EVENT_LONG_TAP,function(d){var m=r.getRowForEvent(d.touchEvent),w=r.mouseEventService.getRenderedCellForEvent(d.touchEvent);r.handleContextMenuMouseEvent(null,d.touchEvent,m,w)}),this.addDestroyFunc(function(){return o.destroy()})}},i.prototype.getRowForEvent=function(r){for(var o=r.target;o;){var u=this.gridOptionsWrapper.getDomData(o,vs.DOM_DATA_KEY_ROW_CTRL);if(u)return u;o=o.parentElement}return null},i.prototype.handleContextMenuMouseEvent=function(r,o,u,d){var m=u?u.getRowNode():null,w=d?d.getColumn():null,P=null;w&&(d.dispatchCellContextMenuEvent(r||o),P=this.valueService.getValue(w,m));var N=this.ctrlsService.getGridBodyCtrl(),k=d?d.getGui():N.getGridBodyElement();this.contextMenuFactory&&this.contextMenuFactory.onContextMenu(r,o,m,w,P,k)},i.prototype.processKeyboardEvent=function(r,o){var u=sp(this.gridOptionsWrapper,o,pl.DOM_DATA_KEY_CELL_CTRL),d=sp(this.gridOptionsWrapper,o,vs.DOM_DATA_KEY_ROW_CTRL);o.defaultPrevented||(u?this.processCellKeyboardEvent(u,r,o):d&&d.isFullWidth()&&this.processFullWidthRowKeyboardEvent(d,r,o))},i.prototype.processCellKeyboardEvent=function(r,o,u){var d=r.getRowNode(),m=r.getColumn(),w=r.isEditing();if(!gr(this.gridOptionsWrapper,u,d,m,w))switch(o){case"keydown":!w&&this.navigationService.handlePageScrollingKey(u)||r.onKeyDown(u),this.doGridOperations(u,r.isEditing());break;case"keypress":r.onKeyPress(u)}if("keydown"===o){var N=r.createEvent(u,ne.EVENT_CELL_KEY_DOWN);this.eventService.dispatchEvent(N)}if("keypress"===o){var k=r.createEvent(u,ne.EVENT_CELL_KEY_PRESS);this.eventService.dispatchEvent(k)}},i.prototype.processFullWidthRowKeyboardEvent=function(r,o,u){var d=r.getRowNode(),m=this.focusService.getFocusedCell();if(!gr(this.gridOptionsWrapper,u,d,m&&m.column,!1)&&"keydown"===o)switch(u.key){case Ie.UP:case Ie.DOWN:r.onKeyboardNavigate(u);break;case Ie.TAB:r.onTabKeyDown(u)}if("keydown"===o){var N=r.createRowEvent(ne.EVENT_CELL_KEY_DOWN,u);this.eventService.dispatchEvent(N)}if("keypress"===o){var k=r.createRowEvent(ne.EVENT_CELL_KEY_PRESS,u);this.eventService.dispatchEvent(k)}},i.prototype.doGridOperations=function(r,o){if((r.ctrlKey||r.metaKey)&&!o&&this.mouseEventService.isEventFromThisGrid(r))switch(r.key.toUpperCase()){case Ie.A:return this.onCtrlAndA(r);case Ie.C:return this.onCtrlAndC(r);case Ie.V:return this.onCtrlAndV();case Ie.D:return this.onCtrlAndD(r);case Ie.Z:return r.shiftKey?this.undoRedoService.redo():this.undoRedoService.undo();case Ie.Y:return this.undoRedoService.redo()}},i.prototype.onCtrlAndA=function(r){var o=this,u=o.pinnedRowModel,m=o.rangeService,w=ge.PINNED_BOTTOM,P=ge.PINNED_TOP;if(m&&o.paginationProxy.isRowsToRender()){var x=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d}([u.isEmpty(P),u.isEmpty(w)],2),q=x[0]?null:P,ee=void 0,le=void 0;x[1]?(ee=null,le=this.paginationProxy.getRowCount()-1):(ee=w,le=u.getPinnedBottomRowData().length-1);var de=this.columnModel.getAllDisplayedColumns();if(zn(de))return;m.setCellRange({rowStartIndex:0,rowStartPinned:q,rowEndIndex:le,rowEndPinned:ee,columnStart:de[0],columnEnd:Jt(de)})}r.preventDefault()},i.prototype.onCtrlAndC=function(r){!this.clipboardService||this.gridOptionsWrapper.isEnableCellTextSelection()||(this.clipboardService.copyToClipboard(),r.preventDefault())},i.prototype.onCtrlAndV=function(){yt.isRegistered(W.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.pasteFromClipboard()},i.prototype.onCtrlAndD=function(r){yt.isRegistered(W.ModuleNames.ClipboardModule)&&!this.gridOptionsWrapper.isSuppressClipboardPaste()&&this.clipboardService.copyRangeDown(),r.preventDefault()},Ri([K("mouseEventService")],i.prototype,"mouseEventService",void 0),Ri([K("valueService")],i.prototype,"valueService",void 0),Ri([jt("contextMenuFactory")],i.prototype,"contextMenuFactory",void 0),Ri([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ri([K("navigationService")],i.prototype,"navigationService",void 0),Ri([K("focusService")],i.prototype,"focusService",void 0),Ri([K("undoRedoService")],i.prototype,"undoRedoService",void 0),Ri([K("columnModel")],i.prototype,"columnModel",void 0),Ri([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Ri([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ri([jt("rangeService")],i.prototype,"rangeService",void 0),Ri([jt("clipboardService")],i.prototype,"clipboardService",void 0),Ri([We],i.prototype,"postConstruct",null),i}(Ge),jp=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Yg=function(h){function i(r){var o=h.call(this)||this;return o.centerContainerCtrl=r,o}return jp(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.listenForResize()}),this.addManagedListener(this.eventService,ne.EVENT_SCROLLBAR_WIDTH_CHANGED,this.onScrollbarWidthChanged.bind(this))},i.prototype.listenForResize=function(){var r=this,o=function(){return r.onCenterViewportResized()};this.centerContainerCtrl.registerViewportResizeListener(o),this.gridBodyCtrl.registerBodyViewportResizeListener(o)},i.prototype.onScrollbarWidthChanged=function(){this.checkViewportAndScrolls()},i.prototype.onCenterViewportResized=function(){if(this.centerContainerCtrl.isViewportVisible()){this.checkViewportAndScrolls();var r=this.centerContainerCtrl.getCenterWidth();r!==this.centerWidth&&(this.centerWidth=r,this.columnModel.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0},i.prototype.checkViewportAndScrolls=function(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()},i.prototype.getBodyHeight=function(){return this.bodyHeight},i.prototype.checkBodyHeight=function(){var o=Vi(this.gridBodyCtrl.getBodyViewportElement());this.bodyHeight!==o&&(this.bodyHeight=o,this.eventService.dispatchEvent({type:ne.EVENT_BODY_HEIGHT_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.updateScrollVisibleService=function(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)},i.prototype.updateScrollVisibleServiceImpl=function(){var r={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(r),this.gridBodyCtrl.setVerticalScrollPaddingVisible(r.verticalScrollShowing)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||this.centerContainerCtrl.isViewportHScrollShowing()},i.prototype.onHorizontalViewportChanged=function(){var r=this.centerContainerCtrl.getCenterWidth(),o=this.centerContainerCtrl.getViewportScrollLeft();this.columnModel.setViewportPosition(r,o)},tn([K("ctrlsService")],i.prototype,"ctrlsService",void 0),tn([K("columnModel")],i.prototype,"columnModel",void 0),tn([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),tn([K("columnApi")],i.prototype,"columnApi",void 0),tn([K("gridApi")],i.prototype,"gridApi",void 0),tn([We],i.prototype,"postConstruct",null),i}(Ge),qg=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bh=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Tn=function(h){function i(r){var o=h.call(this)||this;return o.element=r,o}return qg(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_LEFT_PINNED_WIDTH_CHANGED,this.onPinnedLeftWidthChanged.bind(this))},i.prototype.onPinnedLeftWidthChanged=function(){var r=this.pinnedWidthService.getPinnedLeftWidth(),o=r>0;ar(this.element,o),o&&zt(this.element,r)},Bh([K("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),Bh([We],i.prototype,"postConstruct",null),i}(Ge),Up=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zp=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},AS=function(h){function i(r){var o=h.call(this)||this;return o.element=r,o}return Up(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED,this.onPinnedRightWidthChanged.bind(this))},i.prototype.onPinnedRightWidthChanged=function(){var r=this.pinnedWidthService.getPinnedRightWidth(),o=r>0;ar(this.element,o),o&&zt(this.element,r)},zp([K("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),zp([We],i.prototype,"postConstruct",null),i}(Ge),gt=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xg=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Qg=function(h){function i(r,o){var u=h.call(this)||this;return u.eContainer=r,u.eWrapper=o,u}return gt(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_ROW_CONTAINER_HEIGHT_CHANGED,this.onHeightChanged.bind(this))},i.prototype.onHeightChanged=function(){var r=this.maxDivHeightScaler.getUiContainerHeight(),o=null!=r?r+"px":"";this.eContainer.style.height=o,this.eWrapper&&(this.eWrapper.style.height=o)},Xg([K("rowContainerHeightService")],i.prototype,"maxDivHeightScaler",void 0),Xg([We],i.prototype,"postConstruct",null),i}(Ge),Hh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zg=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},dC=function(h){function i(r){var o=h.call(this)||this;return o.eContainer=r,o}return Hh(i,h),i.prototype.postConstruct=function(){var r=this;if(this.gridOptionsWrapper.isEnableRangeSelection()&&!b(this.rangeService)){var o={dragStartPixels:0,eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)};this.dragService.addDragSource(o),this.addDestroyFunc(function(){return r.dragService.removeDragSource(o)})}},Zg([jt("rangeService")],i.prototype,"rangeService",void 0),Zg([K("dragService")],i.prototype,"dragService",void 0),Zg([We],i.prototype,"postConstruct",null),i}(Ge),Jg=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hC=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},$p=function(h){function i(r){var o=h.call(this)||this;return o.callback=r,o}return Jg(i,h),i.prototype.postConstruct=function(){var r=this.setWidth.bind(this);this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.setWidth()},i.prototype.setWidth=function(){var r=this.columnModel,o=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,u=r.getBodyContainerWidth(),d=r.getDisplayedColumnsLeftWidth(),m=r.getDisplayedColumnsRightWidth();this.callback(o?u+d+m:u)},hC([K("columnModel")],i.prototype,"columnModel",void 0),hC([We],i.prototype,"postConstruct",null),i}(Ge),xS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_o=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ev=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d};function cu(h){switch(h){case W.RowContainerName.CENTER:case W.RowContainerName.TOP_CENTER:case W.RowContainerName.BOTTOM_CENTER:return W.RowContainerType.CENTER;case W.RowContainerName.LEFT:case W.RowContainerName.TOP_LEFT:case W.RowContainerName.BOTTOM_LEFT:return W.RowContainerType.LEFT;case W.RowContainerName.RIGHT:case W.RowContainerName.TOP_RIGHT:case W.RowContainerName.BOTTOM_RIGHT:return W.RowContainerType.RIGHT;case W.RowContainerName.FULL_WIDTH:case W.RowContainerName.TOP_FULL_WIDTH:case W.RowContainerName.BOTTOM_FULL_WIDTH:return W.RowContainerType.FULL_WIDTH;default:throw Error("Invalid Row Container Type")}}(function(h){h.LEFT="left",h.RIGHT="right",h.CENTER="center",h.FULL_WIDTH="fullWidth",h.TOP_LEFT="topLeft",h.TOP_RIGHT="topRight",h.TOP_CENTER="topCenter",h.TOP_FULL_WIDTH="topFullWidth",h.BOTTOM_LEFT="bottomLeft",h.BOTTOM_RIGHT="bottomRight",h.BOTTOM_CENTER="bottomCenter",h.BOTTOM_FULL_WIDTH="bottomFullWidth"})(W.RowContainerName||(W.RowContainerName={})),function(h){h.LEFT="left",h.RIGHT="right",h.CENTER="center",h.FULL_WIDTH="fullWidth"}(W.RowContainerType||(W.RowContainerType={}));var Kp=kl([[W.RowContainerName.CENTER,"ag-center-cols-container"],[W.RowContainerName.LEFT,"ag-pinned-left-cols-container"],[W.RowContainerName.RIGHT,"ag-pinned-right-cols-container"],[W.RowContainerName.FULL_WIDTH,"ag-full-width-container"],[W.RowContainerName.TOP_CENTER,"ag-floating-top-container"],[W.RowContainerName.TOP_LEFT,"ag-pinned-left-floating-top"],[W.RowContainerName.TOP_RIGHT,"ag-pinned-right-floating-top"],[W.RowContainerName.TOP_FULL_WIDTH,"ag-floating-top-full-width-container"],[W.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-container"],[W.RowContainerName.BOTTOM_LEFT,"ag-pinned-left-floating-bottom"],[W.RowContainerName.BOTTOM_RIGHT,"ag-pinned-right-floating-bottom"],[W.RowContainerName.BOTTOM_FULL_WIDTH,"ag-floating-bottom-full-width-container"]]),Wh=kl([[W.RowContainerName.CENTER,"ag-center-cols-viewport"],[W.RowContainerName.TOP_CENTER,"ag-floating-top-viewport"],[W.RowContainerName.BOTTOM_CENTER,"ag-floating-bottom-viewport"]]),Yp=kl([[W.RowContainerName.CENTER,"ag-center-cols-clipper"]]),pu=function(h){function i(r){var o=h.call(this)||this;return o.name=r,o}return xS(i,h),i.getRowContainerCssClasses=function(r){return{container:Kp.get(r),viewport:Wh.get(r),wrapper:Yp.get(r)}},i.getPinned=function(r){switch(r){case W.RowContainerName.BOTTOM_LEFT:case W.RowContainerName.TOP_LEFT:case W.RowContainerName.LEFT:return ge.PINNED_LEFT;case W.RowContainerName.BOTTOM_RIGHT:case W.RowContainerName.TOP_RIGHT:case W.RowContainerName.RIGHT:return ge.PINNED_RIGHT;default:return null}},i.prototype.postConstruct=function(){var r=this;this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.embedFullWidthRows=this.gridOptionsWrapper.isEmbedFullWidthRows(),this.forContainers([W.RowContainerName.CENTER],function(){return r.viewportSizeFeature=r.createManagedBean(new Yg(r))})},i.prototype.registerWithCtrlsService=function(){switch(this.name){case W.RowContainerName.CENTER:this.ctrlsService.registerCenterRowContainerCtrl(this);break;case W.RowContainerName.LEFT:this.ctrlsService.registerLeftRowContainerCtrl(this);break;case W.RowContainerName.RIGHT:this.ctrlsService.registerRightRowContainerCtrl(this);break;case W.RowContainerName.TOP_CENTER:this.ctrlsService.registerTopCenterRowContainerCtrl(this);break;case W.RowContainerName.TOP_LEFT:this.ctrlsService.registerTopLeftRowContainerCon(this);break;case W.RowContainerName.TOP_RIGHT:this.ctrlsService.registerTopRightRowContainerCtrl(this);break;case W.RowContainerName.BOTTOM_CENTER:this.ctrlsService.registerBottomCenterRowContainerCtrl(this);break;case W.RowContainerName.BOTTOM_LEFT:this.ctrlsService.registerBottomLeftRowContainerCtrl(this);break;case W.RowContainerName.BOTTOM_RIGHT:this.ctrlsService.registerBottomRightRowContainerCtrl(this)}},i.prototype.forContainers=function(r,o){r.indexOf(this.name)>=0&&o()},i.prototype.getContainerElement=function(){return this.eContainer},i.prototype.getViewportSizeFeature=function(){return this.viewportSizeFeature},i.prototype.setComp=function(r,o,u,d){var m=this;this.comp=r,this.eContainer=o,this.eViewport=u,this.eWrapper=d,this.createManagedBean(new TS(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder(),this.stopHScrollOnPinnedRows();var N=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(ev(arguments[i]));return h}([W.RowContainerName.TOP_CENTER,W.RowContainerName.TOP_LEFT,W.RowContainerName.TOP_RIGHT],[W.RowContainerName.BOTTOM_CENTER,W.RowContainerName.BOTTOM_LEFT,W.RowContainerName.BOTTOM_RIGHT],[W.RowContainerName.CENTER,W.RowContainerName.LEFT,W.RowContainerName.RIGHT]),k=[W.RowContainerName.CENTER,W.RowContainerName.LEFT,W.RowContainerName.RIGHT,W.RowContainerName.FULL_WIDTH],q=[W.RowContainerName.CENTER,W.RowContainerName.TOP_CENTER,W.RowContainerName.BOTTOM_CENTER],le=[W.RowContainerName.RIGHT,W.RowContainerName.BOTTOM_RIGHT,W.RowContainerName.TOP_RIGHT];this.forContainers([W.RowContainerName.LEFT,W.RowContainerName.BOTTOM_LEFT,W.RowContainerName.TOP_LEFT],function(){return m.createManagedBean(new Tn(m.eContainer))}),this.forContainers(le,function(){return m.createManagedBean(new AS(m.eContainer))}),this.forContainers(k,function(){return m.createManagedBean(new Qg(m.eContainer,m.eWrapper))}),this.forContainers(N,function(){return m.createManagedBean(new dC(m.eContainer))}),this.forContainers(q,function(){return m.createManagedBean(new $p(function(de){return m.comp.setContainerWidth(de+"px")}))}),this.addListeners(),this.registerWithCtrlsService()},i.prototype.addListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,function(){return r.onScrollVisibilityChanged()}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){return r.onDisplayedColumnsChanged()}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){return r.onDisplayedColumnsWidthChanged()}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_ROWS_CHANGED,function(){return r.onDisplayedRowsChanged()}),this.onScrollVisibilityChanged(),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()},i.prototype.listenOnDomOrder=function(){var r=this,o=function(){return r.comp.setDomOrder(r.gridOptionsWrapper.isEnsureDomOrder())};this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,o),o()},i.prototype.stopHScrollOnPinnedRows=function(){var r=this;this.forContainers([W.RowContainerName.TOP_CENTER,W.RowContainerName.BOTTOM_CENTER],function(){r.addManagedListener(r.eViewport,"scroll",function(){return r.eViewport.scrollLeft=0})})},i.prototype.onDisplayedColumnsChanged=function(){var r=this;this.forContainers([W.RowContainerName.CENTER],function(){return r.onHorizontalViewportChanged()})},i.prototype.onDisplayedColumnsWidthChanged=function(){var r=this;this.forContainers([W.RowContainerName.CENTER],function(){return r.onHorizontalViewportChanged()})},i.prototype.onScrollVisibilityChanged=function(){if(this.name===W.RowContainerName.CENTER){var o=this.scrollVisibleService.isHorizontalScrollShowing()&&this.gridOptionsWrapper.getScrollbarWidth()||0;this.comp.setViewportHeight(0==o?"100%":"calc(100% + "+o+"px)")}},i.prototype.addPreventScrollWhileDragging=function(){var r=this,o=function(u){r.dragService.isDragging()&&u.cancelable&&u.preventDefault()};this.eContainer.addEventListener("touchmove",o,{passive:!1}),this.addDestroyFunc(function(){return r.eContainer.removeEventListener("touchmove",o)})},i.prototype.onHorizontalViewportChanged=function(){var r=this.getCenterWidth(),o=this.getCenterViewportScrollLeft();this.columnModel.setViewportPosition(r,o)},i.prototype.getCenterWidth=function(){return Ve(this.eViewport)},i.prototype.getCenterViewportScrollLeft=function(){return Nn(this.eViewport,this.enableRtl)},i.prototype.registerViewportResizeListener=function(r){var o=this.resizeObserverService.observeResize(this.eViewport,r);this.addDestroyFunc(function(){return o()})},i.prototype.isViewportVisible=function(){return Wr(this.eViewport)},i.prototype.isViewportHScrollShowing=function(){return mi(this.eViewport)},i.prototype.getViewportScrollLeft=function(){return Nn(this.eViewport,this.enableRtl)},i.prototype.isHorizontalScrollShowing=function(){return this.gridOptionsWrapper.isAlwaysShowHorizontalScroll()||mi(this.eViewport)},i.prototype.getViewportElement=function(){return this.eViewport},i.prototype.setContainerTranslateX=function(r){this.eContainer.style.transform="translateX("+r+"px)"},i.prototype.getHScrollPosition=function(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}},i.prototype.setCenterViewportScrollLeft=function(r){Hl(this.eViewport,r,this.enableRtl)},i.prototype.onDisplayedRowsChanged=function(){var r=this,o=this.name===W.RowContainerName.TOP_FULL_WIDTH||this.name===W.RowContainerName.BOTTOM_FULL_WIDTH||this.name===W.RowContainerName.FULL_WIDTH,m=this.getRowCtrls().filter(function(w){var P=w.isFullWidth(),x=r.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,N=r.embedFullWidthRows||x;return o?!N&&P:N||!P});this.comp.setRowCtrls(m)},i.prototype.getRowCtrls=function(){switch(this.name){case W.RowContainerName.TOP_CENTER:case W.RowContainerName.TOP_LEFT:case W.RowContainerName.TOP_RIGHT:case W.RowContainerName.TOP_FULL_WIDTH:return this.rowRenderer.getTopRowCtrls();case W.RowContainerName.BOTTOM_CENTER:case W.RowContainerName.BOTTOM_LEFT:case W.RowContainerName.BOTTOM_RIGHT:case W.RowContainerName.BOTTOM_FULL_WIDTH:return this.rowRenderer.getBottomRowCtrls();default:return this.rowRenderer.getRowCtrls()}},_o([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),_o([K("dragService")],i.prototype,"dragService",void 0),_o([K("ctrlsService")],i.prototype,"ctrlsService",void 0),_o([K("columnModel")],i.prototype,"columnModel",void 0),_o([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),_o([K("rowRenderer")],i.prototype,"rowRenderer",void 0),_o([We],i.prototype,"postConstruct",null),i}(Ge),ti=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),be=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},fC='<div class="ag-root ag-unselectable" role="grid">\n        <ag-header-root ref="gridHeader"></ag-header-root>\n        <div class="ag-floating-top" ref="eTop" role="presentation">\n            <ag-row-container ref="topLeftContainer" name="'+W.RowContainerName.TOP_LEFT+'"></ag-row-container>\n            <ag-row-container ref="topCenterContainer" name="'+W.RowContainerName.TOP_CENTER+'"></ag-row-container>\n            <ag-row-container ref="topRightContainer" name="'+W.RowContainerName.TOP_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="topFullWidthContainer" name="'+W.RowContainerName.TOP_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-body-viewport" ref="eBodyViewport" role="presentation">\n            <ag-row-container ref="leftContainer" name="'+W.RowContainerName.LEFT+'"></ag-row-container>\n            <ag-row-container ref="centerContainer" name="'+W.RowContainerName.CENTER+'"></ag-row-container>\n            <ag-row-container ref="rightContainer" name="'+W.RowContainerName.RIGHT+'"></ag-row-container>\n            <ag-row-container ref="fullWidthContainer" name="'+W.RowContainerName.FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <div class="ag-floating-bottom" ref="eBottom" role="presentation">\n            <ag-row-container ref="bottomLeftContainer" name="'+W.RowContainerName.BOTTOM_LEFT+'"></ag-row-container>\n            <ag-row-container ref="bottomCenterContainer" name="'+W.RowContainerName.BOTTOM_CENTER+'"></ag-row-container>\n            <ag-row-container ref="bottomRightContainer" name="'+W.RowContainerName.BOTTOM_RIGHT+'"></ag-row-container>\n            <ag-row-container ref="bottomFullWidthContainer" name="'+W.RowContainerName.BOTTOM_FULL_WIDTH+'"></ag-row-container>\n        </div>\n        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>\n        <ag-overlay-wrapper></ag-overlay-wrapper>\n    </div>',qp=function(h){function i(){return h.call(this,fC)||this}return ti(i,h),i.prototype.init=function(){var r=this,o=function(d,m){var w=d+"px";m.style.minHeight=w,m.style.height=w},u={setRowAnimationCssOnBodyViewport:function(d,m){return r.setRowAnimationCssOnBodyViewport(d,m)},setColumnCount:function(d){return K_(r.getGui(),d)},setRowCount:function(d){return $_(r.getGui(),d)},setTopHeight:function(d){return o(d,r.eTop)},setBottomHeight:function(d){return o(d,r.eBottom)},setTopDisplay:function(d){return r.eTop.style.display=d},setBottomDisplay:function(d){return r.eBottom.style.display=d},setColumnMovingCss:function(d,m){return r.addOrRemoveCssClass(Jn,m)},updateLayoutClasses:function(d,m){var w=r.eBodyViewport.classList;w.toggle(W.LayoutCssClasses.AUTO_HEIGHT,m.autoHeight),w.toggle(W.LayoutCssClasses.NORMAL,m.normal),w.toggle(W.LayoutCssClasses.PRINT,m.print),r.addOrRemoveCssClass(W.LayoutCssClasses.AUTO_HEIGHT,m.autoHeight),r.addOrRemoveCssClass(W.LayoutCssClasses.NORMAL,m.normal),r.addOrRemoveCssClass(W.LayoutCssClasses.PRINT,m.print)},setAlwaysVerticalScrollClass:function(d,m){return r.eBodyViewport.classList.toggle(lu,m)},registerBodyViewportResizeListener:function(d){var m=r.resizeObserverService.observeResize(r.eBodyViewport,d);r.addDestroyFunc(function(){return m()})},setPinnedTopBottomOverflowY:function(d){return r.eTop.style.overflowY=r.eBottom.style.overflowY=d},setCellSelectableCss:function(d,m){[r.eTop,r.eBodyViewport,r.eBottom].forEach(function(w){return w.classList.toggle(nC,m)})}};this.ctrl=this.createManagedBean(new cc),this.ctrl.setComp(u,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom),(this.rangeService||this.gridOptionsWrapper.isRowSelectionMulti())&&z_(this.getGui(),!0)},i.prototype.setRowAnimationCssOnBodyViewport=function(r,o){var u=this.eBodyViewport.classList;u.toggle(W.RowAnimationCssClasses.ANIMATION_ON,o),u.toggle(W.RowAnimationCssClasses.ANIMATION_OFF,!o)},i.prototype.getFloatingTopBottom=function(){return[this.eTop,this.eBottom]},be([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),be([jt("rangeService")],i.prototype,"rangeService",void 0),be([Ne("eBodyViewport")],i.prototype,"eBodyViewport",void 0),be([Ne("eTop")],i.prototype,"eTop",void 0),be([Ne("eBottom")],i.prototype,"eBottom",void 0),be([Ne("gridHeader")],i.prototype,"headerRootComp",void 0),be([We],i.prototype,"init",null),i}(Rt),jh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Dr=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},pc=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return jh(i,h),i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onDisplayedColumnsWidthChanged.bind(this))},i.prototype.onDisplayedColumnsChanged=function(){this.update()},i.prototype.onDisplayedColumnsWidthChanged=function(){this.update()},i.prototype.update=function(){this.updateImpl(),setTimeout(this.updateImpl.bind(this),500)},i.prototype.updateImpl=function(){var r=this.ctrlsService.getCenterRowContainerCtrl();if(r){var o={horizontalScrollShowing:r.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(o)}},i.prototype.setScrollsVisible=function(r){this.horizontalScrollShowing===r.horizontalScrollShowing&&this.verticalScrollShowing===r.verticalScrollShowing||(this.horizontalScrollShowing=r.horizontalScrollShowing,this.verticalScrollShowing=r.verticalScrollShowing,this.eventService.dispatchEvent({type:ne.EVENT_SCROLL_VISIBILITY_CHANGED,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.isHorizontalScrollShowing=function(){return this.horizontalScrollShowing},i.prototype.isVerticalScrollShowing=function(){return this.verticalScrollShowing},Dr([K("columnApi")],i.prototype,"columnApi",void 0),Dr([K("gridApi")],i.prototype,"gridApi",void 0),Dr([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Dr([We],i.prototype,"postConstruct",null),Dr([qe("scrollVisibleService")],i)}(Ge),dl=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),du=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},gC=function(h){function i(){var o=null!==h&&h.apply(this,arguments)||this;return o.gridInstanceId=r.gridInstanceSequence.next(),o}var r;return dl(i,h),r=i,i.prototype.stampTopLevelGridCompWithGridInstance=function(o){o[r.GRID_DOM_KEY]=this.gridInstanceId},i.prototype.getRenderedCellForEvent=function(o){return sp(this.gridOptionsWrapper,o,pl.DOM_DATA_KEY_CELL_CTRL)},i.prototype.isEventFromThisGrid=function(o){return this.isElementInThisGrid(o.target)},i.prototype.isElementInThisGrid=function(o){for(var u=o;u;){var d=u[r.GRID_DOM_KEY];if(re(d))return d===this.gridInstanceId;u=u.parentElement}return!1},i.prototype.getCellPositionForEvent=function(o){var u=this.getRenderedCellForEvent(o);return u?u.getCellPosition():null},i.prototype.getNormalisedPosition=function(o){var m,w,u=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_NORMAL;if(null!=o.clientX||null!=o.clientY?(m=o.clientX,w=o.clientY):(m=o.x,w=o.y),u){var P=this.ctrlsService.getGridBodyCtrl(),x=P.getScrollFeature().getVScrollPosition();m+=P.getScrollFeature().getHScrollPosition().left,w+=x.top}return{x:m,y:w}},i.gridInstanceSequence=new ss,i.GRID_DOM_KEY="__ag_grid_instance",du([K("ctrlsService")],i.prototype,"ctrlsService",void 0),r=du([qe("mouseEventService")],i)}(Ge),Ki=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),An=function(){return An=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},An.apply(this,arguments)},vr=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},FS=function(h){function i(){var r=h.call(this)||this;return r.onPageDown=th(r.onPageDown,100),r.onPageUp=th(r.onPageUp,100),r}return Ki(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridBodyCon=o.gridBodyCtrl})},i.prototype.handlePageScrollingKey=function(r){var o=r.key,u=r.altKey,d=r.ctrlKey||r.metaKey,m=this.mouseEventService.getCellPositionForEvent(r);if(!m)return!1;var w=!1;switch(o){case Ie.PAGE_HOME:case Ie.PAGE_END:!d&&!u&&(this.onHomeOrEndKey(o),w=!0);break;case Ie.LEFT:case Ie.RIGHT:d&&!u&&(this.onCtrlLeftOrRight(o,m),w=!0);break;case Ie.UP:case Ie.DOWN:d&&!u&&(this.onCtrlUpOrDown(o,m),w=!0);break;case Ie.PAGE_DOWN:!d&&!u&&(this.onPageDown(m),w=!0);break;case Ie.PAGE_UP:!d&&!u&&(this.onPageUp(m),w=!0)}return w&&r.preventDefault(),w},i.prototype.navigateTo=function(r){var o=r.scrollIndex,u=r.scrollType,d=r.scrollColumn,m=r.focusIndex,w=r.focusColumn;re(d)&&!d.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(d),re(o)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,u),this.animationFrameService.flushAllFrames(),this.focusService.setFocusedCell(m,w,null,!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:m,rowPinned:null,column:w})},i.prototype.onPageDown=function(r){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.getViewportHeight(),m=this.paginationProxy.getPixelOffset(),P=this.paginationProxy.getRowIndexAtPixel(u.top+d+m);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,P):this.navigateToNextPage(r,P)},i.prototype.onPageUp=function(r){var u=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),d=this.paginationProxy.getPixelOffset(),w=this.paginationProxy.getRowIndexAtPixel(u.top+d);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(r,w,!0):this.navigateToNextPage(r,w,!0)},i.prototype.navigateToNextPage=function(r,o,u){void 0===u&&(u=!1);var d,m,ye,w=this.getViewportHeight(),P=this.paginationProxy.getPageFirstRow(),x=this.paginationProxy.getPageLastRow(),N=this.paginationProxy.getPixelOffset(),k=this.paginationProxy.getRow(r.rowIndex),q=u?(null===(d=k)||void 0===d?void 0:d.rowHeight)-w-N:w-N,ee=(null===(m=k)||void 0===m?void 0:m.rowTop)+q,le=this.paginationProxy.getRowIndexAtPixel(ee+N);le===r.rowIndex&&(o=le=r.rowIndex+(u?-1:1)),u?(ye="bottom",le<P&&(le=P),o<P&&(o=P)):(ye="top",le>x&&(le=x),o>x&&(o=x)),this.isRowTallerThanView(le)&&(o=le,ye="top"),this.navigateTo({scrollIndex:o,scrollType:ye,scrollColumn:null,focusIndex:le,focusColumn:r.column})},i.prototype.navigateToNextPageWithAutoHeight=function(r,o,u){var d=this;void 0===u&&(u=!1),this.navigateTo({scrollIndex:o,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:r.column}),setTimeout(function(){var m=d.getNextFocusIndexForAutoHeight(r,u);d.navigateTo({scrollIndex:o,scrollType:u?"bottom":"top",scrollColumn:null,focusIndex:m,focusColumn:r.column})},50)},i.prototype.getNextFocusIndexForAutoHeight=function(r,o){void 0===o&&(o=!1);for(var u,d=o?-1:1,m=this.getViewportHeight(),w=this.paginationProxy.getPageLastRow(),P=0,x=r.rowIndex;x>=0&&x<=w;){var N=this.paginationProxy.getRow(x);if(N){var k=null!=(u=N.rowHeight)?u:0;if(P+k>m)break;P+=k}x+=d}return Math.max(0,Math.min(x,w))},i.prototype.getViewportHeight=function(){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),u=this.gridOptionsWrapper.getScrollbarWidth(),d=o.bottom-o.top;return this.ctrlsService.getCenterRowContainerCtrl().isHorizontalScrollShowing()&&(d-=u),d},i.prototype.isRowTallerThanView=function(r){var o=this.paginationProxy.getRow(r);if(!o)return!1;var u=o.rowHeight;return"number"==typeof u&&u>this.getViewportHeight()},i.prototype.onCtrlUpOrDown=function(r,o){var d=r===Ie.UP?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:d,scrollType:null,scrollColumn:o.column,focusIndex:d,focusColumn:o.column})},i.prototype.onCtrlLeftOrRight=function(r,o){var u=r===Ie.LEFT,d=this.columnModel.getAllDisplayedColumns(),w=u!==this.gridOptionsWrapper.isEnableRtl()?d[0]:Jt(d);this.navigateTo({scrollIndex:o.rowIndex,scrollType:null,scrollColumn:w,focusIndex:o.rowIndex,focusColumn:w})},i.prototype.onHomeOrEndKey=function(r){var o=r===Ie.PAGE_HOME,u=this.columnModel.getAllDisplayedColumns(),d=o?u[0]:Jt(u),m=o?this.paginationProxy.getPageFirstRow():this.paginationProxy.getPageLastRow();this.navigateTo({scrollIndex:m,scrollType:null,scrollColumn:d,focusIndex:m,focusColumn:d})},i.prototype.onTabKeyDown=function(r,o){var u=o.shiftKey;if(this.tabToNextCellCommon(r,u,o))o.preventDefault();else if(u){var m=r.getRowPosition(),w=m.rowIndex;(m.rowPinned?0===w:w===this.paginationProxy.getPageFirstRow())&&(o.preventDefault(),this.focusService.focusLastHeader(o))}else r instanceof pl&&r.focusCell(!0),this.focusService.focusNextGridCoreContainer(u)&&o.preventDefault()},i.prototype.tabToNextCell=function(r,o){var u=this.focusService.getFocusedCell();if(!u)return!1;var d=this.getCellByPosition(u);return!!(d||(d=this.rowRenderer.getRowByPosition(u),d&&d.isFullWidth()))&&this.tabToNextCellCommon(d,r,o)},i.prototype.tabToNextCellCommon=function(r,o,u){var d=r.isEditing();if(!d&&r instanceof pl){var w=r.getRowCtrl();w&&(d=w.isEditing())}return(d?this.gridOptionsWrapper.isFullRowEdit()?this.moveToNextEditingRow(r,o,u):this.moveToNextEditingCell(r,o,u):this.moveToNextCellNotEditing(r,o))||!!this.focusService.getFocusedHeader()},i.prototype.moveToNextEditingCell=function(r,o,u){void 0===u&&(u=null);var d=r.getCellPosition();r.stopEditing();var m=this.findNextCellToFocusOn(d,o,!0);return null!=m&&(m.startEditing(null,null,!0,u),m.focusCell(!1),!0)},i.prototype.moveToNextEditingRow=function(r,o,u){void 0===u&&(u=null);var d=r.getCellPosition(),m=this.findNextCellToFocusOn(d,o,!0);if(null==m)return!1;var w=m.getCellPosition(),P=this.isCellEditable(d),x=this.isCellEditable(w),N=w&&d.rowIndex===w.rowIndex&&d.rowPinned===w.rowPinned;return P&&r.setFocusOutOnEditor(),N||(r.getRowCtrl().stopEditing(),m.getRowCtrl().startRowEditing(void 0,void 0,void 0,u)),x?(m.setFocusInOnEditor(),m.focusCell()):m.focusCell(!0),!0},i.prototype.moveToNextCellNotEditing=function(r,o){var d,u=this.columnModel.getAllDisplayedColumns();d=r instanceof vs?An(An({},r.getRowPosition()),{column:o?u[0]:Jt(u)}):r.getCellPosition();var m=this.findNextCellToFocusOn(d,o,!1);if(m instanceof pl)m.focusCell(!0);else if(m)return this.tryToFocusFullWidthRow(m.getRowPosition(),o);return re(m)},i.prototype.findNextCellToFocusOn=function(r,o,u){for(var d=r;;){r!==d&&(r=d),o||(d=this.getLastCellOfColSpan(d)),d=this.cellNavigationService.getNextTabbedCell(d,o);var m=this.gridOptionsWrapper.getTabToNextCellFunc();if(re(m)){var P=m({backwards:o,editing:u,previousCellPosition:r,nextCellPosition:d||null});re(P)?(P.floating&&(Wt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),P.rowPinned=P.floating),d={rowIndex:P.rowIndex,column:P.column,rowPinned:P.rowPinned}):d=null}if(!d)return null;if(d.rowIndex<0){var x=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x+d.rowIndex,column:d.column}}),null}var N=this.gridOptionsWrapper.isFullRowEdit();if(!u||N||this.isCellEditable(d)){this.ensureCellVisible(d);var q=this.getCellByPosition(d);if(!q){var ee=this.rowRenderer.getRowByPosition(d);if(!ee||!ee.isFullWidth())continue;return ee}if(!q.isSuppressNavigable())return this.rangeService&&this.rangeService.setRangeToCell(d),q}}},i.prototype.isCellEditable=function(r){var o=this.lookupRowNodeForCell(r);return!!o&&r.column.isCellEditable(o)},i.prototype.getCellByPosition=function(r){var o=this.rowRenderer.getRowByPosition(r);return o?o.getCellCtrl(r.column):null},i.prototype.lookupRowNodeForCell=function(r){return r.rowPinned===ge.PINNED_TOP?this.pinnedRowModel.getPinnedTopRow(r.rowIndex):r.rowPinned===ge.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRow(r.rowIndex):this.paginationProxy.getRow(r.rowIndex)},i.prototype.navigateToNextCell=function(r,o,u,d){for(var m=u,w=!1;m&&(m===u||!this.isValidNavigateCell(m));)this.gridOptionsWrapper.isEnableRtl()?o===Ie.LEFT&&(m=this.getLastCellOfColSpan(m)):o===Ie.RIGHT&&(m=this.getLastCellOfColSpan(m)),w=b(m=this.cellNavigationService.getNextCellToFocus(o,m));if(w&&r&&r.key===Ie.UP&&(m={rowIndex:-1,rowPinned:null,column:u.column}),d){var P=this.gridOptionsWrapper.getNavigateToNextCellFunc();if(re(P)){var N=P({key:o,previousCellPosition:u,nextCellPosition:m||null,event:r});re(N)?(N.floating&&(Wt(function(){console.warn("AG Grid: tabToNextCellFunc return type should have attributes: rowIndex, rowPinned, column. However you had 'floating', maybe you meant 'rowPinned'?")},"no floating in userCell"),N.rowPinned=N.floating),m={rowPinned:N.rowPinned,rowIndex:N.rowIndex,column:N.column}):m=null}}if(m){if(m.rowIndex<0){var k=this.headerNavigationService.getHeaderRowCount();return void this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:k+m.rowIndex,column:u.column},event:r||void 0})}var q=this.getNormalisedPosition(m);q?this.focusPosition(q):this.tryToFocusFullWidthRow(m)}},i.prototype.getNormalisedPosition=function(r){this.ensureCellVisible(r);var o=this.getCellByPosition(r);return o?(r=o.getCellPosition(),this.ensureCellVisible(r),r):null},i.prototype.tryToFocusFullWidthRow=function(r,o){void 0===o&&(o=!1);var u=this.columnModel.getAllDisplayedColumns(),d=this.rowRenderer.getRowByPosition(r);if(!d||!d.isFullWidth())return!1;var m={rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:r.column||(o?Jt(u):u[0])};return this.focusPosition(m),!0},i.prototype.focusPosition=function(r){this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0),this.rangeService&&this.rangeService.setRangeToCell(r)},i.prototype.isValidNavigateCell=function(r){return!!this.rowPositionUtils.getRowNode(r)},i.prototype.getLastCellOfColSpan=function(r){var o=this.getCellByPosition(r);if(!o)return r;var u=o.getColSpanningList();return 1===u.length?r:{rowIndex:r.rowIndex,column:Jt(u),rowPinned:r.rowPinned}},i.prototype.ensureCellVisible=function(r){b(r.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(r.rowIndex),r.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(r.column),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()},vr([K("mouseEventService")],i.prototype,"mouseEventService",void 0),vr([K("paginationProxy")],i.prototype,"paginationProxy",void 0),vr([K("focusService")],i.prototype,"focusService",void 0),vr([K("animationFrameService")],i.prototype,"animationFrameService",void 0),vr([jt("rangeService")],i.prototype,"rangeService",void 0),vr([K("columnModel")],i.prototype,"columnModel",void 0),vr([K("ctrlsService")],i.prototype,"ctrlsService",void 0),vr([K("rowRenderer")],i.prototype,"rowRenderer",void 0),vr([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),vr([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),vr([K("cellNavigationService")],i.prototype,"cellNavigationService",void 0),vr([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),vr([We],i.prototype,"postConstruct",null),vr([qe("navigationService")],i)}(Ge),dO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),IS=function(h){function i(r){var o=h.call(this,'<div class="ag-popup-editor" tabindex="-1"/>')||this;return o.params=r,o}return dO(i,h),i.prototype.postConstruct=function(){this.gridOptionsWrapper.setDomData(this.getGui(),i.DOM_KEY_POPUP_EDITOR_WRAPPER,!0),this.addKeyDownListener()},i.prototype.addKeyDownListener=function(){var r=this,o=this.getGui(),u=this.params;this.addManagedListener(o,"keydown",function(m){gr(r.gridOptionsWrapper,m,u.node,u.column,!0)||u.onKeyDown(m)})},i.DOM_KEY_POPUP_EDITOR_WRAPPER="popupEditorWrapper",function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(al),Yi=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Uh=function(h){function i(r,o,u,d,m){var w=h.call(this)||this;w.rendererVersion=0,w.editorVersion=0,w.beans=r,w.column=o.getColumn(),w.rowNode=o.getRowNode(),w.rowCtrl=o.getRowCtrl(),w.eRow=d,w.setTemplate('<div comp-id="'+w.getCompId()+'"/>');var P=w.getGui();w.forceWrapper=o.isForceWrapper(),w.refreshWrapper(!1);var x=function(k,q,ee){var le=ee||P;null!=q&&""!=q?le.setAttribute(k,q):le.removeAttribute(k)},N={addOrRemoveCssClass:function(k,q){return w.addOrRemoveCssClass(k,q)},setUserStyles:function(k){return hg(P,k)},getFocusableElement:function(){return w.getFocusableElement()},setTabIndex:function(k){return x("tabindex",k.toString())},setRole:function(k){return On(P,k)},setColId:function(k){return x("col-id",k)},setTitle:function(k){return x("title",k)},setIncludeSelection:function(k){return w.includeSelection=k},setIncludeRowDrag:function(k){return w.includeRowDrag=k},setIncludeDndSource:function(k){return w.includeDndSource=k},setRenderDetails:function(k,q,ee){return w.setRenderDetails(k,q,ee)},setEditDetails:function(k,q,ee){return w.setEditDetails(k,q,ee)},getCellEditor:function(){return w.cellEditor||null},getCellRenderer:function(){return w.cellRenderer||null},getParentOfValue:function(){return w.getParentOfValue()}};return w.cellCtrl=o,o.setComp(N,w.getGui(),w.eCellWrapper,u,m),w}return Yi(i,h),i.prototype.getParentOfValue=function(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()},i.prototype.setRenderDetails=function(r,o,u){if(!this.cellEditor||this.cellEditorPopupWrapper){this.firstRender=null==this.firstRender;var m=this.refreshWrapper(!1);r?!u&&!m&&this.refreshCellRenderer(r)||(this.destroyRenderer(),this.createCellRendererInstance(r)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(o))}},i.prototype.setEditDetails=function(r,o,u){r?this.createCellEditorInstance(r,o,u):this.destroyEditor()},i.prototype.removeControls=function(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)},i.prototype.refreshWrapper=function(r){var o=this.includeRowDrag||this.includeDndSource||this.includeSelection,u=o||this.forceWrapper,d=u&&null==this.eCellWrapper;d&&(this.eCellWrapper=wr('<div class="ag-cell-wrapper" role="presentation"></div>'),this.getGui().appendChild(this.eCellWrapper));var m=!u&&null!=this.eCellWrapper;m&&(hr(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!u);var w=!r&&u,P=w&&null==this.eCellValue;P&&(this.eCellValue=wr('<span class="ag-cell-value" role="presentation"></span>'),this.eCellWrapper.appendChild(this.eCellValue));var x=!w&&null!=this.eCellValue;x&&(hr(this.eCellValue),this.eCellValue=void 0);var N=d||m||P||x;return N&&this.removeControls(),!r&&o&&this.addControls(),N},i.prototype.addControls=function(){var r=this.eCellValue.id="cell-"+this.getCompId(),o=[];this.includeRowDrag&&null==this.rowDraggingComp&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&null==this.dndSourceComp&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&(null==this.checkboxSelectionComp&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue)),o.push(this.checkboxSelectionComp.getCheckboxId())),o.push(r),yp(this.getGui(),o.join(" "))},i.prototype.createCellEditorInstance=function(r,o,u){var d=this,m=this.editorVersion,w=r.newAgStackInstance();if(w){var P=r.params;w.then(function(N){return d.afterCellEditorCreated(m,N,P,o,u)}),b(this.cellEditor)&&P.cellStartedEdit&&this.cellCtrl.focusCell(!0)}},i.prototype.insertValueWithoutCellRenderer=function(r){var o=this.getParentOfValue();Ln(o);var u=null!=r?co(r):null;null!=u&&(o.innerHTML=u)},i.prototype.destroyEditorAndRenderer=function(){this.destroyRenderer(),this.destroyEditor()},i.prototype.destroyRenderer=function(){this.cellRenderer=this.beans.context.destroyBean(this.cellRenderer),hr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++},i.prototype.destroyEditor=function(){var r=this.beans.context;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=r.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=r.destroyBean(this.cellEditorPopupWrapper),hr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++},i.prototype.refreshCellRenderer=function(r){if(null==this.cellRenderer||null==this.cellRenderer.refresh||this.cellRendererClass!==r.componentClass)return!1;var o=this.cellRenderer.refresh(r.params);return!0===o||void 0===o},i.prototype.createCellRendererInstance=function(r){var o=this,u=this.beans.gridOptionsWrapper.isAngularCompileRows(),d=this.beans.gridOptionsWrapper.isSuppressAnimationFrame(),w=this.rendererVersion,P=r.componentClass,x=function(){if(o.rendererVersion===w&&o.isAlive()){var k=r.newAgStackInstance(),q=o.afterCellRendererCreated.bind(o,w,P);k&&k.then(q)}};u||d||!this.firstRender?x():this.beans.animationFrameService.createTask(x,this.rowNode.rowIndex,"createTasksP2")},i.prototype.getCtrl=function(){return this.cellCtrl},i.prototype.getRowCtrl=function(){return this.rowCtrl},i.prototype.getCellRenderer=function(){return this.cellRenderer},i.prototype.getCellEditor=function(){return this.cellEditor},i.prototype.afterCellRendererCreated=function(r,o,u){if(this.isAlive()&&r===this.rendererVersion){if(this.cellRenderer=u,this.cellRendererClass=o,this.cellRendererGui=this.cellRenderer.getGui(),null!=this.cellRendererGui){var m=this.getParentOfValue();Ln(m),m.appendChild(this.cellRendererGui)}}else this.beans.context.destroyBean(u)},i.prototype.afterCellEditorCreated=function(r,o,u,d,m){if(r!==this.editorVersion)this.beans.context.destroyBean(o);else{if(o.isCancelBeforeStart&&o.isCancelBeforeStart())return this.beans.context.destroyBean(o),void this.cellCtrl.stopEditing();if(!o.getGui)return console.warn("AG Grid: cellEditor for column "+this.column.getId()+" is missing getGui() method"),void this.beans.context.destroyBean(o);this.cellEditor=o,this.cellEditorGui=o.getGui(),d||void 0!==o.isPopup&&o.isPopup()?(d||this.cellCtrl.hackSayEditingInPopup(),this.addPopupCellEditor(u,m)):this.addInCellEditor(),o.afterGuiAttached&&o.afterGuiAttached()}},i.prototype.addInCellEditor=function(){var r=this.getGui(),o=this.beans.gridOptionsWrapper.getDocument();r.contains(o.activeElement)&&r.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)},i.prototype.addPopupCellEditor=function(r,o){var u=this;this.beans.gridOptionsWrapper.isFullRowEdit()&&console.warn("AG Grid: popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");var d=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(new IS(r));var m=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&m.appendChild(this.cellEditorGui);var w=this.beans.popupService,P=this.beans.gridOptionsWrapper.isStopEditingWhenCellsLoseFocus(),x=null!=o?o:d.getPopupPosition?d.getPopupPosition():"over",N={column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),ePopup:m,keepWithinBounds:!0},k="under"===x?w.positionPopupUnderComponent.bind(w,N):w.positionPopupOverComponent.bind(w,N),q=this.beans.gridOptionsWrapper.getLocaleTextFunc(),ee=w.addPopup({modal:P,eChild:m,closeOnEsc:!0,closedCallback:function(){u.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:k,ariaLabel:q("ariaLabelCellEditor","Cell Editor")});ee&&(this.hideEditorPopup=ee.hideFunc)},i.prototype.detach=function(){this.eRow.removeChild(this.getGui())},i.prototype.destroy=function(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),h.prototype.destroy.call(this)},i.prototype.clearParentOfValue=function(){var r=this.getGui(),o=this.beans.gridOptionsWrapper.getDocument();r.contains(o.activeElement)&&r.focus({preventScroll:!0}),Ln(this.getParentOfValue())},i}(Rt),zh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vC=function(h){function i(r,o,u){var d=h.call(this)||this;d.cellComps={},d.beans=o,d.rowCtrl=r,d.setTemplate('<div comp-id="'+d.getCompId()+'" style="'+d.getInitialStyle()+'"/>');var m=d.getGui(),w=m.style;return r.setComp({setDomOrder:function(x){return d.domOrder=x},setCellCtrls:function(x){return d.setCellCtrls(x)},showFullWidth:function(x){return d.showFullWidth(x)},getFullWidthCellRenderer:function(){return d.getFullWidthCellRenderer()},addOrRemoveCssClass:function(x,N){return d.addOrRemoveCssClass(x,N)},setUserStyles:function(x){return hg(m,x)},setTop:function(x){return w.top=x},setTransform:function(x){return w.transform=x},setRowIndex:function(x){return m.setAttribute("row-index",x)},setRole:function(x){return On(m,x)},setRowId:function(x){return m.setAttribute("row-id",x)},setRowBusinessKey:function(x){return m.setAttribute("row-business-key",x)},setTabIndex:function(x){return m.setAttribute("tabindex",x.toString())}},d.getGui(),u),d}return zh(i,h),i.prototype.getInitialStyle=function(){var r=this.rowCtrl.getInitialTransform(),o=this.rowCtrl.getInitialRowTop();return r?"transform: "+r:"top: "+o},i.prototype.showFullWidth=function(r){var o=this,d=r.newAgStackInstance();!d||d.then(function(m){if(o.isAlive()){var w=m.getGui();o.getGui().appendChild(w),o.rowCtrl.setupDetailRowAutoHeight(w),o.setFullWidthRowComp(m)}else o.beans.context.destroyBean(m)})},i.prototype.setCellCtrls=function(r){var o=this,u=Object.assign({},this.cellComps);r.forEach(function(m){var w=m.getInstanceId();null==o.cellComps[w]?o.newCellComp(m):u[w]=null});var d=Go(u).filter(function(m){return null!=m});this.destroyCells(d),this.ensureDomOrder(r)},i.prototype.ensureDomOrder=function(r){var o=this;if(this.domOrder){var u=[];r.forEach(function(d){var m=o.cellComps[d.getInstanceId()];m&&u.push(m.getGui())}),ju(this.getGui(),u)}},i.prototype.newCellComp=function(r){var o=new Uh(this.beans,r,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[r.getInstanceId()]=o,this.getGui().appendChild(o.getGui())},i.prototype.destroy=function(){h.prototype.destroy.call(this),this.destroyAllCells()},i.prototype.destroyAllCells=function(){var r=Go(this.cellComps).filter(function(o){return null!=o});this.destroyCells(r)},i.prototype.setFullWidthRowComp=function(r){var o=this;this.fullWidthCellRenderer&&console.error("AG Grid - should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=r,this.addDestroyFunc(function(){o.fullWidthCellRenderer=o.beans.context.destroyBean(o.fullWidthCellRenderer)})},i.prototype.getFullWidthCellRenderer=function(){return this.fullWidthCellRenderer},i.prototype.destroyCells=function(r){var o=this;r.forEach(function(u){if(u){var d=u.getCtrl().getInstanceId();o.cellComps[d]===u&&(u.detach(),u.destroy(),o.cellComps[d]=null)}})},i}(Rt),yC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hu=function(){return hu=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},hu.apply(this,arguments)},hl=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},$h=function(h){function i(){var r=h.call(this,function mC(){var h=Rt.elementGettingCreated.getAttribute("name"),i=pu.getRowContainerCssClasses(h);return h===W.RowContainerName.CENTER?'<div class="'+i.wrapper+'" ref="eWrapper" role="presentation">\n                <div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                    <div class="'+i.container+'" ref="eContainer" role="rowgroup"></div>\n                </div>\n            </div>':h===W.RowContainerName.TOP_CENTER||h===W.RowContainerName.BOTTOM_CENTER?'<div class="'+i.viewport+'" ref="eViewport" role="presentation">\n                <div class="'+i.container+'" ref="eContainer" role="presentation"></div>\n            </div>':'<div class="'+i.container+'" ref="eContainer" role="presentation"></div>'}())||this;return r.rowComps={},r.name=Rt.elementGettingCreated.getAttribute("name"),r.type=cu(r.name),r}return yC(i,h),i.prototype.postConstruct=function(){var r=this,o={setViewportHeight:function(d){return r.eViewport.style.height=d},setRowCtrls:function(d){return r.setRowCtrls(d)},setDomOrder:function(d){r.domOrder=d},setContainerWidth:function(d){return r.eContainer.style.width=d}};this.createManagedBean(new pu(this.name)).setComp(o,this.eContainer,this.eViewport,this.eWrapper)},i.prototype.preDestroy=function(){this.setRowCtrls([])},i.prototype.setRowCtrls=function(r){var o=this,u=hu({},this.rowComps);this.rowComps={},this.lastPlacedElement=null,r.forEach(function(m){var w=m.getInstanceId(),P=u[w];if(P)o.rowComps[w]=P,delete u[w],o.ensureDomOrder(P.getGui());else{var x=o.newRowComp(m);o.rowComps[w]=x,o.appendRow(x.getGui())}}),Go(u).forEach(function(m){o.eContainer.removeChild(m.getGui()),m.destroy()})},i.prototype.appendRow=function(r){this.domOrder?$s(this.eContainer,r,this.lastPlacedElement):this.eContainer.appendChild(r),this.lastPlacedElement=r},i.prototype.ensureDomOrder=function(r){this.domOrder&&(jl(this.eContainer,r,this.lastPlacedElement),this.lastPlacedElement=r)},i.prototype.newRowComp=function(r){return pu.getPinned(this.name),new vC(r,this.beans,this.type)},hl([K("beans")],i.prototype,"beans",void 0),hl([Ne("eViewport")],i.prototype,"eViewport",void 0),hl([Ne("eContainer")],i.prototype,"eContainer",void 0),hl([Ne("eWrapper")],i.prototype,"eWrapper",void 0),hl([We],i.prototype,"postConstruct",null),hl([_n],i.prototype,"preDestroy",null),i}(Rt),ri=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},tv=function(){function h(i){this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=i}return h.prototype.onDragEnter=function(i){var r=this;if(this.clearColumnsList(),!this.gridOptionsWrapper.isFunctionsReadOnly()){var o=i.dragItem.columns;!o||o.forEach(function(u){!u.isPrimary()||u.isAnyFunctionActive()||(u.isAllowValue()?r.columnsToAggregate.push(u):u.isAllowRowGroup()?r.columnsToGroup.push(u):u.isAllowPivot()&&r.columnsToPivot.push(u))})}},h.prototype.getIconName=function(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?kr.ICON_PINNED:kr.ICON_MOVE:null},h.prototype.onDragLeave=function(i){this.clearColumnsList()},h.prototype.clearColumnsList=function(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0},h.prototype.onDragging=function(i){},h.prototype.onDragStop=function(i){this.columnsToAggregate.length>0&&this.columnModel.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.columnModel.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.columnModel.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")},ri([K("columnModel")],h.prototype,"columnModel",void 0),ri([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),h}(),Kh=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Di=function(){function h(i,r){this.needToMoveLeft=!1,this.needToMoveRight=!1,this.pinned=i,this.eContainer=r,this.centerContainer=!re(i)}return h.prototype.init=function(){var i=this;this.ctrlsService.whenReady(function(){i.gridBodyCon=i.ctrlsService.getGridBodyCtrl()})},h.prototype.getIconName=function(){return this.pinned?kr.ICON_PINNED:kr.ICON_MOVE},h.prototype.onDragEnter=function(i){var r=i.dragItem.columns;if(i.dragSource.type===W.DragSourceType.ToolPanel)this.setColumnsVisible(r,!0,"uiColumnDragged");else{var u=i.dragItem.visibleState,d=(r||[]).filter(function(m){return u[m.getId()]});this.setColumnsVisible(d,!0,"uiColumnDragged")}this.setColumnsPinned(r,this.pinned,"uiColumnDragged"),this.onDragging(i,!0)},h.prototype.onDragLeave=function(i){if(!this.gridOptionsWrapper.isSuppressDragLeaveHidesColumns()&&!i.fromNudge){var o=i.dragSource.getDragItem();this.setColumnsVisible(o.columns,!1,"uiColumnDragged")}this.ensureIntervalCleared()},h.prototype.setColumnsVisible=function(i,r,o){if(void 0===o&&(o="api"),i){var u=i.filter(function(d){return!d.getColDef().lockVisible});this.columnModel.setColumnsVisible(u,r,o)}},h.prototype.setColumnsPinned=function(i,r,o){if(void 0===o&&(o="api"),i){var u=i.filter(function(d){return!d.getColDef().lockPinned});this.columnModel.setColumnsPinned(u,r,o)}},h.prototype.onDragStop=function(){this.ensureIntervalCleared()},h.prototype.normaliseX=function(i){return this.gridOptionsWrapper.isEnableRtl()&&(i=this.eContainer.clientWidth-i),this.centerContainer&&(i+=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft()),i},h.prototype.checkCenterForScrolling=function(i){if(this.centerContainer){var r=this.ctrlsService.getCenterRowContainerCtrl().getCenterViewportScrollLeft(),o=r+this.ctrlsService.getCenterRowContainerCtrl().getCenterWidth();this.gridOptionsWrapper.isEnableRtl()?(this.needToMoveRight=i<r+50,this.needToMoveLeft=i>o-50):(this.needToMoveLeft=i<r+50,this.needToMoveRight=i>o-50),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}},h.prototype.onDragging=function(i,r){var o=this;if(void 0===r&&(r=!1),this.lastDraggingEvent=i,!b(i.hDirection)){var u=this.normaliseX(i.x);r||this.checkCenterForScrolling(u);var d=this.normaliseDirection(i.hDirection),m=i.dragSource.type,w=i.dragSource.getDragItem().columns;w=w.filter(function(P){return!P.getColDef().lockPinned||P.getPinned()==o.pinned}),this.attemptMoveColumns(m,w,d,u,r)}},h.prototype.normaliseDirection=function(i){if(!this.gridOptionsWrapper.isEnableRtl())return i;switch(i){case W.HorizontalDirection.Left:return W.HorizontalDirection.Right;case W.HorizontalDirection.Right:return W.HorizontalDirection.Left;default:console.error("AG Grid: Unknown direction "+i)}},h.prototype.calculateOldIndex=function(i){var r=this.columnModel.getAllGridColumns(),o=eg(i.map(function(P){return r.indexOf(P)})),u=o[0];return Jt(o)-u!=o.length-1?null:u},h.prototype.attemptMoveColumns=function(i,r,o,u,d){var m=o===W.HorizontalDirection.Left,w=o===W.HorizontalDirection.Right,P=r.slice();this.columnModel.sortColumnsLikeGridColumns(P);var x=this.calculateValidMoves(P,w,u),N=this.calculateOldIndex(P);if(0!==x.length){var k=x[0],q=null!==N&&!d;if(i==W.DragSourceType.HeaderCell&&(q=null!==N),!q||!(m&&k>=N||w&&k<=N))for(var ee=0;ee<x.length;ee++){var le=x[ee];if(this.columnModel.doesMovePassRules(P,le))return void this.columnModel.moveColumns(P,le,"uiColumnDragged")}}},h.prototype.calculateValidMoves=function(i,r,o){if(this.gridOptionsWrapper.isSuppressMovableColumns()||i.some(function(lt){return lt.getColDef().suppressMovable}))return[];var de,d=this.columnModel.getDisplayedColumns(this.pinned),m=this.columnModel.getAllGridColumns(),w=d.filter(function(lt){return gi(i,lt)}),P=d.filter(function(lt){return!gi(i,lt)}),x=m.filter(function(lt){return!gi(i,lt)}),N=0,k=o;if(r){var q=0;w.forEach(function(lt){return q+=lt.getActualWidth()}),k-=q}if(k>0){for(var ee=0;ee<P.length&&!((k-=P[ee].getActualWidth())<0);ee++)N++;r&&N++}N>0?de=x.indexOf(P[N-1])+1:-1===(de=x.indexOf(P[0]))&&(de=0);var xe=[de],Oe=function(lt,Ue){return lt-Ue};if(r){for(var Ee=de+1,$e=m.length-1;Ee<=$e;)xe.push(Ee),Ee++;xe.sort(Oe)}else{$e=m.length-1;for(var pt=m[Ee=de];Ee<=$e&&this.isColumnHidden(d,pt);)Ee++,xe.push(Ee),pt=m[Ee];for(Ee=de-1;Ee>=0;)xe.push(Ee),Ee--;xe.sort(Oe).reverse()}return xe},h.prototype.isColumnHidden=function(i,r){return i.indexOf(r)<0},h.prototype.ensureIntervalStarted=function(){this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),100),this.dragAndDropService.setGhostIcon(this.needToMoveLeft?kr.ICON_LEFT:kr.ICON_RIGHT,!0))},h.prototype.ensureIntervalCleared=function(){this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.dragAndDropService.setGhostIcon(kr.ICON_MOVE))},h.prototype.moveInterval=function(){var i;this.intervalCount++,(i=10+5*this.intervalCount)>100&&(i=100);var r=null,o=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?r=o.scrollHorizontally(-i):this.needToMoveRight&&(r=o.scrollHorizontally(i)),0!==r)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;var d=this.lastDraggingEvent.dragItem.columns.filter(function(w){return!w.getColDef().lockPinned});d.length>0&&(this.dragAndDropService.setGhostIcon(kr.ICON_PINNED),this.failedMoveAttempts>7)&&(this.setColumnsPinned(d,this.needToMoveLeft?ge.PINNED_LEFT:ge.PINNED_RIGHT,"uiColumnDragged"),this.dragAndDropService.nudge())}},Kh([K("columnModel")],h.prototype,"columnModel",void 0),Kh([K("dragAndDropService")],h.prototype,"dragAndDropService",void 0),Kh([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),Kh([K("ctrlsService")],h.prototype,"ctrlsService",void 0),Kh([We],h.prototype,"init",null),h}(),ys=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},kn=function(h){function i(r,o){var u=h.call(this)||this;return u.pinned=r,u.eContainer=o,u}return ys(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){switch(r.pinned){case ge.PINNED_LEFT:r.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.leftRowContainerCtrl.getContainerElement()],[o.bottomLeftRowContainerCtrl.getContainerElement()],[o.topLeftRowContainerCtrl.getContainerElement()]];break;case ge.PINNED_RIGHT:r.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.rightRowContainerCtrl.getContainerElement()],[o.bottomRightRowContainerCtrl.getContainerElement()],[o.topRightRowContainerCtrl.getContainerElement()]];break;default:r.eSecondaryContainers=[[o.gridBodyCtrl.getBodyViewportElement(),o.centerRowContainerCtrl.getViewportElement()],[o.bottomCenterRowContainerCtrl.getViewportElement()],[o.topCenterRowContainerCtrl.getViewportElement()]]}})},i.prototype.isInterestedIn=function(r){return r===W.DragSourceType.HeaderCell||r===W.DragSourceType.ToolPanel&&this.gridOptionsWrapper.isAllowDragFromColumnsToolPanel()},i.prototype.getSecondaryContainers=function(){return this.eSecondaryContainers},i.prototype.getContainer=function(){return this.eContainer},i.prototype.init=function(){this.moveColumnFeature=this.createManagedBean(new Di(this.pinned,this.eContainer)),this.bodyDropPivotTarget=this.createManagedBean(new tv(this.pinned)),this.dragAndDropService.addDropTarget(this)},i.prototype.getIconName=function(){return this.currentDropListener.getIconName()},i.prototype.isDropColumnInPivotMode=function(r){return this.columnModel.isPivotMode()&&r.dragSource.type===W.DragSourceType.ToolPanel},i.prototype.onDragEnter=function(r){this.currentDropListener=this.isDropColumnInPivotMode(r)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(r)},i.prototype.onDragLeave=function(r){this.currentDropListener.onDragLeave(r)},i.prototype.onDragging=function(r){this.currentDropListener.onDragging(r)},i.prototype.onDragStop=function(r){this.currentDropListener.onDragStop(r)},hc([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),hc([K("columnModel")],i.prototype,"columnModel",void 0),hc([K("ctrlsService")],i.prototype,"ctrlsService",void 0),hc([We],i.prototype,"postConstruct",null),hc([We],i.prototype,"init",null),i}(Ge),Yh=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},qh=function(){function h(){}return h.getHeaderClassesFromColDef=function(i,r,o,u){return b(i)?[]:this.getColumnClassesFromCollDef(i.headerClass,i,r,o,u)},h.getToolPanelClassesFromColDef=function(i,r,o,u){return b(i)?[]:this.getColumnClassesFromCollDef(i.toolPanelClass,i,r,o,u)},h.getClassParams=function(i,r,o,u){return{colDef:i,column:o,columnGroup:u,api:r.getApi(),columnApi:r.getColumnApi(),context:r.getContext()}},h.getColumnClassesFromCollDef=function(i,r,o,u,d){return b(i)?[]:"string"==typeof(m="function"==typeof i?i(this.getClassParams(r,o,u,d)):i)?[m]:Array.isArray(m)?function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(Yh(arguments[i]));return h}(m):[];var m},h}(),rv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Xh=function(h){function i(r){var o=h.call(this,i.TEMPLATE,r)||this;return o.headerCompVersion=0,o.column=r.getColumnGroupChild(),o.pinned=r.getPinned(),o}return rv(i,h),i.prototype.postConstruct=function(){var r=this,o=this.getGui(),u=function(w,P,x){var N=x||o;null!=P&&""!=P?N.setAttribute(w,P):N.removeAttribute(w)};this.ctrl.setComp({setWidth:function(w){return o.style.width=w},addOrRemoveCssClass:function(w,P){return r.addOrRemoveCssClass(w,P)},setAriaSort:function(w){return w?q_(o,w):X_(o)},setColId:function(w){return u("col-id",w)},setTitle:function(w){return u("title",w)},setAriaDescribedBy:function(w){return yp(o,w)},setUserCompDetails:function(w){return r.setUserCompDetails(w)},getUserCompInstance:function(){return r.headerComp}},this.getGui(),this.eResize);var m=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",m)},i.prototype.destroyHeaderComp=function(){this.headerComp&&(this.getGui().removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)},i.prototype.setUserCompDetails=function(r){var o=this;this.headerCompVersion++;var u=this.headerCompVersion;r.newAgStackInstance().then(function(d){return o.afterCompCreated(u,d)})},i.prototype.afterCompCreated=function(r,o){r==this.headerCompVersion&&this.isAlive()?(this.destroyHeaderComp(),this.headerComp=o,this.headerCompGui=o.getGui(),this.getGui().appendChild(this.headerCompGui),this.ctrl.setDragSource(this.headerCompGui)):this.destroyBean(o)},i.TEMPLATE='<div class="ag-header-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',nv([Ne("eResize")],i.prototype,"eResize",void 0),nv([We],i.prototype,"postConstruct",null),nv([_n],i.prototype,"destroyHeaderComp",null),i}(Pa),iv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Xp=function(h){function i(r){return h.call(this,i.TEMPLATE,r)||this}return iv(i,h),i.prototype.postConstruct=function(){var r=this,o=this.getGui(),u=function(m,w){return null!=w?o.setAttribute(m,w):o.removeAttribute(m)};this.ctrl.setComp({addOrRemoveCssClass:function(m,w){return r.addOrRemoveCssClass(m,w)},addOrRemoveResizableCssClass:function(m,w){return r.eResize.classList.toggle(m,w)},setWidth:function(m){return o.style.width=m},setColId:function(m){return o.setAttribute("col-id",m)},setAriaExpanded:function(m){return u("aria-expanded",m)},setTitle:function(m){return u("title",m)},setUserCompDetails:function(m){return r.setUserCompDetails(m)}},o,this.eResize)},i.prototype.setUserCompDetails=function(r){var o=this;r.newAgStackInstance().then(function(u){return o.afterHeaderCompCreated(u)})},i.prototype.afterHeaderCompCreated=function(r){var o=this,u=function(){return o.destroyBean(r)};this.isAlive()?(this.getGui().appendChild(r.getGui()),this.addDestroyFunc(u),this.ctrl.setDragSource(r.getGui())):u()},i.TEMPLATE='<div class="ag-header-group-cell" role="columnheader" tabindex="-1">\n            <div ref="eResize" class="ag-header-cell-resize" role="presentation"></div>\n        </div>',fc([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),fc([Ne("eResize")],i.prototype,"eResize",void 0),fc([We],i.prototype,"postConstruct",null),i}(Pa),gc=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d};!function(h){h.COLUMN_GROUP="group",h.COLUMN="column",h.FLOATING_FILTER="filter"}(W.HeaderRowType||(W.HeaderRowType={}));var ov=function(h){function i(r){var o=h.call(this)||this;o.headerComps={};var u=r.getType()==W.HeaderRowType.COLUMN_GROUP?"ag-header-row-column-group":r.getType()==W.HeaderRowType.FLOATING_FILTER?"ag-header-row-column-filter":"ag-header-row-column";return o.setTemplate('<div class="ag-header-row '+u+'" role="row"></div>'),o.ctrl=r,o}return gc(i,h),i.prototype.init=function(){var r=this;this.ctrl.setComp({setTransform:function(u){return r.getGui().style.transform=u},setHeight:function(u){return r.getGui().style.height=u},setTop:function(u){return r.getGui().style.top=u},setHeaderCtrls:function(u){return r.setHeaderCtrls(u)},setWidth:function(u){return r.getGui().style.width=u},setAriaRowIndex:function(u){return Dm(r.getGui(),u)}})},i.prototype.destroyHeaderCtrls=function(){this.setHeaderCtrls([])},i.prototype.setHeaderCtrls=function(r){var o=this;if(this.isAlive()){var u=this.headerComps;if(this.headerComps={},r.forEach(function(P){var x=P.getInstanceId(),N=u[x];delete u[x],null==N&&(N=o.createHeaderComp(P),o.getGui().appendChild(N.getGui())),o.headerComps[x]=N}),qt(u,function(P,x){o.getGui().removeChild(x.getGui()),o.destroyBean(x)}),this.gridOptionsWrapper.isEnsureDomOrder()){var m=Go(this.headerComps);m.sort(function(P,x){return P.getCtrl().getColumnGroupChild().getLeft()-x.getCtrl().getColumnGroupChild().getLeft()});var w=m.map(function(P){return P.getGui()});ju(this.getGui(),w)}}},i.prototype.createHeaderComp=function(r){var o;switch(this.ctrl.getType()){case W.HeaderRowType.COLUMN_GROUP:o=new Xp(r);break;case W.HeaderRowType.FLOATING_FILTER:o=new Jm(r);break;default:o=new Xh(r)}return this.createBean(o),o.setParentComponent(this),o},vc([We],i.prototype,"init",null),vc([_n],i.prototype,"destroyHeaderCtrls",null),i}(Rt),LS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wC=0,Yo=function(h){function i(r,o){var u=h.call(this)||this;return u.lastFocusEvent=null,u.columnGroupChild=r,u.parentRowCtrl=o,u.instanceId=r.getUniqueId()+"-"+wC++,u}return LS(i,h),i.prototype.shouldStopEventPropagation=function(r){var o=this.focusService.getFocusedHeader();return Nm(this.gridOptionsWrapper,r,o.headerRowIndex,o.column)},i.prototype.setGui=function(r){this.eGui=r,this.addDomData()},i.prototype.addDomData=function(){var r=this,o=i.DOM_DATA_KEY_HEADER_CTRL;this.gridOptionsWrapper.setDomData(this.eGui,o,this),this.addDestroyFunc(function(){return r.gridOptionsWrapper.setDomData(r.eGui,o,null)})},i.prototype.getGui=function(){return this.eGui},i.prototype.focus=function(r){return!!this.eGui&&(this.lastFocusEvent=r||null,this.eGui.focus(),!0)},i.prototype.getRowIndex=function(){return this.parentRowCtrl.getRowIndex()},i.prototype.getParentRowCtrl=function(){return this.parentRowCtrl},i.prototype.getPinned=function(){return this.parentRowCtrl.getPinned()},i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.getColumnGroupChild=function(){return this.columnGroupChild},i.DOM_DATA_KEY_HEADER_CTRL="headerCtrl",function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([K("focusService")],i.prototype,"focusService",void 0),i}(Ge);!function(h){h.EVERYTHING="group",h.FILTER="filter",h.SORT="sort",h.MAP="map",h.AGGREGATE="aggregate",h.FILTER_AGGREGATES="filter_aggregates",h.PIVOT="pivot",h.NOTHING="nothing"}(W.ClientSideRowModelSteps||(W.ClientSideRowModelSteps={}));var Lt=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d};function fl(h){return null!=h&&null!=h.getFrameworkComponentInstance?h.getFrameworkComponentInstance():h}var _C=function(){function h(){this.detailGridInfoMap={},this.destroyCalled=!1}return h.prototype.registerOverlayWrapperComp=function(i){this.overlayWrapperComp=i},h.prototype.registerSideBarComp=function(i){this.sideBarComp=i},h.prototype.init=function(){var i=this;switch(this.rowModel.getType()){case ge.ROW_MODEL_TYPE_CLIENT_SIDE:this.clientSideRowModel=this.rowModel;break;case ge.ROW_MODEL_TYPE_INFINITE:this.infiniteRowModel=this.rowModel;break;case ge.ROW_MODEL_TYPE_SERVER_SIDE:this.serverSideRowModel=this.rowModel}this.ctrlsService.whenReady(function(){i.gridBodyCtrl=i.ctrlsService.getGridBodyCtrl()})},h.prototype.__getAlignedGridService=function(){return this.alignedGridsService},h.prototype.__getContext=function(){return this.context},h.prototype.addDetailGridInfo=function(i,r){this.detailGridInfoMap[i]=r},h.prototype.removeDetailGridInfo=function(i){this.detailGridInfoMap[i]=void 0},h.prototype.getDetailGridInfo=function(i){return this.detailGridInfoMap[i]},h.prototype.forEachDetailGridInfo=function(i){var r=0;qt(this.detailGridInfoMap,function(o,u){re(u)&&(i(u,r),r++)})},h.prototype.getDataAsCsv=function(i){if(yt.assertRegistered(W.ModuleNames.CsvExportModule,"api.getDataAsCsv"))return this.csvCreator.getDataAsCsv(i)},h.prototype.exportDataAsCsv=function(i){yt.assertRegistered(W.ModuleNames.CsvExportModule,"api.exportDataAsCSv")&&this.csvCreator.exportDataAsCsv(i)},h.prototype.getExcelExportMode=function(i){var r=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({exportMode:"xlsx"},r,i).exportMode},h.prototype.getDataAsExcel=function(i){if(yt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.getDataAsExcel")){var r=this.getExcelExportMode(i);return this.excelCreator.getFactoryMode(r)===W.ExcelFactoryMode.MULTI_SHEET?void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`"):this.excelCreator.getDataAsExcel(i)}},h.prototype.exportDataAsExcel=function(i){if(yt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.exportDataAsExcel")){var r=this.getExcelExportMode(i);if(this.excelCreator.getFactoryMode(r)===W.ExcelFactoryMode.MULTI_SHEET)return void console.warn("AG Grid: The Excel Exporter is currently on Multi Sheet mode. End that operation by calling `api.getMultipleSheetAsExcel()` or `api.exportMultipleSheetsAsExcel()`");this.excelCreator.exportDataAsExcel(i)}},h.prototype.getSheetDataForExcel=function(i){if(yt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.getSheetDataForExcel")){var r=this.getExcelExportMode(i);return this.excelCreator.setFactoryMode(W.ExcelFactoryMode.MULTI_SHEET,r),this.excelCreator.getSheetDataForExcel(i)}},h.prototype.getMultipleSheetsAsExcel=function(i){if(yt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.getMultipleSheetsAsExcel"))return this.excelCreator.getMultipleSheetsAsExcel(i)},h.prototype.exportMultipleSheetsAsExcel=function(i){if(yt.assertRegistered(W.ModuleNames.ExcelExportModule,"api.exportMultipleSheetsAsExcel"))return this.excelCreator.exportMultipleSheetsAsExcel(i)},h.prototype.setEnterpriseDatasource=function(i){console.warn("AG Grid: since version 18.x, api.setEnterpriseDatasource() should be replaced with api.setServerSideDatasource()"),this.setServerSideDatasource(i)},h.prototype.setGridAriaProperty=function(i,r){if(i){var o=this.ctrlsService.getGridBodyCtrl().getGui(),u="aria-"+i;null===r?o.removeAttribute(u):o.setAttribute(u,r)}},h.prototype.setServerSideDatasource=function(i){this.serverSideRowModel?this.serverSideRowModel.setDatasource(i):console.warn("AG Grid: you can only use an enterprise datasource when gridOptions.rowModelType is '"+ge.ROW_MODEL_TYPE_SERVER_SIDE+"'")},h.prototype.setDatasource=function(i){this.gridOptionsWrapper.isRowModelInfinite()?this.rowModel.setDatasource(i):console.warn("AG Grid: you can only use a datasource when gridOptions.rowModelType is '"+ge.ROW_MODEL_TYPE_INFINITE+"'")},h.prototype.setViewportDatasource=function(i){this.gridOptionsWrapper.isRowModelViewport()?this.rowModel.setViewportDatasource(i):console.warn("AG Grid: you can only use a viewport datasource when gridOptions.rowModelType is '"+ge.ROW_MODEL_TYPE_VIEWPORT+"'")},h.prototype.setRowData=function(i){null==this.immutableService?console.warn("AG Grid: you can only set rowData when using the Client Side Row Model"):this.immutableService.isActive()?this.immutableService.setRowData(i):(this.selectionService.reset(),this.clientSideRowModel.setRowData(i))},h.prototype.setFloatingTopRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingTopRowData() is now api.setPinnedTopRowData()"),this.setPinnedTopRowData(i)},h.prototype.setFloatingBottomRowData=function(i){console.warn("AG Grid: since v12, api.setFloatingBottomRowData() is now api.setPinnedBottomRowData()"),this.setPinnedBottomRowData(i)},h.prototype.getFloatingTopRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingTopRowCount() is now api.getPinnedTopRowCount()"),this.getPinnedTopRowCount()},h.prototype.getFloatingBottomRowCount=function(){return console.warn("AG Grid: since v12, api.getFloatingBottomRowCount() is now api.getPinnedBottomRowCount()"),this.getPinnedBottomRowCount()},h.prototype.getFloatingTopRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingTopRow() is now api.getPinnedTopRow()"),this.getPinnedTopRow(i)},h.prototype.getFloatingBottomRow=function(i){return console.warn("AG Grid: since v12, api.getFloatingBottomRow() is now api.getPinnedBottomRow()"),this.getPinnedBottomRow(i)},h.prototype.setPinnedTopRowData=function(i){this.pinnedRowModel.setPinnedTopRowData(i)},h.prototype.setPinnedBottomRowData=function(i){this.pinnedRowModel.setPinnedBottomRowData(i)},h.prototype.getPinnedTopRowCount=function(){return this.pinnedRowModel.getPinnedTopRowCount()},h.prototype.getPinnedBottomRowCount=function(){return this.pinnedRowModel.getPinnedBottomRowCount()},h.prototype.getPinnedTopRow=function(i){return this.pinnedRowModel.getPinnedTopRow(i)},h.prototype.getPinnedBottomRow=function(i){return this.pinnedRowModel.getPinnedBottomRow(i)},h.prototype.setColumnDefs=function(i,r){void 0===r&&(r="api"),this.columnModel.setColumnDefs(i,r)},h.prototype.setAutoGroupColumnDef=function(i,r){this.gridOptionsWrapper.setProperty("autoGroupColumnDef",i,!0)},h.prototype.setDefaultColDef=function(i,r){this.gridOptionsWrapper.setProperty("defaultColDef",i,!0)},h.prototype.expireValueCache=function(){this.valueCache.expire()},h.prototype.getVerticalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getVScrollPosition()},h.prototype.getHorizontalPixelRange=function(){return this.gridBodyCtrl.getScrollFeature().getHScrollPosition()},h.prototype.setAlwaysShowHorizontalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowHorizontalScroll",i)},h.prototype.setAlwaysShowVerticalScroll=function(i){this.gridOptionsWrapper.setProperty("alwaysShowVerticalScroll",i)},h.prototype.refreshToolPanel=function(){!this.sideBarComp||this.sideBarComp.refresh()},h.prototype.refreshCells=function(i){void 0===i&&(i={}),Array.isArray(i)?console.warn("since AG Grid v11.1, refreshCells() now takes parameters, please see the documentation."):this.rowRenderer.refreshCells(i)},h.prototype.flashCells=function(i){void 0===i&&(i={}),this.rowRenderer.flashCells(i)},h.prototype.redrawRows=function(i){void 0===i&&(i={}),this.rowRenderer.redrawRows(i?i.rowNodes:void 0)},h.prototype.setFunctionsReadOnly=function(i){this.gridOptionsWrapper.setProperty("functionsReadOnly",i)},h.prototype.refreshHeader=function(){this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(i){return i.refresh()})},h.prototype.isAnyFilterPresent=function(){return this.filterManager.isAnyFilterPresent()},h.prototype.isColumnFilterPresent=function(){return this.filterManager.isColumnFilterPresent()||this.filterManager.isAggregateFilterPresent()},h.prototype.isQuickFilterPresent=function(){return this.filterManager.isQuickFilterPresent()},h.prototype.getModel=function(){return this.rowModel},h.prototype.setRowNodeExpanded=function(i,r){i&&i.setExpanded(r)},h.prototype.onGroupExpandedOrCollapsed=function(i){b(this.clientSideRowModel)&&console.warn("AG Grid: cannot call onGroupExpandedOrCollapsed unless using normal row model"),re(i)&&console.warn("AG Grid: api.onGroupExpandedOrCollapsed - refreshFromIndex parameter is no longer used, the grid will refresh all rows"),this.clientSideRowModel.refreshModel({step:W.ClientSideRowModelSteps.MAP})},h.prototype.refreshInMemoryRowModel=function(i){console.warn("ag-grid: since version 18.x, api.refreshInMemoryRowModel() should be replaced with api.refreshClientSideRowModel()"),this.refreshClientSideRowModel(i)},h.prototype.refreshClientSideRowModel=function(i){b(this.clientSideRowModel)&&console.warn("cannot call refreshClientSideRowModel unless using normal row model");var r=W.ClientSideRowModelSteps.EVERYTHING,o={group:W.ClientSideRowModelSteps.EVERYTHING,filter:W.ClientSideRowModelSteps.FILTER,map:W.ClientSideRowModelSteps.MAP,aggregate:W.ClientSideRowModelSteps.AGGREGATE,sort:W.ClientSideRowModelSteps.SORT,pivot:W.ClientSideRowModelSteps.PIVOT};if(re(i)&&(r=o[i]),b(r))console.error("AG Grid: invalid step "+i+", available steps are "+Object.keys(o).join(", "));else{var u=!this.gridOptionsWrapper.isSuppressAnimationFrame();this.clientSideRowModel.refreshModel({step:r,keepRenderedRows:!0,keepEditingRows:!0,animate:u})}},h.prototype.isAnimationFrameQueueEmpty=function(){return this.animationFrameService.isQueueEmpty()},h.prototype.flushAllAnimationFrames=function(){this.animationFrameService.flushAllFrames()},h.prototype.getRowNode=function(i){return this.rowModel.getRowNode(i)},h.prototype.getSizesForCurrentTheme=function(){return{rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),headerHeight:this.gridOptionsWrapper.getHeaderHeight()}},h.prototype.expandAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!0):this.serverSideRowModel?this.serverSideRowModel.expandAll(!0):console.warn("AG Grid: expandAll only works with Client Side Row Model and Server Side Row Model")},h.prototype.collapseAll=function(){this.clientSideRowModel?this.clientSideRowModel.expandOrCollapseAll(!1):this.serverSideRowModel?this.serverSideRowModel.expandAll(!1):console.warn("AG Grid: collapseAll only works with Client Side Row Model and Server Side Row Model")},h.prototype.getToolPanelInstance=function(i){if(this.sideBarComp)return fl(this.sideBarComp.getToolPanelInstance(i));console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},h.prototype.addVirtualRowListener=function(i,r,o){"string"!=typeof i&&console.warn("AG Grid: addVirtualRowListener is deprecated, please use addRenderedRowListener."),this.addRenderedRowListener(i,r,o)},h.prototype.addRenderedRowListener=function(i,r,o){"virtualRowSelected"===i&&console.warn("AG Grid: event virtualRowSelected is deprecated, to register for individual row\n                selection events, add a listener directly to the row node."),this.rowRenderer.addRenderedRowListener(i,r,o)},h.prototype.setQuickFilter=function(i){this.filterManager.setQuickFilter(i)},h.prototype.selectIndex=function(i,r,o){console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.selectIndex(i,r)},h.prototype.deselectIndex=function(i,r){void 0===r&&(r=!1),console.warn("AG Grid: do not use api for selection, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),this.selectionService.deselectIndex(i)},h.prototype.selectNode=function(i,r,o){void 0===r&&(r=!1),void 0===o&&(o=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),o&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!0,clearSelection:!r})},h.prototype.deselectNode=function(i,r){void 0===r&&(r=!1),console.warn("AG Grid: API for selection is deprecated, call node.setSelected(value) instead"),r&&console.warn("AG Grid: suppressEvents is no longer supported, stop listening for the event if you no longer want it"),i.setSelectedParams({newValue:!1})},h.prototype.selectAll=function(){this.selectionService.selectAllRowNodes()},h.prototype.deselectAll=function(){this.selectionService.deselectAllRowNodes()},h.prototype.selectAllFiltered=function(){this.selectionService.selectAllRowNodes(!0)},h.prototype.deselectAllFiltered=function(){this.selectionService.deselectAllRowNodes(!0)},h.prototype.recomputeAggregates=function(){b(this.clientSideRowModel)&&console.warn("cannot call recomputeAggregates unless using normal row model"),console.warn("recomputeAggregates is deprecated, please call api.refreshClientSideRowModel('aggregate') instead"),this.clientSideRowModel.refreshModel({step:W.ClientSideRowModelSteps.AGGREGATE})},h.prototype.sizeColumnsToFit=function(){this.gridBodyCtrl.sizeColumnsToFit()},h.prototype.showLoadingOverlay=function(){this.overlayWrapperComp.showLoadingOverlay()},h.prototype.showNoRowsOverlay=function(){this.overlayWrapperComp.showNoRowsOverlay()},h.prototype.hideOverlay=function(){this.overlayWrapperComp.hideOverlay()},h.prototype.isNodeSelected=function(i){return console.warn("AG Grid: no need to call api.isNodeSelected(), just call node.isSelected() instead"),i.isSelected()},h.prototype.getSelectedNodesById=function(){return console.error("AG Grid: since version 3.4, getSelectedNodesById no longer exists, use getSelectedNodes() instead"),null},h.prototype.getSelectedNodes=function(){return this.selectionService.getSelectedNodes()},h.prototype.getSelectedRows=function(){return this.selectionService.getSelectedRows()},h.prototype.getBestCostNodeSelection=function(){return this.selectionService.getBestCostNodeSelection()},h.prototype.getRenderedNodes=function(){return this.rowRenderer.getRenderedNodes()},h.prototype.ensureColIndexVisible=function(i){console.warn("AG Grid: ensureColIndexVisible(index) no longer supported, use ensureColumnVisible(colKey) instead.")},h.prototype.ensureColumnVisible=function(i,r){void 0===r&&(r="auto"),this.gridBodyCtrl.getScrollFeature().ensureColumnVisible(i,r)},h.prototype.ensureIndexVisible=function(i,r){this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i,r)},h.prototype.ensureNodeVisible=function(i,r){void 0===r&&(r=null),this.gridBodyCtrl.getScrollFeature().ensureNodeVisible(i,r)},h.prototype.forEachLeafNode=function(i){b(this.clientSideRowModel)&&console.warn("cannot call forEachNode unless using normal row model"),this.clientSideRowModel.forEachLeafNode(i)},h.prototype.forEachNode=function(i){this.rowModel.forEachNode(i)},h.prototype.forEachNodeAfterFilter=function(i){b(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilter unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilter(i)},h.prototype.forEachNodeAfterFilterAndSort=function(i){b(this.clientSideRowModel)&&console.warn("cannot call forEachNodeAfterFilterAndSort unless using normal row model"),this.clientSideRowModel.forEachNodeAfterFilterAndSort(i)},h.prototype.getFilterInstance=function(i,r){var o=this.getFilterInstanceImpl(i,function(d){if(r){var m=fl(d);r(m)}});return fl(o)},h.prototype.getFilterInstanceImpl=function(i,r){var o=this.columnModel.getPrimaryColumn(i);if(o){var u=this.filterManager.getFilterComponent(o,"NO_UI"),d=u&&u.resolveNow(null,function(m){return m});return d?setTimeout(r,0,d):u&&u.then(function(m){r(m)}),d}},h.prototype.destroyFilter=function(i){var r=this.columnModel.getPrimaryColumn(i);if(r)return this.filterManager.destroyFilter(r,"filterDestroyed")},h.prototype.getStatusPanel=function(i){if(this.statusBarService)return fl(this.statusBarService.getStatusPanel(i))},h.prototype.getColumnDef=function(i){var r=this.columnModel.getPrimaryColumn(i);return r?r.getColDef():null},h.prototype.getColumnDefs=function(){return this.columnModel.getColumnDefs()},h.prototype.onFilterChanged=function(){this.filterManager.onFilterChanged()},h.prototype.onSortChanged=function(){this.sortController.onSortChanged("api")},h.prototype.setFilterModel=function(i){this.filterManager.setFilterModel(i)},h.prototype.getFilterModel=function(){return this.filterManager.getFilterModel()},h.prototype.getFocusedCell=function(){return this.focusService.getFocusedCell()},h.prototype.clearFocusedCell=function(){return this.focusService.clearFocusedCell()},h.prototype.setFocusedCell=function(i,r,o){this.focusService.setFocusedCell(i,r,o,!0)},h.prototype.setSuppressRowDrag=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_SUPPRESS_ROW_DRAG,i)},h.prototype.setSuppressMoveWhenRowDragging=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_SUPPRESS_MOVE_WHEN_ROW_DRAG,i)},h.prototype.setSuppressRowClickSelection=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_SUPPRESS_ROW_CLICK_SELECTION,i)},h.prototype.addRowDropZone=function(i){this.gridBodyCtrl.getRowDragFeature().addRowDropZone(i)},h.prototype.removeRowDropZone=function(i){var r=this.dragAndDropService.findExternalZone(i);r&&this.dragAndDropService.removeDropTarget(r)},h.prototype.getRowDropZoneParams=function(i){return this.gridBodyCtrl.getRowDragFeature().getRowDropZone(i)},h.prototype.setHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_HEADER_HEIGHT,i)},h.prototype.setDomLayout=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_DOM_LAYOUT,i)},h.prototype.setEnableCellTextSelection=function(i){this.gridBodyCtrl.setCellTextSelection(i)},h.prototype.setFillHandleDirection=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_FILL_HANDLE_DIRECTION,i)},h.prototype.setGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GROUP_HEADER_HEIGHT,i)},h.prototype.setFloatingFiltersHeight=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_FLOATING_FILTERS_HEIGHT,i)},h.prototype.setPivotHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PIVOT_HEADER_HEIGHT,i)},h.prototype.setPivotGroupHeaderHeight=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PIVOT_GROUP_HEADER_HEIGHT,i)},h.prototype.setIsExternalFilterPresent=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_EXTERNAL_FILTER_PRESENT,i)},h.prototype.setDoesExternalFilterPass=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_DOES_EXTERNAL_FILTER_PASS,i)},h.prototype.setNavigateToNextCell=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_NAVIGATE_TO_NEXT_CELL,i)},h.prototype.setTabToNextCell=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_TAB_TO_NEXT_CELL,i)},h.prototype.setTabToNextHeader=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_TAB_TO_NEXT_HEADER,i)},h.prototype.setNavigateToNextHeader=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_NAVIGATE_TO_NEXT_HEADER,i)},h.prototype.setGroupRowAggNodes=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GROUP_ROW_AGG_NODES,i)},h.prototype.setGetGroupRowAgg=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_GROUP_ROW_AGG,i)},h.prototype.setGetBusinessKeyForNode=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_BUSINESS_KEY_FOR_NODE,i)},h.prototype.setGetChildCount=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_CHILD_COUNT,i)},h.prototype.setProcessRowPostCreate=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PROCESS_ROW_POST_CREATE,i)},h.prototype.setGetRowNodeId=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_ROW_NODE_ID,i)},h.prototype.setGetRowId=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_ROW_ID,i)},h.prototype.setGetRowClass=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_ROW_CLASS,i)},h.prototype.setIsFullWidthCell=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_FULL_WIDTH_CELL,i)},h.prototype.setIsFullWidthRow=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_FULL_WIDTH_ROW,i)},h.prototype.setIsRowSelectable=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_ROW_SELECTABLE,i)},h.prototype.setIsRowMaster=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_ROW_MASTER,i)},h.prototype.setPostSort=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_POST_SORT,i)},h.prototype.setPostSortRows=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_POST_SORT_ROWS,i)},h.prototype.setGetDocument=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_DOCUMENT,i)},h.prototype.setGetContextMenuItems=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_CONTEXT_MENU_ITEMS,i)},h.prototype.setGetMainMenuItems=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_MAIN_MENU_ITEMS,i)},h.prototype.setProcessCellForClipboard=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PROCESS_CELL_FOR_CLIPBOARD,i)},h.prototype.setSendToClipboard=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_SEND_TO_CLIPBOARD,i)},h.prototype.setProcessCellFromClipboard=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PROCESS_CELL_FROM_CLIPBOARD,i)},h.prototype.setProcessSecondaryColDef=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PROCESS_TO_SECONDARY_COLDEF,i)},h.prototype.setProcessSecondaryColGroupDef=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PROCESS_SECONDARY_COL_GROUP_DEF,i)},h.prototype.setPostProcessPopup=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_POST_PROCESS_POPUP,i)},h.prototype.setDefaultGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_DEFAULT_GROUP_ORDER_COMPARATOR,i)},h.prototype.setInitialGroupOrderComparator=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_INITIAL_GROUP_ORDER_COMPARATOR,i)},h.prototype.setGetChartToolbarItems=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_CHART_TOOLBAR_ITEMS,i)},h.prototype.setPaginationNumberFormatter=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_PAGINATION_NUMBER_FORMATTER,i)},h.prototype.setGetServerSideStoreParams=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_SERVER_SIDE_STORE_PARAMS,i)},h.prototype.setIsServerSideGroupOpenByDefault=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_SERVER_SIDE_GROUPS_OPEN_BY_DEFAULT,i)},h.prototype.setIsApplyServerSideTransaction=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_APPLY_SERVER_SIDE_TRANSACTION,i)},h.prototype.setIsServerSideGroup=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_IS_SERVER_SIDE_GROUP,i)},h.prototype.setGetServerSideGroupKey=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_SERVER_SIDE_GROUP_KEY,i)},h.prototype.setGetRowStyle=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_ROW_STYLE,i)},h.prototype.setGetRowHeight=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GET_ROW_HEIGHT,i)},h.prototype.isSideBarVisible=function(){return!!this.sideBarComp&&this.sideBarComp.isDisplayed()},h.prototype.setSideBarVisible=function(i){this.sideBarComp?this.sideBarComp.setDisplayed(i):i&&console.warn("AG Grid: sideBar is not loaded")},h.prototype.setSideBarPosition=function(i){this.sideBarComp?this.sideBarComp.setSideBarPosition(i):console.warn("AG Grid: sideBar is not loaded")},h.prototype.openToolPanel=function(i){this.sideBarComp?this.sideBarComp.openToolPanel(i):console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},h.prototype.closeToolPanel=function(){this.sideBarComp?this.sideBarComp.close():console.warn("AG Grid: toolPanel is only available in AG Grid Enterprise")},h.prototype.getOpenedToolPanel=function(){return this.sideBarComp?this.sideBarComp.openedItem():null},h.prototype.getSideBar=function(){return this.gridOptionsWrapper.getSideBar()},h.prototype.setSideBar=function(i){this.gridOptionsWrapper.setProperty("sideBar",Gp.parse(i))},h.prototype.setSuppressClipboardPaste=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_SUPPRESS_CLIPBOARD_PASTE,i)},h.prototype.isToolPanelShowing=function(){return this.sideBarComp.isToolPanelShowing()},h.prototype.doLayout=function(){Wt(function(){return console.warn("AG Grid - since version 25.1, doLayout was taken out, as it's not needed. The grid responds to grid size changes automatically")},"doLayoutDeprecated")},h.prototype.resetRowHeights=function(){if(re(this.clientSideRowModel)){if(this.columnModel.isAutoRowHeightActive())return void console.warn("AG Grid: calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");this.clientSideRowModel.resetRowHeights()}},h.prototype.setGroupRemoveSingleChildren=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GROUP_REMOVE_SINGLE_CHILDREN,i)},h.prototype.setGroupRemoveLowestSingleChildren=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,i)},h.prototype.onRowHeightChanged=function(){this.clientSideRowModel?this.clientSideRowModel.onRowHeightChanged():this.serverSideRowModel&&this.serverSideRowModel.onRowHeightChanged()},h.prototype.getValue=function(i,r){var o=this.columnModel.getPrimaryColumn(i);return b(o)&&(o=this.columnModel.getGridColumn(i)),b(o)?null:this.valueService.getValue(o,r)},h.prototype.addEventListener=function(i,r){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addEventListener(i,r,o)},h.prototype.addGlobalListener=function(i){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.addGlobalListener(i,r)},h.prototype.removeEventListener=function(i,r){var o=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeEventListener(i,r,o)},h.prototype.removeGlobalListener=function(i){var r=this.gridOptionsWrapper.useAsyncEvents();this.eventService.removeGlobalListener(i,r)},h.prototype.dispatchEvent=function(i){this.eventService.dispatchEvent(i)},h.prototype.destroy=function(){if(!this.destroyCalled){this.destroyCalled=!0;var i=this.ctrlsService.getGridCtrl();i&&i.destroyGridUi(),this.context.destroy()}},h.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ca.bind(window,this,"Grid API"),100)},h.prototype.warnIfDestroyed=function(i){return this.destroyCalled&&console.warn("AG Grid: Grid API method "+i+" was called on a grid that was destroyed."),this.destroyCalled},h.prototype.resetQuickFilter=function(){this.warnIfDestroyed("resetQuickFilter")||this.rowModel.forEachNode(function(i){return i.quickFilterAggregateText=null})},h.prototype.getRangeSelections=function(){return console.warn("AG Grid: in v20.1.x, api.getRangeSelections() is gone, please use getCellRanges() instead.\n        We had to change how cell selections works a small bit to allow charting to integrate. The return type of\n        getCellRanges() is a bit different, please check the AG Grid documentation."),null},h.prototype.getCellRanges=function(){return this.rangeService?this.rangeService.getCellRanges():(console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),null)},h.prototype.camelCaseToHumanReadable=function(i){return Ot(i)},h.prototype.addRangeSelection=function(i){console.warn("AG Grid: As of version 21.x, range selection changed slightly to allow charting integration. Please call api.addCellRange() instead of api.addRangeSelection()")},h.prototype.addCellRange=function(i){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.addCellRange(i)},h.prototype.clearRangeSelection=function(){this.rangeService||console.warn("AG Grid: cell range selection is only available in AG Grid Enterprise"),this.rangeService.removeAllCellRanges()},h.prototype.undoCellEditing=function(){this.undoRedoService.undo()},h.prototype.redoCellEditing=function(){this.undoRedoService.redo()},h.prototype.getCurrentUndoSize=function(){return this.undoRedoService.getCurrentUndoStackSize()},h.prototype.getCurrentRedoSize=function(){return this.undoRedoService.getCurrentRedoStackSize()},h.prototype.getChartModels=function(){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.getChartModels")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.getChartModels"))return this.chartService.getChartModels()},h.prototype.getChartRef=function(i){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.getChartRef")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.getChartRef"))return this.chartService.getChartRef(i)},h.prototype.getChartImageDataURL=function(i){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.getChartImageDataURL")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.getChartImageDataURL"))return this.chartService.getChartImageDataURL(i)},h.prototype.createRangeChart=function(i){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.createRangeChart")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.createRangeChart"))return this.chartService.createRangeChart(i)},h.prototype.createCrossFilterChart=function(i){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.createCrossFilterChart")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.createCrossFilterChart"))return this.chartService.createCrossFilterChart(i)},h.prototype.restoreChart=function(i,r){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.restoreChart")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.restoreChart"))return this.chartService.restoreChart(i,r)},h.prototype.createPivotChart=function(i){if(yt.assertRegistered(W.ModuleNames.RangeSelectionModule,"api.createPivotChart")&&yt.assertRegistered(W.ModuleNames.GridChartsModule,"api.createPivotChart"))return this.chartService.createPivotChart(i)},h.prototype.copySelectedRowsToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRowsToClipboard(i)},h.prototype.copySelectedRangeToClipboard=function(i){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copySelectedRangeToClipboard(i)},h.prototype.copySelectedRangeDown=function(){this.clipboardService||console.warn("AG Grid: clipboard is only available in AG Grid Enterprise"),this.clipboardService.copyRangeDown()},h.prototype.showColumnMenuAfterButtonClick=function(i,r){var o=this.columnModel.getGridColumn(i);this.menuFactory.showMenuAfterButtonClick(o,r,"columnMenu")},h.prototype.showColumnMenuAfterMouseClick=function(i,r){var o=this.columnModel.getGridColumn(i);o||(o=this.columnModel.getPrimaryColumn(i)),o?this.menuFactory.showMenuAfterMouseEvent(o,r):console.error("AG Grid: column '"+i+"' not found")},h.prototype.hidePopupMenu=function(){this.contextMenuFactory&&this.contextMenuFactory.hideActiveMenu(),this.menuFactory.hideActiveMenu()},h.prototype.setPopupParent=function(i){this.gridOptionsWrapper.setProperty(Ke.PROP_POPUP_PARENT,i)},h.prototype.tabToNextCell=function(i){return this.navigationService.tabToNextCell(!1,i)},h.prototype.tabToPreviousCell=function(i){return this.navigationService.tabToNextCell(!0,i)},h.prototype.getCellRendererInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellRendererInstances(i).map(fl)},h.prototype.getCellEditorInstances=function(i){return void 0===i&&(i={}),this.rowRenderer.getCellEditorInstances(i).map(fl)},h.prototype.getEditingCells=function(){return this.rowRenderer.getEditingCells()},h.prototype.stopEditing=function(i){void 0===i&&(i=!1),this.rowRenderer.stopEditing(i)},h.prototype.startEditingCell=function(i){var r=this.columnModel.getGridColumn(i.colKey);if(r){var o={rowIndex:i.rowIndex,rowPinned:i.rowPinned||null,column:r};null==i.rowPinned&&this.gridBodyCtrl.getScrollFeature().ensureIndexVisible(i.rowIndex);var d=this.navigationService.getCellByPosition(o);!d||d.startRowOrCellEdit(i.key,i.charPress)}else console.warn("AG Grid: no column found for "+i.colKey)},h.prototype.addAggFunc=function(i,r){this.aggFuncService&&this.aggFuncService.addAggFunc(i,r)},h.prototype.addAggFuncs=function(i){this.aggFuncService&&this.aggFuncService.addAggFuncs(i)},h.prototype.clearAggFuncs=function(){this.aggFuncService&&this.aggFuncService.clear()},h.prototype.applyServerSideTransaction=function(i){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransaction(i);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},h.prototype.applyServerSideTransactionAsync=function(i,r){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.applyTransactionAsync(i,r);console.warn("AG Grid: Cannot apply Server Side Transaction if not using the Server Side Row Model.")},h.prototype.retryServerSideLoads=function(){this.serverSideRowModel?this.serverSideRowModel.retryLoads():console.warn("AG Grid: API retryServerSideLoads() can only be used when using Server-Side Row Model.")},h.prototype.flushServerSideAsyncTransactions=function(){if(this.serverSideTransactionManager)return this.serverSideTransactionManager.flushAsyncTransactions();console.warn("AG Grid: Cannot flush Server Side Transaction if not using the Server Side Row Model.")},h.prototype.applyTransaction=function(i){if(this.clientSideRowModel){var r=this.clientSideRowModel.updateRowData(i);return this.rowRenderer.refreshFullWidthRows(r.update),this.gridOptionsWrapper.isSuppressChangeDetection()||this.rowRenderer.refreshCells(),r}console.error("AG Grid: updateRowData() only works with ClientSideRowModel. Working with InfiniteRowModel was deprecated in v23.1 and removed in v24.1")},h.prototype.updateRowData=function(i){return Wt(function(){return console.warn("AG Grid: as of v23.1, grid API updateRowData(transaction) is now called applyTransaction(transaction). updateRowData is deprecated and will be removed in a future major release.")},"updateRowData deprecated"),this.applyTransaction(i)},h.prototype.applyTransactionAsync=function(i,r){this.clientSideRowModel?this.clientSideRowModel.batchUpdateRowData(i,r):console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},h.prototype.flushAsyncTransactions=function(){this.clientSideRowModel?this.clientSideRowModel.flushAsyncTransactions():console.error("AG Grid: api.applyTransactionAsync() only works with ClientSideRowModel.")},h.prototype.batchUpdateRowData=function(i,r){Wt(function(){return console.warn("AG Grid: as of v23.1, grid API batchUpdateRowData(transaction, callback) is now called applyTransactionAsync(transaction, callback). batchUpdateRowData is deprecated and will be removed in a future major release.")},"batchUpdateRowData deprecated"),this.applyTransactionAsync(i,r)},h.prototype.insertItemsAtIndex=function(i,r,o){console.warn("AG Grid: insertItemsAtIndex() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:r,addIndex:i,update:null,remove:null})},h.prototype.removeItems=function(i,r){console.warn("AG Grid: removeItems() is deprecated, use updateRowData(transaction) instead.");var o=i.map(function(u){return u.data});this.updateRowData({add:null,addIndex:null,update:null,remove:o})},h.prototype.addItems=function(i,r){console.warn("AG Grid: addItems() is deprecated, use updateRowData(transaction) instead."),this.updateRowData({add:i,addIndex:null,update:null,remove:null})},h.prototype.refreshVirtualPageCache=function(){console.warn("AG Grid: refreshVirtualPageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},h.prototype.refreshInfinitePageCache=function(){console.warn("AG Grid: refreshInfinitePageCache() is now called refreshInfiniteCache(), please call refreshInfiniteCache() instead"),this.refreshInfiniteCache()},h.prototype.refreshInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.refreshCache():console.warn("AG Grid: api.refreshInfiniteCache is only available when rowModelType='infinite'.")},h.prototype.purgeVirtualPageCache=function(){console.warn("AG Grid: purgeVirtualPageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfinitePageCache()},h.prototype.purgeInfinitePageCache=function(){console.warn("AG Grid: purgeInfinitePageCache() is now called purgeInfiniteCache(), please call purgeInfiniteCache() instead"),this.purgeInfiniteCache()},h.prototype.purgeInfiniteCache=function(){this.infiniteRowModel?this.infiniteRowModel.purgeCache():console.warn("AG Grid: api.purgeInfiniteCache is only available when rowModelType='infinite'.")},h.prototype.purgeEnterpriseCache=function(i){console.warn("ag-grid: since version 18.x, api.purgeEnterpriseCache() should be replaced with api.purgeServerSideCache()"),this.purgeServerSideCache(i)},h.prototype.purgeServerSideCache=function(i){void 0===i&&(i=[]),this.serverSideRowModel?(console.warn("AG Grid: since v25.0, api.purgeServerSideCache is deprecated. Please use api.refreshServerSideStore({purge: true}) instead."),this.refreshServerSideStore({route:i,purge:!0})):console.warn("AG Grid: api.purgeServerSideCache is only available when rowModelType='serverSide'.")},h.prototype.refreshServerSideStore=function(i){this.serverSideRowModel?this.serverSideRowModel.refreshStore(i):console.warn("AG Grid: api.refreshServerSideStore is only available when rowModelType='serverSide'.")},h.prototype.getServerSideStoreState=function(){return this.serverSideRowModel?this.serverSideRowModel.getStoreState():(console.warn("AG Grid: api.getServerSideStoreState is only available when rowModelType='serverSide'."),[])},h.prototype.getVirtualRowCount=function(){return console.warn("AG Grid: getVirtualRowCount() is now called getInfiniteRowCount(), please call getInfiniteRowCount() instead"),this.getInfiniteRowCount()},h.prototype.getInfiniteRowCount=function(){if(this.infiniteRowModel)return this.infiniteRowModel.getRowCount();console.warn("AG Grid: api.getVirtualRowCount is only available when rowModelType='virtual'.")},h.prototype.isMaxRowFound=function(){return console.warn("AG Grid: api.isLastRowIndexKnown is deprecated, please use api.isLastRowIndexKnown()"),this.isLastRowIndexKnown()},h.prototype.isLastRowIndexKnown=function(){if(this.infiniteRowModel)return this.infiniteRowModel.isLastRowIndexKnown();console.warn("AG Grid: api.isMaxRowFound is only available when rowModelType='virtual'.")},h.prototype.setVirtualRowCount=function(i,r){console.warn("AG Grid: setVirtualRowCount() is now called setInfiniteRowCount(), please call setInfiniteRowCount() instead"),this.setRowCount(i,r)},h.prototype.setInfiniteRowCount=function(i,r){console.warn("AG Grid: setInfiniteRowCount() is now called setRowCount(), please call setRowCount() instead"),this.setRowCount(i,r)},h.prototype.setRowCount=function(i,r){this.infiniteRowModel?this.infiniteRowModel.setRowCount(i,r):console.warn("AG Grid: api.setRowCount is only available for Infinite Row Model.")},h.prototype.getVirtualPageState=function(){return console.warn("AG Grid: getVirtualPageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},h.prototype.getInfinitePageState=function(){return console.warn("AG Grid: getInfinitePageState() is now called getCacheBlockState(), please call getCacheBlockState() instead"),this.getCacheBlockState()},h.prototype.getCacheBlockState=function(){return this.rowNodeBlockLoader.getBlockState()},h.prototype.checkGridSize=function(){console.warn("in AG Grid v25.2.0, checkGridSize() was removed, as it was legacy and didn't do anything uesful.")},h.prototype.getFirstRenderedRow=function(){return console.warn("in AG Grid v12, getFirstRenderedRow() was renamed to getFirstDisplayedRow()"),this.getFirstDisplayedRow()},h.prototype.getFirstDisplayedRow=function(){return this.rowRenderer.getFirstVirtualRenderedRow()},h.prototype.getLastRenderedRow=function(){return console.warn("in AG Grid v12, getLastRenderedRow() was renamed to getLastDisplayedRow()"),this.getLastDisplayedRow()},h.prototype.getLastDisplayedRow=function(){return this.rowRenderer.getLastVirtualRenderedRow()},h.prototype.getDisplayedRowAtIndex=function(i){return this.rowModel.getRow(i)},h.prototype.getDisplayedRowCount=function(){return this.rowModel.getRowCount()},h.prototype.paginationIsLastPageFound=function(){return this.paginationProxy.isLastPageFound()},h.prototype.paginationGetPageSize=function(){return this.paginationProxy.getPageSize()},h.prototype.paginationSetPageSize=function(i){this.gridOptionsWrapper.setProperty("paginationPageSize",i)},h.prototype.paginationGetCurrentPage=function(){return this.paginationProxy.getCurrentPage()},h.prototype.paginationGetTotalPages=function(){return this.paginationProxy.getTotalPages()},h.prototype.paginationGetRowCount=function(){return this.paginationProxy.getMasterRowCount()},h.prototype.paginationGoToNextPage=function(){this.paginationProxy.goToNextPage()},h.prototype.paginationGoToPreviousPage=function(){this.paginationProxy.goToPreviousPage()},h.prototype.paginationGoToFirstPage=function(){this.paginationProxy.goToFirstPage()},h.prototype.paginationGoToLastPage=function(){this.paginationProxy.goToLastPage()},h.prototype.paginationGoToPage=function(i){this.paginationProxy.goToPage(i)},Lt([jt("immutableService")],h.prototype,"immutableService",void 0),Lt([jt("csvCreator")],h.prototype,"csvCreator",void 0),Lt([jt("excelCreator")],h.prototype,"excelCreator",void 0),Lt([K("rowRenderer")],h.prototype,"rowRenderer",void 0),Lt([K("navigationService")],h.prototype,"navigationService",void 0),Lt([K("filterManager")],h.prototype,"filterManager",void 0),Lt([K("columnModel")],h.prototype,"columnModel",void 0),Lt([K("selectionService")],h.prototype,"selectionService",void 0),Lt([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),Lt([K("valueService")],h.prototype,"valueService",void 0),Lt([K("alignedGridsService")],h.prototype,"alignedGridsService",void 0),Lt([K("eventService")],h.prototype,"eventService",void 0),Lt([K("pinnedRowModel")],h.prototype,"pinnedRowModel",void 0),Lt([K("context")],h.prototype,"context",void 0),Lt([K("rowModel")],h.prototype,"rowModel",void 0),Lt([K("sortController")],h.prototype,"sortController",void 0),Lt([K("paginationProxy")],h.prototype,"paginationProxy",void 0),Lt([K("focusService")],h.prototype,"focusService",void 0),Lt([K("dragAndDropService")],h.prototype,"dragAndDropService",void 0),Lt([jt("rangeService")],h.prototype,"rangeService",void 0),Lt([jt("clipboardService")],h.prototype,"clipboardService",void 0),Lt([jt("aggFuncService")],h.prototype,"aggFuncService",void 0),Lt([K("menuFactory")],h.prototype,"menuFactory",void 0),Lt([jt("contextMenuFactory")],h.prototype,"contextMenuFactory",void 0),Lt([K("valueCache")],h.prototype,"valueCache",void 0),Lt([K("animationFrameService")],h.prototype,"animationFrameService",void 0),Lt([jt("statusBarService")],h.prototype,"statusBarService",void 0),Lt([jt("chartService")],h.prototype,"chartService",void 0),Lt([jt("undoRedoService")],h.prototype,"undoRedoService",void 0),Lt([jt("rowNodeBlockLoader")],h.prototype,"rowNodeBlockLoader",void 0),Lt([jt("ssrmTransactionManager")],h.prototype,"serverSideTransactionManager",void 0),Lt([K("ctrlsService")],h.prototype,"ctrlsService",void 0),Lt([jt("frameworkComponentWrapper")],h.prototype,"frameworkComponentWrapper",void 0),Lt([We],h.prototype,"init",null),Lt([_n],h.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),Lt([qe("gridApi")],h)}(),Ma=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qp=function(h){function i(r,o,u,d){var m=h.call(this)||this;return m.columnOrGroup=r,m.eCell=o,m.ariaEl=m.eCell.querySelector("[role=columnheader]")||m.eCell,m.colsSpanning=d,m.beans=u,m}return Ma(i,h),i.prototype.setColsSpanning=function(r){this.colsSpanning=r,this.onLeftChanged()},i.prototype.getColumnOrGroup=function(){return this.beans.gridOptionsWrapper.isEnableRtl()&&this.colsSpanning?Jt(this.colsSpanning):this.columnOrGroup},i.prototype.postConstruct=function(){this.addManagedListener(this.columnOrGroup,kt.EVENT_LEFT_CHANGED,this.onLeftChanged.bind(this)),this.setLeftFirstTime(),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,this.onLeftChanged.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,this.onLeftChanged.bind(this))},i.prototype.setLeftFirstTime=function(){var r=this.beans.gridOptionsWrapper.isSuppressColumnMoveAnimation(),o=re(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&o&&!r?this.animateInLeft():this.onLeftChanged()},i.prototype.animateInLeft=function(){var r=this,o=this.getColumnOrGroup(),u=o.getLeft(),d=o.getOldLeft(),m=this.modifyLeftForPrintLayout(o,d),w=this.modifyLeftForPrintLayout(o,u);this.setLeft(m),this.actualLeft=w,this.beans.columnAnimationService.executeNextVMTurn(function(){r.actualLeft===w&&r.setLeft(w)})},i.prototype.onLeftChanged=function(){var r=this.getColumnOrGroup(),o=r.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(r,o),this.setLeft(this.actualLeft)},i.prototype.modifyLeftForPrintLayout=function(r,o){if(this.beans.gridOptionsWrapper.getDomLayout()!==ge.DOM_LAYOUT_PRINT||r.getPinned()===ge.PINNED_LEFT)return o;var d=this.beans.columnModel.getDisplayedColumnsLeftWidth();return r.getPinned()===ge.PINNED_RIGHT?d+this.beans.columnModel.getBodyContainerWidth()+o:d+o},i.prototype.setLeft=function(r){var o;if(re(r)&&(this.eCell.style.left=r+"px"),this.columnOrGroup instanceof kt)o=this.columnOrGroup;else{var d=this.columnOrGroup.getLeafColumns();if(!d.length)return;d.length>1&&Y_(this.ariaEl,d.length),o=d[0]}var m=this.beans.columnModel.getAriaColumnIndex(o);Pm(this.ariaEl,m)},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(Ge),SC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qh=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},qi=function(h){function i(r,o){var u=h.call(this)||this;return u.columns=r,u.element=o,u}return SC(i,h),i.prototype.postConstruct=function(){this.gridOptionsWrapper.isColumnHoverHighlight()&&this.addMouseHoverListeners()},i.prototype.addMouseHoverListeners=function(){this.addManagedListener(this.element,"mouseout",this.onMouseOut.bind(this)),this.addManagedListener(this.element,"mouseover",this.onMouseOver.bind(this))},i.prototype.onMouseOut=function(){this.columnHoverService.clearMouseOver()},i.prototype.onMouseOver=function(){this.columnHoverService.setMouseOver(this.columns)},Qh([K("columnHoverService")],i.prototype,"columnHoverService",void 0),Qh([We],i.prototype,"postConstruct",null),i}(Ge),av=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),qo=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},yc=function(h){function i(r,o){var u=h.call(this,r,o)||this;return u.column=r,u}return av(i,h),i.prototype.setComp=function(r,o,u,d){h.prototype.setGui.call(this,o),this.comp=r,this.eButtonShowMainFilter=u,this.eFloatingFilterBody=d;var m=this.column.getColDef();this.active=!(!m.filter&&!m.filterFramework||!m.floatingFilter),this.setupWidth(),this.setupLeft(),this.setupHover(),this.setupFocus(),this.setupUserComp(),this.setupSyncWithFilter(),this.setupUi(),this.addManagedListener(this.eButtonShowMainFilter,"click",this.showParentFilter.bind(this))},i.prototype.setupUi=function(){if(this.comp.addOrRemoveButtonWrapperCssClass("ag-hidden",!this.active||this.suppressFilterButton),this.active){this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton);var r=Fr("filter",this.gridOptionsWrapper,this.column);r&&this.eButtonShowMainFilter.appendChild(r)}},i.prototype.setupFocus=function(){this.createManagedBean(new Uo(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.onTabKeyDown=function(r){if(this.gridOptionsWrapper.getDocument().activeElement!==this.eGui){var m=this.focusService.findNextFocusableElement(this.eGui,null,r.shiftKey);if(m)return this.beans.headerNavigationService.scrollToColumn(this.column),r.preventDefault(),void m.focus();var w=this.findNextColumnWithFloatingFilter(r.shiftKey);!w||this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:w},event:r})&&r.preventDefault()}},i.prototype.findNextColumnWithFloatingFilter=function(r){var o=this.beans.columnModel,u=this.column;do{if(!(u=r?o.getDisplayedColBefore(u):o.getDisplayedColAfter(u)))break}while(!u.getColDef().filter||!u.getColDef().floatingFilter);return u},i.prototype.handleKeyDown=function(r){var d=this.gridOptionsWrapper.getDocument().activeElement===this.eGui;switch(r.key){case Ie.UP:case Ie.DOWN:d||r.preventDefault();case Ie.LEFT:case Ie.RIGHT:if(d)return;r.stopPropagation();case Ie.ENTER:d&&this.focusService.focusInto(this.eGui)&&r.preventDefault();break;case Ie.ESCAPE:d||this.eGui.focus()}},i.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var u=!!r.relatedTarget&&!r.relatedTarget.classList.contains("ag-floating-filter"),d=!!r.relatedTarget&&sn(r.relatedTarget,"ag-floating-filter");if(u&&d&&r.target===this.eGui){var m=this.lastFocusEvent;m&&m&&m.key===Ie.TAB&&this.focusService.focusInto(this.eGui,m.shiftKey)}var x=this.getRowIndex();this.beans.focusService.setFocusedHeader(x,this.column)}},i.prototype.setupHover=function(){var r=this;this.createManagedBean(new qi([this.column],this.eGui));var o=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,ne.EVENT_COLUMN_HOVER_CHANGED,o),o()},i.prototype.setupLeft=function(){var r=new Qp(this.column,this.eGui,this.beans);this.createManagedBean(r)},i.prototype.setupUserComp=function(){var r=this;if(this.active){var o=this.column.getColDef(),u=this.filterManager.createFilterParams(this.column,o),d=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(o,ou,u),m=this.userComponentFactory.getDefaultFloatingFilterType(o);null==m&&(m="agReadOnlyFloatingFilter");var w={column:this.column,filterParams:d,currentParentModel:function(){return r.currentParentModel()},parentFilterInstance:function(x){return r.parentFilterInstance(x)},showParentFilter:function(){return r.showParentFilter()},suppressFilterButton:!1};this.suppressFilterButton=!!o.floatingFilterComponentParams&&!!o.floatingFilterComponentParams.suppressFilterButton;var P=this.userComponentFactory.getFloatingFilterCompDetails(o,w,m);P&&this.comp.setCompDetails(P)}},i.prototype.currentParentModel=function(){var r=this.getFilterComponent(!1);return r?r.resolveNow(null,function(o){return o&&o.getModel()}):null},i.prototype.getFilterComponent=function(r){return void 0===r&&(r=!0),this.filterManager.getFilterComponent(this.column,"NO_UI",r)},i.prototype.parentFilterInstance=function(r){var o=this.getFilterComponent();null!=o&&o.then(function(u){r(fl(u))})},i.prototype.showParentFilter=function(){this.menuFactory.showMenuAfterButtonClick(this.column,this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter,"floatingFilter","filterMenuTab",["filterMenuTab"])},i.prototype.setupSyncWithFilter=function(){var r=this;if(this.active){var o=function(u){var d=r.comp.getFloatingFilterComp();if(d){var m=r.currentParentModel();d.then(function(w){w&&w.onParentModelChanged(m,u)})}};this.addManagedListener(this.column,kt.EVENT_FILTER_CHANGED,o),this.filterManager.isFilterActive(this.column)&&o(null)}},i.prototype.setupWidth=function(){var r=this,o=function(){var u=r.column.getActualWidth()+"px";r.comp.setWidth(u)};this.addManagedListener(this.column,kt.EVENT_WIDTH_CHANGED,o),o()},qo([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),qo([K("filterManager")],i.prototype,"filterManager",void 0),qo([K("columnHoverService")],i.prototype,"columnHoverService",void 0),qo([K("gridApi")],i.prototype,"gridApi",void 0),qo([K("menuFactory")],i.prototype,"menuFactory",void 0),qo([K("beans")],i.prototype,"beans",void 0),i}(Yo),bC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Zp=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},EC=function(h){function i(r,o,u,d,m){var w=h.call(this)||this;return w.pinned=r,w.column=o,w.eResize=u,w.comp=d,w.ctrl=m,w}return bC(i,h),i.prototype.postConstruct=function(){var d,m,r=this,o=this.column.getColDef(),u=[],P=function(){u.forEach(function(N){return N()}),u.length=0},x=function(){var N=r.column.isResizable(),k=!r.gridOptionsWrapper.isSuppressAutoSize()&&!o.suppressAutoSize;(N!==d||k!==m)&&(d=N,m=k,P(),function(){if(ar(r.eResize,d),d){var N=r.horizontalResizeService.addResizeBar({eResizeBar:r.eResize,onResizeStart:r.onResizeStart.bind(r),onResizing:r.onResizing.bind(r,!1),onResizeEnd:r.onResizing.bind(r,!0)});if(u.push(N),m){var k=r.gridOptionsWrapper.isSkipHeaderOnAutoSize(),q=function(){r.columnModel.autoSizeColumn(r.column,k,"uiColumnResized")};r.eResize.addEventListener("dblclick",q);var ee=new Ui(r.eResize);ee.addEventListener(Ui.EVENT_DOUBLE_TAP,q),r.addDestroyFunc(function(){r.eResize.removeEventListener("dblclick",q),ee.removeEventListener(Ui.EVENT_DOUBLE_TAP,q),ee.destroy()})}}}())};x(),this.addDestroyFunc(P),this.ctrl.addRefreshFunction(x)},i.prototype.onResizing=function(r,o){var u=this.normaliseResizeAmount(o);this.columnModel.setColumnWidths([{key:this.column,newWidth:this.resizeStartWidth+u}],this.resizeWithShiftKey,r,"uiColumnDragged"),r&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.onResizeStart=function(r){this.resizeStartWidth=this.column.getActualWidth(),this.resizeWithShiftKey=r,this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.normaliseResizeAmount=function(r){var o=r,u=this.pinned!==ge.PINNED_LEFT,d=this.pinned===ge.PINNED_RIGHT;return this.gridOptionsWrapper.isEnableRtl()?u&&(o*=-1):d&&(o*=-1),o},Zp([K("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),Zp([K("columnModel")],i.prototype,"columnModel",void 0),Zp([We],i.prototype,"postConstruct",null),i}(Ge),sv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Fa=function(h){function i(r,o,u){void 0===o&&(o="ag-checkbox"),void 0===u&&(u="checkbox");var d=h.call(this,r,o,u)||this;return d.labelAlignment="right",d.selected=!1,d.readOnly=!1,d.passive=!1,d}return sv(i,h),i.prototype.addInputListeners=function(){this.addManagedListener(this.eInput,"click",this.onCheckboxClick.bind(this)),this.addManagedListener(this.eLabel,"click",this.toggle.bind(this))},i.prototype.getNextValue=function(){return void 0===this.selected||!this.selected},i.prototype.setPassive=function(r){this.passive=r},i.prototype.isReadOnly=function(){return this.readOnly},i.prototype.setReadOnly=function(r){this.eWrapper.classList.toggle("ag-disabled",r),this.eInput.disabled=r,this.readOnly=r},i.prototype.setDisabled=function(r){return this.eWrapper.classList.toggle("ag-disabled",r),h.prototype.setDisabled.call(this,r)},i.prototype.toggle=function(){if(!this.eInput.disabled){var r=this.isSelected(),o=this.getNextValue();this.passive?this.dispatchChange(o,r):this.setValue(o)}},i.prototype.getValue=function(){return this.isSelected()},i.prototype.setValue=function(r,o){return this.refreshSelectedClass(r),this.setSelected(r,o),this},i.prototype.setName=function(r){return this.getInputElement().name=r,this},i.prototype.isSelected=function(){return this.selected},i.prototype.setSelected=function(r,o){this.isSelected()!==r&&(this.previousValue=this.isSelected(),r=this.selected="boolean"==typeof r?r:void 0,this.eInput.checked=r,this.eInput.indeterminate=void 0===r,o||this.dispatchChange(this.selected,this.previousValue))},i.prototype.dispatchChange=function(r,o,u){this.dispatchEvent({type:i.EVENT_CHANGED,selected:r,previousValue:o,event:u});var d=this.getInputElement();this.eventService.dispatchEvent({type:ne.EVENT_CHECKBOX_CHANGED,id:d.id,name:d.name,selected:r,previousValue:o})},i.prototype.onCheckboxClick=function(r){if(!this.passive&&!this.eInput.disabled){var o=this.isSelected(),u=this.selected=r.target.checked;this.refreshSelectedClass(u),this.dispatchChange(u,o,r)}},i.prototype.refreshSelectedClass=function(r){this.eWrapper.classList.toggle("ag-checked",!0===r),this.eWrapper.classList.toggle("ag-indeterminate",null==r)},i}(yo),mc=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ia=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Xi=function(h){function i(r){var o=h.call(this)||this;o.cbSelectAllVisible=!1,o.processingEventFromCheckbox=!1,o.column=r;var u=r.getColDef();return o.filteredOnly=!!u&&!!u.headerCheckboxSelectionFilteredOnly,o}return mc(i,h),i.prototype.onSpaceKeyPressed=function(r){var o=this.cbSelectAll,u=this.gridOptionsWrapper.getDocument();o.isDisplayed()&&!o.getGui().contains(u.activeElement)&&(r.preventDefault(),o.setValue(!o.getValue()))},i.prototype.getCheckboxGui=function(){return this.cbSelectAll.getGui()},i.prototype.setComp=function(r){this.comp=r,this.cbSelectAll=this.createManagedBean(new Fa),this.cbSelectAll.addCssClass("ag-header-select-all"),On(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.showOrHideSelectAll.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SELECTION_CHANGED,this.onSelectionChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,this.onModelChanged.bind(this)),this.addManagedListener(this.cbSelectAll,Fa.EVENT_CHANGED,this.onCbSelectAll.bind(this)),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()},i.prototype.showOrHideSelectAll=function(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType(),this.updateStateOfCheckbox()),this.refreshHeaderAriaDescribedBy(this.cbSelectAllVisible)},i.prototype.refreshHeaderAriaDescribedBy=function(r){var o=r?this.cbSelectAll.getInputElement().id:void 0;this.comp.setAriaDescribedBy(o)},i.prototype.onModelChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.onSelectionChanged=function(){!this.cbSelectAllVisible||this.updateStateOfCheckbox()},i.prototype.getNextCheckboxState=function(r){return(0!==r.selected||0!==r.notSelected)&&(r.selected>0&&r.notSelected>0?null:r.selected>0)},i.prototype.updateStateOfCheckbox=function(){if(!this.processingEventFromCheckbox){this.processingEventFromCheckbox=!0;var r=this.getSelectionCount(),o=this.getNextCheckboxState(r);this.cbSelectAll.setValue(o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}},i.prototype.refreshSelectAllLabel=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),u=this.cbSelectAll.getValue()?r("ariaChecked","checked"):r("ariaUnchecked","unchecked"),d=r("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAll.setInputAriaLabel(d+" ("+u+")")},i.prototype.getSelectionCount=function(){var r=this,o=0,u=0,d=function(m){r.gridOptionsWrapper.isGroupSelectsChildren()&&m.group||(m.isSelected()?o++:m.selectable&&u++)};return this.filteredOnly?this.gridApi.forEachNodeAfterFilter(d):this.gridApi.forEachNode(d),{notSelected:u,selected:o}},i.prototype.checkRightRowModelType=function(){var r=this.rowModel.getType();r===ge.ROW_MODEL_TYPE_CLIENT_SIDE||console.warn("AG Grid: selectAllCheckbox is only available if using normal row model, you are using "+r)},i.prototype.onCbSelectAll=function(){!this.processingEventFromCheckbox&&this.cbSelectAllVisible&&(this.cbSelectAll.getValue()?this.selectionService.selectAllRowNodes(this.filteredOnly):this.selectionService.deselectAllRowNodes(this.filteredOnly))},i.prototype.isCheckboxSelection=function(){var r=this.column.getColDef().headerCheckboxSelection;return"function"==typeof r&&(r=r({column:this.column,colDef:this.column.getColDef(),columnApi:this.columnApi,api:this.gridApi,context:this.gridOptionsWrapper.getContext()})),!(!r||(this.gridOptionsWrapper.isRowModelServerSide()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Server Side Row Model"),1):this.gridOptionsWrapper.isRowModelInfinite()?(console.warn("AG Grid: headerCheckboxSelection is not supported for Infinite Row Model"),1):this.gridOptionsWrapper.isRowModelViewport()&&(console.warn("AG Grid: headerCheckboxSelection is not supported for Viewport Row Model"),1)))},Ia([K("gridApi")],i.prototype,"gridApi",void 0),Ia([K("columnApi")],i.prototype,"columnApi",void 0),Ia([K("rowModel")],i.prototype,"rowModel",void 0),Ia([K("selectionService")],i.prototype,"selectionService",void 0),i}(Ge),kS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),So=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Jp=function(h){function i(r,o){var u=h.call(this,r,o)||this;return u.refreshFunctions=[],u.userHeaderClasses=new Set,u.column=r,u}return kS(i,h),i.prototype.setComp=function(r,o,u){var d=this;h.prototype.setGui.call(this,o),this.comp=r,this.colDefVersion=this.columnModel.getColDefVersion(),this.updateState(),this.setupWidth(),this.setupMovingCss(),this.setupMenuClass(),this.setupSortableClass(),this.addColumnHoverListener(),this.setupFilterCss(),this.setupColId(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(),this.setupSelectAll(),this.setupUserComp(),this.createManagedBean(new EC(this.getPinned(),this.column,u,r,this)),this.createManagedBean(new qi([this.column],o)),this.createManagedBean(new Qp(this.column,o,this.beans)),this.createManagedBean(new Uo(o,{shouldStopEventPropagation:function(m){return d.shouldStopEventPropagation(m)},onTabKeyDown:function(){return null},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VALUE_CHANGED,this.onColumnValueChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onColumnRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_CHANGED,this.onColumnPivotChanged.bind(this))},i.prototype.setupUserComp=function(){var r=this.lookupUserCompDetails();this.setCompDetails(r)},i.prototype.setCompDetails=function(r){this.userCompDetails=r,this.comp.setUserCompDetails(r)},i.prototype.lookupUserCompDetails=function(){var r=this.createParams(),o=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(o,r)},i.prototype.createParams=function(){var r=this,o=this.column.getColDef();return{column:this.column,displayName:this.displayName,enableSorting:o.sortable,enableMenu:this.menuEnabled,showColumnMenu:function(d){r.gridApi.showColumnMenuAfterButtonClick(r.column,d)},progressSort:function(d){r.sortController.progressSort(r.column,!!d,"uiColumnSorted")},setSort:function(d,m){r.sortController.setSortForColumn(r.column,d,!!m,"uiColumnSorted")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),eGridHeader:this.getGui()}},i.prototype.setupSelectAll=function(){this.selectAllFeature=this.createManagedBean(new Xi(this.column)),this.selectAllFeature.setComp(this.comp)},i.prototype.getSelectAllGui=function(){return this.selectAllFeature.getCheckboxGui()},i.prototype.handleKeyDown=function(r){r.key===Ie.SPACE&&this.selectAllFeature.onSpaceKeyPressed(r),r.key===Ie.ENTER&&this.onEnterKeyPressed(r)},i.prototype.onEnterKeyPressed=function(r){var o=this.comp.getUserCompInstance();o&&(r.ctrlKey||r.metaKey?this.menuEnabled&&o.showMenu&&(r.preventDefault(),o.showMenu()):this.sortable&&this.sortController.progressSort(this.column,r.shiftKey,"uiColumnSorted"))},i.prototype.isMenuEnabled=function(){return this.menuEnabled},i.prototype.onFocusIn=function(r){if(!this.getGui().contains(r.relatedTarget)){var o=this.getRowIndex();this.focusService.setFocusedHeader(o,this.column)}this.setActiveHeader(!0)},i.prototype.onFocusOut=function(r){this.getGui().contains(r.relatedTarget)||this.setActiveHeader(!1)},i.prototype.setupTooltip=function(){var r=this,u=this.createManagedBean(new wo({getColumn:function(){return r.column},getColDef:function(){return r.column.getColDef()},getGui:function(){return r.eGui},getLocation:function(){return"header"},getTooltipValue:function(){return r.column.getColDef().headerTooltip}},this.beans));u.setComp(this.comp),this.refreshFunctions.push(function(){return u.refreshToolTip()})},i.prototype.setupClassesFromColDef=function(){var r=this,o=function(){var u=r.column.getColDef(),m=qh.getHeaderClassesFromColDef(u,r.gridOptionsWrapper,r.column,null),w=r.userHeaderClasses;r.userHeaderClasses=new Set(m),m.forEach(function(P){w.has(P)?w.delete(P):r.comp.addOrRemoveCssClass(P,!0)}),w.forEach(function(P){return r.comp.addOrRemoveCssClass(P,!1)})};this.refreshFunctions.push(o),o()},i.prototype.setDragSource=function(r){var o=this;this.dragSourceElement=r,this.removeDragSource(),r&&(!this.draggable||(this.moveDragSource={type:W.DragSourceType.HeaderCell,eElement:r,defaultIconName:kr.ICON_HIDE,getDragItem:function(){return o.createDragItem()},dragItemName:this.displayName,onDragStarted:function(){return o.column.setMoving(!0,"uiColumnMoved")},onDragStopped:function(){return o.column.setMoving(!1,"uiColumnMoved")}},this.dragAndDropService.addDragSource(this.moveDragSource,!0)))},i.prototype.createDragItem=function(){var r={};return r[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:r}},i.prototype.removeDragSource=function(){this.moveDragSource&&(this.dragAndDropService.removeDragSource(this.moveDragSource),this.moveDragSource=void 0)},i.prototype.onNewColumnsLoaded=function(){var r=this.columnModel.getColDefVersion();r!=this.colDefVersion&&(this.colDefVersion=r,this.refresh())},i.prototype.updateState=function(){var r=this.column.getColDef();this.menuEnabled=this.menuFactory.isMenuEnabled(this.column)&&!r.suppressMenu,this.sortable=r.sortable,this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()},i.prototype.addRefreshFunction=function(r){this.refreshFunctions.push(r)},i.prototype.refresh=function(){this.updateState(),this.refreshHeaderComp(),this.refreshFunctions.forEach(function(r){return r()})},i.prototype.refreshHeaderComp=function(){var r=this.lookupUserCompDetails();null!=this.comp.getUserCompInstance()&&this.userCompDetails.componentClass==r.componentClass&&this.attemptHeaderCompRefresh(r.params)?this.setDragSource(this.dragSourceElement):this.setCompDetails(r)},i.prototype.attemptHeaderCompRefresh=function(r){var o=this.comp.getUserCompInstance();return!(!o||!o.refresh)&&o.refresh(r)},i.prototype.calculateDisplayName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"header",!0)},i.prototype.checkDisplayName=function(){this.displayName!==this.calculateDisplayName()&&this.refresh()},i.prototype.workOutDraggable=function(){var r=this.column.getColDef();return!(this.gridOptionsWrapper.isSuppressMovableColumns()||r.suppressMovable||r.lockPosition)||!!r.enableRowGroup||!!r.enablePivot},i.prototype.onColumnRowGroupChanged=function(){this.checkDisplayName()},i.prototype.onColumnPivotChanged=function(){this.checkDisplayName()},i.prototype.onColumnValueChanged=function(){this.checkDisplayName()},i.prototype.setupWidth=function(){var r=this,o=function(){r.comp.setWidth(r.column.getActualWidth()+"px")};this.addManagedListener(this.column,kt.EVENT_WIDTH_CHANGED,o),o()},i.prototype.setupMovingCss=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.column.isMoving())};this.addManagedListener(this.column,kt.EVENT_MOVING_CHANGED,o),o()},i.prototype.setupMenuClass=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-column-menu-visible",r.column.isMenuVisible())};this.addManagedListener(this.column,kt.EVENT_MENU_VISIBLE_CHANGED,o),o()},i.prototype.setupSortableClass=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!r.sortable)},u=function(){r.comp.setAriaSort(r.sortable?Ys(r.column):void 0)};o(),u(),this.addRefreshFunction(o),this.addRefreshFunction(u),this.addManagedListener(this.column,kt.EVENT_SORT_CHANGED,u)},i.prototype.addColumnHoverListener=function(){var r=this,o=function(){if(r.gridOptionsWrapper.isColumnHoverHighlight()){var u=r.columnHoverService.isHovered(r.column);r.comp.addOrRemoveCssClass("ag-column-hover",u)}};this.addManagedListener(this.eventService,ne.EVENT_COLUMN_HOVER_CHANGED,o),o()},i.prototype.setupFilterCss=function(){var r=this,o=function(){r.comp.addOrRemoveCssClass("ag-header-cell-filtered",r.column.isFilterActive())};this.addManagedListener(this.column,kt.EVENT_FILTER_ACTIVE_CHANGED,o),o()},i.prototype.setupColId=function(){this.comp.setColId(this.column.getColId())},i.prototype.addActiveHeaderMouseListeners=function(){var r=this,o=function(u){return r.setActiveHeader("mouseenter"===u.type)};this.addManagedListener(this.getGui(),"mouseenter",o),this.addManagedListener(this.getGui(),"mouseleave",o)},i.prototype.setActiveHeader=function(r){this.comp.addOrRemoveCssClass("ag-header-active",r)},So([K("columnModel")],i.prototype,"columnModel",void 0),So([K("columnHoverService")],i.prototype,"columnHoverService",void 0),So([K("beans")],i.prototype,"beans",void 0),So([K("sortController")],i.prototype,"sortController",void 0),So([K("menuFactory")],i.prototype,"menuFactory",void 0),So([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),So([K("gridApi")],i.prototype,"gridApi",void 0),So([K("columnApi")],i.prototype,"columnApi",void 0),So([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),So([_n],i.prototype,"removeDragSource",null),i}(Yo),Zh=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),lv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},uv=function(h){function i(r,o,u,d){var m=h.call(this)||this;return m.eResize=o,m.comp=r,m.pinned=u,m.columnGroup=d,m}return Zh(i,h),i.prototype.postConstruct=function(){var r=this;if(this.columnGroup.isResizable()){var o=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(o),!this.gridOptionsWrapper.isSuppressAutoSize()){var u=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();this.eResize.addEventListener("dblclick",function(){var d=[];r.columnGroup.getDisplayedLeafColumns().forEach(function(w){w.getColDef().suppressAutoSize||d.push(w.getColId())}),d.length>0&&r.columnModel.autoSizeColumns({columns:d,skipHeader:u,stopAtGroup:r.columnGroup,source:"uiColumnResized"}),r.resizeLeafColumnsToFit()})}}else this.comp.addOrRemoveResizableCssClass("ag-hidden",!0)},i.prototype.onResizeStart=function(r){var o=this;this.calculateInitialValues();var u=null;if(r&&(u=this.columnModel.getDisplayedGroupAfter(this.columnGroup)),u){var d=u.getDisplayedLeafColumns();this.resizeTakeFromCols=d.filter(function(m){return m.isResizable()}),this.resizeTakeFromStartWidth=0,this.resizeTakeFromCols.forEach(function(m){return o.resizeTakeFromStartWidth+=m.getActualWidth()}),this.resizeTakeFromRatios=[],this.resizeTakeFromCols.forEach(function(m){return o.resizeTakeFromRatios.push(m.getActualWidth()/o.resizeTakeFromStartWidth)})}else this.resizeTakeFromCols=null,this.resizeTakeFromStartWidth=null,this.resizeTakeFromRatios=null;this.comp.addOrRemoveCssClass("ag-column-resizing",!0)},i.prototype.onResizing=function(r,o){var u=this.normaliseDragChange(o);this.resizeColumns(this.resizeStartWidth+u,r)},i.prototype.resizeLeafColumnsToFit=function(){var r=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup);this.calculateInitialValues(),r>this.resizeStartWidth&&this.resizeColumns(r,!0)},i.prototype.resizeColumns=function(r,o){void 0===o&&(o=!0);var u=[];u.push({columns:this.resizeCols,ratios:this.resizeRatios,width:r}),this.resizeTakeFromCols&&u.push({columns:this.resizeTakeFromCols,ratios:this.resizeTakeFromRatios,width:this.resizeTakeFromStartWidth-(r-this.resizeStartWidth)}),this.columnModel.resizeColumnSets({resizeSets:u,finished:o,source:"uiColumnDragged"}),o&&this.comp.addOrRemoveCssClass("ag-column-resizing",!1)},i.prototype.calculateInitialValues=function(){var r=this,o=this.columnGroup.getDisplayedLeafColumns();this.resizeCols=o.filter(function(u){return u.isResizable()}),this.resizeStartWidth=0,this.resizeCols.forEach(function(u){return r.resizeStartWidth+=u.getActualWidth()}),this.resizeRatios=[],this.resizeCols.forEach(function(u){return r.resizeRatios.push(u.getActualWidth()/r.resizeStartWidth)})},i.prototype.normaliseDragChange=function(r){var o=r;return this.gridOptionsWrapper.isEnableRtl()?this.pinned!==ge.PINNED_LEFT&&(o*=-1):this.pinned===ge.PINNED_RIGHT&&(o*=-1),o},lv([K("horizontalResizeService")],i.prototype,"horizontalResizeService",void 0),lv([K("autoWidthCalculator")],i.prototype,"autoWidthCalculator",void 0),lv([K("columnModel")],i.prototype,"columnModel",void 0),lv([We],i.prototype,"postConstruct",null),i}(Ge),cv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pv=function(h){function i(r,o){var u=h.call(this)||this;return u.removeChildListenersFuncs=[],u.columnGroup=o,u.comp=r,u}return cv(i,h),i.prototype.postConstruct=function(){this.addListenersToChildrenColumns(),this.addManagedListener(this.columnGroup,er.EVENT_DISPLAYED_CHILDREN_CHANGED,this.onDisplayedChildrenChanged.bind(this)),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))},i.prototype.addListenersToChildrenColumns=function(){var r=this;this.removeListenersOnChildrenColumns();var o=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(function(u){u.addEventListener(kt.EVENT_WIDTH_CHANGED,o),u.addEventListener(kt.EVENT_VISIBLE_CHANGED,o),r.removeChildListenersFuncs.push(function(){u.removeEventListener(kt.EVENT_WIDTH_CHANGED,o),u.removeEventListener(kt.EVENT_VISIBLE_CHANGED,o)})})},i.prototype.removeListenersOnChildrenColumns=function(){this.removeChildListenersFuncs.forEach(function(r){return r()}),this.removeChildListenersFuncs=[]},i.prototype.onDisplayedChildrenChanged=function(){this.addListenersToChildrenColumns(),this.onWidthChanged()},i.prototype.onWidthChanged=function(){this.comp.setWidth(this.columnGroup.getActualWidth()+"px")},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(Ge),VS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},RC=function(h){function i(r,o){var u=h.call(this,r,o)||this;return u.columnGroup=r,u}return VS(i,h),i.prototype.setComp=function(r,o,u){h.prototype.setGui.call(this,o),this.comp=r,this.displayName=this.columnModel.getDisplayNameForColumnGroup(this.columnGroup,"header"),this.addClasses(),this.addAttributes(),this.setupMovingCss(),this.setupExpandable(),this.setupTooltip(),this.setupUserComp();var d=this.getParentRowCtrl().getPinned(),m=this.columnGroup.getProvidedColumnGroup().getLeafColumns();this.createManagedBean(new qi(m,o)),this.createManagedBean(new Qp(this.columnGroup,o,this.beans)),this.createManagedBean(new pv(r,this.columnGroup)),this.groupResizeFeature=this.createManagedBean(new uv(r,u,d,this.columnGroup)),this.createManagedBean(new Uo(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:function(){},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))},i.prototype.resizeLeafColumnsToFit=function(){this.groupResizeFeature.onResizeStart(!1),this.groupResizeFeature.resizeLeafColumnsToFit()},i.prototype.setupUserComp=function(){var r=this,o=this.displayName,u={displayName:this.displayName,columnGroup:this.columnGroup,setExpanded:function(x){r.columnModel.setColumnGroupOpened(r.columnGroup.getProvidedColumnGroup(),x,"gridInitializing")},api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(!o){for(var d=this.columnGroup,m=d.getLeafColumns();d.getParent()&&d.getParent().getLeafColumns().length===m.length;)d=d.getParent();var w=d.getColGroupDef();w&&(o=w.headerName),o||(o=m?this.columnModel.getDisplayNameForColumn(m[0],"header",!0):"")}var P=this.userComponentFactory.getHeaderGroupCompDetails(u);this.comp.setUserCompDetails(P)},i.prototype.setupTooltip=function(){var r=this,o=this.columnGroup.getColGroupDef(),u={getColumn:function(){return r.columnGroup},getGui:function(){return r.eGui},getLocation:function(){return"headerGroup"},getTooltipValue:function(){return o&&o.headerTooltip}};o&&(u.getColDef=function(){return o}),this.createManagedBean(new wo(u,this.beans)).setComp(this.comp)},i.prototype.setupExpandable=function(){var r=this.columnGroup.getProvidedColumnGroup();this.refreshExpanded(),this.addManagedListener(r,Or.EVENT_EXPANDABLE_CHANGED,this.refreshExpanded.bind(this)),this.addManagedListener(r,Or.EVENT_EXPANDED_CHANGED,this.refreshExpanded.bind(this))},i.prototype.refreshExpanded=function(){var r=this.columnGroup;this.expandable=r.isExpandable();var o=r.isExpanded();this.comp.setAriaExpanded(this.expandable?o?"true":"false":void 0)},i.prototype.addAttributes=function(){this.comp.setColId(this.columnGroup.getUniqueId())},i.prototype.addClasses=function(){var r=this,o=this.columnGroup.getColGroupDef(),u=qh.getHeaderClassesFromColDef(o,this.gridOptionsWrapper,null,this.columnGroup);u.push(this.columnGroup.isPadding()?"ag-header-group-cell-no-group":"ag-header-group-cell-with-group"),u.forEach(function(d){return r.comp.addOrRemoveCssClass(d,!0)})},i.prototype.setupMovingCss=function(){var r=this,u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),d=function(){return r.comp.addOrRemoveCssClass("ag-header-cell-moving",r.columnGroup.isMoving())};u.forEach(function(m){r.addManagedListener(m,kt.EVENT_MOVING_CHANGED,d)}),d()},i.prototype.onFocusIn=function(r){if(!this.eGui.contains(r.relatedTarget)){var o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.columnGroup)}},i.prototype.handleKeyDown=function(r){var o=this.gridOptionsWrapper.getDocument();if(this.expandable&&o.activeElement===this.eGui&&r.key===Ie.ENTER){var m=this.columnGroup,w=!m.isExpanded();this.columnModel.setColumnGroupOpened(m.getProvidedColumnGroup(),w,"uiColumnExpanded")}},i.prototype.setDragSource=function(r){var o=this;if(!this.isSuppressMoving()){var u=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),d={type:W.DragSourceType.HeaderCell,eElement:r,defaultIconName:kr.ICON_HIDE,dragItemName:this.displayName,getDragItem:this.getDragItemForGroup.bind(this),onDragStarted:function(){return u.forEach(function(m){return m.setMoving(!0,"uiColumnDragged")})},onDragStopped:function(){return u.forEach(function(m){return m.setMoving(!1,"uiColumnDragged")})}};this.dragAndDropService.addDragSource(d,!0),this.addDestroyFunc(function(){return o.dragAndDropService.removeDragSource(d)})}},i.prototype.getDragItemForGroup=function(){var r=this.columnGroup.getProvidedColumnGroup().getLeafColumns(),o={};r.forEach(function(d){return o[d.getId()]=d.isVisible()});var u=[];return this.columnModel.getAllDisplayedColumns().forEach(function(d){r.indexOf(d)>=0&&(u.push(d),on(r,d))}),r.forEach(function(d){return u.push(d)}),{columns:u,visibleState:o}},i.prototype.isSuppressMoving=function(){var r=!1;return this.columnGroup.getLeafColumns().forEach(function(u){(u.getColDef().suppressMovable||u.getColDef().lockPosition)&&(r=!0)}),r||this.gridOptionsWrapper.isSuppressMovableColumns()},Vn([K("beans")],i.prototype,"beans",void 0),Vn([K("columnModel")],i.prototype,"columnModel",void 0),Vn([K("dragAndDropService")],i.prototype,"dragAndDropService",void 0),Vn([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Vn([K("gridApi")],i.prototype,"gridApi",void 0),Vn([K("columnApi")],i.prototype,"columnApi",void 0),i}(Yo),DC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},PC=0,fu=function(h){function i(r,o,u){var d=h.call(this)||this;return d.instanceId=PC++,d.headerCellCtrls={},d.rowIndex=r,d.pinned=o,d.type=u,d}return DC(i,h),i.prototype.getInstanceId=function(){return this.instanceId},i.prototype.setComp=function(r){this.comp=r,this.onRowHeightChanged(),this.onVirtualColumnsChanged(),this.setWidth(),this.addEventListeners(),Gi()&&this.comp.setTransform("translateZ(0)"),r.setAriaRowIndex(this.rowIndex+1)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ne.EVENT_COLUMN_RESIZED,this.onColumnResized.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_VIRTUAL_COLUMNS_CHANGED,this.onVirtualColumnsChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_PIVOT_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_PIVOT_GROUP_HEADER_HEIGHT,this.onRowHeightChanged.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_FLOATING_FILTERS_HEIGHT,this.onRowHeightChanged.bind(this))},i.prototype.getHeaderCellCtrl=function(r){return la(this.headerCellCtrls).find(function(o){return o.getColumnGroupChild()===r})},i.prototype.onDisplayedColumnsChanged=function(){this.onVirtualColumnsChanged(),this.setWidth()},i.prototype.getType=function(){return this.type},i.prototype.onColumnResized=function(){this.setWidth()},i.prototype.setWidth=function(){var r=this.getWidthForRow();this.comp.setWidth(r+"px")},i.prototype.getWidthForRow=function(){return this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT?null!=this.pinned?0:this.columnModel.getContainerWidth(ge.PINNED_RIGHT)+this.columnModel.getContainerWidth(ge.PINNED_LEFT)+this.columnModel.getContainerWidth(null):this.columnModel.getContainerWidth(this.pinned)},i.prototype.onRowHeightChanged=function(){var d,m,r=this.columnModel.getHeaderRowCount(),o=[],u=0;this.columnModel.hasFloatingFilters()&&(r++,u=1),this.columnModel.isPivotMode()?(d=this.gridOptionsWrapper.getPivotGroupHeaderHeight(),m=this.gridOptionsWrapper.getPivotHeaderHeight()):(d=this.gridOptionsWrapper.getGroupHeaderHeight(),m=this.gridOptionsWrapper.getHeaderHeight());for(var P=r-(1+u),x=0;x<P;x++)o.push(d);for(o.push(m),x=0;x<u;x++)o.push(this.gridOptionsWrapper.getFloatingFiltersHeight());var N=0;for(x=0;x<this.rowIndex;x++)N+=o[x];this.comp.setTop(N+"px"),this.comp.setHeight(o[this.rowIndex]+"px")},i.prototype.getPinned=function(){return this.pinned},i.prototype.getRowIndex=function(){return this.rowIndex},i.prototype.onVirtualColumnsChanged=function(){var r=this,o=this.headerCellCtrls;this.headerCellCtrls={},this.getColumnsInViewport().forEach(function(w){if(!w.isEmptyGroup()){var P=w.getUniqueId(),x=o[P];if(delete o[P],x&&x.getColumnGroupChild()!=w&&(r.destroyBean(x),x=void 0),null==x)switch(r.type){case W.HeaderRowType.FLOATING_FILTER:x=r.createBean(new yc(w,r));break;case W.HeaderRowType.COLUMN_GROUP:x=r.createBean(new RC(w,r));break;default:x=r.createBean(new Jp(w,r))}r.headerCellCtrls[P]=x}}),qt(o,function(w,P){var x=function(w){return!!r.focusService.isHeaderWrapperFocused(w)&&r.columnModel.isDisplayed(w.getColumnGroupChild())}(P);x?r.headerCellCtrls[w]=P:r.destroyBean(P)});var m=Go(this.headerCellCtrls);this.comp.setHeaderCtrls(m)},i.prototype.destroyCtrls=function(){var r=this;qt(this.headerCellCtrls,function(o,u){r.destroyBean(u)}),this.headerCellCtrls={}},i.prototype.getColumnsInViewport=function(){return this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()},i.prototype.getColumnsInViewportPrintLayout=function(){var r=this;if(null!=this.pinned)return[];var o=[],u=this.getActualDepth();return[ge.PINNED_LEFT,null,ge.PINNED_RIGHT].forEach(function(d){var m=r.columnModel.getVirtualHeaderGroupRow(d,u);o=o.concat(m)}),o},i.prototype.getActualDepth=function(){return this.type==W.HeaderRowType.FLOATING_FILTER?this.rowIndex-1:this.rowIndex},i.prototype.getColumnsInViewportNormalLayout=function(){return this.columnModel.getVirtualHeaderGroupRow(this.pinned,this.getActualDepth())},i.prototype.focusHeader=function(r,o){var d=Go(this.headerCellCtrls).find(function(m){return m.getColumnGroupChild()==r});return!!d&&(d.focus(o),!0)},dv([K("columnModel")],i.prototype,"columnModel",void 0),dv([K("focusService")],i.prototype,"focusService",void 0),dv([_n],i.prototype,"destroyCtrls",null),i}(Ge),TC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gl=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},hv=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},xC=function(h){function i(r){var o=h.call(this)||this;return o.groupsRowCtrls=[],o.pinned=r,o}return TC(i,h),i.prototype.setComp=function(r,o){this.comp=r,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(o),this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,this.onGridColumnsChanged.bind(this)),this.ctrlsService.registerHeaderContainer(this,this.pinned),this.columnModel.isReady()&&this.refresh()},i.prototype.setupDragAndDrop=function(r){var o=new kn(this.pinned,r);this.createManagedBean(o)},i.prototype.refresh=function(r){var o=this;void 0===r&&(r=!1);var N,u=new ss,d=this.focusService.getFocusHeaderToUseAfterRefresh();(function(){var N=o.columnModel.getHeaderRowCount()-1;o.groupsRowCtrls=o.destroyBeans(o.groupsRowCtrls);for(var k=0;k<N;k++){var q=o.createBean(new fu(u.next(),o.pinned,W.HeaderRowType.COLUMN_GROUP));o.groupsRowCtrls.push(q)}})(),N=u.next(),(null==o.columnsRowCtrl||!r||o.columnsRowCtrl.getRowIndex()!==N)&&(o.destroyBean(o.columnsRowCtrl),o.columnsRowCtrl=o.createBean(new fu(N,o.pinned,W.HeaderRowType.COLUMN))),function(){var k=function(){o.filtersRowCtrl=o.destroyBean(o.filtersRowCtrl)};if(o.columnModel.hasFloatingFilters()){var q=u.next();if(o.filtersRowCtrl){var ee=o.filtersRowCtrl.getRowIndex()!==q;(!r||ee)&&k()}o.filtersRowCtrl||(o.filtersRowCtrl=o.createBean(new fu(q,o.pinned,W.HeaderRowType.FLOATING_FILTER)))}else k()}();var x=this.getAllCtrls();this.comp.setCtrls(x),this.restoreFocusOnHeader(d)},i.prototype.restoreFocusOnHeader=function(r){null==r||r.column.getPinned()!=this.pinned||this.focusService.focusHeaderPosition({headerPosition:r})},i.prototype.getAllCtrls=function(){var r=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(hv(arguments[i]));return h}(this.groupsRowCtrls,[this.columnsRowCtrl]);return this.filtersRowCtrl&&r.push(this.filtersRowCtrl),r},i.prototype.onGridColumnsChanged=function(){this.refresh(!0)},i.prototype.setupCenterWidth=function(){var r=this;null==this.pinned&&this.createManagedBean(new $p(function(o){return r.comp.setCenterWidth(o+"px")}))},i.prototype.setHorizontalScroll=function(r){this.comp.setContainerTransform("translateX("+r+"px)")},i.prototype.setupPinnedWidth=function(){var r=this;if(null!=this.pinned){var o=this.pinned===ge.PINNED_LEFT,u=this.pinned===ge.PINNED_RIGHT,d=function(){var m=o?r.pinnedWidthService.getPinnedLeftWidth():r.pinnedWidthService.getPinnedRightWidth();if(null!=m){var w=0==m,P=r.gridOptionsWrapper.isEnableRtl(),x=r.gridOptionsWrapper.getScrollbarWidth(),N=r.scrollVisibleService.isVerticalScrollShowing()&&(P&&o||!P&&u);r.comp.setPinnedContainerWidth((N?m+x:m)+"px"),r.comp.addOrRemoveCssClass("ag-hidden",w)}};this.addManagedListener(this.eventService,ne.EVENT_LEFT_PINNED_WIDTH_CHANGED,d),this.addManagedListener(this.eventService,ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED,d),this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,d),this.addManagedListener(this.eventService,ne.EVENT_SCROLLBAR_WIDTH_CHANGED,d)}},i.prototype.getHeaderCtrlForColumn=function(r){if(r instanceof kt)return this.columnsRowCtrl?this.columnsRowCtrl.getHeaderCellCtrl(r):void 0;if(0!==this.groupsRowCtrls.length)for(var o=0;o<this.groupsRowCtrls.length;o++){var u=this.groupsRowCtrls[o].getHeaderCellCtrl(r);if(u)return u}},i.prototype.getHtmlElementForColumnHeader=function(r){var o=this.getHeaderCtrlForColumn(r);return o?o.getGui():null},i.prototype.getRowType=function(r){var u=this.getAllCtrls()[r];return u?u.getType():void 0},i.prototype.focusHeader=function(r,o,u){var m=this.getAllCtrls()[r];return!!m&&m.focusHeader(o,u)},i.prototype.getRowCount=function(){return this.getAllCtrls().length},gl([K("ctrlsService")],i.prototype,"ctrlsService",void 0),gl([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),gl([K("pinnedWidthService")],i.prototype,"pinnedWidthService",void 0),gl([K("columnModel")],i.prototype,"columnModel",void 0),gl([K("focusService")],i.prototype,"focusService",void 0),i}(Ge),Ct=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Qi=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ed=function(h){function i(r){var o=h.call(this)||this;return o.headerRowComps={},o.rowCompsList=[],o.pinned=r,o}return Ct(i,h),i.prototype.init=function(){var r=this;this.selectAndSetTemplate();var o={addOrRemoveCssClass:function(d,m){return r.addOrRemoveCssClass(d,m)},setCtrls:function(d){return r.setCtrls(d)},setCenterWidth:function(d){return r.eCenterContainer.style.width=d},setContainerTransform:function(d){return r.eCenterContainer.style.transform=d},setPinnedContainerWidth:function(d){var m=r.getGui();m.style.width=d,m.style.maxWidth=d,m.style.minWidth=d}};this.createManagedBean(new xC(this.pinned)).setComp(o,this.getGui())},i.prototype.selectAndSetTemplate=function(){this.setTemplate(this.pinned==ge.PINNED_LEFT?i.PINNED_LEFT_TEMPLATE:this.pinned==ge.PINNED_RIGHT?i.PINNED_RIGHT_TEMPLATE:i.CENTER_TEMPLATE),this.eRowContainer=this.eCenterContainer?this.eCenterContainer:this.getGui()},i.prototype.destroyRowComps=function(){this.setCtrls([])},i.prototype.destroyRowComp=function(r){this.destroyBean(r),this.eRowContainer.removeChild(r.getGui())},i.prototype.setCtrls=function(r){var d,o=this,u=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[],r.forEach(function(w){var P=w.getInstanceId(),x=u[P];delete u[P];var N=x||o.createBean(new ov(w));o.headerRowComps[P]=N,o.rowCompsList.push(N),function(w){var P=w.getGui();P.parentElement!=o.eRowContainer&&o.eRowContainer.appendChild(P),d&&jl(o.eRowContainer,P,d),d=P}(N)}),Go(u).forEach(function(w){return o.destroyRowComp(w)})},i.PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="presentation"/>',i.PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="presentation"/>',i.CENTER_TEMPLATE='<div class="ag-header-viewport" role="presentation">\n            <div class="ag-header-container" ref="eCenterContainer" role="rowgroup"></div>\n        </div>',Qi([Ne("eCenterContainer")],i.prototype,"eCenterContainer",void 0),Qi([We],i.prototype,"init",null),Qi([_n],i.prototype,"destroyRowComps",null),i}(Rt),MC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ms=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d};!function(h){h[h.UP=0]="UP",h[h.DOWN=1]="DOWN",h[h.LEFT=2]="LEFT",h[h.RIGHT=3]="RIGHT"}(W.HeaderNavigationDirection||(W.HeaderNavigationDirection={}));var bo=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return MC(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridBodyCon=o.gridBodyCtrl})},i.prototype.getHeaderRowCount=function(){var r=this.ctrlsService.getHeaderRowContainerCtrl();return r?r.getRowCount():0},i.prototype.getHeaderRowType=function(r){var o=this.ctrlsService.getHeaderRowContainerCtrl();if(o)return o.getRowType(r)},i.prototype.navigateVertically=function(r,o,u){if(o||(o=this.focusService.getFocusedHeader()),!o)return!1;var d=o.headerRowIndex,m=o.column,w=this.getHeaderRowCount(),P=r===W.HeaderNavigationDirection.UP,x=P?d-1:d+1,N=null,k=!1;x<0&&(x=0,N=m,k=!0),x>=w&&(x=-1);var q=this.getHeaderRowType(d);if(!k){if(q===W.HeaderRowType.COLUMN_GROUP){var ee=m;N=P?m.getParent():ee.getDisplayedChildren()[0]}else q===W.HeaderRowType.FLOATING_FILTER?N=m:(ee=m,N=P?ee.getParent():ee);if(!N)return!1}return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:x,column:N},allowUserOverride:!0,event:u})},i.prototype.navigateHorizontally=function(r,o,u){void 0===o&&(o=!1);var P,x,d=this.focusService.getFocusedHeader();return(P=r===W.HeaderNavigationDirection.LEFT!==this.gridOptionsWrapper.isEnableRtl()?this.headerPositionUtils.findHeader(d,x="Before"):this.headerPositionUtils.findHeader(d,x="After"))?this.focusService.focusHeaderPosition({headerPosition:P,direction:x,fromTab:o,allowUserOverride:!0,event:u}):!o||this.focusNextHeaderRow(d,x,u)},i.prototype.focusNextHeaderRow=function(r,o,u){var d=r.headerRowIndex,m=null;return"Before"===o?d>0&&(m=this.headerPositionUtils.findColAtEdgeForHeaderRow(d-1,"end")):m=this.headerPositionUtils.findColAtEdgeForHeaderRow(d+1,"start"),this.focusService.focusHeaderPosition({headerPosition:m,direction:o,fromTab:!0,allowUserOverride:!0,event:u})},i.prototype.scrollToColumn=function(r,o){if(void 0===o&&(o="After"),!r.getPinned()){var u;if(r instanceof er){var d=r.getDisplayedLeafColumns();u="Before"===o?Jt(d):d[0]}else u=r;this.gridBodyCon.getScrollFeature().ensureColumnVisible(u),this.gridBodyCon.getScrollFeature().horizontallyScrollHeaderCenterAndFloatingCenter(),this.animationFrameService.flushAllFrames()}},ms([K("focusService")],i.prototype,"focusService",void 0),ms([K("headerPositionUtils")],i.prototype,"headerPositionUtils",void 0),ms([K("animationFrameService")],i.prototype,"animationFrameService",void 0),ms([K("ctrlsService")],i.prototype,"ctrlsService",void 0),ms([We],i.prototype,"postConstruct",null),ms([qe("headerNavigationService")],i)}(Ge),rn=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Jh=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Cc=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return rn(i,h),i.prototype.setComp=function(r,o,u){this.comp=r,this.eGui=o,this.createManagedBean(new Uo(u,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this)),this.onPivotModeChanged(),this.setupHeaderHeight(),this.ctrlsService.registerGridHeaderCtrl(this)},i.prototype.setupHeaderHeight=function(){var r=this.setHeaderHeight.bind(this);r(),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_PIVOT_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_PIVOT_GROUP_HEADER_HEIGHT,r),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_FLOATING_FILTERS_HEIGHT,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,r)},i.prototype.setHeaderHeight=function(){var w,P,x,o=this.columnModel,u=this.gridOptionsWrapper,d=0,m=o.getHeaderRowCount();o.hasFloatingFilters()&&(m++,d=1),o.isPivotMode()?(P=u.getPivotGroupHeaderHeight(),x=u.getPivotHeaderHeight()):(P=u.getGroupHeaderHeight(),x=u.getHeaderHeight());var q=m-(1+d);w=d*u.getFloatingFiltersHeight(),w+=q*P,this.comp.setHeightAndMinHeight((w+=x)+1+"px")},i.prototype.onPivotModeChanged=function(){var r=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",r),this.comp.addOrRemoveCssClass("ag-pivot-off",!r)},i.prototype.onTabKeyDown=function(r){var o=this.gridOptionsWrapper.isEnableRtl();(this.headerNavigationService.navigateHorizontally(r.shiftKey!==o?W.HeaderNavigationDirection.LEFT:W.HeaderNavigationDirection.RIGHT,!0,r)||this.focusService.focusNextGridCoreContainer(r.shiftKey))&&r.preventDefault()},i.prototype.handleKeyDown=function(r){var o=null;switch(r.key){case Ie.LEFT:o=W.HeaderNavigationDirection.LEFT;case Ie.RIGHT:re(o)||(o=W.HeaderNavigationDirection.RIGHT),this.headerNavigationService.navigateHorizontally(o,!1,r);break;case Ie.UP:o=W.HeaderNavigationDirection.UP;case Ie.DOWN:re(o)||(o=W.HeaderNavigationDirection.DOWN),this.headerNavigationService.navigateVertically(o,null,r)&&r.preventDefault();break;default:return}},i.prototype.onFocusOut=function(r){var o=this.gridOptionsWrapper.getDocument(),u=r.relatedTarget;!u&&this.eGui.contains(o.activeElement)||this.eGui.contains(u)||this.focusService.clearFocusedHeader()},Jh([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Jh([K("focusService")],i.prototype,"focusService",void 0),Jh([K("columnModel")],i.prototype,"columnModel",void 0),Jh([K("ctrlsService")],i.prototype,"ctrlsService",void 0),i}(Ge),Cs=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),fv=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return Cs(i,h),i.prototype.postConstruct=function(){var r=this,o={addOrRemoveCssClass:function(m,w){return r.addOrRemoveCssClass(m,w)},setHeightAndMinHeight:function(m){r.getGui().style.height=m,r.getGui().style.minHeight=m}};this.createManagedBean(new Cc).setComp(o,this.getGui(),this.getFocusableElement());var d=function(m){r.createManagedBean(m),r.appendChild(m)};d(new ed(ge.PINNED_LEFT)),d(new ed(null)),d(new ed(ge.PINNED_RIGHT))},i.TEMPLATE='<div class="ag-header" role="presentation"/>',function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(Rt),Na=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),FC=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},gv=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Na(i,h),i.prototype.addResizeBar=function(r){var o=this,u={dragStartPixels:r.dragStartPixels||0,eElement:r.eResizeBar,onDragStart:this.onDragStart.bind(this,r),onDragStop:this.onDragStop.bind(this,r),onDragging:this.onDragging.bind(this,r)};return this.dragService.addDragSource(u,!0),function(){return o.dragService.removeDragSource(u)}},i.prototype.onDragStart=function(r,o){this.dragStartX=o.clientX,this.setResizeIcons();var u=o instanceof MouseEvent&&!0===o.shiftKey;r.onResizeStart(u)},i.prototype.setResizeIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!0),r.disableUserSelect(!0)},i.prototype.onDragStop=function(r,o){r.onResizeEnd(this.resizeAmount),this.resetIcons()},i.prototype.resetIcons=function(){var r=this.ctrlsService.getGridCtrl();r.setResizeCursor(!1),r.disableUserSelect(!1)},i.prototype.onDragging=function(r,o){this.resizeAmount=o.clientX-this.dragStartX,r.onResizing(this.resizeAmount)},FC([K("dragService")],i.prototype,"dragService",void 0),FC([K("ctrlsService")],i.prototype,"ctrlsService",void 0),FC([qe("horizontalResizeService")],i)}(Ge),hO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ws=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},td=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return hO(i,h),i.prototype.hideActiveMenu=function(){this.hidePopup&&this.hidePopup()},i.prototype.showMenuAfterMouseEvent=function(r,o){var u=this;this.showPopup(r,function(d){u.popupService.positionPopupUnderMouseEvent({column:r,type:"columnMenu",mouseEvent:o,ePopup:d})},o.target)},i.prototype.showMenuAfterButtonClick=function(r,o,u){var d=this;this.showPopup(r,function(m){d.popupService.positionPopupUnderComponent({type:u,eventSource:o,ePopup:m,keepWithinBounds:!0,column:r})},o)},i.prototype.showPopup=function(r,o,u){var d=this,m=this.filterManager.getOrCreateFilterWrapper(r,"COLUMN_MENU");if(!m)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");var w=document.createElement("div");On(w,"presentation"),w.classList.add("ag-menu"),this.tabListener=this.addManagedListener(w,"keydown",function(ee){return d.trapFocusWithin(ee,w)}),m.guiPromise.then(function(ee){return w.appendChild(ee)});var P,x=u||this.ctrlsService.getGridBodyCtrl().getGui(),k=this.gridOptionsWrapper.getLocaleTextFunc(),q=this.popupService.addPopup({modal:!0,eChild:w,closeOnEsc:!0,closedCallback:function(ee){r.setMenuVisible(!1,"contextMenu");var le=ee instanceof KeyboardEvent;if(d.tabListener&&(d.tabListener=d.tabListener()),le&&u&&Wr(u)){var de=d.focusService.findTabbableParent(u);de&&de.focus()}},positionCallback:function(){return o(w)},anchorToElement:x,ariaLabel:k("ariaLabelColumnMenu","Column Menu")});q&&(this.hidePopup=P=q.hideFunc),m.filterPromise.then(function(ee){o(w),ee.afterGuiAttached&&ee.afterGuiAttached({container:"columnMenu",hidePopup:P})}),r.setMenuVisible(!0,"contextMenu")},i.prototype.trapFocusWithin=function(r,o){r.key!==Ie.TAB||r.defaultPrevented||this.focusService.findNextFocusableElement(o,!1,r.shiftKey)||(r.preventDefault(),this.focusService.focusInto(o,r.shiftKey))},i.prototype.isMenuEnabled=function(r){return r.isFilterAllowed()},ws([K("filterManager")],i.prototype,"filterManager",void 0),ws([K("popupService")],i.prototype,"popupService",void 0),ws([K("focusService")],i.prototype,"focusService",void 0),ws([K("ctrlsService")],i.prototype,"ctrlsService",void 0),ws([qe("menuFactory")],i)}(Ge),rd=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},vv=function(h){function i(r){var o=h.call(this,i.getTemplate(r.cssClass))||this;return o.items=[],o.tabbedItemScrollMap=new Map,o.params=r,r.items&&r.items.forEach(function(u){return o.addItem(u)}),o}return rd(i,h),i.prototype.postConstruct=function(){this.createManagedBean(new Uo(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},i.getTemplate=function(r){return'<div class="ag-tabs '+r+'">\n            <div ref="eHeader" role="tablist" class="ag-tabs-header '+(r?r+"-header":"")+'"></div>\n            <div ref="eBody" role="presentation" class="ag-tabs-body '+(r?r+"-body":"")+'"></div>\n        </div>'},i.prototype.handleKeyDown=function(r){var o=this.gridOptionsWrapper.getDocument();switch(r.key){case Ie.RIGHT:case Ie.LEFT:if(!this.eHeader.contains(o.activeElement))return;var u=this.items.indexOf(this.activeItem),d=r.key===Ie.RIGHT?Math.min(u+1,this.items.length-1):Math.max(u-1,0);if(u===d)return;r.preventDefault();var m=this.items[d];this.showItemWrapper(m),m.eHeaderButton.focus();break;case Ie.UP:case Ie.DOWN:r.stopPropagation()}},i.prototype.onTabKeyDown=function(r){if(!r.defaultPrevented){var o=this,u=o.focusService,d=o.eHeader,m=o.eBody,w=o.activeItem,x=this.gridOptionsWrapper.getDocument().activeElement;if(r.preventDefault(),d.contains(x))u.focusInto(m,r.shiftKey);else if(u.isFocusUnderManagedComponent(m))w.eHeaderButton.focus();else{var N=u.findNextFocusableElement(m,!1,r.shiftKey);N?N.focus():w.eHeaderButton.focus()}}},i.prototype.setAfterAttachedParams=function(r){this.afterAttachedParams=r},i.prototype.showFirstItem=function(){this.items.length>0&&this.showItemWrapper(this.items[0])},i.prototype.addItem=function(r){var o=document.createElement("span");On(o,"tab"),o.setAttribute("tabIndex","-1"),o.appendChild(r.title),o.classList.add("ag-tab"),this.eHeader.appendChild(o),ya(o,r.titleLabel);var u={tabbedItem:r,eHeaderButton:o};this.items.push(u),o.addEventListener("click",this.showItemWrapper.bind(this,u))},i.prototype.showItem=function(r){var o=this.items.find(function(u){return u.tabbedItem===r});o&&this.showItemWrapper(o)},i.prototype.showItemWrapper=function(r){var o=this,u=r.tabbedItem,d=r.eHeaderButton;this.params.onItemClicked&&this.params.onItemClicked({item:u}),this.activeItem!==r?(this.lastScrollListener&&(this.lastScrollListener=this.lastScrollListener()),Ln(this.eBody),u.bodyPromise.then(function(m){o.eBody.appendChild(m);var w=!o.focusService.isKeyboardMode();if(o.focusService.focusInto(o.eBody,!1,w),u.afterAttachedCallback&&u.afterAttachedCallback(o.afterAttachedParams),o.params.keepScrollPosition){var P=u.getScrollableContainer&&u.getScrollableContainer()||m;o.lastScrollListener=o.addManagedListener(P,"scroll",function(){o.tabbedItemScrollMap.set(u.name,P.scrollTop)});var x=o.tabbedItemScrollMap.get(u.name);void 0!==x&&setTimeout(function(){P.scrollTop=x},0)}}),this.activeItem&&this.activeItem.eHeaderButton.classList.remove("ag-tab-selected"),d.classList.add("ag-tab-selected"),this.activeItem=r):M_(this.params.onActiveItemClicked)},nn([K("focusService")],i.prototype,"focusService",void 0),nn([Ne("eHeader")],i.prototype,"eHeader",void 0),nn([Ne("eBody")],i.prototype,"eBody",void 0),nn([We],i.prototype,"postConstruct",null),i}(Rt),IC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Eo=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.polyfillFunctions=[],r}return IC(i,h),i.prototype.observeResize=function(r,o){var q,u=this,m=this.gridOptionsWrapper.getDocument().defaultView||window,w=pa(o,50),N=this.gridOptionsWrapper.isSuppressBrowserResizeObserver();return m.ResizeObserver&&!N?((q=new m.ResizeObserver(w)).observe(r),function(){return q.disconnect()}):function(){var q=hp(r),ee=Wu(r),le=!0,de=function(){if(le){var ye=hp(r),xe=Wu(r);(ye!==q||xe!==ee)&&(q=ye,ee=xe,o()),u.doNextPolyfillTurn(de)}};return de(),function(){return le=!1}}()},i.prototype.doNextPolyfillTurn=function(r){this.polyfillFunctions.push(r),this.schedulePolyfill()},i.prototype.schedulePolyfill=function(){var r=this;this.polyfillScheduled||(this.polyfillScheduled=!0,this.getFrameworkOverrides().setTimeout(function(){var u=r.polyfillFunctions;r.polyfillScheduled=!1,r.polyfillFunctions=[],u.forEach(function(d){return d()})},50))},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("resizeObserverService")],i),i}(Ge),yv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),LC=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},GC=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.createTasksP1={list:[],sorted:!1},r.createTasksP2={list:[],sorted:!1},r.destroyTasks=[],r.ticking=!1,r.scrollGoingDown=!0,r.lastScrollTop=0,r.taskCount=0,r.cancelledTasks=new Set,r}return yv(i,h),i.prototype.setScrollTop=function(r){this.scrollGoingDown=r>this.lastScrollTop,this.lastScrollTop=r},i.prototype.init=function(){this.useAnimationFrame=!this.gridOptionsWrapper.isSuppressAnimationFrame()},i.prototype.isOn=function(){return this.useAnimationFrame},i.prototype.verifyAnimationFrameOn=function(r){!1===this.useAnimationFrame&&console.warn("AG Grid: AnimationFrameService."+r+" called but animation frames are off")},i.prototype.createTask=function(r,o,u){this.verifyAnimationFrameOn(u);var d={task:r,index:o,createOrder:++this.taskCount};this.addTaskToList(this[u],d),this.schedule()},i.prototype.cancelTask=function(r){this.cancelledTasks.add(r)},i.prototype.addTaskToList=function(r,o){r.list.push(o),r.sorted=!1},i.prototype.sortTaskList=function(r){if(!r.sorted){var o=this.scrollGoingDown?1:-1;r.list.sort(function(u,d){return u.index!==d.index?o*(d.index-u.index):d.createOrder-u.createOrder}),r.sorted=!0}},i.prototype.addDestroyTask=function(r){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(r),this.schedule()},i.prototype.executeFrame=function(r){this.verifyAnimationFrameOn("executeFrame");for(var o=this.createTasksP1,u=o.list,d=this.createTasksP2,m=d.list,w=this.destroyTasks,P=(new Date).getTime(),x=(new Date).getTime()-P,N=r<=0,k=this.ctrlsService.getGridBodyCtrl();N||x<r;){if(!k.getScrollFeature().executeAnimationFrameScroll()){var ee=void 0;if(u.length)this.sortTaskList(o),ee=u.pop().task;else if(m.length)this.sortTaskList(d),ee=m.pop().task;else{if(!w.length){this.cancelledTasks.clear();break}ee=w.pop()}this.cancelledTasks.has(ee)||ee()}x=(new Date).getTime()-P}u.length||m.length||w.length?this.requestFrame():this.stopTicking()},i.prototype.stopTicking=function(){this.ticking=!1},i.prototype.flushAllFrames=function(){!this.useAnimationFrame||this.executeFrame(-1)},i.prototype.schedule=function(){!this.useAnimationFrame||this.ticking||(this.ticking=!0,this.requestFrame())},i.prototype.requestFrame=function(){var r=this.executeFrame.bind(this,60),u=this.gridOptionsWrapper.getDocument().defaultView||window;u.requestAnimationFrame?u.requestAnimationFrame(r):u.webkitRequestAnimationFrame?u.webkitRequestAnimationFrame(r):u.setTimeout(r,0)},i.prototype.isQueueEmpty=function(){return!this.ticking},i.prototype.debounce=function(r){var o=this,u=!1;return function(){o.isOn()?u||(u=!0,o.addDestroyTask(function(){u=!1,r()})):o.getFrameworkOverrides().setTimeout(r,0)}},LC([K("ctrlsService")],i.prototype,"ctrlsService",void 0),LC([We],i.prototype,"init",null),LC([qe("animationFrameService")],i)}(Ge),fO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nd=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},id=function(h){function i(r,o){var u=h.call(this)||this;return u.element=r,u.dragStartPosition={x:0,y:0},u.position={x:0,y:0},u.lastSize={width:-1,height:-1},u.positioned=!1,u.resizersAdded=!1,u.resizeListeners=[],u.boundaryEl=null,u.isResizing=!1,u.isMoving=!1,u.resizable={},u.movable=!1,u.currentResizer=null,u.config=Object.assign({},{popup:!1},o),u}return fO(i,h),i.prototype.center=function(){var r=this.offsetParent,o=r.clientHeight,d=r.clientWidth/2-this.getWidth()/2,m=o/2-this.getHeight()/2;this.offsetElement(d,m)},i.prototype.initialisePosition=function(){var r=this.config,o=r.centered,u=r.forcePopupParentAsOffsetParent,d=r.minWidth,m=r.width,w=r.minHeight,P=r.height,x=r.x,N=r.y;this.offsetParent||this.setOffsetParent();var k=0,q=0,ee=!!this.element.offsetParent;if(ee){var le=this.findBoundaryElement(),de=window.getComputedStyle(le);if(null!=de.minWidth){var ye=le.offsetWidth-this.element.offsetWidth;q=parseInt(de.minWidth,10)-ye}if(null!=de.minHeight){var xe=le.offsetHeight-this.element.offsetHeight;k=parseInt(de.minHeight,10)-xe}}if(this.minHeight=w||k,this.minWidth=d||q,m&&this.setWidth(m),P&&this.setHeight(P),(!m||!P)&&this.refreshSize(),o)this.center();else if(x||N)this.offsetElement(x,N);else if(ee&&u&&this.boundaryEl){var Oe=parseFloat(this.boundaryEl.style.top),Ee=parseFloat(this.boundaryEl.style.left);this.offsetElement(isNaN(Ee)?0:Ee,isNaN(Oe)?0:Oe)}this.positioned=!!this.offsetParent},i.prototype.isPositioned=function(){return this.positioned},i.prototype.getPosition=function(){return this.position},i.prototype.setMovable=function(r,o){if(this.config.popup&&r!==this.movable){this.movable=r;var u=this.moveElementDragListener||{eElement:o,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};r?(this.dragService.addDragSource(u),this.moveElementDragListener=u):(this.dragService.removeDragSource(u),this.moveElementDragListener=void 0)}},i.prototype.setResizable=function(r){var o=this;if(this.clearResizeListeners(),r?this.addResizers():this.removeResizers(),"boolean"==typeof r){if(!1===r)return;r={topLeft:r,top:r,topRight:r,right:r,bottomRight:r,bottom:r,bottomLeft:r,left:r}}Object.keys(r).forEach(function(u){var m=!!r[u],w=o.getResizerElement(u),P={dragStartPixels:0,eElement:w,onDragStart:function(x){return o.onResizeStart(x,u)},onDragging:o.onResize.bind(o),onDragStop:function(x){return o.onResizeEnd(x,u)}};(!!o.resizable[u]!==m||!o.isAlive()&&!m)&&(m?(o.dragService.addDragSource(P),o.resizeListeners.push(P),w.style.pointerEvents="all"):w.style.pointerEvents="none")})},i.prototype.removeSizeFromEl=function(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")},i.prototype.restoreLastSize=function(){this.element.style.flex="0 0 auto";var r=this.lastSize,o=r.height,u=r.width;-1!==u&&(this.element.style.width=u+"px"),-1!==o&&(this.element.style.height=o+"px")},i.prototype.getHeight=function(){return this.element.offsetHeight},i.prototype.setHeight=function(r){var o=this.config.popup,u=this.element,d=!1;if("string"==typeof r&&-1!==r.indexOf("%"))Hi(u,r),r=fh(u),d=!0;else if(this.positioned){var m=this.element.getBoundingClientRect(),w=this.offsetParent.getBoundingClientRect();r=Math.max(this.minHeight,r);var P=this.offsetParent.clientHeight,x=o?this.position.y:m.top;P&&r+x>P+(o?0:w.top)&&(r=P-x)}this.getHeight()!==r&&(d?(u.style.maxHeight="unset",u.style.minHeight="unset"):o?Hi(u,r):(u.style.height=r+"px",u.style.flex="0 0 auto",this.lastSize.height="number"==typeof r?r:parseFloat(r)))},i.prototype.getWidth=function(){return this.element.offsetWidth},i.prototype.setWidth=function(r){var o=this.element,u=this.config.popup,d=!1;if("string"==typeof r&&-1!==r.indexOf("%"))zt(o,r),r=is(o),d=!0;else if(this.positioned){r=Math.max(this.minWidth,r);var m=this.offsetParent.clientWidth,w=u?this.position.x:this.element.getBoundingClientRect().left;m&&r+w>m&&(r=m-w)}this.getWidth()!==r&&(d?(o.style.maxWidth="unset",o.style.minWidth="unset"):this.config.popup?zt(o,r):(o.style.width=r+"px",o.style.flex=" unset",this.lastSize.width="number"==typeof r?r:parseFloat(r)))},i.prototype.offsetElement=function(r,o){void 0===r&&(r=0),void 0===o&&(o=0);var u=this.config.forcePopupParentAsOffsetParent?this.boundaryEl:this.element;this.popupService.positionPopup({ePopup:u,x:r,y:o,keepWithinBounds:!0}),this.setPosition(parseFloat(u.style.left),parseFloat(u.style.top))},i.prototype.setPosition=function(r,o){this.position.x=r,this.position.y=o},i.prototype.updateDragStartPosition=function(r,o){this.dragStartPosition={x:r,y:o}},i.prototype.calculateMouseMovement=function(r){var o=r.e,d=r.isTop,w=r.topBuffer,P=o.clientX-this.dragStartPosition.x,x=o.clientY-this.dragStartPosition.y;return{movementX:this.shouldSkipX(o,!!r.isLeft,!!r.anywhereWithin,P)?0:P,movementY:this.shouldSkipY(o,!!d,w,x)?0:x}},i.prototype.shouldSkipX=function(r,o,u,d){var m=this.element.getBoundingClientRect(),w=this.offsetParent.getBoundingClientRect(),P=this.boundaryEl.getBoundingClientRect(),x=this.config.popup?this.position.x:m.left,N=x<=0&&w.left>=r.clientX||w.right<=r.clientX&&w.right<=P.right;return!!N||(o?d<0&&r.clientX>x+w.left||d>0&&r.clientX<x+w.left:u?d<0&&r.clientX>P.right||d>0&&r.clientX<x+w.left:d<0&&r.clientX>P.right||d>0&&r.clientX<P.right)},i.prototype.shouldSkipY=function(r,o,u,d){void 0===u&&(u=0);var m=this.element.getBoundingClientRect(),w=this.offsetParent.getBoundingClientRect(),P=this.boundaryEl.getBoundingClientRect(),x=this.config.popup?this.position.y:m.top,N=x<=0&&w.top>=r.clientY||w.bottom<=r.clientY&&w.bottom<=P.bottom;return!!N||(o?d<0&&r.clientY>x+w.top+u||d>0&&r.clientY<x+w.top:d<0&&r.clientY>P.bottom||d>0&&r.clientY<P.bottom)},i.prototype.createResizeMap=function(){var r=this.element;this.resizerMap={topLeft:{element:r.querySelector("[ref=eTopLeftResizer]")},top:{element:r.querySelector("[ref=eTopResizer]")},topRight:{element:r.querySelector("[ref=eTopRightResizer]")},right:{element:r.querySelector("[ref=eRightResizer]")},bottomRight:{element:r.querySelector("[ref=eBottomRightResizer]")},bottom:{element:r.querySelector("[ref=eBottomResizer]")},bottomLeft:{element:r.querySelector("[ref=eBottomLeftResizer]")},left:{element:r.querySelector("[ref=eLeftResizer]")}}},i.prototype.addResizers=function(){if(!this.resizersAdded){var r=this.element;if(r){var u=(new DOMParser).parseFromString('<div class="ag-resizer-wrapper">\n        <div ref="eTopLeftResizer" class="ag-resizer ag-resizer-topLeft"></div>\n        <div ref="eTopResizer" class="ag-resizer ag-resizer-top"></div>\n        <div ref="eTopRightResizer" class="ag-resizer ag-resizer-topRight"></div>\n        <div ref="eRightResizer" class="ag-resizer ag-resizer-right"></div>\n        <div ref="eBottomRightResizer" class="ag-resizer ag-resizer-bottomRight"></div>\n        <div ref="eBottomResizer" class="ag-resizer ag-resizer-bottom"></div>\n        <div ref="eBottomLeftResizer" class="ag-resizer ag-resizer-bottomLeft"></div>\n        <div ref="eLeftResizer" class="ag-resizer ag-resizer-left"></div>\n    </div>',"text/html").body;r.appendChild(u.firstChild),this.createResizeMap(),this.resizersAdded=!0}}},i.prototype.removeResizers=function(){this.resizerMap=void 0;var r=this.element.querySelector(".ag-resizer-wrapper");r&&this.element.removeChild(r),this.resizersAdded=!1},i.prototype.getResizerElement=function(r){return this.resizerMap[r].element},i.prototype.onResizeStart=function(r,o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!o.match(/top/i),isRight:!!o.match(/right/i),isBottom:!!o.match(/bottom/i),isLeft:!!o.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[o].element.classList.add("ag-active");var u=this.config;!u.popup&&!u.forcePopupParentAsOffsetParent&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(r.clientX,r.clientY)},i.prototype.getSiblings=function(){var o=this.element.parentElement;return o?Array.prototype.slice.call(o.children).filter(function(u){return!u.classList.contains("ag-hidden")}):null},i.prototype.getMinSizeOfSiblings=function(){for(var r=this.getSiblings()||[],o=0,u=0,d=0;d<r.length;d++){var m=r[d];if(m!==this.element){var P=this.minHeight||0,x=this.minWidth||0;if(m.style.flex&&"0 0 auto"!==m.style.flex){var N=window.getComputedStyle(m);N.minHeight&&(P=parseInt(N.minHeight,10)),N.minWidth&&(x=parseInt(N.minWidth,10))}else P=m.offsetHeight,x=m.offsetWidth;o+=P,u+=x}}return{height:o,width:u}},i.prototype.applySizeToSiblings=function(r){var o=null,u=this.getSiblings();if(u){for(var d=0;d<u.length;d++){var m=u[d];m!==o&&(r?m.style.height=m.offsetHeight+"px":m.style.width=m.offsetWidth+"px",m.style.flex="0 0 auto",m===this.element&&(o=u[d+1]))}o&&(o.style.removeProperty("height"),o.style.removeProperty("min-height"),o.style.removeProperty("max-height"),o.style.flex="1 1 auto")}},i.prototype.onResize=function(r){if(this.isResizing&&this.currentResizer){var o=this.config,u=o.popup,d=o.forcePopupParentAsOffsetParent,m=this.currentResizer,w=m.isTop,N=m.isLeft,k=m.isRight||N,q=m.isBottom||w,ee=this.calculateMouseMovement({e:r,isLeft:N,isTop:w}),le=ee.movementX,de=ee.movementY,ye=this.position.x,xe=this.position.y,Oe=0,Ee=0;if(k&&le){var $e=N?-1:1,pt=this.getWidth(),vt=pt+le*$e,lt=!1;N&&(ye+(Oe=pt-vt)<=0||vt<=this.minWidth)&&(lt=!0,Oe=0),lt||this.setWidth(vt)}if(q&&de){$e=w?-1:1;var Ue=this.getHeight(),xt=Ue+de*$e,Tt=!1;w?(xe+(Ee=Ue-xt)<=0||xt<=this.minHeight)&&(Tt=!0,Ee=0):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&Ue<xt&&this.getMinSizeOfSiblings().height+xt>this.element.parentElement.offsetHeight&&(Tt=!0),Tt||this.setHeight(xt)}this.updateDragStartPosition(r.clientX,r.clientY),((u||d)&&Oe||Ee)&&this.offsetElement(ye+Oe,xe+Ee)}},i.prototype.onResizeEnd=function(r,o){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null;var u={type:"resize",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.element.classList.remove("ag-resizing"),this.resizerMap[o].element.classList.remove("ag-active"),this.dispatchEvent(u)},i.prototype.refreshSize=function(){var r=this.element;this.config.popup&&(this.config.width||this.setWidth(r.offsetWidth),this.config.height||this.setHeight(r.offsetHeight))},i.prototype.onMoveStart=function(r){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(r.clientX,r.clientY)},i.prototype.onMove=function(r){if(this.isMoving){var m,o=this.position,u=o.x,d=o.y;this.config.calculateTopBuffer&&(m=this.config.calculateTopBuffer());var w=this.calculateMouseMovement({e:r,isTop:!0,anywhereWithin:!0,topBuffer:m});this.offsetElement(u+w.movementX,d+w.movementY),this.updateDragStartPosition(r.clientX,r.clientY)}},i.prototype.onMoveEnd=function(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")},i.prototype.setOffsetParent=function(){this.offsetParent=this.config.forcePopupParentAsOffsetParent?this.popupService.getPopupParent():this.element.offsetParent},i.prototype.findBoundaryElement=function(){for(var r=this.element;r;){if("static"!==window.getComputedStyle(r).position)return r;r=r.parentElement}return this.element},i.prototype.clearResizeListeners=function(){for(;this.resizeListeners.length;){var r=this.resizeListeners.pop();this.dragService.removeDragSource(r)}},i.prototype.destroy=function(){h.prototype.destroy.call(this),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.clearResizeListeners(),this.removeResizers()},nd([K("popupService")],i.prototype,"popupService",void 0),nd([K("dragService")],i.prototype,"dragService",void 0),i}(Ge),gO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},La=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return gO(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.centerRowContainerCtrl=o.centerRowContainerCtrl})},i.prototype.getPreferredWidthForColumn=function(r,o){var u=this.getHeaderCellForColumn(r);if(!u)return-1;var d=this.rowRenderer.getAllCellsForColumn(r);return o||d.push(u),this.addElementsToContainerAndGetWidth(d)},i.prototype.getPreferredWidthForColumnGroup=function(r){var o=this.getHeaderCellForColumn(r);return o?this.addElementsToContainerAndGetWidth([o]):-1},i.prototype.addElementsToContainerAndGetWidth=function(r){var o=this,u=document.createElement("span");u.style.position="fixed";var d=this.centerRowContainerCtrl.getContainerElement();d.appendChild(u),r.forEach(function(P){return o.cloneItemIntoDummy(P,u)});var m=u.offsetWidth;return d.removeChild(u),m+this.gridOptionsWrapper.getAutoSizePadding()},i.prototype.getHeaderCellForColumn=function(r){var o=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(function(u){var d=u.getHtmlElementForColumnHeader(r);null!=d&&(o=d)}),o},i.prototype.cloneItemIntoDummy=function(r,o){var u=r.cloneNode(!0);u.style.width="",u.style.position="static",u.style.left="";var d=document.createElement("div"),m=d.classList;["ag-header-cell","ag-header-group-cell"].some(function(q){return u.classList.contains(q)})?(m.add("ag-header","ag-header-row"),d.style.position="static"):m.add("ag-row");for(var P=r.parentElement;P;){if(["ag-header-row","ag-row"].some(function(q){return P.classList.contains(q)})){for(var N=0;N<P.classList.length;N++){var k=P.classList[N];"ag-row-position-absolute"!=k&&m.add(k)}break}P=P.parentElement}d.appendChild(u),o.appendChild(d)},xn([K("rowRenderer")],i.prototype,"rowRenderer",void 0),xn([K("ctrlsService")],i.prototype,"ctrlsService",void 0),xn([K("rowCssClassCalculator")],i.prototype,"rowCssClassCalculator",void 0),xn([We],i.prototype,"postConstruct",null),xn([qe("autoWidthCalculator")],i)}(Ge),Ga=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xo=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},vO=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},pn=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(vO(arguments[i]));return h},VC=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.destroyFuncsForColumnListeners=[],r.rowCtrlsByRowIndex={},r.zombieRowCtrls={},r.allRowCtrls=[],r.topRowCtrls=[],r.bottomRowCtrls=[],r.refreshInProgress=!1,r}return Ga(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(){r.gridBodyCtrl=r.ctrlsService.getGridBodyCtrl(),r.initialise()})},i.prototype.initialise=function(){this.addManagedListener(this.eventService,ne.EVENT_PAGINATION_CHANGED,this.onPageLoaded.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_PINNED_ROW_DATA_CHANGED,this.onPinnedRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,this.onDisplayedColumnsChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_BODY_HEIGHT_CHANGED,this.redrawAfterScroll.bind(this)),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,this.onDomLayoutChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,this.embedFullWidthRows=this.printLayout||this.gridOptionsWrapper.isEmbedFullWidthRows(),this.redrawAfterModelUpdate()},i.prototype.initialiseCache=function(){if(this.gridOptionsWrapper.isKeepDetailRows()){var r=this.gridOptionsWrapper.getKeepDetailRowsCount();this.cachedRowCtrls=new BC(null!=r?r:3)}},i.prototype.getRowCtrls=function(){return this.allRowCtrls},i.prototype.updateAllRowCtrls=function(){var r=Go(this.rowCtrlsByRowIndex);this.gridOptionsWrapper.isEnsureDomOrder()&&r.sort(function(d,m){return d.getRowNode().rowIndex-m.getRowNode.rowIndex});var o=Go(this.zombieRowCtrls),u=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];this.allRowCtrls=pn(r,o,u)},i.prototype.registerCellEventListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_CELL_FOCUSED,function(u){r.getAllCellCtrls().forEach(function(d){return d.onCellFocused(u)}),r.getFullWidthRowCtrls().forEach(function(d){d.onFullWidthRowFocused(u)})}),this.addManagedListener(this.eventService,ne.EVENT_FLASH_CELLS,function(u){r.getAllCellCtrls().forEach(function(d){return d.onFlashCells(u)})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_HOVER_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onColumnHover()})}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onDisplayedColumnsChanged()})}),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,function(){r.printLayout&&r.getAllCellCtrls().forEach(function(u){return u.onLeftChanged()})}),this.gridOptionsWrapper.isEnableRangeSelection()&&(this.addManagedListener(this.eventService,ne.EVENT_RANGE_SELECTION_CHANGED,function(){r.getAllCellCtrls().forEach(function(u){return u.onRangeSelectionChanged()})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_MOVED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PINNED,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})}),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VISIBLE,function(){r.getAllCellCtrls().forEach(function(u){return u.updateRangeBordersIfRangeCount()})})),this.refreshListenersToColumnsForCellComps(),this.addManagedListener(this.eventService,ne.EVENT_GRID_COLUMNS_CHANGED,this.refreshListenersToColumnsForCellComps.bind(this)),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))},i.prototype.removeGridColumnListeners=function(){this.destroyFuncsForColumnListeners.forEach(function(r){return r()}),this.destroyFuncsForColumnListeners.length=0},i.prototype.refreshListenersToColumnsForCellComps=function(){var r=this;this.removeGridColumnListeners();var o=this.columnModel.getAllGridColumns();!o||o.forEach(function(u){var d=function(N){r.getAllCellCtrls().forEach(function(k){k.getColumn()===u&&N(k)})},m=function(){d(function(N){return N.onLeftChanged()})},w=function(){d(function(N){return N.onWidthChanged()})},P=function(){d(function(N){return N.onFirstRightPinnedChanged()})},x=function(){d(function(N){return N.onLastLeftPinnedChanged()})};u.addEventListener(kt.EVENT_LEFT_CHANGED,m),u.addEventListener(kt.EVENT_WIDTH_CHANGED,w),u.addEventListener(kt.EVENT_FIRST_RIGHT_PINNED_CHANGED,P),u.addEventListener(kt.EVENT_LAST_LEFT_PINNED_CHANGED,x),r.destroyFuncsForColumnListeners.push(function(){u.removeEventListener(kt.EVENT_LEFT_CHANGED,m),u.removeEventListener(kt.EVENT_WIDTH_CHANGED,w),u.removeEventListener(kt.EVENT_FIRST_RIGHT_PINNED_CHANGED,P),u.removeEventListener(kt.EVENT_LAST_LEFT_PINNED_CHANGED,x)})})},i.prototype.onDomLayoutChanged=function(){var r=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,o=r||this.gridOptionsWrapper.isEmbedFullWidthRows(),u=o!==this.embedFullWidthRows||this.printLayout!==r;this.printLayout=r,this.embedFullWidthRows=o,u&&this.redrawAfterModelUpdate()},i.prototype.datasourceChanged=function(){this.firstRenderedRow=0,this.lastRenderedRow=-1;var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},i.prototype.onPageLoaded=function(r){this.redrawAfterModelUpdate({recycleRows:r.keepRenderedRows,animate:r.animate,newData:r.newData,newPage:r.newPage,onlyBody:!0})},i.prototype.getAllCellsForColumn=function(r){var o=[];return this.getAllRowCtrls().forEach(function(u){var d=u.getCellElement(r);d&&o.push(d)}),o},i.prototype.refreshFloatingRowComps=function(){this.refreshFloatingRows(this.topRowCtrls,this.pinnedRowModel.getPinnedTopRowData()),this.refreshFloatingRows(this.bottomRowCtrls,this.pinnedRowModel.getPinnedBottomRowData())},i.prototype.getTopRowCtrls=function(){return this.topRowCtrls},i.prototype.getBottomRowCtrls=function(){return this.bottomRowCtrls},i.prototype.refreshFloatingRows=function(r,o){var u=this;r.forEach(function(d){d.destroyFirstPass(),d.destroySecondPass()}),r.length=0,o&&o.forEach(function(d){var m=new vs(d,u.beans,!1,!1,u.printLayout);r.push(m)})},i.prototype.onPinnedRowDataChanged=function(){this.redrawAfterModelUpdate({recycleRows:!0})},i.prototype.getRenderedIndexesForRowNodes=function(r){var o=[];return b(r)||qt(this.rowCtrlsByRowIndex,function(u,d){var m=d.getRowNode();r.indexOf(m)>=0&&o.push(u)}),o},i.prototype.redrawRows=function(r){var o=null!=r&&r.length>0;if(o){var u=this.getRenderedIndexesForRowNodes(r);this.removeRowCtrls(u)}this.redrawAfterModelUpdate({recycleRows:o})},i.prototype.getCellToRestoreFocusToAfterRefresh=function(r){var o=r.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(null==o)return null;var d=this.gridOptionsWrapper.getDocument().activeElement,m=this.gridOptionsWrapper.getDomData(d,pl.DOM_DATA_KEY_CELL_CTRL),w=this.gridOptionsWrapper.getDomData(d,vs.DOM_DATA_KEY_ROW_CTRL);return m||w?o:null},i.prototype.redrawAfterModelUpdate=function(r){void 0===r&&(r={}),this.getLockOnRefresh();var o=this.getCellToRestoreFocusToAfterRefresh(r);this.updateContainerHeights(),this.scrollToTopIfNewData(r);var u=!this.printLayout&&!!r.recycleRows,d=r.animate&&this.gridOptionsWrapper.isAnimateRows(),m=u?this.recycleRows():null;u||this.removeAllRowComps();var P=function(){if(null==o||null==m)return!1;var x=!1;return qt(m,function(N,k){var q=k.getRowNode();q.rowIndex==o.rowIndex&&q.rowPinned==o.rowPinned&&(x=!0)}),x}();this.redraw(m,d),r.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),P||this.restoreFocusedCell(o),this.releaseLockOnRefresh()},i.prototype.scrollToTopIfNewData=function(r){var o=r.newData||r.newPage,u=this.gridOptionsWrapper.isSuppressScrollOnNewData();o&&!u&&this.gridBodyCtrl.getScrollFeature().scrollToTop()},i.prototype.updateContainerHeights=function(){if(this.printLayout)this.rowContainerHeightService.setModelHeight(null);else{var r=this.paginationProxy.getCurrentPageHeight();0===r&&(r=1),this.rowContainerHeightService.setModelHeight(r)}},i.prototype.getLockOnRefresh=function(){if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0},i.prototype.releaseLockOnRefresh=function(){this.refreshInProgress=!1},i.prototype.isRefreshInProgress=function(){return this.refreshInProgress},i.prototype.restoreFocusedCell=function(r){r&&this.focusService.setFocusedCell(r.rowIndex,r.column,r.rowPinned,!0)},i.prototype.stopEditing=function(r){void 0===r&&(r=!1),this.getAllRowCtrls().forEach(function(o){o.stopEditing(r)})},i.prototype.onNewColumnsLoaded=function(){this.getAllCellCtrls().forEach(function(r){return r.onNewColumnsLoaded()})},i.prototype.getAllCellCtrls=function(){var r=[];return this.getAllRowCtrls().forEach(function(o){return r=r.concat(o.getAllCellCtrls())}),r},i.prototype.getAllRowCtrls=function(){var r=this,o=pn(this.topRowCtrls,this.bottomRowCtrls);return Object.keys(this.rowCtrlsByRowIndex).forEach(function(u){return o.push(r.rowCtrlsByRowIndex[u])}),o},i.prototype.addRenderedRowListener=function(r,o,u){var d=this.rowCtrlsByRowIndex[o];d&&d.addEventListener(r,u)},i.prototype.flashCells=function(r){void 0===r&&(r={});var o=r.flashDelay,u=r.fadeDelay;this.getCellCtrls(r.rowNodes,r.columns).forEach(function(d){return d.flashCell({flashDelay:o,fadeDelay:u})})},i.prototype.refreshCells=function(r){void 0===r&&(r={});var o={forceRefresh:r.force,newData:!1,suppressFlash:r.suppressFlash};this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){if(u.refreshShouldDestroy()){var d=u.getRowCtrl();d&&d.refreshCell(u)}else u.refreshCell(o)}),this.getFullWidthRowCtrls(r.rowNodes).forEach(function(u){u.refreshFullWidth()})},i.prototype.getCellRendererInstances=function(r){return this.getCellCtrls(r.rowNodes,r.columns).map(function(u){return u.getCellRenderer()}).filter(function(u){return null!=u})},i.prototype.getCellEditorInstances=function(r){var o=[];return this.getCellCtrls(r.rowNodes,r.columns).forEach(function(u){var d=u.getCellEditor();d&&o.push(d)}),o},i.prototype.getEditingCells=function(){var r=[];return this.getAllCellCtrls().forEach(function(o){if(o.isEditing()){var u=o.getCellPosition();r.push(u)}}),r},i.prototype.mapRowNodes=function(r){if(r){var o={top:{},bottom:{},normal:{}};return r.forEach(function(u){var d=u.id;u.rowPinned===ge.PINNED_TOP?o.top[d]=u:u.rowPinned===ge.PINNED_BOTTOM?o.bottom[d]=u:o.normal[d]=u}),o}},i.prototype.isRowInMap=function(r,o){var u=r.id,d=r.rowPinned;return d===ge.PINNED_BOTTOM?null!=o.bottom[u]:d===ge.PINNED_TOP?null!=o.top[u]:null!=o.normal[u]},i.prototype.getCellCtrls=function(r,o){var w,u=this,d=this.mapRowNodes(r),m=[];re(o)&&(w={},o.forEach(function(x){var N=u.columnModel.getGridColumn(x);re(N)&&(w[N.getId()]=!0)}));var P=function(x){var N=x.getRowNode();null!=d&&!u.isRowInMap(N,d)||x.getAllCellCtrls().forEach(function(k){var q=k.getColumn().getId();w&&!w[q]||m.push(k)})};return qt(this.rowCtrlsByRowIndex,function(x,N){P(N)}),this.topRowCtrls&&this.topRowCtrls.forEach(P),this.bottomRowCtrls&&this.bottomRowCtrls.forEach(P),m},i.prototype.destroy=function(){this.removeAllRowComps(),h.prototype.destroy.call(this)},i.prototype.removeAllRowComps=function(){var r=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(r)},i.prototype.recycleRows=function(){var r=[];qt(this.rowCtrlsByRowIndex,function(u,d){null==d.getRowNode().id&&r.push(u)}),this.removeRowCtrls(r);var o={};return qt(this.rowCtrlsByRowIndex,function(u,d){var m=d.getRowNode();o[m.id]=d}),this.rowCtrlsByRowIndex={},o},i.prototype.removeRowCtrls=function(r){var o=this;r.forEach(function(u){var d=o.rowCtrlsByRowIndex[u];d&&(d.destroyFirstPass(),d.destroySecondPass()),delete o.rowCtrlsByRowIndex[u]})},i.prototype.redrawAfterScroll=function(){this.getLockOnRefresh(),this.redraw(null,!1,!0),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged()},i.prototype.removeRowCompsNotToDraw=function(r){var o={};r.forEach(function(m){return o[m]=!0});var d=Object.keys(this.rowCtrlsByRowIndex).filter(function(m){return!o[m]});this.removeRowCtrls(d)},i.prototype.calculateIndexesToDraw=function(r){var o=this,u=Q_(this.firstRenderedRow,this.lastRenderedRow),d=function(m,w){var P=w.getRowNode().rowIndex;null!=P&&(P<o.firstRenderedRow||P>o.lastRenderedRow)&&o.doNotUnVirtualiseRow(w)&&u.push(P)};return qt(this.rowCtrlsByRowIndex,d),qt(r,d),u.sort(function(m,w){return m-w}),u},i.prototype.redraw=function(r,o,u){var d=this;void 0===o&&(o=!1),void 0===u&&(u=!1),this.rowContainerHeightService.updateOffset(),this.workOutFirstAndLastRowsToRender();var m=this.calculateIndexesToDraw(r);this.removeRowCompsNotToDraw(m),this.printLayout&&(o=!1),m.forEach(function(P){re(d.createOrUpdateRowCtrl(P,r,o,u))}),r&&(!u||this.gridOptionsWrapper.isSuppressAnimationFrame()||this.printLayout?this.destroyRowCtrls(r,o):this.beans.animationFrameService.addDestroyTask(function(){d.destroyRowCtrls(r,o),d.updateAllRowCtrls(),d.dispatchDisplayedRowsChanged()})),this.updateAllRowCtrls(),this.gridBodyCtrl.updateRowCount()},i.prototype.dispatchDisplayedRowsChanged=function(){this.eventService.dispatchEvent({type:ne.EVENT_DISPLAYED_ROWS_CHANGED})},i.prototype.onDisplayedColumnsChanged=function(){var r=this.columnModel.isPinningLeft(),o=this.columnModel.isPinningRight();(this.pinningLeft!==r||o!==this.pinningRight)&&(this.pinningLeft=r,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())},i.prototype.redrawFullWidthEmbeddedRows=function(){var r=[];this.getFullWidthRowCtrls().forEach(function(o){var u=o.getRowNode().rowIndex;r.push(u.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(r),this.redrawAfterScroll()},i.prototype.getFullWidthRowCtrls=function(r){var o=this,u=this.mapRowNodes(r);return Go(this.rowCtrlsByRowIndex).filter(function(d){if(!d.isFullWidth())return!1;var m=d.getRowNode();return!(null!=u&&!o.isRowInMap(m,u))})},i.prototype.refreshFullWidthRows=function(r){var o=[],u=!!r,d=u?{}:void 0;u&&d&&r.forEach(function(m){return d[m.id]=!0}),this.getFullWidthRowCtrls().forEach(function(m){var w=m.getRowNode();if((!u||!d||d[w.id]||d[w.level>0&&w.parent?w.parent.id:void 0])&&!m.refreshFullWidth()){var k=m.getRowNode().rowIndex;o.push(k.toString())}}),this.removeRowCtrls(o),this.redrawAfterScroll()},i.prototype.createOrUpdateRowCtrl=function(r,o,u,d){var m,w=this.rowCtrlsByRowIndex[r];if(w||re(m=this.paginationProxy.getRow(r))&&re(o)&&o[m.id]&&m.alreadyRendered&&(w=o[m.id],o[m.id]=null),!w){if(m||(m=this.paginationProxy.getRow(r)),!re(m))return;w=this.createRowCon(m,u,d)}return m&&(m.alreadyRendered=!0),this.rowCtrlsByRowIndex[r]=w,w},i.prototype.destroyRowCtrls=function(r,o){var u=this,d=[];qt(r,function(m,w){if(w){if(u.cachedRowCtrls&&w.isCacheable())return void u.cachedRowCtrls.addRow(w);w.destroyFirstPass(),o?(u.zombieRowCtrls[w.getInstanceId()]=w,d.push(function(){w.destroySecondPass(),delete u.zombieRowCtrls[w.getInstanceId()]})):w.destroySecondPass()}}),o&&(d.push(function(){u.updateAllRowCtrls(),u.dispatchDisplayedRowsChanged()}),qf(d))},i.prototype.workOutFirstAndLastRowsToRender=function(){var o,u,r=this;if(this.paginationProxy.isRowsToRender())if(this.printLayout)o=this.paginationProxy.getPageFirstRow(),u=this.paginationProxy.getPageLastRow();else{var d=this.gridOptionsWrapper.getRowBufferInPixels(),m=this.ctrlsService.getGridBodyCtrl(),w=this.gridOptionsWrapper.isSuppressRowVirtualisation(),P=!1,x=void 0,N=void 0;do{var k=this.paginationProxy.getPixelOffset(),q=this.paginationProxy.getCurrentPagePixelRange(),ee=q.pageFirstPixel,le=q.pageLastPixel,de=this.rowContainerHeightService.getDivStretchOffset();if(w)x=ee+de,N=le+de;else{var ye=m.getScrollFeature().getVScrollPosition(),Oe=ye.bottom;x=Math.max(ye.top+k-d,ee)+de,N=Math.min(Oe+k+d,le)+de}P=this.ensureAllRowsInRangeHaveHeightsCalculated(x,N)}while(P);var Ee=this.paginationProxy.getRowIndexAtPixel(x),$e=this.paginationProxy.getRowIndexAtPixel(N),pt=this.paginationProxy.getPageFirstRow(),vt=this.paginationProxy.getPageLastRow();Ee<pt&&(Ee=pt),$e>vt&&($e=vt),o=Ee,u=$e}else o=0,u=-1;var lt=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_NORMAL,Ue=this.gridOptionsWrapper.isSuppressMaxRenderedRowRestriction(),xt=Math.max(this.gridOptionsWrapper.getRowBuffer(),500);if(lt&&!Ue&&u-o>xt&&(u=o+xt),(o!==this.firstRenderedRow||u!==this.lastRenderedRow)&&(this.firstRenderedRow=o,this.lastRenderedRow=u,this.eventService.dispatchEvent({type:ne.EVENT_VIEWPORT_CHANGED,firstRow:o,lastRow:u,api:this.gridApi,columnApi:this.columnApi})),this.paginationProxy.isRowsToRender()){var ta={type:ne.EVENT_FIRST_DATA_RENDERED,firstRow:o,lastRow:u,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){return r.eventService.dispatchEventOnce(ta)},50)}},i.prototype.ensureAllRowsInRangeHaveHeightsCalculated=function(r,o){var u=this.paginationProxy.ensureRowHeightsValid(r,o,-1,-1);return u&&this.updateContainerHeights(),u},i.prototype.getFirstVirtualRenderedRow=function(){return this.firstRenderedRow},i.prototype.getLastVirtualRenderedRow=function(){return this.lastRenderedRow},i.prototype.doNotUnVirtualiseRow=function(r){var d=r.getRowNode(),m=this.focusService.isRowNodeFocused(d),w=r.isEditing();return!!(m||w||d.detail)&&!!this.paginationProxy.isRowPresent(d)},i.prototype.createRowCon=function(r,o,u){var d=this.cachedRowCtrls?this.cachedRowCtrls.getRow(r):null;if(d)return d;var m=this.gridOptionsWrapper.isSuppressAnimationFrame();return new vs(r,this.beans,o,u&&!m&&!this.printLayout,this.printLayout)},i.prototype.getRenderedNodes=function(){var r=this.rowCtrlsByRowIndex;return Object.keys(r).map(function(o){return r[o].getRowNode()})},i.prototype.getRowByPosition=function(r){var o;switch(r.rowPinned){case ge.PINNED_TOP:o=this.topRowCtrls[r.rowIndex];break;case ge.PINNED_BOTTOM:o=this.bottomRowCtrls[r.rowIndex];break;default:o=this.rowCtrlsByRowIndex[r.rowIndex]}return o},i.prototype.getRowNode=function(r){switch(r.rowPinned){case ge.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case ge.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},i.prototype.isRangeInRenderedViewport=function(r,o){return!(null==r||null==o||o<this.firstRenderedRow||r>this.lastRenderedRow)},Xo([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Xo([K("columnModel")],i.prototype,"columnModel",void 0),Xo([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Xo([K("rowModel")],i.prototype,"rowModel",void 0),Xo([K("focusService")],i.prototype,"focusService",void 0),Xo([K("columnApi")],i.prototype,"columnApi",void 0),Xo([K("gridApi")],i.prototype,"gridApi",void 0),Xo([K("beans")],i.prototype,"beans",void 0),Xo([K("rowContainerHeightService")],i.prototype,"rowContainerHeightService",void 0),Xo([jt("ctrlsService")],i.prototype,"ctrlsService",void 0),Xo([We],i.prototype,"postConstruct",null),Xo([qe("rowRenderer")],i)}(Ge),BC=function(){function h(i){this.entriesMap={},this.entriesList=[],this.maxCount=i}return h.prototype.addRow=function(i){if(this.entriesMap[i.getRowNode().id]=i,this.entriesList.push(i),i.setCached(!0),this.entriesList.length>this.maxCount){var r=this.entriesList[0];r.destroyFirstPass(),r.destroySecondPass(),this.removeFromCache(r)}},h.prototype.getRow=function(i){if(null==i||null==i.id)return null;var r=this.entriesMap[i.id];return r?(this.removeFromCache(r),r.setCached(!1),r.getRowNode()!=i?null:r):null},h.prototype.removeFromCache=function(i){var r=i.getRowNode().id;delete this.entriesMap[r],on(this.entriesList,i)},h.prototype.getEntries=function(){return this.entriesList},h}(),yO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ni=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},wc=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return yO(i,h),i.prototype.formatValue=function(r,o,u,d,m){void 0===m&&(m=!0);var P,w=null,x=r.getColDef();if(d?P=d:m&&(P=o&&o.rowPinned&&x.pinnedRowValueFormatter?x.pinnedRowValueFormatter:x.valueFormatter),P){var N={value:u,node:o,data:o?o.data:null,colDef:x,column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};w=this.expressionService.evaluate(P,N)}else if(x.refData)return x.refData[u]||"";return null==w&&Array.isArray(u)&&(w=u.join(", ")),w},ni([K("expressionService")],i.prototype,"expressionService",void 0),ni([qe("valueFormatterService")],i)}(Ge),HC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_s=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ef=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return HC(i,h),i.prototype.init=function(){this.setPinnedTopRowData(this.gridOptionsWrapper.getPinnedTopRowData()),this.setPinnedBottomRowData(this.gridOptionsWrapper.getPinnedBottomRowData())},i.prototype.isEmpty=function(r){return zn(r===ge.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows)},i.prototype.isRowsToRender=function(r){return!this.isEmpty(r)},i.prototype.getRowAtPixel=function(r,o){var u=o===ge.PINNED_TOP?this.pinnedTopRows:this.pinnedBottomRows;if(zn(u))return 0;for(var d=0;d<u.length;d++){var m=u[d];if(m.rowTop+m.rowHeight-1>=r)return d}return u.length-1},i.prototype.setPinnedTopRowData=function(r){this.pinnedTopRows=this.createNodesFromData(r,!0),this.eventService.dispatchEvent({type:ne.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.setPinnedBottomRowData=function(r){this.pinnedBottomRows=this.createNodesFromData(r,!1),this.eventService.dispatchEvent({type:ne.EVENT_PINNED_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.createNodesFromData=function(r,o){var u=this,d=[];if(r){var m=0;r.forEach(function(w,P){var x=new _t(u.beans);x.data=w,x.id=(o?_t.ID_PREFIX_TOP_PINNED:_t.ID_PREFIX_BOTTOM_PINNED)+P,x.rowPinned=o?ge.PINNED_TOP:ge.PINNED_BOTTOM,x.setRowTop(m),x.setRowHeight(u.gridOptionsWrapper.getRowHeightForNode(x).height),x.setRowIndex(P),m+=x.rowHeight,d.push(x)})}return d},i.prototype.getPinnedTopRowData=function(){return this.pinnedTopRows},i.prototype.getPinnedBottomRowData=function(){return this.pinnedBottomRows},i.prototype.getPinnedTopTotalHeight=function(){return this.getTotalHeight(this.pinnedTopRows)},i.prototype.getPinnedTopRowCount=function(){return this.pinnedTopRows?this.pinnedTopRows.length:0},i.prototype.getPinnedBottomRowCount=function(){return this.pinnedBottomRows?this.pinnedBottomRows.length:0},i.prototype.getPinnedTopRow=function(r){return this.pinnedTopRows[r]},i.prototype.getPinnedBottomRow=function(r){return this.pinnedBottomRows[r]},i.prototype.forEachPinnedTopRow=function(r){zn(this.pinnedTopRows)||this.pinnedTopRows.forEach(r)},i.prototype.forEachPinnedBottomRow=function(r){zn(this.pinnedBottomRows)||this.pinnedBottomRows.forEach(r)},i.prototype.getPinnedBottomTotalHeight=function(){return this.getTotalHeight(this.pinnedBottomRows)},i.prototype.getTotalHeight=function(r){if(!r||0===r.length)return 0;var o=Jt(r);return o.rowTop+o.rowHeight},_s([K("columnApi")],i.prototype,"columnApi",void 0),_s([K("gridApi")],i.prototype,"gridApi",void 0),_s([K("beans")],i.prototype,"beans",void 0),_s([We],i.prototype,"init",null),_s([qe("pinnedRowModel")],i)}(Ge);!function(h){h.Applied="Applied",h.StoreNotFound="StoreNotFound",h.StoreLoading="StoreLoading",h.StoreWaitingToLoad="StoreWaitingToLoad",h.StoreLoadingFailed="StoreLoadingFailed",h.StoreWrongType="StoreWrongType",h.Cancelled="Cancelled"}(W.ServerSideTransactionResultStatus||(W.ServerSideTransactionResultStatus={}));var Ji=function(){function h(i,r){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=i,this.pathRoot={rowNode:r,children:null},this.mapToItems[r.id]=this.pathRoot}return h.prototype.setInactive=function(){this.active=!1},h.prototype.isActive=function(){return this.active},h.prototype.depthFirstSearchChangedPath=function(i,r){if(i.children)for(var o=0;o<i.children.length;o++)this.depthFirstSearchChangedPath(i.children[o],r);r(i.rowNode)},h.prototype.depthFirstSearchEverything=function(i,r,o){if(i.childrenAfterGroup)for(var u=0;u<i.childrenAfterGroup.length;u++){var d=i.childrenAfterGroup[u];d.childrenAfterGroup?this.depthFirstSearchEverything(i.childrenAfterGroup[u],r,o):o&&r(d)}r(i)},h.prototype.forEachChangedNodeDepthFirst=function(i,r){void 0===r&&(r=!1),this.active?this.depthFirstSearchChangedPath(this.pathRoot,i):this.depthFirstSearchEverything(this.pathRoot.rowNode,i,r)},h.prototype.executeFromRootNode=function(i){i(this.pathRoot.rowNode)},h.prototype.createPathItems=function(i){for(var r=i,o=0;!this.mapToItems[r.id];)this.mapToItems[r.id]={rowNode:r,children:null},o++,r=r.parent;return o},h.prototype.populateColumnsMap=function(i,r){var o=this;if(this.keepingColumns&&r)for(var u=i;u;)this.nodeIdsToColumns[u.id]||(this.nodeIdsToColumns[u.id]={}),r.forEach(function(d){return o.nodeIdsToColumns[u.id][d.getId()]=!0}),u=u.parent},h.prototype.linkPathItems=function(i,r){for(var o=i,u=0;u<r;u++){var d=this.mapToItems[o.id],m=this.mapToItems[o.parent.id];m.children||(m.children=[]),m.children.push(d),o=o.parent}},h.prototype.addParentNode=function(i,r){if(i&&!i.isRowPinned()){var o=this.createPathItems(i);this.linkPathItems(i,o),this.populateColumnsMap(i,r)}},h.prototype.canSkip=function(i){return this.active&&!this.mapToItems[i.id]},h.prototype.getValueColumnsForNode=function(i,r){if(!this.keepingColumns)return r;var o=this.nodeIdsToColumns[i.id];return r.filter(function(d){return o[d.getId()]})},h.prototype.getNotValueColumnsForNode=function(i,r){if(!this.keepingColumns)return null;var o=this.nodeIdsToColumns[i.id];return r.filter(function(d){return!o[d.getId()]})},h}(),Cv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),od=function(h){function i(r){var o=h.call(this)||this;return o.state=i.STATE_WAITING_TO_LOAD,o.version=0,o.id=r,o}return Cv(i,h),i.prototype.getId=function(){return this.id},i.prototype.load=function(){this.state=i.STATE_LOADING,this.loadFromDatasource()},i.prototype.getVersion=function(){return this.version},i.prototype.setStateWaitingToLoad=function(){this.version++,this.state=i.STATE_WAITING_TO_LOAD},i.prototype.getState=function(){return this.state},i.prototype.pageLoadFailed=function(r){this.isRequestMostRecentAndLive(r)&&(this.state=i.STATE_FAILED,this.processServerFail()),this.dispatchLoadCompleted(!1)},i.prototype.success=function(r,o){this.successCommon(r,o)},i.prototype.pageLoaded=function(r,o,u){this.successCommon(r,{rowData:o,rowCount:u})},i.prototype.isRequestMostRecentAndLive=function(r){var o=r===this.version,u=this.isAlive();return o&&u},i.prototype.successCommon=function(r,o){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(r)&&(this.state=i.STATE_LOADED,this.processServerResult(o))},i.prototype.dispatchLoadCompleted=function(r){void 0===r&&(r=!0),this.dispatchEvent({type:i.EVENT_LOAD_COMPLETE,success:r,block:this})},i.EVENT_LOAD_COMPLETE="loadComplete",i.STATE_WAITING_TO_LOAD="needsLoading",i.STATE_LOADING="loading",i.STATE_LOADED="loaded",i.STATE_FAILED="failed",i}(Ge),vl=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tf=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},nr=function(h,i){return function(r,o){i(r,o,h)}},ad=function(h){function i(){var o=null!==h&&h.apply(this,arguments)||this;return o.activeBlockLoadsCount=0,o.blocks=[],o.active=!0,o}var r;return vl(i,h),r=i,i.prototype.postConstruct=function(){this.maxConcurrentRequests=this.gridOptionsWrapper.getMaxConcurrentDatasourceRequests();var o=this.gridOptionsWrapper.getBlockLoadDebounceMillis();o&&o>0&&(this.checkBlockToLoadDebounce=ft.debounce(this.performCheckBlocksToLoad.bind(this),o))},i.prototype.setBeans=function(o){this.logger=o.create("RowNodeBlockLoader")},i.prototype.addBlock=function(o){this.blocks.push(o),o.addEventListener(od.EVENT_LOAD_COMPLETE,this.loadComplete.bind(this)),this.checkBlockToLoad()},i.prototype.removeBlock=function(o){ft.removeFromArray(this.blocks,o)},i.prototype.destroy=function(){h.prototype.destroy.call(this),this.active=!1},i.prototype.loadComplete=function(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),0==this.activeBlockLoadsCount&&this.dispatchEvent({type:r.BLOCK_LOADER_FINISHED_EVENT})},i.prototype.checkBlockToLoad=function(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()},i.prototype.performCheckBlocksToLoad=function(){if(this.active){if(this.printCacheStatus(),null!=this.maxConcurrentRequests&&this.activeBlockLoadsCount>=this.maxConcurrentRequests)return void this.logger.log("checkBlockToLoad: max loads exceeded");var o=null;this.blocks.forEach(function(u){u.getState()===od.STATE_WAITING_TO_LOAD&&(o=u)}),o&&(o.load(),this.activeBlockLoadsCount++,this.printCacheStatus())}},i.prototype.getBlockState=function(){var o={};return this.blocks.forEach(function(u){var d=u.getBlockStateJson();o[d.id]=d.state}),o},i.prototype.printCacheStatus=function(){this.logger.isLogging()&&this.logger.log("printCacheStatus: activePageLoadsCount = "+this.activeBlockLoadsCount+", blocks = "+JSON.stringify(this.getBlockState()))},i.prototype.isLoading=function(){return this.activeBlockLoadsCount>0},i.BLOCK_LOADER_FINISHED_EVENT="blockLoaderFinished",tf([We],i.prototype,"postConstruct",null),tf([nr(0,Er("loggerFactory"))],i.prototype,"setBeans",null),r=tf([qe("rowNodeBlockLoader")],i)}(Ge),At=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ss=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},WC=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.currentPage=0,r.topDisplayedRowIndex=0,r.bottomDisplayedRowIndex=0,r.pixelOffset=0,r.masterRowCount=0,r}return At(i,h),i.prototype.postConstruct=function(){this.active=this.gridOptionsWrapper.isPagination(),this.paginateChildRows=this.gridOptionsWrapper.isPaginateChildRows(),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,this.onModelUpdated.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"paginationPageSize",this.onPaginationPageSizeChanged.bind(this)),this.onModelUpdated()},i.prototype.ensureRowHeightsValid=function(r,o,u,d){var m=this.rowModel.ensureRowHeightsValid(r,o,this.getPageFirstRow(),this.getPageLastRow());return m&&this.calculatePages(),m},i.prototype.onModelUpdated=function(r){this.calculatePages(),this.eventService.dispatchEvent({type:ne.EVENT_PAGINATION_CHANGED,animate:!!r&&r.animate,newData:!!r&&r.newData,newPage:!!r&&r.newPage,keepRenderedRows:!!r&&r.keepRenderedRows,api:this.gridApi,columnApi:this.columnApi})},i.prototype.onPaginationPageSizeChanged=function(){this.calculatePages(),this.eventService.dispatchEvent({type:ne.EVENT_PAGINATION_CHANGED,animate:!1,newData:!1,newPage:!1,keepRenderedRows:!0,api:this.gridApi,columnApi:this.columnApi})},i.prototype.goToPage=function(r){this.active&&this.currentPage!==r&&(this.currentPage=r,this.onModelUpdated({type:ne.EVENT_MODEL_UPDATED,animate:!1,keepRenderedRows:!1,newData:!1,newPage:!0,api:this.gridApi,columnApi:this.columnApi}))},i.prototype.getPixelOffset=function(){return this.pixelOffset},i.prototype.getRow=function(r){return this.rowModel.getRow(r)},i.prototype.getRowNode=function(r){return this.rowModel.getRowNode(r)},i.prototype.getRowIndexAtPixel=function(r){return this.rowModel.getRowIndexAtPixel(r)},i.prototype.getCurrentPageHeight=function(){return b(this.topRowBounds)||b(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)},i.prototype.getCurrentPagePixelRange=function(){return{pageFirstPixel:this.topRowBounds?this.topRowBounds.rowTop:0,pageLastPixel:this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0}},i.prototype.isRowPresent=function(r){return!!this.rowModel.isRowPresent(r)&&r.rowIndex>=this.topDisplayedRowIndex&&r.rowIndex<=this.bottomDisplayedRowIndex},i.prototype.isEmpty=function(){return this.rowModel.isEmpty()},i.prototype.isRowsToRender=function(){return this.rowModel.isRowsToRender()},i.prototype.getNodesInRangeForSelection=function(r,o){return this.rowModel.getNodesInRangeForSelection(r,o)},i.prototype.forEachNode=function(r){return this.rowModel.forEachNode(r)},i.prototype.getType=function(){return this.rowModel.getType()},i.prototype.getRowBounds=function(r){var o=this.rowModel.getRowBounds(r);return o.rowIndex=r,o},i.prototype.getPageFirstRow=function(){return this.topRowBounds?this.topRowBounds.rowIndex:-1},i.prototype.getPageLastRow=function(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1},i.prototype.getRowCount=function(){return this.rowModel.getRowCount()},i.prototype.getPageForIndex=function(r){return Math.floor(r/this.pageSize)},i.prototype.goToPageWithIndex=function(r){if(this.active){var o=this.getPageForIndex(r);this.goToPage(o)}},i.prototype.isRowInPage=function(r){return!this.active||this.getPageForIndex(r.rowIndex)===this.currentPage},i.prototype.isLastPageFound=function(){return this.rowModel.isLastRowIndexKnown()},i.prototype.getCurrentPage=function(){return this.currentPage},i.prototype.goToNextPage=function(){this.goToPage(this.currentPage+1)},i.prototype.goToPreviousPage=function(){this.goToPage(this.currentPage-1)},i.prototype.goToFirstPage=function(){this.goToPage(0)},i.prototype.goToLastPage=function(){var r=this.rowModel.getRowCount(),o=Math.floor(r/this.pageSize);this.goToPage(o)},i.prototype.getPageSize=function(){return this.pageSize},i.prototype.getTotalPages=function(){return this.totalPages},i.prototype.setPageSize=function(){this.pageSize=this.gridOptionsWrapper.getPaginationPageSize(),(null==this.pageSize||this.pageSize<1)&&(this.pageSize=100)},i.prototype.calculatePages=function(){this.active?(this.setPageSize(),this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly()):this.calculatedPagesNotActive(),this.topRowBounds=this.rowModel.getRowBounds(this.topDisplayedRowIndex),this.topRowBounds&&(this.topRowBounds.rowIndex=this.topDisplayedRowIndex),this.bottomRowBounds=this.rowModel.getRowBounds(this.bottomDisplayedRowIndex),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=this.bottomDisplayedRowIndex),this.setPixelOffset(re(this.topRowBounds)?this.topRowBounds.rowTop:0)},i.prototype.setPixelOffset=function(r){this.pixelOffset!==r&&(this.pixelOffset=r,this.eventService.dispatchEvent({type:ne.EVENT_PAGINATION_PIXEL_OFFSET_CHANGED}))},i.prototype.setZeroRows=function(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0},i.prototype.calculatePagesMasterRowsOnly=function(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0)this.setZeroRows();else{var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!ma(this.currentPage)||this.currentPage<0)&&(this.currentPage=0);var u=this.pageSize*(this.currentPage+1)-1;if(u>r&&(u=r),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(this.pageSize*this.currentPage),u===r)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{var d=this.rowModel.getTopLevelRowDisplayedIndex(u+1);this.bottomDisplayedRowIndex=d-1}}},i.prototype.getMasterRowCount=function(){return this.masterRowCount},i.prototype.calculatePagesAllRows=function(){if(this.masterRowCount=this.rowModel.getRowCount(),0!==this.masterRowCount){var r=this.masterRowCount-1;this.totalPages=Math.floor(r/this.pageSize)+1,this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!ma(this.currentPage)||this.currentPage<0)&&(this.currentPage=0),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>r&&(this.bottomDisplayedRowIndex=r)}else this.setZeroRows()},i.prototype.calculatedPagesNotActive=function(){this.pageSize=this.rowModel.getRowCount(),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1},Ss([K("rowModel")],i.prototype,"rowModel",void 0),Ss([K("columnApi")],i.prototype,"columnApi",void 0),Ss([K("gridApi")],i.prototype,"gridApi",void 0),Ss([We],i.prototype,"postConstruct",null),Ss([qe("paginationProxy")],i)}(Ge),jC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gu=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Oo=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return jC(i,h),i.prototype.processAllCellClasses=function(r,o,u,d){this.processClassRules(r.cellClassRules,o,u,d),this.processStaticCellClasses(r,o,u)},i.prototype.processClassRules=function(r,o,u,d){if(null!=r){for(var m=Object.keys(r),w={},P={},x=function(q){var de,ee=m[q],le=r[ee];"string"==typeof le?de=N.expressionService.evaluate(le,o):"function"==typeof le&&(de=le(o)),ee.split(" ").forEach(function(ye){null==ye||""==ye.trim()||(de?w[ye]=!0:P[ye]=!0)})},N=this,k=0;k<m.length;k++)x(k);d&&Object.keys(P).forEach(d),Object.keys(w).forEach(u)}},i.prototype.getStaticCellClasses=function(r,o){var d,u=r.cellClass;return u?("string"==typeof(d="function"==typeof u?u(o):u)&&(d=[d]),d||[]):[]},i.prototype.processStaticCellClasses=function(r,o,u){this.getStaticCellClasses(r,o).forEach(function(m){u(m)})},gu([K("expressionService")],i.prototype,"expressionService",void 0),gu([qe("stylingService")],i)}(Ge),rf=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bn=function(h){function i(r){return h.call(this,r,"ag-radio-button","radio")||this}return rf(i,h),i.prototype.isSelected=function(){return this.eInput.checked},i.prototype.toggle=function(){this.eInput.disabled||this.isSelected()||this.setValue(!0)},i.prototype.addInputListeners=function(){h.prototype.addInputListeners.call(this),this.addManagedListener(this.eventService,ne.EVENT_CHECKBOX_CHANGED,this.onChange.bind(this))},i.prototype.onChange=function(r){r.selected&&r.name&&this.eInput.name&&this.eInput.name===r.name&&r.id&&this.eInput.id!==r.id&&this.setValue(!1,!0)},i}(Fa),sd=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),eo=function(h){function i(r){return h.call(this,r,"ag-toggle-button")||this}return sd(i,h),i.prototype.setValue=function(r,o){return h.prototype.setValue.call(this,r,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this},i}(Fa),UC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),nf=function(h){function i(r,o,u){return void 0===o&&(o="ag-text-field"),void 0===u&&(u="text"),h.call(this,r,o,u)||this}return UC(i,h),i.prototype.postConstruct=function(){h.prototype.postConstruct.call(this),this.config.allowedCharPattern&&this.preventDisallowedCharacters()},i.prototype.setValue=function(r,o){var u=h.prototype.setValue.call(this,r,o);return this.eInput.value!==r&&(this.eInput.value=re(r)?r:""),u},i.prototype.preventDisallowedCharacters=function(){var r=new RegExp("["+this.config.allowedCharPattern+"]");this.addManagedListener(this.eInput,"keypress",function(u){u.key&&!r.test(u.key)&&u.preventDefault()}),this.addManagedListener(this.eInput,"paste",function(u){var d,m=null===(d=u.clipboardData)||void 0===d?void 0:d.getData("text");m&&m.split("").some(function(w){return!r.test(w)})&&u.preventDefault()})},i}(yo),zC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),of=function(h){function i(r){return h.call(this,r,"ag-text-area",null,"textarea")||this}return zC(i,h),i.prototype.setValue=function(r,o){var u=h.prototype.setValue.call(this,r,o);return this.eInput.value=r,u},i.prototype.setCols=function(r){return this.eInput.cols=r,this},i.prototype.setRows=function(r){return this.eInput.rows=r,this},i}(yo),wv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_v=function(h){function i(r){return h.call(this,r,"ag-number-field","number")||this}return wv(i,h),i.prototype.postConstruct=function(){var r=this;h.prototype.postConstruct.call(this),this.addManagedListener(this.eInput,"blur",function(){var o=parseFloat(r.eInput.value),u=isNaN(o)?"":r.normalizeValue(o.toString());r.value!==u&&r.setValue(u)}),this.eInput.step="any"},i.prototype.normalizeValue=function(r){if(""===r)return"";this.precision&&(r=this.adjustPrecision(r));var o=parseFloat(r);return null!=this.min&&o<this.min?r=this.min.toString():null!=this.max&&o>this.max&&(r=this.max.toString()),r},i.prototype.adjustPrecision=function(r){if(this.precision){var o=parseFloat(r).toFixed(this.precision);r=parseFloat(o).toString()}return r},i.prototype.setMin=function(r){return this.min===r||(this.min=r,ga(this.eInput,"min",r)),this},i.prototype.setMax=function(r){return this.max===r||(this.max=r,ga(this.eInput,"max",r)),this},i.prototype.setPrecision=function(r){return this.precision=r,this},i.prototype.setStep=function(r){return this.step===r||(this.step=r,ga(this.eInput,"step",r)),this},i.prototype.setValue=function(r,o){return(r=this.adjustPrecision(r))!=this.normalizeValue(r)?this:h.prototype.setValue.call(this,r,o)},i}(nf),af=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sv=function(h){function i(r){return h.call(this,r,"ag-range-field","range")||this}return af(i,h),i.prototype.postConstruct=function(){h.prototype.postConstruct.call(this);var r=this.config,o=r.min,u=r.max,d=r.step;null!=o&&this.setMinValue(o),null!=u&&this.setMaxValue(u),this.setStep(d||1)},i.prototype.addInputListeners=function(){var r=this;this.addManagedListener(this.eInput,"input",function(o){r.setValue(o.target.value)})},i.prototype.setMinValue=function(r){return this.min=r,this.eInput.setAttribute("min",r.toString()),this},i.prototype.setMaxValue=function(r){return this.max=r,this.eInput.setAttribute("max",r.toString()),this},i.prototype.setStep=function(r){return this.eInput.setAttribute("step",r.toString()),this},i.prototype.setValue=function(r,o){null!=this.min&&(r=Math.max(parseFloat(r),this.min).toString()),null!=this.max&&(r=Math.min(parseFloat(r),this.max).toString());var u=h.prototype.setValue.call(this,r,o);return this.eInput.value=r,u},i}(yo),bv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),sf=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},lf=function(h){function i(r){var o=h.call(this,r,i.TEMPLATE)||this;return o.labelAlignment="top",o}return bv(i,h),i.prototype.init=function(){this.eSlider.addCssClass("ag-slider-field")},i.prototype.onValueChange=function(r){var o=this,u=zo.EVENT_CHANGED;return this.addManagedListener(this.eText,u,function(){var d=parseFloat(o.eText.getValue());o.eSlider.setValue(d.toString(),!0),r(d||0)}),this.addManagedListener(this.eSlider,u,function(){var d=o.eSlider.getValue();o.eText.setValue(d,!0),r(parseFloat(d))}),this},i.prototype.setSliderWidth=function(r){return this.eSlider.setWidth(r),this},i.prototype.setTextFieldWidth=function(r){return this.eText.setWidth(r),this},i.prototype.setMinValue=function(r){return this.eSlider.setMinValue(r),this.eText.setMin(r),this},i.prototype.setMaxValue=function(r){return this.eSlider.setMaxValue(r),this.eText.setMax(r),this},i.prototype.getValue=function(){return this.eText.getValue()},i.prototype.setValue=function(r){return this.getValue()===r||(this.eText.setValue(r,!0),this.eSlider.setValue(r,!0),this.dispatchEvent({type:zo.EVENT_CHANGED})),this},i.prototype.setStep=function(r){return this.eSlider.setStep(r),this.eText.setStep(r),this},i.TEMPLATE='<div class="ag-slider">\n            <label ref="eLabel"></label>\n            <div class="ag-wrapper ag-slider-wrapper">\n                <ag-input-range ref="eSlider"></ag-input-range>\n                <ag-input-number-field ref="eText"></ag-input-number-field>\n            </div>\n        </div>',sf([Ne("eLabel")],i.prototype,"eLabel",void 0),sf([Ne("eSlider")],i.prototype,"eSlider",void 0),sf([Ne("eText")],i.prototype,"eText",void 0),sf([We],i.prototype,"init",null),i}(Ku),$C=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ld=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},uf=function(h){function i(r){var o=h.call(this,r,i.TEMPLATE)||this;return o.radius=0,o.offsetX=0,o.offsetY=0,o}return $C(i,h),i.prototype.postConstruct=function(){var r=this;h.prototype.postConstruct.call(this),this.dragListener={eElement:this.eParentCircle,dragStartPixels:0,onDragStart:function(o){r.parentCircleRect=r.eParentCircle.getBoundingClientRect()},onDragging:function(o){return r.calculateAngleDrag(o)},onDragStop:function(){}},this.dragService.addDragSource(this.dragListener),this.eAngleValue.setLabel("").setLabelWidth(5).setInputWidth(45).setMin(0).setMax(360).setValue(""+this.degrees).onValueChange(function(o){(null==o||""===o)&&(o="0"),o=r.eAngleValue.normalizeValue(o);var u=parseFloat(o);u>180&&(u-=360),r.setValue(u)}),this.updateNumberInput(),re(this.getValue())&&this.eAngleValue.setValue(this.normalizeNegativeValue(this.getValue()).toString()),this.addManagedListener(this,zo.EVENT_CHANGED,function(){var o=r.gridOptionsWrapper.getDocument();r.eAngleValue.getInputElement().contains(o.activeElement)||r.updateNumberInput()})},i.prototype.updateNumberInput=function(){var r=this.normalizeNegativeValue(this.getValue());this.eAngleValue.setValue(r.toString())},i.prototype.positionChildCircle=function(r){var o=this.parentCircleRect||{width:24,height:24},u=this.eChildCircle,m=o.height/2;u.style.left=o.width/2+8*Math.cos(r)+"px",u.style.top=m+8*Math.sin(r)+"px"},i.prototype.calculatePolar=function(){var r=this.offsetX,o=this.offsetY,u=Math.atan2(o,r);this.degrees=this.toDegrees(u),this.radius=Math.sqrt(r*r+o*o),this.positionChildCircle(u)},i.prototype.calculateCartesian=function(){var r=this.toRadians(this.getValue()),o=this.getRadius();this.setOffsetX(Math.cos(r)*o).setOffsetY(Math.sin(r)*o)},i.prototype.setOffsetX=function(r){return this.offsetX!==r&&(this.offsetX=r,this.calculatePolar()),this},i.prototype.setOffsetY=function(r){return this.offsetY!==r&&(this.offsetY=r,this.calculatePolar()),this},i.prototype.calculateAngleDrag=function(r){var o=this.parentCircleRect,N=Math.atan2(r.clientY-o.top-o.height/2,r.clientX-o.left-o.width/2);this.setValue(N,!0)},i.prototype.toDegrees=function(r){return r/Math.PI*180},i.prototype.toRadians=function(r){return r/180*Math.PI},i.prototype.normalizeNegativeValue=function(r){return r<0?360+r:r},i.prototype.normalizeAngle180=function(r){return(r%=2*Math.PI)<-Math.PI?r+=2*Math.PI:r>=Math.PI&&(r-=2*Math.PI),r},i.prototype.getRadius=function(){return this.radius},i.prototype.setRadius=function(r){return this.radius===r||(this.radius=r,this.calculateCartesian()),this},i.prototype.onValueChange=function(r){var o=this;return this.addManagedListener(this,zo.EVENT_CHANGED,function(){r(o.degrees)}),this},i.prototype.getValue=function(r){return r?this.toRadians(this.degrees):this.degrees},i.prototype.setValue=function(r,o){var u;return u=o?r:this.normalizeAngle180(this.toRadians(r)),r=this.toDegrees(u),this.degrees!==r&&(this.degrees=Math.floor(r),this.calculateCartesian(),this.positionChildCircle(u),this.dispatchEvent({type:zo.EVENT_CHANGED})),this},i.prototype.setWidth=function(r){return zt(this.getGui(),r),this},i.prototype.destroy=function(){this.dragService.removeDragSource(this.dragListener),h.prototype.destroy.call(this)},i.TEMPLATE='<div class="ag-angle-select">\n            <div ref="eLabel"></div>\n            <div class="ag-wrapper ag-angle-select-wrapper">\n                <div ref="eAngleSelectField" class="ag-angle-select-field">\n                    <div ref="eParentCircle" class="ag-angle-select-parent-circle">\n                        <div ref="eChildCircle" class="ag-angle-select-child-circle"></div>\n                    </div>\n                </div>\n                <ag-input-number-field ref="eAngleValue"></ag-input-number-field>\n            </div>\n        </div>',ld([Ne("eLabel")],i.prototype,"eLabel",void 0),ld([Ne("eParentCircle")],i.prototype,"eParentCircle",void 0),ld([Ne("eChildCircle")],i.prototype,"eChildCircle",void 0),ld([Ne("eAngleValue")],i.prototype,"eAngleValue",void 0),ld([K("dragService")],i.prototype,"dragService",void 0),i}(Ku),BS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Pi=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ev=function(h){function i(r){var o=h.call(this,i.TEMPLATE)||this;return o.H=1,o.S=1,o.B=1,o.A=1,o.isSpectrumDragging=!1,o.isSpectrumHueDragging=!1,o.isSpectrumAlphaDragging=!1,o.colorChanged=!1,o.picker=r.picker,o}return BS(i,h),i.prototype.postConstruct=function(){var r=this.getGui();this.initRecentColors(),this.addManagedListener(this.spectrumVal,"mousedown",this.onSpectrumDraggerDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumDraggerMove.bind(this)),this.addManagedListener(this.spectrumHue,"mousedown",this.onSpectrumHueDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumHueMove.bind(this)),this.addManagedListener(this.spectrumAlpha,"mousedown",this.onSpectrumAlphaDown.bind(this)),this.addManagedListener(r,"mousemove",this.onSpectrumAlphaMove.bind(this)),this.addManagedListener(document,"mouseup",this.onMouseUp.bind(this)),this.addManagedListener(this.recentColors,"click",this.onRecentColorClick.bind(this))},i.prototype.refreshSpectrumRect=function(){return this.spectrumValRect=this.spectrumVal.getBoundingClientRect()},i.prototype.refreshHueRect=function(){return this.spectrumHueRect=this.spectrumHue.getBoundingClientRect()},i.prototype.refreshAlphaRect=function(){return this.spectrumAlphaRect=this.spectrumAlpha.getBoundingClientRect()},i.prototype.onSpectrumDraggerDown=function(r){this.refreshSpectrumRect(),this.isSpectrumDragging=!0,this.moveDragger(r)},i.prototype.onSpectrumDraggerMove=function(r){this.isSpectrumDragging&&this.moveDragger(r)},i.prototype.onSpectrumHueDown=function(r){this.refreshHueRect(),this.isSpectrumHueDragging=!0,this.moveHueSlider(r)},i.prototype.onSpectrumHueMove=function(r){this.isSpectrumHueDragging&&this.moveHueSlider(r)},i.prototype.onSpectrumAlphaDown=function(r){this.refreshAlphaRect(),this.isSpectrumAlphaDragging=!0,this.moveAlphaSlider(r)},i.prototype.onSpectrumAlphaMove=function(r){this.isSpectrumAlphaDragging&&this.moveAlphaSlider(r)},i.prototype.onMouseUp=function(){this.isSpectrumDragging=!1,this.isSpectrumHueDragging=!1,this.isSpectrumAlphaDragging=!1},i.prototype.moveDragger=function(r){var o=this.spectrumValRect;if(o){var u=r.clientX-o.left,d=r.clientY-o.top;u=Math.max(u,0),u=Math.min(u,o.width),d=Math.max(d,0),d=Math.min(d,o.height),this.setSpectrumValue(u/o.width,1-d/o.height)}},i.prototype.moveHueSlider=function(r){var o=this.spectrumHueRect;if(o){var u=this.spectrumHueSlider,d=u.getBoundingClientRect(),m=r.clientX-o.left;m=Math.max(m,0),m=Math.min(m,o.width),this.H=1-m/o.width,u.style.left=m+d.width/2+"px",this.update()}},i.prototype.moveAlphaSlider=function(r){var o=this.spectrumAlphaRect;if(o){var u=this.spectrumAlphaSlider,d=u.getBoundingClientRect(),m=r.clientX-o.left;m=Math.max(m,0),m=Math.min(m,o.width),this.A=m/o.width,u.style.left=m+d.width/2+"px",this.update()}},i.prototype.update=function(){var r=Us.fromHSB(360*this.H,this.S,this.B,this.A),o=Us.fromHSB(360*this.H,1,1),u=r.toRgbaString(),d=this.picker;Us.fromString(d.getValue()).toRgbaString()!==u&&(this.colorChanged=!0),d.setValue(u),this.spectrumColor.style.backgroundColor=o.toRgbaString(),this.spectrumDragger.style.backgroundColor=u},i.prototype.setSpectrumValue=function(r,o){var u=this.spectrumValRect||this.refreshSpectrumRect();if(u){var d=this.spectrumDragger,m=d.getBoundingClientRect();r=Math.max(0,r),r=Math.min(1,r),o=Math.max(0,o),o=Math.min(1,o),this.S=r,this.B=o,d.style.left=r*u.width-m.width/2+"px",d.style.top=(1-o)*u.height-m.height/2+"px",this.update()}},i.prototype.initRecentColors=function(){var o=i.recentColors.map(function(u,d){return'<div class="ag-recent-color" id='+d+' style="background-color: '+u+'; width: 15px; height: 15px;" recent-color="'+u+'"></div>'});this.recentColors.innerHTML=o.join("")},i.prototype.setValue=function(r){var o=Us.fromString(r),u=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d}(o.toHSB(),3),d=u[0],m=u[1],w=u[2];this.H=(isNaN(d)?0:d)/360,this.A=o.a;var P=this.spectrumHueRect||this.refreshHueRect(),x=this.spectrumAlphaRect||this.refreshAlphaRect();this.spectrumHueSlider.style.left=(this.H-1)*-P.width+"px",this.spectrumAlphaSlider.style.left=this.A*x.width+"px",this.setSpectrumValue(m,w)},i.prototype.onRecentColorClick=function(r){var o=r.target;if(re(o.id)){var u=parseInt(o.id,10);this.setValue(i.recentColors[u]),this.destroy()}},i.prototype.addRecentColor=function(){var o=Us.fromHSB(360*this.H,this.S,this.B,this.A).toRgbaString(),u=i.recentColors;!this.colorChanged||u[0]===o||(u=u.filter(function(d){return d!=o}),(u=[o].concat(u)).length>i.maxRecentColors&&(u=u.slice(0,i.maxRecentColors)),i.recentColors=u)},i.prototype.destroy=function(){this.addRecentColor(),h.prototype.destroy.call(this)},i.maxRecentColors=8,i.recentColors=[],i.TEMPLATE='<div class="ag-color-panel">\n            <div ref="spectrumColor" class="ag-spectrum-color">\n                <div class="ag-spectrum-sat ag-spectrum-fill">\n                    <div ref="spectrumVal" class="ag-spectrum-val ag-spectrum-fill">\n                        <div ref="spectrumDragger" class="ag-spectrum-dragger"></div>\n                    </div>\n                </div>\n            </div>\n            <div class="ag-spectrum-tools">\n                <div ref="spectrumHue" class="ag-spectrum-hue ag-spectrum-tool">\n                    <div class="ag-spectrum-hue-background"></div>\n                    <div ref="spectrumHueSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="spectrumAlpha" class="ag-spectrum-alpha ag-spectrum-tool">\n                    <div class="ag-spectrum-alpha-background"></div>\n                    <div ref="spectrumAlphaSlider" class="ag-spectrum-slider"></div>\n                </div>\n                <div ref="recentColors" class="ag-recent-colors"></div>\n            </div>\n        </div>',Pi([Ne("spectrumColor")],i.prototype,"spectrumColor",void 0),Pi([Ne("spectrumVal")],i.prototype,"spectrumVal",void 0),Pi([Ne("spectrumDragger")],i.prototype,"spectrumDragger",void 0),Pi([Ne("spectrumHue")],i.prototype,"spectrumHue",void 0),Pi([Ne("spectrumHueSlider")],i.prototype,"spectrumHueSlider",void 0),Pi([Ne("spectrumAlpha")],i.prototype,"spectrumAlpha",void 0),Pi([Ne("spectrumAlphaSlider")],i.prototype,"spectrumAlphaSlider",void 0),Pi([Ne("recentColors")],i.prototype,"recentColors",void 0),Pi([We],i.prototype,"postConstruct",null),i}(Rt),Ov=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ud=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ii=function(h){function i(r){var o=h.call(this,i.getTemplate(r))||this;return o.closable=!0,o.config=r,o}return Ov(i,h),i.getTemplate=function(r){var o=r&&r.cssIdentifier||"default";return'<div class="ag-panel ag-'+o+'-panel" tabindex="-1">\n            <div ref="eTitleBar" class="ag-panel-title-bar ag-'+o+'-panel-title-bar ag-unselectable">\n                <span ref="eTitle" class="ag-panel-title-bar-title ag-'+o+'-panel-title-bar-title"></span>\n                <div ref="eTitleBarButtons" class="ag-panel-title-bar-buttons ag-'+o+'-panel-title-bar-buttons"></div>\n            </div>\n            <div ref="eContentWrapper" class="ag-panel-content-wrapper ag-'+o+'-panel-content-wrapper"></div>\n        </div>'},i.prototype.postConstruct=function(){var r=this,o=this.config,u=o.component,d=o.closable,m=o.hideTitleBar,w=o.title,P=o.minWidth,x=void 0===P?250:P,N=o.width,k=o.minHeight,q=void 0===k?250:k,ee=o.height,le=o.centered,de=o.popup,ye=o.x,xe=o.y;this.positionableFeature=new id(this.getGui(),{minWidth:x,width:N,minHeight:q,height:ee,centered:le,x:ye,y:xe,popup:de,calculateTopBuffer:function(){return r.positionableFeature.getHeight()-r.getBodyHeight()}}),this.createManagedBean(this.positionableFeature);var Oe=this.getGui();u&&this.setBodyComponent(u),m?this.eTitleBar.classList.add("ag-hidden"):(w&&this.setTitle(w),this.setClosable(null!=d?d:this.closable)),this.addManagedListener(this.eTitleBar,"mousedown",function(Ee){var $e=r.gridOptionsWrapper.getDocument();if(Oe.contains(Ee.relatedTarget)||Oe.contains($e.activeElement)||r.eTitleBarButtons.contains(Ee.target))Ee.preventDefault();else{var pt=r.eContentWrapper.querySelector("button, [href], input, select, textarea, [tabindex]");pt&&pt.focus()}}),(!de||!this.positionableFeature.isPositioned())&&(this.renderComponent&&this.renderComponent(),this.positionableFeature.initialisePosition(),this.eContentWrapper.style.height="0")},i.prototype.renderComponent=function(){var r=this,o=this.getGui();o.focus(),this.close=function(){o.parentElement.removeChild(o),r.destroy()}},i.prototype.getHeight=function(){return this.positionableFeature.getHeight()},i.prototype.setHeight=function(r){this.positionableFeature.setHeight(r)},i.prototype.getWidth=function(){return this.positionableFeature.getWidth()},i.prototype.setWidth=function(r){this.positionableFeature.setWidth(r)},i.prototype.setClosable=function(r){if(r!==this.closable&&(this.closable=r),r){var o=this.closeButtonComp=new Rt(i.CLOSE_BTN_TEMPLATE);this.getContext().createBean(o);var u=o.getGui(),d=Fr("close",this.gridOptionsWrapper);d.classList.add("ag-panel-title-bar-button-icon"),u.appendChild(d),this.addTitleBarButton(o),o.addManagedListener(u,"click",this.onBtClose.bind(this))}else this.closeButtonComp&&((u=this.closeButtonComp.getGui()).parentElement.removeChild(u),this.closeButtonComp=this.destroyBean(this.closeButtonComp))},i.prototype.setBodyComponent=function(r){r.setParentComponent(this),this.eContentWrapper.appendChild(r.getGui())},i.prototype.addTitleBarButton=function(r,o){var u=this.eTitleBarButtons,d=u.children,m=d.length;null==o&&(o=m),o=Math.max(0,Math.min(o,m)),r.addCssClass("ag-panel-title-bar-button");var w=r.getGui();0===o?u.insertAdjacentElement("afterbegin",w):o===m?u.insertAdjacentElement("beforeend",w):d[o-1].insertAdjacentElement("afterend",w),r.setParentComponent(this)},i.prototype.getBodyHeight=function(){return Vi(this.eContentWrapper)},i.prototype.getBodyWidth=function(){return Ve(this.eContentWrapper)},i.prototype.setTitle=function(r){this.eTitle.innerText=r},i.prototype.onBtClose=function(){this.close()},i.prototype.destroy=function(){this.closeButtonComp&&(this.closeButtonComp=this.destroyBean(this.closeButtonComp));var r=this.getGui();r&&r.offsetParent&&this.close(),h.prototype.destroy.call(this)},i.CLOSE_BTN_TEMPLATE='<div class="ag-button"></div>',ud([Ne("eContentWrapper")],i.prototype,"eContentWrapper",void 0),ud([Ne("eTitleBar")],i.prototype,"eTitleBar",void 0),ud([Ne("eTitleBarButtons")],i.prototype,"eTitleBarButtons",void 0),ud([Ne("eTitle")],i.prototype,"eTitle",void 0),ud([We],i.prototype,"postConstruct",null),i}(Rt),KC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rv=function(){return Rv=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},Rv.apply(this,arguments)},cd=function(h){function i(r){var o=h.call(this,Rv(Rv({},r),{popup:!0}))||this;return o.isMaximizable=!1,o.isMaximized=!1,o.maximizeListeners=[],o.resizeListenerDestroy=null,o.lastPosition={x:0,y:0,width:0,height:0},o}return KC(i,h),i.prototype.postConstruct=function(){var r=this,o=this.getGui(),u=this.config,d=u.movable,m=u.resizable,w=u.maximizable;this.addCssClass("ag-dialog"),h.prototype.postConstruct.call(this),this.addManagedListener(o,"focusin",function(P){o.contains(P.relatedTarget)||r.popupService.bringPopupToFront(o)}),d&&this.setMovable(d),w&&this.setMaximizable(w),m&&this.setResizable(m)},i.prototype.renderComponent=function(){var r=this.getGui(),o=this.config,u=o.alwaysOnTop,d=o.modal,m=o.title,w=this.gridOptionsWrapper.getLocaleTextFunc(),P=this.popupService.addPopup({modal:d,eChild:r,closeOnEsc:!0,closedCallback:this.destroy.bind(this),alwaysOnTop:u,ariaLabel:m||w("ariaLabelDialog","Dialog")});P&&(this.close=P.hideFunc)},i.prototype.toggleMaximize=function(){var r=this.positionableFeature.getPosition();if(this.isMaximized){var o=this.lastPosition,u=o.x,d=o.y,w=o.height;this.setWidth(o.width),this.setHeight(w),this.positionableFeature.offsetElement(u,d)}else this.lastPosition.width=this.getWidth(),this.lastPosition.height=this.getHeight(),this.lastPosition.x=r.x,this.lastPosition.y=r.y,this.positionableFeature.offsetElement(0,0),this.setHeight("100%"),this.setWidth("100%");this.isMaximized=!this.isMaximized,this.refreshMaximizeIcon()},i.prototype.refreshMaximizeIcon=function(){ar(this.maximizeIcon,!this.isMaximized),ar(this.minimizeIcon,this.isMaximized)},i.prototype.clearMaximizebleListeners=function(){this.maximizeListeners.length&&(this.maximizeListeners.forEach(function(r){return r()}),this.maximizeListeners.length=0),this.resizeListenerDestroy&&(this.resizeListenerDestroy(),this.resizeListenerDestroy=null)},i.prototype.destroy=function(){this.maximizeButtonComp=this.destroyBean(this.maximizeButtonComp),this.clearMaximizebleListeners(),h.prototype.destroy.call(this)},i.prototype.setResizable=function(r){this.positionableFeature.setResizable(r)},i.prototype.setMovable=function(r){this.positionableFeature.setMovable(r,this.eTitleBar)},i.prototype.setMaximizable=function(r){var o=this;if(!r)return this.clearMaximizebleListeners(),void(this.maximizeButtonComp&&(this.destroyBean(this.maximizeButtonComp),this.maximizeButtonComp=this.maximizeIcon=this.minimizeIcon=void 0));var u=this.eTitleBar;if(u&&r!==this.isMaximizable){var d=this.maximizeButtonComp=this.createBean(new Rt('<div class="ag-dialog-button"></span>')),m=d.getGui();m.appendChild(this.maximizeIcon=Fr("maximize",this.gridOptionsWrapper)),this.maximizeIcon.classList.add("ag-panel-title-bar-button-icon"),m.appendChild(this.minimizeIcon=Fr("minimize",this.gridOptionsWrapper)),this.minimizeIcon.classList.add("ag-panel-title-bar-button-icon","ag-hidden"),d.addManagedListener(m,"click",this.toggleMaximize.bind(this)),this.addTitleBarButton(d,0),this.maximizeListeners.push(this.addManagedListener(u,"dblclick",this.toggleMaximize.bind(this))),this.resizeListenerDestroy=this.addManagedListener(this,"resize",function(){o.isMaximized=!1,o.refreshMaximizeIcon()})}},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([K("popupService")],i.prototype,"popupService",void 0),i}(ii),ka=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ro=function(h){function i(r){var o=h.call(this,r,"ag-color-picker","colorPicker")||this;return r&&r.color&&(o.value=r.color),o}return ka(i,h),i.prototype.postConstruct=function(){h.prototype.postConstruct.call(this),this.value&&this.setValue(this.value)},i.prototype.showPicker=function(){var r=this,o=this.getGui().getBoundingClientRect(),u=this.createBean(new cd({closable:!1,modal:!0,hideTitleBar:!0,minWidth:190,width:190,height:250,x:o.right-190,y:o.top-250}));this.isPickerDisplayed=!0,u.addCssClass("ag-color-dialog"),wi(this.eWrapper,!0);var d=this.createBean(new Ev({picker:this}));return d.addDestroyFunc(function(){u.isAlive()&&r.destroyBean(u)}),u.setParentComponent(this),u.setBodyComponent(d),d.setValue(this.getValue()),u.addDestroyFunc(function(){r.isDestroyingPicker?r.isDestroyingPicker=!1:(r.isDestroyingPicker=!0,d.isAlive()&&r.destroyBean(d)),r.isAlive()&&(wi(r.eWrapper,!1),r.getFocusableElement().focus()),r.isPickerDisplayed=!1}),u},i.prototype.setValue=function(r){return this.value===r?this:(this.eDisplayField.style.backgroundColor=r,h.prototype.setValue.call(this,r))},i.prototype.getValue=function(){return this.value},i}(el),bs=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ti=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},pd=function(h){function i(r){void 0===r&&(r={});var o=h.call(this,i.getTemplate(r))||this;o.suppressEnabledCheckbox=!0,o.suppressOpenCloseIcons=!1;var d=r.enabled,m=r.items,w=r.suppressEnabledCheckbox,P=r.suppressOpenCloseIcons;return o.title=r.title,o.cssIdentifier=r.cssIdentifier||"default",o.enabled=null==d||d,o.items=m||[],o.alignItems=r.alignItems||"center",null!=w&&(o.suppressEnabledCheckbox=w),null!=P&&(o.suppressOpenCloseIcons=P),o}return bs(i,h),i.getTemplate=function(r){var o=r.cssIdentifier||"default";return'<div class="ag-group ag-'+o+'-group" role="presentation">\n            <div class="ag-group-title-bar ag-'+o+'-group-title-bar ag-unselectable" ref="eTitleBar" role="button">\n                <span class="ag-group-title-bar-icon ag-'+o+'-group-title-bar-icon" ref="eGroupOpenedIcon" role="presentation"></span>\n                <span class="ag-group-title-bar-icon ag-'+o+'-group-title-bar-icon" ref="eGroupClosedIcon" role="presentation"></span>\n                <span ref="eTitle" class="ag-group-title ag-'+o+'-group-title"></span>\n            </div>\n            <div ref="eToolbar" class="ag-group-toolbar ag-'+o+'-group-toolbar">\n                <ag-checkbox ref="cbGroupEnabled"></ag-checkbox>\n            </div>\n            <div ref="eContainer" class="ag-group-container ag-group-container-'+(r.direction||"vertical")+" ag-"+o+'-group-container"></div>\n        </div>'},i.prototype.postConstruct=function(){if(this.items.length){var r=this.items;this.items=[],this.addItems(r)}var o=this.gridOptionsWrapper.getLocaleTextFunc();this.cbGroupEnabled.setLabel(o("enabled","Enabled")),this.title&&this.setTitle(this.title),this.enabled&&this.setEnabled(this.enabled),this.setAlignItems(this.alignItems),this.hideEnabledCheckbox(this.suppressEnabledCheckbox),this.hideOpenCloseIcons(this.suppressOpenCloseIcons),this.setupExpandContract(),this.refreshAriaStatus(),this.refreshChildDisplay()},i.prototype.setupExpandContract=function(){var r=this;this.eGroupClosedIcon.appendChild(fo("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(fo("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eTitleBar,"click",function(){return r.toggleGroupExpand()}),this.addManagedListener(this.eTitleBar,"keydown",function(o){switch(o.key){case Ie.ENTER:case Ie.SPACE:o.preventDefault(),r.toggleGroupExpand();break;case Ie.RIGHT:case Ie.LEFT:o.preventDefault(),r.toggleGroupExpand(o.key===Ie.RIGHT)}})},i.prototype.refreshAriaStatus=function(){this.suppressOpenCloseIcons||wi(this.eTitleBar,this.expanded)},i.prototype.refreshChildDisplay=function(){var r=!this.suppressOpenCloseIcons;ar(this.eToolbar,this.expanded&&!this.suppressEnabledCheckbox),ar(this.eGroupOpenedIcon,r&&this.expanded),ar(this.eGroupClosedIcon,r&&!this.expanded)},i.prototype.isExpanded=function(){return this.expanded},i.prototype.setAlignItems=function(r){return this.alignItems!==r&&this.removeCssClass("ag-group-item-alignment-"+this.alignItems),this.alignItems=r,this.addCssClass("ag-group-item-alignment-"+this.alignItems),this},i.prototype.toggleGroupExpand=function(r){return this.suppressOpenCloseIcons?(this.expanded=!0,this.refreshChildDisplay(),ar(this.eContainer,!0),this):(this.expanded===(r=null!=r?r:!this.expanded)||(this.expanded=r,this.refreshAriaStatus(),this.refreshChildDisplay(),ar(this.eContainer,r),this.dispatchEvent({type:this.expanded?i.EVENT_EXPANDED:i.EVENT_COLLAPSED})),this)},i.prototype.addItems=function(r){var o=this;r.forEach(function(u){return o.addItem(u)})},i.prototype.addItem=function(r){var o=this.eContainer,u=r instanceof Rt?r.getGui():r;u.classList.add("ag-group-item","ag-"+this.cssIdentifier+"-group-item"),o.appendChild(u),this.items.push(u)},i.prototype.hideItem=function(r,o){this.items[o].classList.toggle("ag-hidden",r)},i.prototype.setTitle=function(r){return this.eTitle.innerText=r,this},i.prototype.addCssClassToTitleBar=function(r){this.eTitleBar.classList.add(r)},i.prototype.setEnabled=function(r,o){return this.enabled=r,this.refreshDisabledStyles(),this.toggleGroupExpand(r),o||this.cbGroupEnabled.setValue(r),this},i.prototype.isEnabled=function(){return this.enabled},i.prototype.onEnableChange=function(r){var o=this;return this.cbGroupEnabled.onValueChange(function(u){o.setEnabled(u,!0),r(u)}),this},i.prototype.hideEnabledCheckbox=function(r){return this.suppressEnabledCheckbox=r,this.refreshChildDisplay(),this.refreshDisabledStyles(),this},i.prototype.hideOpenCloseIcons=function(r){return this.suppressOpenCloseIcons=r,r&&this.toggleGroupExpand(!0),this},i.prototype.refreshDisabledStyles=function(){this.addOrRemoveCssClass("ag-disabled",!this.enabled),this.suppressEnabledCheckbox&&!this.enabled?(this.eTitleBar.classList.add("ag-disabled-group-title-bar"),this.eTitleBar.removeAttribute("tabindex")):(this.eTitleBar.classList.remove("ag-disabled-group-title-bar"),this.eTitleBar.setAttribute("tabindex","0")),this.eContainer.classList.toggle("ag-disabled-group-container",!this.enabled)},i.EVENT_EXPANDED="expanded",i.EVENT_COLLAPSED="collapsed",Ti([Ne("eTitleBar")],i.prototype,"eTitleBar",void 0),Ti([Ne("eGroupOpenedIcon")],i.prototype,"eGroupOpenedIcon",void 0),Ti([Ne("eGroupClosedIcon")],i.prototype,"eGroupClosedIcon",void 0),Ti([Ne("eToolbar")],i.prototype,"eToolbar",void 0),Ti([Ne("cbGroupEnabled")],i.prototype,"cbGroupEnabled",void 0),Ti([Ne("eTitle")],i.prototype,"eTitle",void 0),Ti([Ne("eContainer")],i.prototype,"eContainer",void 0),Ti([We],i.prototype,"postConstruct",null),i}(Rt),YC=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),dd=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},qC=function(h){function i(r){var o=h.call(this)||this;o.skipTabGuardFocus=!1;var d=r.eTopGuard,m=r.eBottomGuard,w=r.focusInnerElement,P=r.onFocusIn,x=r.onFocusOut,N=r.shouldStopEventPropagation,k=r.onTabKeyDown,q=r.handleKeyDown,ee=r.eFocusableElement;return o.comp=r.comp,o.eTopGuard=d,o.eBottomGuard=m,o.providedFocusInnerElement=w,o.eFocusableElement=ee,o.providedFocusIn=P,o.providedFocusOut=x,o.providedShouldStopEventPropagation=N,o.providedOnTabKeyDown=k,o.providedHandleKeyDown=q,o}return YC(i,h),i.prototype.postConstruct=function(){var r=this;this.createManagedBean(new Uo(this.eFocusableElement,{shouldStopEventPropagation:function(){return r.shouldStopEventPropagation()},onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)},onFocusIn:function(o){return r.onFocusIn(o)},onFocusOut:function(o){return r.onFocusOut(o)}})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(function(o){return r.addManagedListener(o,"focus",r.onFocus.bind(r))})},i.prototype.handleKeyDown=function(r){this.providedHandleKeyDown&&this.providedHandleKeyDown(r)},i.prototype.tabGuardsAreActive=function(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")},i.prototype.shouldStopEventPropagation=function(){return!!this.providedShouldStopEventPropagation&&this.providedShouldStopEventPropagation()},i.prototype.activateTabGuards=function(){this.comp.setTabIndex(this.getGridTabIndex())},i.prototype.deactivateTabGuards=function(){this.comp.setTabIndex()},i.prototype.onFocus=function(r){if(this.skipTabGuardFocus)this.skipTabGuardFocus=!1;else{var o=r.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)}},i.prototype.onFocusIn=function(r){this.providedFocusIn&&this.providedFocusIn(r)||this.deactivateTabGuards()},i.prototype.onFocusOut=function(r){this.providedFocusOut&&this.providedFocusOut(r)||this.eFocusableElement.contains(r.relatedTarget)||this.activateTabGuards()},i.prototype.onTabKeyDown=function(r){var o=this;if(this.providedOnTabKeyDown)this.providedOnTabKeyDown(r);else if(!r.defaultPrevented){var u=this.tabGuardsAreActive();u&&this.deactivateTabGuards();var d=this.getNextFocusableElement(r.shiftKey);u&&setTimeout(function(){return o.activateTabGuards()},0),d&&(d.focus(),r.preventDefault())}},i.prototype.getGridTabIndex=function(){return this.gridOptionsWrapper.getGridTabIndex()},i.prototype.focusInnerElement=function(r){void 0===r&&(r=!1);var o=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(o.splice(0,1),o.splice(o.length-1,1)),o.length&&o[r?o.length-1:0].focus()},i.prototype.getNextFocusableElement=function(r){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,r)},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1);var o=r?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,o.focus()},dd([K("focusService")],i.prototype,"focusService",void 0),dd([We],i.prototype,"postConstruct",null),i}(Ge),WS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),XC=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},hd=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return WS(i,h),i.prototype.initialiseTabGuard=function(r){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.getFocusableElement();var o=[this.eTopGuard,this.eBottomGuard],u={setTabIndex:function(d){o.forEach(function(m){return null!=d?m.setAttribute("tabIndex",d):m.removeAttribute("tabIndex")})}};this.addTabGuards(this.eTopGuard,this.eBottomGuard),this.tabGuardCtrl=this.createManagedBean(new qC({comp:u,eTopGuard:this.eTopGuard,eBottomGuard:this.eBottomGuard,eFocusableElement:this.eFocusableElement,onFocusIn:r.onFocusIn,onFocusOut:r.onFocusOut,focusInnerElement:r.focusInnerElement,handleKeyDown:r.handleKeyDown,onTabKeyDown:r.onTabKeyDown,shouldStopEventPropagation:r.shouldStopEventPropagation}))},i.prototype.createTabGuard=function(r){var o=document.createElement("div");return o.classList.add("ag-tab-guard","ag-tab-guard-"+r),On(o,"presentation"),o},i.prototype.addTabGuards=function(r,o){this.eFocusableElement.insertAdjacentElement("afterbegin",r),this.eFocusableElement.insertAdjacentElement("beforeend",o)},i.prototype.removeAllChildrenExceptTabGuards=function(){var r=[this.eTopGuard,this.eBottomGuard];Ln(this.getFocusableElement()),this.addTabGuards.apply(this,function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(XC(arguments[i]));return h}(r))},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.tabGuardCtrl.forceFocusOutOfContainer(r)},i.prototype.appendChild=function(r,o){os(r)||(r=r.getGui());var u=this.eBottomGuard;u?u.insertAdjacentElement("beforebegin",r):h.prototype.appendChild.call(this,r,o)},i}(Rt),Va=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_c=function(){return _c=Object.assign||function(h){for(var i,r=1,o=arguments.length;r<o;r++)for(var u in i=arguments[r])Object.prototype.hasOwnProperty.call(i,u)&&(h[u]=i[u]);return h},_c.apply(this,arguments)},ZC=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},JC=function(h){function i(r){void 0===r&&(r=1);var o=h.call(this,'<div class="ag-menu-list" role="tree"></div>')||this;return o.level=r,o.menuItems=[],o}return Va(i,h),i.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)}})},i.prototype.onTabKeyDown=function(r){var o=this.getParentComponent(),u=o&&o.getGui();u&&u.classList.contains("ag-focus-managed")||r.preventDefault(),r.shiftKey&&this.closeIfIsChild(r)},i.prototype.handleKeyDown=function(r){switch(r.key){case Ie.UP:case Ie.RIGHT:case Ie.DOWN:case Ie.LEFT:r.preventDefault(),this.handleNavKey(r.key);break;case Ie.ESCAPE:var o=this.findTopMenu();o&&this.focusService.focusInto(o.getGui())}},i.prototype.clearActiveItem=function(){this.activeMenuItem&&(this.activeMenuItem.deactivate(),this.activeMenuItem=null)},i.prototype.addMenuItems=function(r){var o=this;null!=r&&r.forEach(function(u){"separator"===u?o.addSeparator():"string"==typeof u?console.warn("AG Grid: unrecognised menu item "+u):o.addItem(u)})},i.prototype.addItem=function(r){var o=this,u=this.createManagedBean(new yl(_c(_c({},r),{isAnotherSubMenuOpen:function(){return o.menuItems.some(function(d){return d.isSubMenuOpen()})}})));u.setParentComponent(this),gh(u.getGui(),this.level),this.menuItems.push(u),this.appendChild(u.getGui()),this.addManagedListener(u,yl.EVENT_MENU_ITEM_SELECTED,function(d){o.dispatchEvent(d)}),this.addManagedListener(u,yl.EVENT_MENU_ITEM_ACTIVATED,function(d){o.activeMenuItem&&o.activeMenuItem!==d.menuItem&&o.activeMenuItem.deactivate(),o.activeMenuItem=d.menuItem})},i.prototype.activateFirstItem=function(){var r=this.menuItems.filter(function(o){return!o.isDisabled()})[0];!r||r.activate()},i.prototype.addSeparator=function(){this.appendChild(wr('\n            <div class="ag-menu-separator" aria-hidden="true">\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n                <div class="ag-menu-separator-part"></div>\n            </div>'))},i.prototype.findTopMenu=function(){var r=this.getParentComponent();if(!r&&this instanceof i)return this;for(;;){var o=r&&r.getParentComponent&&r.getParentComponent();if(!o||!(o instanceof i||o instanceof yl))break;r=o}return r instanceof i?r:void 0},i.prototype.handleNavKey=function(r){switch(r){case Ie.UP:case Ie.DOWN:var o=this.findNextItem(r===Ie.UP);return void(o&&o!==this.activeMenuItem&&o.activate())}r===(this.gridOptionsWrapper.isEnableRtl()?Ie.RIGHT:Ie.LEFT)?this.closeIfIsChild():this.openChild()},i.prototype.closeIfIsChild=function(r){var o=this.getParentComponent();o&&o instanceof yl&&(r&&r.preventDefault(),o.closeSubMenu(),o.getGui().focus())},i.prototype.openChild=function(){this.activeMenuItem&&this.activeMenuItem.openSubMenu(!0)},i.prototype.findNextItem=function(r){var o=this.menuItems.filter(function(P){return!P.isDisabled()});if(o.length){if(!this.activeMenuItem)return r?Jt(o):o[0];r&&o.reverse();for(var u,d=!1,m=0;m<o.length;m++){var w=o[m];if(d){u=w;break}w===this.activeMenuItem&&(d=!0)}return u||this.activeMenuItem}},i.prototype.destroy=function(){this.clearActiveItem(),h.prototype.destroy.call(this)},ZC([K("focusService")],i.prototype,"focusService",void 0),ZC([We],i.prototype,"postConstruct",null),i}(hd),mO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),tw=function(h){function i(r){var o=h.call(this)||this;return o.wrappedComponent=r,o.setTemplateFromElement(r.getGui()),o}return mO(i,h),i.prototype.postConstruct=function(){var r=this;this.initialiseTabGuard({onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)}})},i.prototype.handleKeyDown=function(r){r.key===Ie.ESCAPE&&this.closePanel()},i.prototype.onTabKeyDown=function(r){r.defaultPrevented||(this.closePanel(),r.preventDefault())},i.prototype.closePanel=function(){var r=this.parentComponent;r.closeSubMenu(),setTimeout(function(){return r.getGui().focus()},0)},function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);u>3&&d&&Object.defineProperty(i,r,d)}([We],i.prototype,"postConstruct",null),i}(hd),jS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),rw=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},yl=function(h){function i(r){var o=h.call(this)||this;return o.params=r,o.isActive=!1,o.subMenuIsOpen=!1,o.setTemplate('<div class="'+o.getClassName()+'" tabindex="-1" role="treeitem"></div>'),o}return jS(i,h),i.prototype.init=function(){var r=this;this.addIcon(),this.addName(),this.addShortcut(),this.addSubMenu(),this.addTooltip();var o=this.getGui();this.params.disabled?(this.addCssClass(this.getClassName("disabled")),zu(o,!0)):(this.addGuiEventListener("click",function(u){return r.onItemSelected(u)}),this.addGuiEventListener("keydown",function(u){(u.key===Ie.ENTER||u.key===Ie.SPACE)&&(u.preventDefault(),r.onItemSelected(u))}),this.addGuiEventListener("mousedown",function(u){u.stopPropagation(),u.preventDefault()}),this.addGuiEventListener("mouseenter",function(){return r.onMouseEnter()}),this.addGuiEventListener("mouseleave",function(){return r.onMouseLeave()})),this.params.cssClasses&&this.params.cssClasses.forEach(function(u){return r.addCssClass(u)})},i.prototype.isDisabled=function(){return!!this.params.disabled},i.prototype.openSubMenu=function(r){var o=this;if(void 0===r&&(r=!1),this.closeSubMenu(),this.params.subMenu){var d,u=wr('<div class="ag-menu" role="presentation"></div>');if(this.params.subMenu instanceof Array){var m=qs(this.getGui()),w=isNaN(m)?1:m+1,P=this.createBean(new JC(w));P.setParentComponent(this),P.addMenuItems(this.params.subMenu),u.appendChild(P.getGui()),this.addManagedListener(P,i.EVENT_MENU_ITEM_SELECTED,function(Oe){return o.dispatchEvent(Oe)}),P.addGuiEventListener("mouseenter",function(){return o.cancelDeactivate()}),d=function(){return o.destroyBean(P)},r&&setTimeout(function(){return P.activateFirstItem()},0)}else{var x=this.params.subMenu,N=this.createBean(new tw(x));N.setParentComponent(this);var k=N.getGui(),q="mouseenter",ee=function(){return o.cancelDeactivate()};k.addEventListener(q,ee),d=function(){return k.removeEventListener(q,ee)},u.appendChild(k),x.afterGuiAttached&&setTimeout(function(){return x.afterGuiAttached()},0)}var le=this.getGui(),de=this.popupService.positionPopupForMenu.bind(this.popupService,{eventSource:le,ePopup:u}),ye=this.gridOptionsWrapper.getLocaleTextFunc(),xe=this.popupService.addPopup({modal:!0,eChild:u,positionCallback:de,anchorToElement:le,ariaLabel:ye("ariaLabelSubMenu","SubMenu")});this.subMenuIsOpen=!0,wi(le,!0),this.hideSubMenu=function(){xe&&xe.hideFunc(),o.subMenuIsOpen=!1,wi(le,!1),d()}}},i.prototype.closeSubMenu=function(){!this.hideSubMenu||(this.hideSubMenu(),this.hideSubMenu=null,wi(this.getGui(),!1))},i.prototype.isSubMenuOpen=function(){return this.subMenuIsOpen},i.prototype.activate=function(r){var o=this;this.cancelActivate(),!this.params.disabled&&(this.isActive=!0,this.addCssClass(this.getClassName("active")),this.getGui().focus(),r&&this.params.subMenu&&window.setTimeout(function(){o.isAlive()&&o.isActive&&o.openSubMenu()},300),this.onItemActivated())},i.prototype.deactivate=function(){this.cancelDeactivate(),this.removeCssClass(this.getClassName("active")),this.isActive=!1,this.subMenuIsOpen&&this.hideSubMenu()},i.prototype.addIcon=function(){if(this.params.checked||this.params.icon||!this.params.isCompact){var r=wr('<span ref="eIcon" class="'+this.getClassName("part")+" "+this.getClassName("icon")+'" role="presentation"></span>');this.params.checked?r.appendChild(Fr("check",this.gridOptionsWrapper)):this.params.icon&&(os(this.params.icon)?r.appendChild(this.params.icon):"string"==typeof this.params.icon?r.innerHTML=this.params.icon:console.warn("AG Grid: menu item icon must be DOM node or string")),this.getGui().appendChild(r)}},i.prototype.addName=function(){if(this.params.name||!this.params.isCompact){var r=wr('<span ref="eName" class="'+this.getClassName("part")+" "+this.getClassName("text")+'">'+(this.params.name||"")+"</span>");this.getGui().appendChild(r)}},i.prototype.addTooltip=function(){!this.params.tooltip||(this.tooltip=this.params.tooltip,this.gridOptionsWrapper.isEnableBrowserTooltips()?this.getGui().setAttribute("title",this.tooltip):this.createManagedBean(new mp(this)))},i.prototype.getTooltipParams=function(){return{location:"menu",value:this.tooltip}},i.prototype.addShortcut=function(){if(this.params.shortcut||!this.params.isCompact){var r=wr('<span ref="eShortcut" class="'+this.getClassName("part")+" "+this.getClassName("shortcut")+'">'+(this.params.shortcut||"")+"</span>");this.getGui().appendChild(r)}},i.prototype.addSubMenu=function(){if(this.params.subMenu||!this.params.isCompact){var r=wr('<span ref="ePopupPointer" class="'+this.getClassName("part")+" "+this.getClassName("popup-pointer")+'"></span>'),o=this.getGui();if(this.params.subMenu){var u=this.gridOptionsWrapper.isEnableRtl()?"smallLeft":"smallRight";wi(o,!1),r.appendChild(Fr(u,this.gridOptionsWrapper))}o.appendChild(r)}},i.prototype.onItemSelected=function(r){this.params.action?this.params.action():this.openSubMenu(r&&"keydown"===r.type),(!this.params.subMenu||this.params.action)&&this.dispatchEvent({type:i.EVENT_MENU_ITEM_SELECTED,action:this.params.action,checked:this.params.checked,cssClasses:this.params.cssClasses,disabled:this.params.disabled,icon:this.params.icon,name:this.params.name,shortcut:this.params.shortcut,subMenu:this.params.subMenu,tooltip:this.params.tooltip,event:r})},i.prototype.onItemActivated=function(){this.dispatchEvent({type:i.EVENT_MENU_ITEM_ACTIVATED,menuItem:this})},i.prototype.cancelActivate=function(){this.activateTimeoutId&&(window.clearTimeout(this.activateTimeoutId),this.activateTimeoutId=0)},i.prototype.cancelDeactivate=function(){this.deactivateTimeoutId&&(window.clearTimeout(this.deactivateTimeoutId),this.deactivateTimeoutId=0)},i.prototype.onMouseEnter=function(){var r=this;this.cancelDeactivate(),this.params.isAnotherSubMenuOpen()?this.activateTimeoutId=window.setTimeout(function(){return r.activate(!0)},i.ACTIVATION_DELAY):this.activate(!0)},i.prototype.onMouseLeave=function(){var r=this;this.cancelActivate(),this.isSubMenuOpen()?this.deactivateTimeoutId=window.setTimeout(function(){return r.deactivate()},i.ACTIVATION_DELAY):this.deactivate()},i.prototype.getClassName=function(r){var o=this.params.isCompact?"ag-compact-menu-option":"ag-menu-option";return r?o+"-"+r:o},i.EVENT_MENU_ITEM_SELECTED="menuItemSelected",i.EVENT_MENU_ITEM_ACTIVATED="menuItemActivated",i.ACTIVATION_DELAY=80,rw([K("popupService")],i.prototype,"popupService",void 0),rw([We],i.prototype,"init",null),i}(Rt),US=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ro=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},cf=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},Do=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}var r;return US(i,h),r=i,i.addKeyboardModeEvents=function(o,u){var d=r.instancesMonitored.get(o);d&&d.length>0?-1===d.indexOf(u)&&d.push(u):(r.instancesMonitored.set(o,[u]),o.addEventListener("keydown",r.toggleKeyboardMode),o.addEventListener("mousedown",r.toggleKeyboardMode))},i.removeKeyboardModeEvents=function(o,u){var d=r.instancesMonitored.get(o),m=[];d&&d.length&&(m=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(cf(arguments[i]));return h}(d).filter(function(w){return w!==u}),r.instancesMonitored.set(o,m)),0===m.length&&(o.removeEventListener("keydown",r.toggleKeyboardMode),o.removeEventListener("mousedown",r.toggleKeyboardMode))},i.toggleKeyboardMode=function(o){var u=r.keyboardModeActive,d="keydown"===o.type;if(!(d&&(o.ctrlKey||o.metaKey||o.altKey)||u&&d||!u&&!d)){r.keyboardModeActive=d;var m=o.target.ownerDocument;if(m){var w=r.instancesMonitored.get(m);w&&w.forEach(function(P){P.dispatchEvent({type:d?ne.EVENT_KEYBOARD_FOCUS:ne.EVENT_MOUSE_FOCUS})})}}},i.prototype.init=function(){var o=this,u=this.clearFocusedCell.bind(this);this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,u),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverythingChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_GROUP_OPENED,u),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,u),this.ctrlsService.whenReady(function(d){o.gridCtrl=d.gridCtrl;var m=o.gridOptionsWrapper.getDocument();r.addKeyboardModeEvents(m,o.gridCtrl),o.addDestroyFunc(function(){return o.unregisterGridCompController(o.gridCtrl)})})},i.prototype.unregisterGridCompController=function(o){var u=this.gridOptionsWrapper.getDocument();r.removeKeyboardModeEvents(u,o)},i.prototype.onColumnEverythingChanged=function(){if(this.focusedCellPosition){var o=this.focusedCellPosition.column,u=this.columnModel.getGridColumn(o.getId());o!==u&&this.clearFocusedCell()}},i.prototype.isKeyboardMode=function(){return r.keyboardModeActive},i.prototype.getFocusCellToUseAfterRefresh=function(){var o=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(o.activeElement,vs.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition},i.prototype.getFocusHeaderToUseAfterRefresh=function(){var o=this.gridOptionsWrapper.getDocument();return this.gridOptionsWrapper.isSuppressFocusAfterRefresh()||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(o.activeElement,Yo.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition},i.prototype.isDomDataMissingInHierarchy=function(o,u){for(var d=o;d;){if(this.gridOptionsWrapper.getDomData(d,u))return!1;d=d.parentNode}return!0},i.prototype.clearFocusedCell=function(){this.focusedCellPosition=null,this.onCellFocused(!1)},i.prototype.getFocusedCell=function(){return this.focusedCellPosition},i.prototype.setFocusedCell=function(o,u,d,m){void 0===m&&(m=!1);var w=this.columnModel.getGridColumn(u);w?(this.focusedCellPosition=w?{rowIndex:o,rowPinned:sa(d),column:w}:null,this.onCellFocused(m)):this.focusedCellPosition=null},i.prototype.isCellFocused=function(o){return null!=this.focusedCellPosition&&this.focusedCellPosition.column===o.column&&this.isRowFocused(o.rowIndex,o.rowPinned)},i.prototype.isRowNodeFocused=function(o){return this.isRowFocused(o.rowIndex,o.rowPinned)},i.prototype.isHeaderWrapperFocused=function(o){if(null==this.focusedHeaderPosition)return!1;var u=o.getColumnGroupChild(),d=o.getRowIndex(),m=o.getPinned(),w=this.focusedHeaderPosition,P=w.column;return u===P&&d===w.headerRowIndex&&m==P.getPinned()},i.prototype.clearFocusedHeader=function(){this.focusedHeaderPosition=null},i.prototype.getFocusedHeader=function(){return this.focusedHeaderPosition},i.prototype.setFocusedHeader=function(o,u){this.focusedHeaderPosition={headerRowIndex:o,column:u}},i.prototype.focusHeaderPosition=function(o){var u=o.direction,d=o.fromTab,w=o.event,P=o.headerPosition;if(o.allowUserOverride){var q,x=this.gridOptionsWrapper,N=this.getFocusedHeader(),k=this.headerNavigationService.getHeaderRowCount();d?(q=x.getTabToNextHeaderFunc())&&(P=q({backwards:"Before"===u,previousHeaderPosition:N,nextHeaderPosition:P,headerRowCount:k})):(q=x.getNavigateToNextHeaderFunc())&&w&&(P=q({key:w.key,previousHeaderPosition:N,nextHeaderPosition:P,headerRowCount:k,event:w}))}return!!P&&(-1===P.headerRowIndex?this.focusGridView(P.column):(this.headerNavigationService.scrollToColumn(P.column,u),this.ctrlsService.getHeaderRowContainerCtrl(P.column.getPinned()).focusHeader(P.headerRowIndex,P.column,w)))},i.prototype.focusFirstHeader=function(){var o=this.columnModel.getAllDisplayedColumns()[0];return!!o&&(o.getParent()&&(o=this.columnModel.getColumnGroupAtLevel(o,0)),this.focusHeaderPosition({headerPosition:{headerRowIndex:0,column:o}}))},i.prototype.focusLastHeader=function(o){var u=this.headerNavigationService.getHeaderRowCount()-1,d=Jt(this.columnModel.getAllDisplayedColumns());return this.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:d},event:o})},i.prototype.isAnyCellFocused=function(){return!!this.focusedCellPosition},i.prototype.isRowFocused=function(o,u){return null!=this.focusedCellPosition&&this.focusedCellPosition.rowIndex===o&&this.focusedCellPosition.rowPinned===sa(u)},i.prototype.findFocusableElements=function(o,u,d){void 0===d&&(d=!1);var w=ge.FOCUSABLE_EXCLUDE;u&&(w+=", "+u),d&&(w+=', [tabindex="-1"]');var q,P=Array.prototype.slice.apply(o.querySelectorAll(ge.FOCUSABLE_SELECTOR)),x=Array.prototype.slice.apply(o.querySelectorAll(w));return x.length?(q=x,P.filter(function(ee){return-1===q.indexOf(ee)})):P},i.prototype.focusInto=function(o,u,d){void 0===u&&(u=!1),void 0===d&&(d=!1);var m=this.findFocusableElements(o,null,d),w=u?Jt(m):m[0];return!!w&&(w.focus(),!0)},i.prototype.findNextFocusableElement=function(o,u,d){void 0===o&&(o=this.eGridDiv);var m=this.findFocusableElements(o,u?':not([tabindex="-1"])':null),P=this.gridOptionsWrapper.getDocument().activeElement,N=(u?m.findIndex(function(k){return k.contains(P)}):m.indexOf(P))+(d?-1:1);return N<0||N>=m.length?null:m[N]},i.prototype.isFocusUnderManagedComponent=function(o){var u=this.gridOptionsWrapper.getDocument(),d=o.querySelectorAll("."+Uo.FOCUS_MANAGED_CLASS);if(!d.length)return!1;for(var m=0;m<d.length;m++)if(d[m].contains(u.activeElement))return!0;return!1},i.prototype.findTabbableParent=function(o,u){void 0===u&&(u=5);for(var d=0;o&&null===ki(o)&&++d<=u;)o=o.parentElement;return null===ki(o)?null:o},i.prototype.onCellFocused=function(o){var u={type:ne.EVENT_CELL_FOCUSED,forceBrowserFocus:o,rowIndex:null,column:null,floating:null,api:this.gridApi,columnApi:this.columnApi,rowPinned:null,isFullWidthCell:!1};if(this.focusedCellPosition){var d=u.rowIndex=this.focusedCellPosition.rowIndex,m=u.rowPinned=this.focusedCellPosition.rowPinned;u.column=this.focusedCellPosition.column;var w=this.rowRenderer.getRowByPosition({rowIndex:d,rowPinned:m});w&&(u.isFullWidthCell=w.isFullWidth())}this.eventService.dispatchEvent(u)},i.prototype.focusGridView=function(o,u){if(this.gridOptionsWrapper.isSuppressCellFocus())return u?this.focusLastHeader():this.focusNextGridCoreContainer(!1);var d=u?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(!d)return!1;var m=d.rowIndex,w=d.rowPinned,P=this.getFocusedHeader();return!o&&P&&(o=P.column),!(null==m||!o)&&(this.navigationService.ensureCellVisible({rowIndex:m,column:o,rowPinned:w}),this.setFocusedCell(m,o,sa(w),!0),this.rangeService&&this.rangeService.setRangeToCell({rowIndex:m,rowPinned:w,column:o}),!0)},i.prototype.focusNextGridCoreContainer=function(o){return!!this.gridCtrl.focusNextInnerContainer(o)||(o||this.gridCtrl.forceFocusOutOfContainer(),!1)},i.AG_KEYBOARD_FOCUS="ag-keyboard-focus",i.keyboardModeActive=!1,i.instancesMonitored=new Map,Ro([K("eGridDiv")],i.prototype,"eGridDiv",void 0),Ro([K("columnModel")],i.prototype,"columnModel",void 0),Ro([K("headerNavigationService")],i.prototype,"headerNavigationService",void 0),Ro([K("columnApi")],i.prototype,"columnApi",void 0),Ro([K("gridApi")],i.prototype,"gridApi",void 0),Ro([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Ro([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Ro([jt("rangeService")],i.prototype,"rangeService",void 0),Ro([K("navigationService")],i.prototype,"navigationService",void 0),Ro([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ro([We],i.prototype,"init",null),r=Ro([qe("focusService")],i)}(Ge),pf=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Es=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Os=(()=>(function(h){h[h.vertical=0]="vertical",h[h.horizontal=1]="horizontal"}(Os||(Os={})),Os))(),ZR=0,Dv=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.popupList=[],r}return pf(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.gridCtrl=o.gridCtrl,r.addManagedListener(r.gridCtrl,ne.EVENT_KEYBOARD_FOCUS,function(){r.popupList.forEach(function(u){return u.element.classList.add(Do.AG_KEYBOARD_FOCUS)})}),r.addManagedListener(r.gridCtrl,ne.EVENT_MOUSE_FOCUS,function(){r.popupList.forEach(function(u){return u.element.classList.remove(Do.AG_KEYBOARD_FOCUS)})})})},i.prototype.getPopupParent=function(){return this.gridOptionsWrapper.getPopupParent()||this.gridCtrl.getGui()},i.prototype.positionPopupForMenu=function(r){var o=r.eventSource.getBoundingClientRect(),u=this.getParentRect(),d=this.keepXYWithinBounds(r.ePopup,o.top-u.top,Os.vertical),m=r.ePopup.clientWidth>0?r.ePopup.clientWidth:200;r.ePopup.style.minWidth=m+"px";var x,P=u.right-u.left-m;function N(){return o.right-u.left-2}function k(){return o.left-u.left-m}this.gridOptionsWrapper.isEnableRtl()?((x=k())<0&&(x=N()),x>P&&(x=0)):((x=N())>P&&(x=k()),x<0&&(x=0)),r.ePopup.style.left=x+"px",r.ePopup.style.top=d+"px"},i.prototype.positionPopupUnderMouseEvent=function(r){var o=r.ePopup,u=r.nudgeX,d=r.nudgeY,m=this.calculatePointerAlign(r.mouseEvent);this.positionPopup({ePopup:o,x:m.x,y:m.y,nudgeX:u,nudgeY:d,keepWithinBounds:!0}),this.callPostProcessPopup(r.type,r.ePopup,null,r.mouseEvent,r.column,r.rowNode)},i.prototype.calculatePointerAlign=function(r){var o=this.getParentRect();return{x:r.clientX-o.left,y:r.clientY-o.top}},i.prototype.positionPopupUnderComponent=function(r){var o=r.eventSource.getBoundingClientRect(),u=r.alignSide||"left",d=this.getParentRect(),m=o.left-d.left;"right"===u&&(m-=r.ePopup.offsetWidth-o.width),this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:m,y:o.top-d.top+o.height,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},i.prototype.positionPopupOverComponent=function(r){var o=r.eventSource.getBoundingClientRect(),u=this.getParentRect();this.positionPopup({ePopup:r.ePopup,nudgeX:r.nudgeX,nudgeY:r.nudgeY,x:o.left-u.left,y:o.top-u.top,keepWithinBounds:r.keepWithinBounds}),this.callPostProcessPopup(r.type,r.ePopup,r.eventSource,null,r.column,r.rowNode)},i.prototype.callPostProcessPopup=function(r,o,u,d,m,w){var P=this.gridOptionsWrapper.getPostProcessPopupFunc();P&&P({column:m,rowNode:w,ePopup:o,type:r,eventSource:u,mouseEvent:d})},i.prototype.positionPopup=function(r){var o=r.ePopup,d=r.nudgeX,m=r.nudgeY,w=r.x,P=r.y;d&&(w+=d),m&&(P+=m),r.keepWithinBounds&&(w=this.keepXYWithinBounds(o,w,Os.horizontal),P=this.keepXYWithinBounds(o,P,Os.vertical)),o.style.left=w+"px",o.style.top=P+"px"},i.prototype.getActivePopups=function(){return this.popupList.map(function(r){return r.element})},i.prototype.getPopupList=function(){return this.popupList},i.prototype.getParentRect=function(){var r=this.gridOptionsWrapper.getDocument(),o=this.getPopupParent();o===r.body&&(o=r.documentElement);var u=getComputedStyle(o),d=o.getBoundingClientRect();return{top:d.top+parseFloat(u.borderTopWidth)||0,left:d.left+parseFloat(u.borderLeftWidth)||0,right:d.right+parseFloat(u.borderRightWidth)||0,bottom:d.bottom+parseFloat(u.borderBottomWidth)||0}},i.prototype.keepXYWithinBounds=function(r,o,u){var d=u===Os.vertical,m=d?"clientHeight":"clientWidth",w=d?"top":"left",P=d?"offsetHeight":"offsetWidth",x=d?"scrollTop":"scrollLeft",N=this.gridOptionsWrapper.getDocument(),k=N.documentElement,q=this.getPopupParent(),ee=q.getBoundingClientRect(),le=N.documentElement.getBoundingClientRect(),de=q===N.body,ye=r[P],Oe=de?(d?fh:is)(k)+k[x]:q[m];de&&(Oe-=Math.abs(le[w]-ee[w]));var Ee=Oe-ye;return Math.min(Math.max(o,0),Math.abs(Ee))},i.prototype.keepPopupPositionedRelativeTo=function(r){var o=this,u=this.getPopupParent(),d=u.getBoundingClientRect(),m=r.element.getBoundingClientRect(),w=d.top-m.top,P=d.left-m.left,x=w,N=P,k=r.ePopup.style.top,q=parseInt(k.substring(0,k.length-1),10),ee=r.ePopup.style.left,le=parseInt(ee.substring(0,ee.length-1),10);return new nt(function(de){o.getFrameworkOverrides().setInterval(function(){var ye=u.getBoundingClientRect(),xe=r.element.getBoundingClientRect();if(0==xe.top&&0==xe.left&&0==xe.height&&0==xe.width)r.hidePopup();else{var Ee=ye.top-xe.top;if(Ee!=x){var $e=o.keepXYWithinBounds(r.ePopup,q+w-Ee,Os.vertical);r.ePopup.style.top=$e+"px"}x=Ee;var pt=ye.left-xe.left;if(pt!=N){var vt=o.keepXYWithinBounds(r.ePopup,le+P-pt,Os.horizontal);r.ePopup.style.left=vt+"px"}N=pt}},200).then(function(ye){de(function(){null!=ye&&window.clearInterval(ye)})})})},i.prototype.addPopup=function(r){var o=this,u=r.modal,d=r.eChild,m=r.closeOnEsc,w=r.closedCallback,P=r.click,x=r.alwaysOnTop,N=r.afterGuiAttached,k=r.positionCallback,q=r.anchorToElement,ee=r.ariaLabel,le=this.gridOptionsWrapper.getDocument(),de=new nt(function(Tt){return Tt(function(){})});if(!le)return console.warn("ag-grid: could not find the document, document is empty"),{hideFunc:function(){},stopAnchoringPromise:de};var ye=this.popupList.findIndex(function(Tt){return Tt.element===d});if(-1!==ye){var xe=this.popupList[ye];return{hideFunc:xe.hideFunc,stopAnchoringPromise:xe.stopAnchoringPromise}}var Oe=this.getPopupParent();null==d.style.top&&(d.style.top="0px"),null==d.style.left&&(d.style.left="0px");var Ee=document.createElement("div"),$e=this.environment.getTheme().theme;$e&&Ee.classList.add($e),Ee.classList.add("ag-popup"),d.classList.add(this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr","ag-popup-child"),d.hasAttribute("role")||On(d,"dialog"),ya(d,ee),this.focusService.isKeyboardMode()&&d.classList.add(Do.AG_KEYBOARD_FOCUS),Ee.appendChild(d),Oe.appendChild(Ee),x?this.setAlwaysOnTop(Ee,!0):this.bringPopupToFront(Ee);var pt=!1,vt=function(Tt){Ee.contains(le.activeElement)&&Tt.key===Ie.ESCAPE&&xt({keyboardEvent:Tt})},lt=function(Tt){return xt({mouseEvent:Tt})},Ue=function(Tt){return xt({touchEvent:Tt})},xt=function(Tt){void 0===Tt&&(Tt={});var Br=Tt.mouseEvent,ir=Tt.touchEvent,ta=Tt.keyboardEvent;o.isEventFromCurrentPopup({mouseEvent:Br,touchEvent:ir},d)||o.isEventSameChainAsOriginalEvent({originalMouseEvent:P,mouseEvent:Br,touchEvent:ir})||pt||(pt=!0,Oe.removeChild(Ee),le.removeEventListener("keydown",vt),le.removeEventListener("mousedown",lt),le.removeEventListener("touchstart",Ue),le.removeEventListener("contextmenu",lt),o.eventService.removeEventListener(ne.EVENT_DRAG_STARTED,lt),w&&w(Br||ir||ta),o.popupList=o.popupList.filter(function(ra){return ra.element!==d}),de&&de.then(function(ra){return ra&&ra()}))};return N&&N({hidePopup:xt}),window.setTimeout(function(){m&&le.addEventListener("keydown",vt),u&&(le.addEventListener("mousedown",lt),o.eventService.addEventListener(ne.EVENT_DRAG_STARTED,lt),le.addEventListener("touchstart",Ue),le.addEventListener("contextmenu",lt))},0),k&&k(),q&&(de=this.keepPopupPositionedRelativeTo({element:q,ePopup:d,hidePopup:xt})),this.popupList.push({element:d,wrapper:Ee,hideFunc:xt,stopAnchoringPromise:de,instanceId:ZR++,isAnchored:!!q}),{hideFunc:xt,stopAnchoringPromise:de}},i.prototype.hasAnchoredPopup=function(){return this.popupList.some(function(r){return r.isAnchored})},i.prototype.isEventFromCurrentPopup=function(r,o){var m=r.mouseEvent||r.touchEvent;if(!m)return!1;var w=this.popupList.findIndex(function(N){return N.element===o});if(-1===w)return!1;for(var P=w;P<this.popupList.length;P++)if(oh(this.popupList[P].element,m))return!0;return this.isElementWithinCustomPopup(m.target)},i.prototype.isElementWithinCustomPopup=function(r){for(var o=this.gridOptionsWrapper.getDocument();r&&r!==o.body;){if(r.classList.contains("ag-custom-component-popup")||null===r.parentElement)return!0;r=r.parentElement}return!1},i.prototype.isEventSameChainAsOriginalEvent=function(r){var o=r.originalMouseEvent,u=r.mouseEvent,d=r.touchEvent,m=null;if(u?m=u:d&&(m=d.touches[0]),m&&o){var P=u?u.screenY:0,x=Math.abs(o.screenX-(u?u.screenX:0))<5,N=Math.abs(o.screenY-P)<5;if(x&&N)return!0}return!1},i.prototype.getWrapper=function(r){for(;!r.classList.contains("ag-popup")&&r.parentElement;)r=r.parentElement;return r.classList.contains("ag-popup")?r:null},i.prototype.setAlwaysOnTop=function(r,o){var u=this.getWrapper(r);!u||(u.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(u))},i.prototype.bringPopupToFront=function(r){var o=this.getPopupParent(),u=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),d=u.length,m=Array.prototype.slice.call(o.querySelectorAll(".ag-popup.ag-always-on-top")),w=m.length,P=this.getWrapper(r);if(P&&!(d<=1)&&o.contains(r)){var x=u.indexOf(P),N=P.querySelectorAll("div"),k=[];for(N.forEach(function(de){0!==de.scrollTop&&k.push([de,de.scrollTop])}),w?P.classList.contains("ag-always-on-top")?x!==d-1&&Jt(m).insertAdjacentElement("afterend",P):x!==d-w-1&&m[0].insertAdjacentElement("beforebegin",P):x!==d-1&&Jt(u).insertAdjacentElement("afterend",P);k.length;){var ee=k.pop();ee[0].scrollTop=ee[1]}var le={type:"popupToFront",api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),eWrapper:P};this.eventService.dispatchEvent(le)}},Es([K("environment")],i.prototype,"environment",void 0),Es([K("focusService")],i.prototype,"focusService",void 0),Es([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Es([We],i.prototype,"postConstruct",null),Es([qe("popupService")],i)}(Ge),nw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),iw=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},zS=function(h){function i(r,o,u){void 0===r&&(r="default"),void 0===o&&(o="listbox");var d=h.call(this,i.getTemplate(r))||this;return d.cssIdentifier=r,d.ariaRole=o,d.listName=u,d.renderedRows=new Map,d.rowHeight=20,d.isDestroyed=!1,d}return nw(i,h),i.prototype.postConstruct=function(){var r=this;this.addScrollListener(),this.rowHeight=this.getItemHeight(),this.addResizeObserver(),this.initialiseTabGuard({onFocusIn:function(o){return r.onFocusIn(o)},onFocusOut:function(o){return r.onFocusOut(o)},focusInnerElement:function(o){return r.focusInnerElement(o)},onTabKeyDown:function(o){return r.onTabKeyDown(o)},handleKeyDown:function(o){return r.handleKeyDown(o)}}),this.setAriaProperties()},i.prototype.setAriaProperties=function(){var o=this.gridOptionsWrapper.getLocaleTextFunc()("ariaDefaultListName",this.listName||"List"),u=this.eContainer;On(u,this.ariaRole),ya(u,o)},i.prototype.addResizeObserver=function(){var r=this.drawVirtualRows.bind(this),o=this.resizeObserverService.observeResize(this.getGui(),r);this.addDestroyFunc(o)},i.prototype.focusInnerElement=function(r){this.focusRow(r?this.model.getRowCount()-1:0)},i.prototype.onFocusIn=function(r){var o=r.target;return o.classList.contains("ag-virtual-list-item")&&(this.lastFocusedRowIndex=Rn(o)-1),!1},i.prototype.onFocusOut=function(r){return this.getFocusableElement().contains(r.relatedTarget)||(this.lastFocusedRowIndex=null),!1},i.prototype.handleKeyDown=function(r){switch(r.key){case Ie.UP:case Ie.DOWN:this.navigate(r.key===Ie.UP)&&r.preventDefault()}},i.prototype.onTabKeyDown=function(r){this.navigate(r.shiftKey)?r.preventDefault():this.focusService.focusInto(this.getGui(),!r.shiftKey)},i.prototype.navigate=function(r){if(null==this.lastFocusedRowIndex)return!1;var o=this.lastFocusedRowIndex+(r?-1:1);return!(o<0||o>=this.model.getRowCount()||(this.focusRow(o),0))},i.prototype.getLastFocusedRow=function(){return this.lastFocusedRowIndex},i.prototype.focusRow=function(r){var o=this;this.ensureIndexVisible(r),window.setTimeout(function(){var u=o.renderedRows.get(r);u&&u.eDiv.focus()},10)},i.prototype.getComponentAt=function(r){var o=this.renderedRows.get(r);return o&&o.rowComponent},i.getTemplate=function(r){return'\n            <div class="ag-virtual-list-viewport ag-'+r+'-virtual-list-viewport" role="presentation">\n                <div class="ag-virtual-list-container ag-'+r+'-virtual-list-container" ref="eContainer"></div>\n            </div>'},i.prototype.getItemHeight=function(){return this.gridOptionsWrapper.getListItemHeight()},i.prototype.ensureIndexVisible=function(r){var o=this.model.getRowCount();if("number"!=typeof r||r<0||r>=o)console.warn("AG Grid: invalid row index for ensureIndexVisible: "+r);else{var u=r*this.rowHeight,d=u+this.rowHeight,m=this.getGui(),w=m.scrollTop,P=m.offsetHeight,k=w+P<d;w>u?m.scrollTop=u:k&&(m.scrollTop=d-P)}},i.prototype.setComponentCreator=function(r){this.componentCreator=r},i.prototype.getRowHeight=function(){return this.rowHeight},i.prototype.getScrollTop=function(){return this.getGui().scrollTop},i.prototype.setRowHeight=function(r){this.rowHeight=r,this.refresh()},i.prototype.refresh=function(){var r=this;if(null!=this.model&&!this.isDestroyed){var o=this.model.getRowCount();this.eContainer.style.height=o*this.rowHeight+"px",Qf(function(){return r.eContainer.clientHeight>=o*r.rowHeight},function(){r.isDestroyed||(r.clearVirtualRows(),r.drawVirtualRows())})}},i.prototype.clearVirtualRows=function(){var r=this;this.renderedRows.forEach(function(o,u){return r.removeRow(u)})},i.prototype.drawVirtualRows=function(){var r=this.getGui(),o=r.scrollTop,u=o+r.offsetHeight,d=Math.floor(o/this.rowHeight),m=Math.floor(u/this.rowHeight);this.ensureRowsRendered(d,m)},i.prototype.ensureRowsRendered=function(r,o){var u=this;this.renderedRows.forEach(function(m,w){(w<r||w>o)&&w!==u.lastFocusedRowIndex&&u.removeRow(w)});for(var d=r;d<=o;d++)this.renderedRows.has(d)||d<this.model.getRowCount()&&this.insertRow(d)},i.prototype.insertRow=function(r){var o=this,u=this.model.getRow(r),d=document.createElement("div");if(d.classList.add("ag-virtual-list-item","ag-"+this.cssIdentifier+"-virtual-list-item"),On(d,"tree"===this.ariaRole?"treeitem":"option"),fg(d,this.model.getRowCount()),Rm(d,r+1),d.setAttribute("tabindex","-1"),"function"==typeof this.model.isRowSelected){var m=this.model.isRowSelected(r);Kl(d,!!m),vh(d,m)}d.style.height=this.rowHeight+"px",d.style.top=this.rowHeight*r+"px";var w=this.componentCreator(u,d);w.addGuiEventListener("focusin",function(){return o.lastFocusedRowIndex=r}),d.appendChild(w.getGui()),this.renderedRows.has(r-1)?this.renderedRows.get(r-1).eDiv.insertAdjacentElement("afterend",d):this.renderedRows.has(r+1)?this.renderedRows.get(r+1).eDiv.insertAdjacentElement("beforebegin",d):this.eContainer.appendChild(d),this.renderedRows.set(r,{rowComponent:w,eDiv:d})},i.prototype.removeRow=function(r){var o=this.renderedRows.get(r);this.eContainer.removeChild(o.eDiv),this.destroyBean(o.rowComponent),this.renderedRows.delete(r)},i.prototype.addScrollListener=function(){var r=this;this.addGuiEventListener("scroll",function(){return r.drawVirtualRows()})},i.prototype.setModel=function(r){this.model=r},i.prototype.destroy=function(){this.isDestroyed||(this.clearVirtualRows(),this.isDestroyed=!0,h.prototype.destroy.call(this))},iw([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),iw([K("focusService")],i.prototype,"focusService",void 0),iw([Ne("eContainer")],i.prototype,"eContainer",void 0),iw([We],i.prototype,"postConstruct",null),i}(hd),ow=["mouseover","mouseout","mouseenter","mouseleave"],aw=["touchstart","touchend","touchmove","touchcancel"],Pv=function(){function h(){this.isOutsideAngular=function(i){return gi(ow,i)}}return h.prototype.setTimeout=function(i,r){window.setTimeout(i,r)},h.prototype.setInterval=function(i,r){return new nt(function(o){o(window.setInterval(i,r))})},h.prototype.addEventListener=function(i,r,o,u){var d=gi(aw,r);i.addEventListener(r,o,{capture:!!u,passive:d})},h.prototype.dispatchEvent=function(i,r,o){r()},h.prototype.frameworkComponent=function(i){return null},h.prototype.isFrameworkComponent=function(i){return!1},h}(),sw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Sc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ba=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return sw(i,h),i.prototype.getNextCellToFocus=function(r,o){for(var u=o,d=!1;!d;){switch(r){case Ie.UP:u=this.getCellAbove(u);break;case Ie.DOWN:u=this.getCellBelow(u);break;case Ie.RIGHT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToLeft(u):this.getCellToRight(u);break;case Ie.LEFT:u=this.gridOptionsWrapper.isEnableRtl()?this.getCellToRight(u):this.getCellToLeft(u);break;default:u=null,console.warn("AG Grid: unknown key for navigation "+r)}d=!u||this.isCellGoodToFocusOn(u)}return u},i.prototype.isCellGoodToFocusOn=function(r){var u,o=r.column;switch(r.rowPinned){case ge.PINNED_TOP:u=this.pinnedRowModel.getPinnedTopRow(r.rowIndex);break;case ge.PINNED_BOTTOM:u=this.pinnedRowModel.getPinnedBottomRow(r.rowIndex);break;default:u=this.rowModel.getRow(r.rowIndex)}return!!u&&!o.isSuppressNavigable(u)},i.prototype.getCellToLeft=function(r){if(!r)return null;var o=this.columnModel.getDisplayedColBefore(r.column);return o?{rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned}:null},i.prototype.getCellToRight=function(r){if(!r)return null;var o=this.columnModel.getDisplayedColAfter(r.column);return o?{rowIndex:r.rowIndex,column:o,rowPinned:r.rowPinned}:null},i.prototype.getRowBelow=function(r){var o=r.rowIndex,u=r.rowPinned;if(this.isLastRowInContainer(r))switch(u){case ge.PINNED_BOTTOM:return null;case ge.PINNED_TOP:return this.rowModel.isRowsToRender()?{rowIndex:this.paginationProxy.getPageFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender(ge.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ge.PINNED_BOTTOM}:null;default:return this.pinnedRowModel.isRowsToRender(ge.PINNED_BOTTOM)?{rowIndex:0,rowPinned:ge.PINNED_BOTTOM}:null}return{rowIndex:o+1,rowPinned:u}},i.prototype.getCellBelow=function(r){if(!r)return null;var o=this.getRowBelow(r);return o?{rowIndex:o.rowIndex,column:r.column,rowPinned:o.rowPinned}:null},i.prototype.isLastRowInContainer=function(r){var o=r.rowPinned,u=r.rowIndex;return o===ge.PINNED_TOP?this.pinnedRowModel.getPinnedTopRowData().length-1<=u:o===ge.PINNED_BOTTOM?this.pinnedRowModel.getPinnedBottomRowData().length-1<=u:this.paginationProxy.getPageLastRow()<=u},i.prototype.getRowAbove=function(r){var o=r.rowIndex,u=r.rowPinned;return(u?0===o:o===this.paginationProxy.getPageFirstRow())?u===ge.PINNED_TOP?null:u&&this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender(ge.PINNED_TOP)?this.getLastFloatingTopRow():null:{rowIndex:o-1,rowPinned:u}},i.prototype.getCellAbove=function(r){if(!r)return null;var o=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});return o?{rowIndex:o.rowIndex,column:r.column,rowPinned:o.rowPinned}:null},i.prototype.getLastBodyCell=function(){return{rowIndex:this.paginationProxy.getPageLastRow(),rowPinned:null}},i.prototype.getLastFloatingTopRow=function(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowData().length-1,rowPinned:ge.PINNED_TOP}},i.prototype.getNextTabbedCell=function(r,o){return o?this.getNextTabbedCellBackwards(r):this.getNextTabbedCellForwards(r)},i.prototype.getNextTabbedCellForwards=function(r){var o=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,d=r.rowPinned,m=this.columnModel.getDisplayedColAfter(r.column);if(!m){m=o[0];var w=this.getRowBelow(r);if(b(w)||!w.rowPinned&&!this.paginationProxy.isRowInPage(w))return null;u=w?w.rowIndex:null,d=w?w.rowPinned:null}return{rowIndex:u,column:m,rowPinned:d}},i.prototype.getNextTabbedCellBackwards=function(r){var o=this.columnModel.getAllDisplayedColumns(),u=r.rowIndex,d=r.rowPinned,m=this.columnModel.getDisplayedColBefore(r.column);if(!m){m=Jt(o);var w=this.getRowAbove({rowIndex:r.rowIndex,rowPinned:r.rowPinned});if(b(w)||!w.rowPinned&&!this.paginationProxy.isRowInPage(w))return null;u=w?w.rowIndex:null,d=w?w.rowPinned:null}return{rowIndex:u,column:m,rowPinned:d}},Sc([K("columnModel")],i.prototype,"columnModel",void 0),Sc([K("rowModel")],i.prototype,"rowModel",void 0),Sc([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Sc([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Sc([qe("cellNavigationService")],i)}(Ge),df=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),gd=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},vd=function(h,i){return function(r,o){i(r,o,h)}},$S=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.consuming=!1,r}return df(i,h),i.prototype.setBeans=function(r){this.logger=r.create("AlignedGridsService")},i.prototype.init=function(){this.addManagedListener(this.eventService,ne.EVENT_COLUMN_MOVED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VISIBLE,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PINNED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_GROUP_OPENED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_RESIZED,this.fireColumnEvent.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL,this.fireScrollEvent.bind(this))},i.prototype.fireEvent=function(r){if(!this.consuming){var o=this.gridOptionsWrapper.getAlignedGrids();o&&o.forEach(function(u){if(u.api){var d=u.api.__getAlignedGridService();r(d)}})}},i.prototype.onEvent=function(r){this.consuming=!0,r(),this.consuming=!1},i.prototype.fireColumnEvent=function(r){this.fireEvent(function(o){o.onColumnEvent(r)})},i.prototype.fireScrollEvent=function(r){"horizontal"===r.direction&&this.fireEvent(function(o){o.onScrollEvent(r)})},i.prototype.onScrollEvent=function(r){var o=this;this.onEvent(function(){o.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(r.left)})},i.prototype.getMasterColumns=function(r){var o=[];return r.columns?r.columns.forEach(function(u){o.push(u)}):r.column&&o.push(r.column),o},i.prototype.getColumnIds=function(r){var o=[];return r.columns?r.columns.forEach(function(u){o.push(u.getColId())}):r.column&&o.push(r.column.getColId()),o},i.prototype.onColumnEvent=function(r){var o=this;this.onEvent(function(){switch(r.type){case ne.EVENT_COLUMN_MOVED:case ne.EVENT_COLUMN_VISIBLE:case ne.EVENT_COLUMN_PINNED:case ne.EVENT_COLUMN_RESIZED:o.processColumnEvent(r);break;case ne.EVENT_COLUMN_GROUP_OPENED:o.processGroupOpenedEvent(r);break;case ne.EVENT_COLUMN_PIVOT_CHANGED:console.warn("AG Grid: pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.")}})},i.prototype.processGroupOpenedEvent=function(r){var o=r.columnGroup,u=null;if(o){var d=o.getGroupId();u=this.columnModel.getProvidedColumnGroup(d)}o&&!u||(this.logger.log("onColumnEvent-> processing "+r+" expanded = "+o.isExpanded()),this.columnModel.setColumnGroupOpened(u,o.isExpanded(),"alignedGridChanged"))},i.prototype.processColumnEvent=function(r){var o=this,u=r.column,d=null;if(u&&(d=this.columnModel.getPrimaryColumn(u.getColId())),!u||d){var m=this.getMasterColumns(r);switch(r.type){case ne.EVENT_COLUMN_MOVED:var w=r,x=r.columnApi.getColumnState().map(function(ye){return{colId:ye.colId}});this.columnModel.applyColumnState({state:x,applyOrder:!0},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" toIndex = "+w.toIndex);break;case ne.EVENT_COLUMN_VISIBLE:var N=r;x=r.columnApi.getColumnState().map(function(Oe){return{colId:Oe.colId,hide:Oe.hide}}),this.columnModel.applyColumnState({state:x},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" visible = "+N.visible);break;case ne.EVENT_COLUMN_PINNED:var k=r;x=r.columnApi.getColumnState().map(function(Oe){return{colId:Oe.colId,pinned:Oe.pinned}}),this.columnModel.applyColumnState({state:x},"alignedGridChanged"),this.logger.log("onColumnEvent-> processing "+r.type+" pinned = "+k.pinned);break;case ne.EVENT_COLUMN_RESIZED:var q=r;m.forEach(function(ye){o.logger.log("onColumnEvent-> processing "+r.type+" actualWidth = "+ye.getActualWidth());var xe=[{key:ye.getColId(),newWidth:ye.getActualWidth()}];o.columnModel.setColumnWidths(xe,!1,q.finished,"alignedGridChanged")})}var le=this.ctrlsService.getGridBodyCtrl().isVerticalScrollShowing(),de=this.gridOptionsWrapper.getAlignedGrids();de&&de.forEach(function(ye){ye.api&&ye.api.setAlwaysShowVerticalScroll(le)})}},gd([K("columnModel")],i.prototype,"columnModel",void 0),gd([K("ctrlsService")],i.prototype,"ctrlsService",void 0),gd([vd(0,Er("loggerFactory"))],i.prototype,"setBeans",null),gd([We],i.prototype,"init",null),gd([qe("alignedGridsService")],i)}(Ge),Tv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vu=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Av=function(h,i){return function(r,o){i(r,o,h)}},yu=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tv(i,h),i.prototype.setBeans=function(r){this.logger=r.create("selectionService"),this.reset()},i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.addManagedListener(this.eventService,ne.EVENT_ROW_SELECTED,this.onRowSelected.bind(this))},i.prototype.setLastSelectedNode=function(r){this.lastSelectedNode=r},i.prototype.getLastSelectedNode=function(){return this.lastSelectedNode},i.prototype.getSelectedNodes=function(){var r=[];return qt(this.selectedNodes,function(o,u){u&&r.push(u)}),r},i.prototype.getSelectedRows=function(){var r=[];return qt(this.selectedNodes,function(o,u){u&&u.data&&r.push(u.data)}),r},i.prototype.removeGroupsFromSelection=function(){var r=this;qt(this.selectedNodes,function(o,u){u&&u.group&&(r.selectedNodes[u.id]=void 0)})},i.prototype.updateGroupsFromChildrenSelections=function(r){if(this.gridOptionsWrapper.isGroupSelectsChildren()&&this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE){var u=this.rowModel.getRootNode();r||(r=new Ji(!0,u)).setInactive(),r.forEachChangedNodeDepthFirst(function(d){d!==u&&d.calculateSelectedFromChildren()})}},i.prototype.getNodeForIdIfSelected=function(r){return this.selectedNodes[r]},i.prototype.clearOtherNodes=function(r){var o=this,u={},d=0;return qt(this.selectedNodes,function(m,w){w&&w.id!==r.id&&(d+=o.selectedNodes[w.id].setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0}),o.groupSelectsChildren&&w.parent&&(u[w.parent.id]=w.parent))}),qt(u,function(m,w){w.calculateSelectedFromChildren()}),d},i.prototype.onRowSelected=function(r){var o=r.node;this.groupSelectsChildren&&o.group||(this.selectedNodes[o.id]=o.isSelected()?o:void 0)},i.prototype.syncInRowNode=function(r,o){this.syncInOldRowNode(r,o),this.syncInNewRowNode(r)},i.prototype.syncInOldRowNode=function(r,o){re(o)&&r.id!==o.id&&o&&this.selectedNodes[o.id]==r&&(this.selectedNodes[o.id]=o)},i.prototype.syncInNewRowNode=function(r){re(this.selectedNodes[r.id])?(r.setSelectedInitialValue(!0),this.selectedNodes[r.id]=r):r.setSelectedInitialValue(!1)},i.prototype.reset=function(){this.logger.log("reset"),this.selectedNodes={},this.lastSelectedNode=null},i.prototype.getBestCostNodeSelection=function(){if(this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE){var o=this.rowModel.getTopLevelNodes();if(null!==o){var u=[];return function d(m){for(var w=0,P=m.length;w<P;w++){var x=m[w];x.isSelected()?u.push(x):x.group&&x.children&&d(x.children)}}(o),u}console.warn("AG Grid: `selectAll` not available doing `rowModel=virtual`")}else console.warn("AG Grid: `getBestCostNodeSelection` is only available when using normal row model")},i.prototype.setRowModel=function(r){this.rowModel=r},i.prototype.isEmpty=function(){var r=0;return qt(this.selectedNodes,function(o,u){u&&r++}),0===r},i.prototype.deselectAllRowNodes=function(r){void 0===r&&(r=!1);var o=function(w){return w.selectThisNode(!1)},u=this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE;if(r){if(!u)return void console.error("AG Grid: selecting just filtered only works with In Memory Row Model");this.rowModel.forEachNodeAfterFilter(o)}else qt(this.selectedNodes,function(w,P){P&&o(P)}),this.reset();u&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectAllRowNodes=function(r){if(void 0===r&&(r=!1),this.rowModel.getType()!==ge.ROW_MODEL_TYPE_CLIENT_SIDE)throw new Error("selectAll only available with normal row model, ie not "+this.rowModel.getType());var o=this.rowModel,u=function(m){return m.selectThisNode(!0)};r?o.forEachNodeAfterFilter(u):o.forEachNode(u),this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(),this.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.selectNode=function(r,o){r&&r.setSelectedParams({newValue:!0,clearSelection:!o})},i.prototype.deselectIndex=function(r){var o=this.rowModel.getRow(r);this.deselectNode(o)},i.prototype.deselectNode=function(r){r&&r.setSelectedParams({newValue:!1,clearSelection:!1})},i.prototype.selectIndex=function(r,o){var u=this.rowModel.getRow(r);this.selectNode(u,o)},vu([K("rowModel")],i.prototype,"rowModel",void 0),vu([K("columnApi")],i.prototype,"columnApi",void 0),vu([K("gridApi")],i.prototype,"gridApi",void 0),vu([Av(0,Er("loggerFactory"))],i.prototype,"setBeans",null),vu([We],i.prototype,"init",null),vu([qe("selectionService")],i)}(Ge),xv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},hf=function(){function h(){}return h.prototype.sizeColumnsToFit=function(i){void 0===i&&console.error("AG Grid: missing parameter to columnApi.sizeColumnsToFit(gridWidth)"),this.columnModel.sizeColumnsToFit(i,"api")},h.prototype.setColumnGroupOpened=function(i,r){this.columnModel.setColumnGroupOpened(i,r,"api")},h.prototype.getColumnGroup=function(i,r){return this.columnModel.getColumnGroup(i,r)},h.prototype.getProvidedColumnGroup=function(i){return this.columnModel.getProvidedColumnGroup(i)},h.prototype.getDisplayNameForColumn=function(i,r){return this.columnModel.getDisplayNameForColumn(i,r)||""},h.prototype.getDisplayNameForColumnGroup=function(i,r){return this.columnModel.getDisplayNameForColumnGroup(i,r)||""},h.prototype.getColumn=function(i){return this.columnModel.getPrimaryColumn(i)},h.prototype.applyColumnState=function(i){return this.columnModel.applyColumnState(i,"api")},h.prototype.getColumnState=function(){return this.columnModel.getColumnState()},h.prototype.resetColumnState=function(){this.columnModel.resetColumnState("api")},h.prototype.getColumnGroupState=function(){return this.columnModel.getColumnGroupState()},h.prototype.setColumnGroupState=function(i){this.columnModel.setColumnGroupState(i,"api")},h.prototype.resetColumnGroupState=function(){this.columnModel.resetColumnGroupState("api")},h.prototype.isPinning=function(){return this.columnModel.isPinningLeft()||this.columnModel.isPinningRight()},h.prototype.isPinningLeft=function(){return this.columnModel.isPinningLeft()},h.prototype.isPinningRight=function(){return this.columnModel.isPinningRight()},h.prototype.getDisplayedColAfter=function(i){return this.columnModel.getDisplayedColAfter(i)},h.prototype.getDisplayedColBefore=function(i){return this.columnModel.getDisplayedColBefore(i)},h.prototype.setColumnVisible=function(i,r){this.columnModel.setColumnVisible(i,r,"api")},h.prototype.setColumnsVisible=function(i,r){this.columnModel.setColumnsVisible(i,r,"api")},h.prototype.setColumnPinned=function(i,r){this.columnModel.setColumnPinned(i,r,"api")},h.prototype.setColumnsPinned=function(i,r){this.columnModel.setColumnsPinned(i,r,"api")},h.prototype.getAllColumns=function(){return this.columnModel.getAllPrimaryColumns()},h.prototype.getAllGridColumns=function(){return this.columnModel.getAllGridColumns()},h.prototype.getDisplayedLeftColumns=function(){return this.columnModel.getDisplayedLeftColumns()},h.prototype.getDisplayedCenterColumns=function(){return this.columnModel.getDisplayedCenterColumns()},h.prototype.getDisplayedRightColumns=function(){return this.columnModel.getDisplayedRightColumns()},h.prototype.getAllDisplayedColumns=function(){return this.columnModel.getAllDisplayedColumns()},h.prototype.getAllDisplayedVirtualColumns=function(){return this.columnModel.getViewportColumns()},h.prototype.moveColumn=function(i,r){"number"==typeof i?(console.warn("AG Grid: you are using moveColumn(fromIndex, toIndex) - moveColumn takes a column key and a destination index, not two indexes, to move with indexes use moveColumnByIndex(from,to) instead"),this.columnModel.moveColumnByIndex(i,r,"api")):this.columnModel.moveColumn(i,r,"api")},h.prototype.moveColumnByIndex=function(i,r){this.columnModel.moveColumnByIndex(i,r,"api")},h.prototype.moveColumns=function(i,r){this.columnModel.moveColumns(i,r,"api")},h.prototype.moveRowGroupColumn=function(i,r){this.columnModel.moveRowGroupColumn(i,r)},h.prototype.setColumnAggFunc=function(i,r){this.columnModel.setColumnAggFunc(i,r)},h.prototype.setColumnWidth=function(i,r,o,u){void 0===o&&(o=!0),this.columnModel.setColumnWidths([{key:i,newWidth:r}],!1,o,u)},h.prototype.setColumnWidths=function(i,r,o){void 0===r&&(r=!0),this.columnModel.setColumnWidths(i,!1,r,o)},h.prototype.setPivotMode=function(i){this.columnModel.setPivotMode(i)},h.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},h.prototype.getSecondaryPivotColumn=function(i,r){return this.columnModel.getSecondaryPivotColumn(i,r)},h.prototype.setValueColumns=function(i){this.columnModel.setValueColumns(i,"api")},h.prototype.getValueColumns=function(){return this.columnModel.getValueColumns()},h.prototype.removeValueColumn=function(i){this.columnModel.removeValueColumn(i,"api")},h.prototype.removeValueColumns=function(i){this.columnModel.removeValueColumns(i,"api")},h.prototype.addValueColumn=function(i){this.columnModel.addValueColumn(i,"api")},h.prototype.addValueColumns=function(i){this.columnModel.addValueColumns(i,"api")},h.prototype.setRowGroupColumns=function(i){this.columnModel.setRowGroupColumns(i,"api")},h.prototype.removeRowGroupColumn=function(i){this.columnModel.removeRowGroupColumn(i,"api")},h.prototype.removeRowGroupColumns=function(i){this.columnModel.removeRowGroupColumns(i,"api")},h.prototype.addRowGroupColumn=function(i){this.columnModel.addRowGroupColumn(i,"api")},h.prototype.addRowGroupColumns=function(i){this.columnModel.addRowGroupColumns(i,"api")},h.prototype.getRowGroupColumns=function(){return this.columnModel.getRowGroupColumns()},h.prototype.setPivotColumns=function(i){this.columnModel.setPivotColumns(i,"api")},h.prototype.removePivotColumn=function(i){this.columnModel.removePivotColumn(i,"api")},h.prototype.removePivotColumns=function(i){this.columnModel.removePivotColumns(i,"api")},h.prototype.addPivotColumn=function(i){this.columnModel.addPivotColumn(i,"api")},h.prototype.addPivotColumns=function(i){this.columnModel.addPivotColumns(i,"api")},h.prototype.getPivotColumns=function(){return this.columnModel.getPivotColumns()},h.prototype.getLeftDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeLeft()},h.prototype.getCenterDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeCentre()},h.prototype.getRightDisplayedColumnGroups=function(){return this.columnModel.getDisplayedTreeRight()},h.prototype.getAllDisplayedColumnGroups=function(){return this.columnModel.getAllDisplayedTrees()},h.prototype.autoSizeColumn=function(i,r){return this.columnModel.autoSizeColumn(i,r,"api")},h.prototype.autoSizeColumns=function(i,r){this.columnModel.autoSizeColumns({columns:i,skipHeader:r})},h.prototype.autoSizeAllColumns=function(i){this.columnModel.autoSizeAllColumns(i,"api")},h.prototype.setSecondaryColumns=function(i){this.columnModel.setSecondaryColumns(i,"api")},h.prototype.getSecondaryColumns=function(){return this.columnModel.getSecondaryColumns()},h.prototype.getPrimaryColumns=function(){return this.columnModel.getAllPrimaryColumns()},h.prototype.cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid=function(){setTimeout(ft.removeAllReferences.bind(window,this,"Column API"),100)},h.prototype.columnGroupOpened=function(i,r){console.error("AG Grid: columnGroupOpened no longer exists, use setColumnGroupOpened"),this.setColumnGroupOpened(i,r)},h.prototype.hideColumns=function(i,r){console.error("AG Grid: hideColumns is deprecated, use setColumnsVisible"),this.columnModel.setColumnsVisible(i,!r,"api")},h.prototype.hideColumn=function(i,r){console.error("AG Grid: hideColumn is deprecated, use setColumnVisible"),this.columnModel.setColumnVisible(i,!r,"api")},h.prototype.setState=function(i){return console.error("AG Grid: setState is deprecated, use setColumnState"),this.setColumnState(i)},h.prototype.getState=function(){return console.error("AG Grid: getState is deprecated, use getColumnState"),this.getColumnState()},h.prototype.resetState=function(){console.error("AG Grid: resetState is deprecated, use resetColumnState"),this.resetColumnState()},h.prototype.getAggregationColumns=function(){return console.error("AG Grid: getAggregationColumns is deprecated, use getValueColumns"),this.columnModel.getValueColumns()},h.prototype.removeAggregationColumn=function(i){console.error("AG Grid: removeAggregationColumn is deprecated, use removeValueColumn"),this.columnModel.removeValueColumn(i,"api")},h.prototype.removeAggregationColumns=function(i){console.error("AG Grid: removeAggregationColumns is deprecated, use removeValueColumns"),this.columnModel.removeValueColumns(i,"api")},h.prototype.addAggregationColumn=function(i){console.error("AG Grid: addAggregationColumn is deprecated, use addValueColumn"),this.columnModel.addValueColumn(i,"api")},h.prototype.addAggregationColumns=function(i){console.error("AG Grid: addAggregationColumns is deprecated, use addValueColumns"),this.columnModel.addValueColumns(i,"api")},h.prototype.setColumnAggFunction=function(i,r){console.error("AG Grid: setColumnAggFunction is deprecated, use setColumnAggFunc"),this.columnModel.setColumnAggFunc(i,r,"api")},h.prototype.getDisplayNameForCol=function(i){return console.error("AG Grid: getDisplayNameForCol is deprecated, use getDisplayNameForColumn"),this.getDisplayNameForColumn(i,null)},h.prototype.setColumnState=function(i){return console.error("AG Grid: setColumnState is deprecated, use applyColumnState"),this.columnModel.applyColumnState({state:i,applyOrder:!0},"api")},h.prototype.getOriginalColumnGroup=function(i){return console.error("AG Grid: getOriginalColumnGroup is deprecated, use getProvidedColumnGroup"),this.columnModel.getProvidedColumnGroup(i)},xv([K("columnModel")],h.prototype,"columnModel",void 0),xv([_n],h.prototype,"cleanDownReferencesToAvoidMemoryLeakInCaseApplicationIsKeepingReferenceToDestroyedGrid",null),xv([qe("columnApi")],h)}(),lw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),bc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ec=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.initialised=!1,r}return lw(i,h),i.prototype.init=function(){this.cellExpressions=this.gridOptionsWrapper.isEnableCellExpressions(),this.initialised=!0},i.prototype.getValue=function(r,o,u,d){if(void 0===u&&(u=!1),void 0===d&&(d=!1),this.initialised||this.init(),o){var N,m=r.getColDef(),w=m.field,P=r.getId(),x=o.data,k=o.groupData&&void 0!==o.groupData[P],q=!d&&o.aggData&&void 0!==o.aggData[P];if(u&&m.filterValueGetter?N=this.executeFilterValueGetter(m.filterValueGetter,x,r,o):this.gridOptionsWrapper.isTreeData()&&q?N=o.aggData[P]:this.gridOptionsWrapper.isTreeData()&&m.valueGetter?N=this.executeValueGetter(m.valueGetter,x,r,o):this.gridOptionsWrapper.isTreeData()&&w&&x?N=Hs(x,w,r.isFieldContainsDots()):k?N=o.groupData[P]:q?N=o.aggData[P]:m.valueGetter?N=this.executeValueGetter(m.valueGetter,x,r,o):w&&x&&(N=Hs(x,w,r.isFieldContainsDots())),this.cellExpressions&&"string"==typeof N&&0===N.indexOf("=")){var ee=N.substring(1);N=this.executeValueGetter(ee,x,r,o)}if(null==N){var le=this.getOpenedGroup(o,r);if(null!=le)return le}return N}},i.prototype.getOpenedGroup=function(r,o){if(this.gridOptionsWrapper.isShowOpenedGroup()&&o.getColDef().showRowGroup)for(var d=o.getColDef().showRowGroup,m=r.parent;null!=m;){if(m.rowGroupColumn&&(!0===d||d===m.rowGroupColumn.getId()))return m.key;m=m.parent}},i.prototype.setValue=function(r,o,u,d){var m=this.columnModel.getPrimaryColumn(o);if(!r||!m)return!1;b(r.data)&&(r.data={});var w=m.getColDef(),P=w.field,x=w.newValueHandler,N=w.valueSetter;if(b(P)&&b(x)&&b(N))return console.warn("AG Grid: you need either field or valueSetter set on colDef for editing to work"),!1;var q,k={node:r,data:r.data,oldValue:this.getValue(m,r),newValue:u,colDef:m.getColDef(),column:m,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};if(k.newValue=u,void 0===(q=x&&re(x)?x(k):re(N)?this.expressionService.evaluate(N,k):this.setValueUsingField(r.data,P,u,m.isFieldContainsDots()))&&(q=!0),!q)return!1;r.resetQuickFilterAggregateText(),this.valueCache.onDataChanged(),k.newValue=this.getValue(m,r);var ee=m.getColDef().onCellValueChanged;return"function"==typeof ee&&setTimeout(function(){return ee(k)},0),this.eventService.dispatchEvent({type:ne.EVENT_CELL_VALUE_CHANGED,event:null,rowIndex:r.rowIndex,rowPinned:r.rowPinned,column:k.column,api:k.api,columnApi:k.columnApi,colDef:k.colDef,context:k.context,data:r.data,node:r,oldValue:k.oldValue,newValue:k.newValue,value:k.newValue,source:d}),!0},i.prototype.setValueUsingField=function(r,o,u,d){if(!o)return!1;if(d)for(var w=o.split("."),P=r;w.length>0&&P;){var x=w.shift();0===w.length?P[x]=u:P=P[x]}else r[o]=u;return!0},i.prototype.executeFilterValueGetter=function(r,o,u,d){var m={data:o,node:d,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,d)};return this.expressionService.evaluate(r,m)},i.prototype.executeValueGetter=function(r,o,u,d){var m=u.getId(),w=this.valueCache.getValue(d,m);if(void 0!==w)return w;var P={data:o,node:d,column:u,colDef:u.getColDef(),api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),getValue:this.getValueCallback.bind(this,d)},x=this.expressionService.evaluate(r,P);return this.valueCache.setValue(d,m,x),x},i.prototype.getValueCallback=function(r,o){var u=this.columnModel.getPrimaryColumn(o);return u?this.getValue(u,r):null},i.prototype.getKeyForNode=function(r,o){var u=this.getValue(r,o),d=r.getColDef().keyCreator,m=u;return d&&(m=d({value:u,colDef:r.getColDef(),column:r,node:o,data:o.data,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()})),"string"==typeof m||null==m||"[object Object]"===(m=String(m))&&Wt(function(){console.warn("AG Grid: a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")},"getKeyForNode - warn about [object,object]"),m},bc([K("expressionService")],i.prototype,"expressionService",void 0),bc([K("columnModel")],i.prototype,"columnModel",void 0),bc([K("valueCache")],i.prototype,"valueCache",void 0),bc([We],i.prototype,"init",null),bc([qe("valueService")],i)}(Ge),mu=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ff=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Mv=function(h,i){return function(r,o){i(r,o,h)}},KS=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.expressionToFunctionCache={},r}return mu(i,h),i.prototype.setBeans=function(r){this.logger=r.create("ExpressionService")},i.prototype.evaluate=function(r,o){return"function"==typeof r?r(o):"string"==typeof r?this.evaluateExpression(r,o):void console.error("AG Grid: value should be either a string or a function",r)},i.prototype.evaluateExpression=function(r,o){try{return this.createExpressionFunction(r)(o.value,o.context,o.oldValue,o.newValue,o.value,o.node,o.data,o.colDef,o.rowIndex,o.api,o.columnApi,o.getValue,o.column,o.columnGroup)}catch(m){return console.log("Processing of the expression failed"),console.log("Expression = "+r),console.log("Params =",o),console.log("Exception = "+m),null}},i.prototype.createExpressionFunction=function(r){if(this.expressionToFunctionCache[r])return this.expressionToFunctionCache[r];var o=this.createFunctionBody(r),u=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, columnApi, getValue, column, columnGroup",o);return this.expressionToFunctionCache[r]=u,u},i.prototype.createFunctionBody=function(r){return r.indexOf("return")>=0?r:"return "+r+";"},ff([Mv(0,Er("loggerFactory"))],i.prototype,"setBeans",null),ff([qe("expressionService")],i)}(Ge),YS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),uw=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.templateCache={},r.waitingCallbacks={},r}return YS(i,h),i.prototype.getTemplate=function(r,o){var u=this.templateCache[r];if(u)return u;var d=this.waitingCallbacks[r],m=this;if(!d){this.waitingCallbacks[r]=d=[];var w=new XMLHttpRequest;w.onload=function(){m.handleHttpResult(this,r)},w.open("GET",r),w.send()}return o&&d.push(o),null},i.prototype.handleHttpResult=function(r,o){if(200===r.status&&null!==r.response){this.templateCache[o]=r.response||r.responseText;for(var u=this.waitingCallbacks[o],d=0;d<u.length;d++)(0,u[d])()}else console.warn("AG Grid: Unable to get template error "+r.status+" - "+o)},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("templateService")],i),i}(Ge),CO=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),cw=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Rs=function(h,i){return function(r,o){i(r,o,h)}},Oc=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return CO(i,h),i.prototype.setBeans=function(r){this.logging=r.isDebug()},i.prototype.create=function(r){return new Cl(r,this.isLogging.bind(this))},i.prototype.isLogging=function(){return this.logging},cw([Rs(0,Er("gridOptionsWrapper"))],i.prototype,"setBeans",null),cw([qe("loggerFactory")],i)}(Ge),Cl=function(){function h(i,r){this.name=i,this.isLoggingFunc=r}return h.prototype.isLogging=function(){return this.isLoggingFunc()},h.prototype.log=function(i){this.isLoggingFunc()&&console.log("AG Grid."+this.name+": "+i)},h}(),pw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ar=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},oi=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return pw(i,h),i.prototype.setComp=function(r,o,u){var d=this;this.view=r,this.eGridHostDiv=o,this.eGui=u,this.mouseEventService.stampTopLevelGridCompWithGridInstance(o),this.createManagedBean(new ul(this.view)),this.addRtlSupport(),this.addManagedListener(this,ne.EVENT_KEYBOARD_FOCUS,function(){d.view.addOrRemoveKeyboardFocusClass(!0)}),this.addManagedListener(this,ne.EVENT_MOUSE_FOCUS,function(){d.view.addOrRemoveKeyboardFocusClass(!1)});var m=this.resizeObserverService.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(function(){return m()}),this.ctrlsService.registerGridCtrl(this)},i.prototype.showDropZones=function(){return yt.isRegistered(W.ModuleNames.RowGroupingModule)},i.prototype.showSideBar=function(){return yt.isRegistered(W.ModuleNames.SideBarModule)},i.prototype.showStatusBar=function(){return yt.isRegistered(W.ModuleNames.StatusBarModule)},i.prototype.showWatermark=function(){return yt.isRegistered(W.ModuleNames.EnterpriseCoreModule)},i.prototype.onGridSizeChanged=function(){this.eventService.dispatchEvent({type:ne.EVENT_GRID_SIZE_CHANGED,api:this.gridApi,columnApi:this.columnApi,clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})},i.prototype.addRtlSupport=function(){var r=this.gridOptionsWrapper.isEnableRtl()?"ag-rtl":"ag-ltr";this.view.setRtlClass(r)},i.prototype.destroyGridUi=function(){this.view.destroyGridUi()},i.prototype.getGui=function(){return this.eGui},i.prototype.setResizeCursor=function(r){this.view.setCursor(r?"ew-resize":null)},i.prototype.disableUserSelect=function(r){this.view.setUserSelect(r?"none":null)},i.prototype.focusNextInnerContainer=function(r){var o=this.gridOptionsWrapper.getDocument(),u=this.view.getFocusableContainers(),m=u.findIndex(function(w){return w.contains(o.activeElement)})+(r?-1:1);return!(m<=0||m>=u.length)&&this.focusService.focusInto(u[m])},i.prototype.focusInnerElement=function(r){var o=this.view.getFocusableContainers();if(r){if(o.length>1)return this.focusService.focusInto(Jt(o),!0);var u=Jt(this.columnModel.getAllDisplayedColumns());if(this.focusService.focusGridView(u,!0))return!0}return this.focusService.focusFirstHeader()},i.prototype.forceFocusOutOfContainer=function(r){void 0===r&&(r=!1),this.view.forceFocusOutOfContainer(r)},Ar([K("columnApi")],i.prototype,"columnApi",void 0),Ar([K("gridApi")],i.prototype,"gridApi",void 0),Ar([K("focusService")],i.prototype,"focusService",void 0),Ar([K("resizeObserverService")],i.prototype,"resizeObserverService",void 0),Ar([K("columnModel")],i.prototype,"columnModel",void 0),Ar([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Ar([K("mouseEventService")],i.prototype,"mouseEventService",void 0),i}(Ge),Fv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Rc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Cu=function(h){function i(r){var o=h.call(this,void 0)||this;return o.eGridDiv=r,o}return Fv(i,h),i.prototype.postConstruct=function(){var r=this;this.logger=this.loggerFactory.create("GridComp");var o={destroyGridUi:function(){return r.destroyBean(r)},setRtlClass:function(d){return r.addCssClass(d)},addOrRemoveKeyboardFocusClass:function(d){return r.addOrRemoveCssClass(Do.AG_KEYBOARD_FOCUS,d)},forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:function(d){r.getGui().style.userSelect=null!=d?d:"",r.getGui().style.webkitUserSelect=null!=d?d:""},setCursor:function(d){r.getGui().style.cursor=null!=d?d:""}};this.ctrl=this.createManagedBean(new oi);var u=this.createTemplate();this.setTemplate(u),this.ctrl.setComp(o,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:function(){},focusInnerElement:function(d){return r.ctrl.focusInnerElement(d)}})},i.prototype.insertGridIntoDom=function(){var r=this,o=this.getGui();this.eGridDiv.appendChild(o),this.addDestroyFunc(function(){r.eGridDiv.removeChild(o),r.logger.log("Grid removed from DOM")})},i.prototype.updateLayoutClasses=function(r,o){var u=this.eRootWrapperBody.classList;u.toggle(W.LayoutCssClasses.AUTO_HEIGHT,o.autoHeight),u.toggle(W.LayoutCssClasses.NORMAL,o.normal),u.toggle(W.LayoutCssClasses.PRINT,o.print),this.addOrRemoveCssClass(W.LayoutCssClasses.AUTO_HEIGHT,o.autoHeight),this.addOrRemoveCssClass(W.LayoutCssClasses.NORMAL,o.normal),this.addOrRemoveCssClass(W.LayoutCssClasses.PRINT,o.print)},i.prototype.createTemplate=function(){return'<div class="ag-root-wrapper">\n                '+(this.ctrl.showDropZones()?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"")+'\n                <div class="ag-root-wrapper-body" ref="rootWrapperBody">\n                    <ag-grid-body ref="gridBody"></ag-grid-body>\n                    '+(this.ctrl.showSideBar()?'<ag-side-bar ref="sideBar"></ag-side-bar>':"")+"\n                </div>\n                "+(this.ctrl.showStatusBar()?'<ag-status-bar ref="statusBar"></ag-status-bar>':"")+"\n                <ag-pagination></ag-pagination>\n                "+(this.ctrl.showWatermark()?"<ag-watermark></ag-watermark>":"")+"\n            </div>"},i.prototype.getFocusableElement=function(){return this.eRootWrapperBody},i.prototype.getFocusableContainers=function(){var r=[this.gridBodyComp.getGui()];return this.sideBarComp&&r.push(this.sideBarComp.getGui()),r.filter(function(o){return Wr(o)})},Rc([K("loggerFactory")],i.prototype,"loggerFactory",void 0),Rc([Ne("gridBody")],i.prototype,"gridBodyComp",void 0),Rc([Ne("sideBar")],i.prototype,"sideBarComp",void 0),Rc([Ne("rootWrapperBody")],i.prototype,"eRootWrapperBody",void 0),Rc([We],i.prototype,"postConstruct",null),i}(hd),Iv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),$t=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},dw=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}var r;return Iv(i,h),r=i,i.prototype.progressSort=function(o,u,d){var m=this.getNextSortDirection(o);this.setSortForColumn(o,m,u,d)},i.prototype.setSortForColumn=function(o,u,d,m){u!==ge.SORT_ASC&&u!==ge.SORT_DESC&&(u=null),o.setSort(u,m),(d||this.gridOptionsWrapper.isAlwaysMultiSort())&&!this.gridOptionsWrapper.isSuppressMultiSort()||this.clearSortBarThisColumn(o,m),this.updateSortIndex(o),this.dispatchSortChangedEvents(m)},i.prototype.updateSortIndex=function(o){var u=this.getColumnsWithSortingOrdered(),d=0;u.forEach(function(w){w!==o&&(w.setSortIndex(d),d++)}),o.getSort()&&o.setSortIndex(d),this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(w){return null==w.getSort()}).forEach(function(w){return w.setSortIndex()})},i.prototype.onSortChanged=function(o){this.dispatchSortChangedEvents(o)},i.prototype.isSortActive=function(){var u=this.columnModel.getPrimaryAndSecondaryAndAutoColumns().filter(function(d){return!!d.getSort()});return u&&u.length>0},i.prototype.dispatchSortChangedEvents=function(o){this.eventService.dispatchEvent({type:ne.EVENT_SORT_CHANGED,api:this.gridApi,columnApi:this.columnApi,source:o})},i.prototype.clearSortBarThisColumn=function(o,u){this.columnModel.getPrimaryAndSecondaryAndAutoColumns().forEach(function(d){d!==o&&d.setSort(void 0,u)})},i.prototype.getNextSortDirection=function(o){var u;if(u=o.getColDef().sortingOrder?o.getColDef().sortingOrder:this.gridOptionsWrapper.getSortingOrder()?this.gridOptionsWrapper.getSortingOrder():r.DEFAULT_SORTING_ORDER,!Array.isArray(u)||u.length<=0)return console.warn("AG Grid: sortingOrder must be an array with at least one element, currently it's "+u),null;var P,d=u.indexOf(o.getSort());return r.DEFAULT_SORTING_ORDER.indexOf(P=d<0||d==u.length-1?u[0]:u[d+1])<0?(console.warn("AG Grid: invalid sort type "+P),null):P},i.prototype.getColumnsWithSortingOrdered=function(){var o=this.columnModel.getPrimaryAndSecondaryAndAutoColumns(),u=o.filter(function(m){return!!m.getSort()}),d={};return o.forEach(function(m,w){return d[m.getId()]=w}),u.sort(function(m,w){var P=m.getSortIndex(),x=w.getSortIndex();return null!=P&&null!=x?P-x:null==P&&null==x?d[m.getId()]>d[w.getId()]?1:-1:null==x?-1:1}),u},i.prototype.getSortModel=function(){return this.getColumnsWithSortingOrdered().map(function(o){return{sort:o.getSort(),colId:o.getId()}})},i.prototype.getSortOptions=function(){return this.getColumnsWithSortingOrdered().map(function(o){return{sort:o.getSort(),column:o}})},i.DEFAULT_SORTING_ORDER=[ge.SORT_ASC,ge.SORT_DESC,null],$t([K("columnModel")],i.prototype,"columnModel",void 0),$t([K("columnApi")],i.prototype,"columnApi",void 0),$t([K("gridApi")],i.prototype,"gridApi",void 0),r=$t([qe("sortController")],i)}(Ge),Nv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},qS=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Nv(i,h),i.prototype.setMouseOver=function(r){this.selectedColumns=r,this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.clearMouseOver=function(){this.selectedColumns=null,this.eventService.dispatchEvent({type:ne.EVENT_COLUMN_HOVER_CHANGED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.isHovered=function(r){return!!this.selectedColumns&&this.selectedColumns.indexOf(r)>=0},Lv([K("columnApi")],i.prototype,"columnApi",void 0),Lv([K("gridApi")],i.prototype,"gridApi",void 0),Lv([qe("columnHoverService")],i)}(Ge),gf=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),hw=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},fw=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.executeNextFuncs=[],r.executeLaterFuncs=[],r.active=!1,r.animationThreadCount=0,r}return gf(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){return r.gridBodyCtrl=o.gridBodyCtrl})},i.prototype.isActive=function(){return this.active},i.prototype.start=function(){this.active||this.gridOptionsWrapper.isSuppressColumnMoveAnimation()||this.gridOptionsWrapper.isEnableRtl()||(this.ensureAnimationCssClassPresent(),this.active=!0)},i.prototype.finish=function(){!this.active||(this.flush(),this.active=!1)},i.prototype.executeNextVMTurn=function(r){this.active?this.executeNextFuncs.push(r):r()},i.prototype.executeLaterVMTurn=function(r){this.active?this.executeLaterFuncs.push(r):r()},i.prototype.ensureAnimationCssClassPresent=function(){var r=this;this.animationThreadCount++;var o=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(function(){r.animationThreadCount===o&&r.gridBodyCtrl.setColumnMovingCss(!1)})},i.prototype.flush=function(){var r=this.executeNextFuncs;this.executeNextFuncs=[];var o=this.executeLaterFuncs;this.executeLaterFuncs=[],(0!==r.length||0!==o.length)&&(window.setTimeout(function(){return r.forEach(function(u){return u()})},0),window.setTimeout(function(){return o.forEach(function(u){return u()})},300))},hw([K("ctrlsService")],i.prototype,"ctrlsService",void 0),hw([We],i.prototype,"postConstruct",null),hw([qe("columnAnimationService")],i)}(Ge),yd=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Gv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},wO=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}var r;return yd(i,h),r=i,i.prototype.createAutoGroupColumns=function(o,u){var d=this,m=[],w=this.gridOptionsWrapper.isTreeData(),P=this.gridOptionsWrapper.isGroupMultiAutoColumn();return w&&P&&(console.warn("AG Grid: you cannot mix groupMultiAutoColumn with treeData, only one column can be used to display groups when doing tree data"),P=!1),P?u.forEach(function(x,N){m.push(d.createOneAutoGroupColumn(o,x,N))}):m.push(this.createOneAutoGroupColumn(o)),m},i.prototype.createOneAutoGroupColumn=function(o,u,d){var w,m=this.generateDefaultColDef(u);w=u?ge.GROUP_AUTO_COLUMN_ID+"-"+u.getId():r.GROUP_AUTO_COLUMN_BUNDLE_ID,In(m,this.gridOptionsWrapper.getAutoGroupColumnDef()),(m=this.columnFactory.mergeColDefs(m)).colId=w,this.gridOptionsWrapper.isTreeData()||b(m.field)&&b(m.valueGetter)&&b(m.filterValueGetter)&&(m.filter=!1),d&&d>0&&(m.headerCheckboxSelection=!1);var N=o.find(function(q){return q.getId()==w});if(N)return N.setColDef(m,null),this.columnFactory.applyColumnState(N,m),N;var k=new kt(m,null,w,!0);return this.context.createBean(k),k},i.prototype.generateDefaultColDef=function(o){var u=this.gridOptionsWrapper.getAutoGroupColumnDef(),m={headerName:this.gridOptionsWrapper.getLocaleTextFunc()("group","Group")};if(u&&(u.cellRenderer||u.cellRendererFramework||u.cellRendererSelector)||(m.cellRenderer="agGroupCellRenderer"),o){var P=o.getColDef();Object.assign(m,{headerName:this.columnModel.getDisplayNameForColumn(o,"header"),headerValueGetter:P.headerValueGetter}),(P.cellRenderer||P.cellRendererFramework)&&Object.assign(m,{cellRendererParams:{innerRenderer:P.cellRenderer,innerRendererFramework:P.cellRendererFramework,innerRendererParams:P.cellRendererParams}}),m.showRowGroup=o.getColId()}else m.showRowGroup=!0;return m},i.GROUP_AUTO_COLUMN_BUNDLE_ID=ge.GROUP_AUTO_COLUMN_ID,Gv([K("columnModel")],i.prototype,"columnModel",void 0),Gv([K("columnFactory")],i.prototype,"columnFactory",void 0),r=Gv([qe("autoGroupColService")],i)}(Ge),XS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),md=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},QS=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return XS(i,h),i.prototype.postConstruct=function(){var r=this;this.ctrlsService.whenReady(function(o){r.centerRowContainerCon=o.centerRowContainerCtrl,r.addManagedListener(r.eventService,ne.EVENT_BODY_HEIGHT_CHANGED,r.onBodyHeightChanged.bind(r)),r.addManagedListener(r.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,r.onScrollVisibilityChanged.bind(r)),r.checkPageSize()})},i.prototype.notActive=function(){return!this.gridOptionsWrapper.isPaginationAutoPageSize()},i.prototype.onScrollVisibilityChanged=function(){this.checkPageSize()},i.prototype.onBodyHeightChanged=function(){this.checkPageSize()},i.prototype.checkPageSize=function(){if(!this.notActive()){var r=this.gridOptionsWrapper.getRowHeightAsNumber(),o=this.centerRowContainerCon.getViewportSizeFeature().getBodyHeight();if(o>0){var u=Math.floor(o/r);this.gridOptionsWrapper.setProperty("paginationPageSize",u)}}},md([K("ctrlsService")],i.prototype,"ctrlsService",void 0),md([We],i.prototype,"postConstruct",null),md([qe("paginationAutoPageSizeService")],i)}(Ge),gw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),kv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Dc=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.cacheVersion=0,r}return gw(i,h),i.prototype.init=function(){this.active=this.gridOptionsWrapper.isValueCache(),this.neverExpires=this.gridOptionsWrapper.isValueCacheNeverExpires()},i.prototype.onDataChanged=function(){this.neverExpires||this.expire()},i.prototype.expire=function(){this.cacheVersion++},i.prototype.setValue=function(r,o,u){this.active&&(r.__cacheVersion!==this.cacheVersion&&(r.__cacheVersion=this.cacheVersion,r.__cacheData={}),r.__cacheData[o]=u)},i.prototype.getValue=function(r,o){if(this.active&&r.__cacheVersion===this.cacheVersion)return r.__cacheData[o]},kv([We],i.prototype,"init",null),kv([qe("valueCache")],i)}(Ge),dn=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Pc=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return dn(i,h),i.prototype.init=function(){this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.addManagedListener(this.eventService,ne.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged.bind(this))},i.prototype.onCellValueChanged=function(r){r.source!==ge.SOURCE_PASTE&&this.doChangeDetection(r.node,r.column)},i.prototype.doChangeDetection=function(r,o){if(!this.gridOptionsWrapper.isSuppressChangeDetection()){if(this.clientSideRowModel&&!r.isRowPinned()){var u=this.gridOptionsWrapper.isAggregateOnlyChangedColumns(),d=new Ji(u,this.clientSideRowModel.getRootNode());d.addParentNode(r.parent,[o]),this.clientSideRowModel.doAggregate(d)}this.rowRenderer.refreshCells()}},Vv([K("rowModel")],i.prototype,"rowModel",void 0),Vv([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Vv([We],i.prototype,"init",null),Vv([qe("changeDetectionService")],i)}(Ge),vw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Tc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},yw=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return vw(i,h),i.prototype.adaptFunction=function(r,o){var u=this.componentMetadataProvider.retrieve(r);return u&&u.functionAdapter?u.functionAdapter(o):null},i.prototype.adaptCellRendererFunction=function(r){return function(){function u(){}return u.prototype.refresh=function(d){return!1},u.prototype.getGui=function(){return this.eGui},u.prototype.init=function(d){var m=r(d),w=typeof m;this.eGui="string"!==w&&"number"!==w&&"boolean"!==w?null!=m?m:wr("<span></span>"):wr("<span>"+m+"</span>")},u}()},i.prototype.doesImplementIComponent=function(r){return!!r&&r.prototype&&"getGui"in r.prototype},Tc([K("componentMetadataProvider")],i.prototype,"componentMetadataProvider",void 0),Tc([qe("agComponentUtils")],i)}(Ge),ZS=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mw=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Bv=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return ZS(i,h),i.prototype.postConstruct=function(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[]},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:[]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached"]},floatingFilterWrapperComponent:{mandatoryMethodList:[],optionalMethodList:[]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},pinnedRowCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},filterComponent:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]}}},i.prototype.retrieve=function(r){return this.componentMetaData[r]},mw([K("agComponentUtils")],i.prototype,"agComponentUtils",void 0),mw([We],i.prototype,"postConstruct",null),mw([qe("componentMetadataProvider")],i)}(Ge),Cw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ww=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},eb={"ag-theme-custom":{headerHeight:25,headerCellMinWidth:24,listItemHeight:20,rowHeight:25,chartMenuPanelWidth:220},"ag-theme-material":{headerHeight:56,headerCellMinWidth:48,listItemHeight:32,rowHeight:48,chartMenuPanelWidth:240},"ag-theme-balham":{headerHeight:32,headerCellMinWidth:24,listItemHeight:24,rowHeight:28,chartMenuPanelWidth:220},"ag-theme-alpine":{headerHeight:48,headerCellMinWidth:36,listItemHeight:24,rowHeight:42,chartMenuPanelWidth:240}},_w={headerHeight:["ag-header-row"],headerCellMinWidth:["ag-header-cell"],listItemHeight:["ag-virtual-list-item"],rowHeight:["ag-row"],chartMenuPanelWidth:["ag-chart-docked-container"]},wd={},_d=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Cw(i,h),i.prototype.getSassVariable=function(r,o){var u="ag-theme-"+(r.match("material")?"material":r.match("balham")?"balham":r.match("alpine")?"alpine":"custom"),d=eb[u][o],m=0;wd[r]||(wd[r]={});var w=wd[r][o];if(null!=w)return w;if(_w[o]){var P=_w[o],x=document.createElement("div");x.classList.add(r),x.style.position="absolute";var N=P.reduce(function(q,ee){var le=document.createElement("div");return le.style.position="static",le.classList.add(ee),q.appendChild(le),le},x);if(document.body){document.body.appendChild(x);var k=-1!==o.toLowerCase().indexOf("height")?"height":"width";m=parseInt(window.getComputedStyle(N)[k],10),document.body.removeChild(x)}}return wd[r][o]=m||d,wd[r][o]},i.prototype.isThemeDark=function(){var r=this.getTheme().theme;return!!r&&r.indexOf("dark")>=0},i.prototype.chartMenuPanelWidth=function(){var r=this.getTheme().themeFamily;return this.getSassVariable(r,"chartMenuPanelWidth")},i.prototype.getTheme=function(){for(var r=/\bag-(material|(?:theme-([\w\-]*)))\b/,o=this.eGridDiv,u=null;o&&!(u=r.exec(o.className));)o=o.parentElement||void 0;if(!u)return{};var d=u[0];if(void 0===u[2]){var w=d.replace("ag-","ag-theme-");Wt(function(){return console.warn("AG Grid: As of v19 old theme are no longer provided. Please replace "+d+" with "+w+".")},"using-old-theme")}return{theme:d,el:o,themeFamily:d.replace(/-dark$/,"")}},ww([K("eGridDiv")],i.prototype,"eGridDiv",void 0),ww([qe("environment")],i)}(Ge),Qo=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),wu=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},jr=function(h,i){return function(r,o){i(r,o,h)}},wl=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.scrollY=0,r.uiBodyHeight=0,r}return Qo(i,h),i.prototype.agWire=function(r){this.logger=r.create("RowContainerHeightService")},i.prototype.postConstruct=function(){this.addManagedListener(this.eventService,ne.EVENT_BODY_HEIGHT_CHANGED,this.updateOffset.bind(this)),this.maxDivHeight=wm(),this.logger.log("maxDivHeight = "+this.maxDivHeight)},i.prototype.isStretching=function(){return this.stretching},i.prototype.getDivStretchOffset=function(){return this.divStretchOffset},i.prototype.updateOffset=function(){if(this.stretching){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,u=this.getUiBodyHeight();(o!==this.scrollY||u!==this.uiBodyHeight)&&(this.scrollY=o,this.uiBodyHeight=u,this.calculateOffset())}},i.prototype.calculateOffset=function(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;var r=this.scrollY/this.maxScrollY,o=r*this.pixelsToShave;this.logger.log("Div Stretch Offset = "+o+" ("+this.pixelsToShave+" * "+r+")"),this.setDivStretchOffset(o)},i.prototype.setUiContainerHeight=function(r){r!==this.uiContainerHeight&&(this.uiContainerHeight=r,this.eventService.dispatchEvent({type:ne.EVENT_ROW_CONTAINER_HEIGHT_CHANGED}))},i.prototype.clearOffset=function(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)},i.prototype.setDivStretchOffset=function(r){var o="number"==typeof r?Math.floor(r):null;this.divStretchOffset!==o&&(this.divStretchOffset=o,this.eventService.dispatchEvent({type:ne.EVENT_HEIGHT_SCALE_CHANGED}))},i.prototype.setModelHeight=function(r){this.modelHeight=r,this.stretching=null!=r&&this.maxDivHeight>0&&r>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()},i.prototype.getUiContainerHeight=function(){return this.uiContainerHeight},i.prototype.getRealPixelPosition=function(r){return r-this.divStretchOffset},i.prototype.getUiBodyHeight=function(){var o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return o.bottom-o.top},i.prototype.getScrollPositionForPixel=function(r){if(this.pixelsToShave<=0)return r;var o=this.modelHeight-this.getUiBodyHeight();return this.maxScrollY*(r/o)},wu([K("ctrlsService")],i.prototype,"ctrlsService",void 0),wu([jr(0,Er("loggerFactory"))],i.prototype,"agWire",null),wu([We],i.prototype,"postConstruct",null),wu([qe("rowContainerHeightService")],i)}(Ge),_l=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),vf=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Zo=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return _l(i,h),i.prototype.init=function(){this.groupSelectsChildren=this.gridOptionsWrapper.isGroupSelectsChildren(),this.isRowSelectableFunc=this.gridOptionsWrapper.getIsRowSelectableFunc()},i.prototype.updateSelectableAfterGrouping=function(r){this.isRowSelectableFunc&&this.recurseDown(r.childrenAfterGroup,function(u){return u.childrenAfterGroup})},i.prototype.recurseDown=function(r,o){var u=this;!r||r.forEach(function(d){var m;d.group&&(d.hasChildren()&&u.recurseDown(o(d),o),m=u.groupSelectsChildren?re((o(d)||[]).find(function(P){return!0===P.selectable})):!!u.isRowSelectableFunc&&u.isRowSelectableFunc(d),d.setRowSelectable(m))})},vf([We],i.prototype,"init",null),vf([qe("selectableService")],i)}(Ge),Sd=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),pr=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},_u=function(h){function i(){var r=h.call(this)||this;return r.previousAndFirstButtonsDisabled=!1,r.nextButtonDisabled=!1,r.lastButtonDisabled=!1,r}return Sd(i,h),i.prototype.postConstruct=function(){var r=this,o=this.gridOptionsWrapper.isEnableRtl();this.setTemplate(this.getTemplate()),this.btFirst.insertAdjacentElement("afterbegin",Fr(o?"last":"first",this.gridOptionsWrapper)),this.btPrevious.insertAdjacentElement("afterbegin",Fr(o?"next":"previous",this.gridOptionsWrapper)),this.btNext.insertAdjacentElement("afterbegin",Fr(o?"previous":"next",this.gridOptionsWrapper)),this.btLast.insertAdjacentElement("afterbegin",Fr(o?"first":"last",this.gridOptionsWrapper)),this.gridOptionsWrapper.isPagination()&&!this.gridOptionsWrapper.isSuppressPaginationPanel()?(this.addManagedListener(this.eventService,ne.EVENT_PAGINATION_CHANGED,this.onPaginationChanged.bind(this)),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(function(m){var w=m.el,P=m.fn;r.addManagedListener(w,"click",P),r.addManagedListener(w,"keydown",function(x){(x.key===Ie.ENTER||x.key===Ie.SPACE)&&(x.preventDefault(),P())})}),this.onPaginationChanged()):this.setDisplayed(!1)},i.prototype.onPaginationChanged=function(){this.enableOrDisableButtons(),this.updateRowLabels(),this.setCurrentPageLabel(),this.setTotalLabels()},i.prototype.onBtFirst=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToFirstPage()},i.prototype.setCurrentPageLabel=function(){var r=this.paginationProxy.getTotalPages()>0,o=this.paginationProxy.getCurrentPage();this.lbCurrent.innerHTML=this.formatNumber(r?o+1:0)},i.prototype.formatNumber=function(r){var o=this.gridOptionsWrapper.getPaginationNumberFormatterFunc();if(o)return o({value:r});var d=this.gridOptionsWrapper.getLocaleTextFunc();return gg(r,d("thousandSeparator",","),d("decimalSeparator","."))},i.prototype.getTemplate=function(){var r=this.gridOptionsWrapper.getLocaleTextFunc(),o=r("page","Page"),u=r("to","to"),d=r("of","of"),m=r("firstPage","First Page"),w=r("previousPage","Previous Page"),P=r("nextPage","Next Page"),x=r("lastPage","Last Page"),N=this.getCompId();return'<div class="ag-paging-panel ag-unselectable" id="ag-'+N+'">\n                <span class="ag-paging-row-summary-panel" role="status">\n                    <span id="ag-'+N+'-first-row" ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+N+'-to">'+u+'</span>\n                    <span id="ag-'+N+'-last-row" ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>\n                    <span id="ag-'+N+'-of">'+d+'</span>\n                    <span id="ag-'+N+'-row-count" ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>\n                </span>\n                <span class="ag-paging-page-summary-panel" role="presentation">\n                    <div ref="btFirst" class="ag-paging-button" role="button" aria-label="'+m+'" tabindex="0"></div>\n                    <div ref="btPrevious" class="ag-paging-button" role="button" aria-label="'+w+'" tabindex="0"></div>\n                    <span class="ag-paging-description" role="status">\n                        <span id="ag-'+N+'-start-page">'+o+'</span>\n                        <span id="ag-'+N+'-start-page-number" ref="lbCurrent" class="ag-paging-number"></span>\n                        <span id="ag-'+N+'-of-page">'+d+'</span>\n                        <span id="ag-'+N+'-of-page-number" ref="lbTotal" class="ag-paging-number"></span>\n                    </span>\n                    <div ref="btNext" class="ag-paging-button" role="button" aria-label="'+P+'" tabindex="0"></div>\n                    <div ref="btLast" class="ag-paging-button" role="button" aria-label="'+x+'" tabindex="0"></div>\n                </span>\n            </div>'},i.prototype.onBtNext=function(){this.nextButtonDisabled||this.paginationProxy.goToNextPage()},i.prototype.onBtPrevious=function(){this.previousAndFirstButtonsDisabled||this.paginationProxy.goToPreviousPage()},i.prototype.onBtLast=function(){this.lastButtonDisabled||this.paginationProxy.goToLastPage()},i.prototype.enableOrDisableButtons=function(){var r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.isLastPageFound(),u=this.paginationProxy.getTotalPages();this.previousAndFirstButtonsDisabled=0===r,this.btFirst.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),zu(this.btFirst,this.previousAndFirstButtonsDisabled),this.btPrevious.classList.toggle("ag-disabled",this.previousAndFirstButtonsDisabled),zu(this.btPrevious,this.previousAndFirstButtonsDisabled);var d=this.isZeroPagesToDisplay();this.nextButtonDisabled=o&&r===u-1||d,this.btNext.classList.toggle("ag-disabled",this.nextButtonDisabled),zu(this.btNext,this.nextButtonDisabled),this.lastButtonDisabled=!o||d||r===u-1,this.btLast.classList.toggle("ag-disabled",this.lastButtonDisabled),zu(this.btLast,this.lastButtonDisabled)},i.prototype.updateRowLabels=function(){var m,w,r=this.paginationProxy.getCurrentPage(),o=this.paginationProxy.getPageSize(),u=this.paginationProxy.isLastPageFound(),d=this.paginationProxy.isLastPageFound()?this.paginationProxy.getMasterRowCount():null;this.isZeroPagesToDisplay()?m=w=0:(w=(m=o*r+1)+o-1,u&&w>d&&(w=d)),this.lbFirstRowOnPage.innerHTML=this.formatNumber(m),this.lbLastRowOnPage.innerHTML=this.rowNodeBlockLoader.isLoading()?"?":this.formatNumber(w)},i.prototype.isZeroPagesToDisplay=function(){var r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages();return r&&0===o},i.prototype.setTotalLabels=function(){var r=this.paginationProxy.isLastPageFound(),o=this.paginationProxy.getTotalPages(),u=r?this.paginationProxy.getMasterRowCount():null;if(1===u){var d=this.paginationProxy.getRow(0);if(d&&d.group&&!d.groupData&&!d.aggData)return void this.setTotalLabelsToZero()}if(r)this.lbTotal.innerHTML=this.formatNumber(o),this.lbRecordCount.innerHTML=this.formatNumber(u);else{var w=this.gridOptionsWrapper.getLocaleTextFunc()("more","more");this.lbTotal.innerHTML=w,this.lbRecordCount.innerHTML=w}},i.prototype.setTotalLabelsToZero=function(){this.lbFirstRowOnPage.innerHTML=this.formatNumber(0),this.lbCurrent.innerHTML=this.formatNumber(0),this.lbLastRowOnPage.innerHTML=this.formatNumber(0),this.lbTotal.innerHTML=this.formatNumber(0),this.lbRecordCount.innerHTML=this.formatNumber(0)},pr([K("paginationProxy")],i.prototype,"paginationProxy",void 0),pr([K("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),pr([Ne("btFirst")],i.prototype,"btFirst",void 0),pr([Ne("btPrevious")],i.prototype,"btPrevious",void 0),pr([Ne("btNext")],i.prototype,"btNext",void 0),pr([Ne("btLast")],i.prototype,"btLast",void 0),pr([Ne("lbRecordCount")],i.prototype,"lbRecordCount",void 0),pr([Ne("lbFirstRowOnPage")],i.prototype,"lbFirstRowOnPage",void 0),pr([Ne("lbLastRowOnPage")],i.prototype,"lbLastRowOnPage",void 0),pr([Ne("lbCurrent")],i.prototype,"lbCurrent",void 0),pr([Ne("lbTotal")],i.prototype,"lbTotal",void 0),pr([We],i.prototype,"postConstruct",null),i}(Rt),Ac=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Mn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ds=(()=>(function(h){h[h.Loading=0]="Loading",h[h.NoRows=1]="NoRows"}(Ds||(Ds={})),Ds))(),xc=function(h){function i(){var r=h.call(this,i.TEMPLATE)||this;return r.inProgress=!1,r.destroyRequested=!1,r}return Ac(i,h),i.prototype.updateLayoutClasses=function(r,o){var u=this.eOverlayWrapper.classList;u.toggle(W.LayoutCssClasses.AUTO_HEIGHT,o.autoHeight),u.toggle(W.LayoutCssClasses.NORMAL,o.normal),u.toggle(W.LayoutCssClasses.PRINT,o.print)},i.prototype.postConstruct=function(){this.createManagedBean(new ul(this)),this.setDisplayed(!1),this.addManagedListener(this.eventService,ne.EVENT_ROW_DATA_CHANGED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_ROW_DATA_UPDATED,this.onRowDataChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onNewColumnsLoaded.bind(this)),this.gridOptionsWrapper.isRowModelDefault()&&!this.gridOptionsWrapper.getRowData()&&this.showLoadingOverlay(),this.gridApi.registerOverlayWrapperComp(this)},i.prototype.setWrapperTypeClass=function(r){var o=this.eOverlayWrapper.classList;o.toggle("ag-overlay-loading-wrapper",r===Ds.Loading),o.toggle("ag-overlay-no-rows-wrapper",r===Ds.NoRows)},i.prototype.showLoadingOverlay=function(){if(!this.gridOptionsWrapper.isSuppressLoadingOverlay()){var u=this.userComponentFactory.getLoadingOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,Ds.Loading)}},i.prototype.showNoRowsOverlay=function(){if(!this.gridOptionsWrapper.isSuppressNoRowsOverlay()){var u=this.userComponentFactory.getNoRowsOverlayCompDetails({}).newAgStackInstance();this.showOverlay(u,Ds.NoRows)}},i.prototype.showOverlay=function(r,o){var u=this;this.inProgress||(this.setWrapperTypeClass(o),this.destroyActiveOverlay(),this.inProgress=!0,r&&r.then(function(d){u.inProgress=!1,u.eOverlayWrapper.appendChild(d.getGui()),u.activeOverlay=d,u.destroyRequested&&(u.destroyRequested=!1,u.destroyActiveOverlay())}),this.setDisplayed(!0))},i.prototype.destroyActiveOverlay=function(){this.inProgress?this.destroyRequested=!0:!this.activeOverlay||(this.activeOverlay=this.getContext().destroyBean(this.activeOverlay),Ln(this.eOverlayWrapper))},i.prototype.hideOverlay=function(){this.destroyActiveOverlay(),this.setDisplayed(!1)},i.prototype.destroy=function(){this.destroyActiveOverlay(),h.prototype.destroy.call(this)},i.prototype.showOrHideOverlay=function(){var r=this.paginationProxy.isEmpty(),o=this.gridOptionsWrapper.isSuppressNoRowsOverlay();r&&!o?this.showNoRowsOverlay():this.hideOverlay()},i.prototype.onRowDataChanged=function(){this.showOrHideOverlay()},i.prototype.onNewColumnsLoaded=function(){this.columnModel.isReady()&&!this.paginationProxy.isEmpty()&&this.hideOverlay()},i.TEMPLATE='\n        <div class="ag-overlay" aria-hidden="true">\n            <div class="ag-overlay-panel">\n                <div class="ag-overlay-wrapper" ref="eOverlayWrapper"></div>\n            </div>\n        </div>',Mn([K("userComponentFactory")],i.prototype,"userComponentFactory",void 0),Mn([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Mn([K("gridApi")],i.prototype,"gridApi",void 0),Mn([K("columnModel")],i.prototype,"columnModel",void 0),Mn([Ne("eOverlayWrapper")],i.prototype,"eOverlayWrapper",void 0),Mn([We],i.prototype,"postConstruct",null),i}(Rt),Mc=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ha=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Wa=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Mc(i,h),i.prototype.getFirstRow=function(){var o,r=0;return this.pinnedRowModel.getPinnedTopRowCount()?o=ge.PINNED_TOP:this.rowModel.getRowCount()?(o=null,r=this.paginationProxy.getPageFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(o=ge.PINNED_BOTTOM),void 0===o?null:{rowIndex:r,rowPinned:o}},i.prototype.getLastRow=function(){var r,o=null,u=this.pinnedRowModel.getPinnedBottomRowCount(),d=this.pinnedRowModel.getPinnedTopRowCount();return u?(o=ge.PINNED_BOTTOM,r=u-1):this.rowModel.getRowCount()?(o=null,r=this.paginationProxy.getPageLastRow()):d&&(o=ge.PINNED_TOP,r=d-1),void 0===r?null:{rowIndex:r,rowPinned:o}},i.prototype.getRowNode=function(r){switch(r.rowPinned){case ge.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case ge.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},i.prototype.sameRow=function(r,o){return!r&&!o||!(r&&!o||!r&&o)&&r.rowIndex===o.rowIndex&&r.rowPinned==o.rowPinned},i.prototype.before=function(r,o){switch(r.rowPinned){case ge.PINNED_TOP:if(o.rowPinned!==ge.PINNED_TOP)return!0;break;case ge.PINNED_BOTTOM:if(o.rowPinned!==ge.PINNED_BOTTOM)return!1;break;default:if(re(o.rowPinned))return o.rowPinned!==ge.PINNED_TOP}return r.rowIndex<o.rowIndex},Ha([K("rowModel")],i.prototype,"rowModel",void 0),Ha([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ha([K("paginationProxy")],i.prototype,"paginationProxy",void 0),Ha([qe("rowPositionUtils")],i)}(Ge),Jo=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Su=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Jo(i,h),i.prototype.createId=function(r){return this.createIdFromValues(r.rowIndex,r.column,r.rowPinned)},i.prototype.createIdFromValues=function(r,o,u){return r+"."+(null==u?"null":u)+"."+o.getId()},i.prototype.equals=function(r,o){return r.column===o.column&&r.rowPinned===o.rowPinned&&r.rowIndex===o.rowIndex},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("cellPositionUtils")],i),i}(Ge),Ur=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ps=function h(i){this.cellValueChanges=i},ai=function(h){function i(r,o,u){var d=h.call(this,r)||this;return d.initialRange=o,d.finalRange=u,d}return Ur(i,h),i}(Ps),jv=function(){function h(i){this.actionStack=[],this.maxStackSize=i||h.DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}return h.prototype.pop=function(){return this.actionStack.pop()},h.prototype.push=function(i){!(i.cellValueChanges&&i.cellValueChanges.length>0)||(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(i))},h.prototype.clear=function(){this.actionStack=[]},h.prototype.getCurrentStackSize=function(){return this.actionStack.length},h.DEFAULT_STACK_SIZE=10,h}(),Ic=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ts=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Uv=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.cellValueChanges=[],r.activeCellEdit=null,r.activeRowEdit=null,r.isPasting=!1,r.isFilling=!1,r.onCellValueChanged=function(o){var u={column:o.column,rowIndex:o.rowIndex,rowPinned:o.rowPinned},d=null!==r.activeCellEdit&&r.cellPositionUtils.equals(r.activeCellEdit,u),m=null!==r.activeRowEdit&&r.rowPositionUtils.sameRow(r.activeRowEdit,u);if(d||m||r.isPasting||r.isFilling){var k=o.oldValue,q=o.value,ee={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:o.column.getColId(),newValue:q,oldValue:k};r.cellValueChanges.push(ee)}},r.clearStacks=function(){r.undoStack.clear(),r.redoStack.clear()},r}return Ic(i,h),i.prototype.init=function(){if(this.gridOptionsWrapper.isUndoRedoCellEditing()){var r=this.gridOptionsWrapper.getUndoRedoCellEditingLimit();r<=0||(this.undoStack=new jv(r),this.redoStack=new jv(r),this.addRowEditingListeners(),this.addCellEditingListeners(),this.addPasteListeners(),this.addFillListeners(),this.addManagedListener(this.eventService,ne.EVENT_CELL_VALUE_CHANGED,this.onCellValueChanged),this.addManagedListener(this.eventService,ne.EVENT_MODEL_UPDATED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_GROUP_OPENED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_MOVED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PINNED,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VISIBLE,this.clearStacks),this.addManagedListener(this.eventService,ne.EVENT_ROW_DRAG_END,this.clearStacks))}},i.prototype.getCurrentUndoStackSize=function(){return this.undoStack?this.undoStack.getCurrentStackSize():0},i.prototype.getCurrentRedoStackSize=function(){return this.redoStack?this.redoStack.getCurrentStackSize():0},i.prototype.undo=function(){if(this.undoStack){var r=this.undoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(o){return o.oldValue}),r instanceof ai?this.processRangeAndCellFocus(r.cellValueChanges,r.initialRange):this.processRangeAndCellFocus(r.cellValueChanges),this.redoStack.push(r))}},i.prototype.redo=function(){if(this.redoStack){var r=this.redoStack.pop();!r||!r.cellValueChanges||(this.processAction(r,function(o){return o.newValue}),r instanceof ai?this.processRangeAndCellFocus(r.cellValueChanges,r.finalRange):this.processRangeAndCellFocus(r.cellValueChanges),this.undoStack.push(r))}},i.prototype.processAction=function(r,o){var u=this;r.cellValueChanges.forEach(function(d){var P=d.columnId,N=u.getRowNode({rowIndex:d.rowIndex,rowPinned:d.rowPinned});!N.displayed||N.setDataValue(P,o(d))})},i.prototype.processRangeAndCellFocus=function(r,o){var u;if(o){var d=o.startRow,m=o.endRow;return u={rowPinned:d.rowPinned,rowIndex:d.rowIndex,columnId:o.startColumn.getColId()},this.setLastFocusedCell(u),void this.gridApi.addCellRange({rowStartIndex:d.rowIndex,rowStartPinned:d.rowPinned,rowEndIndex:m.rowIndex,rowEndPinned:m.rowPinned,columnStart:o.startColumn,columns:o.columns})}var P=r[0],q=this.getRowNode({rowIndex:P.rowIndex,rowPinned:P.rowPinned});this.setLastFocusedCell(u={rowPinned:P.rowPinned,rowIndex:q.rowIndex,columnId:P.columnId})},i.prototype.setLastFocusedCell=function(r){var o=r.rowIndex,u=r.columnId,d=r.rowPinned;this.gridApi.ensureIndexVisible(o),this.gridApi.ensureColumnVisible(u),yt.isRegistered(W.ModuleNames.RangeSelectionModule)&&this.gridApi.clearRangeSelection(),this.focusService.setFocusedCell(o,u,d,!0)},i.prototype.addRowEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_ROW_EDITING_STARTED,function(o){r.activeRowEdit={rowIndex:o.rowIndex,rowPinned:o.rowPinned}}),this.addManagedListener(this.eventService,ne.EVENT_ROW_EDITING_STOPPED,function(){var o=new Ps(r.cellValueChanges);r.pushActionsToUndoStack(o),r.activeRowEdit=null})},i.prototype.addCellEditingListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_CELL_EDITING_STARTED,function(o){r.activeCellEdit={column:o.column,rowIndex:o.rowIndex,rowPinned:o.rowPinned}}),this.addManagedListener(this.eventService,ne.EVENT_CELL_EDITING_STOPPED,function(){if(r.activeCellEdit=null,!r.activeRowEdit&&!r.isPasting&&!r.isFilling){var u=new Ps(r.cellValueChanges);r.pushActionsToUndoStack(u)}})},i.prototype.addPasteListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_PASTE_START,function(){r.isPasting=!0}),this.addManagedListener(this.eventService,ne.EVENT_PASTE_END,function(){var o=new Ps(r.cellValueChanges);r.pushActionsToUndoStack(o),r.isPasting=!1})},i.prototype.addFillListeners=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_FILL_START,function(){r.isFilling=!0}),this.addManagedListener(this.eventService,ne.EVENT_FILL_END,function(o){var u=new ai(r.cellValueChanges,o.initialRange,o.finalRange);r.pushActionsToUndoStack(u),r.isFilling=!1})},i.prototype.pushActionsToUndoStack=function(r){this.undoStack.push(r),this.cellValueChanges=[],this.redoStack.clear()},i.prototype.getRowNode=function(r){switch(r.rowPinned){case ge.PINNED_TOP:return this.pinnedRowModel.getPinnedTopRowData()[r.rowIndex];case ge.PINNED_BOTTOM:return this.pinnedRowModel.getPinnedBottomRowData()[r.rowIndex];default:return this.rowModel.getRow(r.rowIndex)}},Ts([K("focusService")],i.prototype,"focusService",void 0),Ts([K("gridApi")],i.prototype,"gridApi",void 0),Ts([K("rowModel")],i.prototype,"rowModel",void 0),Ts([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ts([K("cellPositionUtils")],i.prototype,"cellPositionUtils",void 0),Ts([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Ts([We],i.prototype,"init",null),Ts([qe("undoRedoService")],i)}(Ge),Sw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),yf=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},zv=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Sw(i,h),i.prototype.findHeader=function(r,o){var u;if(u=r.column instanceof er?this.columnModel["getDisplayedGroup"+o](r.column):this.columnModel["getDisplayedCol"+o](r.column))return{column:u,headerRowIndex:r.headerRowIndex}},i.prototype.findColAtEdgeForHeaderRow=function(r,o){var u=this.columnModel.getAllDisplayedColumns(),d=u["start"===o?0:u.length-1];if(d){var w=this.ctrlsService.getHeaderRowContainerCtrl(d.getPinned()).getRowType(r);return w==W.HeaderRowType.COLUMN_GROUP?{headerRowIndex:r,column:this.columnModel.getColumnGroupAtLevel(d,r)}:{headerRowIndex:null==w?-1:r,column:d}}},yf([K("columnModel")],i.prototype,"columnModel",void 0),yf([K("ctrlsService")],i.prototype,"ctrlsService",void 0),yf([qe("headerPositionUtils")],i)}(Ge),tb=function(){function h(){}return h.prototype.buildColumnDefs=function(i,r,o){var u=this,d=[],m={};return i.forEach(function(w){for(var x=!0,N=u.createDefFromColumn(w,r,o),k=w.getOriginalParent();k;){var q=null;if(k.isPadding())k=k.getOriginalParent();else{var ee=m[k.getGroupId()];if(ee){ee.children.push(N),x=!1;break}(q=u.createDefFromGroup(k))&&(q.children=[N],m[q.groupId]=q,N=q,k=k.getOriginalParent())}}x&&d.push(N)}),d},h.prototype.createDefFromGroup=function(i){var r=ua(i.getColGroupDef(),["children"]);return r&&(r.groupId=i.getGroupId()),r},h.prototype.createDefFromColumn=function(i,r,o){var u=ua(i.getColDef());return u.colId=i.getColId(),u.width=i.getActualWidth(),u.rowGroup=i.isRowGroupActive(),u.rowGroupIndex=i.isRowGroupActive()?r.indexOf(i):null,u.pivot=i.isPivotActive(),u.pivotIndex=i.isPivotActive()?o.indexOf(i):null,u.aggFunc=i.isValueActive()?i.getAggFunc():null,u.hide=!i.isVisible()||void 0,u.pinned=i.isPinned()?i.getPinned():null,u.sort=i.getSort()?i.getSort():null,u.sortIndex=null!=i.getSortIndex()?i.getSortIndex():null,u},h=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("columnDefFactory")],h),h}(),bd=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},rb=function(){function h(){}return h.prototype.getInitialRowClasses=function(i){var r=[];return re(i.extraCssClass)&&r.push(i.extraCssClass),r.push("ag-row"),r.push(i.rowFocused?"ag-row-focus":"ag-row-no-focus"),i.fadeRowIn&&r.push("ag-opacity-zero"),r.push(i.rowIsEven?"ag-row-even":"ag-row-odd"),i.rowNode.isRowPinned()&&r.push("ag-row-pinned"),i.rowNode.isSelected()&&r.push("ag-row-selected"),i.rowNode.footer&&r.push("ag-row-footer"),r.push("ag-row-level-"+i.rowLevel),i.rowNode.stub&&r.push("ag-row-loading"),i.fullWidthRow&&r.push("ag-full-width-row"),i.expandable&&(r.push("ag-row-group"),r.push(i.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),i.rowNode.dragging&&r.push("ag-row-dragging"),tg(r,this.processClassesFromGridOptions(i.rowNode)),tg(r,this.preProcessRowClassRules(i.rowNode)),r.push(i.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),i.firstRowOnPage&&r.push("ag-row-first"),i.lastRowOnPage&&r.push("ag-row-last"),i.fullWidthRow&&(i.pinned===ge.PINNED_LEFT&&r.push("ag-cell-last-left-pinned"),i.pinned===ge.PINNED_RIGHT&&r.push("ag-cell-first-right-pinned")),r},h.prototype.processClassesFromGridOptions=function(i){var r=[],o=function(P){"string"==typeof P?r.push(P):Array.isArray(P)&&P.forEach(function(x){return r.push(x)})},u=this.gridOptionsWrapper.getRowClass();if(u){if("function"==typeof u)return console.warn("AG Grid: rowClass should not be a function, please use getRowClass instead"),[];o(u)}var d=this.gridOptionsWrapper.getRowClassFunc();return d&&o(d({data:i.data,node:i,rowIndex:i.rowIndex})),r},h.prototype.preProcessRowClassRules=function(i){var r=[];return this.processRowClassRules(i,function(o){r.push(o)},function(o){}),r},h.prototype.processRowClassRules=function(i,r,o){var u={data:i.data,node:i,rowIndex:i.rowIndex,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()};this.stylingService.processClassRules(this.gridOptionsWrapper.rowClassRules(),u,r,o)},h.prototype.calculateRowLevel=function(i){return i.group?i.level:i.parent?i.parent.level+1:0},bd([K("stylingService")],h.prototype,"stylingService",void 0),bd([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),bd([qe("rowCssClassCalculator")],h)}(),mf=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},$v=function(){function h(){}return h.prototype.doFullSort=function(i,r){var u=i.map(function(d,m){return{currentPos:m,rowNode:d}});return u.sort(this.compareRowNodes.bind(this,r)),u.map(function(d){return d.rowNode})},h.prototype.compareRowNodes=function(i,r,o){for(var u=r.rowNode,d=o.rowNode,m=0,w=i.length;m<w;m++){var q,P=i[m],x=P.sort===ge.SORT_DESC,N=this.getValue(u,P.column),k=this.getValue(d,P.column),ee=this.getComparator(P,u);if(q=ee?ee(N,k,u,d,x):ft.defaultComparator(N,k,this.gridOptionsWrapper.isAccentedSort()),!isNaN(q)&&0!==q)return P.sort===ge.SORT_ASC?q:-1*q}return r.currentPos-o.currentPos},h.prototype.getComparator=function(i,r){var o=i.column,u=o.getColDef().comparator;if(null!=u)return u;if(r.rowGroupColumn)return r.rowGroupColumn.getColDef().comparator;if(o.getColDef().showRowGroup){var d=!r.group&&o.getColDef().field;if(d){var m=this.columnModel.getPrimaryColumn(d);if(m)return m.getColDef().comparator}}},h.prototype.getValue=function(i,r){return this.valueService.getValue(r,i,!1,!1)},mf([K("gridOptionsWrapper")],h.prototype,"gridOptionsWrapper",void 0),mf([K("valueService")],h.prototype,"valueService",void 0),mf([K("columnModel")],h.prototype,"columnModel",void 0),mf([qe("rowNodeSorter")],h)}(),nb=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Kv=function(h){function i(){var o=null!==h&&h.apply(this,arguments)||this;return o.ready=!1,o.readyCallbacks=[],o}var r;return nb(i,h),r=i,i.prototype.checkReady=function(){if(this.ready=null!=this.gridCtrl&&null!=this.gridBodyCtrl&&null!=this.centerRowContainerCtrl&&null!=this.leftRowContainerCtrl&&null!=this.rightRowContainerCtrl&&null!=this.bottomCenterRowContainerCtrl&&null!=this.bottomLeftRowContainerCtrl&&null!=this.bottomRightRowContainerCtrl&&null!=this.topCenterRowContainerCtrl&&null!=this.topLeftRowContainerCtrl&&null!=this.topRightRowContainerCtrl&&null!=this.centerHeaderRowContainerCtrl&&null!=this.leftHeaderRowContainerCtrl&&null!=this.rightHeaderRowContainerCtrl&&null!=this.fakeHScrollCtrl&&null!=this.gridHeaderCtrl,this.ready){var o=this.createReadyParams();this.readyCallbacks.forEach(function(u){return u(o)}),this.readyCallbacks.length=0}},i.prototype.whenReady=function(o){this.ready?o(this.createReadyParams()):this.readyCallbacks.push(o)},i.prototype.createReadyParams=function(){return{centerRowContainerCtrl:this.centerRowContainerCtrl,leftRowContainerCtrl:this.leftRowContainerCtrl,rightRowContainerCtrl:this.rightRowContainerCtrl,bottomCenterRowContainerCtrl:this.bottomCenterRowContainerCtrl,bottomLeftRowContainerCtrl:this.bottomLeftRowContainerCtrl,bottomRightRowContainerCtrl:this.bottomRightRowContainerCtrl,topCenterRowContainerCtrl:this.topCenterRowContainerCtrl,topLeftRowContainerCtrl:this.topLeftRowContainerCtrl,topRightRowContainerCtrl:this.topRightRowContainerCtrl,centerHeaderRowContainerCtrl:this.centerHeaderRowContainerCtrl,leftHeaderRowContainerCtrl:this.leftHeaderRowContainerCtrl,rightHeaderRowContainerCtrl:this.rightHeaderRowContainerCtrl,fakeHScrollCtrl:this.fakeHScrollCtrl,gridBodyCtrl:this.gridBodyCtrl,gridCtrl:this.gridCtrl,gridHeaderCtrl:this.gridHeaderCtrl}},i.prototype.registerFakeHScrollCtrl=function(o){this.fakeHScrollCtrl=o,this.checkReady()},i.prototype.registerGridHeaderCtrl=function(o){this.gridHeaderCtrl=o,this.checkReady()},i.prototype.registerCenterRowContainerCtrl=function(o){this.centerRowContainerCtrl=o,this.checkReady()},i.prototype.registerLeftRowContainerCtrl=function(o){this.leftRowContainerCtrl=o,this.checkReady()},i.prototype.registerRightRowContainerCtrl=function(o){this.rightRowContainerCtrl=o,this.checkReady()},i.prototype.registerTopCenterRowContainerCtrl=function(o){this.topCenterRowContainerCtrl=o,this.checkReady()},i.prototype.registerTopLeftRowContainerCon=function(o){this.topLeftRowContainerCtrl=o,this.checkReady()},i.prototype.registerTopRightRowContainerCtrl=function(o){this.topRightRowContainerCtrl=o,this.checkReady()},i.prototype.registerBottomCenterRowContainerCtrl=function(o){this.bottomCenterRowContainerCtrl=o,this.checkReady()},i.prototype.registerBottomLeftRowContainerCtrl=function(o){this.bottomLeftRowContainerCtrl=o,this.checkReady()},i.prototype.registerBottomRightRowContainerCtrl=function(o){this.bottomRightRowContainerCtrl=o,this.checkReady()},i.prototype.registerHeaderContainer=function(o,u){switch(u){case ge.PINNED_LEFT:this.leftHeaderRowContainerCtrl=o;break;case ge.PINNED_RIGHT:this.rightHeaderRowContainerCtrl=o;break;default:this.centerHeaderRowContainerCtrl=o}this.checkReady()},i.prototype.registerGridBodyCtrl=function(o){this.gridBodyCtrl=o,this.checkReady()},i.prototype.registerGridCtrl=function(o){this.gridCtrl=o,this.checkReady()},i.prototype.getFakeHScrollCtrl=function(){return this.fakeHScrollCtrl},i.prototype.getGridHeaderCtrl=function(){return this.gridHeaderCtrl},i.prototype.getGridCtrl=function(){return this.gridCtrl},i.prototype.getCenterRowContainerCtrl=function(){return this.centerRowContainerCtrl},i.prototype.getTopCenterRowContainerCtrl=function(){return this.topCenterRowContainerCtrl},i.prototype.getBottomCenterRowContainerCtrl=function(){return this.bottomCenterRowContainerCtrl},i.prototype.getGridBodyCtrl=function(){return this.gridBodyCtrl},i.prototype.getHeaderRowContainerCtrls=function(){return[this.leftHeaderRowContainerCtrl,this.rightHeaderRowContainerCtrl,this.centerHeaderRowContainerCtrl]},i.prototype.getHeaderRowContainerCtrl=function(o){switch(o){case ge.PINNED_LEFT:return this.leftHeaderRowContainerCtrl;case ge.PINNED_RIGHT:return this.rightHeaderRowContainerCtrl;default:return this.centerHeaderRowContainerCtrl}},i.NAME="ctrlsService",i=r=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe(r.NAME)],i),i}(Ge),ib=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ob=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.registry={},r}return ib(i,h),i.prototype.register=function(r){this.registry[r.controllerName]=r.controllerClass},i.prototype.getInstance=function(r){var o=this.registry[r];if(null!=o)return new o},i=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d}([qe("ctrlsFactory")],i),i}(Ge),ab=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Yv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},sb=function(h){function i(){return h.call(this)||this}return ab(i,h),i.prototype.setComp=function(r,o,u,d){this.view=r,this.eViewport=u,this.eContainer=d,this.eGui=o,this.addManagedListener(this.eventService,ne.EVENT_SCROLL_VISIBILITY_CHANGED,this.onScrollVisibilityChanged.bind(this)),this.onScrollVisibilityChanged();var m=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,m),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,m),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,m),this.setFakeHScrollSpacerWidths(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()),this.ctrlsService.registerFakeHScrollCtrl(this)},i.prototype.addActiveListenerToggles=function(){var r=this;["mouseenter","mousedown","touchstart"].forEach(function(d){return r.addManagedListener(r.eGui,d,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!0)})}),["mouseleave","mouseup","touchend"].forEach(function(d){return r.addManagedListener(r.eGui,d,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-active",!1)})})},i.prototype.postConstruct=function(){this.enableRtl=this.gridOptionsWrapper.isEnableRtl(),this.invisibleScrollbar=bm()},i.prototype.onScrollVisibilityChanged=function(){this.setScrollVisible(),this.setFakeHScrollSpacerWidths()},i.prototype.hideAndShowInvisibleScrollAsNeeded=function(){var r=this;this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL,function(o){"horizontal"===o.direction&&r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!0)}),this.addManagedListener(this.eventService,ne.EVENT_BODY_SCROLL_END,function(){return r.view.addOrRemoveCssClass("ag-scrollbar-scrolling",!1)})},i.prototype.setFakeHScrollSpacerWidths=function(){var r=this.scrollVisibleService.isVerticalScrollShowing(),o=this.columnModel.getDisplayedColumnsRightWidth(),u=!this.enableRtl&&r,d=this.gridOptionsWrapper.getScrollbarWidth();u&&(o+=d),this.view.setRightSpacerFixedWidth(o),this.view.includeRightSpacerScrollerCss("ag-scroller-corner",o<=d);var m=this.columnModel.getDisplayedColumnsLeftWidth();this.enableRtl&&r&&(m+=d),this.view.setLeftSpacerFixedWidth(m),this.view.includeLeftSpacerScrollerCss("ag-scroller-corner",m<=d)},i.prototype.setScrollVisible=function(){var r=this.scrollVisibleService.isHorizontalScrollShowing(),o=this.invisibleScrollbar,u=this.gridOptionsWrapper.isSuppressHorizontalScroll(),d=r&&this.gridOptionsWrapper.getScrollbarWidth()||0,w=u?0:0===d&&o?15:d;this.view.addOrRemoveCssClass("ag-scrollbar-invisible",o),this.view.setHeight(w),this.view.setViewportHeight(w),this.view.setContainerHeight(w)},i.prototype.getViewport=function(){return this.eViewport},i.prototype.getContainer=function(){return this.eContainer},Yv([K("scrollVisibleService")],i.prototype,"scrollVisibleService",void 0),Yv([K("columnModel")],i.prototype,"columnModel",void 0),Yv([K("ctrlsService")],i.prototype,"ctrlsService",void 0),Yv([We],i.prototype,"postConstruct",null),i}(Ge),Sl=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),mn=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Rw=function(h){function i(){return h.call(this,i.TEMPLATE)||this}return Sl(i,h),i.prototype.postConstruct=function(){var r=this,o={addOrRemoveCssClass:function(d,m){return r.addOrRemoveCssClass(d,m)},setHeight:function(d){return Hi(r.getGui(),d)},setContainerHeight:function(d){return Hi(r.eContainer,d)},setViewportHeight:function(d){return Hi(r.eViewport,d)},setRightSpacerFixedWidth:function(d){return zt(r.eRightSpacer,d)},setLeftSpacerFixedWidth:function(d){return zt(r.eLeftSpacer,d)},includeLeftSpacerScrollerCss:function(d,m){return r.eLeftSpacer.classList.toggle(d,m)},includeRightSpacerScrollerCss:function(d,m){return r.eRightSpacer.classList.toggle(d,m)}};this.createManagedBean(new sb).setComp(o,this.getGui(),this.eViewport,this.eContainer),this.createManagedBean(new $p(function(d){return r.eContainer.style.width=d+"px"}))},i.TEMPLATE='<div class="ag-body-horizontal-scroll" aria-hidden="true">\n            <div class="ag-horizontal-left-spacer" ref="eLeftSpacer"></div>\n            <div class="ag-body-horizontal-scroll-viewport" ref="eViewport">\n                <div class="ag-body-horizontal-scroll-container" ref="eContainer"></div>\n            </div>\n            <div class="ag-horizontal-right-spacer" ref="eRightSpacer"></div>\n        </div>',mn([Ne("eLeftSpacer")],i.prototype,"eLeftSpacer",void 0),mn([Ne("eRightSpacer")],i.prototype,"eRightSpacer",void 0),mn([Ne("eViewport")],i.prototype,"eViewport",void 0),mn([Ne("eContainer")],i.prototype,"eContainer",void 0),mn([We],i.prototype,"postConstruct",null),i}(Rt),qv=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Xv=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},_O=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return qv(i,h),i.prototype.postConstruct=function(){var r=this.checkContainerWidths.bind(this);this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_CHANGED,r),this.addManagedListener(this.eventService,ne.EVENT_DISPLAYED_COLUMNS_WIDTH_CHANGED,r),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_DOM_LAYOUT,r)},i.prototype.checkContainerWidths=function(){var r=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_PRINT,o=r?0:this.columnModel.getDisplayedColumnsLeftWidth(),u=r?0:this.columnModel.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,this.eventService.dispatchEvent({type:ne.EVENT_LEFT_PINNED_WIDTH_CHANGED})),u!=this.rightWidth&&(this.rightWidth=u,this.eventService.dispatchEvent({type:ne.EVENT_RIGHT_PINNED_WIDTH_CHANGED}))},i.prototype.getPinnedRightWidth=function(){return this.rightWidth},i.prototype.getPinnedLeftWidth=function(){return this.leftWidth},Xv([K("columnModel")],i.prototype,"columnModel",void 0),Xv([We],i.prototype,"postConstruct",null),Xv([qe("pinnedWidthService")],i)}(Ge),lb=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ed=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ub=function(h){function i(){var r=null!==h&&h.apply(this,arguments)||this;return r.events=[],r}return lb(i,h),i.prototype.postConstruct=function(){this.rowModel.getType()==ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.dispatchExpanded=function(r){var o=this;null!=this.clientSideRowModel?(this.events.push(r),null==this.dispatchExpandedDebounced&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(function(){o.clientSideRowModel&&o.clientSideRowModel.onRowGroupOpened(),o.events.forEach(function(d){return o.eventService.dispatchEvent(d)}),o.events=[]})),this.dispatchExpandedDebounced()):this.eventService.dispatchEvent(r)},Ed([K("animationFrameService")],i.prototype,"animationFrameService",void 0),Ed([K("rowModel")],i.prototype,"rowModel",void 0),Ed([We],i.prototype,"postConstruct",null),Ed([qe("rowNodeEventThrottle")],i)}(Ge),bu=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},Po=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(bu(arguments[i]));return h},cb=function(){function h(i,r,o){r?(this.gridOptions=r,(new To).create(i,r,function(u){var d=new Cu(i);u.createBean(d)},void 0,o)):console.error("AG Grid: no gridOptions provided to the grid")}return h.prototype.destroy=function(){this.gridOptions&&this.gridOptions.api&&this.gridOptions.api.destroy()},h}(),To=function(){function h(){}return h.prototype.create=function(i,r,o,u,d){var m=this,w=!!r.debug,P=this.getRegisteredModules(d),x=this.createBeansList(r.rowModelType,P),N=this.createProvidedBeans(i,r,d);if(x){var k={providedBeanInstances:N,beanClasses:x,debug:w},q=new Cl("AG Grid",function(){return r.debug}),ee=new Cl("Context",function(){return k.debug}),le=new rm(k,ee),de=le.getBean("beans");this.registerModuleUserComponents(de,P),this.registerStackComponents(de,P),this.registerControllers(de,P),o(le),de.ctrlsService.whenReady(function(){m.setColumnsAndData(de),m.dispatchGridReadyEvent(de,r);var ye=yt.isRegistered(W.ModuleNames.EnterpriseCoreModule);q.log("initialised successfully, enterprise = "+ye)}),u&&u(le)}},h.prototype.registerControllers=function(i,r){r.forEach(function(o){o.controllers&&o.controllers.forEach(function(u){return i.ctrlsFactory.register(u)})})},h.prototype.registerStackComponents=function(i,r){var o=this.createAgStackComponentsList(r);i.agStackComponentsRegistry.setupComponents(o)},h.prototype.getRegisteredModules=function(i){var r=i?i.modules:null,o=yt.getRegisteredModules(),u=[],d={};function m(w,P){(function x(N){d[N.moduleName]||(d[N.moduleName]=!0,u.push(N),yt.register(N,w))})(P),P.dependantModules&&P.dependantModules.forEach(m.bind(null,w))}return r&&r.forEach(m.bind(null,!0)),o&&o.forEach(m.bind(null,!yt.isPackageBased())),u},h.prototype.registerModuleUserComponents=function(i,r){this.extractModuleEntity(r,function(u){return u.userComponents?u.userComponents:[]}).forEach(function(u){i.userComponentRegistry.registerDefaultComponent(u.componentName,u.componentClass)})},h.prototype.createProvidedBeans=function(i,r,o){var u=o?o.frameworkOverrides:null;b(u)&&(u=new Pv);var d={gridOptions:r,eGridDiv:i,globalEventListener:o?o.globalEventListener:null,frameworkOverrides:u};return o&&o.providedBeanInstances&&Object.assign(d,o.providedBeanInstances),d},h.prototype.createAgStackComponentsList=function(i){var r=[{componentName:"AgCheckbox",componentClass:Fa},{componentName:"AgRadioButton",componentClass:Bn},{componentName:"AgToggleButton",componentClass:eo},{componentName:"AgInputTextField",componentClass:nf},{componentName:"AgInputTextArea",componentClass:of},{componentName:"AgInputNumberField",componentClass:_v},{componentName:"AgInputRange",componentClass:Sv},{componentName:"AgSelect",componentClass:Dn},{componentName:"AgSlider",componentClass:lf},{componentName:"AgAngleSelect",componentClass:uf},{componentName:"AgColorPicker",componentClass:ro},{componentName:"AgGridBody",componentClass:qp},{componentName:"AgHeaderRoot",componentClass:fv},{componentName:"AgPagination",componentClass:_u},{componentName:"AgOverlayWrapper",componentClass:xc},{componentName:"AgGroupComponent",componentClass:pd},{componentName:"AgPanel",componentClass:ii},{componentName:"AgDialog",componentClass:cd},{componentName:"AgRowContainer",componentClass:$h},{componentName:"AgFakeHorizontalScroll",componentClass:Rw}],o=this.extractModuleEntity(i,function(u){return u.agStackComponents?u.agStackComponents:[]});return r.concat(o)},h.prototype.createBeansList=function(i,r){var o=this.getRowModelClass(i,r);if(o){var u=[o,Gh,Wa,Su,zv,QS,_C,Mp,yw,Bv,Eo,ot,wl,gv,ef,xh,B_,Ja,Ke,Dv,yu,Zm,dm,bo,WC,VC,KS,cm,uw,$S,FS,Dc,Ec,Oc,fa,La,td,kr,hf,Do,gC,_d,Ba,wc,Oo,pc,dw,qS,fw,Zo,wO,Pc,GC,Uv,H_,tb,rb,ad,$v,Kv,_O,ub,ob],d=this.extractModuleEntity(r,function(w){return w.beans?w.beans:[]});u.push.apply(u,Po(d));var m=[];return u.forEach(function(w){m.indexOf(w)<0&&m.push(w)}),m}},h.prototype.extractModuleEntity=function(i,r){return[].concat.apply([],Po(i.map(r)))},h.prototype.setColumnsAndData=function(i){var r=i.gridOptionsWrapper.getColumnDefs();i.columnModel.setColumnDefs(r||[],"gridInitializing"),i.rowModel.start()},h.prototype.dispatchGridReadyEvent=function(i,r){i.eventService.dispatchEvent({type:ne.EVENT_GRID_READY,api:r.api,columnApi:r.columnApi})},h.prototype.getRowModelClass=function(i,r){i||(i=ge.ROW_MODEL_TYPE_CLIENT_SIDE);var o={};r.forEach(function(d){qt(d.rowModels,function(m,w){o[m]=w})});var u=o[i];if(re(u))return u;i===ge.ROW_MODEL_TYPE_INFINITE&&console.error('AG Grid: Row Model "Infinite" not found. Please ensure the '+W.ModuleNames.InfiniteRowModelModule+" is registered.';"),console.error("AG Grid: could not find matching row model for rowModelType "+i),i===ge.ROW_MODEL_TYPE_VIEWPORT&&console.error('AG Grid: Row Model "Viewport" not found. Please ensure the AG Grid Enterprise Module '+W.ModuleNames.ViewportRowModelModule+" is registered.';"),i===ge.ROW_MODEL_TYPE_SERVER_SIDE&&console.error('AG Grid: Row Model "Server Side" not found. Please ensure the AG Grid Enterprise Module '+W.ModuleNames.ServerSideRowModelModule+" is registered.';"),i===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&console.error('AG Grid: Row Model "Client Side" not found. Please ensure the '+W.ModuleNames.ClientSideRowModelModule+" is registered.';")},h}(),Qv=function(){function h(){}return h.prototype.wrap=function(i,r,o,u){var d=this;void 0===o&&(o=[]);var m=this.createWrapper(i,u);return r.forEach(function(w){d.createMethod(m,w,!0)}),o.forEach(function(w){d.createMethod(m,w,!1)}),m},h.prototype.unwrap=function(i){return i},h.prototype.createMethod=function(i,r,o){i.addMethod(r,this.createMethodProxy(i,r,o))},h.prototype.createMethodProxy=function(i,r,o){return function(){return i.hasMethod(r)?i.callMethod(r,arguments):(o&&console.warn("AG Grid: Framework component is missing the method "+r+"()"),null)}},h}();!function(h){h.InsideBase="insideBase",h.InsideEnd="insideEnd",h.Center="center",h.OutsideEnd="outsideEnd"}(W.BarColumnLabelPlacement||(W.BarColumnLabelPlacement={}));var ja="undefined"==typeof global?{}:global;ja.HTMLElement="undefined"==typeof HTMLElement?{}:HTMLElement,ja.HTMLButtonElement="undefined"==typeof HTMLButtonElement?{}:HTMLButtonElement,ja.HTMLSelectElement="undefined"==typeof HTMLSelectElement?{}:HTMLSelectElement,ja.HTMLInputElement="undefined"==typeof HTMLInputElement?{}:HTMLInputElement,ja.Node="undefined"==typeof Node?{}:Node,ja.MouseEvent="undefined"==typeof MouseEvent?{}:MouseEvent;var SO=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d},pb=function(){function h(i,r,o,u,d,m,w,P){this.nextId=0,this.allNodesMap={},this.rootNode=i,this.gridOptionsWrapper=r,this.eventService=o,this.columnModel=u,this.gridApi=d,this.columnApi=m,this.beans=P,this.selectionService=w,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=h.ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[],this.postConstruct()}return h.prototype.postConstruct=function(){this.suppressParentsInRowNodes=this.gridOptionsWrapper.isSuppressParentsInRowNodes(),this.isRowMasterFunc=this.gridOptionsWrapper.getIsRowMasterFunc(),this.doingTreeData=this.gridOptionsWrapper.isTreeData(),this.doingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},h.prototype.getCopyOfNodesMap=function(){return ft.cloneObject(this.allNodesMap)},h.prototype.getRowNode=function(i){return this.allNodesMap[i]},h.prototype.setRowData=function(i){var r=this;if("string"!=typeof i){var o=this.rootNode,u=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},i?o.allLeafChildren=i.map(function(d){return r.createNode(d,r.rootNode,h.TOP_LEVEL)}):(o.allLeafChildren=[],o.childrenAfterGroup=[]),u&&(u.childrenAfterFilter=o.childrenAfterFilter,u.childrenAfterGroup=o.childrenAfterGroup,u.childrenAfterAggFilter=o.childrenAfterAggFilter,u.childrenAfterSort=o.childrenAfterSort,u.childrenMapped=o.childrenMapped,u.allLeafChildren=o.allLeafChildren)}else console.warn("AG Grid: rowData must be an array, however you passed in a string. If you are loading JSON, make sure you convert the JSON string to JavaScript objects first")},h.prototype.updateRowData=function(i,r){var o={remove:[],update:[],add:[]},u=[];return this.executeRemove(i,o,u),this.executeUpdate(i,o,u),this.executeAdd(i,o),this.updateSelection(u),r&&ft.sortRowNodesByOrder(this.rootNode.allLeafChildren,r),o},h.prototype.updateSelection=function(i){var r=i.length>0;r&&i.forEach(function(u){u.setSelected(!1,!1,!0)}),this.selectionService.updateGroupsFromChildrenSelections(),r&&this.eventService.dispatchEvent({type:ne.EVENT_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi})},h.prototype.executeAdd=function(i,r){var o=this,u=i.add,d=i.addIndex;if(!ft.missingOrEmpty(u)){var P,x,m=u.map(function(q){return o.createNode(q,o.rootNode,h.TOP_LEVEL)});if("number"==typeof d&&d>=0){var N=this.rootNode.allLeafChildren,k=0===d?0:N.reduce(function(q,ee,le){var de,ye=ee.rowIndex,xe=null===(de=N[q])||void 0===de?void 0:de.rowIndex;return null!=ye&&null!=xe&&ye<d&&ye>xe?le:q},0)+1;P=N.slice(0,k),x=N.slice(k,N.length)}else P=this.rootNode.allLeafChildren,x=[];this.rootNode.allLeafChildren=function(){for(var h=[],i=0;i<arguments.length;i++)h=h.concat(SO(arguments[i]));return h}(P,m,x),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren),r.add=m}},h.prototype.executeRemove=function(i,r,o){var u=this,d=i.remove;if(!ft.missingOrEmpty(d)){var m={};d.forEach(function(w){var P=u.lookupRowNode(w);!P||(P.isSelected()&&o.push(P),P.clearRowTopAndRowIndex(),m[P.id]=!0,delete u.allNodesMap[P.id],r.remove.push(P))}),this.rootNode.allLeafChildren=this.rootNode.allLeafChildren.filter(function(w){return!m[w.id]}),this.rootNode.sibling&&(this.rootNode.sibling.allLeafChildren=this.rootNode.allLeafChildren)}},h.prototype.executeUpdate=function(i,r,o){var u=this,d=i.update;ft.missingOrEmpty(d)||d.forEach(function(m){var w=u.lookupRowNode(m);!w||(w.updateData(m),!w.selectable&&w.isSelected()&&o.push(w),u.setMasterForRow(w,m,h.TOP_LEVEL,!1),r.update.push(w))})},h.prototype.lookupRowNode=function(i){var o,r=this.gridOptionsWrapper.getRowIdFunc();if(r){var u=r({data:i,level:0});if(!(o=this.allNodesMap[u]))return console.error("AG Grid: could not find row id="+u+", data item was not found for this id"),null}else if(!(o=this.rootNode.allLeafChildren.find(function(d){return d.data===i})))return console.error("AG Grid: could not find data item as object was not found",i),console.error("Consider using getRowId to help the Grid find matching row data"),null;return o||null},h.prototype.createNode=function(i,r,o){var u=new _t(this.beans);return u.group=!1,this.setMasterForRow(u,i,o,!0),r&&!this.suppressParentsInRowNodes&&(u.parent=r),u.level=o,u.setDataAndId(i,this.nextId.toString()),this.allNodesMap[u.id]&&console.warn("AG Grid: duplicate node id '"+u.id+"' detected from getRowId callback, this could cause issues in your grid."),this.allNodesMap[u.id]=u,this.nextId++,u},h.prototype.setMasterForRow=function(i,r,o,u){if(this.doingTreeData)i.setMaster(!1),u&&(i.expanded=!1);else if(i.setMaster(!!this.doingMasterDetail&&(!this.isRowMasterFunc||this.isRowMasterFunc(r))),u){var d=this.columnModel.getRowGroupColumns();i.expanded=!!i.master&&this.isExpanded(o+(d?d.length:0))}},h.prototype.isExpanded=function(i){var r=this.gridOptionsWrapper.getGroupDefaultExpanded();return-1===r||i<r},h.TOP_LEVEL=0,h.ROOT_NODE_ID="ROOT_NODE_ID",h}(),Tw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),zr=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},no=(()=>(function(h){h[h.Normal=0]="Normal",h[h.AfterFilter=1]="AfterFilter",h[h.AfterFilterAndSort=2]="AfterFilterAndSort",h[h.PivotNodes=3]="PivotNodes"}(no||(no={})),no))(),Cf=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Tw(i,h),i.prototype.init=function(){var r=this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.EVERYTHING}),o=!this.gridOptionsWrapper.isSuppressAnimationFrame(),u=this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.EVERYTHING,afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,u),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_ROW_GROUP_CHANGED,r),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_VALUE_CHANGED,this.onValueChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_CHANGED,this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.PIVOT})),this.addManagedListener(this.eventService,ne.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_COLUMN_PIVOT_MODE_CHANGED,r);var d=this.refreshModel.bind(this,{step:W.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:o});this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_GROUP_REMOVE_SINGLE_CHILDREN,d),this.addManagedListener(this.gridOptionsWrapper,Ke.PROP_GROUP_REMOVE_LOWEST_SINGLE_CHILDREN,d),this.rootNode=new _t(this.beans),this.nodeManager=new pb(this.rootNode,this.gridOptionsWrapper,this.eventService,this.columnModel,this.gridApi,this.columnApi,this.selectionService,this.beans)},i.prototype.start=function(){var r=this.gridOptionsWrapper.getRowData();r&&this.setRowData(r)},i.prototype.ensureRowHeightsValid=function(r,o,u,d){var m,w=!1;do{m=!1;for(var P=this.getRowIndexAtPixel(r),x=this.getRowIndexAtPixel(o),N=Math.max(P,u),k=Math.min(x,d),q=N;q<=k;q++){var ee=this.getRow(q);if(ee.rowHeightEstimated){var le=this.gridOptionsWrapper.getRowHeightForNode(ee);ee.setRowHeight(le.height),m=!0,w=!0}}m&&this.setRowTopAndRowIndex()}while(m);return w},i.prototype.setRowTopAndRowIndex=function(){for(var r=this.gridOptionsWrapper.getDefaultRowHeight(),o=0,u=new Set,d=this.gridOptionsWrapper.getDomLayout()===ge.DOM_LAYOUT_NORMAL,m=0;m<this.rowsToDisplay.length;m++){var w=this.rowsToDisplay[m];if(null!=w.id&&u.add(w.id),null==w.rowHeight){var P=this.gridOptionsWrapper.getRowHeightForNode(w,d,r);w.setRowHeight(P.height,P.estimated)}w.setRowTop(o),w.setRowIndex(m),o+=w.rowHeight}return u},i.prototype.clearRowTopAndRowIndex=function(r,o){var u=r.isActive(),d=function(w){w&&null!=w.id&&!o.has(w.id)&&w.clearRowTopAndRowIndex()},m=function(w){d(w),d(w.detailNode),d(w.sibling),w.hasChildren()&&w.childrenAfterGroup&&(u&&-1!=w.level&&!w.expanded||w.childrenAfterGroup.forEach(m))};m(this.rootNode)},i.prototype.ensureRowsAtPixel=function(r,o,u){var d=this;void 0===u&&(u=0);var m=this.getRowIndexAtPixel(o),w=this.getRow(m),P=!this.gridOptionsWrapper.isSuppressAnimationFrame();return w!==r[0]&&(r.forEach(function(x){ft.removeFromArray(d.rootNode.allLeafChildren,x)}),r.forEach(function(x,N){ft.insertIntoArray(d.rootNode.allLeafChildren,x,Math.max(m+u,0)+N)}),this.refreshModel({step:W.ClientSideRowModelSteps.EVERYTHING,keepRenderedRows:!0,keepEditingRows:!0,animate:P}),!0)},i.prototype.highlightRowAtPixel=function(r,o){var u=null!=o?this.getRowIndexAtPixel(o):null,d=null!=u?this.getRow(u):null;if(d&&r&&d!==r&&null!=o){var m=this.getHighlightPosition(o,d);this.lastHighlightedRow&&this.lastHighlightedRow!==d&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null),d.setHighlighted(m),this.lastHighlightedRow=d}else this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)},i.prototype.getHighlightPosition=function(r,o){if(!o){var u=this.getRowIndexAtPixel(r);if(!(o=this.getRow(u||0)))return W.RowHighlightPosition.Below}return r-o.rowTop<o.rowHeight/2?W.RowHighlightPosition.Above:W.RowHighlightPosition.Below},i.prototype.getLastHighlightedRowNode=function(){return this.lastHighlightedRow},i.prototype.isLastRowIndexKnown=function(){return!0},i.prototype.getRowCount=function(){return this.rowsToDisplay?this.rowsToDisplay.length:0},i.prototype.getTopLevelRowCount=function(){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;var o=this.rootNode.childrenAfterAggFilter;return o?o.length:0},i.prototype.getTopLevelRowDisplayedIndex=function(r){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return r;var u=this.rootNode.childrenAfterSort[r];if(this.gridOptionsWrapper.isGroupHideOpenParents())for(;u.expanded&&u.childrenAfterSort&&u.childrenAfterSort.length>0;)u=u.childrenAfterSort[0];return u.rowIndex},i.prototype.getRowBounds=function(r){if(ft.missing(this.rowsToDisplay))return null;var o=this.rowsToDisplay[r];return o?{rowTop:o.rowTop,rowHeight:o.rowHeight}:null},i.prototype.onRowGroupOpened=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,animate:r})},i.prototype.onFilterChanged=function(r){if(!r.afterDataChange){var o=this.gridOptionsWrapper.isAnimateRows(),u=0===r.columns.length||r.columns.some(function(m){return m.isPrimary()});this.refreshModel({step:u?W.ClientSideRowModelSteps.FILTER:W.ClientSideRowModelSteps.FILTER_AGGREGATES,keepRenderedRows:!0,animate:o})}},i.prototype.onSortChanged=function(){var r=this.gridOptionsWrapper.isAnimateRows();this.refreshModel({step:W.ClientSideRowModelSteps.SORT,keepRenderedRows:!0,animate:r,keepEditingRows:!0})},i.prototype.getType=function(){return ge.ROW_MODEL_TYPE_CLIENT_SIDE},i.prototype.onValueChanged=function(){this.columnModel.isPivotActive()?this.refreshModel({step:W.ClientSideRowModelSteps.PIVOT}):this.refreshModel({step:W.ClientSideRowModelSteps.AGGREGATE})},i.prototype.createChangePath=function(r){var o=ft.missingOrEmpty(r),u=new Ji(!1,this.rootNode);return(o||this.gridOptionsWrapper.isTreeData())&&u.setInactive(),u},i.prototype.isSuppressModelUpdateAfterUpdateTransaction=function(r){if(!this.gridOptionsWrapper.isSuppressModelUpdateAfterUpdateTransaction()||null==r.rowNodeTransactions)return!1;var o=r.rowNodeTransactions.filter(function(d){return null!=d.add&&d.add.length>0||null!=d.remove&&d.remove.length>0});return null==o||0==o.length},i.prototype.refreshModel=function(r){if(!this.isSuppressModelUpdateAfterUpdateTransaction(r)){var o=this.createChangePath(r.rowNodeTransactions);switch(r.step){case W.ClientSideRowModelSteps.EVERYTHING:this.doRowGrouping(r.groupState,r.rowNodeTransactions,r.rowNodeOrder,o,!!r.afterColumnsChanged);case W.ClientSideRowModelSteps.FILTER:this.doFilter(o);case W.ClientSideRowModelSteps.PIVOT:this.doPivot(o);case W.ClientSideRowModelSteps.AGGREGATE:this.doAggregate(o);case W.ClientSideRowModelSteps.FILTER_AGGREGATES:this.doFilterAggregates(o);case W.ClientSideRowModelSteps.SORT:this.doSort(r.rowNodeTransactions,o);case W.ClientSideRowModelSteps.MAP:this.doRowsToDisplay()}var u=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(o,u),this.eventService.dispatchEvent({type:ne.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:r.animate,keepRenderedRows:r.keepRenderedRows,newData:r.newData,newPage:!1})}},i.prototype.isEmpty=function(){var r=ft.missing(this.rootNode.allLeafChildren)||0===this.rootNode.allLeafChildren.length;return ft.missing(this.rootNode)||r||!this.columnModel.isReady()},i.prototype.isRowsToRender=function(){return ft.exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0},i.prototype.getNodesInRangeForSelection=function(r,o){var m,u=!o,d=!1,w=[],P=this.gridOptionsWrapper.isGroupSelectsChildren();return this.forEachNodeAfterFilterAndSort(function(x){var N=u&&!d;if(u||(x===o||x===r)&&(u=!0),!x.group||!P){var q=u&&!d,ee=x.isParentOfNode(m);(q||ee)&&w.push(x)}N&&(x===o||x===r)&&(d=!0,m=x===o?o:r)}),w},i.prototype.setDatasource=function(r){console.error("AG Grid: should never call setDatasource on clientSideRowController")},i.prototype.getTopLevelNodes=function(){return this.rootNode?this.rootNode.childrenAfterGroup:null},i.prototype.getRootNode=function(){return this.rootNode},i.prototype.getRow=function(r){return this.rowsToDisplay[r]},i.prototype.isRowPresent=function(r){return this.rowsToDisplay.indexOf(r)>=0},i.prototype.getRowIndexAtPixel=function(r){if(this.isEmpty())return-1;var o=0,u=this.rowsToDisplay.length-1;if(r<=0)return 0;if(ft.last(this.rowsToDisplay).rowTop<=r)return this.rowsToDisplay.length-1;for(;;){var m=Math.floor((o+u)/2),w=this.rowsToDisplay[m];if(this.isRowInPixel(w,r))return m;w.rowTop<r?o=m+1:w.rowTop>r&&(u=m-1)}},i.prototype.isRowInPixel=function(r,o){return r.rowTop<=o&&r.rowTop+r.rowHeight>o},i.prototype.forEachLeafNode=function(r){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach(function(o,u){return r(o,u)})},i.prototype.forEachNode=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterGroup,r,no.Normal,0)},i.prototype.forEachNodeAfterFilter=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterAggFilter,r,no.AfterFilter,0)},i.prototype.forEachNodeAfterFilterAndSort=function(r){this.recursivelyWalkNodesAndCallback(this.rootNode.childrenAfterSort,r,no.AfterFilterAndSort,0)},i.prototype.forEachPivotNode=function(r){this.recursivelyWalkNodesAndCallback([this.rootNode],r,no.PivotNodes,0)},i.prototype.recursivelyWalkNodesAndCallback=function(r,o,u,d){if(!r)return d;for(var m=0;m<r.length;m++){var w=r[m];if(o(w,d++),w.hasChildren()){var P=null;switch(u){case no.Normal:P=w.childrenAfterGroup;break;case no.AfterFilter:P=w.childrenAfterAggFilter;break;case no.AfterFilterAndSort:P=w.childrenAfterSort;break;case no.PivotNodes:P=w.leafGroup?null:w.childrenAfterSort}P&&(d=this.recursivelyWalkNodesAndCallback(P,o,u,d))}}return d},i.prototype.doAggregate=function(r){this.aggregationStage&&this.aggregationStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.doFilterAggregates=function(r){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:r}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter},i.prototype.expandOrCollapseAll=function(r){var o=this.gridOptionsWrapper.isTreeData(),u=this.columnModel.isPivotActive(),d=function(P){!P||P.forEach(function(x){var N=function(){x.expanded=r,d(x.childrenAfterGroup)};o?ft.exists(x.childrenAfterGroup)&&N():u?!x.leafGroup&&N():x.group&&N()})};this.rootNode&&d(this.rootNode.childrenAfterGroup),this.refreshModel({step:W.ClientSideRowModelSteps.MAP}),this.eventService.dispatchEvent({api:this.gridApi,columnApi:this.columnApi,type:ne.EVENT_EXPAND_COLLAPSE_ALL,source:r?"expandAll":"collapseAll"})},i.prototype.doSort=function(r,o){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:r,changedPath:o})},i.prototype.doRowGrouping=function(r,o,u,d,m){this.groupStage?(o?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:o,rowNodeOrder:u,changedPath:d}):(this.groupStage.execute({rowNode:this.rootNode,changedPath:d,afterColumnsChanged:m}),this.restoreGroupState(r)),this.gridOptionsWrapper.isGroupSelectsChildren()&&this.selectionService.updateGroupsFromChildrenSelections(d)):(this.rootNode.childrenAfterGroup=this.rootNode.allLeafChildren,this.rootNode.sibling&&(this.rootNode.sibling.childrenAfterGroup=this.rootNode.childrenAfterGroup),this.rootNode.updateHasChildren())},i.prototype.restoreGroupState=function(r){!r||ft.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(o,u){"boolean"==typeof r[u]&&(o.expanded=r[u])})},i.prototype.doFilter=function(r){this.filterStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.doPivot=function(r){this.pivotStage&&this.pivotStage.execute({rowNode:this.rootNode,changedPath:r})},i.prototype.getGroupState=function(){if(!this.rootNode.childrenAfterGroup||!this.gridOptionsWrapper.isRememberGroupStateWhenNewData())return null;var r={};return ft.traverseNodesWithKey(this.rootNode.childrenAfterGroup,function(o,u){return r[u]=o.expanded}),r},i.prototype.getCopyOfNodesMap=function(){return this.nodeManager.getCopyOfNodesMap()},i.prototype.getRowNode=function(r){if("string"==typeof r&&0==r.indexOf(_t.ID_PREFIX_ROW_GROUP)){var u=void 0;return this.forEachNode(function(d){d.id===r&&(u=d)}),u}return this.nodeManager.getRowNode(r)},i.prototype.setRowData=function(r){var o=this.getGroupState();this.nodeManager.setRowData(r),this.selectionService.reset(),this.filterManager.onNewRowsLoaded("rowDataUpdated"),this.eventService.dispatchEvent({type:ne.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.refreshModel({step:W.ClientSideRowModelSteps.EVERYTHING,groupState:o,newData:!0})},i.prototype.batchUpdateRowData=function(r,o){var u=this;if(null==this.applyAsyncTransactionsTimeout){this.rowDataTransactionBatch=[];var d=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.applyAsyncTransactionsTimeout=window.setTimeout(function(){u.executeBatchUpdateRowData()},d)}this.rowDataTransactionBatch.push({rowDataTransaction:r,callback:o})},i.prototype.flushAsyncTransactions=function(){null!=this.applyAsyncTransactionsTimeout&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())},i.prototype.executeBatchUpdateRowData=function(){var r=this;this.valueCache.onDataChanged();var o=[],u=[],d=!1;if(this.rowDataTransactionBatch&&this.rowDataTransactionBatch.forEach(function(w){var P=r.nodeManager.updateRowData(w.rowDataTransaction,void 0);u.push(P),w.callback&&o.push(w.callback.bind(null,P)),"number"==typeof w.rowDataTransaction.addIndex&&(d=!0)}),this.commonUpdateRowData(u,void 0,d),o.length>0&&window.setTimeout(function(){o.forEach(function(w){return w()})},0),u.length>0){var m={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:ne.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:u};this.eventService.dispatchEvent(m)}this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0},i.prototype.updateRowData=function(r,o){this.valueCache.onDataChanged();var u=this.nodeManager.updateRowData(r,o);return this.commonUpdateRowData([u],o,"number"==typeof r.addIndex),u},i.prototype.createRowNodeOrder=function(){if(!this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()){var o={};if(this.rootNode&&this.rootNode.allLeafChildren)for(var u=0;u<this.rootNode.allLeafChildren.length;u++)o[this.rootNode.allLeafChildren[u].id]=u;return o}},i.prototype.commonUpdateRowData=function(r,o,u){var d=!this.gridOptionsWrapper.isSuppressAnimationFrame();u&&(o=this.createRowNodeOrder()),this.refreshModel({step:W.ClientSideRowModelSteps.EVERYTHING,rowNodeTransactions:r,rowNodeOrder:o,keepRenderedRows:!0,keepEditingRows:!0,animate:d}),this.eventService.dispatchEvent({type:ne.EVENT_ROW_DATA_UPDATED,api:this.gridApi,columnApi:this.columnApi})},i.prototype.doRowsToDisplay=function(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})},i.prototype.onRowHeightChanged=function(){this.refreshModel({step:W.ClientSideRowModelSteps.MAP,keepRenderedRows:!0,keepEditingRows:!0})},i.prototype.resetRowHeights=function(){var r=!1;this.forEachNode(function(o){o.setRowHeight(o.rowHeight,!0);var u=o.detailNode;u&&u.setRowHeight(u.rowHeight,!0),r=!0}),r&&this.onRowHeightChanged()},zr([K("columnModel")],i.prototype,"columnModel",void 0),zr([K("selectionService")],i.prototype,"selectionService",void 0),zr([K("filterManager")],i.prototype,"filterManager",void 0),zr([K("valueCache")],i.prototype,"valueCache",void 0),zr([K("columnApi")],i.prototype,"columnApi",void 0),zr([K("gridApi")],i.prototype,"gridApi",void 0),zr([K("animationFrameService")],i.prototype,"animationFrameService",void 0),zr([K("beans")],i.prototype,"beans",void 0),zr([K("filterStage")],i.prototype,"filterStage",void 0),zr([K("sortStage")],i.prototype,"sortStage",void 0),zr([K("flattenStage")],i.prototype,"flattenStage",void 0),zr([jt("groupStage")],i.prototype,"groupStage",void 0),zr([jt("aggregationStage")],i.prototype,"aggregationStage",void 0),zr([jt("pivotStage")],i.prototype,"pivotStage",void 0),zr([jt("filterAggregatesStage")],i.prototype,"filterAggregatesStage",void 0),zr([We],i.prototype,"init",null),zr([qe("rowModel")],i)}(Ge),Aw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xw=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Zv=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Aw(i,h),i.prototype.execute=function(r){this.filterService.filter(r.changedPath)},xw([K("filterService")],i.prototype,"filterService",void 0),xw([qe("filterStage")],i)}(Ge),Od=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vr=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Mw=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Od(i,h),i.prototype.execute=function(r){var o=this.sortController.getSortOptions(),u=ft.exists(o)&&o.length>0,d=u&&ft.exists(r.rowNodeTransactions)&&this.gridOptionsWrapper.isDeltaSort(),m=d?this.calculateDirtyNodes(r.rowNodeTransactions):null,w=ft.missingOrEmpty(this.columnModel.getValueColumns()),P=o.some(function(x){return!!x.column.getColDef().showRowGroup});this.sortService.sort(o,u,d,m,r.changedPath,w,P)},i.prototype.calculateDirtyNodes=function(r){var o={},u=function(d){d&&d.forEach(function(m){return o[m.id]=!0})};return r&&r.forEach(function(d){u(d.add),u(d.update),u(d.remove)}),o},Vr([K("sortService")],i.prototype,"sortService",void 0),Vr([K("sortController")],i.prototype,"sortController",void 0),Vr([K("columnModel")],i.prototype,"columnModel",void 0),Vr([qe("sortStage")],i)}(Ge),si=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Nc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},bO=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return si(i,h),i.prototype.execute=function(r){var o=r.rowNode,u=[],d={value:0},m=this.columnModel.isPivotMode(),w=m&&o.leafGroup;return this.recursivelyAddToRowsToDisplay(w?[o]:o.childrenAfterSort,u,d,m,0),!w&&u.length>0&&this.gridOptionsWrapper.isGroupIncludeTotalFooter()&&(this.ensureFooterNodeExists(o),this.addRowNodeToRowsToDisplay(o.sibling,u,d,0)),u},i.prototype.recursivelyAddToRowsToDisplay=function(r,o,u,d,m){if(!ft.missingOrEmpty(r))for(var w=this.gridOptionsWrapper.isGroupHideOpenParents(),P=this.gridOptionsWrapper.isGroupRemoveSingleChildren(),x=!P&&this.gridOptionsWrapper.isGroupRemoveLowestSingleChildren(),N=0;N<r.length;N++){var k=r[N],q=k.hasChildren(),le=P&&q&&1===k.childrenAfterGroup.length,de=x&&q&&k.leafGroup&&1===k.childrenAfterGroup.length;if(!(d&&!q||w&&k.expanded&&(!d||!k.leafGroup)||le||de)&&this.addRowNodeToRowsToDisplay(k,o,u,m),!d||!k.leafGroup)if(q){var Ee=le||de;(k.expanded||Ee)&&(this.recursivelyAddToRowsToDisplay(k.childrenAfterSort,o,u,d,Ee?m:m+1),this.gridOptionsWrapper.isGroupIncludeFooter()&&(this.ensureFooterNodeExists(k),this.addRowNodeToRowsToDisplay(k.sibling,o,u,m)))}else if(k.master&&k.expanded){var pt=this.createDetailNode(k);this.addRowNodeToRowsToDisplay(pt,o,u,m)}}},i.prototype.addRowNodeToRowsToDisplay=function(r,o,u,d){var m=this.gridOptionsWrapper.isGroupMultiAutoColumn();o.push(r),r.setUiLevel(m?0:d)},i.prototype.ensureFooterNodeExists=function(r){if(!ft.exists(r.sibling)){var o=new _t(this.beans);Object.keys(r).forEach(function(u){o[u]=r[u]}),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,ft.exists(o.id)&&(o.id="rowGroupFooter_"+o.id),o.sibling=r,r.sibling=o}},i.prototype.createDetailNode=function(r){if(ft.exists(r.detailNode))return r.detailNode;var o=new _t(this.beans);return o.detail=!0,o.selectable=!1,o.parent=r,ft.exists(r.id)&&(o.id="detail_"+r.id),o.data=r.data,o.level=r.level+1,r.detailNode=o,o},Nc([K("columnModel")],i.prototype,"columnModel",void 0),Nc([K("beans")],i.prototype,"beans",void 0),Nc([qe("flattenStage")],i)}(Ge),it=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Lc=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Ao=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return it(i,h),i.prototype.init=function(){this.postSortFunc=this.gridOptionsWrapper.getPostSortFunc()},i.prototype.sort=function(r,o,u,d,m,w,P){var x=this,N=this.gridOptionsWrapper.isGroupMaintainOrder(),k=this.columnModel.getAllGridColumns().some(function(ee){return ee.isRowGroupActive()});m&&m.forEachChangedNodeDepthFirst(function(ee){if(x.pullDownGroupDataForHideOpenParents(ee.childrenAfterAggFilter,!0),!o||N&&k&&!ee.leafGroup&&!P){var de=ee.childrenAfterAggFilter.slice(0);if(N&&ee.childrenAfterSort){var ye=ee.childrenAfterSort.reduce(function(Oe,Ee,$e){return Oe[Ee.id]=$e,Oe},{});de.sort(function(Oe,Ee){return(ye[Oe.id]||0)-(ye[Ee.id]||0)})}ee.childrenAfterSort=de}else ee.childrenAfterSort=u?x.doDeltaSort(ee,r,d,m,w):x.rowNodeSorter.doFullSort(ee.childrenAfterAggFilter,r);ee.sibling&&(ee.sibling.childrenAfterSort=ee.childrenAfterSort),x.updateChildIndexes(ee),x.postSortFunc&&x.postSortFunc({nodes:ee.childrenAfterSort})}),this.updateGroupDataForHideOpenParents(m)},i.prototype.mapNodeToSortedNode=function(r,o){return{currentPos:o,rowNode:r}},i.prototype.doDeltaSort=function(r,o,u,d,m){var w=r.childrenAfterSort.filter(function(k){var q=!u[k.id],ee=m||d&&d.canSkip(k);return q&&ee}).map(this.mapNodeToSortedNode.bind(this)),P={};w.forEach(function(k){return P[k.rowNode.id]=k.rowNode});var x=r.childrenAfterAggFilter.filter(function(k){return!P[k.id]}).map(this.mapNodeToSortedNode.bind(this));return x.sort(this.rowNodeSorter.compareRowNodes.bind(this,o)),(0===x.length?w:0===w.length?x:this.mergeSortedArrays(o,w,x)).map(function(k){return k.rowNode})},i.prototype.mergeSortedArrays=function(r,o,u){for(var d=[],m=0,w=0;m<o.length&&w<u.length;){var P=this.rowNodeSorter.compareRowNodes(r,o[m],u[w]);d.push(P<0?o[m++]:u[w++])}for(;m<o.length;)d.push(o[m++]);for(;w<u.length;)d.push(u[w++]);return d},i.prototype.updateChildIndexes=function(r){if(!ft.missing(r.childrenAfterSort))for(var o=r.childrenAfterSort,u=0;u<o.length;u++){var d=o[u],w=u===r.childrenAfterSort.length-1;d.setFirstChild(0===u),d.setLastChild(w),d.setChildIndex(u)}},i.prototype.updateGroupDataForHideOpenParents=function(r){var o=this;if(this.gridOptionsWrapper.isGroupHideOpenParents()){if(this.gridOptionsWrapper.isTreeData())return ft.doOnce(function(){return console.warn("AG Grid: The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them (as opposed to Row Grouping, which only has Aggregated Values at the group level).")},"sortService.hideOpenParentsWithTreeData"),!1;var d=function(m){o.pullDownGroupDataForHideOpenParents(m.childrenAfterSort,!1),m.childrenAfterSort.forEach(function(w){w.hasChildren()&&d(w)})};r&&r.executeFromRootNode(function(m){return d(m)})}},i.prototype.pullDownGroupDataForHideOpenParents=function(r,o){var u=this;!this.gridOptionsWrapper.isGroupHideOpenParents()||ft.missing(r)||r.forEach(function(d){u.columnModel.getGroupDisplayColumns().forEach(function(w){var P=w.getColDef().showRowGroup;if("string"==typeof P){var N=u.columnModel.getPrimaryColumn(P);if(N!==d.rowGroupColumn)if(o)d.setGroupValue(w.getId(),void 0);else{var q=d.getFirstChildOfFirstChild(N);q&&d.setGroupValue(w.getId(),q.key)}}else console.error("AG Grid: groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup")})})},Lc([K("columnModel")],i.prototype,"columnModel",void 0),Lc([K("rowNodeSorter")],i.prototype,"rowNodeSorter",void 0),Lc([We],i.prototype,"init",null),Lc([qe("sortService")],i)}(Ge),Rd=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Dd=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ct=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Rd(i,h),i.prototype.postConstruct=function(){this.doingTreeData=this.gridOptionsWrapper.isTreeData()},i.prototype.filter=function(r){var o=this.filterManager.isColumnFilterPresent()||this.filterManager.isQuickFilterPresent()||this.gridOptionsWrapper.isExternalFilterPresent();this.filterNodes(o,r)},i.prototype.filterNodes=function(r,o){var u=this,d=function(x,N){x.hasChildren()?(x.childrenAfterFilter=r&&!N?x.childrenAfterGroup.filter(function(k){var q=k.childrenAfterFilter&&k.childrenAfterFilter.length>0,ee=k.data&&u.filterManager.doesRowPassFilter({rowNode:k});return q||ee}):x.childrenAfterGroup,u.setAllChildrenCount(x)):(x.childrenAfterFilter=x.childrenAfterGroup,x.setAllChildrenCount(null)),x.sibling&&(x.sibling.childrenAfterFilter=x.childrenAfterFilter)};if(this.doingTreeDataFiltering()){var m=function(x,N){if(x.childrenAfterGroup)for(var k=0;k<x.childrenAfterGroup.length;k++){var q=x.childrenAfterGroup[k],ee=N||u.filterManager.doesRowPassFilter({rowNode:q});q.childrenAfterGroup?m(x.childrenAfterGroup[k],ee):d(q,ee)}d(x,N)};o.executeFromRootNode(function(x){return m(x,!1)})}else o.forEachChangedNodeDepthFirst(function(x){return d(x,!1)},!0)},i.prototype.setAllChildrenCountTreeData=function(r){var o=0;r.childrenAfterFilter.forEach(function(u){o++,o+=u.allChildrenCount}),r.setAllChildrenCount(o)},i.prototype.setAllChildrenCountGridGrouping=function(r){var o=0;r.childrenAfterFilter.forEach(function(u){u.group?o+=u.allChildrenCount:o++}),r.setAllChildrenCount(o)},i.prototype.setAllChildrenCount=function(r){this.doingTreeData?this.setAllChildrenCountTreeData(r):this.setAllChildrenCountGridGrouping(r)},i.prototype.doingTreeDataFiltering=function(){return this.gridOptionsWrapper.isTreeData()&&!this.gridOptionsWrapper.isExcludeChildrenWhenTreeDataFiltering()},Dd([K("filterManager")],i.prototype,"filterManager",void 0),Dd([We],i.prototype,"postConstruct",null),Dd([qe("filterService")],i)}(Ge),wt=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Bt=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},db=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return wt(i,h),i.prototype.postConstruct=function(){this.rowModel.getType()===ge.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel)},i.prototype.isActive=function(){return this.gridOptionsWrapper.isImmutableData()},i.prototype.setRowData=function(r){var o=this.createTransactionForRowData(r);if(o){var u=function(h,i){var r="function"==typeof Symbol&&h[Symbol.iterator];if(!r)return h;var u,m,o=r.call(h),d=[];try{for(;(void 0===i||i-- >0)&&!(u=o.next()).done;)d.push(u.value)}catch(w){m={error:w}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(m)throw m.error}}return d}(o,2),w=this.clientSideRowModel.updateRowData(u[0],u[1]);w&&this.rowRenderer.refreshFullWidthRows(w.update),this.eventService.dispatchEvent({type:ne.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi})}},i.prototype.createTransactionForRowData=function(r){if(ft.missing(this.clientSideRowModel))console.error("AG Grid: ImmutableService only works with ClientSideRowModel");else{var o=this.gridOptionsWrapper.getRowIdFunc();if(null!=o){var u={remove:[],update:[],add:[]},d=this.clientSideRowModel.getCopyOfNodesMap(),w=this.gridOptionsWrapper.isSuppressMaintainUnsortedOrder()?void 0:{};return ft.exists(r)&&r.forEach(function(P,x){var N=o({data:P,level:0}),k=d[N];w&&(w[N]=x),k?(k.data!==P&&u.update.push(P),d[N]=void 0):u.add.push(P)}),ft.iterateObject(d,function(P,x){x&&u.remove.push(x.data)}),[u,w]}console.error("AG Grid: ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!")}},Bt([K("rowModel")],i.prototype,"rowModel",void 0),Bt([K("rowRenderer")],i.prototype,"rowRenderer",void 0),Bt([K("columnApi")],i.prototype,"columnApi",void 0),Bt([K("gridApi")],i.prototype,"gridApi",void 0),Bt([We],i.prototype,"postConstruct",null),Bt([qe("immutableService")],i)}(Ge),Jv={moduleName:W.ModuleNames.ClientSideRowModelModule,beans:[Zv,Mw,bO,Ao,ct,db],rowModels:{clientSide:Cf}},wf=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),_f=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Sf=function(h){function i(r,o,u){var d=h.call(this,r)||this;return d.parentCache=o,d.params=u,d.startRow=r*u.blockSize,d.endRow=d.startRow+u.blockSize,d}return wf(i,h),i.prototype.postConstruct=function(){this.createRowNodes()},i.prototype.getBlockStateJson=function(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}},i.prototype.setDataAndId=function(r,o,u){!r.id&&r.alreadyRendered&&(r.alreadyRendered=!1),ft.exists(o)?r.setDataAndId(o,u.toString()):r.setDataAndId(void 0,void 0)},i.prototype.loadFromDatasource=function(){var r=this,o=this.createLoadParams();ft.missing(this.params.datasource.getRows)?console.warn("AG Grid: datasource is missing getRows method"):window.setTimeout(function(){r.params.datasource.getRows(o)},0)},i.prototype.processServerFail=function(){},i.prototype.createLoadParams=function(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gridOptionsWrapper.getContext()}},i.prototype.forEachNode=function(r,o,u){var d=this;this.rowNodes.forEach(function(m,w){d.startRow+w<u&&r(m,o.next())})},i.prototype.getLastAccessed=function(){return this.lastAccessed},i.prototype.getRow=function(r,o){return void 0===o&&(o=!1),o||(this.lastAccessed=this.params.lastAccessedSequence.next()),this.rowNodes[r-this.startRow]},i.prototype.getStartRow=function(){return this.startRow},i.prototype.getEndRow=function(){return this.endRow},i.prototype.createRowNodes=function(){this.rowNodes=[];for(var r=0;r<this.params.blockSize;r++){var o=this.startRow+r,u=new _t(this.beans);u.setRowHeight(this.params.rowHeight),u.uiLevel=0,u.setRowIndex(o),u.setRowTop(this.params.rowHeight*o),this.rowNodes.push(u)}},i.prototype.processServerResult=function(r){var o=this;this.rowNodes.forEach(function(d,m){o.setDataAndId(d,r.rowData?r.rowData[m]:void 0,o.startRow+m)}),this.parentCache.pageLoaded(this,null!=r.rowCount&&r.rowCount>=0?r.rowCount:void 0)},i.prototype.destroyRowNodes=function(){this.rowNodes.forEach(function(r){r.clearRowTopAndRowIndex()})},_f([K("beans")],i.prototype,"beans",void 0),_f([We],i.prototype,"postConstruct",null),_f([_n],i.prototype,"destroyRowNodes",null),i}(od),Gc=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),li=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},Fw=function(h,i){return function(r,o){i(r,o,h)}},kc=function(h){function i(r){var o=h.call(this)||this;return o.lastRowIndexKnown=!1,o.blocks={},o.blockCount=0,o.rowCount=r.initialRowCount,o.params=r,o}return Gc(i,h),i.prototype.setBeans=function(r){this.logger=r.create("InfiniteCache")},i.prototype.getRow=function(r,o){void 0===o&&(o=!1);var u=Math.floor(r/this.params.blockSize),d=this.blocks[u];if(!d){if(o)return;d=this.createBlock(u)}return d.getRow(r)},i.prototype.createBlock=function(r){var o=this.createBean(new Sf(r,this,this.params));return this.blocks[o.getId()]=o,this.blockCount++,this.purgeBlocksIfNeeded(o),this.params.rowNodeBlockLoader.addBlock(o),o},i.prototype.refreshCache=function(){0==this.blockCount?this.purgeCache():(this.getBlocksInOrder().forEach(function(o){return o.setStateWaitingToLoad()}),this.params.rowNodeBlockLoader.checkBlockToLoad())},i.prototype.destroyAllBlocks=function(){var r=this;this.getBlocksInOrder().forEach(function(o){return r.destroyBlock(o)})},i.prototype.getRowCount=function(){return this.rowCount},i.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},i.prototype.pageLoaded=function(r,o){!this.isAlive()||(this.logger.log("onPageLoaded: page = "+r.getId()+", lastRow = "+o),this.checkRowCount(r,o),this.onCacheUpdated())},i.prototype.purgeBlocksIfNeeded=function(r){var o=this,u=this.getBlocksInOrder().filter(function(x){return x!=r});u.sort(function(x,N){return N.getLastAccessed()-x.getLastAccessed()});var m=this.params.maxBlocksInCache>0,w=m?this.params.maxBlocksInCache-1:null,P=i.MAX_EMPTY_BLOCKS_TO_KEEP-1;u.forEach(function(x,N){if(x.getState()===Sf.STATE_WAITING_TO_LOAD&&N>=P||m&&N>=w){if(o.isBlockCurrentlyDisplayed(x)||o.isBlockFocused(x))return;o.removeBlockFromCache(x)}})},i.prototype.isBlockFocused=function(r){var o=this.focusService.getFocusCellToUseAfterRefresh();if(!o||null!=o.rowPinned)return!1;var u=r.getStartRow(),d=r.getEndRow();return o.rowIndex>=u&&o.rowIndex<d},i.prototype.isBlockCurrentlyDisplayed=function(r){var o=r.getStartRow(),u=r.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(o,u)},i.prototype.removeBlockFromCache=function(r){!r||this.destroyBlock(r)},i.prototype.checkRowCount=function(r,o){if("number"==typeof o&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var d=(r.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<d&&(this.rowCount=d)}},i.prototype.setRowCount=function(r,o){this.rowCount=r,ft.exists(o)&&(this.lastRowIndexKnown=o),this.lastRowIndexKnown||this.rowCount%this.params.blockSize==0&&this.rowCount++,this.onCacheUpdated()},i.prototype.forEachNodeDeep=function(r){var o=this,u=new ss;this.getBlocksInOrder().forEach(function(d){return d.forEachNode(r,u,o.rowCount)})},i.prototype.getBlocksInOrder=function(){return ft.getAllValuesInObject(this.blocks).sort(function(u,d){return u.getId()-d.getId()})},i.prototype.destroyBlock=function(r){delete this.blocks[r.getId()],this.destroyBean(r),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(r)},i.prototype.onCacheUpdated=function(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:ne.EVENT_STORE_UPDATED}))},i.prototype.destroyAllBlocksPastVirtualRowCount=function(){var r=this,o=[];this.getBlocksInOrder().forEach(function(u){u.getId()*r.params.blockSize>=r.rowCount&&o.push(u)}),o.length>0&&o.forEach(function(u){return r.destroyBlock(u)})},i.prototype.purgeCache=function(){var r=this;this.getBlocksInOrder().forEach(function(o){return r.removeBlockFromCache(o)}),this.lastRowIndexKnown=!1,0===this.rowCount&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()},i.prototype.getRowNodesInRange=function(r,o){var u=this,d=[],m=-1,w=!1,P=new ss;ft.missing(r)&&(w=!0);var x=!1;return this.getBlocksInOrder().forEach(function(k){if(!x){if(w&&m+1!==k.getId())return void(x=!0);m=k.getId(),k.forEachNode(function(q){var ee=q===r||q===o;(w||ee)&&d.push(q),ee&&(w=!w)},P,u.rowCount)}}),x||w?[]:d},i.MAX_EMPTY_BLOCKS_TO_KEEP=2,li([K("rowRenderer")],i.prototype,"rowRenderer",void 0),li([K("focusService")],i.prototype,"focusService",void 0),li([Fw(0,Er("loggerFactory"))],i.prototype,"setBeans",null),li([_n],i.prototype,"destroyAllBlocks",null),i}(Ge),Iw=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),xo=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},ey=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Iw(i,h),i.prototype.getRowBounds=function(r){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*r}},i.prototype.ensureRowHeightsValid=function(r,o,u,d){return!1},i.prototype.init=function(){var r=this;!this.gridOptionsWrapper.isRowModelInfinite()||(this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addEventListeners(),this.addDestroyFunc(function(){return r.destroyCache()}),this.verifyProps())},i.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&ft.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Infinite Row Model. If using Infinite Row Model, then sorting is done on the server side, nothing to do with the client.")},"IRM.InitialGroupOrderComparator")},i.prototype.start=function(){this.setDatasource(this.gridOptionsWrapper.getDatasource())},i.prototype.destroyDatasource=function(){this.datasource&&(this.getContext().destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)},i.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,ne.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_SORT_CHANGED,this.onSortChanged.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,ne.EVENT_STORE_UPDATED,this.onCacheUpdated.bind(this))},i.prototype.onFilterChanged=function(){this.reset()},i.prototype.onSortChanged=function(){this.reset()},i.prototype.onColumnEverything=function(){(!this.cacheParams||this.isSortModelDifferent())&&this.reset()},i.prototype.isSortModelDifferent=function(){return!ft.jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())},i.prototype.getType=function(){return ge.ROW_MODEL_TYPE_INFINITE},i.prototype.setDatasource=function(r){this.destroyDatasource(),this.datasource=r,r&&this.reset()},i.prototype.isEmpty=function(){return!this.infiniteCache},i.prototype.isRowsToRender=function(){return!!this.infiniteCache},i.prototype.getNodesInRangeForSelection=function(r,o){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(r,o):[]},i.prototype.reset=function(){if(this.datasource){null!=this.gridOptionsWrapper.getRowIdFunc()||this.selectionService.reset(),this.resetCache();var u=this.createModelUpdatedEvent();this.eventService.dispatchEvent(u)}},i.prototype.createModelUpdatedEvent=function(){return{type:ne.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newPage:!1,newData:!1,keepRenderedRows:!0,animate:!1}},i.prototype.resetCache=function(){this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:this.filterManager.getFilterModel(),sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.defaultIfInvalid(this.gridOptionsWrapper.getInfiniteInitialRowCount(),1),maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache(),rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber(),overflowSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheOverflowSize(),1),blockSize:this.defaultIfInvalid(this.gridOptionsWrapper.getCacheBlockSize(),100),lastAccessedSequence:new ss},this.infiniteCache=this.createBean(new kc(this.cacheParams))},i.prototype.defaultIfInvalid=function(r,o){return r>0?r:o},i.prototype.destroyCache=function(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))},i.prototype.onCacheUpdated=function(){var r=this.createModelUpdatedEvent();this.eventService.dispatchEvent(r)},i.prototype.getRow=function(r){if(this.infiniteCache&&!(r>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(r)},i.prototype.getRowNode=function(r){var o;return this.forEachNode(function(u){u.id===r&&(o=u)}),o},i.prototype.forEachNode=function(r){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(r)},i.prototype.getTopLevelRowCount=function(){return this.getRowCount()},i.prototype.getTopLevelRowDisplayedIndex=function(r){return r},i.prototype.getRowIndexAtPixel=function(r){if(0!==this.rowHeight){var o=Math.floor(r/this.rowHeight),u=this.getRowCount()-1;return o>u?u:o}return 0},i.prototype.getRowCount=function(){return this.infiniteCache?this.infiniteCache.getRowCount():0},i.prototype.isRowPresent=function(r){return!!this.getRowNode(r.id)},i.prototype.refreshCache=function(){this.infiniteCache&&this.infiniteCache.refreshCache()},i.prototype.purgeCache=function(){this.infiniteCache&&this.infiniteCache.purgeCache()},i.prototype.isLastRowIndexKnown=function(){return!!this.infiniteCache&&this.infiniteCache.isLastRowIndexKnown()},i.prototype.setRowCount=function(r,o){this.infiniteCache&&this.infiniteCache.setRowCount(r,o)},xo([K("filterManager")],i.prototype,"filterManager",void 0),xo([K("sortController")],i.prototype,"sortController",void 0),xo([K("selectionService")],i.prototype,"selectionService",void 0),xo([K("gridApi")],i.prototype,"gridApi",void 0),xo([K("columnApi")],i.prototype,"columnApi",void 0),xo([K("rowRenderer")],i.prototype,"rowRenderer",void 0),xo([K("rowNodeBlockLoader")],i.prototype,"rowNodeBlockLoader",void 0),xo([We],i.prototype,"init",null),xo([_n],i.prototype,"destroyDatasource",null),xo([qe("rowModel")],i)}(Ge),bf={moduleName:W.ModuleNames.InfiniteRowModelModule,rowModels:{infinite:ey}},As=function(){function h(){}return h.prototype.setBeans=function(i){this.beans=i},h.prototype.getFileName=function(i){var r=this.getDefaultFileExtension();return(null==i||!i.length)&&(i=this.getDefaultFileName()),-1===i.indexOf(".")?i+"."+r:i},h.prototype.getData=function(i){var r=this.createSerializingSession(i);return this.beans.gridSerializer.serialize(r,i)},h}(),ty=function(){function h(i){this.groupColumns=[];var o=i.valueService,u=i.gridOptionsWrapper,d=i.processCellCallback,m=i.processHeaderCallback,w=i.processGroupHeaderCallback,P=i.processRowGroupCallback;this.columnModel=i.columnModel,this.valueService=o,this.gridOptionsWrapper=u,this.processCellCallback=d,this.processHeaderCallback=m,this.processGroupHeaderCallback=w,this.processRowGroupCallback=P}return h.prototype.prepare=function(i){this.groupColumns=i.filter(function(r){return!!r.getColDef().showRowGroup})},h.prototype.extractHeaderValue=function(i){var r=this.getHeaderName(this.processHeaderCallback,i);return null!=r?r:""},h.prototype.extractRowCellValue=function(i,r,o,u,d){var P,m=this.gridOptionsWrapper.isGroupMultiAutoColumn()?d.rowGroupIndex:0;P=d&&d.group&&(r===m&&-1!==this.groupColumns.indexOf(i)||0===r&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(d):this.valueService.getValue(i,d);var x=this.processCell(o,d,i,P,this.processCellCallback,u);return null!=x?x:""},h.prototype.getHeaderName=function(i,r){return i?i({column:r,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(r,"csv",!0)},h.prototype.createValueForGroupNode=function(i){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:i,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var r=[i.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;i.parent;)r.push((i=i.parent).key);return r.reverse().join(" -> ")},h.prototype.processCell=function(i,r,o,u,d,m){return d?d({accumulatedRowIndex:i,column:o,node:r,value:u,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:m}):null!=u?u:""},h}(),ry=function(){function h(){}return h.download=function(i,r){var o=document.defaultView||window;if(o){var u=document.createElement("a"),d=o.URL.createObjectURL(r);u.setAttribute("href",d),u.setAttribute("download",i),u.style.display="none",document.body.appendChild(u),u.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:o})),document.body.removeChild(u),o.setTimeout(function(){o.URL.revokeObjectURL(d)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},h}(),ny=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Vc=function(h){function i(r){var o=h.call(this,r)||this;o.isFirstLine=!0,o.result="";var d=r.columnSeparator;return o.suppressQuotes=r.suppressQuotes,o.columnSeparator=d,o}return ny(i,h),i.prototype.addCustomContent=function(r){var o=this;!r||("string"==typeof r?(/^\s*\n/.test(r)||this.beginNewLine(),r=r.replace(/\r?\n/g,"\r\n"),this.result+=r):r.forEach(function(u){o.beginNewLine(),u.forEach(function(d,m){0!==m&&(o.result+=o.columnSeparator),o.result+=o.putInQuotes(d.data.value||""),d.mergeAcross&&o.appendEmptyCells(d.mergeAcross)})}))},i.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},i.prototype.onNewHeaderGroupingRowColumn=function(r,o,u){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(r),this.appendEmptyCells(u)},i.prototype.appendEmptyCells=function(r){for(var o=1;o<=r;o++)this.result+=this.columnSeparator+this.putInQuotes("")},i.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},i.prototype.onNewHeaderRowColumn=function(r,o){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(r))},i.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},i.prototype.onNewBodyRowColumn=function(r,o,u){0!=o&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(r,o,o,ge.EXPORT_TYPE_CSV,u))},i.prototype.putInQuotes=function(r){return this.suppressQuotes?r:null==r?'""':("string"==typeof r?o=r:"function"==typeof r.toString?o=r.toString():(console.warn("AG Grid: unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"');var o},i.prototype.parse=function(){return this.result},i.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},i}(ty),Ef=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),ea=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d},iy=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return Ef(i,h),i.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},i.prototype.getMergedParams=function(r){var o=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},o,r)},i.prototype.export=function(r){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var o=this.getMergedParams(r),u=this.getData(o),d=new Blob(["\ufeff",u],{type:"text/plain"});return ry.download(this.getFileName(o.fileName),d),u},i.prototype.exportDataAsCsv=function(r){return this.export(r)},i.prototype.getDataAsCsv=function(r){var o=this.getMergedParams(r);return this.getData(o)},i.prototype.getDefaultFileName=function(){return"export.csv"},i.prototype.getDefaultFileExtension=function(){return"csv"},i.prototype.createSerializingSession=function(r){var o=this;return new Vc({columnModel:o.columnModel,valueService:o.valueService,gridOptionsWrapper:o.gridOptionsWrapper,processCellCallback:r.processCellCallback||void 0,processHeaderCallback:r.processHeaderCallback||void 0,processGroupHeaderCallback:r.processGroupHeaderCallback||void 0,processRowGroupCallback:r.processRowGroupCallback||void 0,suppressQuotes:r.suppressQuotes||!1,columnSeparator:r.columnSeparator||","})},i.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},ea([K("columnModel")],i.prototype,"columnModel",void 0),ea([K("valueService")],i.prototype,"valueService",void 0),ea([K("gridSerializer")],i.prototype,"gridSerializer",void 0),ea([K("gridOptionsWrapper")],i.prototype,"gridOptionsWrapper",void 0),ea([We],i.prototype,"postConstruct",null),ea([qe("csvCreator")],i)}(As),oy=function(){var h=function(i,r){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,u){o.__proto__=u}||function(o,u){for(var d in u)u.hasOwnProperty(d)&&(o[d]=u[d])})(i,r)};return function(i,r){function o(){this.constructor=i}h(i,r),i.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),Ua=function(h,i,r,o){var m,u=arguments.length,d=u<3?i:null===o?o=Object.getOwnPropertyDescriptor(i,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(h,i,r,o);else for(var w=h.length-1;w>=0;w--)(m=h[w])&&(d=(u<3?m(d):u>3?m(i,r,d):m(i,r))||d);return u>3&&d&&Object.defineProperty(i,r,d),d};!function(h){h[h.HEADER_GROUPING=0]="HEADER_GROUPING",h[h.HEADER=1]="HEADER",h[h.BODY=2]="BODY"}(W.RowType||(W.RowType={}));var Of=function(h){function i(){return null!==h&&h.apply(this,arguments)||this}return oy(i,h),i.prototype.serialize=function(r,o){void 0===o&&(o={});var u=this.getColumnsToExport(o.allColumns,o.columnKeys);return ft.compose(this.prepareSession(u),this.prependContent(o),this.exportColumnGroups(o,u),this.exportHeaders(o,u),this.processPinnedTopRows(o,u),this.processRows(o,u),this.processPinnedBottomRows(o,u),this.appendContent(o))(r).parse()},i.prototype.processRow=function(r,o,u,d){var m=this,w=o.shouldRowBeSkipped||function(){return!1},P=this.gridOptionsWrapper,x=P.getContext(),N=P.getApi(),k=P.getColumnApi(),q=P.isGroupRemoveSingleChildren(),ee=P.isGroupHideOpenParents(),le=P.isGroupRemoveLowestSingleChildren(),de=this.columnModel.isPivotMode()?d.leafGroup:!d.group,Oe=1===d.allChildrenCount&&(q||le&&d.leafGroup);(o.skipGroups||o.skipRowGroups)&&o.skipGroups&&ft.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Ee={rowIndex:d.rowIndex,rowPinned:d.rowPinned};if(!(!de&&(o.skipRowGroups||Oe||ee)||o.onlySelected&&!d.isSelected()||o.rowNodes&&!o.rowNodes.some(function(Ue){return m.rowPositionUtils.sameRow(Ue,Ee)})||o.skipPinnedTop&&"top"===d.rowPinned||o.skipPinnedBottom&&"bottom"===d.rowPinned)&&(-1!==d.level||d.leafGroup)&&!w({node:d,api:N,columnApi:k,context:x})){var vt=r.onNewBodyRow();if(u.forEach(function(Ue,xt){vt.onColumn(Ue,xt,d)}),o.getCustomContentBelowRow){var lt=o.getCustomContentBelowRow({node:d,api:N,columnApi:k,context:x});lt&&r.addCustomContent(lt)}}},i.prototype.appendContent=function(r){return function(o){var u=r.customFooter||r.appendContent;return u&&(r.customFooter&&ft.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),o.addCustomContent(u)),o}},i.prototype.prependContent=function(r){return function(o){var u=r.customHeader||r.prependContent;return u&&(r.customHeader&&ft.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),o.addCustomContent(u)),o}},i.prototype.prepareSession=function(r){return function(o){return o.prepare(r),o}},i.prototype.exportColumnGroups=function(r,o){var u=this;return function(d){if(r.skipColumnGroupHeaders)r.columnGroups&&ft.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var m=new ah,w=u.displayedGroupCreator.createDisplayedGroups(o,u.columnModel.getGridBalancedTree(),m,null);u.recursivelyAddHeaderGroups(w,d,r.processGroupHeaderCallback)}return d}},i.prototype.exportHeaders=function(r,o){return function(u){if(r.skipHeader||r.skipColumnHeaders)r.skipHeader&&ft.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var d=u.onNewHeaderRow();o.forEach(function(m,w){d.onColumn(m,w,void 0)})}return u}},i.prototype.processPinnedTopRows=function(r,o){var u=this;return function(d){var m=u.processRow.bind(u,d,r,o);return u.pinnedRowModel.forEachPinnedTopRow(m),d}},i.prototype.processRows=function(r,o){var u=this;return function(d){var m=u.rowModel,w=m.getType(),P=w===ge.ROW_MODEL_TYPE_CLIENT_SIDE,x=w===ge.ROW_MODEL_TYPE_SERVER_SIDE,N=!P&&r.onlySelected,k=u.processRow.bind(u,d,r,o);return u.columnModel.isPivotMode()?P?m.forEachPivotNode(k):m.forEachNode(k):r.onlySelectedAllPages||N?u.selectionService.getSelectedNodes().forEach(k):P||x?m.forEachNodeAfterFilterAndSort(k):m.forEachNode(k),d}},i.prototype.processPinnedBottomRows=function(r,o){var u=this;return function(d){var m=u.processRow.bind(u,d,r,o);return u.pinnedRowModel.forEachPinnedBottomRow(m),d}},i.prototype.getColumnsToExport=function(r,o){void 0===r&&(r=!1);var u=this.columnModel.isPivotMode();return o&&o.length?this.columnModel.getGridColumns(o):r&&!u?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([ge.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},i.prototype.recursivelyAddHeaderGroups=function(r,o,u){var d=[];r.forEach(function(m){!m.getChildren||m.getChildren().forEach(function(P){return d.push(P)})}),r.length>0&&r[0]instanceof er&&this.doAddHeaderHeader(o,r,u),d&&d.length>0&&this.recursivelyAddHeaderGroups(d,o,u)},i.prototype.doAddHeaderHeader=function(r,o,u){var d=this,m=r.onNewHeaderGroupingRow(),w=0;o.forEach(function(P){var N,x=P;N=u?u({columnGroup:x,api:d.gridOptionsWrapper.getApi(),columnApi:d.gridOptionsWrapper.getColumnApi(),context:d.gridOptionsWrapper.getContext()}):d.columnModel.getDisplayNameForColumnGroup(x,"header");var k=x.getLeafColumns().reduce(function(q,ee,le,de){var ye=ft.last(q);return"open"===ee.getColumnGroupShow()?(!ye||null!=ye[1])&&q.push(ye=[le]):ye&&null==ye[1]&&(ye[1]=le-1),le===de.length-1&&ye&&null==ye[1]&&(ye[1]=le),q},[]);m.onColumn(N||"",w++,x.getLeafColumns().length-1,k)})},Ua([K("displayedGroupCreator")],i.prototype,"displayedGroupCreator",void 0),Ua([K("columnModel")],i.prototype,"columnModel",void 0),Ua([K("rowModel")],i.prototype,"rowModel",void 0),Ua([K("pinnedRowModel")],i.prototype,"pinnedRowModel",void 0),Ua([K("selectionService")],i.prototype,"selectionService",void 0),Ua([K("rowPositionUtils")],i.prototype,"rowPositionUtils",void 0),Ua([qe("gridSerializer")],i)}(Ge),ay={moduleName:W.ModuleNames.CsvExportModule,beans:[iy,Of]},Nw=function(){function h(){}return h.createHeader=function(i){void 0===i&&(i={});var u=["version"];return i.version||(i.version="1.0"),i.encoding&&u.push("encoding"),i.standalone&&u.push("standalone"),"<?xml "+u.map(function(m){return m+'="'+i[m]+'"'}).join(" ")+" ?>"},h.createXml=function(i,r){var o=this,u="";i.properties&&(i.properties.prefixedAttributes&&i.properties.prefixedAttributes.forEach(function(m){Object.keys(m.map).forEach(function(w){u+=o.returnAttributeIfPopulated(m.prefix+w,m.map[w],r)})}),i.properties.rawMap&&Object.keys(i.properties.rawMap).forEach(function(m){u+=o.returnAttributeIfPopulated(m,i.properties.rawMap[m],r)}));var d="<"+i.name+u;return i.children||null!=i.textNode?null!=i.textNode?d+">"+i.textNode+"</"+i.name+">\r\n":(d+=">\r\n",i.children&&i.children.forEach(function(m){d+=o.createXml(m,r)}),d+"</"+i.name+">\r\n"):d+"/>\r\n"},h.returnAttributeIfPopulated=function(i,r,o){if(!r&&""!==r&&0!==r)return"";var u=r;return"boolean"==typeof r&&o&&(u=o(r))," "+i+'="'+u+'"'},h}(),hb=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),fb=function(){function h(){}return h.addFolders=function(i){i.forEach(this.addFolder.bind(this))},h.addFolder=function(i){this.folders.push({path:i,created:new Date,isBase64:!1})},h.addFile=function(i,r,o){void 0===o&&(o=!1),this.files.push({path:i,created:new Date,content:r,isBase64:o})},h.getContent=function(i){void 0===i&&(i="application/zip");var r=this.buildFileStream(),o=this.buildUint8Array(r);return this.clearStream(),new Blob([o],{type:i})},h.clearStream=function(){this.folders=[],this.files=[]},h.buildFileStream=function(i){var r,o;void 0===i&&(i="");var u=this.folders.concat(this.files),d=u.length,m="",w=0,P=0;try{for(var x=function(h){var i="function"==typeof Symbol&&Symbol.iterator,r=i&&h[i],o=0;if(r)return r.call(h);if(h&&"number"==typeof h.length)return{next:function(){return h&&o>=h.length&&(h=void 0),{value:h&&h[o++],done:!h}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(u),N=x.next();!N.done;N=x.next()){var q=this.getHeader(N.value,w),ee=q.fileHeader,le=q.folderHeader,de=q.content;w+=ee.length+de.length,P+=le.length,i+=ee+de,m+=le}}catch(xe){r={error:xe}}finally{try{N&&!N.done&&(o=x.return)&&o.call(x)}finally{if(r)throw r.error}}return i+m+this.buildFolderEnd(d,P,w)},h.getHeader=function(i,r){var o=i.content,u=i.path,d=i.created,m=i.isBase64,P=ft.decToHex,x=(0,ft.utf8_encode)(u),N=x!==u,k=this.convertTime(d),q=this.convertDate(d),ee="";if(N){var le=P(1,1)+P(this.getFromCrc32Table(x),4)+x;ee="up"+P(le.length,2)+le}var de=o?this.getConvertedContent(o,m):{size:0,content:""},ye=de.size,xe=de.content,Oe="\n\0"+(N?"\0\b":"\0\0")+"\0\0"+P(k,2)+P(q,2)+P(ye?this.getFromCrc32Table(xe):0,4)+P(ye,4)+P(ye,4)+P(x.length,2)+P(ee.length,2);return{fileHeader:"PK\x03\x04"+Oe+x+ee,folderHeader:"PK\x01\x02\x14\0"+Oe+"\0\0\0\0\0\0"+(o?"\0\0\0\0":"\x10\0\0\0")+P(r,4)+x+ee,content:xe||""}},h.getConvertedContent=function(i,r){return void 0===r&&(r=!1),r&&(i=i.split(";base64,")[1]),{size:(i=r?atob(i):i).length,content:i}},h.buildFolderEnd=function(i,r,o){var u=ft.decToHex;return"PK\x05\x06\0\0\0\0"+u(i,2)+u(i,2)+u(r,4)+u(o,4)+"\0\0"},h.buildUint8Array=function(i){for(var r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);return r},h.getFromCrc32Table=function(i){if(!i.length)return 0;for(var r=i.length,o=new Uint8Array(r),u=0;u<r;u++)o[u]=i.charCodeAt(u);var d=-1;for(u=0;u<r;u++)d=d>>>8^hb[255&(d^o[u])];return-1^d},h.convertTime=function(i){var r=i.getHours();return r<<=6,r|=i.getMinutes(),(r<<=5)|i.getSeconds()/2},h.convertDate=function(i){var r=i.getFullYear()-1980;return r<<=4,r|=i.getMonth()+1,(r<<=5)|i.getDate()},h.folders=[],h.files=[],h}();yt.register(Jv,!1),yt.register(bf,!1),yt.register(ay,!1),W.AbstractHeaderCellCtrl=Yo,W.AgAbstractField=zo,W.AgAngleSelect=uf,W.AgCheckbox=Fa,W.AgColorPicker=ro,W.AgDialog=cd,W.AgGroupComponent=pd,W.AgInputNumberField=_v,W.AgInputRange=Sv,W.AgInputTextArea=of,W.AgInputTextField=nf,W.AgMenuItemComponent=yl,W.AgMenuList=JC,W.AgMenuPanel=tw,W.AgPanel=ii,W.AgPromise=nt,W.AgRadioButton=Bn,W.AgSelect=Dn,W.AgSlider=lf,W.AgStackComponentsRegistry=H_,W.AgToggleButton=eo,W.AlignedGridsService=$S,W.AnimateShowChangeCellRenderer=ru,W.AnimateSlideCellRenderer=gs,W.AnimationFrameService=GC,W.AutoScrollService=su,W.AutoWidthCalculator=La,W.Autowired=K,W.BaseComponentWrapper=Qv,W.BaseCreator=As,W.BaseGridSerializingSession=ty,W.Bean=qe,W.BeanStub=Ge,W.Beans=Gh,W.BodyDropPivotTarget=tv,W.BodyDropTarget=kn,W.CellComp=Uh,W.CellCtrl=pl,W.CellNavigationService=Ba,W.CellPositionUtils=Su,W.ChangedPath=Ji,W.CheckboxSelectionComponent=Dp,W.ColDefUtil=Yn,W.Color=Us,W.Column=kt,W.ColumnApi=hf,W.ColumnFactory=cm,W.ColumnGroup=er,W.ColumnKeyCreator=gn,W.ColumnModel=dm,W.ColumnUtils=fa,W.Component=Rt,W.ComponentUtil=Vt,W.Constants=ge,W.Context=rm,W.CssClassApplier=qh,W.CssClassManager=It,W.CsvCreator=iy,W.CsvExportModule=ay,W.CtrlsService=Kv,W.CustomTooltipFeature=mp,W.DateFilter=ba,W.DisplayedGroupCreator=B_,W.Downloader=ry,W.DragAndDropService=kr,W.DragService=xh,W.Environment=_d,W.EventService=Ja,W.Events=ne,W.ExpressionService=KS,W.FilterManager=Zm,W.FloatingFilterMapper=Ra,W.FocusService=Do,W.Grid=cb,W.GridApi=_C,W.GridBodyComp=qp,W.GridBodyCtrl=cc,W.GridComp=Cu,W.GridCoreCreator=To,W.GridCtrl=oi,W.GridHeaderComp=fv,W.GridHeaderCtrl=Cc,W.GridOptionsWrapper=Ke,W.GridSerializer=Of,W.GroupCellRenderer=oc,W.GroupCellRendererCtrl=zi,W.GroupInstanceIdCreator=ah,W.HeaderCellCtrl=Jp,W.HeaderFilterCellComp=Jm,W.HeaderFilterCellCtrl=yc,W.HeaderGroupCellCtrl=RC,W.HeaderNavigationService=bo,W.HeaderPositionUtils=zv,W.HeaderRowComp=ov,W.HeaderRowContainerComp=ed,W.HeaderRowContainerCtrl=xC,W.HeaderRowCtrl=fu,W.HorizontalResizeService=gv,W.KeyCode=Ie,W.LargeTextCellEditor=Og,W.Logger=Cl,W.LoggerFactory=Oc,W.ManagedFocusFeature=Uo,W.ModuleRegistry=yt,W.MouseEventService=gC,W.MoveColumnFeature=Di,W.NavigationService=FS,W.NumberFilter=hs,W.NumberSequence=ss,W.Optional=jt,W.PaginationProxy=WC,W.PinnedRowModel=ef,W.PopupComponent=al,W.PopupEditorWrapper=IS,W.PopupSelectCellEditor=tu,W.PopupService=Dv,W.PopupTextCellEditor=sl,W.PositionableFeature=id,W.PostConstruct=We,W.PreConstruct=Zf,W.PreDestroy=_n,W.PropertyKeys=ts,W.ProvidedColumnGroup=Or,W.ProvidedFilter=Xl,W.Qualifier=Er,W.QuerySelector=function ln(h){return $u.bind(this,h,void 0)},W.RefSelector=Ne,W.ResizeObserverService=Eo,W.RowContainerComp=$h,W.RowContainerCtrl=pu,W.RowCtrl=vs,W.RowNode=_t,W.RowNodeBlock=od,W.RowNodeBlockLoader=ad,W.RowNodeSorter=$v,W.RowPositionUtils=Wa,W.RowRenderer=VC,W.ScalarFilter=Gr,W.ScrollVisibleService=pc,W.SelectCellEditor=Ph,W.SelectableService=Zo,W.SelectionService=yu,W.SetLeftFeature=Qp,W.SimpleFilter=Lr,W.SortController=dw,W.StandardMenuFactory=td,W.StylingService=Oo,W.TabGuardComp=hd,W.TabGuardCtrl=qC,W.TabbedLayout=vv,W.TemplateService=uw,W.TextCellEditor=ec,W.TextFilter=Ep,W.TextFloatingFilter=bg,W.Timer=go,W.TouchListener=Ui,W.UserComponentFactory=ot,W.UserComponentRegistry=Mp,W.ValueCache=Dc,W.ValueFormatterService=wc,W.ValueService=Ec,W.VanillaFrameworkOverrides=Pv,W.VirtualList=zS,W.XmlFactory=Nw,W.ZipContainer=fb,W._=ft,W.defaultGroupComparator=function Dw(h,i,r,o,u){void 0===u&&(u=!1),console.warn("AG Grid: Since ag-grid 11.0.0 defaultGroupComparator is not necessary. You can remove this from your colDef");var d=re(r)&&r.group,m=re(o)&&o.group,P=!d&&!m;return d&&m?Iu(r.key,o.key,u):P?Iu(h,i,u):d?1:-1},W.getRowContainerTypeForName=cu,W.simpleHttpRequest=function un(h){return new nt(function(i){var r=new XMLHttpRequest;r.open("GET",h.url),r.send(),r.onreadystatechange=function(){4===r.readyState&&200===r.status&&i(JSON.parse(r.responseText))}})},W.stringToArray=ym},497:(x_,W,sa)=>{var l,b=sa(564),zn=(l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)},function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Il=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Lo=function(l){function t(){var n=null!==l&&l.apply(this,arguments)||this;return n.watermarkMessage=void 0,n}var e;return zn(t,l),e=t,t.prototype.validateLicense=function(){if(b._.missingOrEmpty(e.licenseKey))this.outputMissingLicenseKey();else if(e.licenseKey.length>32){var n=e.extractLicenseComponents(e.licenseKey),s=n.license,g=n.version,y=n.isTrial;n.md5===this.md5.md5(s)?b._.exists(g)&&g?this.validateLicenseKeyForVersion(g,!!y,s):this.validateLegacyKey(s):this.outputInvalidLicenseKey()}else this.outputInvalidLicenseKey()},t.extractExpiry=function(n){var a=n.substring(n.lastIndexOf("_")+1,n.length);return new Date(parseInt(e.decode(a),10))},t.extractLicenseComponents=function(n){var a=n.replace(/[\u200B-\u200D\uFEFF]/g,""),s=(a=a.replace(/\r?\n|\r/g,"")).length-32,g=a.substring(s),y=a.substring(0,s),_=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(e.extractBracketedInformation(a),2);return{md5:g,license:y,version:_[0],isTrial:_[1]}},t.prototype.getLicenseDetails=function(n){var a=e.extractLicenseComponents(n),g=a.license,y=a.version,_=a.isTrial,E=a.md5===this.md5.md5(g),R=null;return E&&(R=e.extractExpiry(g),E=!isNaN(R.getTime())),{licenseKey:n,valid:E,expiry:E?e.formatDate(R):null,version:y||"legacy",isTrial:_}},t.prototype.isDisplayWatermark=function(){return!b._.missingOrEmpty(this.watermarkMessage)},t.prototype.getWatermarkMessage=function(){return this.watermarkMessage||""},t.formatDate=function(n){var s=n.getDate(),g=n.getMonth(),y=n.getFullYear();return s+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][g]+" "+y},t.getGridReleaseDate=function(){return new Date(parseInt(e.decode(e.RELEASE_INFORMATION),10))},t.decode=function(n){for(var y,_,E,R,A,T,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s="",F=0,I=n.replace(/[^A-Za-z0-9+/=]/g,"");F<I.length;)E=a.indexOf(I.charAt(F++)),y=(15&(R=a.indexOf(I.charAt(F++))))<<4|(A=a.indexOf(I.charAt(F++)))>>2,_=(3&A)<<6|(T=a.indexOf(I.charAt(F++))),s+=String.fromCharCode(E<<2|R>>4),64!=A&&(s+=String.fromCharCode(y)),64!=T&&(s+=String.fromCharCode(_));return e.utf8_decode(s)},t.utf8_decode=function(n){n=n.replace(/rn/g,"n");for(var a="",s=0;s<n.length;s++){var g=n.charCodeAt(s);g<128?a+=String.fromCharCode(g):g>127&&g<2048?(a+=String.fromCharCode(g>>6|192),a+=String.fromCharCode(63&g|128)):(a+=String.fromCharCode(g>>12|224),a+=String.fromCharCode(g>>6&63|128),a+=String.fromCharCode(63&g|128))}return a},t.setLicenseKey=function(n){e.licenseKey=n},t.extractBracketedInformation=function(n){var a=n.split("[").filter(function(y){return y.indexOf("]")>-1}).map(function(y){return y.split("]")[0]});if(!a||0===a.length)return[null,null];var s=1===a.filter(function(y){return"TRIAL"===y}).length;return[a.filter(function(y){return 0===y.indexOf("v")}).map(function(y){return y.replace(/^v/,"")})[0],s]},t.prototype.validateLicenseKeyForVersion=function(n,a,s){"2"===n&&(a?this.validateForTrial(s):this.validateLegacyKey(s))},t.prototype.validateLegacyKey=function(n){var a=e.getGridReleaseDate(),s=e.extractExpiry(n),g=!1,y=!1;if(isNaN(s.getTime())||(g=!0,y=a<s),g){if(!y){var _=e.formatDate(s),E=e.formatDate(a);this.outputIncompatibleVersion(_,E)}}else this.outputInvalidLicenseKey()},t.prototype.validateForTrial=function(n){var a=e.extractExpiry(n),s=new Date,g=!1,y=!1;if(isNaN(a.getTime())||(g=!0,y=a>s),g){if(!y){var _=e.formatDate(a);this.outputExpiredTrialKey(_)}}else this.outputInvalidLicenseKey()},t.prototype.outputInvalidLicenseKey=function(){console.error("*****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License ********************************************"),console.error("********************************************* Invalid License ***************************************************"),console.error("* Your license for AG Grid Enterprise is not valid - please contact info@ag-grid.com to obtain a valid license. *"),console.error("*****************************************************************************************************************"),console.error("*****************************************************************************************************************"),this.watermarkMessage="Invalid License"},t.prototype.outputExpiredTrialKey=function(n){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("*****************************************   Trial Period Expired.    *******************************************"),console.error("* Your license for AG Grid Enterprise expired on "+n+".                                                *"),console.error("* Please email info@ag-grid.com to purchase a license.                                                         *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="Trial Period Expired"},t.prototype.outputMissingLicenseKey=function(){console.error("****************************************************************************************************************"),console.error("***************************************** AG Grid Enterprise License *******************************************"),console.error("****************************************** License Key Not Found ***********************************************"),console.error("* All AG Grid Enterprise features are unlocked.                                                                *"),console.error("* This is an evaluation only version, it is not licensed for development projects intended for production.     *"),console.error("* If you want to hide the watermark, please email info@ag-grid.com for a trial license.                        *"),console.error("****************************************************************************************************************"),console.error("****************************************************************************************************************"),this.watermarkMessage="For Trial Use Only"},t.prototype.outputIncompatibleVersion=function(n,a){console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),console.error("*                                             AG Grid Enterprise License                                                   *"),console.error("*                           License not compatible with installed version of AG Grid Enterprise.                           *"),console.error("*                                                                                                                          *"),console.error("* Your AG Grid License entitles you to all versions of AG Grid that we release within the time covered by your license     *"),console.error("* - typically we provide one year licenses which entitles you to all releases / updates of AG Grid within that year.       *"),console.error("* Your license has an end (expiry) date which stops the license key working with versions of AG Grid released after the    *"),console.error("* license end date. The license key that you have expires on "+n+", however the version of AG Grid you    *"),console.error("* are trying to use was released on "+a+".                                                               *"),console.error("*                                                                                                                          *"),console.error("* Please contact info@ag-grid.com to renew your subscription to new versions and get a new license key to work with this   *"),console.error("* version of AG Grid.                                                                                                      *"),console.error("****************************************************************************************************************************"),console.error("****************************************************************************************************************************"),this.watermarkMessage="License Expired"},t.RELEASE_INFORMATION="MTY1MDQ0NTEwMTg0NQ==",Il([b.Autowired("md5")],t.prototype,"md5",void 0),Il([b.PreConstruct],t.prototype,"validateLicense",null),e=Il([b.Bean("licenseManager")],t)}(b.BeanStub),Yy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yf=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Nl=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.ieCompatibility=!1,e}return Yy(t,l),t.prototype.init=function(){this.ieCompatibility="5d41402abc4b2a76b9719d911017c592"!=this.md5("hello")},t.prototype.md5cycle=function(e,n){var a=e[0],s=e[1],g=e[2],y=e[3];a=this.ff(a,s,g,y,n[0],7,-680876936),y=this.ff(y,a,s,g,n[1],12,-389564586),g=this.ff(g,y,a,s,n[2],17,606105819),s=this.ff(s,g,y,a,n[3],22,-1044525330),a=this.ff(a,s,g,y,n[4],7,-176418897),y=this.ff(y,a,s,g,n[5],12,1200080426),g=this.ff(g,y,a,s,n[6],17,-1473231341),s=this.ff(s,g,y,a,n[7],22,-45705983),a=this.ff(a,s,g,y,n[8],7,1770035416),y=this.ff(y,a,s,g,n[9],12,-1958414417),g=this.ff(g,y,a,s,n[10],17,-42063),s=this.ff(s,g,y,a,n[11],22,-1990404162),a=this.ff(a,s,g,y,n[12],7,1804603682),y=this.ff(y,a,s,g,n[13],12,-40341101),g=this.ff(g,y,a,s,n[14],17,-1502002290),s=this.ff(s,g,y,a,n[15],22,1236535329),a=this.gg(a,s,g,y,n[1],5,-165796510),y=this.gg(y,a,s,g,n[6],9,-1069501632),g=this.gg(g,y,a,s,n[11],14,643717713),s=this.gg(s,g,y,a,n[0],20,-373897302),a=this.gg(a,s,g,y,n[5],5,-701558691),y=this.gg(y,a,s,g,n[10],9,38016083),g=this.gg(g,y,a,s,n[15],14,-660478335),s=this.gg(s,g,y,a,n[4],20,-405537848),a=this.gg(a,s,g,y,n[9],5,568446438),y=this.gg(y,a,s,g,n[14],9,-1019803690),g=this.gg(g,y,a,s,n[3],14,-187363961),s=this.gg(s,g,y,a,n[8],20,1163531501),a=this.gg(a,s,g,y,n[13],5,-1444681467),y=this.gg(y,a,s,g,n[2],9,-51403784),g=this.gg(g,y,a,s,n[7],14,1735328473),s=this.gg(s,g,y,a,n[12],20,-1926607734),a=this.hh(a,s,g,y,n[5],4,-378558),y=this.hh(y,a,s,g,n[8],11,-2022574463),g=this.hh(g,y,a,s,n[11],16,1839030562),s=this.hh(s,g,y,a,n[14],23,-35309556),a=this.hh(a,s,g,y,n[1],4,-1530992060),y=this.hh(y,a,s,g,n[4],11,1272893353),g=this.hh(g,y,a,s,n[7],16,-155497632),s=this.hh(s,g,y,a,n[10],23,-1094730640),a=this.hh(a,s,g,y,n[13],4,681279174),y=this.hh(y,a,s,g,n[0],11,-358537222),g=this.hh(g,y,a,s,n[3],16,-722521979),s=this.hh(s,g,y,a,n[6],23,76029189),a=this.hh(a,s,g,y,n[9],4,-640364487),y=this.hh(y,a,s,g,n[12],11,-421815835),g=this.hh(g,y,a,s,n[15],16,530742520),s=this.hh(s,g,y,a,n[2],23,-995338651),a=this.ii(a,s,g,y,n[0],6,-198630844),y=this.ii(y,a,s,g,n[7],10,1126891415),g=this.ii(g,y,a,s,n[14],15,-1416354905),s=this.ii(s,g,y,a,n[5],21,-57434055),a=this.ii(a,s,g,y,n[12],6,1700485571),y=this.ii(y,a,s,g,n[3],10,-1894986606),g=this.ii(g,y,a,s,n[10],15,-1051523),s=this.ii(s,g,y,a,n[1],21,-2054922799),a=this.ii(a,s,g,y,n[8],6,1873313359),y=this.ii(y,a,s,g,n[15],10,-30611744),g=this.ii(g,y,a,s,n[6],15,-1560198380),s=this.ii(s,g,y,a,n[13],21,1309151649),a=this.ii(a,s,g,y,n[4],6,-145523070),y=this.ii(y,a,s,g,n[11],10,-1120210379),g=this.ii(g,y,a,s,n[2],15,718787259),s=this.ii(s,g,y,a,n[9],21,-343485551),e[0]=this.add32(a,e[0]),e[1]=this.add32(s,e[1]),e[2]=this.add32(g,e[2]),e[3]=this.add32(y,e[3])},t.prototype.cmn=function(e,n,a,s,g,y){return n=this.add32(this.add32(n,e),this.add32(s,y)),this.add32(n<<g|n>>>32-g,a)},t.prototype.ff=function(e,n,a,s,g,y,_){return this.cmn(n&a|~n&s,e,n,g,y,_)},t.prototype.gg=function(e,n,a,s,g,y,_){return this.cmn(n&s|a&~s,e,n,g,y,_)},t.prototype.hh=function(e,n,a,s,g,y,_){return this.cmn(n^a^s,e,n,g,y,_)},t.prototype.ii=function(e,n,a,s,g,y,_){return this.cmn(a^(n|~s),e,n,g,y,_)},t.prototype.md51=function(e){var s,n=e.length,a=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=e.length;s+=64)this.md5cycle(a,this.md5blk(e.substring(s-64,s)));e=e.substring(s-64);var g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<e.length;s++)g[s>>2]|=e.charCodeAt(s)<<(s%4<<3);if(g[s>>2]|=128<<(s%4<<3),s>55)for(this.md5cycle(a,g),s=0;s<16;s++)g[s]=0;return g[14]=8*n,this.md5cycle(a,g),a},t.prototype.md5blk=function(e){for(var n=[],a=0;a<64;a+=4)n[a>>2]=e.charCodeAt(a)+(e.charCodeAt(a+1)<<8)+(e.charCodeAt(a+2)<<16)+(e.charCodeAt(a+3)<<24);return n},t.prototype.rhex=function(e){for(var n="0123456789abcdef".split(""),a="",s=0;s<4;s++)a+=n[e>>8*s+4&15]+n[e>>8*s&15];return a},t.prototype.hex=function(e){for(var n=0;n<e.length;n++)e[n]=this.rhex(e[n]);return e.join("")},t.prototype.md5=function(e){return this.hex(this.md51(e))},t.prototype.add32=function(e,n){return this.ieCompatibility?this.add32Compat(e,n):this.add32Std(e,n)},t.prototype.add32Std=function(e,n){return e+n&4294967295},t.prototype.add32Compat=function(e,n){var a=(65535&e)+(65535&n);return(e>>16)+(n>>16)+(a>>16)<<16|65535&a},Yf([b.PostConstruct],t.prototype,"init",null),Yf([b.Bean("md5")],t)}(b.BeanStub),Iu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),la=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},qy=function(l){function t(){return l.call(this,'<div class="ag-watermark">\n                    <div ref="eLicenseTextRef" class="ag-watermark-text"></div>\n               </div>')||this}return Iu(t,l),t.prototype.postConstruct=function(){var e=this,n=this.shouldDisplayWatermark();this.addOrRemoveCssClass("ag-hidden",!n),n&&(this.eLicenseTextRef.innerText=this.licenseManager.getWatermarkMessage(),window.setTimeout(function(){return e.addCssClass("ag-opacity-zero")},0),window.setTimeout(function(){return e.addCssClass("ag-hidden")},5e3))},t.prototype.shouldDisplayWatermark=function(){var a=(this.gridOptionsWrapper.getDocument().defaultView||window).location,s=a.hostname,g=void 0===s?"":s,y=a.pathname,_=this.licenseManager.isDisplayWatermark(),E=null!=g.match("^(?:127.0.0.1|localhost|(?:w+.)?ag-grid.com)$");return!!y&&-1!==y.indexOf("forceWatermark")||_&&!E},la([b.Autowired("licenseManager")],t.prototype,"licenseManager",void 0),la([b.RefSelector("eLicenseTextRef")],t.prototype,"eLicenseTextRef",void 0),la([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),gn={moduleName:b.ModuleNames.EnterpriseCoreModule,beans:[Lo,Nl],agStackComponents:[{componentName:"AgWatermark",componentClass:qy}]},qt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ll=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Ni=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(Ni||(Ni={})),Ni))(),ua=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return qt(t,l),t.prototype.postConstruct=function(){var e=this;this.createExpandIcons(),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eExpand,"keydown",function(a){a.key===b.KeyCode.SPACE&&e.onExpandClicked()}),this.addManagedListener(this.eSelect.getInputElement(),"click",this.onSelectClicked.bind(this)),this.eFilterTextField.onValueChange(function(){return e.onFilterTextChanged()}),this.addManagedListener(this.eFilterTextField.getInputElement(),"keypress",this.onMiniFilterKeyPress.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this));var n=this.gridOptionsWrapper.getLocaleTextFunc();this.eSelect.setInputAriaLabel(n("ariaColumnSelectAll","Toggle Select All Columns")),this.eFilterTextField.setInputAriaLabel(n("ariaFilterColumnsInput","Filter Columns Input"))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=b._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=b._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=b._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper)),this.setExpandState(Ni.EXPANDED)},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressColumnFilter,n=!this.params.suppressColumnSelectAll,a=!this.params.suppressColumnExpandAll,s=this.columnModel.isPrimaryColumnGroupsPresent(),g=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(g("searchOoo","Search...")),b._.setDisplayed(this.eFilterTextField.getGui(),e),b._.setDisplayed(this.eSelect.getGui(),n),b._.setDisplayed(this.eExpand,a&&s)},t.prototype.onFilterTextChanged=function(){var e=this;this.onFilterTextChangedDebounced||(this.onFilterTextChangedDebounced=b._.debounce(function(){var n=e.eFilterTextField.getValue();e.dispatchEvent({type:"filterChanged",filterText:n})},t.DEBOUNCE_DELAY)),this.onFilterTextChangedDebounced()},t.prototype.onMiniFilterKeyPress=function(e){var n=this;e.key===b.KeyCode.ENTER&&setTimeout(function(){return n.onSelectClicked()},t.DEBOUNCE_DELAY)},t.prototype.onSelectClicked=function(){this.dispatchEvent({type:this.selectState?"unselectAll":"selectAll"})},t.prototype.onExpandClicked=function(){this.dispatchEvent({type:this.expandState===Ni.EXPANDED?"collapseAll":"expandAll"})},t.prototype.setExpandState=function(e){this.expandState=e,b._.setDisplayed(this.eExpandChecked,this.expandState===Ni.EXPANDED),b._.setDisplayed(this.eExpandUnchecked,this.expandState===Ni.COLLAPSED),b._.setDisplayed(this.eExpandIndeterminate,this.expandState===Ni.INDETERMINATE)},t.prototype.setSelectionState=function(e){this.selectState=e,this.eSelect.setValue(this.selectState)},t.DEBOUNCE_DELAY=300,t.TEMPLATE='<div class="ag-column-select-header" role="presentation" tabindex="-1">\n            <div ref="eExpand" class="ag-column-select-header-icon" tabindex="0"></div>\n            <ag-checkbox ref="eSelect" class="ag-column-select-header-checkbox"></ag-checkbox>\n            <ag-input-text-field class="ag-column-select-header-filter-wrapper" ref="eFilterTextField"></ag-input-text-field>\n        </div>',Ll([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Ll([b.RefSelector("eExpand")],t.prototype,"eExpand",void 0),Ll([b.RefSelector("eSelect")],t.prototype,"eSelect",void 0),Ll([b.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),Ll([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Xa=function(){function l(t,e,n,a,s){void 0===a&&(a=!1),this.eventService=new b.EventService,this.displayName=t,this.dept=n,this.group=a,a?(this.columnGroup=e,this.expanded=s,this.children=[]):this.column=e}return l.prototype.isGroup=function(){return this.group},l.prototype.getDisplayName=function(){return this.displayName},l.prototype.getColumnGroup=function(){return this.columnGroup},l.prototype.getColumn=function(){return this.column},l.prototype.getDept=function(){return this.dept},l.prototype.isExpanded=function(){return!!this.expanded},l.prototype.getChildren=function(){return this.children},l.prototype.isPassesFilter=function(){return this.passesFilter},l.prototype.setExpanded=function(t){t!==this.expanded&&(this.expanded=t,this.eventService.dispatchEvent({type:l.EVENT_EXPANDED_CHANGED}))},l.prototype.setPassesFilter=function(t){this.passesFilter=t},l.prototype.addEventListener=function(t,e){this.eventService.addEventListener(t,e)},l.prototype.removeEventListener=function(t,e){this.eventService.removeEventListener(t,e)},l.EVENT_EXPANDED_CHANGED="expandedChanged",l}(),Xy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nu=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Qy=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},In=function(l){function t(e,n,a){var s=l.call(this,'<div class="ag-menu"></div>')||this;return s.column=e,s.mouseEvent=n,s.parentEl=a,s.displayName=null,s}return Xy(t,l),t.prototype.postConstruct=function(){this.initializeProperties(this.column),this.buildMenuItemMap(),this.displayName=this.column instanceof b.Column?this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel"):this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.column,"columnToolPanel"),this.isActive()&&(this.mouseEvent.preventDefault(),this.displayContextMenu())},t.prototype.initializeProperties=function(e){this.columns=e instanceof b.ProvidedColumnGroup?e.getLeafColumns():[e],this.allowGrouping=this.columns.some(function(n){return n.isPrimary()&&n.isAllowRowGroup()}),this.allowValues=this.columns.some(function(n){return n.isPrimary()&&n.isAllowValue()}),this.allowPivoting=this.columnModel.isPivotMode()&&this.columns.some(function(n){return n.isPrimary()&&n.isAllowPivot()})},t.prototype.buildMenuItemMap=function(){var e=this,n=this.gridOptionsWrapper.getLocaleTextFunc();this.menuItemMap=new Map,this.menuItemMap.set("rowGroup",{allowedFunction:function(a){return a.isPrimary()&&a.isAllowRowGroup()},activeFunction:function(a){return a.isRowGroupActive()},activateLabel:function(){return n("groupBy","Group by")+" "+e.displayName},deactivateLabel:function(){return n("ungroupBy","Un-Group by")+" "+e.displayName},activateFunction:function(){var a=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.addColumnsToList(a),"toolPanelUi")},deActivateFunction:function(){var a=e.columnModel.getRowGroupColumns();e.columnModel.setRowGroupColumns(e.removeColumnsFromList(a),"toolPanelUi")},addIcon:"menuAddRowGroup",removeIcon:"menuRemoveRowGroup"}),this.menuItemMap.set("value",{allowedFunction:function(a){return a.isPrimary()&&a.isAllowValue()},activeFunction:function(a){return a.isValueActive()},activateLabel:function(){return n("addToValues","Add "+e.displayName+" to values",[e.displayName])},deactivateLabel:function(){return n("removeFromValues","Remove "+e.displayName+" from values",[e.displayName])},activateFunction:function(){var a=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.addColumnsToList(a),"toolPanelUi")},deActivateFunction:function(){var a=e.columnModel.getValueColumns();e.columnModel.setValueColumns(e.removeColumnsFromList(a),"toolPanelUi")},addIcon:"valuePanel",removeIcon:"valuePanel"}),this.menuItemMap.set("pivot",{allowedFunction:function(a){return e.columnModel.isPivotMode()&&a.isPrimary()&&a.isAllowPivot()},activeFunction:function(a){return a.isPivotActive()},activateLabel:function(){return n("addToLabels","Add "+e.displayName+" to labels",[e.displayName])},deactivateLabel:function(){return n("removeFromLabels","Remove "+e.displayName+" from labels",[e.displayName])},activateFunction:function(){var a=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.addColumnsToList(a),"toolPanelUi")},deActivateFunction:function(){var a=e.columnModel.getPivotColumns();e.columnModel.setPivotColumns(e.removeColumnsFromList(a),"toolPanelUi")},addIcon:"pivotPanel",removeIcon:"pivotPanel"})},t.prototype.addColumnsToList=function(e){return function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Qy(arguments[t]));return l}(e).concat(this.columns.filter(function(n){return-1===e.indexOf(n)}))},t.prototype.removeColumnsFromList=function(e){var n=this;return e.filter(function(a){return-1===n.columns.indexOf(a)})},t.prototype.displayContextMenu=function(){var e=this,n=this.getGui(),a=this.createBean(new b.AgMenuList),s=this.getMappedMenuItems(),g=function(){};n.appendChild(a.getGui()),a.addMenuItems(s),a.addManagedListener(a,b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(){e.parentEl.focus(),g()});var y=this.popupService.addPopup({modal:!0,eChild:n,closeOnEsc:!0,afterGuiAttached:function(){return e.focusService.focusInto(a.getGui())},ariaLabel:"Foo",closedCallback:function(_){_ instanceof KeyboardEvent&&e.parentEl.focus(),e.destroyBean(a)}});y&&(g=y.hideFunc),this.popupService.positionPopupUnderMouseEvent({type:"columnContextMenu",mouseEvent:this.mouseEvent,ePopup:n})},t.prototype.isActive=function(){return this.allowGrouping||this.allowValues||this.allowPivoting},t.prototype.getMappedMenuItems=function(){var e,n,a=[],s=function(R){var A=g.columns.some(function(F){return R.allowedFunction(F)&&!R.activeFunction(F)}),T=g.columns.some(function(F){return R.allowedFunction(F)&&R.activeFunction(F)});A&&a.push({name:R.activateLabel(g.displayName),icon:b._.createIconNoSpan(R.addIcon,g.gridOptionsWrapper,null),action:function(){return R.activateFunction()}}),T&&a.push({name:R.deactivateLabel(g.displayName),icon:b._.createIconNoSpan(R.removeIcon,g.gridOptionsWrapper,null),action:function(){return R.deActivateFunction()}})},g=this;try{for(var y=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.menuItemMap.values()),_=y.next();!_.done;_=y.next())s(_.value)}catch(R){e={error:R}}finally{try{_&&!_.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return a},Nu([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Nu([b.Autowired("popupService")],t.prototype,"popupService",void 0),Nu([b.Autowired("focusService")],t.prototype,"focusService",void 0),Nu([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Qd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qa=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Zd=function(l){function t(e,n,a,s){var g=l.call(this)||this;return g.modelItem=e,g.allowDragging=n,g.eventType=a,g.focusWrapper=s,g.processingColumnStateChange=!1,g.modelItem=e,g.columnGroup=e.getColumnGroup(),g.columnDept=e.getDept(),g.allowDragging=n,g}return Qd(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-group-drag-handle");var n=this.cbSelect.getGui(),a=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),a.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForProvidedColumnGroup(null,this.columnGroup,this.eventType),b._.missing(this.displayName)&&(this.displayName=">>"),this.eLabel.innerHTML=this.displayName?this.displayName:"",this.setupExpandContract(),this.addCssClass("ag-column-select-indent-"+this.columnDept),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.addManagedListener(this.cbSelect,b.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.modelItem,Xa.EVENT_EXPANDED_CHANGED,this.onExpandChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.setOpenClosedIcons(),this.setupDragging(),this.onColumnStateChanged(),this.addVisibilityListenersToAllChildren(),this.refreshAriaExpanded(),this.refreshAriaLabel(),this.setupTooltip(),b.CssClassApplier.getToolPanelClassesFromColDef(this.columnGroup.getColGroupDef(),this.gridOptionsWrapper,null,this.columnGroup).forEach(function(g){return e.addOrRemoveCssClass(g,!0)})},t.prototype.getColumns=function(){return this.columnGroup.getLeafColumns()},t.prototype.setupTooltip=function(){var e=this,n=this.columnGroup.getColGroupDef();if(n){var a=function(){e.setTooltip(n.headerTooltip)};a(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,a)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumnGroup",e},t.prototype.handleKeyDown=function(e){switch(e.key){case b.KeyCode.LEFT:e.preventDefault(),this.modelItem.setExpanded(!1);break;case b.KeyCode.RIGHT:e.preventDefault(),this.modelItem.setExpanded(!0);break;case b.KeyCode.SPACE:e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected())}},t.prototype.onContextMenu=function(e){var n=this,s=this.columnGroup;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var y=this.createBean(new In(s,e,this.focusWrapper));this.addDestroyFunc(function(){y.isAlive()&&n.destroyBean(y)})}},t.prototype.addVisibilityListenersToAllChildren=function(){var e=this;this.columnGroup.getLeafColumns().forEach(function(n){e.addManagedListener(n,b.Column.EVENT_VISIBLE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,b.Column.EVENT_VALUE_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,b.Column.EVENT_PIVOT_CHANGED,e.onColumnStateChanged.bind(e)),e.addManagedListener(n,b.Column.EVENT_ROW_GROUP_CHANGED,e.onColumnStateChanged.bind(e))})},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var n={type:b.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.columnGroup})},onDragStopped:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})}else b._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return this.columnGroup.getLeafColumns().forEach(function(n){e[n.getId()]=n.isVisible()}),{columns:this.columnGroup.getLeafColumns(),visibleState:e}},t.prototype.setupExpandContract=function(){this.eGroupClosedIcon.appendChild(b._.createIcon("columnSelectClosed",this.gridOptionsWrapper,null)),this.eGroupOpenedIcon.appendChild(b._.createIcon("columnSelectOpen",this.gridOptionsWrapper,null)),this.addManagedListener(this.eGroupClosedIcon,"click",this.onExpandOrContractClicked.bind(this)),this.addManagedListener(this.eGroupOpenedIcon,"click",this.onExpandOrContractClicked.bind(this));var e=new b.TouchListener(this.eColumnGroupIcons,!0);this.addManagedListener(e,b.TouchListener.EVENT_TAP,this.onExpandOrContractClicked.bind(this)),this.addDestroyFunc(e.destroy.bind(e))},t.prototype.onLabelClicked=function(){var e=!this.cbSelect.getValue();this.onChangeCommon(e)},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.getVisibleLeafColumns=function(){var e=[],n=function(a){a.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?n(s.getChildren()):e.push(s.getColumn()))})};return n(this.modelItem.getChildren()),e},t.prototype.onChangeCommon=function(e){this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.selectAllChildren(this.modelItem.getChildren(),e,this.eventType)},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("ariaColumnGroup","Column Group"),a=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");b._.setAriaLabel(this.focusWrapper,this.displayName+" "+n),this.cbSelect.setInputAriaLabel(s+" ("+a+")"),b._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.onColumnStateChanged=function(){var e=this.workOutSelectedValue(),n=this.workOutReadOnlyValue();this.processingColumnStateChange=!0,this.cbSelect.setValue(e),this.cbSelect.setReadOnly(n),this.addOrRemoveCssClass("ag-column-select-column-group-readonly",n),this.processingColumnStateChange=!1},t.prototype.workOutSelectedValue=function(){var e=this,n=this.columnModel.isPivotMode(),a=this.getVisibleLeafColumns(),s=0,g=0;if(a.forEach(function(y){!n&&y.getColDef().lockVisible||(e.isColumnChecked(y,n)?s++:g++)}),!(s>0&&g>0))return s>0},t.prototype.workOutReadOnlyValue=function(){var e=this.columnModel.isPivotMode(),n=0;return this.columnGroup.getLeafColumns().forEach(function(a){e?a.isAnyFunctionAllowed()&&n++:a.getColDef().lockVisible||n++}),0===n},t.prototype.isColumnChecked=function(e,n){if(n){var a=e.isPivotActive(),s=e.isRowGroupActive(),g=e.isValueActive();return a||s||g}return e.isVisible()},t.prototype.onExpandOrContractClicked=function(){var e=this.modelItem.isExpanded();this.modelItem.setExpanded(!e)},t.prototype.onExpandChanged=function(){this.setOpenClosedIcons(),this.refreshAriaExpanded()},t.prototype.setOpenClosedIcons=function(){var e=this.modelItem.isExpanded();b._.setDisplayed(this.eGroupClosedIcon,!e),b._.setDisplayed(this.eGroupOpenedIcon,e)},t.prototype.refreshAriaExpanded=function(){b._.setAriaExpanded(this.focusWrapper,this.modelItem.isExpanded())},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){var n=this.cbSelect.getValue();!this.cbSelect.isReadOnly()&&(e&&!n||!e&&n)&&this.cbSelect.toggle()},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.setSelected=function(e){this.cbSelect.setValue(e,!0)},t.TEMPLATE='<div class="ag-column-select-column-group" aria-hidden="true">\n            <span class="ag-column-group-icons" ref="eColumnGroupIcons" >\n                <span class="ag-column-group-closed-icon" ref="eGroupClosedIcon"></span>\n                <span class="ag-column-group-opened-icon" ref="eGroupOpenedIcon"></span>\n            </span>\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',Qa([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Qa([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Qa([b.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Qa([b.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),Qa([b.RefSelector("eLabel")],t.prototype,"eLabel",void 0),Qa([b.RefSelector("eGroupOpenedIcon")],t.prototype,"eGroupOpenedIcon",void 0),Qa([b.RefSelector("eGroupClosedIcon")],t.prototype,"eGroupClosedIcon",void 0),Qa([b.RefSelector("eColumnGroupIcons")],t.prototype,"eColumnGroupIcons",void 0),Qa([b.PostConstruct],t.prototype,"init",null),t}(b.Component),Zy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hs=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ca="ag-list-item-hovered",ip=function(l){function t(e,n){var a=l.call(this)||this;return a.comp=e,a.virtualList=n,a.currentDragColumn=null,a.lastHoveredColumnItem=null,a}return Zy(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,this.columnPanelItemDragStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END,this.columnPanelItemDragEnd.bind(this)),this.createDropTarget(),this.createAutoScrollService()},t.prototype.columnPanelItemDragStart=function(e){this.currentDragColumn=e.column,this.getCurrentColumns().find(function(g){var y=g.getColDef();return!!y.suppressMovable||!!y.lockPosition})&&(this.moveBlocked=!0)},t.prototype.columnPanelItemDragEnd=function(){var e=this;window.setTimeout(function(){e.currentDragColumn=null,e.moveBlocked=!1},10)},t.prototype.createDropTarget=function(){var e=this;this.dragAndDropService.addDropTarget({isInterestedIn:function(a){return a===b.DragSourceType.ToolPanel},getIconName:function(){return b.DragAndDropService[e.moveBlocked?"ICON_NOT_ALLOWED":"ICON_MOVE"]},getContainer:function(){return e.comp.getGui()},onDragging:function(a){return e.onDragging(a)},onDragStop:function(){return e.onDragStop()},onDragLeave:function(){return e.onDragLeave()}})},t.prototype.createAutoScrollService=function(){var e=this.virtualList.getGui();this.autoScrollService=new b.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.onDragging=function(e){if(this.currentDragColumn&&!this.moveBlocked){var n=this.getDragColumnItem(e),a=this.virtualList.getComponentAt(n.rowIndex);if(a){var s=a.getGui().parentElement;this.lastHoveredColumnItem&&this.lastHoveredColumnItem.rowIndex===n.rowIndex&&this.lastHoveredColumnItem.position===n.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredColumnItem=n,b._.radioCssClass(s,""+ca),b._.radioCssClass(s,"ag-item-highlight-"+n.position))}}},t.prototype.getDragColumnItem=function(e){var n=this.virtualList.getGui(),a=parseFloat(window.getComputedStyle(n).paddingTop),s=this.virtualList.getRowHeight(),g=this.virtualList.getScrollTop(),y=Math.max(0,(e.y-a+g)/s),_=this.comp.getDisplayedColsList().length-1,E=0|Math.min(_,y);return{rowIndex:E,position:Math.round(y)>y||y>_?"bottom":"top",component:this.virtualList.getComponentAt(E)}},t.prototype.onDragStop=function(){if(!this.moveBlocked){var e=this.getTargetIndex(),n=this.getCurrentColumns();null!=e&&this.columnModel.moveColumns(n,e),this.clearHoveredItems(),this.autoScrollService.ensureCleared()}},t.prototype.getMoveDiff=function(e){var n=this.columnModel.getAllGridColumns(),a=this.getCurrentColumns(),g=a.length;return n.indexOf(a[0])<e?g:0},t.prototype.getCurrentColumns=function(){return this.currentDragColumn instanceof b.ProvidedColumnGroup?this.currentDragColumn.getLeafColumns():[this.currentDragColumn]},t.prototype.getTargetIndex=function(){if(!this.lastHoveredColumnItem)return null;var a,e=this.lastHoveredColumnItem.component,n="top"===this.lastHoveredColumnItem.position;e instanceof Zd?(a=e.getColumns()[0],n=!0):a=e.getColumn();var g=this.columnModel.getAllGridColumns().indexOf(a),y=n?g:g+1;return y-this.getMoveDiff(y)},t.prototype.onDragLeave=function(){this.clearHoveredItems(),this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.virtualList.getGui().querySelectorAll("."+ca).forEach(function(n){[ca,"ag-item-highlight-top","ag-item-highlight-bottom"].forEach(function(a){n.classList.remove(a)})}),this.lastHoveredColumnItem=null},Hs([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Hs([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Hs([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.BeanStub),Jy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cr=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},em=function(l){function t(e,n,a,s,g){var y=l.call(this)||this;return y.column=e,y.columnDept=n,y.allowDragging=a,y.groupsExist=s,y.focusWrapper=g,y.processingColumnStateChange=!1,y}return Jy(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE),this.eDragHandle=b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper),this.eDragHandle.classList.add("ag-drag-handle","ag-column-select-column-drag-handle");var n=this.cbSelect.getGui(),a=this.cbSelect.getInputElement();n.insertAdjacentElement("afterend",this.eDragHandle),a.setAttribute("tabindex","-1"),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnToolPanel");var s=b._.escapeString(this.displayName);this.eLabel.innerHTML=s;var g=this.columnDept;this.groupsExist&&this.addCssClass("ag-column-select-add-group-indent"),this.addCssClass("ag-column-select-indent-"+g),this.setupDragging(),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_VALUE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_PIVOT_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_ROW_GROUP_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.column,b.Column.EVENT_VISIBLE_CHANGED,this.onColumnStateChanged.bind(this)),this.addManagedListener(this.focusWrapper,"keydown",this.handleKeyDown.bind(this)),this.addManagedListener(this.focusWrapper,"contextmenu",this.onContextMenu.bind(this)),this.addManagedListener(this.gridOptionsWrapper,"functionsReadOnly",this.onColumnStateChanged.bind(this)),this.addManagedListener(this.cbSelect,b.AgCheckbox.EVENT_CHANGED,this.onCheckboxChanged.bind(this)),this.addManagedListener(this.eLabel,"click",this.onLabelClicked.bind(this)),this.onColumnStateChanged(),this.refreshAriaLabel(),this.setupTooltip(),b.CssClassApplier.getToolPanelClassesFromColDef(this.column.getColDef(),this.gridOptionsWrapper,this.column,null).forEach(function(_){return e.addOrRemoveCssClass(_,!0)})},t.prototype.getColumn=function(){return this.column},t.prototype.setupTooltip=function(){var e=this,n=function(){var a=e.column.getColDef().headerTooltip;e.setTooltip(a)};n(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,n)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="columnToolPanelColumn",e.colDef=this.column.getColDef(),e},t.prototype.onContextMenu=function(e){var n=this,s=this.column;if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var y=this.createBean(new In(s,e,this.focusWrapper));this.addDestroyFunc(function(){y.isAlive()&&n.destroyBean(y)})}},t.prototype.handleKeyDown=function(e){e.key===b.KeyCode.SPACE&&(e.preventDefault(),this.isSelectable()&&this.onSelectAllChanged(!this.isSelected()))},t.prototype.onLabelClicked=function(){if(!this.gridOptionsWrapper.isFunctionsReadOnly()){var e=!this.cbSelect.getValue();this.onChangeCommon(e)}},t.prototype.onCheckboxChanged=function(e){this.onChangeCommon(e.selected)},t.prototype.onChangeCommon=function(e){this.cbSelect.isReadOnly()||(this.refreshAriaLabel(),!this.processingColumnStateChange&&this.modelItemUtils.setColumn(this.column,e,"toolPanelUi"))},t.prototype.refreshAriaLabel=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("ariaColumn","Column"),a=this.cbSelect.getValue()?e("ariaVisible","visible"):e("ariaHidden","hidden"),s=e("ariaToggleVisibility","Press SPACE to toggle visibility");b._.setAriaLabel(this.focusWrapper,this.displayName+" "+n),this.cbSelect.setInputAriaLabel(s+" ("+a+")"),b._.setAriaDescribedBy(this.focusWrapper,this.cbSelect.getInputElement().id)},t.prototype.setupDragging=function(){var e=this;if(this.allowDragging){var n={type:b.DragSourceType.ToolPanel,eElement:this.eDragHandle,dragItemName:this.displayName,getDragItem:function(){return e.createDragItem()},onDragStarted:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_START,column:e.column})},onDragStopped:function(){e.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PANEL_ITEM_DRAG_END})}};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})}else b._.setDisplayed(this.eDragHandle,!1)},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.onColumnStateChanged=function(){this.processingColumnStateChange=!0;var e=this.columnModel.isPivotMode();if(e){var n=this.column.isAnyFunctionActive();this.cbSelect.setValue(n)}else this.cbSelect.setValue(this.column.isVisible());var a=!0,s=!0;if(e){var g=this.gridOptionsWrapper.isFunctionsReadOnly(),y=!this.column.isAnyFunctionAllowed();s=a=!g&&!y}else{var _=this.column.getColDef();a=!_.lockVisible,s=!!_.enableRowGroup||!!_.enableValue||!(_.lockPosition||_.suppressMovable)}this.cbSelect.setReadOnly(!a),this.eDragHandle.classList.toggle("ag-column-select-column-readonly",!s),this.addOrRemoveCssClass("ag-column-select-column-readonly",!s&&!a);var j=e&&this.gridOptionsWrapper.isFunctionsPassive();this.cbSelect.setPassive(j),this.processingColumnStateChange=!1},t.prototype.getDisplayName=function(){return this.displayName},t.prototype.onSelectAllChanged=function(e){e!==this.cbSelect.getValue()&&(this.cbSelect.isReadOnly()||this.cbSelect.toggle())},t.prototype.isSelected=function(){return this.cbSelect.getValue()},t.prototype.isSelectable=function(){return!this.cbSelect.isReadOnly()},t.prototype.isExpandable=function(){return!1},t.prototype.setExpanded=function(e){console.warn("AG Grid: can not expand a column item that does not represent a column group header")},t.TEMPLATE='<div class="ag-column-select-column" aria-hidden="true">\n            <ag-checkbox ref="cbSelect" class="ag-column-select-checkbox"></ag-checkbox>\n            <span class="ag-column-select-column-label" ref="eLabel"></span>\n        </div>',Cr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Cr([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Cr([b.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Cr([b.RefSelector("eLabel")],t.prototype,"eLabel",void 0),Cr([b.RefSelector("cbSelect")],t.prototype,"cbSelect",void 0),Cr([b.PostConstruct],t.prototype,"init",null),t}(b.Component),tm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wt=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Jd=function(){function l(t){this.items=t}return l.prototype.getRowCount=function(){return this.items.length},l.prototype.getRow=function(t){return this.items[t]},l}(),eh=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.destroyColumnItemFuncs=[],e}return tm(t,l),t.prototype.destroyColumnTree=function(){this.allColsTree=[],this.destroyColumnItemFuncs.forEach(function(e){return e()}),this.destroyColumnItemFuncs=[]},t.prototype.init=function(e,n,a){var s=this;this.params=e,this.allowDragging=n,this.eventType=a,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,this.onColumnsChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnsChanged.bind(this)),[b.Events.EVENT_COLUMN_PIVOT_CHANGED,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,b.Events.EVENT_COLUMN_VALUE_CHANGED,b.Events.EVENT_COLUMN_VISIBLE,b.Events.EVENT_NEW_COLUMNS_LOADED].forEach(function(E){s.addManagedListener(s.eventService,E,s.fireSelectionChangedEvent.bind(s))}),this.expandGroupsByDefault=!this.params.contractColumnSelection;var _=this.gridOptionsWrapper.getLocaleTextFunc()("ariaColumnList","Column List");this.virtualList=this.createManagedBean(new b.VirtualList("column-select","tree",_)),this.appendChild(this.virtualList.getGui()),this.virtualList.setComponentCreator(function(E,R){return b._.setAriaLevel(R,E.getDept()+1),s.createComponentFromItem(E,R)}),this.columnModel.isReady()&&this.onColumnsChanged(),!e.suppressColumnMove&&!this.gridOptionsWrapper.isSuppressMovableColumns()&&this.createManagedBean(new ip(this,this.virtualList))},t.prototype.createComponentFromItem=function(e,n){if(e.isGroup()){var a=new Zd(e,this.allowDragging,this.eventType,n);return this.getContext().createBean(a),a}var s=new em(e.getColumn(),e.getDept(),this.allowDragging,this.groupsExist,n);return this.getContext().createBean(s),s},t.prototype.onColumnsChanged=function(){var e=this.getExpandedStates(),n=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||n?this.buildTreeFromProvidedColumnDefs():this.buildTreeFromWhatGridIsDisplaying(),this.setExpandedStates(e),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.getDisplayedColsList=function(){return this.displayedColsList},t.prototype.getExpandedStates=function(){if(!this.allColsTree)return{};var e={};return this.forEachItem(function(n){if(n.isGroup()){var a=n.getColumnGroup();a&&(e[a.getId()]=n.isExpanded())}}),e},t.prototype.setExpandedStates=function(e){!this.allColsTree||this.forEachItem(function(n){if(n.isGroup()){var a=n.getColumnGroup();if(a){var s=e[a.getId()];null!=s&&n.setExpanded(s)}}})},t.prototype.buildTreeFromWhatGridIsDisplaying=function(){this.colDefService.syncLayoutWithGrid(this.setColumnLayout.bind(this))},t.prototype.setColumnLayout=function(e){var n=this.colDefService.createColumnTree(e);this.buildListModel(n),this.groupsExist=e.some(function(a){return a&&void 0!==a.children}),this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.buildTreeFromProvidedColumnDefs=function(){this.buildListModel(this.columnModel.getPrimaryColumnTree()),this.groupsExist=this.columnModel.isPrimaryColumnGroupsPresent()},t.prototype.buildListModel=function(e){var n=this,a=this.onColumnExpanded.bind(this),g=function(E,R,A){E.forEach(function(T){T instanceof b.ProvidedColumnGroup?y(T,R,A):_(T,R,A)})},y=function(E,R,A){var T=E.getColGroupDef();if(!T||!T.suppressColumnsToolPanel){if(E.isPadding())return void g(E.getChildren(),R,A);var I=n.columnModel.getDisplayNameForProvidedColumnGroup(null,E,n.eventType),G=new Xa(I,E,R,!0,n.expandGroupsByDefault);A.push(G),function(E){E.addEventListener(Xa.EVENT_EXPANDED_CHANGED,a);var R=E.removeEventListener.bind(E,Xa.EVENT_EXPANDED_CHANGED,a);n.destroyColumnItemFuncs.push(R)}(G),g(E.getChildren(),R+1,G.getChildren())}},_=function(E,R,A){if(!E.getColDef()||!E.getColDef().suppressColumnsToolPanel){var F=n.columnModel.getDisplayNameForColumn(E,"columnToolPanel");A.push(new Xa(F,E,R))}};this.destroyColumnTree(),g(e,0,this.allColsTree)},t.prototype.onColumnExpanded=function(){this.flattenAndFilterModel()},t.prototype.flattenAndFilterModel=function(){var e=this;this.displayedColsList=[];var n=function(s){!s.isPassesFilter()||(e.displayedColsList.push(s),s.isGroup()&&s.isExpanded()&&s.getChildren().forEach(n))};this.allColsTree.forEach(n),this.virtualList.setModel(new Jd(this.displayedColsList));var a=this.virtualList.getLastFocusedRow();this.virtualList.refresh(),null!=a&&this.focusRowIfAlive(a),this.notifyListeners()},t.prototype.focusRowIfAlive=function(e){var n=this;window.setTimeout(function(){n.isAlive()&&n.virtualList.focusRow(e)},0)},t.prototype.forEachItem=function(e){var n=function(a){a.forEach(function(s){e(s),s.isGroup()&&n(s.getChildren())})};n(this.allColsTree)},t.prototype.doSetExpandedAll=function(e){this.forEachItem(function(n){n.isGroup()&&n.setExpanded(e)})},t.prototype.setGroupsExpanded=function(e,n){if(n){var a=[];this.forEachItem(function(g){if(g.isGroup()){var y=g.getColumnGroup().getId();n.indexOf(y)>=0&&(g.setExpanded(e),a.push(y))}});var s=n.filter(function(g){return!b._.includes(a,g)});s.length>0&&console.warn("AG Grid: unable to find group(s) for supplied groupIds:",s)}else this.doSetExpandedAll(e)},t.prototype.getExpandState=function(){var e=0,n=0;return this.forEachItem(function(a){!a.isGroup()||(a.isExpanded()?e++:n++)}),e>0&&n>0?Ni.INDETERMINATE:n>0?Ni.COLLAPSED:Ni.EXPANDED},t.prototype.doSetSelectedAll=function(e){this.modelItemUtils.selectAllChildren(this.allColsTree,e,this.eventType)},t.prototype.getSelectionState=function(){var e=0,n=0,a=this.columnModel.isPivotMode();if(this.forEachItem(function(s){if(!s.isGroup()&&s.isPassesFilter()){var _,g=s.getColumn(),y=g.getColDef();if(a){if(!g.isAllowPivot()&&!g.isAllowRowGroup()&&!g.isAllowValue())return;_=g.isValueActive()||g.isPivotActive()||g.isRowGroupActive()}else{if(y.lockVisible)return;_=g.isVisible()}_?e++:n++}}),!(e>0&&n>0))return!(0===e||n>0)},t.prototype.setFilterText=function(e){this.filterText=b._.exists(e)?e.toLowerCase():null,this.markFilteredColumns(),this.flattenAndFilterModel()},t.prototype.markFilteredColumns=function(){var e=this,n=function(s){if(!b._.exists(e.filterText))return!0;var g=s.getDisplayName();return null==g||-1!==g.toLowerCase().indexOf(e.filterText)},a=function(s,g){var y=!1;if(s.isGroup()){var _=n(s);s.getChildren().forEach(function(R){var A=a(R,_||g);A&&(y=A)})}var E=!(!g&&!y)||n(s);return s.setPassesFilter(E),E};this.allColsTree.forEach(function(s){return a(s,!1)})},t.prototype.notifyListeners=function(){this.fireGroupExpandedEvent(),this.fireSelectionChangedEvent()},t.prototype.fireGroupExpandedEvent=function(){var e=this.getExpandState();this.dispatchEvent({type:"groupExpanded",state:e})},t.prototype.fireSelectionChangedEvent=function(){var e=this.getSelectionState();this.dispatchEvent({type:"selectionChanged",state:e})},t.TEMPLATE='<div class="ag-column-select-list" role="presentation"></div>',Wt([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Wt([b.Autowired("toolPanelColDefService")],t.prototype,"colDefService",void 0),Wt([b.Autowired("modelItemUtils")],t.prototype,"modelItemUtils",void 0),Wt([b.PreDestroy],t.prototype,"destroyColumnTree",null),t}(b.Component),qf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hr=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},qr=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return qf(t,l),t.prototype.createTemplate=function(){return'<div class="ag-pivot-mode-panel">\n                <ag-toggle-button ref="cbPivotMode" class="ag-pivot-mode-select"></ag-toggle-button>\n            </div>'},t.prototype.init=function(){this.setTemplate(this.createTemplate()),this.cbPivotMode.setValue(this.columnModel.isPivotMode());var e=this.gridOptionsWrapper.getLocaleTextFunc();this.cbPivotMode.setLabel(e("pivotMode","Pivot Mode")),this.addManagedListener(this.cbPivotMode,b.AgCheckbox.EVENT_CHANGED,this.onBtPivotMode.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onPivotModeChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.onPivotModeChanged.bind(this))},t.prototype.onBtPivotMode=function(){var e=!!this.cbPivotMode.getValue();if(e!==this.columnModel.isPivotMode()){this.columnModel.setPivotMode(e,"toolPanelUi");var n=this.gridOptionsWrapper.getApi();n&&n.refreshHeader()}},t.prototype.onPivotModeChanged=function(){var e=this.columnModel.isPivotMode();this.cbPivotMode.setValue(e)},Hr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Hr([b.RefSelector("cbPivotMode")],t.prototype,"cbPivotMode",void 0),Hr([b.PreConstruct],t.prototype,"init",null),t}(b.Component),Xf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gt=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},pa=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Xf(t,l),t.prototype.execute=function(e){var n=b._.missingOrEmpty(this.columnModel.getValueColumns()),a=!this.gridOptionsWrapper.getGroupRowAggFunc(),s=e.changedPath&&e.changedPath.isActive();if(!(n&&a&&s)){var g=this.createAggDetails(e);this.recursivelyCreateAggData(g)}},t.prototype.createAggDetails=function(e){var n=this.columnModel.isPivotActive(),a=this.columnModel.getValueColumns(),s=n?this.columnModel.getPivotColumns():[];return{changedPath:e.changedPath,valueColumns:a,pivotColumns:s}},t.prototype.recursivelyCreateAggData=function(e){var n=this;this.filteredOnly=!this.gridOptionsWrapper.isSuppressAggFilteredOnly(),e.changedPath.forEachChangedNodeDepthFirst(function(s){if(s.hasChildren()){if(-1===s.level){var _=!n.columnModel.isPivotMode();if(n.gridOptionsWrapper.isSuppressAggAtRootLevel()&&_)return}n.aggregateRowNode(s,e)}else s.aggData&&s.setAggData(null)},!0)},t.prototype.aggregateRowNode=function(e,n){var y,a=0===n.valueColumns.length,s=0===n.pivotColumns.length,g=this.gridOptionsWrapper.getGroupRowAggFunc();y=g?g({nodes:e.childrenAfterFilter}):a?null:s?this.aggregateRowNodeUsingValuesOnly(e,n):this.aggregateRowNodeUsingValuesAndPivot(e),e.setAggData(y),e.sibling&&e.sibling.setAggData(y)},t.prototype.aggregateRowNodeUsingValuesAndPivot=function(e){var n=this,a={},s=this.pivotStage.getPivotColumnDefs();return s.filter(function(g){return!b._.exists(g.pivotTotalColumnIds)}).forEach(function(g){var _,E=g.pivotValueColumn,R=g.colId;_=e.leafGroup?n.getValuesFromMappedSet(e.childrenMapped,g.pivotKeys||[],E):n.getValuesPivotNonLeaf(e,R),a[R]=n.aggregateValues(_,E.getAggFunc(),E,e)}),s.filter(function(g){return b._.exists(g.pivotTotalColumnIds)}).forEach(function(g){var y=[],_=g.pivotValueColumn,E=g.pivotTotalColumnIds,R=g.colId;!E||!E.length||(E.forEach(function(A){y.push(a[A])}),a[R]=n.aggregateValues(y,_.getAggFunc(),_,e))}),a},t.prototype.aggregateRowNodeUsingValuesOnly=function(e,n){var a=this,s={},g=n.changedPath.isActive()?n.changedPath.getValueColumnsForNode(e,n.valueColumns):n.valueColumns,y=n.changedPath.isActive()?n.changedPath.getNotValueColumnsForNode(e,n.valueColumns):null,_=this.getValuesNormal(e,g),E=e.aggData;return g.forEach(function(R,A){s[R.getId()]=a.aggregateValues(_[A],R.getAggFunc(),R,e)}),y&&E&&y.forEach(function(R){s[R.getId()]=E[R.getId()]}),s},t.prototype.getValuesPivotNonLeaf=function(e,n){var a=[];return e.childrenAfterFilter.forEach(function(s){a.push(s.aggData[n])}),a},t.prototype.getValuesFromMappedSet=function(e,n,a){var s=this,g=e;if(n.forEach(function(_){return g=g?g[_]:null}),!g)return[];var y=[];return g.forEach(function(_){var E=s.valueService.getValue(a,_);y.push(E)}),y},t.prototype.getValuesNormal=function(e,n){var a=[];n.forEach(function(){return a.push([])});for(var s=n.length,g=this.filteredOnly?e.childrenAfterFilter:e.childrenAfterGroup,y=g.length,_=0;_<y;_++)for(var E=g[_],R=0;R<s;R++){var T=this.valueService.getValue(n[R],E);a[R].push(T)}return a},t.prototype.aggregateValues=function(e,n,a,s){var g="string"==typeof n?this.aggFuncService.getAggFunc(n):n;if("function"!=typeof g)return console.error("AG Grid: unrecognised aggregation function "+n),null;var y=function(){b._.doOnce(function(){console.warn("AG Grid: since v24.0, custom aggregation functions take a params object. Please alter your aggregation function to use params.values")},"aggregationStage.aggregateValues Deprecation")};return g({values:e,column:a,colDef:a?a.getColDef():void 0,rowNode:s,data:s?s.data:void 0,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext(),forEach:function(R,A){return y(),e.forEach(R,A)},get length(){return y(),e.length},set length(R){y(),e.length=R}})},Gt([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Gt([b.Autowired("valueService")],t.prototype,"valueService",void 0),Gt([b.Autowired("pivotStage")],t.prototype,"pivotStage",void 0),Gt([b.Autowired("aggFuncService")],t.prototype,"aggFuncService",void 0),Gt([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Gt([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Gt([b.Bean("aggregationStage")],t)}(b.BeanStub),th=function(){function l(){this.allSets={},this.allParents=[]}return l.prototype.removeFromChildrenAfterGroup=function(t,e){this.getSet(t).removeFromChildrenAfterGroup[e.id]=!0},l.prototype.removeFromAllLeafChildren=function(t,e){this.getSet(t).removeFromAllLeafChildren[e.id]=!0},l.prototype.getSet=function(t){return this.allSets[t.id]||(this.allSets[t.id]={removeFromAllLeafChildren:{},removeFromChildrenAfterGroup:{}},this.allParents.push(t)),this.allSets[t.id]},l.prototype.getAllParents=function(){return this.allParents},l.prototype.flush=function(){var t=this;this.allParents.forEach(function(e){var n=t.allSets[e.id];e.childrenAfterGroup=e.childrenAfterGroup.filter(function(a){return!n.removeFromChildrenAfterGroup[a.id]}),e.allLeafChildren=e.allLeafChildren.filter(function(a){return!n.removeFromAllLeafChildren[a.id]}),e.updateHasChildren(),e.sibling&&(e.sibling.childrenAfterGroup=e.childrenAfterGroup,e.sibling.allLeafChildren=e.allLeafChildren)}),this.allSets={},this.allParents.length=0},l}(),Qf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Lu=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},M_=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.groupIdSequence=new b.NumberSequence,e}return Qf(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingTreeData&&(this.getDataPath=this.gridOptionsWrapper.getDataPathFunc())},t.prototype.execute=function(e){var n=this.createGroupingDetails(e);n.transactions?this.handleTransaction(n):this.shotgunResetEverything(n,!0===e.afterColumnsChanged),this.sortGroupsWithComparator(n.rootNode),this.selectableService.updateSelectableAfterGrouping(n.rootNode)},t.prototype.createGroupingDetails=function(e){var n=e.rowNode,a=e.changedPath,s=e.rowNodeTransactions,g=e.rowNodeOrder,y=this.usingTreeData?null:this.columnModel.getRowGroupColumns();return{includeParents:!this.gridOptionsWrapper.isSuppressParentsInRowNodes(),expandByDefault:this.gridOptionsWrapper.getGroupDefaultExpanded(),groupedCols:y,rootNode:n,pivotMode:this.columnModel.isPivotMode(),groupedColCount:this.usingTreeData||!y?0:y.length,rowNodeOrder:g,transactions:s,changedPath:a}},t.prototype.handleTransaction=function(e){var n=this;e.transactions.forEach(function(a){var s=n.usingTreeData?void 0:new th;if(b._.existsAndNotEmpty(a.remove)&&n.removeNodes(a.remove,e,s),b._.existsAndNotEmpty(a.update)&&n.moveNodesInWrongPath(a.update,e,s),b._.existsAndNotEmpty(a.add)&&n.insertNodes(a.add,e,!1),s){var g=s.getAllParents().slice();s.flush(),n.removeEmptyGroups(g,e)}}),e.rowNodeOrder&&this.sortChildren(e)},t.prototype.sortChildren=function(e){e.changedPath.forEachChangedNodeDepthFirst(function(n){b._.sortRowNodesByOrder(n.childrenAfterGroup,e.rowNodeOrder)})},t.prototype.sortGroupsWithComparator=function(e){if(!this.usingTreeData){var n=this.gridOptionsWrapper.getInitialGroupOrderComparator();b._.exists(n)&&function a(s){b._.exists(s.childrenAfterGroup)&&!s.leafGroup&&(s.childrenAfterGroup.sort(function(y,_){return n({nodeA:y,nodeB:_})}),s.childrenAfterGroup.forEach(function(y){return a(y)}))}(e)}},t.prototype.getExistingPathForNode=function(e,n){for(var a=[],s=this.usingTreeData?e:e.parent;s&&s!==n.rootNode;)a.push({key:s.key,rowGroupColumn:s.rowGroupColumn,field:s.field}),s=s.parent;return a.reverse(),a},t.prototype.moveNodesInWrongPath=function(e,n,a){var s=this;e.forEach(function(g){n.changedPath.isActive()&&n.changedPath.addParentNode(g.parent);var y=function(A){return A.key},_=s.getExistingPathForNode(g,n).map(y),E=s.getGroupInfo(g,n).map(y);b._.areEqual(_,E)||s.moveNode(g,n,a)})},t.prototype.moveNode=function(e,n,a){this.removeNodesInStages([e],n,a),this.insertOneNode(e,n,!0),e.setData(e.data),n.changedPath.isActive()&&n.changedPath.addParentNode(e.parent)},t.prototype.removeNodes=function(e,n,a){this.removeNodesInStages(e,n,a),n.changedPath.isActive()&&e.forEach(function(s){return n.changedPath.addParentNode(s.parent)})},t.prototype.removeNodesInStages=function(e,n,a){if(this.removeNodesFromParents(e,n,a),this.usingTreeData){this.postRemoveCreateFillerNodes(e,n);var s=e.map(function(g){return g.parent});this.removeEmptyGroups(s,n)}},t.prototype.forEachParentGroup=function(e,n,a){for(var s=n;s&&s!==e.rootNode;)a(s),s=s.parent},t.prototype.removeNodesFromParents=function(e,n,a){var s=this,g=null==a,y=a||new th;e.forEach(function(_){s.removeFromParent(_,y),s.forEachParentGroup(n,_.parent,function(E){y.removeFromAllLeafChildren(E,_)})}),g&&y.flush()},t.prototype.postRemoveCreateFillerNodes=function(e,n){var a=this;e.forEach(function(s){if(s.hasChildren()){var y=a.getExistingPathForNode(s,n),_=a.findParentForNode(s,y,n);_.expanded=s.expanded,_.allLeafChildren=s.allLeafChildren,_.childrenAfterGroup=s.childrenAfterGroup,_.childrenMapped=s.childrenMapped,_.updateHasChildren(),_.childrenAfterGroup.forEach(function(E){return E.parent=_})}})},t.prototype.removeEmptyGroups=function(e,n){for(var a=this,s=!0,y=function(){s=!1;var _=new th;e.forEach(function(E){a.forEachParentGroup(n,E,function(R){(function(_){var E=a.getChildrenMappedKey(_.key,_.rowGroupColumn),R=_.parent;return!!(R&&R.childrenMapped&&R.childrenMapped[E]&&_.isEmptyRowGroupNode())})(R)&&(s=!0,a.removeFromParent(R,_),R.setSelected(!1))})}),_.flush()};s;)y()},t.prototype.removeFromParent=function(e,n){e.parent&&(n?n.removeFromChildrenAfterGroup(e.parent,e):(b._.removeFromArray(e.parent.childrenAfterGroup,e),e.parent.updateHasChildren()));var a=this.getChildrenMappedKey(e.key,e.rowGroupColumn);e.parent&&e.parent.childrenMapped&&(e.parent.childrenMapped[a]=void 0),e.setRowTop(null),e.setRowIndex(null)},t.prototype.addToParent=function(e,n){var a=this.getChildrenMappedKey(e.key,e.rowGroupColumn);n&&(null!=n.childrenMapped&&(n.childrenMapped[a]=e),n.childrenAfterGroup.push(e),n.updateHasChildren())},t.prototype.areGroupColsEqual=function(e,n){return null!=e&&null!=n&&e.pivotMode===n.pivotMode&&b._.areEqual(e.groupedCols,n.groupedCols)},t.prototype.checkAllGroupDataAfterColsChanged=function(e){var n=this,a=function(s){!s||s.forEach(function(g){!n.usingTreeData&&!g.group||(n.setGroupData(g,{field:g.field,key:g.key,rowGroupColumn:g.rowGroupColumn}),a(g.childrenAfterGroup))})};a(e.rootNode.childrenAfterGroup)},t.prototype.shotgunResetEverything=function(e,n){if(!this.noChangeInGroupingColumns(e,n)){this.selectionService.removeGroupsFromSelection();var a=e.rootNode;a.leafGroup=!this.usingTreeData&&0===e.groupedCols.length,a.childrenAfterGroup=[],a.childrenMapped={},a.updateHasChildren();var g=a.sibling;g&&(g.childrenAfterGroup=a.childrenAfterGroup,g.childrenMapped=a.childrenMapped),this.insertNodes(a.allLeafChildren,e,!1)}},t.prototype.noChangeInGroupingColumns=function(e,n){var a=!1,s=this.columnModel.getGroupDisplayColumns(),g=s?s.map(function(y){return y.getId()}).join("-"):"";return n&&(a=this.usingTreeData||this.areGroupColsEqual(e,this.oldGroupingDetails),this.oldGroupDisplayColIds!==g&&this.checkAllGroupDataAfterColsChanged(e)),this.oldGroupingDetails=e,this.oldGroupDisplayColIds=g,a},t.prototype.insertNodes=function(e,n,a){var s=this;e.forEach(function(g){s.insertOneNode(g,n,a),n.changedPath.isActive()&&n.changedPath.addParentNode(g.parent)})},t.prototype.insertOneNode=function(e,n,a){var s=this.getGroupInfo(e,n),g=this.findParentForNode(e,s,n);g.group||console.warn("AG Grid: duplicate group keys for row data, keys should be unique",[g.data,e.data]),this.usingTreeData?this.swapGroupWithUserNode(g,e,a):(e.parent=g,e.level=s.length,g.childrenAfterGroup.push(e),g.updateHasChildren())},t.prototype.findParentForNode=function(e,n,a){var s=this,g=a.rootNode;return n.forEach(function(y,_){(g=s.getOrCreateNextNode(g,y,_,a)).allLeafChildren.push(e)}),g},t.prototype.swapGroupWithUserNode=function(e,n,a){n.parent=e.parent,n.key=e.key,n.field=e.field,n.groupData=e.groupData,n.level=e.level,a||(n.expanded=e.expanded),n.leafGroup=e.leafGroup,n.rowGroupIndex=e.rowGroupIndex,n.allLeafChildren=e.allLeafChildren,n.childrenAfterGroup=e.childrenAfterGroup,n.childrenMapped=e.childrenMapped,n.updateHasChildren(),this.removeFromParent(e),n.childrenAfterGroup.forEach(function(s){return s.parent=n}),this.addToParent(n,e.parent)},t.prototype.getOrCreateNextNode=function(e,n,a,s){var g=this.getChildrenMappedKey(n.key,n.rowGroupColumn),y=e.childrenMapped?e.childrenMapped[g]:void 0;return y||(y=this.createGroup(n,e,a,s),this.addToParent(y,e)),y},t.prototype.createGroup=function(e,n,a,s){var g=new b.RowNode(this.beans);return g.group=!0,g.field=e.field,g.rowGroupColumn=e.rowGroupColumn,this.setGroupData(g,e),g.id=b.RowNode.ID_PREFIX_ROW_GROUP+this.groupIdSequence.next(),g.key=e.key,g.level=a,g.leafGroup=!this.usingTreeData&&a===s.groupedColCount-1,g.allLeafChildren=[],g.setAllChildrenCount(0),g.rowGroupIndex=this.usingTreeData?null:a,g.childrenAfterGroup=[],g.childrenMapped={},g.updateHasChildren(),g.parent=s.includeParents?n:null,this.setExpandedInitialValue(s,g),g},t.prototype.setGroupData=function(e,n){var a=this;e.groupData={},this.columnModel.getGroupDisplayColumns().forEach(function(g){(a.usingTreeData||e.rowGroupColumn&&g.isRowGroupDisplayed(e.rowGroupColumn.getId()))&&(e.groupData[g.getColId()]=n.key)})},t.prototype.getChildrenMappedKey=function(e,n){return n?n.getId()+"-"+e:e},t.prototype.setExpandedInitialValue=function(e,n){if(e.pivotMode&&n.leafGroup)n.expanded=!1;else{var a=this.gridOptionsWrapper.getIsGroupOpenByDefaultFunc();n.expanded=a?1==a({rowNode:n,field:n.field,key:n.key,level:n.level,rowGroupColumn:n.rowGroupColumn}):-1===e.expandByDefault||n.level<e.expandByDefault}},t.prototype.getGroupInfo=function(e,n){return this.usingTreeData?this.getGroupInfoFromCallback(e):this.getGroupInfoFromGroupColumns(e,n)},t.prototype.getGroupInfoFromCallback=function(e){var n=this.getDataPath?this.getDataPath(e.data):null;return(null==n||0===n.length)&&b._.doOnce(function(){return console.warn("AG Grid: getDataPath() should not return an empty path for data",e.data)},"groupStage.getGroupInfoFromCallback"),n?n.map(function(s){return{key:s,field:null,rowGroupColumn:null}}):[]},t.prototype.getGroupInfoFromGroupColumns=function(e,n){var a=this,s=[];return n.groupedCols.forEach(function(g){var y=a.valueService.getKeyForNode(g,e),_=null!=y;if(n.pivotMode&&!_&&(y=" ",_=!0),_){var E={key:y,field:g.getColDef().field,rowGroupColumn:g};s.push(E)}}),s},Lu([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Lu([b.Autowired("selectableService")],t.prototype,"selectableService",void 0),Lu([b.Autowired("valueService")],t.prototype,"valueService",void 0),Lu([b.Autowired("beans")],t.prototype,"beans",void 0),Lu([b.Autowired("selectionService")],t.prototype,"selectionService",void 0),Lu([b.PostConstruct],t.prototype,"postConstruct",null),Lu([b.Bean("groupStage")],t)}(b.BeanStub),HE=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rm=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},F_=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Zf=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(F_(arguments[t]));return l},We=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return HE(t,l),e=t,t.prototype.createPivotColumnDefs=function(n){var a=[],s=[],g=this.columnModel.getPivotColumns(),y=this.columnModel.getValueColumns();return this.recursivelyAddGroup(a,s,1,n,[],g.length,g),this.addRowGroupTotals(a,s,y),this.addExpandablePivotGroups(a,s),this.addPivotTotalsToGroups(a,s),{pivotColumnGroupDefs:a,pivotColumnDefs:s.map(function(R){return b._.cloneObject(R)})}},t.prototype.recursivelyAddGroup=function(n,a,s,g,y,_,E){var R=this;b._.iterateObject(g,function(I,G){var j=Zf(y,[I]);if(s!==_){var z={children:[],headerName:I,pivotKeys:j,columnGroupShow:"open",groupId:R.generateColumnGroupId(j)};n.push(z),R.recursivelyAddGroup(z.children,a,s+1,G,j,_,E)}else{var Y=R.columnModel.getValueColumns(),J={children:[],headerName:I,pivotKeys:j,columnGroupShow:"open",groupId:R.generateColumnGroupId(j)};if(0===Y.length){var se=R.createColDef(null,"-",j);J.children.push(se),a.push(se)}else Y.forEach(function(ae){var ce=R.columnModel.getDisplayNameForColumn(ae,"header"),pe=R.createColDef(ae,ce,j);pe.columnGroupShow="open",J.children.push(pe),a.push(pe)});n.push(J)}});var A=E[s-1].getColDef(),F=this.headerNameComparator.bind(this,A.pivotComparator);n.sort(F)},t.prototype.addExpandablePivotGroups=function(n,a){var s=this;if(!this.gridOptionsWrapper.isSuppressExpandablePivotGroups()&&!this.gridOptionsWrapper.getPivotColumnGroupTotals()){var g=function(y,_,E){var R=y;if(R.children){var A=new Map;R.children.forEach(function(j){g(j,_,A)});var T=!R.children.some(function(j){return j.children});s.columnModel.getValueColumns().forEach(function(j){var U=s.columnModel.getDisplayNameForColumn(j,"header"),z=s.createColDef(j,U,y.pivotKeys);z.pivotTotalColumnIds=A.get(j.getColId()),z.columnGroupShow="closed",z.aggFunc=j.getAggFunc(),T||(y.children.push(z),_.push(z))}),s.merge(E,A)}else{var F=y;if(!F.pivotValueColumn)return;var I=F.pivotValueColumn.getColId(),G=E.has(I)?E.get(I):[];G.push(F.colId),E.set(I,G)}};n.forEach(function(y){g(y,a,new Map)})}},t.prototype.addPivotTotalsToGroups=function(n,a){var s=this;if(this.gridOptionsWrapper.getPivotColumnGroupTotals()){var g="after"===this.gridOptionsWrapper.getPivotColumnGroupTotals(),y=this.columnModel.getValueColumns(),_=y.map(function(R){return R.getAggFunc()});if(_&&!(_.length<1)&&this.sameAggFuncs(_)){var E=y[0];n.forEach(function(R){s.recursivelyAddPivotTotal(R,a,E,g)})}}},t.prototype.recursivelyAddPivotTotal=function(n,a,s,g){var y=this,_=n;if(!_.children)return n.colId?[n.colId]:null;var R=[];if(_.children.forEach(function(G){var j=y.recursivelyAddPivotTotal(G,a,s,g);j&&(R=R.concat(j))}),_.children.length>1){var T=this.gridOptionsWrapper.getLocaleTextFunc()("pivotColumnGroupTotals","Total"),F=this.createColDef(s,T,n.pivotKeys);F.pivotTotalColumnIds=R,F.aggFunc=s.getAggFunc();var I=n.children;g?I.push(F):I.unshift(F),a.push(F)}return R},t.prototype.addRowGroupTotals=function(n,a,s){var g=this;if(this.gridOptionsWrapper.getPivotRowTotals())for(var y="after"===this.gridOptionsWrapper.getPivotRowTotals(),_=y?s.slice():s.slice().reverse(),E=function(T){var F=_[T],I=[];n.forEach(function(G){I=I.concat(g.extractColIdsForValueColumn(G,F))}),R.createRowGroupTotal(n,a,[],F,I,y)},R=this,A=0;A<_.length;A++)E(A)},t.prototype.extractColIdsForValueColumn=function(n,a){var s=this;if(!n.children)return n.pivotValueColumn===a&&n.colId?[n.colId]:[];var _=[];return n.children.forEach(function(E){s.extractColIdsForValueColumn(E,a);var R=s.extractColIdsForValueColumn(E,a);_=_.concat(R)}),_},t.prototype.createRowGroupTotal=function(n,a,s,g,y,_){var E=s.slice(0),R=this.columnModel.getValueColumns(),A={children:[],pivotKeys:E,groupId:e.PIVOT_ROW_TOTAL_PREFIX+"_"+this.generateColumnGroupId(E)};if(0===R.length){var T=this.createColDef(null,"-",E);A.children.push(T),a.push(T)}else{var F=this.columnModel.getDisplayNameForColumn(g,"header");(T=this.createColDef(g,F,E)).pivotTotalColumnIds=y,A.children.push(T),a.push(T)}_?n.push(A):n.unshift(A)},t.prototype.createColDef=function(n,a,s){var g={};if(n){var y=n.getColDef();Object.assign(g,y),g.hide=!1}return g.headerName=a,g.colId=this.generateColumnId(s||[],n?n.getColId():""),g.field=g.colId,g.pivotKeys=s,g.pivotValueColumn=n,!0===g.filter&&(g.filter="agNumberColumnFilter"),g},t.prototype.sameAggFuncs=function(n){if(1==n.length)return!0;for(var a=1;a<n.length;a++)if(n[a]!==n[0])return!1;return!0},t.prototype.headerNameComparator=function(n,a,s){return n?n(a.headerName,s.headerName):a.headerName&&!s.headerName?1:!a.headerName&&s.headerName?-1:a.headerName&&s.headerName?a.headerName<s.headerName?-1:a.headerName>s.headerName?1:0:0},t.prototype.merge=function(n,a){a.forEach(function(s,g,y){var _=n.has(g)?n.get(g):[],E=Zf(_,s);n.set(g,E)})},t.prototype.generateColumnGroupId=function(n){return"pivotGroup_"+this.columnModel.getPivotColumns().map(function(s){return s.getColId()}).join("-")+"_"+n.join("-")+"}"},t.prototype.generateColumnId=function(n,a){return"pivot_"+this.columnModel.getPivotColumns().map(function(g){return g.getColId()}).join("-")+"_"+n.join("-")+"_"+a},t.PIVOT_ROW_TOTAL_PREFIX="PivotRowTotal_",rm([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),e=rm([b.Bean("pivotColDefService")],t)}(b.BeanStub),_n=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qe=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},K=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.uniqueValues={},e}return _n(t,l),t.prototype.execute=function(e){var n=e.rowNode,a=e.changedPath;this.columnModel.isPivotActive()?this.executePivotOn(n,a):this.executePivotOff(a)},t.prototype.executePivotOff=function(e){this.aggregationColumnsHashLastTime=null,this.uniqueValues={},this.columnModel.isSecondaryColumnsPresent()&&(this.columnModel.setSecondaryColumns(null,"rowModelUpdated"),e&&e.setInactive())},t.prototype.executePivotOn=function(e,n){var a=this.bucketUpRowNodes(e),s=this.setUniqueValues(a),g=this.columnModel.getValueColumns(),y=g.map(function(I){return I.getId()+"-"+I.getColDef().headerName}).join("#"),_=g.map(function(I){return I.getAggFunc().toString()}).join("#"),E=this.aggregationColumnsHashLastTime!==y,R=this.aggregationFuncsHashLastTime!==_;if(this.aggregationColumnsHashLastTime=y,this.aggregationFuncsHashLastTime=_,s||E||R){var A=this.pivotColDefService.createPivotColumnDefs(this.uniqueValues),T=A.pivotColumnGroupDefs;this.pivotColumnDefs=A.pivotColumnDefs,this.columnModel.setSecondaryColumns(T,"rowModelUpdated"),n&&n.setInactive()}},t.prototype.setUniqueValues=function(e){return!(JSON.stringify(e)===JSON.stringify(this.uniqueValues)||(this.uniqueValues=e,0))},t.prototype.bucketUpRowNodes=function(e){var n=this,a={},s=function(g){g.leafGroup?n.bucketRowNode(g,a):g.childrenAfterFilter.forEach(function(y){s(y)})};return s(e),a},t.prototype.bucketRowNode=function(e,n){var a=this.columnModel.getPivotColumns();e.childrenMapped=0===a.length?null:this.bucketChildren(e.childrenAfterFilter,a,0,n),e.sibling&&(e.sibling.childrenMapped=e.childrenMapped)},t.prototype.bucketChildren=function(e,n,a,s){var g=this,y={},_=n[a];if(e.forEach(function(R){var A=g.valueService.getKeyForNode(_,R);b._.missing(A)&&(A=""),s[A]||(s[A]={}),y[A]||(y[A]=[]),y[A].push(R)}),a===n.length-1)return y;var E={};return b._.iterateObject(y,function(R,A){E[R]=g.bucketChildren(A,n,a+1,s[R])}),E},t.prototype.getPivotColumnDefs=function(){return this.pivotColumnDefs},qe([b.Autowired("valueService")],t.prototype,"valueService",void 0),qe([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),qe([b.Autowired("pivotColDefService")],t.prototype,"pivotColDefService",void 0),qe([b.Bean("pivotStage")],t)}(b.BeanStub),jt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nm=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Er="undefined"==typeof BigInt?null:BigInt,Li=function(l){function t(){var n=null!==l&&l.apply(this,arguments)||this;return n.aggFuncsMap={},n.initialised=!1,n}var e;return jt(t,l),e=t,t.prototype.init=function(){this.initialised||(this.initialiseWithDefaultAggregations(),this.addAggFuncs(this.gridOptionsWrapper.getAggFuncs()))},t.prototype.initialiseWithDefaultAggregations=function(){this.aggFuncsMap[e.AGG_SUM]=im,this.aggFuncsMap[e.AGG_FIRST]=Jf,this.aggFuncsMap[e.AGG_LAST]=Ja,this.aggFuncsMap[e.AGG_MIN]=ge,this.aggFuncsMap[e.AGG_MAX]=yt,this.aggFuncsMap[e.AGG_COUNT]=op,this.aggFuncsMap[e.AGG_AVG]=WE,this.initialised=!0},t.prototype.getDefaultAggFunc=function(n){var a=this.getFuncNames(n),s=b._.includes(a,e.AGG_SUM),g=b._.exists(this.aggFuncsMap[e.AGG_SUM]);return s&&g?e.AGG_SUM:b._.existsAndNotEmpty(a)?a[0]:null},t.prototype.addAggFuncs=function(n){b._.iterateObject(n,this.addAggFunc.bind(this))},t.prototype.addAggFunc=function(n,a){this.init(),this.aggFuncsMap[n]=a},t.prototype.getAggFunc=function(n){return this.init(),this.aggFuncsMap[n]},t.prototype.getFuncNames=function(n){var a=n.getColDef().allowedAggFuncs;return null==a?Object.keys(this.aggFuncsMap).sort():a},t.prototype.clear=function(){this.aggFuncsMap={}},t.AGG_SUM="sum",t.AGG_FIRST="first",t.AGG_LAST="last",t.AGG_MIN="min",t.AGG_MAX="max",t.AGG_COUNT="count",t.AGG_AVG="avg",nm([b.PostConstruct],t.prototype,"init",null),e=nm([b.Bean("aggFuncService")],t)}(b.BeanStub);function im(l){for(var t=l.values,e=null,n=0;n<t.length;n++){var a=t[n];"number"==typeof a?null===e?e=a:e+=Er?"number"==typeof e?a:Er(a):a:"bigint"==typeof a&&(e=null===e?a:("bigint"==typeof e?e:Er(e))+a)}return e}function Jf(l){return l.values.length>0?l.values[0]:null}function Ja(l){return l.values.length>0?b._.last(l.values):null}function ge(l){for(var t=l.values,e=null,n=0;n<t.length;n++){var a=t[n];("number"==typeof a||"bigint"==typeof a)&&(null===e||e>a)&&(e=a)}return e}function yt(l){for(var t=l.values,e=null,n=0;n<t.length;n++){var a=t[n];("number"==typeof a||"bigint"==typeof a)&&(null===e||e<a)&&(e=a)}return e}function op(l){for(var t=l.values,e=0,n=0;n<t.length;n++){var a=t[n];e+=null!=a&&"number"==typeof a.value?a.value:1}return{value:e,toString:function(){return this.value.toString()},toNumber:function(){return this.value}}}function WE(l){for(var t=l.values,e=0,n=0,a=0;a<t.length;a++){var s=t[a],g=null;"number"==typeof s||"bigint"==typeof s?(g=s,n++):null!=s&&("number"==typeof s.value||"bigint"==typeof s.value)&&"number"==typeof s.count&&(g=Er?s.value*("number"==typeof s.value?s.count:Er(s.count)):s.value*s.count,n+=s.count),"number"==typeof g?e+=Er?"number"==typeof e?g:Er(g):g:"bigint"==typeof g&&(e=("bigint"==typeof e?e:Er(e))+g)}var y=null;return n>0&&(y=Er?e/("number"==typeof e?n:Er(n)):e/n),{count:n,value:y,toString:function(){return"number"==typeof this.value||"bigint"==typeof this.value?this.value.toString():""},toNumber:function(){return this.value}}}var qs,Rn,vp,ya,$l,yp,gh,zu,wi,kt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),da=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},I_=function(l){function t(e,n,a,s,g){var y=l.call(this)||this;return y.column=e,y.dragSourceDropTarget=n,y.ghost=a,y.valueColumn=s,y.horizontal=g,y.popupShowing=!1,y}return kt(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE);var e=this.getGui(),n=this.gridOptionsWrapper.isFunctionsReadOnly();this.addElementClasses(e),this.addElementClasses(this.eDragHandle,"drag-handle"),this.addElementClasses(this.eText,"text"),this.addElementClasses(this.eButton,"button"),this.eDragHandle.appendChild(b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper)),this.eButton.appendChild(b._.createIconNoSpan("cancel",this.gridOptionsWrapper)),this.displayName=this.columnModel.getDisplayNameForColumn(this.column,"columnDrop"),this.setupComponents(),!this.ghost&&!n&&this.addDragSource();var a=this.gridOptionsWrapper.getLocaleTextFunc(),s=a("ariaDropZoneColumnComponentDescription","Press DELETE to remove"),g=this.getColumnAndAggFuncName(),y=g.name,_=g.aggFuncName,E="";this.valueColumn&&!n&&(E=a("ariaDropZoneColumnValueItemDescription","Press ENTER to change the aggregation type")),b._.setAriaLabel(e,_+" "+y+" "+s+" "+E),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this,n=function(){var a=e.column.getColDef().headerTooltip;e.setTooltip(a)};n(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,n)},t.prototype.addDragSource=function(){var e=this,n={type:b.DragSourceType.ToolPanel,eElement:this.eDragHandle,defaultIconName:b.DragAndDropService.ICON_HIDE,getDragItem:function(){return e.createDragItem()},dragItemName:this.displayName,dragSourceDropTarget:this.dragSourceDropTarget};this.dragAndDropService.addDragSource(n,!0),this.addDestroyFunc(function(){return e.dragAndDropService.removeDragSource(n)})},t.prototype.createDragItem=function(){var e={};return e[this.column.getId()]=this.column.isVisible(),{columns:[this.column],visibleState:e}},t.prototype.setupComponents=function(){this.setTextValue(),this.setupRemove(),this.ghost&&this.addCssClass("ag-column-drop-cell-ghost"),this.valueColumn&&!this.gridOptionsWrapper.isFunctionsReadOnly()&&this.addGuiEventListener("click",this.onShowAggFuncSelection.bind(this))},t.prototype.setupRemove=function(){var e=this;b._.setDisplayed(this.eButton,!this.gridOptionsWrapper.isFunctionsReadOnly());var n={type:t.EVENT_COLUMN_REMOVE};this.addGuiEventListener("keydown",function(s){var g=s.key===b.KeyCode.ENTER;s.key===b.KeyCode.DELETE&&(s.preventDefault(),e.dispatchEvent(n)),g&&e.valueColumn&&!e.gridOptionsWrapper.isFunctionsReadOnly()&&(s.preventDefault(),e.onShowAggFuncSelection())}),this.addManagedListener(this.eButton,"click",function(s){e.dispatchEvent(n),s.stopPropagation()});var a=new b.TouchListener(this.eButton);this.addManagedListener(a,b.TouchListener.EVENT_TAP,function(){e.dispatchEvent(n)}),this.addDestroyFunc(a.destroy.bind(a))},t.prototype.getColumnAndAggFuncName=function(){var e=this.displayName,n="";if(this.valueColumn){var a=this.column.getAggFunc(),s="string"==typeof a?a:"agg";n=this.gridOptionsWrapper.getLocaleTextFunc()(s,s)}return{name:e,aggFuncName:n}},t.prototype.setTextValue=function(){var e=this.getColumnAndAggFuncName(),n=e.name,g=b._.escapeString(this.valueColumn?e.aggFuncName+"("+n+")":n);this.eText.innerHTML=g},t.prototype.onShowAggFuncSelection=function(){var e=this;if(!this.popupShowing){this.popupShowing=!0;var n=new b.VirtualList("select-agg-func"),a=this.aggFuncService.getFuncNames(this.column),s=this.getGui(),g=n.getGui();n.setModel({getRow:function(T){return a[T]},getRowCount:function(){return a.length}}),this.getContext().createBean(n);var y=b._.loadTemplate('<div class="ag-select-agg-func-popup"></div>');y.style.top="0px",y.style.left="0px",y.appendChild(g),y.style.width=s.clientWidth+"px";var E=this.gridOptionsWrapper.getLocaleTextFunc(),R=this.popupService.addPopup({modal:!0,eChild:y,closeOnEsc:!0,closedCallback:function(){e.destroyBean(n),e.popupShowing=!1,s.focus()},ariaLabel:E("ariaLabelAggregationFunction","Aggregation Function")});R&&n.setComponentCreator(this.createAggSelect.bind(this,R.hideFunc)),n.addGuiEventListener("keydown",function(T){if(T.key===b.KeyCode.ENTER||T.key===b.KeyCode.SPACE){var F=n.getLastFocusedRow();if(null==F)return;var I=n.getComponentAt(F);I&&I.selectItem()}}),this.popupService.positionPopupUnderComponent({type:"aggFuncSelect",eventSource:s,ePopup:y,keepWithinBounds:!0,column:this.column}),n.refresh();var A=a.findIndex(function(T){return T===e.column.getAggFunc()});-1===A&&(A=0),n.focusRow(A)}},t.prototype.createAggSelect=function(e,n){var a=this,g=this.gridOptionsWrapper.getLocaleTextFunc(),y=n.toString(),_=g(y,y);return new Jt(function(){e(),a.gridOptionsWrapper.isFunctionsPassive()?a.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_AGG_FUNC_CHANGE_REQUEST,columns:[a.column],aggFunc:n,api:a.gridApi,columnApi:a.columnApi}):a.columnModel.setColumnAggFunc(a.column,n,"toolPanelDragAndDrop")},_)},t.prototype.addElementClasses=function(e,n){e.classList.add("ag-column-drop-cell"+(n=n?"-"+n:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+"-cell"+n)},t.EVENT_COLUMN_REMOVE="columnRemove",t.TEMPLATE='<span role="option" tabindex="0">\n          <span ref="eDragHandle" class="ag-drag-handle ag-column-drop-cell-drag-handle" role="presentation"></span>\n          <span ref="eText" class="ag-column-drop-cell-text" aria-hidden="true"></span>\n          <span ref="eButton" class="ag-column-drop-cell-button" role="presentation"></span>\n        </span>',da([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),da([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),da([b.Autowired("popupService")],t.prototype,"popupService",void 0),da([b.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),da([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),da([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),da([b.RefSelector("eText")],t.prototype,"eText",void 0),da([b.RefSelector("eDragHandle")],t.prototype,"eDragHandle",void 0),da([b.RefSelector("eButton")],t.prototype,"eButton",void 0),da([b.PostConstruct],t.prototype,"init",null),t}(b.Component),Jt=function(l){function t(e,n){var a=l.call(this,'<div class="ag-select-agg-func-item"/>')||this;return a.selectItem=e,a.getGui().innerText=n,a.addGuiEventListener("click",a.selectItem),a}return kt(t,l),t}(b.Component),Ws=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rh=function(l){function t(e,n){var a=l.call(this,'<div class="ag-unselectable" aria-role="presentation"></div>')||this;return a.horizontal=e,a.valueColumn=n,a.state=t.STATE_NOT_DRAGGING,a.guiDestroyFunctions=[],a.childColumnComponents=[],a.resizeEnabled=!1,a.addElementClasses(a.getGui()),a.eColumnDropList=document.createElement("div"),a.addElementClasses(a.eColumnDropList,"list"),b._.setAriaRole(a.eColumnDropList,"listbox"),a}return Ws(t,l),t.prototype.isHorizontal=function(){return this.horizontal},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0}),this.resizeEnabled=e},t.prototype.setBeans=function(e){this.beans=e},t.prototype.destroy=function(){this.destroyGui(),l.prototype.destroy.call(this)},t.prototype.destroyGui=function(){this.guiDestroyFunctions.forEach(function(e){return e()}),this.guiDestroyFunctions.length=0,this.childColumnComponents.length=0,b._.clearElement(this.getGui()),b._.clearElement(this.eColumnDropList)},t.prototype.init=function(e){this.params=e,this.createManagedBean(new b.ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.addManagedListener(this.beans.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.refreshGui.bind(this)),this.addManagedListener(this.beans.gridOptionsWrapper,"functionsReadOnly",this.refreshGui.bind(this)),this.setupDropTarget(),this.positionableFeature=new b.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature),this.refreshGui(),b._.setAriaLabel(this.eColumnDropList,this.getAriaLabel())},t.prototype.handleKeyDown=function(e){var a=e.key===b.KeyCode.DOWN,s=e.key===b.KeyCode.UP;if(this.horizontal){var g=this.gridOptionsWrapper.isEnableRtl();a=!g&&e.key===b.KeyCode.RIGHT||g&&e.key===b.KeyCode.LEFT,s=!g&&e.key===b.KeyCode.LEFT||g&&e.key===b.KeyCode.RIGHT}if(a||s){var y=this.focusService.findNextFocusableElement(this.getFocusableElement(),!1,s);y&&(e.preventDefault(),y.focus())}},t.prototype.addElementClasses=function(e,n){e.classList.add("ag-column-drop"+(n=n?"-"+n:""),"ag-column-drop-"+(this.horizontal?"horizontal":"vertical")+n)},t.prototype.setupDropTarget=function(){this.dropTarget={getContainer:this.getGui.bind(this),getIconName:this.getIconName.bind(this),onDragging:this.onDragging.bind(this),onDragEnter:this.onDragEnter.bind(this),onDragLeave:this.onDragLeave.bind(this),onDragStop:this.onDragStop.bind(this),isInterestedIn:this.isInterestedIn.bind(this)},this.beans.dragAndDropService.addDropTarget(this.dropTarget)},t.prototype.isInterestedIn=function(e){return e===b.DragSourceType.HeaderCell||e===b.DragSourceType.ToolPanel},t.prototype.checkInsertIndex=function(e){var n=this.horizontal?this.getNewHorizontalInsertIndex(e):this.getNewVerticalInsertIndex(e);if(n<0)return!1;var a=n!==this.insertIndex;return a&&(this.insertIndex=n),a},t.prototype.getNewHorizontalInsertIndex=function(e){if(b._.missing(e.hDirection))return-1;var n=0,a=e.event,s=this.beans.gridOptionsWrapper.isEnableRtl(),g=e.hDirection===b.HorizontalDirection.Left,y=a.clientX;return this.childColumnComponents.forEach(function(_){var E=_.getGui().getBoundingClientRect(),R=g?E.right:E.left;(s?y<=R:y>=R)&&n++}),n},t.prototype.getNewVerticalInsertIndex=function(e){if(b._.missing(e.vDirection))return-1;var n=0,a=e.event;return this.childColumnComponents.forEach(function(s){var g=s.getGui().getBoundingClientRect();a.clientY>=(e.vDirection===b.VerticalDirection.Down?g.top:g.bottom)&&n++}),n},t.prototype.checkDragStartedBySelf=function(e){this.state===t.STATE_NOT_DRAGGING&&(this.state=t.STATE_REARRANGE_COLUMNS,this.potentialDndColumns=e.dragSource.getDragItem().columns||[],this.refreshGui(),this.checkInsertIndex(e),this.refreshGui())},t.prototype.onDragging=function(e){this.checkDragStartedBySelf(e),this.checkInsertIndex(e)&&this.refreshGui()},t.prototype.onDragEnter=function(e){var n=e.dragSource.getDragItem().columns||[];this.state=t.STATE_NEW_COLUMNS_IN;var a=n.filter(this.isColumnDroppable.bind(this));a.length>0&&(this.potentialDndColumns=a,this.checkInsertIndex(e),this.refreshGui())},t.prototype.isPotentialDndColumns=function(){return b._.existsAndNotEmpty(this.potentialDndColumns)},t.prototype.onDragLeave=function(e){if(this.state===t.STATE_REARRANGE_COLUMNS){var n=e.dragSource.getDragItem().columns||[];this.removeColumns(n)}this.isPotentialDndColumns()&&(this.potentialDndColumns=[],this.refreshGui()),this.state=t.STATE_NOT_DRAGGING},t.prototype.onDragStop=function(){if(this.isPotentialDndColumns()){var e=!1;this.state===t.STATE_NEW_COLUMNS_IN?(this.addColumns(this.potentialDndColumns),e=!0):e=this.rearrangeColumns(this.potentialDndColumns),this.potentialDndColumns=[],(!this.beans.gridOptionsWrapper.isFunctionsPassive()||!e)&&this.refreshGui()}this.state=t.STATE_NOT_DRAGGING},t.prototype.removeColumns=function(e){var n=this.getExistingColumns().filter(function(a){return!b._.includes(e,a)});this.updateColumns(n)},t.prototype.addColumns=function(e){if(e){var n=this.getExistingColumns().slice(),a=e.filter(function(s){return n.indexOf(s)<0});b._.insertArrayIntoArray(n,a,this.insertIndex),this.updateColumns(n)}},t.prototype.rearrangeColumns=function(e){var n=this.getNonGhostColumns().slice();return b._.insertArrayIntoArray(n,e,this.insertIndex),!b._.areEqual(n,this.getExistingColumns())&&(this.updateColumns(n),!0)},t.prototype.refreshGui=function(){var e=this.eColumnDropList.scrollTop,n=this.resizeEnabled,a=this.getFocusedItem(),s=this.focusService.findNextFocusableElement();s||(s=this.focusService.findNextFocusableElement(void 0,!1,!0)),this.toggleResizable(!1),this.destroyGui(),this.addIconAndTitleToGui(),this.addEmptyMessageToGui(),this.addColumnsToGui(),this.isHorizontal()||(this.eColumnDropList.scrollTop=e),n&&this.toggleResizable(n),this.restoreFocus(a,s)},t.prototype.getFocusedItem=function(){var e=this.getGui(),n=this.gridOptionsWrapper.getDocument().activeElement;return e.contains(n)?Array.from(e.querySelectorAll(".ag-column-drop-cell")).indexOf(n):-1},t.prototype.restoreFocus=function(e,n){var a=this.getGui(),s=Array.from(a.querySelectorAll(".ag-column-drop-cell"));if(-1!==e){0===s.length&&n.focus();var y=s[Math.min(s.length-1,e)];y&&y.focus()}},t.prototype.getNonGhostColumns=function(){var e=this,n=this.getExistingColumns();return this.isPotentialDndColumns()?n.filter(function(a){return!b._.includes(e.potentialDndColumns,a)}):n},t.prototype.addColumnsToGui=function(){var e=this,n=this.getNonGhostColumns(),a=this.isPotentialDndColumns(),s=[];n.forEach(function(g,y){if(!(a&&y>=e.insertIndex)){var _=e.createColumnComponent(g,!1);s.push(_)}}),this.isPotentialDndColumns()&&(this.potentialDndColumns.forEach(function(g){var y=e.createColumnComponent(g,!0);s.push(y)}),n.forEach(function(g,y){if(!(y<e.insertIndex)){var _=e.createColumnComponent(g,!1);s.push(_)}})),this.appendChild(this.eColumnDropList),s.forEach(function(g,y){y>0&&e.addArrow(e.eColumnDropList),e.eColumnDropList.appendChild(g.getGui())}),this.addAriaLabelsToComponents()},t.prototype.addAriaLabelsToComponents=function(){var e=this;this.childColumnComponents.forEach(function(n,a){var s=n.getGui();b._.setAriaPosInSet(s,a+1),b._.setAriaSetSize(s,e.childColumnComponents.length)})},t.prototype.createColumnComponent=function(e,n){var a=this,s=new I_(e,this.dropTarget,n,this.valueColumn,this.horizontal);return s.addEventListener(I_.EVENT_COLUMN_REMOVE,this.removeColumns.bind(this,[e])),this.beans.context.createBean(s),this.guiDestroyFunctions.push(function(){return a.destroyBean(s)}),n||this.childColumnComponents.push(s),s},t.prototype.addIconAndTitleToGui=function(){var e=this.params.icon,n=document.createElement("div");if(n.setAttribute("aria-hidden","true"),this.addElementClasses(n,"title-bar"),this.addElementClasses(e,"icon"),this.addOrRemoveCssClass("ag-column-drop-empty",this.isExistingColumnsEmpty()),n.appendChild(e),!this.horizontal){var a=document.createElement("span");this.addElementClasses(a,"title"),a.innerHTML=this.params.title,n.appendChild(a)}this.appendChild(n)},t.prototype.isExistingColumnsEmpty=function(){return 0===this.getExistingColumns().length},t.prototype.addEmptyMessageToGui=function(){if(this.isExistingColumnsEmpty()&&!this.isPotentialDndColumns()){var e=document.createElement("span");e.innerHTML=this.params.emptyMessage,this.addElementClasses(e,"empty-message"),this.eColumnDropList.appendChild(e)}},t.prototype.addArrow=function(e){if(this.horizontal){var n=this.beans.gridOptionsWrapper.isEnableRtl(),a=b._.createIconNoSpan(n?"smallLeft":"smallRight",this.beans.gridOptionsWrapper);this.addElementClasses(a,"cell-separator"),e.appendChild(a)}},t.STATE_NOT_DRAGGING="notDragging",t.STATE_NEW_COLUMNS_IN="newColumnsIn",t.STATE_REARRANGE_COLUMNS="rearrangeColumns",function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.Autowired("focusService")],t.prototype,"focusService",void 0),t}(b.Component),eg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gu=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},on=function(l){function t(e){return l.call(this,e,!1)||this}return eg(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("rowGroupColumnsEmptyMessage","Drag here to set row groups"),a=e("groups","Row Groups");l.prototype.init.call(this,{dragAndDropIcon:b.DragAndDropService.ICON_GROUP,icon:b._.createIconNoSpan("rowGroupPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:a}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaRowGroupDropZonePanelLabel","Row Groups")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="rowGroupColumnsList",e},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowRowGroup()&&!e.isRowGroupActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setRowGroupColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?b.DragAndDropService.ICON_GROUP:b.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getRowGroupColumns()},Gu([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Gu([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),Gu([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Gu([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Gu([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Gu([b.PostConstruct],t.prototype,"passBeansUp",null),t}(rh),nh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ko=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ih=function(l){function t(e){return l.call(this,e,!1)||this}return nh(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("pivotColumnsEmptyMessage","Drag here to set column labels"),a=e("pivots","Column Labels");l.prototype.init.call(this,{dragAndDropIcon:b.DragAndDropService.ICON_GROUP,icon:b._.createIconNoSpan("pivotPanel",this.gridOptionsWrapper,null),emptyMessage:n,title:a}),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.refresh.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_CHANGED,this.refresh.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,this.checkVisibility.bind(this)),this.refresh()},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaPivotDropZonePanelLabel","Column Labels")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="pivotColumnsList",e},t.prototype.refresh=function(){this.checkVisibility(),this.refreshGui()},t.prototype.checkVisibility=function(){var e=this.columnModel.isPivotMode();if(this.isHorizontal())switch(this.gridOptionsWrapper.getPivotPanelShow()){case"always":this.setDisplayed(e);break;case"onlyWhenPivoting":var n=this.columnModel.isPivotActive();this.setDisplayed(e&&n);break;default:this.setDisplayed(!1)}else this.setDisplayed(e)},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowPivot()&&!e.isPivotActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setPivotColumns(e,"toolPanelUi")},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?b.DragAndDropService.ICON_PIVOT:b.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.getExistingColumns=function(){return this.columnModel.getPivotColumns()},ko([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),ko([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),ko([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),ko([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),ko([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),ko([b.PostConstruct],t.prototype,"passBeansUp",null),t}(rh),Vo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gi=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},N_=function(l){function t(){return l.call(this)||this}return Vo(t,l),t.prototype.postConstruct=function(){this.setGui(this.createNorthPanel()),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.onRowGroupChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onRowGroupChanged.bind(this)),this.onRowGroupChanged()},t.prototype.createNorthPanel=function(){var e=document.createElement("div"),n=this.onDropPanelVisible.bind(this);return e.classList.add("ag-column-drop-wrapper"),b._.setAriaRole(e,"presentation"),this.rowGroupComp=new on(!0),this.createManagedBean(this.rowGroupComp),this.pivotComp=new ih(!0),this.createManagedBean(this.pivotComp),e.appendChild(this.rowGroupComp.getGui()),e.appendChild(this.pivotComp.getGui()),this.addManagedListener(this.rowGroupComp,b.Component.EVENT_DISPLAYED_CHANGED,n),this.addManagedListener(this.pivotComp,b.Component.EVENT_DISPLAYED_CHANGED,n),this.onDropPanelVisible(),e},t.prototype.onDropPanelVisible=function(){var e=this.rowGroupComp.isDisplayed()&&this.pivotComp.isDisplayed();this.rowGroupComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e),this.pivotComp.addOrRemoveCssClass("ag-column-drop-horizontal-half-width",e)},t.prototype.onRowGroupChanged=function(){if(this.rowGroupComp){var e=this.gridOptionsWrapper.getRowGroupPanelShow();if(e===b.Constants.ALWAYS)this.rowGroupComp.setDisplayed(!0);else if(e===b.Constants.ONLY_WHEN_GROUPING){var n=!this.columnModel.isRowGroupEmpty();this.rowGroupComp.setDisplayed(n)}else this.rowGroupComp.setDisplayed(!1)}},gi([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),gi([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),tg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rg=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},am=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return tg(t,l),t.prototype.execute=function(e){var n=this,a=this.columnModel.isPivotMode(),s=this.filterManager.isAggregateFilterPresent(),_=this.gridOptionsWrapper.getGroupAggFiltering()||(a?function(F){return F.node.leafGroup}:function(F){return!F.node.group}),A=function(F){if(F.childrenAfterFilter){F.childrenAfterAggFilter=F.childrenAfterFilter;var I=F.childrenAfterAggFilter.reduce(function(G,j){return A(j),G+(j.allChildrenCount||1)},0);F.setAllChildrenCount(I)}F.sibling&&(F.sibling.childrenAfterAggFilter=F.childrenAfterAggFilter)};e.changedPath.forEachChangedNodeDepthFirst(s?function(F){var I,G=0;F.childrenAfterAggFilter=(null===(I=F.childrenAfterFilter)||void 0===I?void 0:I.filter(function(j){var U;return _({node:j})&&n.filterManager.doesRowPassAggregateFilters({rowNode:j})?(A(j),G+=j.allChildrenCount||1,!0):!!(null===(U=j.childrenAfterAggFilter)||void 0===U?void 0:U.length)&&(G+=j.allChildrenCount||1,!0)}))||null,F.setAllChildrenCount(G),F.sibling&&(F.sibling.childrenAfterAggFilter=F.childrenAfterAggFilter)}:function(F){F.childrenAfterAggFilter=F.childrenAfterFilter;var I=F.childrenAfterAggFilter.reduce(function(G,j){return G+(j.allChildrenCount||1)},0);F.setAllChildrenCount(I),F.sibling&&(F.sibling.childrenAfterAggFilter=F.childrenAfterAggFilter)},!1)},rg([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),rg([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),rg([b.Bean("filterAggregatesStage")],t)}(b.BeanStub),sm={moduleName:b.ModuleNames.RowGroupingModule,beans:[pa,am,M_,We,K,Li],agStackComponents:[{componentName:"AgGridHeaderDropZones",componentClass:N_}],dependantModules:[gn]},L_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),er=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Or=function(l){function t(e){return l.call(this,e,!0)||this}return L_(t,l),t.prototype.passBeansUp=function(){l.prototype.setBeans.call(this,{gridOptionsWrapper:this.gridOptionsWrapper,eventService:this.eventService,context:this.getContext(),loggerFactory:this.loggerFactory,dragAndDropService:this.dragAndDropService});var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("valueColumnsEmptyMessage","Drag here to aggregate"),a=e("values","Values");l.prototype.init.call(this,{dragAndDropIcon:b.DragAndDropService.ICON_AGGREGATE,icon:b._.createIconNoSpan("valuePanel",this.gridOptionsWrapper,null),emptyMessage:n,title:a}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VALUE_CHANGED,this.refreshGui.bind(this))},t.prototype.getAriaLabel=function(){return this.gridOptionsWrapper.getLocaleTextFunc()("ariaValuesDropZonePanelLabel","Values")},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="valueColumnsList",e},t.prototype.getIconName=function(){return this.isPotentialDndColumns()?b.DragAndDropService.ICON_AGGREGATE:b.DragAndDropService.ICON_NOT_ALLOWED},t.prototype.isColumnDroppable=function(e){return!(this.gridOptionsWrapper.isFunctionsReadOnly()||!e.isPrimary())&&e.isAllowValue()&&!e.isValueActive()},t.prototype.updateColumns=function(e){this.gridOptionsWrapper.isFunctionsPassive()?this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:e,api:this.gridApi,columnApi:this.columnApi}):this.columnModel.setValueColumns(e,"toolPanelUi")},t.prototype.getExistingColumns=function(){return this.columnModel.getValueColumns()},er([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),er([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),er([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),er([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),er([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),er([b.PostConstruct],t.prototype,"passBeansUp",null),t}(rh),vn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),js=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Bo=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return vn(t,l),t.prototype.postConstruct=function(){this.initialiseTabGuard({})},t.prototype.init=function(e,n,a){this.allowDragging=e,this.params=n,this.eventType=a,this.primaryColsHeaderPanel.init(this.params),this.params.suppressColumnExpandAll&&this.params.suppressColumnFilter&&this.params.suppressColumnSelectAll&&this.primaryColsHeaderPanel.setDisplayed(!1),this.addManagedListener(this.primaryColsListPanel,"groupExpanded",this.onGroupExpanded.bind(this)),this.addManagedListener(this.primaryColsListPanel,"selectionChanged",this.onSelectionChange.bind(this)),this.primaryColsListPanel.init(this.params,this.allowDragging,this.eventType),this.addManagedListener(this.primaryColsHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"selectAll",this.onSelectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"unselectAll",this.onUnselectAll.bind(this)),this.addManagedListener(this.primaryColsHeaderPanel,"filterChanged",this.onFilterChanged.bind(this)),this.positionableFeature=new b.PositionableFeature(this.getGui(),{minHeight:100}),this.createManagedBean(this.positionableFeature)},t.prototype.toggleResizable=function(e){this.positionableFeature.setResizable(!!e&&{bottom:!0})},t.prototype.onExpandAll=function(){this.primaryColsListPanel.doSetExpandedAll(!0)},t.prototype.onCollapseAll=function(){this.primaryColsListPanel.doSetExpandedAll(!1)},t.prototype.expandGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!0,e)},t.prototype.collapseGroups=function(e){this.primaryColsListPanel.setGroupsExpanded(!1,e)},t.prototype.setColumnLayout=function(e){this.primaryColsListPanel.setColumnLayout(e)},t.prototype.onFilterChanged=function(e){this.primaryColsListPanel.setFilterText(e.filterText)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsListPanel.onColumnsChanged()},t.prototype.onSelectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!0)},t.prototype.onUnselectAll=function(){this.primaryColsListPanel.doSetSelectedAll(!1)},t.prototype.onGroupExpanded=function(e){this.primaryColsHeaderPanel.setExpandState(e.state)},t.prototype.onSelectionChange=function(e){this.primaryColsHeaderPanel.setSelectionState(e.state)},t.TEMPLATE='<div class="ag-column-select">\n            <ag-primary-cols-header ref="primaryColsHeaderPanel"></ag-primary-cols-header>\n            <ag-primary-cols-list ref="primaryColsListPanel"></ag-primary-cols-list>\n        </div>',js([b.RefSelector("primaryColsHeaderPanel")],t.prototype,"primaryColsHeaderPanel",void 0),js([b.RefSelector("primaryColsListPanel")],t.prototype,"primaryColsListPanel",void 0),js([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.TabGuardComp),lm=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gl=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ha=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.childDestroyFuncs=[],e}return lm(t,l),t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.init=function(e){var n=this,a={suppressColumnMove:!1,suppressColumnSelectAll:!1,suppressColumnFilter:!1,suppressColumnExpandAll:!1,contractColumnSelection:!1,suppressPivotMode:!1,suppressRowGroups:!1,suppressValues:!1,suppressPivots:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};if(b._.mergeDeep(a,e),this.params=a,this.isRowGroupingModuleLoaded()&&!this.params.suppressPivotMode&&(this.pivotModePanel=this.createBean(new qr),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotModePanel)}),this.appendChild(this.pivotModePanel)),this.primaryColsPanel=this.createBean(new Bo),this.childDestroyFuncs.push(function(){return n.destroyBean(n.primaryColsPanel)}),this.primaryColsPanel.init(!0,this.params,"toolPanelUi"),this.primaryColsPanel.addCssClass("ag-column-panel-column-select"),this.appendChild(this.primaryColsPanel),this.isRowGroupingModuleLoaded()){this.params.suppressRowGroups||(this.rowGroupDropZonePanel=this.createBean(new on(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.rowGroupDropZonePanel)}),this.appendChild(this.rowGroupDropZonePanel)),this.params.suppressValues||(this.valuesDropZonePanel=this.createBean(new Or(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.valuesDropZonePanel)}),this.appendChild(this.valuesDropZonePanel)),this.params.suppressPivots||(this.pivotDropZonePanel=this.createBean(new ih(!1)),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotDropZonePanel)}),this.appendChild(this.pivotDropZonePanel)),this.setLastVisible();var s=this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){n.resetChildrenHeight(),n.setLastVisible()});this.childDestroyFuncs.push(function(){return s()})}this.initialised=!0},t.prototype.setPivotModeSectionVisible=function(e){var n=this;!this.isRowGroupingModuleLoaded()||(this.pivotModePanel?this.pivotModePanel.setDisplayed(e):e&&(this.pivotModePanel=this.createBean(new qr),this.getGui().insertBefore(this.pivotModePanel.getGui(),this.getGui().firstChild),this.childDestroyFuncs.push(function(){return n.destroyBean(n.pivotModePanel)})),this.setLastVisible())},t.prototype.setRowGroupsSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.rowGroupDropZonePanel?this.rowGroupDropZonePanel.setDisplayed(e):e&&(this.rowGroupDropZonePanel=this.createManagedBean(new on(!1)),this.appendChild(this.rowGroupDropZonePanel)),this.setLastVisible())},t.prototype.setValuesSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.valuesDropZonePanel?this.valuesDropZonePanel.setDisplayed(e):e&&(this.valuesDropZonePanel=this.createManagedBean(new Or(!1)),this.appendChild(this.valuesDropZonePanel)),this.setLastVisible())},t.prototype.setPivotSectionVisible=function(e){!this.isRowGroupingModuleLoaded()||(this.pivotDropZonePanel?this.pivotDropZonePanel.setDisplayed(e):e&&(this.pivotDropZonePanel=this.createManagedBean(new ih(!1)),this.appendChild(this.pivotDropZonePanel),this.pivotDropZonePanel.setDisplayed(e)),this.setLastVisible())},t.prototype.setResizers=function(){[this.primaryColsPanel,this.rowGroupDropZonePanel,this.valuesDropZonePanel,this.pivotDropZonePanel].forEach(function(e){if(e){var n=e.getGui();e.toggleResizable(!n.classList.contains("ag-last-column-drop")&&!n.classList.contains("ag-hidden"))}})},t.prototype.setLastVisible=function(){var e=this.getGui();Array.prototype.slice.call(e.querySelectorAll(".ag-column-drop")).forEach(function(g){return g.classList.remove("ag-last-column-drop")});var a=e.querySelectorAll(".ag-column-drop:not(.ag-hidden)"),s=b._.last(a);s&&s.classList.add("ag-last-column-drop"),this.setResizers()},t.prototype.resetChildrenHeight=function(){for(var n=this.getGui().children,a=0;a<n.length;a++){var s=n[a];s.style.removeProperty("height"),s.style.removeProperty("flex")}},t.prototype.isRowGroupingModuleLoaded=function(){return b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Row Grouping")},t.prototype.expandColumnGroups=function(e){this.primaryColsPanel.expandGroups(e)},t.prototype.collapseColumnGroups=function(e){this.primaryColsPanel.collapseGroups(e)},t.prototype.setColumnLayout=function(e){this.primaryColsPanel.setColumnLayout(e)},t.prototype.syncLayoutWithGrid=function(){this.primaryColsPanel.syncLayoutWithGrid()},t.prototype.destroyChildren=function(){this.childDestroyFuncs.forEach(function(e){return e()}),this.childDestroyFuncs.length=0,b._.clearElement(this.getGui())},t.prototype.refresh=function(){this.destroyChildren(),this.init(this.params)},t.prototype.destroy=function(){this.destroyChildren(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-column-panel"></div>',Gl([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Gl([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(b.Component),ap=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sp=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ku=function(l){function t(){var e=l.call(this,'<div class="ag-tool-panel-horizontal-resize"></div>')||this;return e.minWidth=100,e.maxWidth=null,e}return ap(t,l),t.prototype.setElementToResize=function(e){this.elementToResize=e},t.prototype.postConstruct=function(){var e=this.horizontalResizeService.addResizeBar({eResizeBar:this.getGui(),dragStartPixels:1,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this),onResizeEnd:this.onResizing.bind(this)});this.addDestroyFunc(e),this.setInverted(this.gridOptionsWrapper.isEnableRtl())},t.prototype.onResizeStart=function(){this.startingWidth=this.elementToResize.offsetWidth},t.prototype.onResizing=function(e){var a=Math.max(this.minWidth,Math.floor(this.startingWidth-e*(this.inverted?-1:1)));null!=this.maxWidth&&(a=Math.min(this.maxWidth,a)),this.elementToResize.style.width=a+"px"},t.prototype.setInverted=function(e){this.inverted=e},t.prototype.setMaxWidth=function(e){this.maxWidth=e},t.prototype.setMinWidth=function(e){this.minWidth=null!=e?e:100},sp([b.Autowired("horizontalResizeService")],t.prototype,"horizontalResizeService",void 0),sp([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),oh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lp=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ng=function(l){function t(e){var n=l.call(this)||this;return n.toolPanelDef=e,n}return oh(t,l),t.prototype.getToolPanelId=function(){return this.toolPanelDef.id},t.prototype.postConstruct=function(){var e=this.createTemplate();this.setTemplate(e),this.eIconWrapper.insertAdjacentElement("afterbegin",b._.createIconNoSpan(this.toolPanelDef.iconKey,this.gridOptionsWrapper)),this.addManagedListener(this.eToggleButton,"click",this.onButtonPressed.bind(this))},t.prototype.createTemplate=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=this.toolPanelDef;return'<div class="ag-side-button" role="presentation">\n                <button type="button" ref="eToggleButton" tabindex="-1" role="tab" class="ag-side-button-button">\n                    <div ref="eIconWrapper" class="ag-side-button-icon-wrapper" aria-hidden="true"></div>\n                    <span class="ag-side-button-label">'+e(n.labelKey,n.labelDefault)+"</span>\n                </button>\n            </div>"},t.prototype.onButtonPressed=function(){this.dispatchEvent({type:t.EVENT_TOGGLE_BUTTON_CLICKED})},t.prototype.setSelected=function(e){this.addOrRemoveCssClass("ag-selected",e)},t.EVENT_TOGGLE_BUTTON_CLICKED="toggleButtonClicked",lp([b.RefSelector("eToggleButton")],t.prototype,"eToggleButton",void 0),lp([b.RefSelector("eIconWrapper")],t.prototype,"eIconWrapper",void 0),lp([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),ig=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),up=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},um=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.buttonComps=[],e}return ig(t,l),t.prototype.postConstruct=function(){this.addManagedListener(this.getFocusableElement(),"keydown",this.handleKeyDown.bind(this))},t.prototype.handleKeyDown=function(e){if(e.key===b.KeyCode.TAB&&e.shiftKey){var n=b._.last(this.columnModel.getAllDisplayedColumns());this.focusService.focusGridView(n,!0)&&e.preventDefault()}},t.prototype.setToolPanelDefs=function(e){e.forEach(this.addButtonComp.bind(this))},t.prototype.setActiveButton=function(e){this.buttonComps.forEach(function(n){n.setSelected(e===n.getToolPanelId())})},t.prototype.addButtonComp=function(e){var n=this,a=this.createBean(new ng(e));this.buttonComps.push(a),this.appendChild(a),a.addEventListener(ng.EVENT_TOGGLE_BUTTON_CLICKED,function(){n.dispatchEvent({type:t.EVENT_SIDE_BAR_BUTTON_CLICKED,toolPanelId:e.id})})},t.prototype.clearButtons=function(){this.buttonComps=this.destroyBeans(this.buttonComps),b._.clearElement(this.getGui())},t.EVENT_SIDE_BAR_BUTTON_CLICKED="sideBarButtonClicked",t.TEMPLATE='<div class="ag-side-buttons" role="tablist"></div>',up([b.Autowired("focusService")],t.prototype,"focusService",void 0),up([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),up([b.PostConstruct],t.prototype,"postConstruct",null),up([b.PreDestroy],t.prototype,"clearButtons",null),t}(b.Component),cp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ge=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},G_=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return cp(t,l),t.prototype.setupResize=function(){var e=this.getGui(),n=this.resizeBar=new ku;this.getContext().createBean(n),n.setElementToResize(e),this.appendChild(n)},t.prototype.getToolPanelId=function(){return this.toolPanelId},t.prototype.setToolPanelDef=function(e){var n=e.id,a=e.minWidth,s=e.maxWidth,g=e.width;this.toolPanelId=n,this.width=g;var E=this.userComponentFactory.getToolPanelCompDetails(e,{}).newAgStackInstance();null!=E?(E.then(this.setToolPanelComponent.bind(this)),null!=a&&this.resizeBar.setMinWidth(a),null!=s&&this.resizeBar.setMaxWidth(s)):console.warn("AG Grid: error processing tool panel component "+n+". You need to specify either 'toolPanel' or 'toolPanelFramework'")},t.prototype.setToolPanelComponent=function(e){var n=this;this.toolPanelCompInstance=e,this.appendChild(e.getGui()),this.addDestroyFunc(function(){n.destroyBean(e)}),this.width&&(this.getGui().style.width=this.width+"px")},t.prototype.getToolPanelInstance=function(){return this.toolPanelCompInstance},t.prototype.setResizerSizerSide=function(e){var n=this.gridOptionsWrapper.isEnableRtl(),a="left"===e;this.resizeBar.setInverted(n?a:!a)},t.prototype.refresh=function(){this.toolPanelCompInstance.refresh()},t.TEMPLATE='<div class="ag-tool-panel-wrapper"/>',Ge([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ge([b.PostConstruct],t.prototype,"setupResize",null),t}(b.Component),og=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xr=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},cm=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.toolPanelWrappers=[],e}return og(t,l),t.prototype.postConstruct=function(){var e=this;this.sideBarButtonsComp.addEventListener(um.EVENT_SIDE_BAR_BUTTON_CLICKED,this.onToolPanelButtonClicked.bind(this)),this.setSideBarDef(),this.gridOptionsWrapper.addEventListener("sideBar",function(){e.clearDownUi(),e.setSideBarDef()}),this.gridApi.registerSideBarComp(this),this.createManagedBean(new b.ManagedFocusFeature(this.getFocusableElement(),{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this)}))},t.prototype.onTabKeyDown=function(e){if(!e.defaultPrevented){var a=this.focusService,s=this.sideBarButtonsComp,g=this.getGui(),y=s.getGui(),E=this.gridOptionsWrapper.getDocument().activeElement,R=g.querySelector(".ag-tool-panel-wrapper:not(.ag-hidden)");if(R)if(y.contains(E))a.focusInto(R,e.shiftKey)&&e.preventDefault();else if(!a.isFocusUnderManagedComponent(R)&&e.shiftKey){var A=a.findFocusableElements(R)[0];if(this.gridOptionsWrapper.getDocument().activeElement===A){var F=y.querySelector(".ag-selected button");F&&(e.preventDefault(),F.focus())}}}},t.prototype.handleKeyDown=function(e){var n=this.gridOptionsWrapper.getDocument();if(this.sideBarButtonsComp.getGui().contains(n.activeElement)){var a=this.sideBarButtonsComp.getGui(),s=Array.prototype.slice.call(a.querySelectorAll(".ag-side-button")),g=n.activeElement,y=s.findIndex(function(R){return R.contains(g)}),_=null;switch(e.key){case b.KeyCode.LEFT:case b.KeyCode.UP:_=Math.max(0,y-1);break;case b.KeyCode.RIGHT:case b.KeyCode.DOWN:_=Math.min(y+1,s.length-1)}if(null!==_){var E=s[_].querySelector("button");E&&(E.focus(),e.preventDefault())}}},t.prototype.onToolPanelButtonClicked=function(e){var n=e.toolPanelId,a=this.openedItem();this.openToolPanel(a===n?void 0:n)},t.prototype.clearDownUi=function(){this.sideBarButtonsComp.clearButtons(),this.destroyToolPanelWrappers()},t.prototype.setSideBarDef=function(){this.setDisplayed(!1);var e=this.gridOptionsWrapper.getSideBar(),n=!!e&&!!e.toolPanels;if(n){this.setDisplayed(n&&!e.hiddenByDefault);var s=e.toolPanels;this.sideBarButtonsComp.setToolPanelDefs(s),this.setupToolPanels(s),this.setSideBarPosition(e.position),e.hiddenByDefault||this.openToolPanel(e.defaultToolPanel)}},t.prototype.setSideBarPosition=function(e){e||(e="right");var n="left"===e,a=n?"right":"left";return this.addOrRemoveCssClass("ag-side-bar-left",n),this.addOrRemoveCssClass("ag-side-bar-right",!n),this.toolPanelWrappers.forEach(function(s){s.setResizerSizerSide(a)}),this},t.prototype.setupToolPanels=function(e){var n=this;e.forEach(function(a){if(null!=a.id){if("agColumnsToolPanel"===a.toolPanel&&!b.ModuleRegistry.assertRegistered(b.ModuleNames.ColumnToolPanelModule,"Column Tool Panel"))return;if("agFiltersToolPanel"===a.toolPanel&&!b.ModuleRegistry.assertRegistered(b.ModuleNames.FiltersToolPanelModule,"Filters Tool Panel"))return;var g=new G_;n.getContext().createBean(g),g.setToolPanelDef(a),g.setDisplayed(!1),n.getGui().appendChild(g.getGui()),n.toolPanelWrappers.push(g)}else console.warn("AG Grid: please review all your toolPanel components, it seems like at least one of them doesn't have an id")})},t.prototype.refresh=function(){this.toolPanelWrappers.forEach(function(e){return e.refresh()})},t.prototype.openToolPanel=function(e){var n=this.openedItem();n!==e&&(this.toolPanelWrappers.forEach(function(g){var y=e===g.getToolPanelId();g.setDisplayed(y)}),n!==this.openedItem()&&(this.sideBarButtonsComp.setActiveButton(e),this.raiseToolPanelVisibleEvent(e)))},t.prototype.getToolPanelInstance=function(e){var n=this.toolPanelWrappers.filter(function(a){return a.getToolPanelId()===e})[0];if(n)return n.getToolPanelInstance();console.warn("AG Grid: unable to lookup Tool Panel as invalid key supplied: "+e)},t.prototype.raiseToolPanelVisibleEvent=function(e){var n={type:b.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,source:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(n)},t.prototype.close=function(){this.openToolPanel(void 0)},t.prototype.isToolPanelShowing=function(){return!!this.openedItem()},t.prototype.openedItem=function(){var e=null;return this.toolPanelWrappers.forEach(function(n){n.isDisplayed()&&(e=n.getToolPanelId())}),e},t.prototype.destroyToolPanelWrappers=function(){var e=this;this.toolPanelWrappers.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)}),this.toolPanelWrappers.length=0},t.prototype.destroy=function(){this.destroyToolPanelWrappers(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-side-bar ag-unselectable">\n            <ag-side-bar-buttons ref="sideBarButtons"></ag-side-bar-buttons>\n        </div>',Xr([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Xr([b.Autowired("focusService")],t.prototype,"focusService",void 0),Xr([b.RefSelector("sideBarButtons")],t.prototype,"sideBarButtonsComp",void 0),Xr([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),ne=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ah=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ag=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isColGroupDef=function(n){return n&&void 0!==n.children},e.getId=function(n){return e.isColGroupDef(n)?n.groupId:n.colId},e}return ne(t,l),t.prototype.createColumnTree=function(e){var n=this,a=[],s=function(y,_){if(n.isColGroupDef(y)){var E=y,A=new b.ProvidedColumnGroup(E,void 0!==E.groupId?E.groupId:E.headerName,!1,_),T=[];return E.children.forEach(function(j){var U=s(j,_+1);U&&T.push(U)}),A.setChildren(T),A}var F=y,G=n.columnModel.getPrimaryColumn(F.colId?F.colId:F.field);return G||a.push(F),G},g=[];return e.forEach(function(y){var _=s(y,0);_&&g.push(_)}),a.length>0&&console.warn("AG Grid: unable to find grid columns for the supplied colDef(s):",a),g},t.prototype.syncLayoutWithGrid=function(e){var n=this.getLeafPathTrees();e(this.mergeLeafPathTrees(n))},t.prototype.getLeafPathTrees=function(){var e=function(s,g){var y;if(s instanceof b.ProvidedColumnGroup)if(s.isPadding())y=g;else{var _=Object.assign({},s.getColGroupDef());_.groupId=s.getGroupId(),_.children=[g],y=_}else{var E=Object.assign({},s.getColDef());E.colId=s.getColId(),y=E}var R=s.getOriginalParent();return R?e(R,y):y};return this.columnModel.getAllGridColumns().filter(function(s){var g=s.getColDef();return s.isPrimary()&&!g.showRowGroup}).map(function(s){return e(s,s.getColDef())})},t.prototype.mergeLeafPathTrees=function(e){for(var n=this,s=function(R,A){if(!n.isColGroupDef(A))return R;var T=R,F=A;return F.children&&F.groupId&&n.addChildrenToGroup(T,F.groupId,F.children[0])||F.children.forEach(function(G){return s(T,G)}),T},g=[],y=1;y<=e.length;y++){var _=e[y-1],E=e[y];A=E,n.isColGroupDef(R=_)&&n.isColGroupDef(A)&&n.getId(R)===n.getId(A)?e[y]=s(_,E):g.push(_)}var R,A;return g},t.prototype.addChildrenToGroup=function(e,n,a){var s=this;if(!this.isColGroupDef(e))return!0;var A,T,F,I,G,j,y=e,_=a;if(T=_,F=(A=y).children.map(s.getId),I=b._.includes(F,s.getId(T)),j=(G=b._.last(A.children))&&s.getId(G)!==s.getId(T),I&&j)return y.children.push(_),!0;if(y.groupId===n){var E=y.children.map(this.getId);if(!b._.includes(E,this.getId(_)))return y.children.push(_),!0}return y.children.forEach(function(A){return s.addChildrenToGroup(A,n,a)}),!1},ah([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),ah([b.Bean("toolPanelColDefService")],t)}(b.BeanStub),or={moduleName:b.ModuleNames.SideBarModule,beans:[ag],agStackComponents:[{componentName:"AgHorizontalResize",componentClass:ku},{componentName:"AgSideBar",componentClass:cm},{componentName:"AgSideBarButtons",componentClass:um}],dependantModules:[gn]},es=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},tr=function(){function l(){}return l.prototype.selectAllChildren=function(t,e,n){var a=this.extractAllLeafColumns(t);this.setAllColumns(a,e,n)},l.prototype.setColumn=function(t,e,n){this.setAllColumns([t],e,n)},l.prototype.setAllColumns=function(t,e,n){this.columnModel.isPivotMode()?this.setAllPivot(t,e,n):this.setAllVisible(t,e,n)},l.prototype.extractAllLeafColumns=function(t){var e=[],n=function(a){a.forEach(function(s){!s.isPassesFilter()||(s.isGroup()?n(s.getChildren()):e.push(s.getColumn()))})};return n(t),e},l.prototype.setAllVisible=function(t,e,n){var a=[];t.forEach(function(s){s.getColDef().lockVisible||s.isVisible()!=e&&a.push({colId:s.getId(),hide:!e})}),a.length>0&&this.columnModel.applyColumnState({state:a},n)},l.prototype.setAllPivot=function(t,e,n){this.gridOptionsWrapper.isFunctionsPassive()?this.setAllPivotPassive(t,e):this.setAllPivotActive(t,e,n)},l.prototype.setAllPivotPassive=function(t,e){var n=this.columnModel.getPivotColumns().slice(),a=this.columnModel.getValueColumns().slice(),s=this.columnModel.getRowGroupColumns().slice(),g=!1,y=!1,_=!1;t.forEach(e?function(G){G.isAnyFunctionActive()||(G.isAllowValue()?(a.push(G),y=!0):G.isAllowRowGroup()?(s.push(G),g=!0):G.isAllowPivot()&&(n.push(G),_=!0))}:function(G){!G.isAnyFunctionActive()||(n.indexOf(G)>=0&&(b._.removeFromArray(n,G),g=!0),a.indexOf(G)>=0&&(b._.removeFromArray(a,G),y=!0),s.indexOf(G)>=0&&(b._.removeFromArray(s,G),_=!0))}),g&&this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_PIVOT_CHANGE_REQUEST,columns:n,api:this.gridApi,columnApi:this.columnApi}),_&&this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_ROW_GROUP_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi}),y&&this.eventService.dispatchEvent({type:b.Events.EVENT_COLUMN_VALUE_CHANGE_REQUEST,columns:s,api:this.gridApi,columnApi:this.columnApi})},l.prototype.setAllPivotActive=function(t,e,n){var a=this,s=[];t.forEach(e?function(E){if(!E.isAnyFunctionActive())if(E.isAllowValue()){var R="string"==typeof E.getAggFunc()?E.getAggFunc():a.aggFuncService.getDefaultAggFunc(E);s.push({colId:E.getId(),aggFunc:R})}else E.isAllowRowGroup()?s.push({colId:E.getId(),rowGroup:!0}):E.isAllowPivot()&&s.push({colId:E.getId(),pivot:!0})}:function(E){(E.isPivotActive()||E.isRowGroupActive()||E.isValueActive())&&s.push({colId:E.getId(),pivot:!1,rowGroup:!1,aggFunc:null})}),s.length>0&&this.columnModel.applyColumnState({state:s},n)},es([b.Autowired("aggFuncService")],l.prototype,"aggFuncService",void 0),es([b.Autowired("columnModel")],l.prototype,"columnModel",void 0),es([b.Autowired("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),es([b.Autowired("columnApi")],l.prototype,"columnApi",void 0),es([b.Autowired("gridApi")],l.prototype,"gridApi",void 0),es([b.Autowired("eventService")],l.prototype,"eventService",void 0),es([b.Bean("modelItemUtils")],l)}(),sh={moduleName:b.ModuleNames.ColumnToolPanelModule,beans:[tr],agStackComponents:[{componentName:"AgPrimaryColsHeader",componentClass:ua},{componentName:"AgPrimaryColsList",componentClass:eh},{componentName:"AgPrimaryCols",componentClass:Bo}],userComponents:[{componentName:"agColumnsToolPanel",componentClass:ha}],dependantModules:[gn,sm,or]},Et={getTemplate:function(l){var t=l.alignment;return{name:"Alignment",properties:{prefixedAttributes:[{prefix:"ss:",map:{Vertical:t.vertical,Horizontal:t.horizontal,Indent:t.indent,ReadingOrder:t.readingOrder,Rotate:t.rotate,ShrinkToFit:t.shrinkToFit,VerticalText:t.verticalText,WrapText:t.wrapText}}]}}}},Sn={getTemplate:function(l){var t=l.borders;return{name:"Borders",children:[t.borderBottom,t.borderLeft,t.borderRight,t.borderTop].map(function(g,y){return{name:"Border",properties:{prefixedAttributes:[{prefix:"ss:",map:{Position:0==y?"Bottom":1==y?"Left":2==y?"Right":"Top",LineStyle:g.lineStyle,Weight:g.weight,Color:g.color}}]}}})}}},an={getTemplate:function(l){var t=l.font;return{name:"Font",properties:{prefixedAttributes:[{prefix:"ss:",map:{Bold:t.bold,FontName:t.fontName,Italic:t.italic,Color:t.color,Outline:t.outline,Shadow:t.shadow,Size:t.size,StrikeThrough:t.strikeThrough,Underline:t.underline,VerticalAlign:t.verticalAlign}},{prefix:"x:",map:{CharSet:t.charSet,Family:t.family}}]}}}},jE={getTemplate:function(l){var t=l.interior;return{name:"Interior",properties:{prefixedAttributes:[{prefix:"ss:",map:{Color:t.color,Pattern:t.pattern,PatternColor:t.patternColor}}]}}}},k_={getTemplate:function(l){return{name:"Protection",properties:{prefixedAttributes:[{prefix:"ss:",map:{Protected:l.protection.protected,HideFormula:l.protection.hideFormula}}]}}}},lh={getTemplate:function(l){return{name:"NumberFormat",properties:{prefixedAttributes:[{prefix:"ss:",map:{Format:l.numberFormat.format}}]}}}},dm=function(){function l(){}return l.prototype.setBeans=function(t){this.beans=t},l.prototype.getFileName=function(t){var e=this.getDefaultFileExtension();return(null==t||!t.length)&&(t=this.getDefaultFileName()),-1===t.indexOf(".")?t+"."+e:t},l.prototype.getData=function(t){var e=this.createSerializingSession(t);return this.beans.gridSerializer.serialize(e,t)},l}(),hm=function(){function l(t){this.groupColumns=[];var n=t.valueService,a=t.gridOptionsWrapper,s=t.processCellCallback,g=t.processHeaderCallback,y=t.processGroupHeaderCallback,_=t.processRowGroupCallback;this.columnModel=t.columnModel,this.valueService=n,this.gridOptionsWrapper=a,this.processCellCallback=s,this.processHeaderCallback=g,this.processGroupHeaderCallback=y,this.processRowGroupCallback=_}return l.prototype.prepare=function(t){this.groupColumns=t.filter(function(e){return!!e.getColDef().showRowGroup})},l.prototype.extractHeaderValue=function(t){var e=this.getHeaderName(this.processHeaderCallback,t);return null!=e?e:""},l.prototype.extractRowCellValue=function(t,e,n,a,s){var _,g=this.gridOptionsWrapper.isGroupMultiAutoColumn()?s.rowGroupIndex:0;_=s&&s.group&&(e===g&&-1!==this.groupColumns.indexOf(t)||0===e&&this.gridOptionsWrapper.isGroupUseEntireRow(this.columnModel.isPivotMode()))?this.createValueForGroupNode(s):this.valueService.getValue(t,s);var E=this.processCell(n,s,t,_,this.processCellCallback,a);return null!=E?E:""},l.prototype.getHeaderName=function(t,e){return t?t({column:e,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()}):this.columnModel.getDisplayNameForColumn(e,"csv",!0)},l.prototype.createValueForGroupNode=function(t){if(this.processRowGroupCallback)return this.processRowGroupCallback({node:t,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()});var e=[t.key];if(!this.gridOptionsWrapper.isGroupMultiAutoColumn())for(;t.parent;)e.push((t=t.parent).key);return e.reverse().join(" -> ")},l.prototype.processCell=function(t,e,n,a,s,g){return s?s({accumulatedRowIndex:t,column:n,node:e,value:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),type:g}):null!=a?a:""},l}(),fm=function(){function l(){}return l.download=function(t,e){var n=document.defaultView||window;if(n){var a=document.createElement("a"),s=n.URL.createObjectURL(e);a.setAttribute("href",s),a.setAttribute("download",t),a.style.display="none",document.body.appendChild(a),a.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(a),n.setTimeout(function(){n.URL.revokeObjectURL(s)},0)}else console.warn("AG Grid: There is no `window` associated with the current `document`")},l}(),fa=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UE=function(l){function t(e){var n=l.call(this,e)||this;n.isFirstLine=!0,n.result="";var s=e.columnSeparator;return n.suppressQuotes=e.suppressQuotes,n.columnSeparator=s,n}return fa(t,l),t.prototype.addCustomContent=function(e){var n=this;!e||("string"==typeof e?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,"\r\n"),this.result+=e):e.forEach(function(a){n.beginNewLine(),a.forEach(function(s,g){0!==g&&(n.result+=n.columnSeparator),n.result+=n.putInQuotes(s.data.value||""),s.mergeAcross&&n.appendEmptyCells(s.mergeAcross)})}))},t.prototype.onNewHeaderGroupingRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}},t.prototype.onNewHeaderGroupingRowColumn=function(e,n,a){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(e),this.appendEmptyCells(a)},t.prototype.appendEmptyCells=function(e){for(var n=1;n<=e;n++)this.result+=this.columnSeparator+this.putInQuotes("")},t.prototype.onNewHeaderRow=function(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}},t.prototype.onNewHeaderRowColumn=function(e,n){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))},t.prototype.onNewBodyRow=function(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}},t.prototype.onNewBodyRowColumn=function(e,n,a){0!=n&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractRowCellValue(e,n,n,b.Constants.EXPORT_TYPE_CSV,a))},t.prototype.putInQuotes=function(e){return this.suppressQuotes?e:null==e?'""':("string"==typeof e?n=e:"function"==typeof e.toString?n=e.toString():(console.warn("AG Grid: unknown value type during csv conversion"),n=""),'"'+n.replace(/"/g,'""')+'"');var n},t.prototype.parse=function(){return this.result},t.prototype.beginNewLine=function(){this.isFirstLine||(this.result+="\r\n"),this.isFirstLine=!1},t}(hm),B_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),pp=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},gm=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return B_(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsWrapper.getDefaultExportParams("csv");return Object.assign({},n,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),a=this.getData(n),s=new Blob(["\ufeff",a],{type:"text/plain"});return fm.download(this.getFileName(n.fileName),s),a},t.prototype.exportDataAsCsv=function(e){return this.export(e)},t.prototype.getDataAsCsv=function(e){var n=this.getMergedParams(e);return this.getData(n)},t.prototype.getDefaultFileName=function(){return"export.csv"},t.prototype.getDefaultFileExtension=function(){return"csv"},t.prototype.createSerializingSession=function(e){var n=this;return new UE({columnModel:n.columnModel,valueService:n.valueService,gridOptionsWrapper:n.gridOptionsWrapper,processCellCallback:e.processCellCallback||void 0,processHeaderCallback:e.processHeaderCallback||void 0,processGroupHeaderCallback:e.processGroupHeaderCallback||void 0,processRowGroupCallback:e.processRowGroupCallback||void 0,suppressQuotes:e.suppressQuotes||!1,columnSeparator:e.columnSeparator||","})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressCsvExport()},pp([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),pp([b.Autowired("valueService")],t.prototype,"valueService",void 0),pp([b.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),pp([b.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),pp([b.PostConstruct],t.prototype,"postConstruct",null),pp([b.Bean("csvCreator")],t)}(dm),ts=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rs=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Vl=(()=>(function(l){l[l.HEADER_GROUPING=0]="HEADER_GROUPING",l[l.HEADER=1]="HEADER",l[l.BODY=2]="BODY"}(Vl||(Vl={})),Vl))(),$n=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ts(t,l),t.prototype.serialize=function(e,n){void 0===n&&(n={});var a=this.getColumnsToExport(n.allColumns,n.columnKeys);return b._.compose(this.prepareSession(a),this.prependContent(n),this.exportColumnGroups(n,a),this.exportHeaders(n,a),this.processPinnedTopRows(n,a),this.processRows(n,a),this.processPinnedBottomRows(n,a),this.appendContent(n))(e).parse()},t.prototype.processRow=function(e,n,a,s){var g=this,y=n.shouldRowBeSkipped||function(){return!1},_=this.gridOptionsWrapper,E=_.getContext(),R=_.getApi(),A=_.getColumnApi(),T=_.isGroupRemoveSingleChildren(),F=_.isGroupHideOpenParents(),I=_.isGroupRemoveLowestSingleChildren(),G=this.columnModel.isPivotMode()?s.leafGroup:!s.group,z=1===s.allChildrenCount&&(T||I&&s.leafGroup);(n.skipGroups||n.skipRowGroups)&&n.skipGroups&&b._.doOnce(function(){return console.warn("AG Grid: Since v25.2 `skipGroups` has been renamed to `skipRowGroups`.")},"gridSerializer-skipGroups");var Y={rowIndex:s.rowIndex,rowPinned:s.rowPinned};if(!(!G&&(n.skipRowGroups||z||F)||n.onlySelected&&!s.isSelected()||n.rowNodes&&!n.rowNodes.some(function(pe){return g.rowPositionUtils.sameRow(pe,Y)})||n.skipPinnedTop&&"top"===s.rowPinned||n.skipPinnedBottom&&"bottom"===s.rowPinned)&&(-1!==s.level||s.leafGroup)&&!y({node:s,api:R,columnApi:A,context:E})){var ae=e.onNewBodyRow();if(a.forEach(function(pe,fe){ae.onColumn(pe,fe,s)}),n.getCustomContentBelowRow){var ce=n.getCustomContentBelowRow({node:s,api:R,columnApi:A,context:E});ce&&e.addCustomContent(ce)}}},t.prototype.appendContent=function(e){return function(n){var a=e.customFooter||e.appendContent;return a&&(e.customFooter&&b._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customFooter` param has been deprecated. Use `appendContent` instead.")},"gridSerializer-customFooter"),n.addCustomContent(a)),n}},t.prototype.prependContent=function(e){return function(n){var a=e.customHeader||e.prependContent;return a&&(e.customHeader&&b._.doOnce(function(){return console.warn("AG Grid: Since version 25.2.0 the `customHeader` param has been deprecated. Use `prependContent` instead.")},"gridSerializer-customHeader"),n.addCustomContent(a)),n}},t.prototype.prepareSession=function(e){return function(n){return n.prepare(e),n}},t.prototype.exportColumnGroups=function(e,n){var a=this;return function(s){if(e.skipColumnGroupHeaders)e.columnGroups&&b._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `columnGroups` param has deprecated, and groups are exported by default.")},"gridSerializer-columnGroups");else{var g=new b.GroupInstanceIdCreator,y=a.displayedGroupCreator.createDisplayedGroups(n,a.columnModel.getGridBalancedTree(),g,null);a.recursivelyAddHeaderGroups(y,s,e.processGroupHeaderCallback)}return s}},t.prototype.exportHeaders=function(e,n){return function(a){if(e.skipHeader||e.skipColumnHeaders)e.skipHeader&&b._.doOnce(function(){return console.warn("AG Grid: Since v25.2 the `skipHeader` param has been renamed to `skipColumnHeaders`.")},"gridSerializer-skipHeader");else{var s=a.onNewHeaderRow();n.forEach(function(g,y){s.onColumn(g,y,void 0)})}return a}},t.prototype.processPinnedTopRows=function(e,n){var a=this;return function(s){var g=a.processRow.bind(a,s,e,n);return a.pinnedRowModel.forEachPinnedTopRow(g),s}},t.prototype.processRows=function(e,n){var a=this;return function(s){var g=a.rowModel,y=g.getType(),_=y===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,E=y===b.Constants.ROW_MODEL_TYPE_SERVER_SIDE,R=!_&&e.onlySelected,A=a.processRow.bind(a,s,e,n);return a.columnModel.isPivotMode()?_?g.forEachPivotNode(A):g.forEachNode(A):e.onlySelectedAllPages||R?a.selectionService.getSelectedNodes().forEach(A):_||E?g.forEachNodeAfterFilterAndSort(A):g.forEachNode(A),s}},t.prototype.processPinnedBottomRows=function(e,n){var a=this;return function(s){var g=a.processRow.bind(a,s,e,n);return a.pinnedRowModel.forEachPinnedBottomRow(g),s}},t.prototype.getColumnsToExport=function(e,n){void 0===e&&(e=!1);var a=this.columnModel.isPivotMode();return n&&n.length?this.columnModel.getGridColumns(n):e&&!a?(this.gridOptionsWrapper.isTreeData()?this.columnModel.getGridColumns([b.Constants.GROUP_AUTO_COLUMN_ID]):[]).concat(this.columnModel.getAllPrimaryColumns()||[]):this.columnModel.getAllDisplayedColumns()},t.prototype.recursivelyAddHeaderGroups=function(e,n,a){var s=[];e.forEach(function(g){!g.getChildren||g.getChildren().forEach(function(_){return s.push(_)})}),e.length>0&&e[0]instanceof b.ColumnGroup&&this.doAddHeaderHeader(n,e,a),s&&s.length>0&&this.recursivelyAddHeaderGroups(s,n,a)},t.prototype.doAddHeaderHeader=function(e,n,a){var s=this,g=e.onNewHeaderGroupingRow(),y=0;n.forEach(function(_){var R,E=_;R=a?a({columnGroup:E,api:s.gridOptionsWrapper.getApi(),columnApi:s.gridOptionsWrapper.getColumnApi(),context:s.gridOptionsWrapper.getContext()}):s.columnModel.getDisplayNameForColumnGroup(E,"header");var A=E.getLeafColumns().reduce(function(T,F,I,G){var j=b._.last(T);return"open"===F.getColumnGroupShow()?(!j||null!=j[1])&&T.push(j=[I]):j&&null==j[1]&&(j[1]=I-1),I===G.length-1&&j&&null==j[1]&&(j[1]=I),T},[]);g.onColumn(R||"",y++,E.getLeafColumns().length-1,A)})},rs([b.Autowired("displayedGroupCreator")],t.prototype,"displayedGroupCreator",void 0),rs([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),rs([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),rs([b.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),rs([b.Autowired("selectionService")],t.prototype,"selectionService",void 0),rs([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),rs([b.Bean("gridSerializer")],t)}(b.BeanStub),Vt={moduleName:b.ModuleNames.CsvExportModule,beans:[gm,$n]},vm=function(){function l(){}return l.createHeader=function(t){void 0===t&&(t={});var a=["version"];return t.version||(t.version="1.0"),t.encoding&&a.push("encoding"),t.standalone&&a.push("standalone"),"<?xml "+a.map(function(g){return g+'="'+t[g]+'"'}).join(" ")+" ?>"},l.createXml=function(t,e){var n=this,a="";t.properties&&(t.properties.prefixedAttributes&&t.properties.prefixedAttributes.forEach(function(g){Object.keys(g.map).forEach(function(y){a+=n.returnAttributeIfPopulated(g.prefix+y,g.map[y],e)})}),t.properties.rawMap&&Object.keys(t.properties.rawMap).forEach(function(g){a+=n.returnAttributeIfPopulated(g,t.properties.rawMap[g],e)}));var s="<"+t.name+a;return t.children||null!=t.textNode?null!=t.textNode?s+">"+t.textNode+"</"+t.name+">\r\n":(s+=">\r\n",t.children&&t.children.forEach(function(g){s+=n.createXml(g,e)}),s+"</"+t.name+">\r\n"):s+"/>\r\n"},l.returnAttributeIfPopulated=function(t,e,n){if(!e&&""!==e&&0!==e)return"";var a=e;return"boolean"==typeof e&&n&&(a=n(e))," "+t+'="'+a+'"'},l}(),Dt=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),Kn=function(){function l(){}return l.addFolders=function(t){t.forEach(this.addFolder.bind(this))},l.addFolder=function(t){this.folders.push({path:t,created:new Date,isBase64:!1})},l.addFile=function(t,e,n){void 0===n&&(n=!1),this.files.push({path:t,created:new Date,content:e,isBase64:n})},l.getContent=function(t){void 0===t&&(t="application/zip");var e=this.buildFileStream(),n=this.buildUint8Array(e);return this.clearStream(),new Blob([n],{type:t})},l.clearStream=function(){this.folders=[],this.files=[]},l.buildFileStream=function(t){var e,n;void 0===t&&(t="");var a=this.folders.concat(this.files),s=a.length,g="",y=0,_=0;try{for(var E=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),R=E.next();!R.done;R=E.next()){var T=this.getHeader(R.value,y),F=T.fileHeader,I=T.folderHeader,G=T.content;y+=F.length+G.length,_+=I.length,t+=F+G,g+=I}}catch(U){e={error:U}}finally{try{R&&!R.done&&(n=E.return)&&n.call(E)}finally{if(e)throw e.error}}return t+g+this.buildFolderEnd(s,_,y)},l.getHeader=function(t,e){var n=t.content,a=t.path,s=t.created,g=t.isBase64,_=b._.decToHex,E=(0,b._.utf8_encode)(a),R=E!==a,A=this.convertTime(s),T=this.convertDate(s),F="";if(R){var I=_(1,1)+_(this.getFromCrc32Table(E),4)+E;F="up"+_(I.length,2)+I}var G=n?this.getConvertedContent(n,g):{size:0,content:""},j=G.size,U=G.content,z="\n\0"+(R?"\0\b":"\0\0")+"\0\0"+_(A,2)+_(T,2)+_(j?this.getFromCrc32Table(U):0,4)+_(j,4)+_(j,4)+_(E.length,2)+_(F.length,2);return{fileHeader:"PK\x03\x04"+z+E+F,folderHeader:"PK\x01\x02\x14\0"+z+"\0\0\0\0\0\0"+(n?"\0\0\0\0":"\x10\0\0\0")+_(e,4)+E+F,content:U||""}},l.getConvertedContent=function(t,e){return void 0===e&&(e=!1),e&&(t=t.split(";base64,")[1]),{size:(t=e?atob(t):t).length,content:t}},l.buildFolderEnd=function(t,e,n){var a=b._.decToHex;return"PK\x05\x06\0\0\0\0"+a(t,2)+a(t,2)+a(e,4)+a(n,4)+"\0\0"},l.buildUint8Array=function(t){for(var e=new Uint8Array(t.length),n=0;n<e.length;n++)e[n]=t.charCodeAt(n);return e},l.getFromCrc32Table=function(t){if(!t.length)return 0;for(var e=t.length,n=new Uint8Array(e),a=0;a<e;a++)n[a]=t.charCodeAt(a);var s=-1;for(a=0;a<e;a++)s=s>>>8^Dt[255&(s^n[a])];return-1^s},l.convertTime=function(t){var e=t.getHours();return e<<=6,e|=t.getMinutes(),(e<<=5)|t.getSeconds()/2},l.convertDate=function(t){var e=t.getFullYear()-1980;return e<<=4,e|=t.getMonth()+1,(e<<=5)|t.getDate()},l.folders=[],l.files=[],l}(),Yn=function(){function l(){}return l.createExcel=function(t,e){var n=this.excelXmlHeader(),g=this.workbook({name:"DocumentProperties",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:office"}},children:[{name:"Version",textNode:"12.00"}]},{name:"ExcelWorkbook",properties:{rawMap:{xmlns:"urn:schemas-microsoft-com:office:excel"}},children:[{name:"WindowHeight",textNode:"8130"},{name:"WindowWidth",textNode:"15135"},{name:"WindowHeight",textNode:"8130"},{name:"WindowTopX",textNode:"120"},{name:"WindowTopY",textNode:"45"},{name:"ProtectStructure",textNode:"False"},{name:"ProtectWindow",textNode:"False"}]},t,e);return""+n+vm.createXml(g,function(y){return y?"1":"0"})},l.workbook=function(t,e,n,a){var s=[t,e,this.stylesXmlElement(n)].concat(function(l){var t=l.table,e=l.name,a=t.rows,s=t.columns.map(function(y){return function(l){return{name:"Column",properties:{prefixedAttributes:[{prefix:"ss:",map:{Width:l.width}}]}}}(y)}),g=a.map(function(y){return function(l){return{name:"Row",children:l.cells.map(function(e){return function(l){var t=l.mergeAcross,e=l.styleId,n=l.data,a={};return t&&(a.MergeAcross=t),e&&(a.StyleID=e),{name:"Cell",properties:{prefixedAttributes:[{prefix:"ss:",map:a}]},children:[{name:"Data",properties:{prefixedAttributes:[{prefix:"ss:",map:{Type:n.type}}]},textNode:n.value}]}}(e)})}}(y)});return{name:"Worksheet",children:[{name:"Table",children:s.concat(g)}],properties:{prefixedAttributes:[{prefix:"ss:",map:{Name:e}}]}}}(a));return Object.assign({},{name:"Workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",html:"http://www.w3.org/TR/REC-html40"}}],rawMap:{xmlns:"urn:schemas-microsoft-com:office:spreadsheet"}}},{children:s})},l.excelXmlHeader=function(){return'<?xml version="1.0" ?>\n        <?mso-application progid="Excel.Sheet" ?>\n        '},l.stylesXmlElement=function(t){var e=this;return{name:"Styles",children:t?t.map(function(n){return e.styleXmlElement(n)}):[]}},l.styleXmlElement=function(t){var e=b._.compose(this.addProperty("alignment",t),this.addProperty("borders",t),this.addProperty("font",t),this.addProperty("interior",t),this.addProperty("protection",t),this.addProperty("numberFormat",t))([]);return Object.assign({},function(l){var t=l.id;return{name:"Style",properties:{prefixedAttributes:[{prefix:"ss:",map:{ID:t,Name:l.name||t}}]}}}(t),{children:e})},l.addProperty=function(t,e){return function(n){return e[t]?n.concat({alignment:Et,borders:Sn,font:an,interior:jE,numberFormat:lh,protection:k_}[t].getTemplate(e)):n}},l.factoryMode=b.ExcelFactoryMode.SINGLE_SHEET,l}(),Us={0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49},W_=function(l){return Math.round(96*l/72)},Bl=function(l){return Math.ceil(9525*l)},zs=function(l,t){if(t)return function(l){return Math.round(72*l/96)}("number"==typeof t?t:t({rowIndex:l}))},st=function(l){return""+vm.createHeader({encoding:"UTF-8",standalone:"yes"})+vm.createXml(l)},ns=function(l){var n=String.fromCharCode,a=Math.floor(l/26),s=l%26;return a&&26!==l?s?a<26?n(65+a-1)+n(65+s-1):ns(a)+n(65+s-1):ns(a-1)+"Z":n(65+l-1)},pg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vi=function(){return vi=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},vi.apply(this,arguments)},mm=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},ph=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(mm(arguments[t]));return l},Gi=function(l){function t(e){var n=l.call(this,e)||this;return n.mixedStyles={},n.mixedStyleCounter=0,n.rows=[],n.config=Object.assign({},e),n.stylesByIds={},n.config.baseExcelStyles.forEach(function(a){n.stylesByIds[a.id]=a}),n.excelStyles=ph(n.config.baseExcelStyles),n}return pg(t,l),t.prototype.addCustomContent=function(e){var n=this;e.forEach(function(a){var s=n.rows.length+1;n.rows.push({height:zs(s,n.config.rowHeight),cells:a.map(function(g,y){var _=n.addImage(s,n.columnsToExport[y],g.data.value),E=vi({},g);return _&&(E.data={},null!=_.value?E.data.value=_.value:(E.data.type="e",E.data.value=null)),E})})})},t.prototype.onNewHeaderGroupingRow=function(){var e=this,n=[];return this.rows.push({cells:n,height:zs(this.rows.length+1,this.config.headerRowHeight)}),{onColumn:function(a,s,g,y){var _=e.config.styleLinker(Vl.HEADER_GROUPING,1,"grouping-"+a,void 0,void 0);n.push(vi(vi({},e.createMergedCell(e.getStyleId(_),e.getDataTypeForValue("string"),a,g)),{collapsibleRanges:y}))}}},t.prototype.onNewHeaderRow=function(){return this.onNewRow(this.onNewHeaderColumn,this.config.headerRowHeight)},t.prototype.onNewBodyRow=function(){return this.onNewRow(this.onNewBodyColumn,this.config.rowHeight)},t.prototype.prepare=function(e){var n=this;l.prototype.prepare.call(this,e),this.columnsToExport=ph(e),this.cols=e.map(function(a,s){return n.convertColumnToExcel(a,s)})},t.prototype.parse=function(){for(var e=this.rows.reduce(function(a,s){return Math.max(a,s.cells.length)},0);this.cols.length<e;)this.cols.push(this.convertColumnToExcel(null,this.cols.length+1));return this.createExcel({name:this.config.sheetName,table:{columns:this.cols,rows:this.rows}})},t.prototype.isFormula=function(e){return null!=e&&this.config.autoConvertFormulas&&e.toString().startsWith("=")},t.prototype.getStyleById=function(e){return null==e?null:this.stylesByIds[e]||null},t.prototype.convertColumnToExcel=function(e,n){var a=this.config.columnWidth;return a?"number"==typeof a?{width:a}:{width:a({column:e,index:n})}:e?{width:Math.max(e.getActualWidth(),75)}:{}},t.prototype.onNewHeaderColumn=function(e,n){var a=this;return function(s,g){var y=a.extractHeaderValue(s),_=a.config.styleLinker(Vl.HEADER,e,y,s,void 0);n.push(a.createCell(a.getStyleId(_),a.getDataTypeForValue("string"),y))}},t.prototype.onNewRow=function(e,n){var a=[];return this.rows.push({cells:a,height:zs(this.rows.length+1,n)}),{onColumn:e.bind(this,this.rows.length,a)()}},t.prototype.onNewBodyColumn=function(e,n){var a=this,s=0;return function(g,y,_){if(s>0)s-=1;else{var E=a.extractRowCellValue(g,y,e,b.Constants.EXPORT_TYPE_EXCEL,_),R=a.config.styleLinker(Vl.BODY,e,E,g,_),A=a.getStyleId(R),T=g.getColSpan(_),F=a.addImage(e,g,E);F?n.push(a.createCell(A,a.getDataTypeForValue(F.value),null==F.value?"":F.value)):T>1?(s=T-1,n.push(a.createMergedCell(A,a.getDataTypeForValue(E),E,T-1))):n.push(a.createCell(A,a.getDataTypeForValue(E),E))}}},t.prototype.getStyleId=function(e){if(!e||!e.length)return null;if(1===e.length)return e[0];var n=e.join("-");return this.mixedStyles[n]||this.addNewMixedStyle(e),this.mixedStyles[n].excelID},t.prototype.addNewMixedStyle=function(e){var n=this;this.mixedStyleCounter+=1;var a="mixedStyle"+this.mixedStyleCounter,s={};e.forEach(function(y){n.excelStyles.forEach(function(_){_.id===y&&b._.mergeDeep(s,b._.deepCloneObject(_))})}),s.id=a,s.name=a;var g=e.join("-");this.mixedStyles[g]={excelID:a,key:g,result:s},this.excelStyles.push(s),this.stylesByIds[a]=s},t}(hm),qn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cm=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return qn(t,l),t.prototype.createExcel=function(e){return Yn.createExcel(this.excelStyles,e)},t.prototype.getDataTypeForValue=function(e){return b._.isNumeric(e)?"Number":"String"},t.prototype.getType=function(e,n,a){if(this.isFormula(a))return"Formula";if(n&&n.dataType)switch(n.dataType.toLocaleLowerCase()){case"string":return"Formula";case"number":return"Number";case"datetime":return"DateTime";case"error":return"Error";case"boolean":return"Boolean";default:console.warn("AG Grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return e},t.prototype.addImage=function(){},t.prototype.createCell=function(e,n,a){var s=this.getStyleById(e),g=this.getType(n,s,a)||n;return{styleId:s?e:void 0,data:{type:g,value:this.getValueTransformed(g,a)}}},t.prototype.getValueTransformed=function(e,n){var y,a=this;switch(e){case"String":return function(y){if(a.config.suppressTextAsCDATA)return b._.escapeString(y);var _="<![CDATA[",E="]]>",R=new RegExp(E,"g");return _+String(y).replace(R,"]]"+E+_+">")+E}(n);case"Number":return Number(n).valueOf()+"";case"Boolean":return(y=n)&&"0"!==y&&"false"!==y?"1":"0";default:return n}},t.prototype.createMergedCell=function(e,n,a,s){return{styleId:this.getStyleById(e)?e:void 0,data:{type:n,value:a},mergeAcross:s}},t}(Gi),wm=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},bm=function(l,t){return{name:"xdr:"+l,children:[{name:"xdr:col",textNode:t.col.toString()},{name:"xdr:colOff",textNode:t.offsetX.toString()},{name:"xdr:row",textNode:t.row.toString()},{name:"xdr:rowOff",textNode:t.offsetY.toString()}]}},ur=function(l){var t=[{name:"a:ext",properties:{rawMap:{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}},children:[{name:"a16:creationId",properties:{rawMap:{id:"{822E6D20-D7BC-2841-A643-D49A6EF008A2}","xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main"}}}]}];switch(l.recolor&&l.recolor.toLowerCase()){case"grayscale":case"sepia":case"washout":t.push({name:"a:ext",properties:{rawMap:{uri:"{C183D7F6-B498-43B3-948B-1728B52AA6E4}"}},children:[{name:"adec:decorative",properties:{rawMap:{val:"0","xmlns:adec":"http://schemas.microsoft.com/office/drawing/2017/decorative"}}}]})}return{name:"a:extLst",children:t}},j_=function(l,t){return{name:"xdr:nvPicPr",children:[{name:"xdr:cNvPr",properties:{rawMap:{id:t,name:l.id,descr:null!=l.altText?l.altText:void 0}},children:[ur(l)]},{name:"xdr:cNvPicPr",properties:{rawMap:{preferRelativeResize:"0"}},children:[{name:"a:picLocks"}]}]}},Em=function(l){if(l.saturation||l.tint){var t=[];return l.saturation&&t.push({name:"a:satMod",properties:{rawMap:{val:1e3*l.saturation}}}),l.tint&&t.push({name:"a:tint",properties:{rawMap:{val:1e3*l.tint}}}),t}},rr=function(l,t){var e;if(l.transparency){var n=Math.min(Math.max(l.transparency,0),100);e=[{name:"a:alphaModFix",properties:{rawMap:{amt:1e5-Math.round(1e3*n)}}}]}if(l.recolor)switch(e||(e=[]),l.recolor.toLocaleLowerCase()){case"grayscale":e.push({name:"a:grayscl"});break;case"sepia":e.push(function(l,t){return{name:"a:duotone",children:[{name:"a:prstClr",properties:{rawMap:{val:l.color}},children:Em(l)},{name:"a:srgbClr",properties:{rawMap:{val:t.color}},children:Em(t)}]}}({color:"black"},{color:"D9C3A5",tint:50,saturation:180}));break;case"washout":e.push({name:"a:lum",properties:{rawMap:{bright:"70000",contrast:"-70000"}}})}return{name:"xdr:blipFill",children:[{name:"a:blip",properties:{rawMap:{cstate:"print","r:embed":"rId"+t,"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}},children:e},{name:"a:stretch",children:[{name:"a:fillRect"}]}]}},dh=function(l,t){var e={name:"a:xfrm",children:[{name:"a:off",properties:{rawMap:{x:0,y:0}}},{name:"a:ext",properties:{rawMap:{cx:t.width,cy:t.height}}}]};return l.rotation&&(e.properties={rawMap:{rot:6e4*Math.min(Math.max(l.rotation,0),360)}}),{name:"xdr:spPr",children:[e,{name:"a:prstGeom",properties:{rawMap:{prst:"rect"}},children:[{name:"a:avLst"}]}]}},ar=function(l,t,e,n){return{name:"xdr:pic",children:[j_(l,t+1),rr(l,e+1),dh(l,n)]}},sn=function(l){var t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(l,4);return{name:"a:"+t[0],children:[{name:"a:"+t[1],properties:{rawMap:{val:t[2],lastClr:t[3]}}}]}},Ve=function(l){var t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(l,4);return{name:"a:"+t[0],properties:{rawMap:{script:t[2],typeface:t[1],panose:t[3]}}}},fh_getTemplate=function(){var l=b._.utf8_encode;return{name:"a:fontScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:majorFont",children:[Ve(["latin","Calibri Light",void 0,"020F0302020204030204"]),Ve(["ea",""]),Ve(["cs",""]),Ve(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af Light"),"Jpan"]),Ve(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),Ve(["font",l("\u7b49\u7ebf Light"),"Hans"]),Ve(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),Ve(["font","Times New Roman","Arab"]),Ve(["font","Times New Roman","Hebr"]),Ve(["font","Tahoma","Thai"]),Ve(["font","Nyala","Ethi"]),Ve(["font","Vrinda","Beng"]),Ve(["font","Shruti","Gujr"]),Ve(["font","MoolBoran","Khmr"]),Ve(["font","Tunga","Knda"]),Ve(["font","Raavi","Guru"]),Ve(["font","Euphemia","Cans"]),Ve(["font","Plantagenet Cherokee","Cher"]),Ve(["font","Microsoft Yi Baiti","Yiii"]),Ve(["font","Microsoft Himalaya","Tibt"]),Ve(["font","MV Boli","Thaa"]),Ve(["font","Mangal","Deva"]),Ve(["font","Gautami","Telu"]),Ve(["font","Latha","Taml"]),Ve(["font","Estrangelo Edessa","Syrc"]),Ve(["font","Kalinga","Orya"]),Ve(["font","Kartika","Mlym"]),Ve(["font","DokChampa","Laoo"]),Ve(["font","Iskoola Pota","Sinh"]),Ve(["font","Mongolian Baiti","Mong"]),Ve(["font","Times New Roman","Viet"]),Ve(["font","Microsoft Uighur","Uigh"]),Ve(["font","Sylfaen","Geor"]),Ve(["font","Arial","Armn"]),Ve(["font","Leelawadee UI","Bugi"]),Ve(["font","Microsoft JhengHei","Bopo"]),Ve(["font","Javanese Text","Java"]),Ve(["font","Segoe UI","Lisu"]),Ve(["font","Myanmar Text","Mymr"]),Ve(["font","Ebrima","Nkoo"]),Ve(["font","Nirmala UI","Olck"]),Ve(["font","Ebrima","Osma"]),Ve(["font","Phagspa","Phag"]),Ve(["font","Estrangelo Edessa","Syrn"]),Ve(["font","Estrangelo Edessa","Syrj"]),Ve(["font","Estrangelo Edessa","Syre"]),Ve(["font","Nirmala UI","Sora"]),Ve(["font","Microsoft Tai Le","Tale"]),Ve(["font","Microsoft New Tai Lue","Talu"]),Ve(["font","Ebrima","Tfng"])]},{name:"a:minorFont",children:[Ve(["latin","Calibri",void 0,"020F0502020204030204"]),Ve(["ea",""]),Ve(["cs",""]),Ve(["font",l("\u6e38\u30b4\u30b7\u30c3\u30af"),"Jpan"]),Ve(["font",l("\ub9d1\uc740 \uace0\ub515"),"Hang"]),Ve(["font",l("\u7b49\u7ebf"),"Hans"]),Ve(["font",l("\u65b0\u7d30\u660e\u9ad4"),"Hant"]),Ve(["font","Arial","Arab"]),Ve(["font","Arial","Hebr"]),Ve(["font","Tahoma","Thai"]),Ve(["font","Nyala","Ethi"]),Ve(["font","Vrinda","Beng"]),Ve(["font","Shruti","Gujr"]),Ve(["font","DaunPenh","Khmr"]),Ve(["font","Tunga","Knda"]),Ve(["font","Raavi","Guru"]),Ve(["font","Euphemia","Cans"]),Ve(["font","Plantagenet Cherokee","Cher"]),Ve(["font","Microsoft Yi Baiti","Yiii"]),Ve(["font","Microsoft Himalaya","Tibt"]),Ve(["font","MV Boli","Thaa"]),Ve(["font","Mangal","Deva"]),Ve(["font","Gautami","Telu"]),Ve(["font","Latha","Taml"]),Ve(["font","Estrangelo Edessa","Syrc"]),Ve(["font","Kalinga","Orya"]),Ve(["font","Kartika","Mlym"]),Ve(["font","DokChampa","Laoo"]),Ve(["font","Iskoola Pota","Sinh"]),Ve(["font","Mongolian Baiti","Mong"]),Ve(["font","Arial","Viet"]),Ve(["font","Microsoft Uighur","Uigh"]),Ve(["font","Sylfaen","Geor"]),Ve(["font","Arial","Armn"]),Ve(["font","Leelawadee UI","Bugi"]),Ve(["font","Microsoft JhengHei","Bopo"]),Ve(["font","Javanese Text","Java"]),Ve(["font","Segoe UI","Lisu"]),Ve(["font","Myanmar Text","Mymr"]),Ve(["font","Ebrima","Nkoo"]),Ve(["font","Nirmala UI","Olck"]),Ve(["font","Ebrima","Osma"]),Ve(["font","Phagspa","Phag"]),Ve(["font","Estrangelo Edessa","Syrn"]),Ve(["font","Estrangelo Edessa","Syrj"]),Ve(["font","Estrangelo Edessa","Syre"]),Ve(["font","Nirmala UI","Sora"]),Ve(["font","Microsoft Tai Le","Tale"]),Ve(["font","Microsoft New Tai Lue","Talu"]),Ve(["font","Ebrima","Tfng"])]}]}},is=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Xn=function(l,t,e){return{name:"a:"+l,properties:{rawMap:{val:t}},children:e}},Nn=function(l){var t=is(l,6),e=t[0],n=t[1],s=t[3],g=t[4],y=t[5],_=[];return _.push(Xn("satMod",t[2])),s&&_.push(Xn("lumMod",s)),g&&_.push(Xn("tint",g)),y&&_.push(Xn("shade",y)),{name:"a:gs",properties:{rawMap:{pos:e}},children:[{name:"a:schemeClr",properties:{rawMap:{val:n}},children:_}]}},Hl=function(l,t){return{name:"a:solidFill",children:[Xn("schemeClr",l,t)]}},Ln=function(l){var t=is(l,5),e=t[0],n=t[1],a=t[2],s=t[3],y=is(t[4],2),_=y[0],E=y[1];return{name:"a:gradFill",properties:{rawMap:{rotWithShape:e}},children:[{name:"a:gsLst",children:[Nn(n),Nn(a),Nn(s)]},{name:"a:lin",properties:{rawMap:{ang:_,scaled:E}}}]}},yn=function(l){var t=is(l,4);return{name:"a:ln",properties:{rawMap:{w:t[0],cap:t[1],cmpd:t[2],algn:t[3]}},children:[Hl("phClr"),Xn("prstDash","solid"),{name:"a:miter",properties:{rawMap:{lim:"800000"}}}]}},hr=function(l){var t=[];if(l){var e=is(l,5);t.push({name:"a:outerShdw",properties:{rawMap:{blurRad:e[0],dist:e[1],dir:e[2],algn:e[3],rotWithShape:e[4]}},children:[Xn("srgbClr","000000",[Xn("alpha","63000")])]})}return{name:"a:effectStyle",children:[Object.assign({},{name:"a:effectLst"},t.length?{children:t}:{})]}},ju=function(l){var t=[];return l.forEach(function(e,n){var a=n.toString(),s={name:"t",textNode:b._.utf8_encode(b._.escapeString(a))};a.trim().length!==a.length&&(s.properties={rawMap:{"xml:space":"preserve"}}),t.push({name:"si",children:[s]})}),t},Hi={None:"None",Dot:"Dotted",Dash:"Dashed",Double:"Double",DashDot:"DashDot",DashDotDot:"DashDotDot",SlantDashDot:"SlantDashDot"},Qr=["Dashed","DashDot","DashDotDot"],Ks={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinDiagStripe:"lightUp",ThinHorzCross:"lightGrid",ThinDiagCross:"lightTrellis",Gray125:"gray125",Gray0625:"gray0625"},Mr={Automatic:"general",Left:"left",Center:"center",Right:"right",Fill:"fill",Justify:"justify",CenterAcrossSelection:"centerContinuous",Distributed:"distributed",JustifyDistributed:"justify"},os={Automatic:void 0,Top:"top",Bottom:"bottom",Center:"center",Justify:"justify",Distributed:"distributed",JustifyDistributed:"justify"},mt=function(l){return null==l?l:("#"===l.charAt(0)&&(l=l.substr(1)),6===l.length?"FF"+l:l)},zl=function(l,t){if(!l)return"thin";var e=function(l){switch(l){case 1:return"thin";case 2:return"medium";case 3:return"thick";default:return"hair"}}(t),n=Hi[l];return"Continuous"===l?e:"medium"===e&&-1!==Qr.indexOf(n)?"medium"+n:n.charAt(0).toLowerCase()+n.substr(1)},ga=function(l){return Mr[l]||"general"},fp=function(l){return os[l]||void 0},va=function(l){return{name:"color",properties:{rawMap:{rgb:mt(l||"#000000")}}}},gp_getTemplate=function(l){return{name:"borders",properties:{rawMap:{count:l.length}},children:l.map(function(t){return function(l){var t=l.left,e=l.right,n=l.top,a=l.bottom,s=l.diagonal,g=t?[va(t.color)]:void 0,y=e?[va(e.color)]:void 0,_=n?[va(n.color)]:void 0,E=a?[va(a.color)]:void 0,R=s?[va(s.color)]:void 0;return{name:"border",children:[{name:"left",properties:{rawMap:{style:t&&t.style}},children:g},{name:"right",properties:{rawMap:{style:e&&e.style}},children:y},{name:"top",properties:{rawMap:{style:n&&n.style}},children:_},{name:"bottom",properties:{rawMap:{style:a&&a.style}},children:E},{name:"diagonal",properties:{rawMap:{style:s&&s.style}},children:R}]}}(t)})}},Uu=function(l){var e=["Context","LeftToRight","RightToLeft"].indexOf(l);return Math.max(e,0)},Om_getTemplate=function(l){var t=l.alignment,e=l.borderId,n=l.fillId,a=l.fontId,s=l.numFmtId,g=l.protection,y=l.xfId,_=[];return t&&_.push(function(l){var t=l.horizontal,e=l.indent,n=l.readingOrder,a=l.rotate,s=l.shrinkToFit,g=l.vertical,y=l.wrapText;return{name:"alignment",properties:{rawMap:{horizontal:t&&ga(t),indent:e,readingOrder:n&&Uu(n),textRotation:a,shrinkToFit:s,vertical:g&&fp(g),wrapText:y}}}}(t)),g&&_.push(function(l){return{name:"protection",properties:{rawMap:{hidden:!0===l.hideFormula?1:0,locked:!1===l.protected?0:1}}}}(g)),{name:"xf",properties:{rawMap:{applyAlignment:t?1:void 0,applyProtection:g?1:void 0,applyBorder:e?1:void 0,applyFill:n?1:void 0,borderId:e,fillId:n,applyFont:a?1:void 0,fontId:a,applyNumberFormat:s?1:void 0,numFmtId:s,xfId:y}},children:_.length?_:void 0}},Ys=function(){return Ys=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Ys.apply(this,arguments)},U_=function(l,t){return-1!==l.indexOf("mixedStyle")&&t>1&&(l+="_"+t),l},fg=function(){qs={base:0},Rn=[],vp=[{fontName:"Calibri",colorTheme:"1",family:"2",scheme:"minor"}],ya=[{patternType:"none"},{patternType:"gray125"}],$l=[{left:void 0,right:void 0,top:void 0,bottom:void 0,diagonal:void 0}],yp=[{borderId:0,fillId:0,fontId:0,numFmtId:0}],gh=[{borderId:0,fillId:0,fontId:0,numFmtId:0,xfId:0}],zu=[{builtinId:0,name:"Normal",xfId:0}]},K_=function(l){var t=l.alignment,e=l.borders,n=l.font,a=l.interior,s=l.numberFormat,g=l.protection,y=l.id,_=0,E=0,R=0,A=0;!y||(y=U_(y,wi),null==qs[y]&&(a&&(_=function(l){var t=function(l){return l?Ks[l]||l:"none"}(l.pattern),e=mt(l.color),n=mt(l.patternColor),a=ya.findIndex(function(s){return!(s.patternType!=t||s.fgRgb!=e||s.bgRgb!=n)});return-1===a&&(a=ya.length,ya.push({patternType:t,fgRgb:e,bgRgb:n})),a}(a)),e&&(E=function(l){var s,g,y,_,E,R,A,T,t=l.borderBottom,e=l.borderTop,n=l.borderLeft,a=l.borderRight;n&&(y=zl(n.lineStyle,n.weight),A=mt(n.color)),a&&(_=zl(a.lineStyle,a.weight),T=mt(a.color)),t&&(s=zl(t.lineStyle,t.weight),E=mt(t.color)),e&&(g=zl(e.lineStyle,e.weight),R=mt(e.color));var F=$l.findIndex(function(I){var G=I.left,j=I.right,U=I.top,z=I.bottom;if(!G&&(y||A)||!j&&(_||T)||!U&&(g||R)||!z&&(s||E))return!1;var Y=G||{},ae=j||{},fe=U||{},De=z||{};return!(Y.style!=y||Y.color!=A||ae.style!=_||ae.color!=T||fe.style!=g||fe.color!=R||De.style!=s||De.color!=E)});return-1===F&&(F=$l.length,$l.push({left:{style:y,color:A},right:{style:_,color:T},top:{style:g,color:R},bottom:{style:s,color:E},diagonal:{style:void 0,color:void 0}})),F}(e)),n&&(R=function(l){var t=l.fontName,e=void 0===t?"Calibri":t,n=l.color,a=l.size,s=l.bold,g=l.italic,y=l.outline,_=l.shadow,E=l.strikeThrough,R=l.underline,A=l.family,T=l.verticalAlign,F=e&&b._.utf8_encode(e),I=mt(n),G=function(l){if(void 0!==l){var e=["Automatic","Roman","Swiss","Modern","Script","Decorative"].indexOf(l||"Automatic");return Math.max(e,0)}}(A),j=R?R.toLocaleLowerCase():void 0,U=T?T.toLocaleLowerCase():void 0,z=vp.findIndex(function(Y){return!(Y.fontName!=F||Y.color!=I||Y.size!=a||Y.bold!=s||Y.italic!=g||Y.outline!=y||Y.shadow!=_||Y.strikeThrough!=E||Y.underline!=j||Y.verticalAlign!=U||Y.family!=G)});return-1===z&&(z=vp.length,vp.push({fontName:F,color:I,size:a,bold:s,italic:g,outline:y,shadow:_,strikeThrough:E,underline:j,verticalAlign:U,family:null!=G?G.toString():void 0})),z}(n)),s&&(A=function(l){if(l=b._.utf8_encode(l),Us[l])return Us[l];var t=Rn.findIndex(function(e){return e.formatCode===l});return-1===t?Rn.push({formatCode:l,numFmtId:t=Rn.length+164}):t=Rn[t].numFmtId,t}(s.format)),qs[y]=gh.length,gh.push({alignment:t,borderId:E||0,fillId:_||0,fontId:R||0,numFmtId:A||0,protection:g,xfId:0})))},Pm_getTemplate=function(l){var t=function(l){return{name:"numFmts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return function(l){return{name:"numFmt",properties:{rawMap:{formatCode:l.formatCode,numFmtId:l.numFmtId}}}}(t)})}}(Rn),e=function(l){return{name:"fonts",properties:{rawMap:{count:l.length}},children:l.map(function(t){return function(l){var n=l.color,s=l.fontName,y=l.family,_=l.scheme,E=l.italic,R=l.bold,A=l.strikeThrough,T=l.outline,F=l.shadow,I=l.underline,G=l.verticalAlign,j=[{name:"sz",properties:{rawMap:{val:l.size}}},{name:"color",properties:{rawMap:{theme:l.colorTheme,rgb:void 0===n?"FF000000":n}}},{name:"name",properties:{rawMap:{val:void 0===s?"Calibri":s}}}];return y&&j.push({name:"family",properties:{rawMap:{val:y}}}),_&&j.push({name:"scheme",properties:{rawMap:{val:_}}}),E&&j.push({name:"i"}),R&&j.push({name:"b"}),A&&j.push({name:"strike"}),T&&j.push({name:"outline"}),F&&j.push({name:"shadow"}),I&&j.push({name:"u",properties:{rawMap:{val:I}}}),G&&j.push({name:"vertAlign",properties:{rawMap:{val:G}}}),{name:"font",children:j}}(t)})}}(vp.map(function(_){return Ys(Ys({},_),{size:null!=_.size?_.size:l})})),n=function(l){return{name:"fills",properties:{rawMap:{count:l.length}},children:l.map(function(t){return function(l){var e=l.fgTheme,n=l.fgTint,a=l.fgRgb,s=l.bgRgb,g=l.bgIndexed,y={name:"patternFill",properties:{rawMap:{patternType:l.patternType}}};return(e||n||a)&&(y.children=[{name:"fgColor",properties:{rawMap:{theme:e,tint:n,rgb:a}}}]),(g||s)&&(y.children||(y.children=[]),y.children.push({name:"bgColor",properties:{rawMap:{indexed:g,rgb:s}}})),{name:"fill",children:[y]}}(t)})}}(ya),a=gp_getTemplate($l),s=function(l){return{name:"cellStyleXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Om_getTemplate(t)})}}(yp),g=function(l){return{name:"cellXfs",properties:{rawMap:{count:l.length}},children:l.map(function(t){return Om_getTemplate(t)})}}(gh),y=function(l){return{name:"cellStyles",properties:{rawMap:{count:l.length}},children:l.map(function(t){return function(l){return{name:"cellStyle",properties:{rawMap:{builtinId:l.builtinId,name:l.name,xfId:l.xfId}}}}(t)})}}(zu);return fg(),{name:"styleSheet",properties:{rawMap:{"mc:Ignorable":"x14ac x16r2 xr",xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision"}},children:[t,e,n,a,s,g,y,{name:"tableStyles",properties:{rawMap:{count:0,defaultPivotStyle:"PivotStyleLight16",defaultTableStyle:"TableStyleMedium2"}}}]}},Y_=function(l,t){return qs[U_(l,t)]||0},Kl_getTemplate=function(l){return{name:"sheets",children:l.map(function(t,e){return function(l,t){var e=(t+1).toString();return{name:"sheet",properties:{rawMap:{name:l,sheetId:e,"r:id":"rId"+e}}}}(t,e)})}},Z_=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Xs=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Z_(arguments[t]));return l},gg=function(l){return""!==l.data.value||void 0!==l.styleId},J__getTemplate=function(l,t,e){var n=l.index,a=l.collapsed,s=l.hidden,g=l.height,y=l.s,_=l.cells,E=void 0===_?[]:_;return function(l,t){for(var e=[],n=0,a=0;a<l.length;a++)(s=l[a]).mergeAcross&&(e.push({pos:a,excelPos:n}),n+=s.mergeAcross),n++;if(e.length)for(a=e.length-1;a>=0;a--){for(var g=[],s=l[e[a].pos],y=1;y<=s.mergeAcross;y++)g.push({ref:""+ns(e[a].excelPos+1+y)+(t+1),styleId:s.styleId,data:{type:"empty",value:null}});g.length&&l.splice.apply(l,Xs([e[a].pos+1,0],g))}}(E,t),{name:"row",properties:{rawMap:{r:n,collapsed:a,hidden:s?"1":"0",ht:g,customHeight:null!=g?"1":"0",s:y,customFormat:null!=y?"1":"0"}},children:E.filter(gg).map(function(A,T){return function(l,t,e){var n=l.ref,a=l.data,s=l.styleId,g=a.type,y=a.value,_=g;"f"===g?_="str":g.charAt(0)===g.charAt(0).toUpperCase()&&(_=function(l){var t=l.charAt(0).toLowerCase();return"s"===t?"inlineStr":t}(g));var R,E={name:"c",properties:{rawMap:{r:n,t:"empty"===_?void 0:_,s:s?Y_(s,e):void 0}}};return"empty"===_?E:(R="str"===_&&"f"===g?[{name:"f",textNode:b._.escapeString(b._.utf8_encode(y))}]:"inlineStr"===_?[{name:"is",children:[{name:"t",textNode:b._.escapeString(b._.utf8_encode(y))}]}]:[{name:"v",textNode:y}],Object.assign({},E,{children:R}))}(A,0,e)})}},Qs=function(l){return!l||"Portrait"!==l&&"Landscape"!==l?"portrait":l.toLocaleLowerCase()},Ca=function(l){if(null==l)return 1;var e=["Letter","Letter Small","Tabloid","Ledger","Legal","Statement","Executive","A3","A4","A4 Small","A5","A6","B4","B5","Folio","Envelope","Envelope DL","Envelope C5","Envelope B5","Envelope C3","Envelope C4","Envelope C6","Envelope Monarch","Japanese Postcard","Japanese Double Postcard"].indexOf(l);return-1===e?1:e+1},fo=function(l){return l.reduce(function(t,e){var n=function(l){return"Center"===l?"C":"Right"===l?"R":"L"}(e.position),a=function(l,t){return t&&(l+="&amp;&quot;",l+=t.fontName||"Calibri",l+=t.bold!==t.italic?t.bold?",Bold":",Italic":t.bold?",Bold Italic":",Regular",l+="&quot;",t.size&&(l+="&amp;"+t.size),t.strikeThrough&&(l+="&amp;S"),t.underline&&(l+="&amp;"+("Double"===t.underline?"E":"U")),t.color&&(l+="&amp;K"+t.color.replace("#","").toUpperCase())),l}(t+"&amp;"+n,e.font);return""+a+b._.escapeString(function(l){return b._.iterateObject({"&[Page]":"&P","&[Pages]":"&N","&[Date]":"&D","&[Time]":"&T","&[Tab]":"&A","&[Path]":"&Z","&[File]":"&F"},function(e,n){l=l.replace(e,n)}),l}(e.value))},"")},Fr=function(l){var e=[];return["all","first","even"].forEach(function(n){var a=l[n],s="all"===n?"odd":n;!a||!a.header&&!a.footer||b._.iterateObject(a,function(g,y){var _=""+g.charAt(0).toUpperCase()+g.slice(1);y&&e.push({name:""+s+_,properties:{rawMap:{"xml:space":"preserve"}},textNode:fo(y)})})}),e},Fm_getTemplate=function(l){var e=l.currentSheet,n=l.margins,a=void 0===n?{}:n,s=l.pageSetup,g=l.headerFooterConfig,y=l.worksheet.table,_=y.rows,E=y.columns,R=E&&E.length?function(l,t){var e=[],n=[];l.forEach(function(g,y){var R,_=g.cells,E=0;g.index=y+1,_.forEach(function(A,T){var F=T+E+1,I=ns(F),G=y+1;if(A.mergeAcross){var j=ns(T+(E+=A.mergeAcross)+1);e.push(""+I+G+":"+j+G)}t[F-1]||(t[F-1]={});var U=A.collapsibleRanges;U&&U.forEach(function(z){n.push([F+z[0],F+z[1]])}),(R=t[F-1]).min=F,R.max=F,A.ref=""+I+G})}),n.sort(function(g,y){return g[0]!==y[0]?g[0]-y[0]:y[1]-g[1]});var a=new Map,s=new Map;return n.filter(function(g){var y=g.toString();return!a.get(y)&&(a.set(y,!0),!0)}).forEach(function(g){var y=t.find(function(E){return E.min==g[0]&&E.max==g[1]}),_=s.get(g[0]);t.push({min:g[0],max:g[1],outlineLevel:_||1,width:(y||{width:100}).width}),s.set(g[0],(_||0)+1)}),e}(_,E):[],A=b._.compose(function(l){return function(t){return l.length&&t.push({name:"cols",children:l.map(function(e){return function(l){var t=l.min,e=l.max,n=l.outlineLevel,a=l.s,s=l.width,g=l.hidden,y=l.bestFit,_=1,E="0";return s>1&&(_=function(l){return Math.ceil((l-12)/7+1)}(s),E="1"),{name:"col",properties:{rawMap:{min:t,max:e,outlineLevel:null!=n?n:void 0,width:_,style:a,hidden:g?"1":"0",bestFit:y?"1":"0",customWidth:E}}}}(e)})}),t}}(E),function(l,t){return function(e){return l.length&&e.push({name:"sheetData",children:l.map(function(n,a){return J__getTemplate(n,a,t)})}),e}}(_,e+1),function(l){return function(t){return l.length&&t.push({name:"mergeCells",properties:{rawMap:{count:l.length}},children:l.map(function(e){return function(l){return{name:"mergeCell",properties:{rawMap:{ref:l}}}}(e)})}),t}}(R),function(l){return function(t){var e=l.top,a=l.right,g=l.bottom,_=l.left,R=l.header,T=l.footer;return t.push({name:"pageMargins",properties:{rawMap:{bottom:void 0===g?.75:g,footer:void 0===T?.3:T,header:void 0===R?.3:R,left:void 0===_?.7:_,right:void 0===a?.7:a,top:void 0===e?.75:e}}}),t}}(a),function(l){return function(t){return l&&t.push({name:"pageSetup",properties:{rawMap:{horizontalDpi:0,verticalDpi:0,orientation:Qs(l.orientation),paperSize:Ca(l.pageSize)}}}),t}}(s),function(l){return function(t){return l?(t.push({name:"headerFooter",properties:{rawMap:{differentFirst:null!=l.first?1:0,differentOddEven:null!=l.even?1:0}},children:Fr(l)}),t):t}}(g),function(l){return function(t){return Qt.worksheetImages.get(l)&&t.push({name:"drawing",properties:{rawMap:{"r:id":"rId1"}}}),t}}(e));return{name:"worksheet",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:A([])}},gr_getTemplate=function(l){return{name:"Relationships",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}},children:l.map(function(e){return function(l){return{name:"Relationship",properties:{rawMap:{Id:l.Id,Type:l.Type,Target:l.Target}}}}(e)})}},Nm=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Qt=function(){function l(){}return l.createExcel=function(t,e,n,a,s){return this.addSheetName(e),function(l,t){1===(wi=t)&&fg(),l.forEach(K_)}(t,this.sheetNames.length),this.createWorksheet(e,n,a,s)},l.buildImageMap=function(t,e,n,a,s){var g=this.sheetNames.length,y=this.images.get(t.id);(!t.position||!t.position.row||!t.position.column)&&(t.position||(t.position={}),t.position=Object.assign({},t.position,{row:e,column:a.indexOf(n)+1}));var _=t;if(function(l,t){var e=l.position,n=e.colSpan,a=e.column;if(l.width)if(n)for(var s=t.slice(a-1,a+n-1),g=0,y=0;y<s.length;y++){var _=s[y].getActualWidth();if(l.width<g+_){l.position.colSpan=y+1,l.totalWidth=l.width,l.width=l.totalWidth-g;break}g+=_}else l.totalWidth=l.width}(_,a),function(l,t){var e=l.position,n=e.rowSpan,a=e.row;if(l.height)if(n)for(var s=0,g=0,y=a;y<a+n;y++){var _=W_(zs(y,t)||20);if(l.height<s+_){l.position.rowSpan=g+1,l.totalHeight=l.height,l.height=l.totalHeight-s;break}s+=_,g++}else l.totalHeight=l.height}(_,s),y){var E=y.find(function(R){return R.sheetId===g});E?E.image.push(_):y.push({sheetId:g,image:[_]})}else this.images.set(_.id,[{sheetId:g,image:[_]}]),this.workbookImageIds.set(_.id,{type:_.imageType,index:this.workbookImageIds.size});this.buildSheetImageMap(g,_)},l.buildSheetImageMap=function(t,e){var n=this.worksheetImageIds.get(t);n||this.worksheetImageIds.set(t,n=new Map);var a=this.worksheetImages.get(t);a?(a.push(e),n.get(e.id)||n.set(e.id,{index:n.size,type:e.imageType})):(this.worksheetImages.set(t,[e]),n.set(e.id,{index:0,type:e.imageType}))},l.addSheetName=function(t){for(var e=b._.escapeString(t.name)||"",n="";-1!==this.sheetNames.indexOf(""+e+n);)if(""===n)n="_1";else{var a=parseInt(n.slice(1),10);n="_"+(a+1)}t.name=""+e+n,this.sheetNames.push(t.name)},l.getStringPosition=function(t){return this.sharedStrings.has(t)?this.sharedStrings.get(t):(this.sharedStrings.set(t,this.sharedStrings.size),this.sharedStrings.size-1)},l.resetFactory=function(){this.sharedStrings=new Map,this.images=new Map,this.worksheetImages=new Map,this.workbookImageIds=new Map,this.worksheetImageIds=new Map,this.sheetNames=[],this.factoryMode=b.ExcelFactoryMode.SINGLE_SHEET},l.createWorkbook=function(){return st(function(l){return{name:"workbook",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"}}],rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},children:[Kl_getTemplate(l)]}}(this.sheetNames))},l.createStylesheet=function(t){return st(Pm_getTemplate(t))},l.createSharedStrings=function(){return st(function(l){return{name:"sst",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:l.size,uniqueCount:l.size}},children:ju(l)}}(this.sharedStrings))},l.createCore=function(t){return st(function(l){var e=(new Date).toJSON();return{name:"cp:coreProperties",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"}}]},children:[{name:"dc:creator",textNode:l},{name:"dc:title",textNode:"Workbook"},{name:"dcterms:created",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e},{name:"dcterms:modified",properties:{rawMap:{"xsi:type":"dcterms:W3CDTF"}},textNode:e}]}}(t))},l.createContentTypes=function(t){return st(function(l){var t=new Array(l).fill(void 0).map(function(y,_){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",PartName:"/xl/worksheets/sheet"+(_+1)+".xml"}}),e=Qt.worksheetImages.size,n={};Qt.workbookImageIds.forEach(function(y){n[y.type]=!0});var a=new Array(e).fill(void 0).map(function(y,_){return{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml",PartName:"/xl/drawings/drawing"+(_+1)+".xml"}}),g=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(wm(arguments[t]));return l}(Object.keys(n).map(function(y){return{name:"Default",ContentType:"image/"+y,Extension:y}}),[{name:"Default",Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"},{name:"Default",ContentType:"application/xml",Extension:"xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",PartName:"/xl/workbook.xml"}],t,[{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml",PartName:"/xl/theme/theme1.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",PartName:"/xl/styles.xml"},{name:"Override",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",PartName:"/xl/sharedStrings.xml"}],a,[{name:"Override",ContentType:"application/vnd.openxmlformats-package.core-properties+xml",PartName:"/docProps/core.xml"}]).map(function(y){return function(l){return{name:l.name,properties:{rawMap:{Extension:l.Extension,PartName:l.PartName,ContentType:l.ContentType}}}}(y)});return{name:"Types",properties:{rawMap:{xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"}},children:g}}(t))},l.createRels=function(){var t=gr_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Target:"xl/workbook.xml"},{Id:"rId2",Type:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",Target:"docProps/core.xml"}]);return st(t)},l.createTheme=function(){return st({name:"a:theme",properties:{prefixedAttributes:[{prefix:"xmlns:",map:{a:"http://schemas.openxmlformats.org/drawingml/2006/main"}}],rawMap:{name:"Office Theme"}},children:[{name:"a:themeElements",children:[{name:"a:clrScheme",properties:{rawMap:{name:"Office"}},children:[sn(["dk1","sysClr","windowText","000000"]),sn(["lt1","sysClr","window","FFFFFF"]),sn(["dk2","srgbClr","44546A"]),sn(["lt2","srgbClr","E7E6E6"]),sn(["accent1","srgbClr","4472C4"]),sn(["accent2","srgbClr","ED7D31"]),sn(["accent3","srgbClr","A5A5A5"]),sn(["accent4","srgbClr","FFC000"]),sn(["accent5","srgbClr","5B9BD5"]),sn(["accent6","srgbClr","70AD47"]),sn(["hlink","srgbClr","0563C1"]),sn(["folHlink","srgbClr","954F72"])]},fh_getTemplate(),{name:"a:fmtScheme",properties:{rawMap:{name:"Office"}},children:[{name:"a:fillStyleLst",children:[Hl("phClr"),Ln(["1",["0","phClr","105000","110000","67000"],["50000","phClr","103000","105000","73000"],["100000","phClr","109000","105000","81000"],["5400000","0"]]),Ln(["1",["0","phClr","103000","102000","94000"],["50000","phClr","110000","100000",void 0,"100000"],["100000","phClr","120000","99000",void 0,"78000"],["5400000","0"]])]},{name:"a:lnStyleLst",children:[yn(["6350","flat","sng","ctr"]),yn(["12700","flat","sng","ctr"]),yn(["19050","flat","sng","ctr"])]},{name:"a:effectStyleLst",children:[hr(),hr(),hr(["57150","19050","5400000","ctr","0"])]},{name:"a:bgFillStyleLst",children:[Hl("phClr"),Hl("phClr",[Xn("tint","95000"),Xn("satMod","170000")]),Ln(["1",["0","phClr","150000","102000","93000","98000"],["50000","phClr","130000","103000","98000","90000"],["100000","phClr","120000",void 0,void 0,"63000"],["5400000","0"]])]}]}]},{name:"a:objectDefaults"},{name:"a:extraClrSchemeLst"}]})},l.createWorkbookRels=function(t){var e=new Array(t).fill(void 0).map(function(a,s){return{Id:"rId"+(s+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",Target:"worksheets/sheet"+(s+1)+".xml"}}),n=gr_getTemplate(function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Nm(arguments[t]));return l}(e,[{Id:"rId"+(t+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Target:"theme/theme1.xml"},{Id:"rId"+(t+2),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Target:"styles.xml"},{Id:"rId"+(t+3),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Target:"sharedStrings.xml"}]));return st(n)},l.createDrawing=function(t){return st(function(l){var t=l.sheetIndex,e=Qt.worksheetImages.get(t),n=Qt.worksheetImageIds.get(t),a=e.map(function(s,g){var y=function(l){l.fitCell=!!l.fitCell||!l.width||!l.height;var t=l.position,e=void 0===t?{}:t,n=l.fitCell,a=l.width,s=void 0===a?0:a,g=l.height,y=void 0===g?0:g,_=l.totalHeight,E=l.totalWidth,R=e.offsetX,A=void 0===R?0:R,T=e.offsetY,F=void 0===T?0:T,I=e.row,G=void 0===I?1:I,j=e.rowSpan,U=void 0===j?1:j,z=e.column,Y=void 0===z?1:z,J=e.colSpan,se=void 0===J?1:J;return{from:{row:G-1,col:Y-1,offsetX:Bl(A),offsetY:Bl(F)},to:{row:G-1+(n?1:U-1),col:Y-1+(n?1:se-1),offsetX:Bl(s+A),offsetY:Bl(y+F)},height:Bl(_||y),width:Bl(E||s)}}(s);return{name:"xdr:twoCellAnchor",properties:{rawMap:{editAs:"absolute"}},children:[bm("from",y.from),bm("to",y.to),ar(s,g,n.get(s.id).index,y),{name:"xdr:clientData"}]}});return{name:"xdr:wsDr",properties:{rawMap:{"xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main","xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"}},children:a}}({sheetIndex:t}))},l.createDrawingRel=function(t){var e=this,n=this.worksheetImageIds.get(t),a=[];return n.forEach(function(s,g){a.push({Id:"rId"+(s.index+1),Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:"../media/image"+(e.workbookImageIds.get(g).index+1)+"."+s.type})}),st(gr_getTemplate(a))},l.createWorksheetDrawingRel=function(t){var e=gr_getTemplate([{Id:"rId1",Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:"../drawings/drawing"+(t+1)+".xml"}]);return st(e)},l.createWorksheet=function(t,e,n,a){return st(Fm_getTemplate({worksheet:t,currentSheet:this.sheetNames.length-1,margins:e,pageSetup:n,headerFooterConfig:a}))},l.sharedStrings=new Map,l.sheetNames=[],l.images=new Map,l.worksheetImages=new Map,l.workbookImageIds=new Map,l.worksheetImageIds=new Map,l.factoryMode=b.ExcelFactoryMode.SINGLE_SHEET,l}(),_i=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return _i(t,l),t.prototype.createExcel=function(e){var s=this.config;return Qt.createExcel(this.excelStyles,e,s.margins,s.pageSetup,s.headerFooterConfig)},t.prototype.getDataTypeForValue=function(e){return void 0===e?"empty":b._.isNumeric(e)?"n":"s"},t.prototype.getType=function(e,n,a){if(this.isFormula(a))return"f";if(n&&n.dataType)switch(n.dataType.toLocaleLowerCase()){case"formula":return"f";case"string":return"s";case"number":return"n";case"datetime":return"d";case"error":return"e";case"boolean":return"b";default:console.warn("AG Grid: Unrecognized data type for excel export ["+n.id+".dataType="+n.dataType+"]")}return e},t.prototype.addImage=function(e,n,a){if(this.config.addImageToCell){var s=this.config.addImageToCell(e,n,a);if(s)return Qt.buildImageMap(s.image,e,n,this.columnsToExport,this.config.rowHeight),s}},t.prototype.createCell=function(e,n,a){var s=this.getStyleById(e),g=this.getType(n,s,a)||n;return{styleId:s?e:void 0,data:{type:g,value:this.getCellValue(g,a)}}},t.prototype.createMergedCell=function(e,n,a,s){var g=null==a?"":a;return{styleId:this.getStyleById(e)?e:void 0,data:{type:n,value:"s"===n?Qt.getStringPosition(g).toString():a},mergeAcross:s}},t.prototype.getCellValue=function(e,n){if(null==n)return Qt.getStringPosition("").toString();switch(e){case"s":return""===n?"":Qt.getStringPosition(n).toString();case"f":return n.slice(1);case"n":return Number(n).toString();default:return n}},t}(Gi),yg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),as=function(){return as=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},as.apply(this,arguments)},Zr=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Yl=function(l){var t=l.data,e=l.fontSize,n=void 0===e?11:e,a=l.author,s=void 0===a?"AG Grid":a,g=Qt.images.size>0;if(Kn.addFolders(["_rels/","docProps/","xl/","xl/theme/","xl/_rels/","xl/worksheets/"]),g){Kn.addFolders(["xl/worksheets/_rels","xl/drawings/","xl/drawings/_rels","xl/media/"]);var y=0;Qt.images.forEach(function(A){var T=A[0].image[0];Kn.addFile("xl/media/image"+ ++y+"."+T.imageType,T.base64,!0)})}if(!t||0===t.length)return console.warn("AG Grid: Invalid params supplied to getMultipleSheetsAsExcel() - `ExcelExportParams.data` is empty."),void Qt.resetFactory();var _=t.length,E=0;return t.forEach(function(A,T){Kn.addFile("xl/worksheets/sheet"+(T+1)+".xml",A),g&&Qt.worksheetImages.get(T)&&Nr(T,E++)}),Kn.addFile("xl/workbook.xml",Qt.createWorkbook()),Kn.addFile("xl/styles.xml",Qt.createStylesheet(n)),Kn.addFile("xl/sharedStrings.xml",Qt.createSharedStrings()),Kn.addFile("xl/theme/theme1.xml",Qt.createTheme()),Kn.addFile("xl/_rels/workbook.xml.rels",Qt.createWorkbookRels(_)),Kn.addFile("docProps/core.xml",Qt.createCore(s)),Kn.addFile("[Content_Types].xml",Qt.createContentTypes(_)),Kn.addFile("_rels/.rels",Qt.createRels()),Qt.resetFactory(),Kn.getContent(l.mimeType||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet")},Nr=function(l,t){var e="xl/drawings",n=e+"/drawing"+(t+1)+".xml",s="xl/worksheets/_rels/sheet"+(l+1)+".xml.rels";Kn.addFile(e+"/_rels/drawing"+(t+1)+".xml.rels",Qt.createDrawingRel(l)),Kn.addFile(n,Qt.createDrawing(l)),Kn.addFile(s,Qt.createWorksheetDrawingRel(t))},Zs=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.exportMode="xlsx",e}return yg(t,l),t.prototype.postConstruct=function(){this.setBeans({gridSerializer:this.gridSerializer,gridOptionsWrapper:this.gridOptionsWrapper})},t.prototype.getMergedParams=function(e){var n=this.gridOptionsWrapper.getDefaultExportParams("excel");return Object.assign({},n,e)},t.prototype.getData=function(e){return this.setExportMode(e.exportMode||"xlsx"),l.prototype.getData.call(this,e)},t.prototype.export=function(e){if(this.isExportSuppressed())return console.warn("AG Grid: Export cancelled. Export is not allowed as per your configuration."),"";var n=this.getMergedParams(e),a=this.getData(n),g=this.packageFile({data:[a],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType});return g&&fm.download(this.getFileName(n.fileName),g),a},t.prototype.exportDataAsExcel=function(e){return this.export(e)},t.prototype.getDataAsExcel=function(e){var n=this.getMergedParams(e),a=this.getData(n);return e&&"xml"===e.exportMode?a:this.packageFile({data:[a],fontSize:n.fontSize,author:n.author,mimeType:n.mimeType})},t.prototype.setFactoryMode=function(e,n){void 0===n&&(n="xlsx"),("xlsx"===n?Qt:Yn).factoryMode=e},t.prototype.getFactoryMode=function(e){return("xlsx"===e?Qt:Yn).factoryMode},t.prototype.getSheetDataForExcel=function(e){var n=this.getMergedParams(e);return this.getData(n)},t.prototype.getMultipleSheetsAsExcel=function(e){return Yl(e)},t.prototype.exportMultipleSheetsAsExcel=function(e){return function(l){var t=l.fileName,e=void 0===t?"export.xlsx":t,n=Yl(l);n&&fm.download(e,n)}(e)},t.prototype.getDefaultFileName=function(){return"export."+this.getExportMode()},t.prototype.getDefaultFileExtension=function(){return this.getExportMode()},t.prototype.createSerializingSession=function(e){var n=this,a=n.columnModel,s=n.valueService,g=n.gridOptionsWrapper,y="xlsx"===this.getExportMode(),_="ag-grid";null!=e.sheetName&&(_=b._.utf8_encode(e.sheetName.toString().substr(0,31)));var E=as(as({},e),{sheetName:_,columnModel:a,valueService:s,gridOptionsWrapper:g,headerRowHeight:e.headerRowHeight||e.rowHeight,baseExcelStyles:this.gridOptions.excelStyles||[],styleLinker:this.styleLinker.bind(this)});return new(y?rS:Cm)(E)},t.prototype.styleLinker=function(e,n,a,s,g){if(e===Vl.HEADER)return["header"];if(e===Vl.HEADER_GROUPING)return["header","headerGroup"];var y=this.gridOptions.excelStyles,_=["cell"];if(!y||!y.length)return _;var E=y.map(function(R){return R.id});return this.stylingService.processAllCellClasses(s.getColDef(),{value:a,data:g.data,node:g,colDef:s.getColDef(),rowIndex:n,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext()},function(R){E.indexOf(R)>-1&&_.push(R)}),_.sort(function(R,A){return E.indexOf(R)<E.indexOf(A)?-1:1})},t.prototype.isExportSuppressed=function(){return this.gridOptionsWrapper.isSuppressExcelExport()},t.prototype.setExportMode=function(e){this.exportMode=e},t.prototype.getExportMode=function(){return this.exportMode},t.prototype.packageFile=function(e){return"xml"===this.getExportMode()?new Blob(["\ufeff",e.data[0]],{type:e.mimeType||"application/vnd.ms-excel"}):Yl(e)},Zr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Zr([b.Autowired("valueService")],t.prototype,"valueService",void 0),Zr([b.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Zr([b.Autowired("stylingService")],t.prototype,"stylingService",void 0),Zr([b.Autowired("gridSerializer")],t.prototype,"gridSerializer",void 0),Zr([b.Autowired("gridOptionsWrapper")],t.prototype,"gridOptionsWrapper",void 0),Zr([b.PostConstruct],t.prototype,"postConstruct",null),Zr([b.Bean("excelCreator")],t)}(dm),ft={moduleName:b.ModuleNames.ExcelExportModule,beans:[Zs,$n,gm],dependantModules:[Vt,gn]},ss=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nt=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},go=(()=>(function(l){l[l.EXPANDED=0]="EXPANDED",l[l.COLLAPSED=1]="COLLAPSED",l[l.INDETERMINATE=2]="INDETERMINATE"}(go||(go={})),go))(),YE=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ss(t,l),t.prototype.preConstruct=function(){this.setTemplate('<div class="ag-filter-toolpanel-search" role="presentation">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <ag-input-text-field ref="eFilterTextField" class="ag-filter-toolpanel-search-input"></ag-input-text-field>\n            </div>')},t.prototype.postConstruct=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.onValueChange(this.onSearchTextChanged.bind(this)),this.eFilterTextField.setInputAriaLabel(e("ariaFilterColumnsInput","Filter Columns Input")),this.createExpandIcons(),this.setExpandState(go.EXPANDED),this.addManagedListener(this.eExpand,"click",this.onExpandClicked.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.showOrHideOptions.bind(this))},t.prototype.init=function(e){this.params=e,this.columnModel.isReady()&&this.showOrHideOptions()},t.prototype.createExpandIcons=function(){this.eExpand.appendChild(this.eExpandChecked=b._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandUnchecked=b._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper)),this.eExpand.appendChild(this.eExpandIndeterminate=b._.createIconNoSpan("columnSelectIndeterminate",this.gridOptionsWrapper))},t.prototype.showOrHideOptions=function(){var e=!this.params.suppressFilterSearch,n=!this.params.suppressExpandAll,a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFilterTextField.setInputPlaceholder(a("searchOoo","Search..."));var g=this.columnModel.getAllGridColumns().some(function(y){return y.getOriginalParent()&&y.isFilterAllowed()});b._.setDisplayed(this.eFilterTextField.getGui(),e),b._.setDisplayed(this.eExpand,n&&g)},t.prototype.onSearchTextChanged=function(){var e=this;this.onSearchTextChangedDebounced||(this.onSearchTextChangedDebounced=b._.debounce(function(){e.dispatchEvent({type:"searchChanged",searchText:e.eFilterTextField.getValue()})},300)),this.onSearchTextChangedDebounced()},t.prototype.onExpandClicked=function(){this.dispatchEvent(this.currentExpandState===go.EXPANDED?{type:"collapseAll"}:{type:"expandAll"})},t.prototype.setExpandState=function(e){this.currentExpandState=e,b._.setDisplayed(this.eExpandChecked,this.currentExpandState===go.EXPANDED),b._.setDisplayed(this.eExpandUnchecked,this.currentExpandState===go.COLLAPSED),b._.setDisplayed(this.eExpandIndeterminate,this.currentExpandState===go.INDETERMINATE)},nt([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),nt([b.RefSelector("eExpand")],t.prototype,"eExpand",void 0),nt([b.RefSelector("eFilterTextField")],t.prototype,"eFilterTextField",void 0),nt([b.PreConstruct],t.prototype,"preConstruct",null),nt([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),mg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vo=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ji=function(l){function t(e){void 0===e&&(e=!1);var n=l.call(this,t.TEMPLATE)||this;return n.expanded=!1,n.hideHeader=e,n}return mg(t,l),t.prototype.postConstruct=function(){this.eExpandChecked=b._.createIconNoSpan("columnSelectOpen",this.gridOptionsWrapper),this.eExpandUnchecked=b._.createIconNoSpan("columnSelectClosed",this.gridOptionsWrapper),this.eExpand.appendChild(this.eExpandChecked),this.eExpand.appendChild(this.eExpandUnchecked)},t.prototype.setColumn=function(e){var n=this;this.column=e,this.eFilterName.innerText=this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)||"",this.addManagedListener(this.eFilterToolPanelHeader,"click",this.toggleExpanded.bind(this)),this.addManagedListener(this.eFilterToolPanelHeader,"keydown",function(a){a.key===b.KeyCode.ENTER&&n.toggleExpanded()}),this.addManagedListener(this.eventService,b.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this)),this.addInIcon("filter",this.eFilterIcon,this.column),this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.eExpandChecked.classList.add("ag-hidden"),this.hideHeader?(this.eFilterToolPanelHeader.classList.toggle("ag-hidden",!0),this.eFilterToolPanelHeader.removeAttribute("tabindex")):this.eFilterToolPanelHeader.setAttribute("tabindex","0"),this.addManagedListener(this.column,b.Column.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.getColumn=function(){return this.column},t.prototype.getColumnFilterName=function(){return this.columnModel.getDisplayNameForColumn(this.column,"filterToolPanel",!1)},t.prototype.addCssClassToTitleBar=function(e){this.eFilterToolPanelHeader.classList.add(e)},t.prototype.addInIcon=function(e,n,a){if(null!=n){var s=b._.createIconNoSpan(e,this.gridOptionsWrapper,a);n.appendChild(s)}},t.prototype.isFilterActive=function(){return this.filterManager.isFilterActive(this.column)},t.prototype.onFilterChanged=function(){this.eFilterIcon.classList.toggle("ag-hidden",!this.isFilterActive()),this.dispatchEvent({type:b.Column.EVENT_FILTER_CHANGED})},t.prototype.toggleExpanded=function(){this.expanded?this.collapse():this.expand()},t.prototype.expand=function(){var n,e=this;if(!this.expanded){this.expanded=!0,b._.setAriaExpanded(this.eFilterToolPanelHeader,!0);var a=b._.loadTemplate('<div class="ag-filter-toolpanel-instance-filter"></div>'),s=null===(n=this.filterManager.getOrCreateFilterWrapper(this.column,"TOOLBAR"))||void 0===n?void 0:n.filterPromise;s&&s.then(function(g){e.underlyingFilter=g,g&&(a.appendChild(g.getGui()),e.agFilterToolPanelBody.appendChild(a),g.afterGuiAttached&&g.afterGuiAttached({container:"toolPanel"}))}),b._.setDisplayed(this.eExpandChecked,!0),b._.setDisplayed(this.eExpandUnchecked,!1)}},t.prototype.collapse=function(){!this.expanded||(this.expanded=!1,b._.setAriaExpanded(this.eFilterToolPanelHeader,!1),this.agFilterToolPanelBody.removeChild(this.agFilterToolPanelBody.children[0]),b._.setDisplayed(this.eExpandChecked,!1),b._.setDisplayed(this.eExpandUnchecked,!0))},t.prototype.refreshFilter=function(){if(this.expanded){var e=this.underlyingFilter;!e||"function"==typeof e.refreshVirtualList&&e.refreshVirtualList()}},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.column&&(!this.expanded||this.collapse())},t.TEMPLATE='\n        <div class="ag-filter-toolpanel-instance">\n            <div class="ag-filter-toolpanel-header ag-filter-toolpanel-instance-header" ref="eFilterToolPanelHeader" role="button" aria-expanded="false">\n                <div ref="eExpand" class="ag-filter-toolpanel-expand"></div>\n                <span ref="eFilterName" class="ag-header-cell-text"></span>\n                <span ref="eFilterIcon" class="ag-header-icon ag-filter-icon ag-filter-toolpanel-instance-header-icon" aria-hidden="true"></span>\n            </div>\n            <div class="ag-filter-toolpanel-instance-body ag-filter" ref="agFilterToolPanelBody"></div>\n        </div>',vo([b.RefSelector("eFilterToolPanelHeader")],t.prototype,"eFilterToolPanelHeader",void 0),vo([b.RefSelector("eFilterName")],t.prototype,"eFilterName",void 0),vo([b.RefSelector("agFilterToolPanelBody")],t.prototype,"agFilterToolPanelBody",void 0),vo([b.RefSelector("eFilterIcon")],t.prototype,"eFilterIcon",void 0),vo([b.RefSelector("eExpand")],t.prototype,"eExpand",void 0),vo([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),vo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),vo([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),mp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sh=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Js=function(l){function t(e,n,a,s,g){var y=l.call(this)||this;return y.columnGroup=e,y.childFilterComps=n,y.depth=s,y.expandedCallback=a,y.showingColumn=g,y}return mp(t,l),t.prototype.preConstruct=function(){this.setTemplate(t.TEMPLATE,{filterGroupComp:{cssIdentifier:"filter-toolpanel",direction:"vertical"}})},t.prototype.init=function(){var e=this;this.setGroupTitle(),this.filterGroupComp.setAlignItems("stretch"),this.filterGroupComp.addCssClass("ag-filter-toolpanel-group-level-"+this.depth),this.filterGroupComp.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+this.depth+"-header"),this.childFilterComps.forEach(function(n){e.filterGroupComp.addItem(n),n.addCssClassToTitleBar("ag-filter-toolpanel-group-level-"+(e.depth+1)+"-header")}),this.refreshFilterClass(),this.addExpandCollapseListeners(),this.addFilterChangedListeners(),this.setupTooltip()},t.prototype.setupTooltip=function(){var e=this;if(this.showingColumn){var n=function(){var a=e.columnGroup.getColDef().headerTooltip;e.setTooltip(a)};n(),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,n)}},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="filterToolPanelColumnGroup",e},t.prototype.addCssClassToTitleBar=function(e){this.filterGroupComp.addCssClassToTitleBar(e)},t.prototype.refreshFilters=function(){this.childFilterComps.forEach(function(e){e instanceof t?e.refreshFilters():e.refreshFilter()})},t.prototype.isColumnGroup=function(){return this.columnGroup instanceof b.ProvidedColumnGroup},t.prototype.isExpanded=function(){return this.filterGroupComp.isExpanded()},t.prototype.getChildren=function(){return this.childFilterComps},t.prototype.getFilterGroupName=function(){return this.filterGroupName?this.filterGroupName:""},t.prototype.getFilterGroupId=function(){return this.columnGroup.getId()},t.prototype.hideGroupItem=function(e,n){this.filterGroupComp.hideItem(e,n)},t.prototype.hideGroup=function(e){this.addOrRemoveCssClass("ag-hidden",e)},t.prototype.forEachToolPanelFilterChild=function(e){this.childFilterComps.forEach(function(n){n instanceof ji&&e(n)})},t.prototype.addExpandCollapseListeners=function(){var e=this,n=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.expand()})},a=this.isColumnGroup()?function(){return e.expandedCallback()}:function(){return e.forEachToolPanelFilterChild(function(s){return s.collapse()})};this.addManagedListener(this.filterGroupComp,b.AgGroupComponent.EVENT_EXPANDED,n),this.addManagedListener(this.filterGroupComp,b.AgGroupComponent.EVENT_COLLAPSED,a)},t.prototype.getColumns=function(){return this.columnGroup instanceof b.ProvidedColumnGroup?this.columnGroup.getLeafColumns():[this.columnGroup]},t.prototype.addFilterChangedListeners=function(){var e=this;this.getColumns().forEach(function(n){e.addManagedListener(n,b.Column.EVENT_FILTER_CHANGED,function(){return e.refreshFilterClass()})}),this.columnGroup instanceof b.ProvidedColumnGroup||this.addManagedListener(this.eventService,b.Events.EVENT_FILTER_OPENED,this.onFilterOpened.bind(this))},t.prototype.refreshFilterClass=function(){var e=this.getColumns();this.filterGroupComp.addOrRemoveCssClass("ag-has-filter",e.some(function(a){return a.isFilterActive()}))},t.prototype.onFilterOpened=function(e){"COLUMN_MENU"===e.source&&e.column===this.columnGroup&&(!this.isExpanded()||this.collapse())},t.prototype.expand=function(){this.filterGroupComp.toggleGroupExpand(!0)},t.prototype.collapse=function(){this.filterGroupComp.toggleGroupExpand(!1)},t.prototype.setGroupTitle=function(){this.filterGroupName=this.columnGroup instanceof b.ProvidedColumnGroup?this.getColumnGroupName(this.columnGroup):this.getColumnName(this.columnGroup),this.filterGroupComp.setTitle(this.filterGroupName||"")},t.prototype.getColumnGroupName=function(e){return this.columnModel.getDisplayNameForProvidedColumnGroup(null,e,"filterToolPanel")},t.prototype.getColumnName=function(e){return this.columnModel.getDisplayNameForColumn(e,"filterToolPanel",!1)},t.prototype.destroyFilters=function(){this.childFilterComps=this.destroyBeans(this.childFilterComps),b._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel-group-wrapper">\n            <ag-group-component ref="filterGroupComp"></ag-group-component>\n        </div>',Sh([b.RefSelector("filterGroupComp")],t.prototype,"filterGroupComp",void 0),Sh([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Sh([b.PreConstruct],t.prototype,"preConstruct",null),Sh([b.PostConstruct],t.prototype,"init",null),t}(b.Component),ke=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),It=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Rt=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.filterGroupComps=[],e}return ke(t,l),t.prototype.init=function(e){var n=this;this.initialised=!0;var a={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};b._.mergeDeep(a,e),this.params=a,this.params.suppressSyncLayoutWithGrid||this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,function(){return n.onColumnsChanged()}),this.addManagedListener(this.eventService,b.Events.EVENT_TOOL_PANEL_VISIBLE_CHANGED,function(s){"filters"===s.source&&n.refreshFilters()}),this.columnModel.isReady()&&this.onColumnsChanged()},t.prototype.onColumnsChanged=function(){var e=this.columnModel.isPivotMode();this.params.suppressSyncLayoutWithGrid||e?this.buildTreeFromProvidedColumnDefs():this.syncFilterLayout()},t.prototype.syncFilterLayout=function(){this.toolPanelColDefService.syncLayoutWithGrid(this.setFiltersLayout.bind(this))},t.prototype.buildTreeFromProvidedColumnDefs=function(){var e=this;this.destroyFilters();var n=this.columnModel.getPrimaryColumnTree();this.filterGroupComps=this.recursivelyAddComps(n,0);var a=this.filterGroupComps.length;a&&(this.filterGroupComps.forEach(function(s){return e.appendChild(s)}),this.setFirstAndLastVisible(0,a-1)),b._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.setFiltersLayout=function(e){var n=this;this.destroyFilters();var a=this.toolPanelColDefService.createColumnTree(e);this.filterGroupComps=this.recursivelyAddComps(a,0);var s=this.filterGroupComps.length;s&&(this.filterGroupComps.forEach(function(g){return n.appendChild(g)}),this.setFirstAndLastVisible(0,s-1)),b._.exists(this.searchFilterText)&&this.searchFilters(this.searchFilterText),this.fireExpandedEvent()},t.prototype.recursivelyAddComps=function(e,n){var a=this;return b._.flatten(e.map(function(s){if(s instanceof b.ProvidedColumnGroup)return b._.flatten(a.recursivelyAddFilterGroupComps(s,n));var g=s;if(!a.shouldDisplayFilter(g))return[];var _=new ji(0===n);if(a.getContext().createBean(_),_.setColumn(g),n>0)return _;var E=a.createBean(new Js(g,[_],a.onGroupExpanded.bind(a),n,!0));return E.addCssClassToTitleBar("ag-filter-toolpanel-header"),E.collapse(),E}))},t.prototype.recursivelyAddFilterGroupComps=function(e,n){if(this.filtersExistInChildren(e.getChildren())){var a=e.getColGroupDef();if(a&&a.suppressFiltersToolPanel)return[];var s=e.isPadding()?n:n+1,g=b._.flatten(this.recursivelyAddComps(e.getChildren(),s));if(e.isPadding())return g;var y=new Js(e,g,this.onGroupExpanded.bind(this),n,!1);return this.getContext().createBean(y),y.addCssClassToTitleBar("ag-filter-toolpanel-header"),[y]}},t.prototype.filtersExistInChildren=function(e){var n=this;return e.some(function(a){return a instanceof b.ProvidedColumnGroup?n.filtersExistInChildren(a.getChildren()):n.shouldDisplayFilter(a)})},t.prototype.shouldDisplayFilter=function(e){var n=e.getColDef()&&e.getColDef().suppressFiltersToolPanel;return e.isFilterAllowed()&&!n},t.prototype.refresh=function(){},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.expandFilterGroups=function(e,n){var a=[],s=function(y){var _=y.getFilterGroupId();(!n||b._.includes(n,_))&&(e&&y.isColumnGroup()?y.expand():y.collapse(),a.push(_)),y.getChildren().forEach(function(R){R instanceof Js&&s(R)})};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),n){var g=n.filter(function(y){return a.indexOf(y)<0});g.length>0&&console.warn("AG Grid: unable to find groups for these supplied groupIds:",g)}},t.prototype.expandFilters=function(e,n){var a=[],s=function(y){if(y instanceof Js){var _=!1;return y.getChildren().forEach(function(A){s(A)&&(e?(y.expand(),_=!0):y.isColumnGroup()||y.collapse())}),_}var E=y.getColumn().getColId(),R=!n||b._.includes(n,E);return R&&(e?y.expand():y.collapse(),a.push(E)),R};if(this.filterGroupComps.forEach(s),this.onGroupExpanded(),n){var g=n.filter(function(y){return a.indexOf(y)<0});g.length>0&&console.warn("AG Grid: unable to find columns for these supplied colIds:",g)}},t.prototype.onGroupExpanded=function(){this.fireExpandedEvent()},t.prototype.fireExpandedEvent=function(){var e=0,n=0,a=function(g){!g.isColumnGroup()||(g.isExpanded()?e++:n++,g.getChildren().forEach(function(y){y instanceof Js&&a(y)}))};this.filterGroupComps.forEach(a),this.dispatchEvent({type:"groupExpanded",state:e>0&&n>0?go.INDETERMINATE:n>0?go.COLLAPSED:go.EXPANDED})},t.prototype.performFilterSearch=function(e){this.searchFilterText=b._.exists(e)?e.toLowerCase():null,this.searchFilters(this.searchFilterText)},t.prototype.searchFilters=function(e){var s,g,n=function(y){return!b._.exists(e)||-1!==y.toLowerCase().indexOf(e)},a=function(y,_){if(!(y instanceof Js))return n(y.getColumnFilterName()||"");var E=y.getChildren(),R=n(y.getFilterGroupName()),A=_||R;if(A){y.hideGroup(!1);for(var T=0;T<E.length;T++)a(E[T],A),y.hideGroupItem(!1,T);return!0}var F=!1;return E.forEach(function(I,G){var j=a(I,_);y.hideGroupItem(!j,G),j&&(F=!0)}),y.hideGroup(!F),F};this.filterGroupComps.forEach(function(y,_){a(y,!1),void 0===s?y.containsCssClass("ag-hidden")||(s=_,g=_):!y.containsCssClass("ag-hidden")&&g!==_&&(g=_)}),this.setFirstAndLastVisible(s,g)},t.prototype.setFirstAndLastVisible=function(e,n){this.filterGroupComps.forEach(function(a,s){a.removeCssClass("ag-first-group-visible"),a.removeCssClass("ag-last-group-visible"),s===e&&a.addCssClass("ag-first-group-visible"),s===n&&a.addCssClass("ag-last-group-visible")})},t.prototype.refreshFilters=function(){this.filterGroupComps.forEach(function(e){return e.refreshFilters()})},t.prototype.destroyFilters=function(){this.filterGroupComps=this.destroyBeans(this.filterGroupComps),b._.clearElement(this.getGui())},t.prototype.destroy=function(){this.destroyFilters(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-list-panel"></div>',It([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),It([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),It([b.Autowired("toolPanelColDefService")],t.prototype,"toolPanelColDefService",void 0),It([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),t}(b.Component),ln=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ne=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},$u=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.initialised=!1,e.listenerDestroyFuncs=[],e}return ln(t,l),t.prototype.init=function(e){this.initialised&&(this.listenerDestroyFuncs.forEach(function(g){return g()}),this.listenerDestroyFuncs=[]),this.initialised=!0;var n={suppressExpandAll:!1,suppressFilterSearch:!1,suppressSyncLayoutWithGrid:!1,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()};b._.mergeDeep(n,e),this.params=n,this.filtersToolPanelHeaderPanel.init(this.params),this.filtersToolPanelListPanel.init(this.params),this.params.suppressExpandAll&&this.params.suppressFilterSearch&&this.filtersToolPanelHeaderPanel.setDisplayed(!1),this.listenerDestroyFuncs.push(this.addManagedListener(this.filtersToolPanelHeaderPanel,"expandAll",this.onExpandAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"collapseAll",this.onCollapseAll.bind(this)),this.addManagedListener(this.filtersToolPanelHeaderPanel,"searchChanged",this.onSearchChanged.bind(this)),this.addManagedListener(this.filtersToolPanelListPanel,"groupExpanded",this.onGroupExpanded.bind(this)))},t.prototype.setVisible=function(e){l.prototype.setDisplayed.call(this,e),e&&!this.initialised&&this.init(this.params)},t.prototype.onExpandAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!0)},t.prototype.onCollapseAll=function(){this.filtersToolPanelListPanel.expandFilterGroups(!1)},t.prototype.onSearchChanged=function(e){this.filtersToolPanelListPanel.performFilterSearch(e.searchText)},t.prototype.setFilterLayout=function(e){this.filtersToolPanelListPanel.setFiltersLayout(e)},t.prototype.onGroupExpanded=function(e){this.filtersToolPanelHeaderPanel.setExpandState(e.state)},t.prototype.expandFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!0,e)},t.prototype.collapseFilterGroups=function(e){this.filtersToolPanelListPanel.expandFilterGroups(!1,e)},t.prototype.expandFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!0,e)},t.prototype.collapseFilters=function(e){this.filtersToolPanelListPanel.expandFilters(!1,e)},t.prototype.syncLayoutWithGrid=function(){this.filtersToolPanelListPanel.syncFilterLayout()},t.prototype.refresh=function(){this.init(this.params)},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-filter-toolpanel">\n            <ag-filters-tool-panel-header ref="filtersToolPanelHeaderPanel"></ag-filters-tool-panel-header>\n            <ag-filters-tool-panel-list ref="filtersToolPanelListPanel"></ag-filters-tool-panel-list>\n         </div>',Ne([b.RefSelector("filtersToolPanelHeaderPanel")],t.prototype,"filtersToolPanelHeaderPanel",void 0),Ne([b.RefSelector("filtersToolPanelListPanel")],t.prototype,"filtersToolPanelListPanel",void 0),Ne([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ne([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(b.Component),wa={moduleName:b.ModuleNames.FiltersToolPanelModule,beans:[],agStackComponents:[{componentName:"AgFiltersToolPanelHeader",componentClass:YE},{componentName:"AgFiltersToolPanelList",componentClass:Rt}],userComponents:[{componentName:"agFiltersToolPanel",componentClass:$u}],dependantModules:[or,gn]},ls=function(){function l(t,e,n,a){this.x=t,this.y=e,this.width=n,this.height=a}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(t,e){void 0===e&&(e=l.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},l.noParams={},l}(),ql=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Cp=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},l.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),l.prototype.AxB=function(t,e,n){var a=ql(t,6),s=a[0],g=a[1],y=a[2],_=a[3],E=a[4],R=a[5],A=ql(e,6),T=A[0],F=A[1],I=A[2],G=A[3],j=A[4],U=A[5];(n=n||t)[0]=s*T+y*F,n[1]=g*T+_*F,n[2]=s*I+y*G,n[3]=g*I+_*G,n[4]=s*j+y*U+E,n[5]=g*j+_*U+R},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=ql(this.elements,6),e=t[0],n=t[1],a=t[2],s=t[3],g=t[4],y=t[5],_=1/(e*s-n*a);return new l([s*=_,-(n*=_),-(a*=_),e*=_,a*y-s*g,n*g-e*y])},l.prototype.inverseTo=function(t){var e=ql(this.elements,6),n=e[0],a=e[1],s=e[2],g=e[3],y=e[4],_=e[5],E=1/(n*g-a*s);return t.setElements([g*=E,-(a*=E),-(s*=E),n*=E,s*_-g*y,a*y-n*_]),this},l.prototype.invertSelf=function(){var t=this.elements,e=ql(t,6),n=e[0],a=e[1],s=e[2],g=e[3],y=e[4],_=e[5],E=1/(n*g-a*s);return n*=E,a*=E,s*=E,t[0]=g*=E,t[1]=-a,t[2]=-s,t[3]=n,t[4]=s*_-g*y,t[5]=a*y-n*_,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},l.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var F,I,a=this.elements,s=a[0],g=a[1],y=a[2],_=a[3],E=.5*t.width,R=.5*t.height,A=t.x+E,T=t.y+R;if(e){E-=e,R-=e;var G=Math.sqrt(s*s+y*y),j=Math.sqrt(g*g+_*_);F=Math.abs(E*s)+Math.abs(R*y)+Math.abs(G*e),I=Math.abs(E*g)+Math.abs(R*_)+Math.abs(j*e)}else F=Math.abs(E*s)+Math.abs(R*y),I=Math.abs(E*g)+Math.abs(R*_);return n||(n=new ls(0,0,0,0)),n.x=A*s+T*y+a[4]-F,n.y=A*g+T*_+a[5]-I,n.width=F+F,n.height=I+I,n},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return t?l.matrix.setElements(t instanceof l?t.elements:t):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function Cg(l){var t=l.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var Wo=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(Wo||(Wo={})),Wo))(),Tr=function(){function l(){this.id=Cg(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new Cp,this.inverseMatrix=new Cp,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.pointerEvents=Wo.All}return l.isNode=function(t){return!!t&&void 0!==t.matrix},l.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,a=0;a<n;a++)e[a]._setScene(t)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(t){this._parent=t},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(t){if(void 0===t&&(t=l.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,n=e.length,a=n,s=0;s<n;s++)a+=e[s].countChildren(t-1);return a},l.prototype.append=function(t){l.isNode(t)&&(t=[t]);for(var e=t.length,n=0;n<e;n++){var a=t[n];if(a.parent)throw new Error(a+" already belongs to another parent: "+a.parent+".");if(a.scene)throw new Error(a+" already belongs a scene: "+a.scene+".");if(this.childSet[a.id])throw new Error("Duplicate "+a.constructor.name+" node: "+a);this._children.push(a),this.childSet[a.id]=!0,a._setParent(this),a._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},l.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var a=this.children.indexOf(e);if(!(a>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(a,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(t,e){for(var n=Cp.flyweight(this.matrix),a=this.parent;a;)n.preMultiplySelf(a.matrix),a=a.parent;return n.invertSelf().transformPoint(t,e)},l.prototype.inverseTransformPoint=function(t,e){for(var n=Cp.flyweight(this.matrix),a=this.parent;a;)n.preMultiplySelf(a.matrix),a=a.parent;return n.transformPoint(t,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(t,e){return!1},l.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==Wo.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var a=n.length-1;a>=0;a--){var s=n[a].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var g,y,t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}([0,0],2),e=t[0],n=t[1],a=this.scalingX,s=this.scalingY;1===a&&1===s?(g=0,y=0):(g=null===this.scalingCenterX?e:this.scalingCenterX,y=null===this.scalingCenterY?n:this.scalingCenterY);var A,T,_=this.rotation,E=Math.cos(_),R=Math.sin(_);0===_?(A=0,T=0):(A=null===this.rotationCenterX?e:this.rotationCenterX,T=null===this.rotationCenterY?n:this.rotationCenterY);var F=this.translationX,I=this.translationY,G=g*(1-a)-A,j=y*(1-s)-T;this.dirtyTransform=!1,this.matrix.setElements([E*a,R*a,-R*s,E*s,E*G-R*j+A+F,R*G+E*j+T+I]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}(),us=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ie=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return us(t,l),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,n){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,a=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(g){if(g.visible){var y=g.computeBBox();if(y){if(!(g instanceof t)){g.dirtyTransform&&g.computeTransformMatrix();for(var _=Cp.flyweight(g.matrix),E=g.parent;E;)_.preMultiplySelf(E.matrix),E=E.parent;_.transformBBox(y,0,y)}var R=y.x,A=y.y;R<e&&(e=R),A<a&&(a=A),R+y.width>n&&(n=R+y.width),A+y.height>s&&(s=A+y.height)}}}),new ls(e,a,n-e,s-a)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.children,a=n.length;e.globalAlpha*=this.opacity;for(var s=0;s<a;s++){var g=n[s];g.visible&&(e.save(),g.render(e),e.restore())}},t.className="Group",t}(Tr);function cs(l,t){var e=Object.create(l);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var jo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_a=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return jo(t,l),t.createInstance=function(e){var n=Object.create(e);return n._setParent(void 0),n.id=e.id+"-Instance-"+String(++e.lastInstanceId),n},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,n=Object.getOwnPropertyNames(e),a=0,s=n.length;a<s;a++){var g=n[a];this[g]=e[g]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var n in e)this[n]=e[n]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,n=Object.getPrototypeOf(e);for(var a in e)e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&(this[a]=e[a])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,n,a){return null!=a?Math.floor(a)+Math.floor(n%1+a%1):Math.floor(n)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var n=this._lineDash;if(n!==e){if(n&&e&&n.length===e.length){for(var a=!0,s=e.length,g=0;g<s;g++)if(n[g]!==e[g]){a=!1;break}if(a)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var n=this._fillShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var n=this._strokeShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var n=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*n,e.shadowOffsetY=s.yOffset*n,e.shadowBlur=s.blur*n),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=a*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var g=this.strokeShadow;g&&g.enabled&&(e.shadowColor=g.color,e.shadowOffsetX=g.xOffset*n,e.shadowOffsetY=g.yOffset*n,e.shadowBlur=g.blur*n),e.stroke()}}},t.prototype.containsPoint=function(e,n){return this.isPointInPath(e,n)},t.defaultStyles=cs({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(Tr),Uo=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function wp(l,t,e,n,a,s,g,y){var _=(e-l)*(y-s)-(n-t)*(g-a);if(0===_)return null;var E=((g-a)*(t-s)-(l-a)*(y-s))/_,R=((e-l)*(t-s)-(n-t)*(l-a))/_;return E>=0&&E<=1&&R>=0&&R<=1?{x:l+E*(e-l),y:t+E*(n-t)}:null}function Lm(l,t,e,n,a,s,g,y,_,E,R,A){for(var T=[],F=E-A,I=R-_,G=_*(A-E)-E*(R-_),j=Ku(l,e,a,g),U=Ku(t,n,s,y),ae=function Xl(l,t,e,n){if(0===l)return function wg(l,t,e){if(0===l)return function iS(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}(t,e);var n=t*t-4*l*e,a=[];if(0===n){var s=-t/(2*l);s>=0&&s<=1&&a.push(s)}else if(n>0){var g=Math.sqrt(n),y=(-t-g)/(2*l),_=(-t+g)/(2*l);y>=0&&y<=1&&a.push(y),_>=0&&_<=1&&a.push(_)}return a}(t,e,n);var a=t/l,s=e/l,y=(3*s-a*a)/9,_=(9*a*s-n/l*27-2*a*a*a)/54,E=y*y*y+_*_,R=1/3,A=[];if(E>=0){var T=Math.sqrt(E),F=Uo(_+T)*Math.pow(Math.abs(_+T),R),I=Uo(_-T)*Math.pow(Math.abs(_-T),R),G=Math.abs(Math.sqrt(3)*(F-I)/2),j=-R*a+(F+I);if(j>=0&&j<=1&&A.push(j),0===G){var U=-R*a-(F+I)/2;U>=0&&U<=1&&A.push(U)}}else{var z=Math.acos(_/Math.sqrt(-y*y*y)),Y=R*a,J=2*Math.sqrt(-y),se=J*Math.cos(R*z)-Y,ae=J*Math.cos(R*(z+2*Math.PI))-Y,ce=J*Math.cos(R*(z+4*Math.PI))-Y;se>=0&&se<=1&&A.push(se),ae>=0&&ae<=1&&A.push(ae),ce>=0&&ce<=1&&A.push(ce)}return A}(F*j[0]+I*U[0],F*j[1]+I*U[1],F*j[2]+I*U[2],F*j[3]+I*U[3]+G),ce=0;ce<ae.length;ce++){var _e,pe=ae[ce],fe=pe*pe,we=pe*fe,Fe=j[0]*we+j[1]*fe+j[2]*pe+j[3],De=U[0]*we+U[1]*fe+U[2]*pe+U[3];(_e=_!==R?(Fe-_)/(R-_):(De-E)/(A-E))>=0&&_e<=1&&T.push({x:Fe,y:De})}return T}function Ku(l,t,e,n){return[3*t-l-3*e+n,3*l-6*t+3*e,-3*l+3*t,l]}var oS=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,n,a){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+a),this.lineTo(t,e+a),this.closePath()},l.prototype.arcTo=function(t,e,n,a,s,g,y){var _=this.xy;if(_){t<0&&(t=-t),e<0&&(e=-e);var E=_[0],R=_[1],A=(E-g)/2,T=(R-y)/2,F=Math.sin(n),I=Math.cos(n),G=I*A+F*T,j=-F*A+I*T,U=G/t,z=j/e,Y=U*U+z*z,J=(E+g)/2,se=(R+y)/2,ae=0,ce=0;Y>=1?(t*=Y=Math.sqrt(Y),e*=Y):(Y=Math.sqrt(1/Y-1),a===s&&(Y=-Y),J+=I*(ae=Y*t*z)-F*(ce=-Y*e*U),se+=F*ae+I*ce);var pe=Math.atan2((j-ce)/e,(G-ae)/t),fe=Math.atan2((-j-ce)/e,(-G-ae)/t)-pe;this.cubicArc(J,se,t,e,n,pe,pe+fe,1-s)}},l.cubicArc=function(t,e,n,a,s,g,y,_,E,R){if(R){var A=_;_=E,E=A}var T=e.length,F=.5522847498307935,I=Math.sin(_),G=Math.cos(_),j=Math.sin(y),U=Math.cos(y),z=Math.PI/2,Y=U*G*s-j*I*g,J=j*G*s+U*I*g,se=-U*I*s-j*G*g,ae=-j*I*s+U*G*g;for((E-=_)<0&&(E+=2*Math.PI),t.push("M"),e.push(Y+n,J+a);E>=z;){E-=z,t.push("C");var ce=se+n;e.push(Y+se*F+n,J+ae*F+a,Y*F+se+n,J*F+ae+a,Math.abs(ce)<1e-8?0:ce,ae+a),A=Y,Y=se,se=-A,A=J,J=ae,ae=-A}if(E){var pe=1.3333333333333333*Math.tan(E/4),fe=Math.sin(E),we=Math.cos(E),Fe=we+pe*fe,De=fe-pe*we;t.push("C"),ce=Y*we+se*fe+n,e.push(Y+se*pe+n,J+ae*pe+a,Y*Fe+se*De+n,J*Fe+ae*De+a,Math.abs(ce)<1e-8?0:ce,J*we+ae*fe+a)}if(R)for(var _e=T,Re=e.length-2;_e<Re;_e+=2,Re-=2)A=e[_e],e[_e]=e[Re],e[Re]=A,A=e[_e+1],e[_e+1]=e[Re+1],e[Re+1]=A},l.prototype.cubicArc=function(t,e,n,a,s,g,y,_){var E=this.commands,R=this.params,A=E.length;l.cubicArc(E,R,t,e,n,a,s,g,y,_);var T=R[R.length-2],F=R[R.length-1];this.xy?(E[A]="L",this.xy[0]=T,this.xy[1]=F):this.xy=[T,F]},l.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var a=[],s=n-2,g=0;g<s;g+=2)a.push((1-e)*t[g]+e*t[g+2],(1-e)*t[g+1]+e*t[g+3]);return this.deCasteljau(a,e)},l.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var a=1/e,s=a;s<=1;s+=a){var g=this.deCasteljau(t,s);this.lineTo(g[0],g[1])}},l.prototype.quadraticCurveTo=function(t,e,n,a){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+a)/3,n,a)},l.prototype.cubicCurveTo=function(t,e,n,a,s,g){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,a,s,g),this.xy[0]=s,this.xy[1]=g},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var n=this.commands,a=this.params,s=n.length,g=-1e4,y=-1e4,_=NaN,E=NaN,R=0,A=0,T=0,F=0,I=0;F<s;F++)switch(n[F]){case"M":isNaN(_)||wp(_,E,R,A,g,y,t,e)&&T++,_=R=a[I++],E=A=a[I++];break;case"L":wp(R,A,R=a[I++],A=a[I++],g,y,t,e)&&T++;break;case"C":T+=Lm(R,A,a[I++],a[I++],a[I++],a[I++],R=a[I++],A=a[I++],g,y,t,e).length;break;case"Z":isNaN(_)||wp(_,E,R,A,g,y,t,e)&&T++}return T%2==1},l.fromString=function(t){var e=new l;return e.setFromString(t),e},l.parseSvgPath=function(t){return t.trim().split(l.splitCommandsRe).map(function(e){var n=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}})},l.prettifySvgPath=function(t){return l.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(t){var a,s,g,y,_,e=this;function E(){_.match(l.quadraticCommandRe)||(g=a,y=s)}function R(){_.match(l.cubicCommandRe)||(g=a,y=s)}this.clear(),l.parseSvgPath(t).forEach(function(A){var T=A.params,F=T.length,I=0;switch(A.command){case"M":for(e.moveTo(a=T[I++],s=T[I++]);I<F;)e.lineTo(a=T[I++],s=T[I++]);break;case"m":for(e.moveTo(a+=T[I++],s+=T[I++]);I<F;)e.lineTo(a+=T[I++],s+=T[I++]);break;case"L":for(;I<F;)e.lineTo(a=T[I++],s=T[I++]);break;case"l":for(;I<F;)e.lineTo(a+=T[I++],s+=T[I++]);break;case"C":for(;I<F;)e.cubicCurveTo(T[I++],T[I++],g=T[I++],y=T[I++],a=T[I++],s=T[I++]);break;case"c":for(;I<F;)e.cubicCurveTo(a+T[I++],s+T[I++],g=a+T[I++],y=s+T[I++],a+=T[I++],s+=T[I++]);break;case"S":for(R();I<F;)e.cubicCurveTo(a+a-g,s+s-y,g=T[I++],y=T[I++],a=T[I++],s=T[I++]);break;case"s":for(R();I<F;)e.cubicCurveTo(a+a-g,s+s-y,g=a+T[I++],y=s+T[I++],a+=T[I++],s+=T[I++]);break;case"Q":for(;I<F;)e.quadraticCurveTo(g=T[I++],y=T[I++],a=T[I++],s=T[I++]);break;case"q":for(;I<F;)e.quadraticCurveTo(g=a+T[I++],y=s+T[I++],a+=T[I++],s+=T[I++]);break;case"T":for(E();I<F;)e.quadraticCurveTo(g=a+a-g,y=s+s-y,a=T[I++],s=T[I++]);break;case"t":for(E();I<F;)e.quadraticCurveTo(g=a+a-g,y=s+s-y,a+=T[I++],s+=T[I++]);break;case"A":for(;I<F;)e.arcTo(T[I++],T[I++],T[I++]*Math.PI/180,T[I++],T[I++],a=T[I++],s=T[I++]);break;case"a":for(;I<F;)e.arcTo(T[I++],T[I++],T[I++]*Math.PI/180,T[I++],T[I++],a+=T[I++],s+=T[I++]);break;case"Z":case"z":e.closePath();break;case"H":for(;I<F;)e.lineTo(a=T[I++],s);break;case"h":for(;I<F;)e.lineTo(a+=T[I++],s);break;case"V":for(;I<F;)e.lineTo(a,s=T[I++]);break;case"v":for(;I<F;)e.lineTo(a,s+=T[I++])}_=A.command})},l.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,a=[],s=0,g=0;s<n;s++)switch(t[s]){case"M":a.push("M"+e[g++]+","+e[g++]);break;case"L":a.push("L"+e[g++]+","+e[g++]);break;case"C":a.push("C"+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]);break;case"Z":a.push("Z")}return a.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var t=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var n,a,s,g,y,t=[],e=this.params,_=0;return this.commands.forEach(function(E){switch(E){case"M":n=[a=g=e[_++],s=y=e[_++]],t.push(n);break;case"L":var R=e[_++],A=e[_++];n.push((g+g+R)/3,(y+y+A)/3,(g+R+R)/3,(y+A+A)/3,g=R,y=A);break;case"C":n.push(e[_++],e[_++],e[_++],e[_++],g=e[_++],y=e[_++]);break;case"Z":n.push((g+g+a)/3,(y+y+s)/3,(g+a+a)/3,(y+s+s)/3,g=a,y=s)}}),t},l.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),zo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new oS,e._dirtyPath=!0,e._svgPath="",e}return zo(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n);return this.path.closedPath&&this.path.isPointInPath(a.x,a.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){var n=this.scene;this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),n.appendPath(this.path),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(_a),_p=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),el=function(l){function t(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return _p(t,l),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new ls(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.x1,a=this.y1,s=this.x2,g=this.y2;if(n===s){var y=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=y,s=y}else if(a===g){var _=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=_,g=_}e.beginPath(),e.moveTo(n,a),e.lineTo(s,g),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=cs(_a.defaultStyles,{fill:void 0,strokeWidth:1}),t}(_a),_g=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},ps=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach(function(a){void 0===n.get(a)&&n.set(a,e.push(a)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=_g(this._range,2),a=n[0],s=n[1],g=s<a;g&&(a=(t=_g([s,a],2))[0],s=t[1]);var y=(s-a)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(y=Math.floor(y)),a+=(s-a-y*(e-this._paddingInner))*this._align,this._bandwidth=y*(1-this._paddingInner),this._round&&(a=Math.round(a),this._bandwidth=Math.round(this._bandwidth));for(var _=[],E=0;E<e;E++)_.push(a+y*E);this.ordinalRange=g?_.reverse():_}},l}(),qu=function(){function l(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!Tr.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),bh=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([null==t?[]:t],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.appendFn=function(t){return this.select(function(e,n,a,s){return e.appendChild(t(e,n,a,s))})},l.prototype.select=function(t){for(var e=this.groups,n=e.length,a=[],s=0;s<n;s++)for(var g=e[s],y=g.length,_=a[s]=new Array(y),E=0;E<y;E++){var R=g[E];if(R){var A=t(R,R.datum,E,g);A&&(A.datum=R.datum),_[E]=A}}return new l(a,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(Tr.isNode(e))for(var n=e.children,a=n.length,s=0;s<a;s++){var g=n[s];if(g instanceof t)return g}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(Tr.isNode(e))for(var n=e.children,a=n.length,s=0;s<a;s++){var g=n[s];if(g.tag===t)return g}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(Tr.isNode(e))for(var a=e.children,s=a.length,g=0;g<s;g++){var y=a[g];y instanceof t&&n.push(y)}return n})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(Tr.isNode(e))for(var a=e.children,s=a.length,g=0;g<s;g++){var y=a[g];y.tag===t&&n.push(y)}return n})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],n=[],a=this.groups,s=a.length,g=0;g<s;g++)for(var y=a[g],_=y.length,E=0;E<_;E++){var R=y[E];R&&(e.push(t(R,R.datum,E,y)),n.push(R))}return new l(e,n)},l.prototype.each=function(t){for(var e=this.groups,n=e.length,a=0;a<n;a++)for(var s=e[a],g=s.length,y=0;y<g;y++){var _=s[y];_&&t(_,_.datum,y,s)}return this},l.prototype.remove=function(){return this.each(function(t){if(Tr.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,n=t.groups,a=e.length,g=Math.min(a,n.length),y=new Array(a),_=0;_<g;_++)for(var E=e[_],R=n[_],A=E.length,T=y[_]=new Array(A),F=0;F<A;F++)T[F]=E[F]||R[F]||void 0;for(;_<a;_++)y[_]=e[_];return new l(y,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var a=t[n],s=a.length,g=0;g<s;g++){var y=a[g];if(y)return y}return null},l.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(n,a,s,g){n[t]=e(n,a,s,g)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t=[];return this.each(function(e,n){return t.push(n)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var n=t;t=function(){return n}}for(var a=this.groups,s=this.parents,g=a.length,y=new Array(g),_=new Array(g),E=new Array(g),R=0;R<g;R++){var A=a[R],T=s[R];if(!T)throw new Error("Group #"+R+" has no parent: "+A);var F=A.length,I=t(T,T.datum,R,s),G=I.length,j=_[R]=new Array(G),U=y[R]=new Array(G),z=E[R]=new Array(F);e?this.bindKey(T,A,j,U,z,I,e):this.bindIndex(T,A,j,U,z,I);for(var Y=0,J=0;Y<G;Y++){var se=j[Y];if(se){Y>=J&&(J=Y+1);for(var ae=void 0;!(ae=U[J])&&J<G;)J++;se.next=ae||null}}}var ce=new l(y,s);return ce.enterGroups=_,ce.exitGroups=E,ce},l.prototype.bindIndex=function(t,e,n,a,s,g){for(var y=e.length,_=g.length,E=0;E<_;E++)(R=e[E])?(R.datum=g[E],a[E]=R):n[E]=new qu(t,g[E]);for(;E<y;E++){var R;(R=e[E])&&(s[E]=R)}},l.prototype.bindKey=function(t,e,n,a,s,g,y){for(var _=e.length,E=g.length,R=new Array(_),A={},T=0;T<_;T++)(F=e[T])&&((I=R[T]=l.keyPrefix+y(F,F.datum,T,e))in A?s[T]=F:A[I]=F);for(T=0;T<E;T++){var I;(F=A[I=l.keyPrefix+y(t,g[T],T,g)])?(a[T]=F,F.datum=g[T],A[I]=void 0):n[T]=new qu(t,g[T])}for(T=0;T<_;T++){var F;(F=e[T])&&A[R[T]]===F&&(s[T]=F)}},l.keyPrefix="$",l}(),Sa=function(){function l(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this._width=100,this._height=100,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var n=this.getDataURL("image/png"),a=this.document,s=a.createElement("a");s.href=n,s.download=t,s.style.display="none",a.body.appendChild(s),s.click(),a.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,a=n.element,s=n.context,g=n.pixelRatio;a.width=Math.round(t*g),a.height=Math.round(e*g),a.style.width=t+"px",a.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),l.measureText=function(t,e,n,a){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=n,s.textAlign=a,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var a=n.measureText(t);return{width:a.width,height:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var n=this.textSizeCache,a=n[e];if(a){var s=a[t];if(s)return s}else n[e]={};var g=this.svgText;g.style.font=e,g.textContent=t;var y=g.getBBox(),_={width:y.width,height:y.height};return n[e][t]=_,_},l.overrideScale=function(t,e){var n=0,a={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(g,y,_,E,R,A){this.$setTransform(g*e,y*e,_*e,E*e,R*e,A*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var s in a)a.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=a[s])},l.textSizeCache={},l}(),Dn=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Rr=function(){function l(t,e,n){var a=this;void 0===t&&(t=window.document),this.id=Cg(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,y=a.ctx,_=a.root,E=a.pendingSize;a.animationFrameId=0,E&&((s=a.canvas).resize.apply(s,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Dn(arguments[t]));return l}(E)),a.pendingSize=void 0),!_||_.visible?(y.clearRect(0,0,a.width,a.height),_&&(y.save(),_.visible&&_.render(y),y.restore()),a._frameIndex++,a.debug.renderFrameIndex&&(y.fillStyle="white",y.fillRect(0,0,40,15),y.fillStyle="black",y.fillText(a.frameIndex.toString(),2,10)),a.dirty=!1):a.dirty=!1},this.canvas=new Sa(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),l.prototype.download=function(t){this.canvas.download(t)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t&&!this._dirty&&(this.animationFrameId=requestAnimationFrame(this.render)),this._dirty=t},enumerable:!0,configurable:!0}),l.prototype.cancelRender=function(){this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0,this._dirty=!1)},Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),l.prototype.appendPath=function(t){var e=this.ctx,n=t.commands,a=t.params,s=n.length,g=0;e.beginPath();for(var y=0;y<s;y++)switch(n[y]){case"M":e.moveTo(a[g++],a[g++]);break;case"L":e.lineTo(a[g++],a[g++]);break;case"C":e.bezierCurveTo(a[g++],a[g++],a[g++],a[g++],a[g++],a[g++]);break;case"Z":e.closePath()}},Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),yo=function(){return yo=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},yo.apply(this,arguments)},Sp=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var a=this.allPropertyListeners,s=a.get(t);s||a.set(t,s=new Map),s.has(e)||s.set(e,new Set);var y=s.get(e);y&&y.add(n)},l.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var s=this.allPropertyListeners.get(t);if(s)if(e){var g=s.get(e);g&&(g.delete(n),g.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(t,e,n){var a=this,g=this.allPropertyListeners.get(t);g&&g.forEach(function(y,_){y.forEach(function(E){return _.call(E,{type:t,source:a,value:n,oldValue:e})})})},l.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var a=this.allEventListeners,s=a.get(t);s||a.set(t,s=new Map),s.has(e)||s.set(e,new Set);var y=s.get(e);y&&y.add(n)},l.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var s=this.allEventListeners.get(t);if(s)if(e){var g=s.get(e);g&&(g.delete(n),g.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach(function(a){var s=n.get(a);s&&s.forEach(function(g,y){g.forEach(function(_){return y.call(_,{type:a,source:e})})})})},l.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach(function(a,s){a.forEach(function(g){return s.call(g,yo(yo({},t),{source:e}))})})},l.privateKeyPrefix="_",l}();function mo(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return l.indexOf("debugger"),function(n,a){var s=Sp.privateKeyPrefix+a,g=s+"Events";n[a]||(l&&(n[g]=l),Object.defineProperty(n,a,{set:function(y){var _=this[s];if(y!==_||"object"==typeof y&&null!==y){this[s]=y,this.notifyPropertyListeners(a,_,y);var E=this[g];E&&this.notifyEventListeners(E)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var Pn=function(){function l(t,e,n,a){void 0===t&&(t=0),void 0===e&&(e=t),void 0===n&&(n=t),void 0===a&&(a=e),this.top=t,this.right=e,this.bottom=n,this.left=a}return l.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},l}();function Si(l){var t=typeof l;return"string"!==t&&"number"===t&&l-l<1}function rl(l){return l instanceof Date&&!isNaN(+l)}function nl(l){return"string"==typeof l}function Gm(l){return function Eh(l){return Si(l)||function Gr(l){return!!l&&l.hasOwnProperty("valueOf")&&Si(l.valueOf())}(l)}(l)||rl(l)}function $o(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}var Oh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},ds=function(){function l(t,e,n,a){void 0===a&&(a=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,a||0))}return l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(a){return parseInt(a,16)}).map(function(a){return a+16*a})}if(e.length>=3&&e.every(function(a){return a>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var n=Oh(e,4);return new l(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=Oh([NaN,NaN],2),n=e[0],a=e[1],s=0;s<t.length;s++){var g=t[s];if(n||"("!==g){if(")"===g){a=s;break}}else n=s}var y=n&&a&&t.substring(n+1,a);if(y){var _=y.split(","),E=[];for(s=0;s<_.length;s++){var R=_[s],A=parseFloat(R);if(isNaN(A))return;R.indexOf("%")>=0?(A=Math.max(0,Math.min(100,A)),A/=100):3===s?A=Math.max(0,Math.min(1,A)):(A=Math.max(0,Math.min(255,A)),A/=255),E.push(A)}return E}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,n,a){void 0===a&&(a=1);var s=l.HSBtoRGB(t,e,n);return new l(s[0],s[1],s[2],a)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,n){var a=Math.min(t,e,n),s=Math.max(t,e,n),y=NaN;if(a!==s){var _=s-a,E=(s-t)/_,R=(s-e)/_,A=(s-n)/_;y=t===s?A-R:e===s?2+E-A:4+R-E,(y/=6)<0&&(y+=1)}return[360*y,0!==s?(s-a)/s:0,s]},l.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var a=0,s=0,g=0;if(0===e)a=s=g=n;else{var y=6*(t-Math.floor(t)),_=y-Math.floor(y),E=n*(1-e),R=n*(1-e*_),A=n*(1-e*(1-_));switch(y>>0){case 0:a=n,s=A,g=E;break;case 1:a=R,s=n,g=E;break;case 2:a=E,s=n,g=A;break;case 3:a=E,s=R,g=n;break;case 4:a=A,s=E,g=n;break;case 5:a=n,s=E,g=R}}return[a,s,g]},l.prototype.derive=function(t,e,n,a){var s=l.RGBtoHSB(this.r,this.g,this.b),g=s[2];0==g&&n>1&&(g=.05);var y=((s[0]+t)%360+360)%360,_=Math.max(Math.min(s[1]*e,1),0);g=Math.max(Math.min(g*n,1),0);var E=Math.max(Math.min(this.a*a,1),0),R=l.HSBtoRGB(y,_,g);return R.push(E),l.fromArray(R)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function Vm(l,t){if("string"==typeof l)try{l=ds.fromString(l)}catch(g){l=ds.fromArray([0,0,0])}if("string"==typeof t)try{t=ds.fromString(t)}catch(g){t=ds.fromArray([0,0,0])}var e=$o(l.r,t.r),n=$o(l.g,t.g),a=$o(l.b,t.b),s=$o(l.a,t.a);return function(g){return ds.fromArray([e(g),n(g),a(g),s(g)]).toRgbaString()}}function Bm(l,t){var e=typeof t;if(null==t||"boolean"===e)return function(l){return function(){return l}}(t);if("number"===e)return $o(l,t);if("string"===e)try{return Vm(l,t=ds.fromString(t))}catch(a){}return t instanceof ds?Vm(l,t):t instanceof Date?function km(l,t){var e=new Date,n=+l,a=+t;return function(s){return e.setTime(n*(1-s)+a*s),e}}(l,t):Array.isArray(t)?function aS(l,t){var g,e=t?t.length:0,n=l?Math.min(e,l.length):0,a=new Array(n),s=new Array(e);for(g=0;g<n;++g)a[g]=Bm(l[g],t[g]);for(;g<e;++g)s[g]=t[g];return function(y){for(g=0;g<n;++g)s[g]=a[g](y);return s}}(l,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function Ql(l,t){var a,e={},n={};for(a in(null===l||"object"!=typeof l)&&(l={}),(null===t||"object"!=typeof t)&&(t={}),t)a in l?e[a]=Bm(l[a],t[a]):n[a]=t[a];return function(s){for(a in e)n[a]=e[a](s);return n}}(l,t):$o(l,t)}var hs=function(l){return l};function Rh(l){var t,e=l[0],n=l[l.length-1];return e>n&&(t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}([n,e],2),e=t[0],n=t[1]),function(a){return Math.max(e,Math.min(n,a))}}var il=function(){function l(){this.unknown=void 0,this._clamp=hs,this._domain=[0,1],this._range=[0,1],this.transform=hs,this.untransform=hs,this._interpolate=Bm,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==hs},set:function(t){this._clamp=t?Rh(this.domain):hs},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==hs&&(this._clamp=Rh(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(l){return function(){return l}}(isNaN(e)?NaN:.5)},l.prototype.bimap=function(t,e,n){var _,E,a=t[0],s=t[1],g=e[0],y=e[1];return s<a?(_=this.normalize(s,a),E=n(y,g)):(_=this.normalize(a,s),E=n(g,y)),function(R){return E(_(R))}},l.prototype.convert=function(t){return t=+t,isNaN(t)?this.unknown:(this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate)),this.output(this.transform(this._clamp(t))))},l.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),$o)),this._clamp(this.untransform(this.input(t)))},l}(),bp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();var ol=Math.sqrt(50),Op=Math.sqrt(10),fs=Math.sqrt(2);function Xu(l,t,e){var n=Math.abs(t-l)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=ol?a*=10:s>=Op?a*=5:s>=fs&&(a*=2),t<l?-a:a}function Qu(l,t,e){var n=(t-l)/Math.max(0,e),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=ol?10:s>=Op?5:s>=fs?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=ol?10:s>=Op?5:s>=fs?2:1)}var al,Rg,Dg,ec,XE=function(l){function t(e,n){var a=l.call(this)||this;if(n)for(var s=0,g=n.length;s<g;s++)a[s]=n[s];return a.fractionDigits=e,a}return bp(t,l),t}(Array),Hm={"":function Ui(l,t){var e=l.toPrecision(t);e:for(var n=e.length,a=1,s=-1,g=0;a<n;++a)switch(e[a]){case".":s=g=a;break;case"0":0===s&&(s=a),g=a;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(g+1):e},"%":function(l,t){return(100*l).toFixed(t)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:function jm(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,t){return l.toExponential(t)},f:function(l,t){return l.toFixed(t)},g:function(l,t){return l.toPrecision(t)},o:function(l){return Math.round(l).toString(8)},p:function(l,t){return Ph(100*l,t)},r:Ph,s:function Wm(l,t){void 0===t&&(t=0);var e=eu(l,t);if(!e)return String(l);var n=e[0],a=e[1],s=a-(al=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,g=n.length;if(s===g)return n;if(s>g)return n+new Array(s-g+1).join("0");if(s>0)return n.slice(0,s)+"."+n.slice(s);var y=eu(l,Math.max(0,t+s-1));return"0."+new Array(1-s).join("0")+y[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},Ko=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Jl=function l(t){t instanceof l?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},Eg=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,Zu=/(#\{(.*?)\})/g;function Ju(l){if(l instanceof Jl)return new Jl(l);var t=!1,e=l.replace(Zu,function(){return t||(l=arguments[2],t=!0),"#{}"}),n=Eg.exec(l);if(!n)throw new Error("Invalid format: "+l);return new Jl({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10],string:t?e:void 0})}function Ph(l,t){var e=eu(l,t);if(!e)return String(l);var n=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}function eu(l,t){var e=t?l.toExponential(t-1):l.toExponential(),n=e.indexOf("e");if(!(n<0)){var a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}}function tu(l){return l}function sl(l){var t=eu(Math.abs(l));return t?t[1]:NaN}!function tc(l){Rg=function nc(l){var t=void 0===l.grouping||void 0===l.thousands?tu:function Og(l,t){return function(e,n){for(var a=[],s=e.length,g=0,y=l[0],_=0;s>0&&y>0&&(_+y+1>n&&(y=Math.max(1,n-_)),a.push(e.substring(s-=y,s+y)),!((_+=y+1)>n));)y=l[g=(g+1)%l.length];return a.reverse().join(t)}}(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),n=void 0===l.currency?"":String(l.currency[1]),a=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?tu:function Um(l){return function(t){return t.replace(/[0-9]/g,function(e){return l[+e]})}}(Array.prototype.map.call(l.numerals,String)),g=void 0===l.percent?"%":String(l.percent),y=void 0===l.minus?"\u2212":String(l.minus),_=void 0===l.nan?"NaN":String(l.nan);function E(A){var T=Ju(A),F=T.fill,I=T.align,G=T.sign,j=T.symbol,U=T.zero,z=T.width,Y=T.comma,J=T.precision,se=T.trim,ae=T.type;"n"===ae?(Y=!0,ae="g"):Hm[ae]||(void 0===J&&(J=12),se=!0,ae="g"),(U||"0"===F&&"="===I)&&(U=!0,F="0",I="=");var ce="$"===j?e:"#"===j&&/[boxX]/.test(ae)?"0"+ae.toLowerCase():"",pe="$"===j?n:/[%p]/.test(ae)?g:"",fe=Hm[ae],we=/[defgprs%]/.test(ae);return J=void 0===J?6:/[gprs]/.test(ae)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J)),function Fe(De){var me,_e=ce,Re=pe;if("c"===ae)Re=fe(+De)+Re,me="";else{var he=+De,Ae=De<0||1/he<0;if(me=isNaN(he)?_:fe(Math.abs(he),J),se&&(me=function zm(l){e:for(var t=l.length,e=1,n=-1,a=0;e<t;++e)switch(l[e]){case".":n=a=e;break;case"0":0===n&&(n=e),a=e;break;default:if(!+l[e])break e;n>0&&(n=0)}return n>0?l.slice(0,n)+l.slice(a+1):l}(me)),Ae&&0==+me&&"+"!==G&&(Ae=!1),_e=(Ae?"("===G?G:y:"-"===G||"("===G?"":G)+_e,Re=("s"===ae?Ko[8+al/3]:"")+Re+(Ae&&"("===G?")":""),we)for(var Le=0,Ze=me.length;Le<Ze;Le++){var Be=me.charCodeAt(Le);if(48>Be||Be>57){Re=(46===Be?a+me.slice(Le+1):me.slice(Le))+Re,me=me.slice(0,Le);break}}}Y&&!U&&(me=t(me,1/0));var at=_e.length+me.length+Re.length,Ye=at<z?new Array(z-at+1).join(F):"";switch(Y&&U&&(me=t(Ye+me,Ye.length?z-Re.length:1/0),Ye=""),I){case"<":me=_e+me+Re+Ye;break;case"=":me=_e+Ye+me+Re;break;case"^":me=Ye.slice(0,at=Ye.length>>1)+_e+me+Re+Ye.slice(at);break;default:me=Ye+_e+me+Re}var dt=T.string;return dt?dt.replace(Zu,function(){return s(me)}):s(me)}}return{format:E,formatPrefix:function R(A,T){var F=Ju(A);F.type="f";var I=E(F),G=3*Math.max(-8,Math.min(8,Math.floor(sl(T)/3))),j=Math.pow(10,-G),U=Ko[8+G/3];return function(z){return I(j*+z)+U}}}}(l),Dg=Rg.format,ec=Rg.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var ru=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Th=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return ru(t,l),t.prototype.ticks=function(e){void 0===e&&(e=10);var n=this._domain;return function Ep(l,t,e){var n=Xu(l,t,e);return function bg(l,t,e){void 0===e&&(e=1);for(var n=Math.abs(e),a=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,s=Math.pow(10,a),g=Math.max(0,Math.ceil((t-l)/e))||0,y=new XE(a),_=0;_<g;_++)y[_]=Math.round((l+e*_)*s)/s;return y}(l=Math.ceil(l/n)*n,t=Math.floor(t/n)*n+n/2,n)}(n[0],n[n.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var _,n=this.domain,a=0,s=n.length-1,g=n[a],y=n[s];y<g&&(_=g,g=y,y=_,_=a,a=s,s=_),(_=Qu(g,y,e))>0?_=Qu(g=Math.floor(g/_)*_,y=Math.ceil(y/_)*_,e):_<0&&(_=Qu(g=Math.ceil(g*_)/_,y=Math.floor(y*_)/_,e)),_>0?(n[a]=Math.floor(g/_)*_,n[s]=Math.ceil(y/_)*_,this.domain=n):_<0&&(n[a]=Math.ceil(g*_)/_,n[s]=Math.floor(y*_)/_,this.domain=n)},t.prototype.tickFormat=function(e,n){var a=this.domain;return function Dh(l,t,e,n){var g,a=Xu(l,t,e),s=Ju(null==n?",f":n);switch(s.type){case"s":var y=Math.max(Math.abs(l),Math.abs(t));return null==s.precision&&!isNaN(g=function Rp(l,t){var e=Math.floor(sl(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-sl(Math.abs(l)))}(a,y))&&(s.precision=g),ec(s,y);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(g=function rc(l,t){return l=Math.abs(l),t=Math.abs(t)-l,Math.max(0,sl(t)-sl(l))+1}(a,Math.max(Math.abs(l),Math.abs(t))))&&(s.precision=g-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(g=function Pg(l){return Math.max(0,-sl(Math.abs(l)))}(a))&&(s.precision=g-2*+("%"===s.type))}return Dg(s)}(a[0],a[a.length-1],null==e?10:e,n)},t}(il),Tg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gs=new Date,_t=new Date,sS=function(){function l(t,e){this._floor=t,this._offset=e}return l.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},l.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},l.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),a=+t;return a-e.getTime()<n.getTime()-a?e:n},l.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},l.prototype.range=function(t,e,n){void 0===n&&(n=1);var s,a=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return a;do{s=new Date(+t),a.push(s),this._offset(t,n),this._floor(t)}while(s<t&&t<e);return a},l.prototype.filter=function(t){var e=this;return new l(function(s){if(s>=s)for(;e._floor(s),!t(s);)s.setTime(s.getTime()-1);return s},function(s,g){if(s>=s)if(g<0)for(;++g<=0;)do{e._offset(s,-1)}while(!t(s));else for(;--g>=0;)do{e._offset(s,1)}while(!t(s));return s})},l}(),St=function(l){function t(e,n,a,s){var g=l.call(this,e,n)||this;return g._count=a,g._field=s,g}return Tg(t,l),t.prototype.count=function(e,n){return gs.setTime(+e),_t.setTime(+n),this._floor(gs),this._floor(_t),Math.floor(this._count(gs,_t))},t.prototype.every=function(e){var a,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;a=this.filter(s?function(g){return s(g)%e==0}:function(g){return n.count(0,g)%e==0})}else a=this;return a},t}(sS),Ag=new St(function Dp(l){return l},function lS(l,t){l.setTime(l.getTime()+t)},function nu(l,t){return t.getTime()-l.getTime()}),kr=1e3,Co=6e4,Ea=60*Co,bi=24*Ea,xg=7*bi,Jr=30*bi,Pp=365*bi,zi=new St(function Tp(l){l.setTime(l.getTime()-l.getMilliseconds())},function Mg(l,t){l.setTime(l.getTime()+t*kr)},function Ap(l,t){return(t.getTime()-l.getTime())/kr}),Fg=new St(function Oa(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*kr)},function ic(l,t){l.setTime(l.getTime()+t*Co)},function oc(l,t){return(t.getTime()-l.getTime())/Co},function xp(l){return l.getMinutes()}),$m=new St(function uS(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*kr-l.getMinutes()*Co)},function cS(l,t){l.setTime(l.getTime()+t*Ea)},function QE(l,t){return(t.getTime()-l.getTime())/Ea},function ZE(l){return l.getHours()}),Mp=new St(function $i(l){l.setHours(0,0,0,0)},function Ig(l,t){l.setDate(l.getDate()+t)},function ac(l,t){var e=t.getTimezoneOffset()-l.getTimezoneOffset();return(t.getTime()-l.getTime()-e*Co)/bi},function Ng(l){return l.getDate()-1});function iu(l){return new St(function t(a){a.setDate(a.getDate()-(a.getDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setDate(a.getDate()+7*s)},function n(a,s){return(s.getTime()-a.getTime()-(s.getTimezoneOffset()-a.getTimezoneOffset())*Co)/xg})}var Km=iu(0),Lg=iu(1),Fp=(iu(2),iu(3),iu(4));iu(5),iu(6);var dS=new St(function eO(l){l.setDate(1),l.setHours(0,0,0,0)},function ou(l,t){l.setMonth(l.getMonth()+t)},function kg(l,t){return t.getMonth()-l.getMonth()+12*(t.getFullYear()-l.getFullYear())},function Ah(l){return l.getMonth()}),Ra=new St(function hS(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function fS(l,t){l.setFullYear(l.getFullYear()+t)},function qm(l,t){return t.getFullYear()-l.getFullYear()},function gS(l){return l.getFullYear()});var Np=new St(function Qm(l){l.setUTCHours(0,0,0,0)},function au(l,t){l.setUTCDate(l.getUTCDate()+t)},function xh(l,t){return(t.getTime()-l.getTime())/bi},function Ip(l){return l.getUTCDate()-1}),Lp=new St(function Da(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function Zm(l,t){l.setUTCFullYear(l.getUTCFullYear()+t)},function Mh(l,t){return t.getUTCFullYear()-l.getUTCFullYear()},function Pa(l){return l.getUTCFullYear()});function Ei(l){return new St(function t(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setUTCDate(a.getUTCDate()+7*s)},function n(a,s){return(s.getTime()-a.getTime())/xg})}var Jm=Ei(0),Gp=Ei(1),Vp=(Ei(2),Ei(3),Ei(4));function lc(l){if(l.y>=0&&l.y<100){var t=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return t.setFullYear(l.y),t}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function ll(l){if(l.y>=0&&l.y<100){var t=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return t.setUTCFullYear(l.y),t}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function Bp(l){for(var t={},e=0,n=l.length;e<n;e++)t[l[e].toLowerCase()]=e;return t}function Fh(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}Ei(5),Ei(6);var Bg,Se=/^\s*\d+/,tC=/^%/,vS=/[\\^$*+?|[\]().{}]/g,rC=function(l){return l.replace(vS,"\\$&")},Ke=function(l){return new RegExp("^(?:"+l.map(rC).join("|")+")","i")},Hp={"-":"",_:" ",0:"0"};function Zt(l,t,e){var n=l<0?"-":"",a=String(n?-l:l),s=a.length;return n+(s<e?new Array(e-s+1).join(t)+a:a)}!function Aa(l){Bg=function ul(l){var t=l.dateTime,e=l.date,n=l.time,a=l.periods,s=l.days,g=l.shortDays,y=l.months,_=l.shortMonths,E=Ke(a),R=Bp(a),A=Ke(s),T=Bp(s),F=Ke(g),I=Bp(g),G=Ke(y),j=Bp(y),U=Ke(_),z=Bp(_),Y={a:function he(Q){return g[Q.getDay()]},A:function Ae(Q){return s[Q.getDay()]},b:function dt(Q){return _[Q.getMonth()]},B:function et(Q){return y[Q.getMonth()]},c:void 0,d:at,e:at,f:function fe(Q,ie){return we(Q,ie)+"000"},H:function Re(Q,ie){return Zt(Q.getHours(),ie,2)},I:function _e(Q,ie){return Zt(Q.getHours()%12||12,ie,2)},j:function Ye(Q,ie){return Zt(1+Mp.count(Ra.floor(Q),Q),ie,3)},L:we,m:function yr(Q,ie){return Zt(Q.getMonth()+1,ie,2)},M:function De(Q,ie){return Zt(Q.getMinutes(),ie,2)},p:function me(Q){return a[Q.getHours()>=12?1:0]},Q:Iy,s:Ny,S:function Fe(Q,ie){return Zt(Q.getSeconds(),ie,2)},u:function ze(Q){var ie=Q.getDay();return 0===ie?7:ie},U:function rt(Q,ie){return Zt(Km.count(Ra.floor(Q),Q),ie,2)},V:function Le(Q,ie){var ue=Q.getDay();Q=ue>=4||0===ue?Fp.floor(Q):Fp.ceil(Q);var Z=Ra.floor(Q);return Zt(Fp.count(Z,Q)+(4===Z.getDay()?1:0),ie,2)},w:function Ze(Q){return Q.getDay()},W:function Be(Q,ie){return Zt(Lg.count(Ra.floor(Q),Q),ie,2)},x:void 0,X:void 0,y:function Sr(Q,ie){return Zt(Q.getFullYear()%100,ie,2)},Y:function pi(Q,ie){return Zt(Q.getFullYear()%1e4,ie,4)},Z:function mr(Q){var ie=Q.getTimezoneOffset();return(ie>0?"-":(ie*=-1,"+"))+Zt(Math.floor(ie/60),"0",2)+Zt(ie%60,"0",2)},"%":Fy},J={a:function uE(Q){return g[Q.getUTCDay()]},A:function y_(Q){return s[Q.getUTCDay()]},b:function jn(Q){return _[Q.getUTCMonth()]},B:function Ml(Q){return y[Q.getUTCMonth()]},c:void 0,d:tt,e:tt,f:function br(Q,ie){return Yr(Q,ie)+"000"},H:function Ls(Q,ie){return Zt(Q.getUTCHours(),ie,2)},I:function hi(Q,ie){return Zt(Q.getUTCHours()%12||12,ie,2)},j:function Kt(Q,ie){return Zt(1+Np.count(Lp.floor(Q),Q),ie,3)},L:Yr,m:function Ii(Q,ie){return Zt(Q.getUTCMonth()+1,ie,2)},M:function di(Q,ie){return Zt(Q.getUTCMinutes(),ie,2)},p:function xl(Q){return a[Q.getUTCHours()>=12?1:0]},Q:Iy,s:Ny,S:function xr(Q,ie){return Zt(Q.getUTCSeconds(),ie,2)},u:function Wf(Q){var ie=Q.getUTCDay();return 0===ie?7:ie},U:function zd(Q,ie){return Zt(Jm.count(Lp.floor(Q),Q),ie,2)},V:function cE(Q,ie){var ue=Q.getUTCDay();Q=ue>=4||0===ue?Vp.floor(Q):Vp.ceil(Q);var Z=Lp.floor(Q);return Zt(Vp.count(Z,Q)+(4===Z.getUTCDay()?1:0),ie,4)},w:function pE(Q){return Q.getUTCDay()},W:function xy(Q,ie){return Zt(Gp.count(Lp.floor(Q),Q),ie,2)},x:void 0,X:void 0,y:function m_(Q,ie){return Zt(Q.getUTCFullYear()%100,ie,2)},Y:function dE(Q,ie){return Zt(Q.getUTCFullYear()%1e4,ie,4)},Z:function My(){return"+0000"},"%":Fy},se={a:function OR(Q,ie,ue){var Z=F.exec(ie.slice(ue));return Z?(Q.w=I[Z[0].toLowerCase()],ue+Z[0].length):-1},A:function C_(Q,ie,ue){var Z=A.exec(ie.slice(ue));return Z?(Q.w=T[Z[0].toLowerCase()],ue+Z[0].length):-1},b:function RR(Q,ie,ue){var Z=U.exec(ie.slice(ue));return Z?(Q.m=z[Z[0].toLowerCase()],ue+Z[0].length):-1},B:function _E(Q,ie,ue){var Z=G.exec(ie.slice(ue));return Z?(Q.m=j[Z[0].toLowerCase()],ue+Z[0].length):-1},c:function __(Q,ie,ue){return pe(Q,t,ie,ue)},d:jf,e:jf,f:function Ly(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+6));return Z?(Q.L=Math.floor(parseFloat(Z[0])/1e3),ue+Z[0].length):-1},H:$d,I:$d,j:function vE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+3));return Z?(Q.m=0,Q.d=+Z[0],ue+Z[0].length):-1},L:function hE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+3));return Z?(Q.L=+Z[0],ue+Z[0].length):-1},m:function SE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.m=parseFloat(Z[0])-1,ue+Z[0].length):-1},M:function gE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.M=+Z[0],ue+Z[0].length):-1},p:function Gy(Q,ie,ue){var Z=E.exec(ie.slice(ue));return Z?(Q.p=R[Z[0].toLowerCase()],ue+Z[0].length):-1},Q:function bE(Q,ie,ue){var Z=Se.exec(ie.slice(ue));return Z?(Q.Q=+Z[0],ue+Z[0].length):-1},s:function EE(Q,ie,ue){var Z=Se.exec(ie.slice(ue));return Z?(Q.Q=1e3*+Z[0],ue+Z[0].length):-1},S:function fE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.S=+Z[0],ue+Z[0].length):-1},u:function yE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+1));return Z?(Q.u=+Z[0],ue+Z[0].length):-1},U:function mE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.U=+Z[0],ue+Z[0].length):-1},V:function CE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.V=+Z[0],ue+Z[0].length):-1},w:function w_(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+1));return Z?(Q.w=+Z[0],ue+Z[0].length):-1},W:function wE(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.W=+Z[0],ue+Z[0].length):-1},x:function ky(Q,ie,ue){return pe(Q,e,ie,ue)},X:function Vy(Q,ie,ue){return pe(Q,n,ie,ue)},y:function DR(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.y=+Z[0]+(+Z[0]>68?1900:2e3),ue+Z[0].length):-1},Y:function S_(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+4));return Z?(Q.y=+Z[0],ue+Z[0].length):-1},Z:function OE(Q,ie,ue){var Z=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(ie.slice(ue,ue+6));return Z?(Q.Z=Z[1]?0:-(Z[2]+(Z[3]||"00")),ue+Z[0].length):-1},"%":function RE(Q,ie,ue){var Z=tC.exec(ie.slice(ue,ue+1));return Z?ue+Z[0].length:-1}};function ae(Q,ie){return function(ue){var Z=Fh(1900);if(pe(Z,Q,ue+="",0)==ue.length){if("Q"in Z)return new Date(Z.Q);if("p"in Z&&(Z.H=Z.H%12+12*Z.p),"V"in Z){if(Z.V<1||Z.V>53)return;if("w"in Z||(Z.w=1),"Z"in Z){var dr=(ht=ll(Fh(Z.y))).getUTCDay();ht=dr>4||0===dr?Gp.ceil(ht):Gp.floor(ht),ht=Np.offset(ht,7*(Z.V-1)),Z.y=ht.getUTCFullYear(),Z.m=ht.getUTCMonth(),Z.d=ht.getUTCDate()+(Z.w+6)%7}else{var ht;dr=(ht=ie(Fh(Z.y))).getDay(),ht=dr>4||0===dr?Lg.ceil(ht):Lg.floor(ht),ht=Mp.offset(ht,7*(Z.V-1)),Z.y=ht.getFullYear(),Z.m=ht.getMonth(),Z.d=ht.getDate()+(Z.w+6)%7}}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),dr="Z"in Z?ll(Fh(Z.y)).getUTCDay():ie(Fh(Z.y)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+7*Z.W-(dr+5)%7:Z.w+7*Z.U-(dr+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,ll(Z)):ie(Z)}}}function ce(Q,ie){return function(ue){var Z=[],fi=Q.length,ht=-1,dr=0;for(ue instanceof Date||(ue=new Date(+ue));++ht<fi;)if(37===Q.charCodeAt(ht)){Z.push(Q.slice(dr,ht));var Fn=Q.charAt(++ht),aa=Hp[Fn];null!=aa?Fn=Q.charAt(++ht):aa="e"===Fn?" ":"0";var Gs=ie[Fn];Gs&&(Fn=Gs(ue,aa)),Z.push(Fn),dr=ht+1}return Z.push(Q.slice(dr,ht)),Z.join("")}}function pe(Q,ie,ue,Z){for(var fi=0,ht=ie.length,dr=ue.length;fi<ht;){if(Z>=dr)return-1;var Fn=ie.charCodeAt(fi++);if(37===Fn){var aa=ie.charAt(fi++),Gs=se[aa in Hp?ie.charAt(fi++):aa];if(!Gs||(Z=Gs(Q,ue,Z))<0)return-1}else if(Fn!=ue.charCodeAt(Z++))return-1}return Z}function we(Q,ie){return Zt(Q.getMilliseconds(),ie,3)}function at(Q,ie){return Zt(Q.getDate(),ie,2)}function Yr(Q,ie){return Zt(Q.getUTCMilliseconds(),ie,3)}function tt(Q,ie){return Zt(Q.getUTCDate(),ie,2)}function Fy(Q){return"%"}function Iy(Q){return Q.getTime()}function Ny(Q){return Math.floor(Q.getTime()/1e3)}function $d(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.H=+Z[0],ue+Z[0].length):-1}function jf(Q,ie,ue){var Z=Se.exec(ie.slice(ue,ue+2));return Z?(Q.d=+Z[0],ue+Z[0].length):-1}return Y.x=ce(e,Y),Y.X=ce(n,Y),Y.c=ce(t,Y),J.x=ce(e,J),J.X=ce(n,J),J.c=ce(t,J),{format:function(Q){var ie=ce(Q,Y);return ie.toString=function(){return Q},ie},parse:function(Q){var ie=ae(Q,lc);return ie.toString=function(){return Q},ie},utcFormat:function(Q){var ie=ce(Q,J);return ie.toString=function(){return Q},ie},utcParse:function(Q){var ie=ae(Q,ll);return ie.toString=function(){return Q},ie}}}(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var rO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),su=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Ih=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=Ra,e.month=dS,e.week=Km,e.day=Mp,e.hour=$m,e.minute=Fg,e.second=zi,e.millisecond=Ag,e.format=Bg.format,e.tickIntervals=[[e.second,1,kr],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,Co],[e.minute,5,5*Co],[e.minute,15,15*Co],[e.minute,30,30*Co],[e.hour,1,Ea],[e.hour,3,3*Ea],[e.hour,6,6*Ea],[e.hour,12,12*Ea],[e.day,1,bi],[e.day,2,2*bi],[e.week,1,xg],[e.month,1,Jr],[e.month,3,3*Jr],[e.year,1,Pp]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return rO(t,l),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,n,a,s){var g;if("number"==typeof e){var y=e,_=this.tickIntervals,E=Math.abs(a-n)/y,R=function sc(l,t,e,n,a){void 0===n&&(n=0),void 0===a&&(a=l.length);for(var s=function ot(l){return function(t,e){return function Xm(l,t){return l<t?-1:l>t?1:l>=t?0:NaN}(l(t),e)}}(e);n<a;){var g=n+a>>>1;s(l[g],t)<0?n=g+1:a=g}return n}(_,E,function(A){return A[2]});R===_.length?(s=Xu(n/Pp,a/Pp,y),e=this.year):R?(e=(g=su(_[E/_[R-1][2]<_[R][2]/E?R-1:R],2))[0],s=g[1]):(s=Math.max(Xu(n,a,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(t.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(n){return n instanceof Date?+n:+new Date(+n)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var n=l.prototype.getDomain.call(this),a=n[0],s=n[n.length-1],g=s<a;if(g){var y=a;a=s,s=y}var _=this.tickInterval(e,a,s),E=_?_.range(a,s+1):[];return g?E.reverse():E},t.prototype.tickFormat=function(e,n){return null==n?this.defaultTickFormat.bind(this):this.format(n)},t.prototype.nice=function(e){void 0===e&&(e=10);var n=l.prototype.getDomain.call(this),a=this.tickInterval(e,n[0],n[n.length-1]);a&&(this.domain=this._nice(n,a))},t.prototype._nice=function(e,n){var a,s,g=0,y=(e=e.slice()).length-1,_=e[g],E=e[y];return E<_&&(g=(a=su([y,g],2))[0],y=a[1],_=(s=su([E,_],2))[0],E=s[1]),e[g]=n.floor(_),e[y]=n.ceil(E),e},t}(il);function Zn(l){return l}function uc(l,t,e){for(var g,y,_,n=e||Zn,a=l.length,s=-1;++s<a;)if(t(g=l[s]))for(y=_=g;++s<a;)t(g=l[s])&&(y>g&&(y=g),_<g&&(_=g));return void 0===y||void 0===_?void 0:[n(y),n(_)]}var Wg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mS=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="category",e.stroke="rgb(204, 214, 235)",e.strokeWidth=1,e}return Wg(t,l),t}(Sp),Oi=function(l){function t(){var e=l.call(this)||this;e.id=Cg(e),e.seriesRect={x:0,y:0,width:0,height:0},e._context=void 0,e._container=void 0,e._data=void 0,e.padding=new Pn(3),e.xKey="x",e.yKey="y",e.dataType=void 0,e.xData=[],e.yData=[],e.min=void 0,e.max=void 0,e.yScale=new Th,e.axis=new mS,e.highlightStyle={size:6,fill:"yellow",stroke:"silver",strokeWidth:1},e._width=100,e._height=100,e.smallestInterval=void 0,e.layoutId=0,e.defaultDateFormatter=Bg.format("%m/%d/%y, %H:%M:%S"),e._onMouseMove=e.onMouseMove.bind(e),e._onMouseOut=e.onMouseOut.bind(e);var n=new Ie;e.rootGroup=n;var a=document.createElement("div");a.setAttribute("class","ag-sparkline-wrapper");var s=new Rr(document);if(e.scene=s,e.canvasElement=s.canvas.element,s.root=n,s.container=a,s.resize(e.width,e.height),e.seriesRect.width=e.width,e.seriesRect.height=e.height,-1===t.tooltipDocuments.indexOf(document)){var g=document.createElement("style");g.innerHTML="\n.ag-sparkline-tooltip-wrapper {\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n}\n\n.ag-sparkline-tooltip {\n    position: relative;\n    font: 12px arial,sans-serif;\n    border-radius: 2px;\n    box-shadow: 0 1px 3px rgb(0 0 0 / 20%), 0 1px 1px rgb(0 0 0 / 14%);\n    line-height: 1.7em;\n    overflow: hidden;\n    white-space: nowrap;\n    z-index: 99999;\n    background-color: rgb(255, 255, 255);\n    color: rgba(0,0,0, 0.67);\n}\n\n.ag-sparkline-tooltip-content {\n    padding: 0 7px;\n}\n\n.ag-sparkline-tooltip-title {\n    padding-left: 7px;\n}\n\n.ag-sparkline-tooltip-wrapper-hidden {\n    top: -10000px !important;\n}\n\n.ag-sparkline-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n",document.head.insertBefore(g,document.head.querySelector("style")),t.tooltipDocuments.push(document)}return e.setupDomEventListeners(e.scene.canvas.element),e}return Wg(t,l),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(e){this._context!==e&&(this._context=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var n=this.canvasElement.parentNode;null!=n&&n.removeChild(this.canvasElement),e&&e.appendChild(this.canvasElement),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data!==e&&(this._data=e,this.processData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.scene.resize(e,this.height),this.scheduleLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.scene.resize(this.width,e),this.scheduleLayout())},enumerable:!0,configurable:!0}),t.prototype.update=function(){},t.prototype.updateYScale=function(){this.updateYScaleRange(),this.updateYScaleDomain()},t.prototype.updateYScaleDomain=function(){},t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScale=function(){this.xScale=this.getXScale(this.axis.type),this.updateXScaleRange(),this.updateXScaleDomain()},t.prototype.updateXScaleRange=function(){this.xScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleDomain=function(){var s,n=this.xData,a=this.xScale;a instanceof Th?s=uc(n,Si):a instanceof Ih&&(s=uc(n,Gm)),this.xScale.domain=s?s.slice():n},t.prototype.getXScale=function(e){switch(void 0===e&&(e="category"),e){case"number":return new Th;case"time":return new Ih;default:return new ps}},t.prototype.updateAxisLine=function(){},t.prototype.updateAxes=function(){this.updateYScale(),this.updateXScale(),this.updateAxisLine()},t.prototype.updateCrosshairs=function(){this.updateXCrosshairLine(),this.updateYCrosshairLine()},t.prototype.generateNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.updateNodes=function(){},t.prototype.updateXCrosshairLine=function(){},t.prototype.updateYCrosshairLine=function(){},t.prototype.highlightDatum=function(e){this.updateNodes()},t.prototype.dehighlightDatum=function(){this.highlightedDatum=void 0,this.updateNodes(),this.updateCrosshairs()},t.prototype.onMouseMove=function(e){var n=this.pickClosestSeriesNodeDatum(e.offsetX,e.offsetY);if(n){var a=this.highlightedDatum;this.highlightedDatum=n,(this.highlightedDatum&&!a||this.highlightedDatum&&a&&this.highlightedDatum!==a)&&(this.highlightDatum(n),this.updateCrosshairs()),this.tooltip.enabled&&this.handleTooltip(e,n)}},t.prototype.onMouseOut=function(e){this.dehighlightDatum(),this.tooltip.toggle(!1)},t.prototype.processData=function(){var e=this,n=this,a=n.data,s=n.yData,g=n.xData;if(a&&!this.invalidData(this.data)){s.length=0,g.length=0;var y=a.length,_=this.getDataType(a);this.dataType=_;var F,E=this.axis.type,R="number"!==E&&"time"!==E?"category":E,A="number"===R||"time"===R,T=function(ce,pe){null==e.smallestInterval&&(e.smallestInterval={x:1/0,y:1/0});var fe=e.smallestInterval.x,we=Math.abs(ce-pe);we>0&&we<fe&&(e.smallestInterval.x=we)};if("number"===_)for(var I=0;I<y;I++){var j=a[I],U=this.getDatum(I,R),z=this.getDatum(j,"number");A&&T(U,F),g.push(U),s.push(z),F=U}else if("array"===_)for(I=0;I<y;I++){var Y=a[I];if(Array.isArray(Y)){if(j=Y[1],U=this.getDatum(Y[0],R),z=this.getDatum(j,"number"),null==U)continue;A&&T(U,F),g.push(U),s.push(z),F=U}}else if("object"===_){var se=this.yKey,ae=this.xKey;for(I=0;I<y;I++)if("object"==typeof(Y=a[I])&&!Array.isArray(Y)){if(j=Y[se],U=this.getDatum(Y[ae],R),z=this.getDatum(j,"number"),null==U)continue;A&&T(U,F),g.push(U),s.push(z),F=U}}this.updateAxes(),this.update()}},t.prototype.getDataType=function(e){var n,a;try{for(var s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),g=s.next();!g.done;g=s.next()){var y=g.value;if(null!=y){if(Si(y))return"number";if(Array.isArray(y))return"array";if("object"==typeof y)return"object"}}}catch(_){n={error:_}}finally{try{g&&!g.done&&(a=s.return)&&a.call(s)}finally{if(n)throw n.error}}},t.prototype.getDatum=function(e,n){if("number"===n&&Si(e)||"time"===n&&(Si(e)||rl(e)))return e;if("category"===n){if(nl(e)||rl(e)||Si(e))return{toString:function(){return String(e)}};if(function Sg(l){return!!l&&l.hasOwnProperty("toString")&&nl(l.toString())}(e))return e}},Object.defineProperty(t.prototype,"layoutScheduled",{get:function(){return!!this.layoutId},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){var e=this;this.layoutId&&cancelAnimationFrame(this.layoutId),this.layoutId=requestAnimationFrame(function(){e.setSparklineDimensions(),!e.invalidData(e.data)&&(e.updateXScaleRange(),e.updateYScaleRange(),e.updateAxisLine(),e.update(),e.layoutId=0)})},t.prototype.setSparklineDimensions=function(){var e=this,s=e.padding,g=e.seriesRect,y=e.rootGroup,E=e.height-s.top-s.bottom;g.width=e.width-s.left-s.right,g.height=E,g.x=s.left,g.y=s.top,y.translationX=g.x,y.translationY=g.y},t.prototype.pickClosestSeriesNodeDatum=function(e,n){for(var s,a=1/0,g=this.rootGroup.transformPoint(e,n),y=this.getNodeData(),_=0;_<y.length;_++){var E=y[_];if(!E.point)return;var R=this.getDistance(g,E.point);if(!(R<=a))return s;a=R,s=E}return s},t.prototype.getDistance=function(e,n){return Math.abs(e.x-n.x)},t.prototype.handleTooltip=function(e,n){var a=n.seriesDatum,g=e.clientX,y=e.clientY;null==this.tooltip.container&&(this.tooltip.container=this.canvasElement);var _={pageX:g,pageY:y},A=this.tooltip.enabled;if(this.tooltip.renderer){var T=this.tooltip.renderer({context:this.context,datum:a,yValue:a.y,xValue:a.x});A="string"!=typeof T&&void 0!==T.enabled?T.enabled:A}var F=A&&void 0!==a.y&&this.getTooltipHtml(n);F&&this.tooltip.show(_,F)},t.prototype.formatNumericDatum=function(e){return String(Math.round(10*e)/10)},t.prototype.formatDatum=function(e){var n=this.axis.type||"category";return"number"===n&&"number"==typeof e?this.formatNumericDatum(e):"time"===n&&(e instanceof Date||Si(e))?this.defaultDateFormatter(e):String(e)},t.prototype.setupDomEventListeners=function(e){e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseout",this._onMouseOut)},t.prototype.cleanupDomEventListeners=function(e){e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseout",this._onMouseOut)},t.prototype.invalidData=function(e){return!e||!Array.isArray(e)||0===e.length},t.prototype.destroy=function(){this.scene.container=void 0,this.container=void 0,this.cleanupDomEventListeners(this.scene.canvas.element)},t.tooltipDocuments=[],t}(Sp),nC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function lu(l,t){if("string"==typeof l)return l;t=t||{};var T,F,e=l.content,n=void 0===e?t.content||"":e,a=l.title,s=void 0===a?t.title||void 0:a,g=l.color,y=void 0===g?t.color:g,_=l.backgroundColor,E=void 0===_?t.backgroundColor:_,R=l.opacity,A=void 0===R?t.opacity||1:R;if(y?(T=s?'<span class="'+Jn.class+'-title"; style="color: '+y+'">'+s+"</span>":"",F='<span class="'+Jn.class+'-content" style="color: '+y+'">'+n+"</span>"):(T=s?'<span class="'+Jn.class+'-title">'+s+"</span>":"",F='<span class="'+Jn.class+'-content">'+n+"</span>"),E){var I=ds.fromString(E.toLowerCase()),se=ds.fromArray([I.r,I.g,I.b,A]).toRgbaString();return'<div class="'+Jn.class+'" style="background-color: '+se+'">\n                    '+T+"\n                    "+F+"\n                </div>"}return'<div class="'+Jn.class+'">\n                    '+T+"\n                    "+F+"\n                </div>"}var Jn=function(l){function t(){var e=l.call(this)||this;return e.element=document.createElement("div"),e.enabled=!0,e.container=void 0,e.xOffset=10,e.yOffset=0,e.renderer=void 0,document.body.appendChild(e.element),e}return nC(t,l),t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(t.class+"-wrapper-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(t.class+"-wrapper-hidden")<0},t.prototype.updateClass=function(e){var n=[t.class+"-wrapper"];!0!==e&&n.push(t.class+"-wrapper-hidden"),this.element.setAttribute("class",n.join(" "))},t.prototype.show=function(e,n){this.toggle(!1);var a=this.element;if(void 0!==n)a.innerHTML=n;else if(!a.innerHTML)return;var s=e.pageX+this.xOffset,g=e.pageY+this.yOffset,y=a.getBoundingClientRect(),_=window.innerWidth-y.width;if(this.container){var E=this.container.getBoundingClientRect();_=E.left+(E.width-y.width)}s>_&&(s=e.pageX-a.clientWidth-this.xOffset),a.style.left=Math.round(s)+"px",a.style.top=Math.round(g)+"px",this.toggle(!0)},t.prototype.toggle=function(e){this.updateClass(e)},t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element)},t.class="ag-sparkline-tooltip",t}(Sp),cc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=3,e}return cc(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t}(_a),nO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return nO(t,l),t.prototype.isPointInPath=function(e,n){return!1},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.x,s=n.y,y=n.size/2;e.beginPath(),e.arc(a,s,y,0,2*Math.PI,!1),this.fillStroke(e),this.dirty=!1},t.className="Circle",t}(uu),iO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oO=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return iO(t,l),t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.x,s=n.y,y=n.size/2;e.beginPath(),e.moveTo(a,s-=y),e.lineTo(a+=y,s+=y),e.lineTo(a-=y,s+=y),e.lineTo(a-=y,s-=y),e.lineTo(a+=y,s-=y),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Diamond",t}(uu),aO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iC=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return aO(t,l),t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.x,s=n.y,g=n.size,y=g/2;e.beginPath(),e.moveTo(a-=y,s-=y),e.lineTo(a+=g,s),e.lineTo(a,s+=g),e.lineTo(a-=g,s),e.lineTo(a,s-=g),e.closePath(),this.fillStroke(e),this.dirty=!1},t.className="Square",t}(uu);function oC(l){switch(l){case"circle":default:return CS;case"square":return iC;case"diamond":return oO}}function Nh(l,t){void 0===t&&(t="solid");var e={solid:[],dash:[4,3],dot:[1,3],dashDot:[4,3,1,3],dashDotDot:[4,3,1,3,1,3],shortDot:[1,1],shortDash:[3,1],shortDashDot:[3,1,1,1],shortDashDotDot:[3,1,1,1,1,1],longDash:[8,3],longDashDot:[8,3,1,3],longDashDotDot:[8,3,1,3,1,3]},n={solid:[],dash:[3,3],dot:[0,3],dashDot:[3,3,0,3],dashDotDot:[3,3,0,3,0,3],shortDot:[0,2],shortDash:[2,2],shortDashDot:[2,2,0,2],shortDashDotDot:[2,2,0,2,0,2],longDash:[7,3],longDashDot:[7,3,0,3],longDashDotDot:[7,3,0,3,0,3]};return"round"===l||"square"===l?null==n[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),n.solid):n[t]:null==e[t]?(console.warn("'"+t+"' is not a valid 'lineDash' option."),e.solid):e[t]}var wS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_S=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},sO=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},SS=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},Lh=function(l){function t(){var e=l.call(this)||this;return e.fill="rgba(124, 181, 236, 0.25)",e.strokePath=new Yu,e.fillPath=new Yu,e.xCrosshairLine=new el,e.yCrosshairLine=new el,e.areaSparklineGroup=new Ie,e.fillPathData=[],e.strokePathData=[],e.xAxisLine=new el,e.markers=new Ie,e.markerSelection=bh.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new _S,e.line=new sO,e.crosshairs=new SS,e.rootGroup.append(e.areaSparklineGroup),e.areaSparklineGroup.append([e.fillPath,e.xAxisLine,e.strokePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return wS(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();if(e){var n=e.nodeData,a=e.fillData,s=e.strokeData;this.markerSelectionData=n,this.fillPathData=a,this.strokePathData=s,this.updateSelection(n),this.updateNodes(),this.updateStroke(s),this.updateFill(a)}},t.prototype.updateYScaleDomain=function(){var a=this.yScale,s=uc(this.yData,Si),g=0,y=1;void 0!==s&&(g=this.min=s[0],y=this.max=s[1]),a.domain=[g=g<0?g:0,y=y<0?0:y]},t.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,g=e.xScale,y=e.yScale;if(e.data){for(var F,I,G,j,_=g instanceof ps?g.bandwidth/2:0,E=a.length,R=[],A=[],T=[],U=y.convert(0),z=0;z<E;z++){var Y=a[z],J=s[z],se=g.convert(J)+_,ae=y.convert(Y);z+1<E&&(j=g.convert(s[z+1])+_),T.push({seriesDatum:{x:J,y:Y},point:{x:se,y:ae}}),void 0===Y&&void 0!==G?(A.push({seriesDatum:void 0,point:{x:G,y:U}}),void 0!==j&&A.push({seriesDatum:void 0,point:{x:j,y:U}})):void 0!==Y&&(A.push({seriesDatum:{x:J,y:Y},point:{x:se,y:ae}}),R.push({seriesDatum:{x:J,y:Y},point:{x:se,y:ae}}),F=void 0!==F?F:se,I=se),G=se}return A.push({seriesDatum:void 0,point:{x:I,y:U}},{seriesDatum:void 0,point:{x:F,y:U}}),{nodeData:R,fillData:A,strokeData:T}}},t.prototype.updateAxisLine=function(){var e=this,n=e.xScale,a=e.yScale,s=e.axis,g=e.xAxisLine;g.x1=n.range[0],g.x2=n.range[1],g.y1=g.y2=0,g.stroke=s.stroke,g.strokeWidth=s.strokeWidth;var y=a.convert(0);g.translationY=y},t.prototype.updateSelection=function(e){var a=oC(this.marker.shape),s=this.markerSelection.setData(e),g=s.enter.append(a);s.exit.remove(),this.markerSelection=s.merge(g)},t.prototype.updateNodes=function(){var e=this,n=this,a=n.highlightedDatum,s=n.highlightStyle,g=n.marker,y=s.size,_=s.fill,E=s.stroke,R=s.strokeWidth,A=g.formatter;this.markerSelection.each(function(T,F,I){var G=F.point,j=F.seriesDatum;if(G){var ae,U=F===a,z=U&&void 0!==_?_:g.fill,Y=U&&void 0!==E?E:g.stroke,J=U&&void 0!==R?R:g.strokeWidth,se=U&&void 0!==y?y:g.size;A&&(ae=A({datum:F,xValue:j.x,yValue:j.y,min:j.y===e.min,max:j.y===e.max,first:0===I,last:I===e.markerSelectionData.length-1,fill:z,stroke:Y,strokeWidth:J,size:se,highlighted:U})),T.size=ae&&null!=ae.size?ae.size:se,T.fill=ae&&null!=ae.fill?ae.fill:z,T.stroke=ae&&null!=ae.stroke?ae.stroke:Y,T.strokeWidth=ae&&null!=ae.strokeWidth?ae.strokeWidth:J,T.translationX=G.x,T.translationY=G.y,T.visible=ae&&null!=ae.enabled?ae.enabled:g.enabled&&T.size>0}})},t.prototype.updateStroke=function(e){var n=this,a=n.strokePath,g=n.line;if(!(n.yData.length<2)){var y=a.path,_=e.length,E=!0;y.clear();for(var R=0;R<_;R++){var A=e[R],T=A.point,I=T.x,G=T.y;null==A.seriesDatum.y?E=!0:E?(y.moveTo(I,G),E=!1):y.lineTo(I,G)}a.lineJoin=a.lineCap="round",a.fill=void 0,a.stroke=g.stroke,a.strokeWidth=g.strokeWidth}},t.prototype.updateFill=function(e){var n=this,a=n.fillPath,s=n.yData,g=n.fill,y=a.path,_=e.length;if(y.clear(),!(s.length<2)){for(var E=0;E<_;E++){var R=e[E].point,A=R.x,T=R.y;E>0?y.lineTo(A,T):y.moveTo(A,T)}y.closePath(),a.lineJoin="round",a.stroke=void 0,a.fill=g}},t.prototype.updateXCrosshairLine=function(){var e=this,n=e.yScale,a=e.xCrosshairLine,s=e.highlightedDatum,g=e.crosshairs.xLine;if(g.enabled&&null!=s){a.y1=n.range[0],a.y2=n.range[1],a.x1=a.x2=0,a.stroke=g.stroke,a.strokeWidth=g.strokeWidth||1,a.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;a.lineDash=Array.isArray(y)?y:Nh(a.lineCap,g.lineDash),a.translationX=s.point.x}else a.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,n=e.xScale,a=e.yCrosshairLine,s=e.highlightedDatum,g=e.crosshairs.yLine;if(g.enabled&&null!=s){a.x1=n.range[0],a.x2=n.range[1],a.y1=a.y2=0,a.stroke=g.stroke,a.strokeWidth=g.strokeWidth||1,a.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;a.lineDash=Array.isArray(y)?y:Nh(a.lineCap,g.lineDash),a.translationY=s.point.y}else a.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var n=this.dataType,a=e.seriesDatum,s=a.y,g=a.x,E={content:this.formatNumericDatum(s),title:"array"===n||"object"===n?this.formatDatum(g):void 0};return this.tooltip.renderer?lu(this.tooltip.renderer({context:this.context,datum:a,yValue:s,xValue:g}),E):lu(E)},t.className="AreaSparkline",t}(Oi),aC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),wo=function l(){this.enabled=!0,this.shape="circle",this.size=0,this.fill="rgb(124, 181, 236)",this.stroke="rgb(124, 181, 236)",this.strokeWidth=1,this.formatter=void 0},bt=function l(){this.stroke="rgb(124, 181, 236)",this.strokeWidth=1},Gh=function l(){this.xLine={enabled:!0,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0},this.yLine={enabled:!1,stroke:"rgba(0,0,0, 0.54)",strokeWidth:1,lineDash:"solid",lineCap:void 0}},sC=function(l){function t(){var e=l.call(this)||this;return e.linePath=new Yu,e.xCrosshairLine=new el,e.yCrosshairLine=new el,e.lineSparklineGroup=new Ie,e.markers=new Ie,e.markerSelection=bh.select(e.markers).selectAll(),e.markerSelectionData=[],e.marker=new wo,e.line=new bt,e.crosshairs=new Gh,e.rootGroup.append(e.lineSparklineGroup),e.lineSparklineGroup.append([e.linePath,e.xCrosshairLine,e.yCrosshairLine,e.markers]),e}return aC(t,l),t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.scheduleLayout()},t.prototype.update=function(){var e=this.generateNodeData();!e||(this.markerSelectionData=e,this.updateSelection(e),this.updateNodes(),this.updateLine())},t.prototype.updateYScaleDomain=function(){var a=this.yScale,s=uc(this.yData,Si),g=0,y=1;if(void 0!==s&&(g=this.min=s[0],y=this.max=s[1]),g===y){var _=Math.abs(.01*g);g-=_,y+=_}a.domain=[g,y]},t.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,g=e.xScale,y=e.yScale;if(e.data){for(var _=g instanceof ps?g.bandwidth/2:0,E=[],R=0;R<a.length;R++){var A=a[R],T=s[R];if(null!=A){var F=g.convert(T)+_,I=y.convert(A);E.push({seriesDatum:{x:T,y:A},point:{x:F,y:I}})}}return E}},t.prototype.updateSelection=function(e){var a=oC(this.marker.shape),s=this.markerSelection.setData(e),g=s.enter.append(a);s.exit.remove(),this.markerSelection=s.merge(g)},t.prototype.updateNodes=function(){var e=this,n=this,a=n.highlightedDatum,s=n.highlightStyle,g=n.marker,y=s.size,_=s.fill,E=s.stroke,R=s.strokeWidth,A=g.formatter;this.markerSelection.each(function(T,F,I){var J,G=F===a,j=G&&void 0!==_?_:g.fill,U=G&&void 0!==E?E:g.stroke,z=G&&void 0!==R?R:g.strokeWidth,Y=G&&void 0!==y?y:g.size,se=F.seriesDatum,ae=F.point;A&&(J=A({datum:F,xValue:se.x,yValue:se.y,min:se.y===e.min,max:se.y===e.max,first:0===I,last:I===e.markerSelectionData.length-1,fill:j,stroke:U,strokeWidth:z,size:Y,highlighted:G})),T.size=J&&null!=J.size?J.size:Y,T.fill=J&&null!=J.fill?J.fill:j,T.stroke=J&&null!=J.stroke?J.stroke:U,T.strokeWidth=J&&null!=J.strokeWidth?J.strokeWidth:z,T.translationX=ae.x,T.translationY=ae.y,T.visible=J&&null!=J.enabled?J.enabled:g.enabled&&T.size>0})},t.prototype.updateLine=function(){var e=this,n=e.linePath,a=e.yData,s=e.xData,g=e.xScale,y=e.yScale,_=e.line;if(!(a.length<2)){var E=n.path,R=a.length,A=g instanceof ps?g.bandwidth/2:0,T=!0;E.clear();for(var F=0;F<R;F++){var G=a[F],j=g.convert(s[F])+A,U=y.convert(G);null==G?T=!0:T?(E.moveTo(j,U),T=!1):E.lineTo(j,U)}n.fill=void 0,n.stroke=_.stroke,n.strokeWidth=_.strokeWidth}},t.prototype.updateXCrosshairLine=function(){var e=this,n=e.yScale,a=e.xCrosshairLine,s=e.highlightedDatum,g=e.crosshairs.xLine;if(g.enabled&&null!=s){a.y1=n.range[0],a.y2=n.range[1],a.x1=a.x2=0,a.stroke=g.stroke,a.strokeWidth=g.strokeWidth||1,a.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;a.lineDash=Array.isArray(y)?y:Nh(a.lineCap,g.lineDash),a.translationX=s.point.x}else a.strokeWidth=0},t.prototype.updateYCrosshairLine=function(){var e=this,n=e.xScale,a=e.yCrosshairLine,s=e.highlightedDatum,g=e.crosshairs.yLine;if(g.enabled&&null!=s){a.x1=n.range[0],a.x2=n.range[1],a.y1=a.y2=0,a.stroke=g.stroke,a.strokeWidth=g.strokeWidth||1,a.lineCap="round"===g.lineCap||"square"===g.lineCap?g.lineCap:void 0;var y=g.lineDash;a.lineDash=Array.isArray(y)?y:Nh(a.lineCap,g.lineDash),a.translationY=s.point.y}else a.strokeWidth=0},t.prototype.getTooltipHtml=function(e){var n=this.dataType,a=e.seriesDatum,s=a.y,g=a.x,E={content:this.formatNumericDatum(s),title:"array"===n||"object"===n?this.formatDatum(g):void 0};return this.tooltip.renderer?lu(this.tooltip.renderer({context:this.context,datum:a,yValue:s,xValue:g}),E):lu(E)},t.className="LineSparkline",t}(Oi),lC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),lO=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=0,e._height=0,e._crisp=!1,e}return lC(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.x,s=n.y,g=n.width,y=n.height,_=n.crisp;if(e.beginPath(),_){var R=this.alignment,A=this.align;e.rect(A(R,a),A(R,s),A(R,a,g),A(R,s,y))}else e.rect(a,s,g,y);this.fillStroke(e),this.dirty=!1},t.className="Column",t}(_a),uO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function kh(l,t,e,n){return[e||"",n||"",l+"px",t].join(" ").trim()}!function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}uO(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var n=String(e);this._text!==n&&(this._text=n,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=kh(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Sa.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Sa.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new ls(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Sa.getTextSize(this.text,this.font),a=this.x,s=this.y;switch(this.textAlign){case"end":case"right":a-=e.width;break;case"center":a-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new ls(a,s,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n),s=this.computeBBox();return!!s&&s.containsPoint(a.x,a.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.fill,s=n.stroke,g=n.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,_=e.globalAlpha;if(a){e.fillStyle=a,e.globalAlpha=_*this.opacity*this.fillOpacity;var E=this,R=E.fillShadow,A=E.text,T=E.x,F=E.y;R&&R.enabled&&(e.shadowColor=R.color,e.shadowOffsetX=R.xOffset*y,e.shadowOffsetY=R.yOffset*y,e.shadowBlur=R.blur*y),e.fillText(A,T,F)}if(s&&g){e.strokeStyle=s,e.lineWidth=g,e.globalAlpha=_*this.opacity*this.strokeOpacity;var I=this,G=I.lineDash,j=I.lineDashOffset,U=I.lineCap,z=I.lineJoin,Y=I.strokeShadow;A=I.text,T=I.x,F=I.y,G&&e.setLineDash(G),j&&(e.lineDashOffset=j),U&&(e.lineCap=U),z&&(e.lineJoin=z),Y&&Y.enabled&&(e.shadowColor=Y.color,e.shadowOffsetX=Y.xOffset*y,e.shadowOffsetY=Y.yOffset*y,e.shadowBlur=Y.blur*y),e.strokeText(A,T,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=cs(_a.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"})}(_a);var jg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cl=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Ug=function(l){function t(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=8,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return jg(t,l),t.prototype.getFont=function(){return kh(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},cl([mo("change","dataChange")],t.prototype,"enabled",void 0),cl([mo("change")],t.prototype,"fontSize",void 0),cl([mo("change")],t.prototype,"fontFamily",void 0),cl([mo("change")],t.prototype,"fontStyle",void 0),cl([mo("change")],t.prototype,"fontWeight",void 0),cl([mo("change")],t.prototype,"color",void 0),t}(Sp),cO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),uC=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return cO(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var n=String(e);this._text!==n&&(this._text=n,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=function bS(l,t,e,n){return[e||"",n||"",l+"px",t].join(" ").trim()}(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return Sa.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=Sa.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new ls(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=Sa.getTextSize(this.text,this.font),a=this.x,s=this.y;switch(this.textAlign){case"end":case"right":a-=e.width;break;case"center":a-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new ls(a,s,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n),s=this.computeBBox();return!!s&&s.containsPoint(a.x,a.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.fill,s=n.stroke,g=n.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,_=e.globalAlpha;if(a){e.fillStyle=a,e.globalAlpha=_*this.opacity*this.fillOpacity;var E=this,R=E.fillShadow,A=E.text,T=E.x,F=E.y;R&&R.enabled&&(e.shadowColor=R.color,e.shadowOffsetX=R.xOffset*y,e.shadowOffsetY=R.yOffset*y,e.shadowBlur=R.blur*y),e.fillText(A,T,F)}if(s&&g){e.strokeStyle=s,e.lineWidth=g,e.globalAlpha=_*this.opacity*this.strokeOpacity;var I=this,G=I.lineDash,j=I.lineDashOffset,U=I.lineCap,z=I.lineJoin,Y=I.strokeShadow;A=I.text,T=I.x,F=I.y,G&&e.setLineDash(G),j&&(e.lineDashOffset=j),U&&(e.lineCap=U),z&&(e.lineJoin=z),Y&&Y.enabled&&(e.shadowColor=Y.color,e.shadowOffsetX=Y.xOffset*y,e.shadowOffsetY=Y.yOffset*y,e.shadowBlur=Y.blur*y),e.strokeText(A,T,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=cs(_a.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(_a),cC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vh=(()=>(function(l){l[l.Rect=0]="Rect",l[l.Label=1]="Label"}(Vh||(Vh={})),Vh))(),xa=(()=>(function(l){l.InsideBase="insideBase",l.InsideEnd="insideEnd",l.Center="center",l.OutsideEnd="outsideEnd"}(xa||(xa={})),xa))(),zg=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e.placement=xa.InsideEnd,e}return cC(t,l),t}(Ug),Wp=function(l){function t(){var e=l.call(this)||this;return e.fill="rgb(124, 181, 236)",e.stroke="silver",e.strokeWidth=0,e.paddingInner=.1,e.paddingOuter=.2,e.valueAxisDomain=void 0,e.formatter=void 0,e.axisLine=new el,e.bandWidth=0,e.sparklineGroup=new Ie,e.rectGroup=new Ie,e.labelGroup=new Ie,e.rectSelection=bh.select(e.rectGroup).selectAll(),e.labelSelection=bh.select(e.labelGroup).selectAll(),e.nodeSelectionData=[],e.label=new zg,e.rootGroup.append(e.sparklineGroup),e.sparklineGroup.append([e.rectGroup,e.axisLine,e.labelGroup]),e.axisLine.lineCap="round",e.label.enabled=!1,e}return cC(t,l),t.prototype.getNodeData=function(){return this.nodeSelectionData},t.prototype.update=function(){this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){var e=this.generateNodeData();!e||(this.nodeSelectionData=e,this.updateRectSelection(e),this.updateLabelSelection(e))},t.prototype.updateNodes=function(){this.updateRectNodes(),this.updateLabelNodes()},t.prototype.calculateStep=function(e){var n,a,s=this,g=s.xScale,y=s.paddingInner,_=s.paddingOuter,A=(g.domain[1]-g.domain[0])/(null!=(a=null===(n=s.smallestInterval)||void 0===n?void 0:n.x)?a:1)+1,F=Math.min(A,50);return e/Math.max(1,2*_+(F-1)*y+F)},t.prototype.updateYScaleDomain=function(){var e=this,n=e.yScale,s=e.valueAxisDomain,g=uc(e.yData,Si),y=0,_=1;void 0!==g&&(y=this.min=g[0],_=this.max=g[1]),y=y<0?y:0,_=_<0?0:_,s&&(s[1]<_&&(s[1]=_),s[0]>y&&(s[0]=y)),n.domain=s||[y,_]},t.prototype.updateRectSelection=function(e){var n=this.rectSelection.setData(e),a=n.enter.append(lO);n.exit.remove(),this.rectSelection=n.merge(a)},t.prototype.updateRectNodes=function(){var e=this,n=this,a=n.highlightedDatum,s=n.formatter,g=n.fill,y=n.stroke,_=n.strokeWidth,E=this.highlightStyle,R=E.fill,A=E.stroke,T=E.strokeWidth;this.rectSelection.each(function(F,I,G){var J,j=I===a,U=j&&void 0!==R?R:g,z=j&&void 0!==A?A:y,Y=j&&void 0!==T?T:_,se=I.x,ae=I.y,ce=I.width,pe=I.height,fe=I.seriesDatum;s&&(J=s({datum:I,xValue:fe.x,yValue:fe.y,width:ce,height:pe,min:fe.y===e.min,max:fe.y===e.max,first:0===G,last:G===e.nodeSelectionData.length-1,fill:U,stroke:z,strokeWidth:Y,highlighted:j})),F.fill=J&&J.fill||U,F.stroke=J&&J.stroke||z,F.strokeWidth=J&&J.strokeWidth||Y,F.x=F.y=0,F.width=ce,F.height=pe,F.visible=F.height>0,F.translationX=se,F.translationY=ae})},t.prototype.updateLabelSelection=function(e){var n=this.labelSelection.setData(e),a=n.enter.append(uC).each(function(s){s.tag=Vh.Label,s.pointerEvents=Wo.None});n.exit.remove(),this.labelSelection=n.merge(a)},t.prototype.updateLabelNodes=function(){var e=this.label,n=e.enabled,a=e.fontStyle,s=e.fontWeight,g=e.fontSize,y=e.fontFamily,_=e.color;this.labelSelection.each(function(E,R){var A=R.label;A&&n?(E.fontStyle=a,E.fontWeight=s,E.fontSize=g,E.fontFamily=y,E.textAlign=A.textAlign,E.textBaseline=A.textBaseline,E.text=A.text,E.x=A.x,E.y=A.y,E.fill=_,E.visible=!0):E.visible=!1})},t.prototype.getTooltipHtml=function(e){var n=this.dataType,a=e.seriesDatum,s=a.y,g=a.x,E={content:this.formatNumericDatum(s),title:"array"===n||"object"===n?this.formatDatum(g):void 0};return this.tooltip.renderer?lu(this.tooltip.renderer({context:this.context,datum:a,yValue:s,xValue:g}),E):lu(E)},t.prototype.formatLabelValue=function(e){return e.toFixed(e%1!=0?1:0)},t}(Oi),ES=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$g=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ES(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[0,this.seriesRect.width]},t.prototype.updateXScaleRange=function(){var e=this,n=e.xScale,a=e.seriesRect,s=e.paddingOuter,g=e.paddingInner;if(n instanceof ps)n.range=[0,a.height],n.paddingInner=g,n.paddingOuter=s;else{var y=this.calculateStep(a.height),_=y*s;this.bandWidth=y*(1-g),n.range=[_,a.height-_-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,n=e.yScale,a=e.axis,s=e.axisLine,g=e.seriesRect,y=a.strokeWidth;s.x1=0,s.x2=0,s.y1=0,s.y2=g.height,s.stroke=a.stroke,s.strokeWidth=y+(y%2==1?1:0);var _=n.convert(0);s.translationX=_},t.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,g=e.xScale,y=e.yScale,_=e.fill,E=e.stroke,R=e.strokeWidth,A=e.label;if(e.data){for(var T=A.fontStyle,F=A.fontWeight,I=A.fontSize,G=A.fontFamily,j=A.color,U=A.formatter,z=A.placement,Y=[],J=y.convert(0),se=0,ae=a.length;se<ae;se++){var ce=a[se],pe=s[se],fe=void 0===ce;fe&&(ce=0);var he,we=g.convert(pe),Fe=Math.min(y.convert(ce),J),De=Math.max(y.convert(ce),J),_e=g instanceof ps?g.bandwidth:this.bandWidth,Re=De-Fe,me={x:J,y:we};he=U?U({value:ce}):void 0!==ce&&Si(ce)?this.formatLabelValue(ce):"";var Ae=we+_e/2,ze=void 0,Le=void 0,Ze=void 0!==ce&&ce>=0;if(z===xa.Center)ze=Fe+Re/2,Le="center";else if(z===xa.OutsideEnd)ze=Fe+(Ze?Re+4:-4),Le=Ze?"start":"end";else if(z===xa.InsideEnd){ze=Fe+(Ze?Re-4:4),Le=Ze?"end":"start";var Ye=Sa.getTextSize(he,G).width||20;(Ze&&ze<J+Ye||!Ze&&ze>J-Ye)&&(ze=J+4*(Ze?1:-1),Le=Ze?"start":"end")}else ze=J+4*(Ze?1:-1),Le=Ze?"start":"end";Y.push({x:Fe,y:we,width:Re,height:_e,fill:_,stroke:E,strokeWidth:R,seriesDatum:{x:pe,y:fe?void 0:ce},point:me,label:{x:ze,y:Ae,text:he,fontStyle:T,fontWeight:F,fontSize:I,fontFamily:G,textAlign:Le,textBaseline:"middle",fill:j}})}return Y}},t.prototype.getDistance=function(e,n){return Math.abs(e.y-n.y)},t.className="BarSparkline",t}(Wp),OS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),en=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return OS(t,l),t.prototype.updateYScaleRange=function(){this.yScale.range=[this.seriesRect.height,0]},t.prototype.updateXScaleRange=function(){var e=this,n=e.xScale,a=e.seriesRect,s=e.paddingOuter,g=e.paddingInner;if(n instanceof ps)n.range=[0,a.width],n.paddingInner=g,n.paddingOuter=s;else{var y=this.calculateStep(a.width),_=y*s;this.bandWidth=y*(1-g),n.range=[_,a.width-_-this.bandWidth]}},t.prototype.updateAxisLine=function(){var e=this,n=e.yScale,a=e.axis,s=e.axisLine,g=e.seriesRect,y=a.strokeWidth;s.x1=0,s.x2=g.width,s.y1=0,s.y2=0,s.stroke=a.stroke,s.strokeWidth=y+(y%2==1?1:0);var _=n.convert(0);s.translationY=_},t.prototype.generateNodeData=function(){var e=this,a=e.yData,s=e.xData,g=e.xScale,y=e.yScale,_=e.fill,E=e.stroke,R=e.strokeWidth,A=e.label;if(e.data){for(var T=A.fontStyle,F=A.fontWeight,I=A.fontSize,G=A.fontFamily,j=A.color,U=A.formatter,z=A.placement,Y=[],J=y.convert(0),se=0,ae=a.length;se<ae;se++){var ce=a[se],pe=s[se],fe=void 0===ce;fe&&(ce=0);var he,we=Math.min(y.convert(ce),J),Fe=g.convert(pe),De=Math.max(y.convert(ce),J),_e=g instanceof ps?g.bandwidth:this.bandWidth,Re=De-we,me={x:Fe+_e/2,y:J};he=U?U({value:ce}):void 0!==ce&&Si(ce)?this.formatLabelValue(ce):"";var Ae=Fe+_e/2,ze=void 0,Le=void 0,Ze=void 0!==ce&&ce>=0;if(z===xa.Center)ze=we+Re/2,Le="middle";else if(z===xa.OutsideEnd)ze=we+(Ze?-2:Re+2),Le=Ze?"bottom":"top";else if(z===xa.InsideEnd){ze=we+(Ze?2:Re-2),Le=Ze?"top":"bottom";var Ye=Sa.getTextSize(he,G).height||10;(Ze&&ze>J-Ye||!Ze&&ze<J+Ye)&&(ze=J+2*(Ze?-1:1),Le=Ze?"bottom":"top")}else ze=J+2*(Ze?-1:1),Le=Ze?"bottom":"top";Y.push({x:Fe,y:we,width:_e,height:Re,fill:_,stroke:E,strokeWidth:R,seriesDatum:{x:pe,y:fe?void 0:ce},point:me,label:{x:Ae,y:ze,text:he,fontStyle:T,fontWeight:F,fontSize:I,fontFamily:G,textAlign:"center",textBaseline:Le,fill:j}})}return Y}},t.className="ColumnSparkline",t}(Wp),pl=function(){function l(){}return l.create=function(t,e){var n=function RS(l){switch(void 0===l&&(l="line"),l){case"column":return new en;case"bar":return new $g;case"area":return new Lh;default:return new sC}}((t=Object.create(t)).type);return e&&(n.tooltip=e),function pC(l,t){gt(l,"context",t.context,t),gt(l,"width",t.width,t),gt(l,"height",t.height,t),gt(l,"container",t.container,t),gt(l,"xKey",t.xKey,t),gt(l,"yKey",t.yKey,t),t.padding&&function PS(l,t){gt(l,"top",t.top,t),gt(l,"right",t.right,t),gt(l,"bottom",t.bottom,t),gt(l,"left",t.left,t)}(l.padding,t.padding),t.axis&&function jp(l,t){gt(l,"type",t.type,t),gt(l,"stroke",t.stroke,t),gt(l,"strokeWidth",t.strokeWidth,t)}(l.axis,t.axis),t.highlightStyle&&function tn(l,t){gt(l,"fill",t.fill,t),gt(l,"size",t.size,t),gt(l,"stroke",t.stroke,t),gt(l,"strokeWidth",t.strokeWidth,t)}(l.highlightStyle,t.highlightStyle),t.tooltip&&l.tooltip&&function Yg(l,t){gt(l,"enabled",t.enabled,t),gt(l,"container",t.container,t),gt(l,"xOffset",t.xOffset,t),gt(l,"yOffset",t.yOffset,t),gt(l,"renderer",t.renderer,t)}(l.tooltip,t.tooltip)}(n,t),function Kg(l,t){switch(t.type){case"bar":case"column":!function vs(l,t){gt(l,"valueAxisDomain",t.valueAxisDomain,t),gt(l,"fill",t.fill,t),gt(l,"stroke",t.stroke,t),gt(l,"strokeWidth",t.strokeWidth,t),gt(l,"paddingInner",t.paddingInner,t),gt(l,"paddingOuter",t.paddingOuter,t),gt(l,"formatter",t.formatter,t),t.label&&function pO(l,t){gt(l,"enabled",t.enabled,t),gt(l,"fontStyle",t.fontStyle,t),gt(l,"fontWeight",t.fontWeight,t),gt(l,"fontSize",t.fontSize,t),gt(l,"fontFamily",t.fontFamily,t),gt(l,"textAlign",t.textAlign,t),gt(l,"textBaseline",t.textBaseline,t),gt(l,"color",t.color,t),gt(l,"formatter",t.formatter,t),gt(l,"placement",t.placement,t)}(l.label,t.label)}(l,t);break;case"area":!function DS(l,t){gt(l,"fill",t.fill,t),t.marker&&Ri(l.marker,t.marker),t.line&&TS(l.line,t.line),t.crosshairs&&qg(l.crosshairs,t.crosshairs)}(l,t);break;default:!function ei(l,t){t.marker&&Ri(l.marker,t.marker),t.line&&TS(l.line,t.line),t.crosshairs&&qg(l.crosshairs,t.crosshairs)}(l,t)}}(n,t),t.data&&(n.data=t.data),n},l}();function Ri(l,t){gt(l,"enabled",t.enabled,t),gt(l,"size",t.size,t),gt(l,"shape",t.shape,t),gt(l,"fill",t.fill,t),gt(l,"stroke",t.stroke,t),gt(l,"strokeWidth",t.strokeWidth,t),gt(l,"formatter",t.formatter,t)}function TS(l,t){gt(l,"stroke",t.stroke,t),gt(l,"strokeWidth",t.strokeWidth,t)}function qg(l,t){l.xLine&&t.xLine&&Bh(l.xLine,t.xLine),l.yLine&&t.yLine&&Bh(l.yLine,t.yLine)}function Bh(l,t){gt(l,"enabled",t.enabled,t),gt(l,"stroke",t.stroke,t),gt(l,"strokeWidth",t.strokeWidth,t),gt(l,"lineDash",t.lineDash,t),gt(l,"lineCap",t.lineCap,t)}var Tn={},zp=function(l,t,e){if(Si(t))return!0;var n="AG Charts: "+l+" must be a number, the value you provided is not a valid number. Using the default of "+e+"px.";return function Up(l,t){Tn[t]||(l(),Tn[t]=!0)}(function(){return console.warn(n)},l+" not a number"),!1},AS={xOffset:zp,yOffset:zp};function gt(l,t,e,n){if(t in n)if(t in l){var a=AS[t];(!a||a(t,e,l[t]))&&l[t]!==e&&(l[t]=e)}else console.warn("Property "+t+" does not exist on the target object.")}var Xg=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qg=function(){return Qg=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Qg.apply(this,arguments)},Hh=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Zg=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return Xg(t,l),t.prototype.init=function(e){var n=this,a=!0,g=this.resizeObserverService.observeResize(this.getGui(),function(){var y=n.getGui(),_=y.clientWidth,E=y.clientHeight;if(0!==_&&0!==E)if(a){var R=Qg({data:e.value,width:_,height:E,context:{data:e.data}},e.sparklineOptions);n.sparkline=pl.create(R,n.sparklineTooltipSingleton.getSparklineTooltip()),n.eSparkline.appendChild(n.sparkline.canvasElement),a=!1}else n.sparkline.width=_,n.sparkline.height=E});this.addDestroyFunc(function(){return g()})},t.prototype.refresh=function(e){return!!this.sparkline&&(this.sparkline.data=e.value,!0)},t.prototype.destroy=function(){this.sparkline&&this.sparkline.destroy(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-sparkline-wrapper">\n            <span ref="eSparkline"></span>\n        </div>',Hh([b.RefSelector("eSparkline")],t.prototype,"eSparkline",void 0),Hh([b.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),Hh([b.Autowired("sparklineTooltipSingleton")],t.prototype,"sparklineTooltipSingleton",void 0),t}(b.Component),dC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Jg=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},hC=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return dC(t,l),t.prototype.postConstruct=function(){this.tooltip=new Jn},t.prototype.getSparklineTooltip=function(){return this.tooltip},t.prototype.destroyTooltip=function(){this.tooltip&&this.tooltip.destroy()},Jg([b.PostConstruct],t.prototype,"postConstruct",null),Jg([b.PreDestroy],t.prototype,"destroyTooltip",null),Jg([b.Bean("sparklineTooltipSingleton")],t)}(b.BeanStub),$p={moduleName:b.ModuleNames.SparklinesModule,beans:[hC],userComponents:[{componentName:"agSparklineCellRenderer",componentClass:Zg}],dependantModules:[gn]},xS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_o=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ev=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return xS(t,l),t.prototype.getData=function(e){if(e.crossFiltering){if(e.grouping)return console.warn("AG Grid: crossing filtering with row grouping is not supported."),{chartData:[],columnNames:{}};if(!this.gridOptionsWrapper.isRowModelDefault())return console.warn("AG Grid: crossing filtering is only supported in the client side row model."),{chartData:[],columnNames:{}}}this.gridOptionsWrapper.isRowModelServerSide()&&e.pivoting&&this.updatePivotKeysForSSRM();var a=this.extractRowsFromGridRowModel(e);return a.chartData=this.aggregateRowsByDimension(e,a.chartData),a},t.prototype.extractRowsFromGridRowModel=function(e){var R,n=this,a=[],s={},g={},y={},_={},E=[];if(e.crossFiltering)_=this.getFilteredRowNodes(),R=(E=this.getAllRowNodes()).length;else{var A=this.gridRowModel.getRowCount()-1;R=(e.endRow>=0?Math.min(e.endRow,A):A)-e.startRow+1}for(var F=function(z){var Y={},J=e.crossFiltering?E[z]:I.gridRowModel.getRow(z+e.startRow);e.dimensionCols.forEach(function(se){var ae=se.colId,ce=n.columnModel.getGridColumn(ae);if(ce){var pe=n.valueService.getValue(ce,J);if(e.grouping){var fe=pe&&pe.toString?String(pe.toString()):"",we=t.getGroupLabels(J,fe);Y[ae]={labels:we,toString:function(){return this.labels.filter(function(De){return!!De}).reverse().join(" - ")}},J.group&&(g[we.toString()]=z);var Fe=we.slice(1,we.length).toString();Fe&&(y[Fe]=g[Fe])}else Y[ae]=pe}else Y[Yp.DEFAULT_CATEGORY]=z+1}),e.valueCols.forEach(function(se){var ae=[],ce=se.getColDef().pivotKeys;ce&&(ae=ce.slice());var pe=se.getColDef().headerName;pe&&ae.push(pe),ae.length>0&&(s[se.getId()]=ae);var fe=se.getColId();if(e.crossFiltering){var we=fe+"-filtered-out",De=null!=(Fe=n.valueService.getValue(se,J))&&"function"==typeof Fe.toNumber?Fe.toNumber():Fe;_[J.id]?(Y[fe]=De,Y[we]=e.aggFunc||e.isScatter?void 0:0):(Y[fe]=e.aggFunc||e.isScatter?void 0:0,Y[we]=De)}else{var Fe=n.valueService.getValue(se,J);Y[fe]=null!=Fe&&"function"==typeof Fe.toNumber?Fe.toNumber():Fe}}),J.footer&&(Y.footer=!0),a.push(Y)},I=this,G=0;G<R;G++)F(G);if(e.grouping){var j=b._.values(y);a=a.filter(function(z,Y){return!z.footer&&!b._.includes(j,Y)})}return{chartData:a,columnNames:s}},t.prototype.aggregateRowsByDimension=function(e,n){var a=this,s=e.dimensionCols;if(!e.aggFunc||0===s.length)return n;var g=b._.last(s),y=g&&g.colId,_={},E=[];return n.forEach(function(R){var A=_;s.forEach(function(T){var F=T.colId,I=R[F];if(F===y){var G=A[I];G||(G={__children:[]},s.forEach(function(j){var U=j.colId;G[U]=R[U]}),A[I]=G,E.push(G)),G.__children.push(R)}else A[I]||(A[I]={}),A=A[I]})}),b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Charting Aggregation")&&E.forEach(function(R){return e.valueCols.forEach(function(A){if(e.crossFiltering)e.valueCols.forEach(function(I){var G=R.__children.filter(function(J){return void 0!==J[I.getColId()]}).map(function(J){return J[I.getColId()]}),j=a.aggregationStage.aggregateValues(G,e.aggFunc);R[I.getId()]=j&&void 0!==j.value?j.value:j;var U=I.getId()+"-filtered-out",z=R.__children.filter(function(J){return void 0!==J[U]}).map(function(J){return J[U]}),Y=a.aggregationStage.aggregateValues(z,e.aggFunc);R[U]=Y&&void 0!==Y.value?Y.value:Y});else{var T=R.__children.map(function(I){return I[A.getId()]}),F=0;b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Charting Aggregation")&&(F=a.aggregationStage.aggregateValues(T,e.aggFunc)),R[A.getId()]=F&&void 0!==F.value?F.value:F}})}),E},t.prototype.updatePivotKeysForSSRM=function(){var e=this.columnModel.getSecondaryColumns();if(e){var n=this.extractPivotKeySeparator(e);e.forEach(function(a){var s=a.getColId().split(n);a.getColDef().pivotKeys=s.slice(0,s.length-1)})}},t.prototype.extractPivotKeySeparator=function(e){if(0===e.length)return"";var n=function(s,g){var y=s.getGroupId();return s.getParent()?n(s.getParent(),y):g.split(y)[1][0]},a=e[0];return n(a.getParent(),a.getColId())},t.getGroupLabels=function(e,n){for(var a=[n];e&&0!==e.level;)(e=e.parent)&&a.push(e.key);return a},t.prototype.getFilteredRowNodes=function(){var e={};return this.gridRowModel.forEachNodeAfterFilterAndSort(function(n){e[n.id]=n}),e},t.prototype.getAllRowNodes=function(){var e=[];return this.gridRowModel.forEachNode(function(n){e.push(n)}),this.sortRowNodes(e)},t.prototype.sortRowNodes=function(e){var n=this.sortController.getSortOptions();return n&&0!=n.length?this.rowNodeSorter.doFullSort(e,n):e},_o([b.Autowired("rowModel")],t.prototype,"gridRowModel",void 0),_o([b.Autowired("valueService")],t.prototype,"valueService",void 0),_o([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),_o([b.Autowired("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),_o([b.Autowired("sortController")],t.prototype,"sortController",void 0),_o([b.Optional("aggregationStage")],t.prototype,"aggregationStage",void 0),t}(b.BeanStub),MS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cu=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Kp=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Wh=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Kp(arguments[t]));return l},Yp=function(l){function t(e){var n=l.call(this)||this;return n.unlinked=!1,n.chartData=[],n.valueColState=[],n.dimensionColState=[],n.columnNames={},n.grouping=!1,n.crossFiltering=!1,n.suppressComboChartWarnings=!1,n.chartId=e.chartId,n.chartType=e.chartType,n.pivotChart=e.pivotChart,n.chartThemeName=e.chartThemeName,n.aggFunc=e.aggFunc,n.referenceCellRange=e.cellRange,n.suppliedCellRange=e.cellRange,n.suppressChartRanges=e.suppressChartRanges,n.unlinked=!!e.unlinkChart,n.crossFiltering=!!e.crossFiltering,n.seriesChartTypes=e.seriesChartTypes||[],n.initComboCharts(e),n}return MS(t,l),t.prototype.initComboCharts=function(e){("customCombo"===e.chartType||this.seriesChartTypes&&this.seriesChartTypes.length>0)&&(this.chartType="customCombo",this.savedCustomSeriesChartTypes=this.seriesChartTypes||[])},t.prototype.init=function(){this.datasource=this.createManagedBean(new ev),this.updateCellRanges()},t.prototype.updateCellRanges=function(e){this.valueCellRange&&(this.referenceCellRange=this.valueCellRange);var n=this.getAllChartColumns(),a=n.dimensionCols,s=n.valueCols,g=this.getAllColumnsFromRanges();e&&this.updateColumnState(e),this.setDimensionCellRange(a,g,e),this.setValueCellRange(s,g,e),e||(this.resetColumnState(),this.syncDimensionCellRange()),this.updateSeriesChartTypes(),this.updateData()},t.prototype.updateSeriesChartTypes=function(){if(this.isComboChart()){if(this.seriesChartTypes=this.seriesChartTypes.map(function(e){var n=["groupedColumn","stackedColumn","stackedArea"].includes(e.chartType);return e.secondaryAxis=!n&&e.secondaryAxis,e}),"customCombo"===this.chartType)return void this.updateSeriesChartTypesForCustomCombo();this.updateChartSeriesTypesForBuiltInCombos()}},t.prototype.updateSeriesChartTypesForCustomCombo=function(){var e=this;!(this.seriesChartTypes&&this.seriesChartTypes.length>0)&&!this.suppressComboChartWarnings&&console.warn("AG Grid: 'seriesChartTypes' are required when the 'customCombo' chart type is specified."),this.seriesChartTypes=this.seriesChartTypes.map(function(g){return t.SUPPORTED_COMBO_CHART_TYPES.includes(g.chartType)||(console.warn("AG Grid: invalid chartType '"+g.chartType+"' supplied in 'seriesChartTypes', converting to 'line' instead."),g.chartType="line"),g});var s=this.valueColState.map(function(g){return(!e.savedCustomSeriesChartTypes||0===e.savedCustomSeriesChartTypes.length)&&(e.savedCustomSeriesChartTypes=e.seriesChartTypes),e.savedCustomSeriesChartTypes.find(function(_){return _.colId===g.colId})||(g.selected&&!e.suppressComboChartWarnings&&console.warn("AG Grid: no 'seriesChartType' found for colId = '"+g.colId+"', defaulting to 'line'."),{colId:g.colId,chartType:"line",secondaryAxis:!1})});this.seriesChartTypes=s,this.savedCustomSeriesChartTypes=s,this.suppressComboChartWarnings=!0},t.prototype.updateChartSeriesTypesForBuiltInCombos=function(){var e="columnLineCombo"===this.chartType?"groupedColumn":"stackedArea",n="columnLineCombo"===this.chartType?"line":"groupedColumn",a=this.valueColState.filter(function(g){return g.selected}),s=Math.ceil(a.length/2);this.seriesChartTypes=a.map(function(g,y){return{colId:g.colId,chartType:y>=s?n:e,secondaryAxis:!1}})},t.prototype.updateData=function(){var e=this.getRowIndexes(),n=e.startRow,a=e.endRow;this.pivotChart&&this.resetColumnState(),this.grouping=this.isGrouping();var s={aggFunc:this.aggFunc,dimensionCols:[this.getSelectedDimension()],grouping:this.grouping,pivoting:this.isPivotActive(),crossFiltering:this.crossFiltering,valueCols:this.getSelectedValueCols(),startRow:n,endRow:a,isScatter:b._.includes(["scatter","bubble"],this.chartType)},g=this.datasource.getData(s),_=g.columnNames;this.chartData=g.chartData,this.columnNames=_},t.prototype.isGrouping=function(){var e=this.gridOptionsWrapper.isTreeData(),n=e?null:this.columnModel.getRowGroupColumns(),a=e||n&&n.length>0,s=this.getSelectedDimension().colId,y=this.columnModel.getGroupDisplayColumns().map(function(_){return _.getColId()}).some(function(_){return _===s});return!!a&&y},t.prototype.getSelectedValueCols=function(){return this.valueColState.filter(function(e){return e.selected}).map(function(e){return e.column})},t.prototype.getSelectedDimension=function(){return this.dimensionColState.filter(function(e){return e.selected})[0]},t.prototype.getColDisplayName=function(e){return this.columnModel.getDisplayNameForColumn(e,"chart")},t.prototype.isPivotMode=function(){return this.columnModel.isPivotMode()},t.prototype.isPivotActive=function(){return this.columnModel.isPivotActive()},t.prototype.createCellRange=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return{id:this.chartId,startRow:this.referenceCellRange.startRow,endRow:this.referenceCellRange.endRow,columns:n,startColumn:e===b.CellRangeType.DIMENSION?n[0]:this.referenceCellRange.startColumn,type:e}},t.prototype.getAllColumnsFromRanges=function(){if(this.pivotChart)return b._.convertToSet(this.columnModel.getAllDisplayedColumns());var e=this.dimensionCellRange||this.valueCellRange?[]:this.referenceCellRange.columns;return this.dimensionCellRange&&e.push.apply(e,Wh(this.dimensionCellRange.columns)),this.valueCellRange&&e.push.apply(e,Wh(this.valueCellRange.columns)),b._.convertToSet(e)},t.prototype.getRowIndexes=function(){var e=0,n=0,a=this.rangeService,s=this.valueCellRange;if(a&&s){e=a.getRangeStartRow(s).rowIndex;var g=a.getRangeEndRow(s);n=g.rowPinned===b.Constants.PINNED_BOTTOM?-1:g.rowIndex}return{startRow:e,endRow:n}},t.prototype.getAllChartColumns=function(){var e=this,n=this.columnModel.getAllDisplayedColumns(),a=new Set,s=new Set;return n.forEach(function(g){var y=g.getColDef(),_=y.chartDataType;if(_)switch(_){case"category":case"time":return void a.add(g);case"series":return void s.add(g);case"excluded":return;default:console.warn("AG Grid: unexpected chartDataType value '"+_+"' supplied, instead use 'category', 'series' or 'excluded'")}"ag-Grid-AutoColumn"!==y.colId?g.isPrimary()?(e.isNumberCol(g)?s:a).add(g):s.add(g):a.add(g)}),{dimensionCols:a,valueCols:s}},t.prototype.isNumberCol=function(e){if("ag-Grid-AutoColumn"===e.getColId())return!1;var n=this.rowRenderer.getRowNode({rowIndex:0,rowPinned:null});if(!n)return!1;var a=this.valueService.getValue(e,n);return null==a&&(a=this.extractLeafData(n,e)),null!=a&&"function"==typeof a.toNumber&&(a=a.toNumber()),"number"==typeof a},t.prototype.extractLeafData=function(e,n){if(!e.allLeafChildren)return null;for(var a=0;a<e.allLeafChildren.length;a++){var g=this.valueService.getValue(n,e.allLeafChildren[a]);if(null!=g)return g}return null},t.prototype.resetColumnState=function(){var e=this,n=this.getAllChartColumns(),a=n.dimensionCols,s=n.valueCols,g=this.getAllColumnsFromRanges(),y=this.valueColState.length<1;this.dimensionColState=[],this.valueColState=[];var _=!1,E=1,R=this.suppliedCellRange.columns[0];a.forEach(function(F){var I="ag-Grid-AutoColumn"===F.getColId(),G=!1;e.crossFiltering&&e.aggFunc?R.getColId()===F.getColId()&&(G=!0):G=!!I||!_&&g.has(F),e.dimensionColState.push({column:F,colId:F.getColId(),displayName:e.getColDisplayName(F),selected:G,order:E++}),G&&(_=!0)});var A={colId:t.DEFAULT_CATEGORY,displayName:this.chartTranslationService.translate("defaultCategory"),selected:!_,order:0};this.dimensionColState.unshift(A);var T=this.referenceCellRange.columns.filter(function(F){return s.has(F)});s.forEach(function(F){y&&b._.includes(e.referenceCellRange.columns,F)&&(F=T.shift()),e.valueColState.push({column:F,colId:F.getColId(),displayName:e.getColDisplayName(F),selected:g.has(F),order:E++})})},t.prototype.updateColumnState=function(e){var n=function(E){return E.colId===e.colId},s=this.dimensionColState,g=this.valueColState;s.filter(n).length>0?s.forEach(function(E){return E.selected=n(E)}):g.filter(n).forEach(function(E){return E.selected=e.selected});var y=Wh(s,g),_=[];y.forEach(function(E,R){R===e.order&&_.push(e.colId),E.colId!==e.colId&&_.push(E.colId)}),y.forEach(function(E){var R=_.indexOf(E.colId);E.order=R>=0?_.indexOf(E.colId):y.length-1}),this.reorderColState()},t.prototype.reorderColState=function(){var e=function(n,a){return n.order-a.order};this.dimensionColState.sort(e),this.valueColState.sort(e)},t.prototype.setDimensionCellRange=function(e,n,a){var s=this;if(this.dimensionCellRange=void 0,a||this.dimensionColState.length){var g=a;if(this.crossFiltering&&this.aggFunc){var y=this.suppliedCellRange.columns[0];g=this.dimensionColState.filter(function(_){return _.colId===y.getColId()})[0]}else(!g||!e.has(g.column))&&(g=this.dimensionColState.filter(function(_){return _.selected})[0]);g&&g.colId!==t.DEFAULT_CATEGORY&&(this.dimensionCellRange=this.createCellRange(b.CellRangeType.DIMENSION,g.column))}else e.forEach(function(_){s.dimensionCellRange||!n.has(_)||(s.dimensionCellRange=s.createCellRange(b.CellRangeType.DIMENSION,_))})},t.prototype.setValueCellRange=function(e,n,a){this.valueCellRange=void 0;var s=[];if(e.forEach(function(y){a&&a.colId===y.getColId()?a.selected&&s.push(a.column):n.has(y)&&s.push(y)}),s.length>0){var g=[];this.valueColState.length>0?g=this.valueColState.map(function(y){return y.colId}):n.forEach(function(y){return g.push(y.getColId())}),s.sort(function(y,_){return g.indexOf(y.getColId())-g.indexOf(_.getColId())}),this.valueCellRange=this.createCellRange.apply(this,Wh([b.CellRangeType.VALUE],s))}},t.prototype.syncDimensionCellRange=function(){var e=this.getSelectedDimension();e&&e.column&&(this.dimensionCellRange=this.createCellRange(b.CellRangeType.DIMENSION,e.column))},t.prototype.isComboChart=function(){return["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType)},t.DEFAULT_CATEGORY="AG-GRID-DEFAULT-CATEGORY",t.SUPPORTED_COMBO_CHART_TYPES=["line","groupedColumn","stackedColumn","area","stackedArea"],cu([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),cu([b.Autowired("valueService")],t.prototype,"valueService",void 0),cu([b.Autowired("rangeService")],t.prototype,"rangeService",void 0),cu([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),cu([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),cu([b.PostConstruct],t.prototype,"init",null),t}(b.BeanStub),pu=function(){return pu=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},pu.apply(this,arguments)},ti=function(){function l(){this.allPropertyListeners=new Map,this.allEventListeners=new Map}return l.prototype.addPropertyListener=function(t,e,n){void 0===n&&(n=this);var a=this.allPropertyListeners,s=a.get(t);s||a.set(t,s=new Map),s.has(e)||s.set(e,new Set);var y=s.get(e);y&&y.add(n)},l.prototype.removePropertyListener=function(t,e,n){void 0===n&&(n=this);var s=this.allPropertyListeners.get(t);if(s)if(e){var g=s.get(e);g&&(g.delete(n),g.size||s.delete(e))}else s.clear()},l.prototype.notifyPropertyListeners=function(t,e,n){var a=this,g=this.allPropertyListeners.get(t);g&&g.forEach(function(y,_){y.forEach(function(E){return _.call(E,{type:t,source:a,value:n,oldValue:e})})})},l.prototype.addEventListener=function(t,e,n){void 0===n&&(n=this);var a=this.allEventListeners,s=a.get(t);s||a.set(t,s=new Map),s.has(e)||s.set(e,new Set);var y=s.get(e);y&&y.add(n)},l.prototype.removeEventListener=function(t,e,n){void 0===n&&(n=this);var s=this.allEventListeners.get(t);if(s)if(e){var g=s.get(e);g&&(g.delete(n),g.size||s.delete(e))}else s.clear()},l.prototype.notifyEventListeners=function(t){var e=this,n=this.allEventListeners;t.forEach(function(a){var s=n.get(a);s&&s.forEach(function(g,y){g.forEach(function(_){return y.call(_,{type:a,source:e})})})})},l.prototype.fireEvent=function(t){var e=this,n=this.allEventListeners.get(t.type);n&&n.forEach(function(a,s){a.forEach(function(g){return s.call(g,pu(pu({},t),{source:e}))})})},l.privateKeyPrefix="_",l}();function be(){for(var l=[],t=0;t<arguments.length;t++)l[t]=arguments[t];return l.indexOf("debugger"),function(n,a){var s=ti.privateKeyPrefix+a,g=s+"Events";n[a]||(l&&(n[g]=l),Object.defineProperty(n,a,{set:function(y){var _=this[s];if(y!==_||"object"==typeof y&&null!==y){this[s]=y,this.notifyPropertyListeners(a,_,y);var E=this[g];E&&this.notifyEventListeners(E)}},get:function(){return this[s]},enumerable:!0,configurable:!0}))}}var fC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qp=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},jh=function(l){function t(e,n,a,s){void 0===e&&(e=0),void 0===n&&(n=e),void 0===a&&(a=e),void 0===s&&(s=n);var g=l.call(this)||this;return g.top=e,g.right=n,g.bottom=a,g.left=s,g}return fC(t,l),t.prototype.clear=function(){this.top=this.right=this.bottom=this.left=0},qp([be("layoutChange")],t.prototype,"top",void 0),qp([be("layoutChange")],t.prototype,"right",void 0),qp([be("layoutChange")],t.prototype,"bottom",void 0),qp([be("layoutChange")],t.prototype,"left",void 0),t}(ti),Dr=function(){function l(t,e,n,a){this.x=t,this.y=e,this.width=n,this.height=a}return l.prototype.isValid=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},l.prototype.dilate=function(t){this.x-=t,this.y-=t,this.width+=2*t,this.height+=2*t},l.prototype.containsPoint=function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},l.prototype.render=function(t,e){void 0===e&&(e=l.noParams),t.save(),e.resetTransform&&t.setTransform(1,0,0,1,0,0),t.strokeStyle=e.strokeStyle||"cyan",t.lineWidth=e.lineWidth||1,t.strokeRect(this.x,this.y,this.width,this.height),e.label&&(t.fillStyle=e.fillStyle||"black",t.textBaseline="bottom",t.fillText(e.label,this.x,this.y)),t.restore()},l.noParams={},l}(),pc=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},dl=function(){function l(t){void 0===t&&(t=[1,0,0,1,0,0]),this.elements=t}return l.prototype.setElements=function(t){var e=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],this},l.prototype.setIdentityElements=function(){var t=this.elements;return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,this},Object.defineProperty(l.prototype,"identity",{get:function(){var t=this.elements;return 1===t[0]&&0===t[1]&&0===t[2]&&1===t[3]&&0===t[4]&&0===t[5]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"a",{get:function(){return this.elements[0]},set:function(t){this.elements[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"b",{get:function(){return this.elements[1]},set:function(t){this.elements[1]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"c",{get:function(){return this.elements[2]},set:function(t){this.elements[2]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"d",{get:function(){return this.elements[3]},set:function(t){this.elements[3]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"e",{get:function(){return this.elements[4]},set:function(t){this.elements[4]=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"f",{get:function(){return this.elements[5]},set:function(t){this.elements[5]=t},enumerable:!0,configurable:!0}),l.prototype.AxB=function(t,e,n){var a=pc(t,6),s=a[0],g=a[1],y=a[2],_=a[3],E=a[4],R=a[5],A=pc(e,6),T=A[0],F=A[1],I=A[2],G=A[3],j=A[4],U=A[5];(n=n||t)[0]=s*T+y*F,n[1]=g*T+_*F,n[2]=s*I+y*G,n[3]=g*I+_*G,n[4]=s*j+y*U+E,n[5]=g*j+_*U+R},l.prototype.multiplySelf=function(t){return this.AxB(this.elements,t.elements),this},l.prototype.multiply=function(t){var e=new Array(6);return this.AxB(this.elements,t.elements,e),new l(e)},l.prototype.preMultiplySelf=function(t){return this.AxB(t.elements,this.elements,this.elements),this},l.prototype.inverse=function(){var t=pc(this.elements,6),e=t[0],n=t[1],a=t[2],s=t[3],g=t[4],y=t[5],_=1/(e*s-n*a);return new l([s*=_,-(n*=_),-(a*=_),e*=_,a*y-s*g,n*g-e*y])},l.prototype.inverseTo=function(t){var e=pc(this.elements,6),n=e[0],a=e[1],s=e[2],g=e[3],y=e[4],_=e[5],E=1/(n*g-a*s);return t.setElements([g*=E,-(a*=E),-(s*=E),n*=E,s*_-g*y,a*y-n*_]),this},l.prototype.invertSelf=function(){var t=this.elements,e=pc(t,6),n=e[0],a=e[1],s=e[2],g=e[3],y=e[4],_=e[5],E=1/(n*g-a*s);return n*=E,a*=E,s*=E,t[0]=g*=E,t[1]=-a,t[2]=-s,t[3]=n,t[4]=s*_-g*y,t[5]=a*y-n*_,this},l.prototype.clone=function(){return new l(this.elements.slice())},l.prototype.transformPoint=function(t,e){var n=this.elements;return{x:t*n[0]+e*n[2]+n[4],y:t*n[1]+e*n[3]+n[5]}},l.prototype.transformBBox=function(t,e,n){void 0===e&&(e=0);var F,I,a=this.elements,s=a[0],g=a[1],y=a[2],_=a[3],E=.5*t.width,R=.5*t.height,A=t.x+E,T=t.y+R;if(e){E-=e,R-=e;var G=Math.sqrt(s*s+y*y),j=Math.sqrt(g*g+_*_);F=Math.abs(E*s)+Math.abs(R*y)+Math.abs(G*e),I=Math.abs(E*g)+Math.abs(R*_)+Math.abs(j*e)}else F=Math.abs(E*s)+Math.abs(R*y),I=Math.abs(E*g)+Math.abs(R*_);return n||(n=new Dr(0,0,0,0)),n.x=A*s+T*y+a[4]-F,n.y=A*g+T*_+a[5]-I,n.width=F+F,n.height=I+I,n},l.prototype.toContext=function(t){if(!this.identity){var e=this.elements;t.transform(e[0],e[1],e[2],e[3],e[4],e[5])}},l.flyweight=function(t){return t?l.matrix.setElements(t instanceof l?t.elements:t):l.matrix.setIdentityElements(),l.matrix},l.matrix=new l,l}();function du(l){var t=l.constructor,e=t.className;if(!e)throw new Error("The "+t+" is missing the 'className' property.");return e+"-"+(t.id=(t.id||0)+1)}var Ki=(()=>(function(l){l[l.All=0]="All",l[l.None=1]="None"}(Ki||(Ki={})),Ki))(),An=function(){function l(){this.id=du(this),this.tag=NaN,this.isContainerNode=!1,this._children=[],this.childSet={},this.matrix=new dl,this.inverseMatrix=new dl,this._dirtyTransform=!1,this._scalingX=1,this._scalingY=1,this._scalingCenterX=null,this._scalingCenterY=null,this._rotationCenterX=null,this._rotationCenterY=null,this._rotation=0,this._translationX=0,this._translationY=0,this._dirty=!0,this._visible=!0,this.dirtyZIndex=!1,this._zIndex=0,this.pointerEvents=Ki.All}return l.isNode=function(t){return!!t&&void 0!==t.matrix},l.prototype._setScene=function(t){this._scene=t;for(var e=this.children,n=e.length,a=0;a<n;a++)e[a]._setScene(t)},Object.defineProperty(l.prototype,"scene",{get:function(){return this._scene},enumerable:!0,configurable:!0}),l.prototype._setParent=function(t){this._parent=t},Object.defineProperty(l.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),l.prototype.countChildren=function(t){if(void 0===t&&(t=l.MAX_SAFE_INTEGER),t<=0)return 0;for(var e=this.children,n=e.length,a=n,s=0;s<n;s++)a+=e[s].countChildren(t-1);return a},l.prototype.append=function(t){l.isNode(t)&&(t=[t]);for(var e=t.length,n=0;n<e;n++){var a=t[n];if(a.parent)throw new Error(a+" already belongs to another parent: "+a.parent+".");if(a.scene)throw new Error(a+" already belongs a scene: "+a.scene+".");if(this.childSet[a.id])throw new Error("Duplicate "+a.constructor.name+" node: "+a);this._children.push(a),this.childSet[a.id]=!0,a._setParent(this),a._setScene(this.scene)}this.dirty=!0},l.prototype.appendChild=function(t){if(t.parent)throw new Error(t+" already belongs to another parent: "+t.parent+".");if(t.scene)throw new Error(t+" already belongs to a scene: "+t.scene+".");if(this.childSet[t.id])throw new Error("Duplicate "+t.constructor.name+" node: "+t);return this._children.push(t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0,t},l.prototype.removeChild=function(t){if(t.parent===this){var e=this.children.indexOf(t);if(e>=0)return this._children.splice(e,1),delete this.childSet[t.id],t._setParent(),t._setScene(),this.dirty=!0,t}throw new Error("The node to be removed is not a child of this node.")},l.prototype.insertBefore=function(t,e){var n=t.parent;if(t.parent&&t.parent.removeChild(t),e&&e.parent===this){var a=this.children.indexOf(e);if(!(a>=0))throw new Error(e+" has "+n+" as the parent, but is not in its list of children.");this._children.splice(a,0,t),this.childSet[t.id]=!0,t._setParent(this),t._setScene(this.scene),this.dirty=!0}else this.append(t);return t},Object.defineProperty(l.prototype,"nextSibling",{get:function(){var t=this.parent;if(t){var e=t.children,n=e.indexOf(this);if(n>=0&&n<=e.length-1)return e[n+1]}},enumerable:!0,configurable:!0}),l.prototype.transformPoint=function(t,e){for(var n=dl.flyweight(this.matrix),a=this.parent;a;)n.preMultiplySelf(a.matrix),a=a.parent;return n.invertSelf().transformPoint(t,e)},l.prototype.inverseTransformPoint=function(t,e){for(var n=dl.flyweight(this.matrix),a=this.parent;a;)n.preMultiplySelf(a.matrix),a=a.parent;return n.transformPoint(t,e)},Object.defineProperty(l.prototype,"dirtyTransform",{get:function(){return this._dirtyTransform},set:function(t){this._dirtyTransform=t,t&&(this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingX",{get:function(){return this._scalingX},set:function(t){this._scalingX!==t&&(this._scalingX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingY",{get:function(){return this._scalingY},set:function(t){this._scalingY!==t&&(this._scalingY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterX",{get:function(){return this._scalingCenterX},set:function(t){this._scalingCenterX!==t&&(this._scalingCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"scalingCenterY",{get:function(){return this._scalingCenterY},set:function(t){this._scalingCenterY!==t&&(this._scalingCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterX",{get:function(){return this._rotationCenterX},set:function(t){this._rotationCenterX!==t&&(this._rotationCenterX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationCenterY",{get:function(){return this._rotationCenterY},set:function(t){this._rotationCenterY!==t&&(this._rotationCenterY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"rotationDeg",{get:function(){return this.rotation/Math.PI*180},set:function(t){this.rotation=t/180*Math.PI},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationX",{get:function(){return this._translationX},set:function(t){this._translationX!==t&&(this._translationX=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"translationY",{get:function(){return this._translationY},set:function(t){this._translationY!==t&&(this._translationY=t,this.dirtyTransform=!0)},enumerable:!0,configurable:!0}),l.prototype.containsPoint=function(t,e){return!1},l.prototype.pickNode=function(t,e){if(this.visible&&this.pointerEvents!==Ki.None&&this.containsPoint(t,e)){var n=this.children;if(n.length)for(var a=n.length-1;a>=0;a--){var s=n[a].pickNode(t,e);if(s)return s}else if(!this.isContainerNode)return this}},l.prototype.computeBBox=function(){},l.prototype.computeBBoxCenter=function(){var t=this.computeBBox&&this.computeBBox();return t?[t.x+.5*t.width,t.y+.5*t.height]:[0,0]},l.prototype.computeTransformMatrix=function(){var g,y,t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}([0,0],2),e=t[0],n=t[1],a=this.scalingX,s=this.scalingY;1===a&&1===s?(g=0,y=0):(g=null===this.scalingCenterX?e:this.scalingCenterX,y=null===this.scalingCenterY?n:this.scalingCenterY);var A,T,_=this.rotation,E=Math.cos(_),R=Math.sin(_);0===_?(A=0,T=0):(A=null===this.rotationCenterX?e:this.rotationCenterX,T=null===this.rotationCenterY?n:this.rotationCenterY);var F=this.translationX,I=this.translationY,G=g*(1-a)-A,j=y*(1-s)-T;this.dirtyTransform=!1,this.matrix.setElements([E*a,R*a,-R*s,E*s,E*G-R*j+A+F,R*G+E*j+T+I]).inverseTo(this.inverseMatrix)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){this._dirty=t,t&&(this.parent?this.parent.dirty=!0:this.scene&&(this.scene.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex!==t&&(this._zIndex=t,this.parent&&(this.parent.dirtyZIndex=!0),this.dirty=!0)},enumerable:!0,configurable:!0}),l.MAX_SAFE_INTEGER=Math.pow(2,53)-1,l}();function vr(l,t){var e=Object.create(l);for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function dc(l,t){return!1!==t.clone&&t.isMergeableObject(l)?ri(function dO(l){return Array.isArray(l)?[]:{}}(l),l,t):l}function IS(l,t,e){return l.concat(t).map(function(n){return dc(n,e)})}function zh(l){return Object.keys(l).concat(function Uh(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}(l))}function vC(l,t){try{return t in l}catch(e){return!1}}function hl(l){return function mC(l){return!!l&&"object"==typeof l}(l)&&!function $h(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}(l)}function ri(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||IS,e.isMergeableObject=e.isMergeableObject||hl,e.cloneUnlessOtherwiseSpecified=dc;var n=Array.isArray(t);return n===Array.isArray(l)?n?e.arrayMerge(l,t,e):function hu(l,t,e){var n={};return e.isMergeableObject(l)&&zh(l).forEach(function(a){n[a]=dc(l[a],e)}),zh(t).forEach(function(a){(function yC(l,t){return vC(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))})(l,a)||(n[a]=vC(l,a)&&e.isMergeableObject(t[a])?function Yi(l,t){if(!t.customMerge)return ri;var e=t.customMerge(l);return"function"==typeof e?e:ri}(a,e)(l[a],t[a],e):dc(t[a],e))}),n}(l,t,e):dc(t,e)}var Kh=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Di=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.lastInstanceId=0,e._fillOpacity=1,e._strokeOpacity=1,e._fill=t.defaultStyles.fill,e._stroke=t.defaultStyles.stroke,e._strokeWidth=t.defaultStyles.strokeWidth,e._lineDash=t.defaultStyles.lineDash,e._lineDashOffset=t.defaultStyles.lineDashOffset,e._lineCap=t.defaultStyles.lineCap,e._lineJoin=t.defaultStyles.lineJoin,e._opacity=t.defaultStyles.opacity,e.onShadowChange=function(){e.dirty=!0},e._fillShadow=t.defaultStyles.fillShadow,e._strokeShadow=t.defaultStyles.strokeShadow,e}return Kh(t,l),t.createInstance=function(e){var n=Object.create(e);return n._setParent(void 0),n.id=e.id+"-Instance-"+String(++e.lastInstanceId),n},t.prototype.restoreOwnStyles=function(){for(var e=this.constructor.defaultStyles,n=Object.getOwnPropertyNames(e),a=0,s=n.length;a<s;a++){var g=n[a];this[g]=e[g]}},t.prototype.restoreAllStyles=function(){var e=this.constructor.defaultStyles;for(var n in e)this[n]=e[n]},t.prototype.restoreOverriddenStyles=function(){var e=this.constructor.defaultStyles,n=Object.getPrototypeOf(e);for(var a in e)e.hasOwnProperty(a)&&n.hasOwnProperty(a)&&(this[a]=e[a])},Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return Math.floor(this.strokeWidth)%2/2},enumerable:!0,configurable:!0}),t.prototype.align=function(e,n,a){return null!=a?Math.floor(a)+Math.floor(n%1+a%1):Math.floor(n)+e},Object.defineProperty(t.prototype,"lineDash",{get:function(){return this._lineDash},set:function(e){var n=this._lineDash;if(n!==e){if(n&&e&&n.length===e.length){for(var a=!0,s=e.length,g=0;g<s;g++)if(n[g]!==e[g]){a=!1;break}if(a)return}this._lineDash=e,this.dirty=!0}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineDashOffset",{get:function(){return this._lineDashOffset},set:function(e){this._lineDashOffset!==e&&(this._lineDashOffset=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineCap",{get:function(){return this._lineCap},set:function(e){this._lineCap!==e&&(this._lineCap=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillShadow",{get:function(){return this._fillShadow},set:function(e){var n=this._fillShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._fillShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeShadow",{get:function(){return this._strokeShadow},set:function(e){var n=this._strokeShadow;n!==e&&(n&&n.removeEventListener("change",this.onShadowChange),e&&e.addEventListener("change",this.onShadowChange),this._strokeShadow=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.fillStroke=function(e){if(this.scene){var n=this.scene.canvas.pixelRatio||1,a=e.globalAlpha;if(this.fill){e.fillStyle=this.fill,e.globalAlpha=a*this.opacity*this.fillOpacity;var s=this.fillShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*n,e.shadowOffsetY=s.yOffset*n,e.shadowBlur=s.blur*n),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.strokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=a*this.opacity*this.strokeOpacity,e.lineWidth=this.strokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var g=this.strokeShadow;g&&g.enabled&&(e.shadowColor=g.color,e.shadowOffsetX=g.xOffset*n,e.shadowOffsetY=g.yOffset*n,e.shadowBlur=g.blur*n),e.stroke()}}},t.prototype.containsPoint=function(e,n){return this.isPointInPath(e,n)},t.defaultStyles=vr({},{fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0,strokeShadow:void 0}),t}(An),ys=function(){function l(t,e,n){void 0===t&&(t=window.document),void 0===e&&(e=600),void 0===n&&(n=300),this._container=void 0,this._pixelRatio=NaN,this._width=0,this._height=0,this.document=t,this.element=t.createElement("canvas"),this.context=this.element.getContext("2d"),this.element.style.userSelect="none",this.element.style.display="block",this.setPixelRatio(),this.resize(e,n)}return Object.defineProperty(l.prototype,"container",{get:function(){return this._container},set:function(t){this._container!==t&&(this.remove(),t&&t.appendChild(this.element),this._container=t)},enumerable:!0,configurable:!0}),l.prototype.remove=function(){var t=this.element.parentNode;null!=t&&t.removeChild(this.element)},l.prototype.destroy=function(){this.element.remove(),this._canvas=void 0,Object.freeze(this)},l.prototype.toImage=function(){var t=this.document.createElement("img");return t.src=this.getDataURL(),t},l.prototype.getDataURL=function(t){return this.element.toDataURL(t)},l.prototype.download=function(t){t=((t||"").trim()||"image")+".png";var n=this.getDataURL("image/png"),a=this.document,s=a.createElement("a");s.href=n,s.download=t,s.style.display="none",a.body.appendChild(s),s.click(),a.body.removeChild(s)},Object.defineProperty(l.prototype,"pixelRatio",{get:function(){return this._pixelRatio},enumerable:!0,configurable:!0}),l.prototype.setPixelRatio=function(t){var e=t||window.devicePixelRatio;e!==this.pixelRatio&&(l.overrideScale(this.context,e),this._pixelRatio=e,this.resize(this.width,this.height))},Object.defineProperty(l.prototype,"pixelated",{get:function(){return"pixelated"===this.element.style.imageRendering},set:function(t){this.element.style.imageRendering=t?"pixelated":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){if(t>0&&e>0){var n=this,a=n.element,s=n.context,g=n.pixelRatio;a.width=Math.round(t*g),a.height=Math.round(e*g),a.style.width=t+"px",a.style.height=e+"px",s.resetTransform(),this._width=t,this._height=e}},Object.defineProperty(l,"textMeasuringContext",{get:function(){if(this._textMeasuringContext)return this._textMeasuringContext;var t=document.createElement("canvas");return this._textMeasuringContext=t.getContext("2d")},enumerable:!0,configurable:!0}),Object.defineProperty(l,"svgText",{get:function(){if(this._svgText)return this._svgText;var t="http://www.w3.org/2000/svg",e=document.createElementNS(t,"svg");e.setAttribute("width","100"),e.setAttribute("height","100"),e.classList?e.classList.add("text-measuring-svg"):e.setAttribute("class","text-measuring-svg"),e.style.position="absolute",e.style.top="-1000px",e.style.visibility="hidden";var n=document.createElementNS(t,"text");return n.setAttribute("x","0"),n.setAttribute("y","30"),n.setAttribute("text","black"),e.appendChild(n),document.body.appendChild(e),this._svgText=n,n},enumerable:!0,configurable:!0}),Object.defineProperty(l,"has",{get:function(){if(this._has)return this._has;var t=navigator.userAgent.indexOf("Chrome")>-1,e=navigator.userAgent.indexOf("Firefox")>-1,n=!t&&navigator.userAgent.indexOf("Safari")>-1;return this._has=Object.freeze({textMetrics:void 0!==this.textMeasuringContext.measureText("test").actualBoundingBoxDescent&&!e&&!n,getTransform:void 0!==this.textMeasuringContext.getTransform})},enumerable:!0,configurable:!0}),l.measureText=function(t,e,n,a){var s=this.textMeasuringContext;return s.font=e,s.textBaseline=n,s.textAlign=a,s.measureText(t)},l.getTextSize=function(t,e){if(this.has.textMetrics){var n=this.textMeasuringContext;n.font=e;var a=n.measureText(t);return{width:a.width,height:a.actualBoundingBoxAscent+a.actualBoundingBoxDescent}}return this.measureSvgText(t,e)},l.measureSvgText=function(t,e){var n=this.textSizeCache,a=n[e];if(a){var s=a[t];if(s)return s}else n[e]={};var g=this.svgText;g.style.font=e,g.textContent=t;var y=g.getBBox(),_={width:y.width,height:y.height};return n[e][t]=_,_},l.overrideScale=function(t,e){var n=0,a={save:function(){this.$save(),n++},restore:function(){n>0&&(this.$restore(),n--)},setTransform:function(g,y,_,E,R,A){this.$setTransform(g*e,y*e,_*e,E*e,R*e,A*e)},resetTransform:function(){this.$setTransform(e,0,0,e,0,0),this.save(),n=0}};for(var s in a)a.hasOwnProperty(s)&&(t["$"+s]||(t["$"+s]=t[s]),t[s]=a[s])},l.textSizeCache={},l}(),hc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kn=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e.lineBreakRegex=/\r?\n/g,e.lines=[],e._text="",e._dirtyFont=!0,e._fontSize=10,e._fontFamily="sans-serif",e._textAlign=t.defaultStyles.textAlign,e._textBaseline=t.defaultStyles.textBaseline,e._lineHeight=14,e}return hc(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.splitText=function(){this.lines=this._text.split(this.lineBreakRegex)},Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){var n=String(e);this._text!==n&&(this._text=n,this.splitText(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"font",{get:function(){return this.dirtyFont&&(this.dirtyFont=!1,this._font=Yh(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)),this._font},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyFont",{get:function(){return this._dirtyFont},set:function(e){this._dirtyFont!==e&&(this._dirtyFont=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){isFinite(e)||(e=10),this._fontSize!==e&&(this._fontSize=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this._fontFamily!==e&&(this._fontFamily=e,this.dirtyFont=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(e){this._textAlign!==e&&(this._textAlign=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return ys.has.textMetrics?this.getPreciseBBox():this.getApproximateBBox()},t.prototype.getPreciseBBox=function(){var e=ys.measureText(this.text,this.font,this.textBaseline,this.textAlign);return new Dr(this.x-e.actualBoundingBoxLeft,this.y-e.actualBoundingBoxAscent,e.width,e.actualBoundingBoxAscent+e.actualBoundingBoxDescent)},t.prototype.getApproximateBBox=function(){var e=ys.getTextSize(this.text,this.font),a=this.x,s=this.y;switch(this.textAlign){case"end":case"right":a-=e.width;break;case"center":a-=e.width/2}switch(this.textBaseline){case"alphabetic":s-=.7*e.height;break;case"middle":s-=.45*e.height;break;case"ideographic":case"bottom":s-=e.height;break;case"hanging":s-=.2*e.height}return new Dr(a,s,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n),s=this.computeBBox();return!!s&&s.containsPoint(a.x,a.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){if(this.lines.length&&this.scene){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this,a=n.fill,s=n.stroke,g=n.strokeWidth;e.font=this.font,e.textAlign=this.textAlign,e.textBaseline=this.textBaseline;var y=this.scene.canvas.pixelRatio||1,_=e.globalAlpha;if(a){e.fillStyle=a,e.globalAlpha=_*this.opacity*this.fillOpacity;var E=this,R=E.fillShadow,A=E.text,T=E.x,F=E.y;R&&R.enabled&&(e.shadowColor=R.color,e.shadowOffsetX=R.xOffset*y,e.shadowOffsetY=R.yOffset*y,e.shadowBlur=R.blur*y),e.fillText(A,T,F)}if(s&&g){e.strokeStyle=s,e.lineWidth=g,e.globalAlpha=_*this.opacity*this.strokeOpacity;var I=this,G=I.lineDash,j=I.lineDashOffset,U=I.lineCap,z=I.lineJoin,Y=I.strokeShadow;A=I.text,T=I.x,F=I.y,G&&e.setLineDash(G),j&&(e.lineDashOffset=j),U&&(e.lineCap=U),z&&(e.lineJoin=z),Y&&Y.enabled&&(e.shadowColor=Y.color,e.shadowOffsetX=Y.xOffset*y,e.shadowOffsetY=Y.yOffset*y,e.shadowBlur=Y.blur*y),e.strokeText(A,T,F)}this.dirty=!1}},t.className="Text",t.defaultStyles=vr(Di.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"}),t}(Di);function Yh(l,t,e,n){return[e||"",n||"",l+"px",t].join(" ").trim()}var NS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qh=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},rv=function(l){function t(){var e=l.call(this)||this;e.node=new kn,e.enabled=!1,e.padding=new jh(10);var n=e.node;return n.textAlign="center",n.textBaseline="top",n.pointerEvents=Ki.None,e}return NS(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.node.text},set:function(e){this.node.text!==e&&(this.node.text=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.node.fontStyle},set:function(e){this.node.fontStyle!==e&&(this.node.fontStyle=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.node.fontWeight},set:function(e){this.node.fontWeight!==e&&(this.node.fontWeight=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.node.fontSize},set:function(e){this.node.fontSize!==e&&(this.node.fontSize=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.node.fontFamily},set:function(e){this.node.fontFamily!==e&&(this.node.fontFamily=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.node.fill},set:function(e){this.node.fill!==e&&(this.node.fill=e,this.fireEvent({type:"change"}))},enumerable:!0,configurable:!0}),qh([be("change")],t.prototype,"enabled",void 0),qh([be("change")],t.prototype,"padding",void 0),t}(ti),nv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function Xh(l,t,e){var n=gc(l,t,e);return function LS(l,t,e){void 0===e&&(e=1);for(var n=Math.abs(e),a=n>0&&n<1?Math.abs(Math.floor(Math.log(n)/Math.LN10)):0,s=Math.pow(10,a),g=Math.max(0,Math.ceil((t-l)/e))||0,y=new ov(a),_=0;_<g;_++)y[_]=Math.round((l+e*_)*s)/s;return y}(l=Math.ceil(l/n)*n,t=Math.floor(t/n)*n+n/2,n)}var iv=Math.sqrt(50),fc=Math.sqrt(10),Xp=Math.sqrt(2);function gc(l,t,e){var n=Math.abs(t-l)/Math.max(0,e),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),s=n/a;return s>=iv?a*=10:s>=fc?a*=5:s>=Xp&&(a*=2),t<l?-a:a}function vc(l,t,e){var n=(t-l)/Math.max(0,e),a=Math.floor(Math.log(n)/Math.LN10),s=n/Math.pow(10,a);return a>=0?(s>=iv?10:s>=fc?5:s>=Xp?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(s>=iv?10:s>=fc?5:s>=Xp?2:1)}var ov=function(l){function t(e,n){var a=l.call(this)||this;if(n)for(var s=0,g=n.length;s<g;s++)a[s]=n[s];return a.fractionDigits=e,a}return nv(t,l),t}(Array);function Ma(l,t){return l=+l,t=+t,function(e){return l*(1-e)+t*e}}var Qh=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},qi=function(){function l(t,e,n,a){void 0===a&&(a=1),this.r=Math.min(1,Math.max(0,t||0)),this.g=Math.min(1,Math.max(0,e||0)),this.b=Math.min(1,Math.max(0,n||0)),this.a=Math.min(1,Math.max(0,a||0))}return l.fromString=function(t){if(t.indexOf("#")>=0)return l.fromHexString(t);var e=l.nameToHex[t];if(e)return l.fromHexString(e);if(t.indexOf("rgb")>=0)return l.fromRgbaString(t);throw new Error("Invalid color string: '"+t+"'")},l.parseHex=function(t){var e;switch((t=t.replace(/ /g,"").slice(1)).length){case 6:case 8:e=[];for(var n=0;n<t.length;n+=2)e.push(parseInt(""+t[n]+t[n+1],16));break;case 3:case 4:e=t.split("").map(function(a){return parseInt(a,16)}).map(function(a){return a+16*a})}if(e.length>=3&&e.every(function(a){return a>=0}))return 3===e.length&&e.push(255),e},l.fromHexString=function(t){var e=l.parseHex(t);if(e){var n=Qh(e,4);return new l(n[0]/255,n[1]/255,n[2]/255,n[3]/255)}throw new Error("Malformed hexadecimal color string: '"+t+"'")},l.stringToRgba=function(t){for(var e=Qh([NaN,NaN],2),n=e[0],a=e[1],s=0;s<t.length;s++){var g=t[s];if(n||"("!==g){if(")"===g){a=s;break}}else n=s}var y=n&&a&&t.substring(n+1,a);if(y){var _=y.split(","),E=[];for(s=0;s<_.length;s++){var R=_[s],A=parseFloat(R);if(isNaN(A))return;R.indexOf("%")>=0?(A=Math.max(0,Math.min(100,A)),A/=100):3===s?A=Math.max(0,Math.min(1,A)):(A=Math.max(0,Math.min(255,A)),A/=255),E.push(A)}return E}},l.fromRgbaString=function(t){var e=l.stringToRgba(t);if(e){if(3===e.length)return new l(e[0],e[1],e[2]);if(4===e.length)return new l(e[0],e[1],e[2],e[3])}throw new Error("Malformed rgb/rgba color string: '"+t+"'")},l.fromArray=function(t){if(4===t.length)return new l(t[0],t[1],t[2],t[3]);if(3===t.length)return new l(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")},l.fromHSB=function(t,e,n,a){void 0===a&&(a=1);var s=l.HSBtoRGB(t,e,n);return new l(s[0],s[1],s[2],a)},l.padHex=function(t){return 1===t.length?"0"+t:t},l.prototype.toHexString=function(){var t="#"+l.padHex(Math.round(255*this.r).toString(16))+l.padHex(Math.round(255*this.g).toString(16))+l.padHex(Math.round(255*this.b).toString(16));return this.a<1&&(t+=l.padHex(Math.round(255*this.a).toString(16))),t},l.prototype.toRgbaString=function(t){void 0===t&&(t=3);var e=[Math.round(255*this.r),Math.round(255*this.g),Math.round(255*this.b)],n=Math.pow(10,t);return 1!==this.a?(e.push(Math.round(this.a*n)/n),"rgba("+e.join(", ")+")"):"rgb("+e.join(", ")+")"},l.prototype.toString=function(){return 1===this.a?this.toHexString():this.toRgbaString()},l.prototype.toHSB=function(){return l.RGBtoHSB(this.r,this.g,this.b)},l.RGBtoHSB=function(t,e,n){var a=Math.min(t,e,n),s=Math.max(t,e,n),y=NaN;if(a!==s){var _=s-a,E=(s-t)/_,R=(s-e)/_,A=(s-n)/_;y=t===s?A-R:e===s?2+E-A:4+R-E,(y/=6)<0&&(y+=1)}return[360*y,0!==s?(s-a)/s:0,s]},l.HSBtoRGB=function(t,e,n){isNaN(t)&&(t=0),t=(t%360+360)%360/360;var a=0,s=0,g=0;if(0===e)a=s=g=n;else{var y=6*(t-Math.floor(t)),_=y-Math.floor(y),E=n*(1-e),R=n*(1-e*_),A=n*(1-e*(1-_));switch(y>>0){case 0:a=n,s=A,g=E;break;case 1:a=R,s=n,g=E;break;case 2:a=E,s=n,g=A;break;case 3:a=E,s=R,g=n;break;case 4:a=A,s=E,g=n;break;case 5:a=n,s=E,g=R}}return[a,s,g]},l.prototype.derive=function(t,e,n,a){var s=l.RGBtoHSB(this.r,this.g,this.b),g=s[2];0==g&&n>1&&(g=.05);var y=((s[0]+t)%360+360)%360,_=Math.max(Math.min(s[1]*e,1),0);g=Math.max(Math.min(g*n,1),0);var E=Math.max(Math.min(this.a*a,1),0),R=l.HSBtoRGB(y,_,g);return R.push(E),l.fromArray(R)},l.prototype.brighter=function(){return this.derive(0,1,1/.7,1)},l.prototype.darker=function(){return this.derive(0,1,.7,1)},l.nameToHex=Object.freeze({aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}),l}();function av(l,t){if("string"==typeof l)try{l=qi.fromString(l)}catch(g){l=qi.fromArray([0,0,0])}if("string"==typeof t)try{t=qi.fromString(t)}catch(g){t=qi.fromArray([0,0,0])}var e=Ma(l.r,t.r),n=Ma(l.g,t.g),a=Ma(l.b,t.b),s=Ma(l.a,t.a);return function(g){return qi.fromArray([e(g),n(g),a(g),s(g)]).toRgbaString()}}function qo(l,t){var e=typeof t;if(null==t||"boolean"===e)return function(l){return function(){return l}}(t);if("number"===e)return Ma(l,t);if("string"===e)try{return av(l,t=qi.fromString(t))}catch(a){}return t instanceof qi?av(l,t):t instanceof Date?function GS(l,t){var e=new Date,n=+l,a=+t;return function(s){return e.setTime(n*(1-s)+a*s),e}}(l,t):Array.isArray(t)?function Qp(l,t){var g,e=t?t.length:0,n=l?Math.min(e,l.length):0,a=new Array(n),s=new Array(e);for(g=0;g<n;++g)a[g]=qo(l[g],t[g]);for(;g<e;++g)s[g]=t[g];return function(y){for(g=0;g<n;++g)s[g]=a[g](y);return s}}(l,t):"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function SC(l,t){var a,e={},n={};for(a in(null===l||"object"!=typeof l)&&(l={}),(null===t||"object"!=typeof t)&&(t={}),t)a in l?e[a]=qo(l[a],t[a]):n[a]=t[a];return function(s){for(a in e)n[a]=e[a](s);return n}}(l,t):Ma(l,t)}function yc(l,t){return l<t?-1:l>t?1:l>=t?0:NaN}var mc=function(l){return l};function Ia(l){var t,e=l[0],n=l[l.length-1];return e>n&&(t=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}([n,e],2),e=t[0],n=t[1]),function(a){return Math.max(e,Math.min(n,a))}}var pv,gl,hv,AC,Xi=function(){function l(){this.unknown=void 0,this.clamper=Ia,this._clamp=mc,this._domain=[0,1],this._range=[0,1],this.transform=mc,this.untransform=mc,this._interpolate=qo,this.rescale()}return Object.defineProperty(l.prototype,"clamp",{get:function(){return this._clamp!==mc},set:function(t){this._clamp=t?this.clamper(this.domain):mc},enumerable:!0,configurable:!0}),l.prototype.setDomain=function(t){this._domain=Array.prototype.map.call(t,function(e){return+e}),this._clamp!==mc&&(this._clamp=this.clamper(this.domain)),this.rescale()},l.prototype.getDomain=function(){return this._domain.slice()},Object.defineProperty(l.prototype,"domain",{get:function(){return this.getDomain()},set:function(t){this.setDomain(t)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range.slice()},set:function(t){this._range=Array.prototype.slice.call(t),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"interpolate",{get:function(){return this._interpolate},set:function(t){this._interpolate=t,this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){this.piecewise=Math.min(this.domain.length,this.range.length)>2?this.polymap:this.bimap,this.output=void 0,this.input=void 0},l.prototype.normalize=function(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(l){return function(){return l}}(isNaN(e)?NaN:.5)},l.prototype.bimap=function(t,e,n){var _,E,a=t[0],s=t[1],g=e[0],y=e[1];return s<a?(_=this.normalize(s,a),E=n(y,g)):(_=this.normalize(a,s),E=n(g,y)),function(R){return E(_(R))}},l.prototype.polymap=function(t,e,n){var a=this,s=Math.min(t.length,e.length)-1;t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());var g=Array.from({length:s},function(_,E){return a.normalize(t[E],t[E+1])}),y=Array.from({length:s},function(_,E){return n(e[E],e[E+1])});return function(_){var E=function bC(l,t,e,n,a){for(void 0===n&&(n=0),void 0===a&&(a=l.length);n<a;){var s=n+a>>>1;e(l[s],t)>0?a=s:n=s+1}return n}(t,_,yc,1,s)-1;return y[E](g[E](_))}},l.prototype.convert=function(t,e){if(t=+t,isNaN(t))return this.unknown;this.output||(this.output=this.piecewise(this.domain.map(this.transform),this.range,this.interpolate));var n=e?e(this.domain):this._clamp;return this.output(this.transform(n(t)))},l.prototype.invert=function(t){return this.input||(this.input=this.piecewise(this.range,this.domain.map(this.transform),Ma)),this._clamp(this.untransform(this.input(t)))},l}(),So={"":function kS(l,t){var e=l.toPrecision(t);e:for(var n=e.length,a=1,s=-1,g=0;a<n;++a)switch(e[a]){case".":s=g=a;break;case"0":0===s&&(s=a),g=a;break;case"e":break e;default:s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(g+1):e},"%":function(l,t){return(100*l).toFixed(t)},b:function(l){return Math.round(l).toString(2)},c:function(l){return String(l)},d:function Vn(l){return Math.abs(l=Math.round(l))>=1e21?l.toLocaleString("en").replace(/,/g,""):l.toString(10)},e:function(l,t){return l.toExponential(t)},f:function(l,t){return l.toFixed(t)},g:function(l,t){return l.toPrecision(t)},o:function(l){return Math.round(l).toString(8)},p:function(l,t){return PC(100*l,t)},r:PC,s:function VS(l,t){void 0===t&&(t=0);var e=fu(l,t);if(!e)return String(l);var n=e[0],a=e[1],s=a-(pv=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,g=n.length;if(s===g)return n;if(s>g)return n+new Array(s-g+1).join("0");if(s>0)return n.slice(0,s)+"."+n.slice(s);var y=fu(l,Math.max(0,t+s-1));return"0."+new Array(1-s).join("0")+y[0]},X:function(l){return Math.round(l).toString(16).toUpperCase()},x:function(l){return Math.round(l).toString(16)}},Jp=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"],Zh=function l(t){t instanceof l?(this.fill=t.fill,this.align=t.align,this.sign=t.sign,this.symbol=t.symbol,this.zero=t.zero,this.width=t.width,this.comma=t.comma,this.precision=t.precision,this.trim=t.trim,this.type=t.type,this.string=t.string):(this.fill=void 0===t.fill?" ":String(t.fill),this.align=void 0===t.align?">":String(t.align),this.sign=void 0===t.sign?"-":String(t.sign),this.symbol=void 0===t.symbol?"":String(t.symbol),this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":String(t.type),this.string=t.string)},lv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i,uv=/(#\{(.*?)\})/g;function cv(l){if(l instanceof Zh)return new Zh(l);var t=!1,e=l.replace(uv,function(){return t||(l=arguments[2],t=!0),"#{}"}),n=lv.exec(l);if(!n)throw new Error("Invalid format: "+l);return new Zh({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10],string:t?e:void 0})}function PC(l,t){var e=fu(l,t);if(!e)return String(l);var n=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}function fu(l,t){var e=t?l.toExponential(t-1):l.toExponential(),n=e.indexOf("e");if(!(n<0)){var a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}}function TC(l){return l}function Ct(l){var t=fu(Math.abs(l));return t?t[1]:NaN}!function xC(l){gl=function ms(l){var t=void 0===l.grouping||void 0===l.thousands?TC:function RC(l,t){return function(e,n){for(var a=[],s=e.length,g=0,y=l[0],_=0;s>0&&y>0&&(_+y+1>n&&(y=Math.max(1,n-_)),a.push(e.substring(s-=y,s+y)),!((_+=y+1)>n));)y=l[g=(g+1)%l.length];return a.reverse().join(t)}}(Array.prototype.map.call(l.grouping,Number),String(l.thousands)),e=void 0===l.currency?"":String(l.currency[0]),n=void 0===l.currency?"":String(l.currency[1]),a=void 0===l.decimal?".":String(l.decimal),s=void 0===l.numerals?TC:function DC(l){return function(t){return t.replace(/[0-9]/g,function(e){return l[+e]})}}(Array.prototype.map.call(l.numerals,String)),g=void 0===l.percent?"%":String(l.percent),y=void 0===l.minus?"\u2212":String(l.minus),_=void 0===l.nan?"NaN":String(l.nan);function E(A){var T=cv(A),F=T.fill,I=T.align,G=T.sign,j=T.symbol,U=T.zero,z=T.width,Y=T.comma,J=T.precision,se=T.trim,ae=T.type;"n"===ae?(Y=!0,ae="g"):So[ae]||(void 0===J&&(J=12),se=!0,ae="g"),(U||"0"===F&&"="===I)&&(U=!0,F="0",I="=");var ce="$"===j?e:"#"===j&&/[boxX]/.test(ae)?"0"+ae.toLowerCase():"",pe="$"===j?n:/[%p]/.test(ae)?g:"",fe=So[ae],we=/[defgprs%]/.test(ae);return J=void 0===J?6:/[gprs]/.test(ae)?Math.max(1,Math.min(21,J)):Math.max(0,Math.min(20,J)),function Fe(De){var me,_e=ce,Re=pe;if("c"===ae)Re=fe(+De)+Re,me="";else{var he=+De,Ae=De<0||1/he<0;if(me=isNaN(he)?_:fe(Math.abs(he),J),se&&(me=function dv(l){e:for(var t=l.length,e=1,n=-1,a=0;e<t;++e)switch(l[e]){case".":n=a=e;break;case"0":0===n&&(n=e),a=e;break;default:if(!+l[e])break e;n>0&&(n=0)}return n>0?l.slice(0,n)+l.slice(a+1):l}(me)),Ae&&0==+me&&"+"!==G&&(Ae=!1),_e=(Ae?"("===G?G:y:"-"===G||"("===G?"":G)+_e,Re=("s"===ae?Jp[8+pv/3]:"")+Re+(Ae&&"("===G?")":""),we)for(var Le=0,Ze=me.length;Le<Ze;Le++){var Be=me.charCodeAt(Le);if(48>Be||Be>57){Re=(46===Be?a+me.slice(Le+1):me.slice(Le))+Re,me=me.slice(0,Le);break}}}Y&&!U&&(me=t(me,1/0));var at=_e.length+me.length+Re.length,Ye=at<z?new Array(z-at+1).join(F):"";switch(Y&&U&&(me=t(Ye+me,Ye.length?z-Re.length:1/0),Ye=""),I){case"<":me=_e+me+Re+Ye;break;case"=":me=_e+Ye+me+Re;break;case"^":me=Ye.slice(0,at=Ye.length>>1)+_e+me+Re+Ye.slice(at);break;default:me=Ye+_e+me+Re}var dt=T.string;return dt?dt.replace(uv,function(){return s(me)}):s(me)}}return{format:E,formatPrefix:function R(A,T){var F=cv(A);F.type="f";var I=E(F),G=3*Math.max(-8,Math.min(8,Math.floor(Ct(T)/3))),j=Math.pow(10,-G),U=Jp[8+G/3];return function(z){return I(j*+z)+U}}}}(l),hv=gl.format,AC=gl.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var bo=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rn=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="linear",e}return bo(t,l),t.prototype.ticks=function(e){void 0===e&&(e=10);var n=this._domain;return Xh(n[0],n[n.length-1],e)},t.prototype.nice=function(e){void 0===e&&(e=10);var _,n=this.domain,a=0,s=n.length-1,g=n[a],y=n[s];y<g&&(_=g,g=y,y=_,_=a,a=s,s=_),(_=vc(g,y,e))>0?_=vc(g=Math.floor(g/_)*_,y=Math.ceil(y/_)*_,e):_<0&&(_=vc(g=Math.ceil(g*_)/_,y=Math.floor(y*_)/_,e)),_>0?(n[a]=Math.floor(g/_)*_,n[s]=Math.ceil(y/_)*_,this.domain=n):_<0&&(n[a]=Math.ceil(g*_)/_,n[s]=Math.floor(y*_)/_,this.domain=n)},t.prototype.tickFormat=function(e,n){var a=this.domain;return function OC(l,t,e,n){var g,a=gc(l,t,e),s=cv(null==n?",f":n);switch(s.type){case"s":var y=Math.max(Math.abs(l),Math.abs(t));return null==s.precision&&!isNaN(g=function ed(l,t){var e=Math.floor(Ct(t)/3);return e=Math.min(8,e),e=Math.max(-8,e),Math.max(0,3*e-Ct(Math.abs(l)))}(a,y))&&(s.precision=g),AC(s,y);case"":case"e":case"g":case"p":case"r":null==s.precision&&!isNaN(g=function MC(l,t){return l=Math.abs(l),t=Math.abs(t)-l,Math.max(0,Ct(t)-Ct(l))+1}(a,Math.max(Math.abs(l),Math.abs(t))))&&(s.precision=g-+("e"===s.type));break;case"f":case"%":null==s.precision&&!isNaN(g=function Qi(l){return Math.max(0,-Ct(Math.abs(l)))}(a))&&(s.precision=g-2*+("%"===s.type))}return hv(s)}(a[0],a[a.length-1],null==e?10:e,n)},t}(Xi);function Cc(l,t){for(var e=0;e<l.length;e++){var n=l[e];if(t(n,e,l))return n}}function Cs(l){return l}function Zi(l,t,e){for(var g,y,_,n=e||Cs,a=l.length,s=-1;++s<a;)if(t(g=l[s]))for(y=_=g;++s<a;)t(g=l[s])&&(y>g&&(y=g),_<g&&(_=g));return void 0===y||void 0===_?void 0:[n(y),n(_)]}function Na(l){var t=typeof l;return"string"!==t&&"number"===t&&l-l<1}function ws(l){return"string"==typeof l}function rd(l){return ws(l)||function td(l){return!!l&&l.hasOwnProperty("toString")&&ws(l.toString())}(l)}function nn(l){return function gv(l){return Na(l)||function FC(l){return!!l&&l.hasOwnProperty("valueOf")&&Na(l.valueOf())}(l)}(l)||function hO(l){return l instanceof Date&&!isNaN(+l)}(l)}var vv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),un=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e._opacity=1,e}return vv(t,l),Object.defineProperty(t.prototype,"opacity",{get:function(){return this._opacity},set:function(e){e=Math.min(1,Math.max(0,e)),this._opacity!==e&&(this._opacity=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.containsPoint=function(e,n){return!0},t.prototype.computeBBox=function(){var e=1/0,n=-1/0,a=1/0,s=-1/0;return this.dirtyTransform&&this.computeTransformMatrix(),this.children.forEach(function(g){if(g.visible){var y=g.computeBBox();if(y){if(!(g instanceof t)){g.dirtyTransform&&g.computeTransformMatrix();for(var _=dl.flyweight(g.matrix),E=g.parent;E;)_.preMultiplySelf(E.matrix),E=E.parent;_.transformBBox(y,0,y)}var R=y.x,A=y.y;R<e&&(e=R),A<a&&(a=A),R+y.width>n&&(n=R+y.width),A+y.height>s&&(s=A+y.height)}}}),new Dr(e,a,n-e,s-a)},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.children,a=n.length;e.globalAlpha*=this.opacity,this.dirtyZIndex&&(this.dirtyZIndex=!1,n.sort(function(y,_){return y.zIndex-_.zIndex}));for(var s=0;s<a;s++){var g=n[s];g.visible&&(e.save(),g.render(e),e.restore())}},t.className="Group",t}(An),IC=function(){function l(t,e){this.next=null,this.scene=t.scene,this.parent=t,this.datum=e}return l.prototype.appendChild=function(t){if(null===this.next)return this.parent.insertBefore(t,null);if(!An.isNode(this.next))throw new Error(this.next+" is not a Node.");return this.parent.insertBefore(t,this.next)},l.prototype.insertBefore=function(t,e){return this.parent.insertBefore(t,e)},l}(),cn=function(){function l(t,e){this.groups=t,this.parents=e}return l.select=function(t){return new l([["function"==typeof t?t():t]],[void 0])},l.selectAll=function(t){return new l([null==t?[]:t],[void 0])},l.prototype.append=function(t){return this.select(function(e){return e.appendChild(new t)})},l.prototype.appendFn=function(t){return this.select(function(e,n,a,s){return e.appendChild(t(e,n,a,s))})},l.prototype.select=function(t){for(var e=this.groups,n=e.length,a=[],s=0;s<n;s++)for(var g=e[s],y=g.length,_=a[s]=new Array(y),E=0;E<y;E++){var R=g[E];if(R){var A=t(R,R.datum,E,g);A&&(A.datum=R.datum),_[E]=A}}return new l(a,this.parents)},l.prototype.selectByClass=function(t){return this.select(function(e){if(An.isNode(e))for(var n=e.children,a=n.length,s=0;s<a;s++){var g=n[s];if(g instanceof t)return g}})},l.prototype.selectByTag=function(t){return this.select(function(e){if(An.isNode(e))for(var n=e.children,a=n.length,s=0;s<a;s++){var g=n[s];if(g.tag===t)return g}})},l.prototype.selectAllByClass=function(t){return this.selectAll(function(e){var n=[];if(An.isNode(e))for(var a=e.children,s=a.length,g=0;g<s;g++){var y=a[g];y instanceof t&&n.push(y)}return n})},l.prototype.selectAllByTag=function(t){return this.selectAll(function(e){var n=[];if(An.isNode(e))for(var a=e.children,s=a.length,g=0;g<s;g++){var y=a[g];y.tag===t&&n.push(y)}return n})},l.prototype.selectNone=function(){return[]},l.prototype.selectAll=function(t){t||(t=this.selectNone);for(var e=[],n=[],a=this.groups,s=a.length,g=0;g<s;g++)for(var y=a[g],_=y.length,E=0;E<_;E++){var R=y[E];R&&(e.push(t(R,R.datum,E,y)),n.push(R))}return new l(e,n)},l.prototype.each=function(t){for(var e=this.groups,n=e.length,a=0;a<n;a++)for(var s=e[a],g=s.length,y=0;y<g;y++){var _=s[y];_&&t(_,_.datum,y,s)}return this},l.prototype.remove=function(){return this.each(function(t){if(An.isNode(t)){var e=t.parent;e&&e.removeChild(t)}})},l.prototype.merge=function(t){for(var e=this.groups,n=t.groups,a=e.length,g=Math.min(a,n.length),y=new Array(a),_=0;_<g;_++)for(var E=e[_],R=n[_],A=E.length,T=y[_]=new Array(A),F=0;F<A;F++)T[F]=E[F]||R[F]||void 0;for(;_<a;_++)y[_]=e[_];return new l(y,this.parents)},l.prototype.node=function(){for(var t=this.groups,e=t.length,n=0;n<e;n++)for(var a=t[n],s=a.length,g=0;g<s;g++){var y=a[g];if(y)return y}return null},l.prototype.attr=function(t,e){return this.each(function(n){n[t]=e}),this},l.prototype.attrFn=function(t,e){return this.each(function(n,a,s,g){n[t]=e(n,a,s,g)}),this},l.prototype.call=function(t){return t(this),this},Object.defineProperty(l.prototype,"size",{get:function(){var t=0;return this.each(function(){return t++}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"data",{get:function(){var t=[];return this.each(function(e,n){return t.push(n)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"enter",{get:function(){return new l(this.enterGroups?this.enterGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"exit",{get:function(){return new l(this.exitGroups?this.exitGroups:[[]],this.parents)},enumerable:!0,configurable:!0}),l.prototype.setDatum=function(t){return this.each(function(e){e.datum=t})},Object.defineProperty(l.prototype,"datum",{get:function(){var t=this.node();return t?t.datum:null},enumerable:!0,configurable:!0}),l.prototype.setData=function(t,e){if("function"!=typeof t){var n=t;t=function(){return n}}for(var a=this.groups,s=this.parents,g=a.length,y=new Array(g),_=new Array(g),E=new Array(g),R=0;R<g;R++){var A=a[R],T=s[R];if(!T)throw new Error("Group #"+R+" has no parent: "+A);var F=A.length,I=t(T,T.datum,R,s),G=I.length,j=_[R]=new Array(G),U=y[R]=new Array(G),z=E[R]=new Array(F);e?this.bindKey(T,A,j,U,z,I,e):this.bindIndex(T,A,j,U,z,I);for(var Y=0,J=0;Y<G;Y++){var se=j[Y];if(se){Y>=J&&(J=Y+1);for(var ae=void 0;!(ae=U[J])&&J<G;)J++;se.next=ae||null}}}var ce=new l(y,s);return ce.enterGroups=_,ce.exitGroups=E,ce},l.prototype.bindIndex=function(t,e,n,a,s,g){for(var y=e.length,_=g.length,E=0;E<_;E++)(R=e[E])?(R.datum=g[E],a[E]=R):n[E]=new IC(t,g[E]);for(;E<y;E++){var R;(R=e[E])&&(s[E]=R)}},l.prototype.bindKey=function(t,e,n,a,s,g,y){for(var _=e.length,E=g.length,R=new Array(_),A={},T=0;T<_;T++)(F=e[T])&&((I=R[T]=l.keyPrefix+y(F,F.datum,T,e))in A?s[T]=F:A[I]=F);for(T=0;T<E;T++){var I;(F=A[I=l.keyPrefix+y(t,g[T],T,g)])?(a[T]=F,F.datum=g[T],A[I]=void 0):n[T]=new IC(t,g[T])}for(T=0;T<_;T++){var F;(F=e[T])&&A[R[T]]===F&&(s[T]=F)}},l.keyPrefix="$",l}(),NC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Eo=function(l){function t(){var e=l.call(this)||this;return e._x1=0,e._y1=0,e._x2=0,e._y2=0,e.restoreOwnStyles(),e}return NC(t,l),Object.defineProperty(t.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1!==e&&(this._x1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1!==e&&(this._y1=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2!==e&&(this._x2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2!==e&&(this._y2=e,this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){return new Dr(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)},t.prototype.isPointInPath=function(e,n){return!1},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this.x1,a=this.y1,s=this.x2,g=this.y2;if(n===s){var y=Math.round(n)+Math.floor(this.strokeWidth)%2/2;n=y,s=y}else if(a===g){var _=Math.round(a)+Math.floor(this.strokeWidth)%2/2;a=_,g=_}e.beginPath(),e.moveTo(n,a),e.lineTo(s,g),this.fillStroke(e),this.dirty=!1},t.className="Line",t.defaultStyles=vr(Di.defaultStyles,{fill:void 0,strokeWidth:1}),t}(Di),yv=Math.sign?Math.sign:function(l){return 0==(l=+l)||isNaN(l)?l:l>0?1:-1};function nd(l,t,e,n,a,s,g,y){var _=(e-l)*(y-s)-(n-t)*(g-a);if(0===_)return null;var E=((g-a)*(t-s)-(l-a)*(y-s))/_,R=((e-l)*(t-s)-(n-t)*(l-a))/_;return E>=0&&E<=1&&R>=0&&R<=1?{x:l+E*(e-l),y:t+E*(n-t)}:null}function mv(l,t,e,n,a,s,g,y,_,E,R,A){for(var T=[],F=E-A,I=R-_,G=_*(A-E)-E*(R-_),j=kC(l,e,a,g),U=kC(t,n,s,y),ae=function fO(l,t,e,n){if(0===l)return function GC(l,t,e){if(0===l)return function LC(l,t){var e=-t/l;return 0!==l&&e>=0&&e<=1?[e]:[]}(t,e);var n=t*t-4*l*e,a=[];if(0===n){var s=-t/(2*l);s>=0&&s<=1&&a.push(s)}else if(n>0){var g=Math.sqrt(n),y=(-t-g)/(2*l),_=(-t+g)/(2*l);y>=0&&y<=1&&a.push(y),_>=0&&_<=1&&a.push(_)}return a}(t,e,n);var a=t/l,s=e/l,y=(3*s-a*a)/9,_=(9*a*s-n/l*27-2*a*a*a)/54,E=y*y*y+_*_,R=1/3,A=[];if(E>=0){var T=Math.sqrt(E),F=yv(_+T)*Math.pow(Math.abs(_+T),R),I=yv(_-T)*Math.pow(Math.abs(_-T),R),G=Math.abs(Math.sqrt(3)*(F-I)/2),j=-R*a+(F+I);if(j>=0&&j<=1&&A.push(j),0===G){var U=-R*a-(F+I)/2;U>=0&&U<=1&&A.push(U)}}else{var z=Math.acos(_/Math.sqrt(-y*y*y)),Y=R*a,J=2*Math.sqrt(-y),se=J*Math.cos(R*z)-Y,ae=J*Math.cos(R*(z+2*Math.PI))-Y,ce=J*Math.cos(R*(z+4*Math.PI))-Y;se>=0&&se<=1&&A.push(se),ae>=0&&ae<=1&&A.push(ae),ce>=0&&ce<=1&&A.push(ce)}return A}(F*j[0]+I*U[0],F*j[1]+I*U[1],F*j[2]+I*U[2],F*j[3]+I*U[3]+G),ce=0;ce<ae.length;ce++){var _e,pe=ae[ce],fe=pe*pe,we=pe*fe,Fe=j[0]*we+j[1]*fe+j[2]*pe+j[3],De=U[0]*we+U[1]*fe+U[2]*pe+U[3];(_e=_!==R?(Fe-_)/(R-_):(De-E)/(A-E))>=0&&_e<=1&&T.push({x:Fe,y:De})}return T}function kC(l,t,e,n){return[3*t-l-3*e+n,3*l-6*t+3*e,-3*l+3*t,l]}var id=function(){function l(){this.commands=[],this.params=[],this._closedPath=!1}return l.prototype.draw=function(t){var e=this.commands,n=this.params,a=e.length,s=0;t.beginPath();for(var g=0;g<a;g++)switch(e[g]){case"M":t.moveTo(n[s++],n[s++]);break;case"L":t.lineTo(n[s++],n[s++]);break;case"C":t.bezierCurveTo(n[s++],n[s++],n[s++],n[s++],n[s++],n[s++]);break;case"Z":t.closePath()}},l.prototype.moveTo=function(t,e){this.xy?(this.xy[0]=t,this.xy[1]=e):this.xy=[t,e],this.commands.push("M"),this.params.push(t,e)},l.prototype.lineTo=function(t,e){this.xy?(this.commands.push("L"),this.params.push(t,e),this.xy[0]=t,this.xy[1]=e):this.moveTo(t,e)},l.prototype.rect=function(t,e,n,a){this.moveTo(t,e),this.lineTo(t+n,e),this.lineTo(t+n,e+a),this.lineTo(t,e+a),this.closePath()},l.prototype.arcTo=function(t,e,n,a,s,g,y){var _=this.xy;if(_){t<0&&(t=-t),e<0&&(e=-e);var E=_[0],R=_[1],A=(E-g)/2,T=(R-y)/2,F=Math.sin(n),I=Math.cos(n),G=I*A+F*T,j=-F*A+I*T,U=G/t,z=j/e,Y=U*U+z*z,J=(E+g)/2,se=(R+y)/2,ae=0,ce=0;Y>=1?(t*=Y=Math.sqrt(Y),e*=Y):(Y=Math.sqrt(1/Y-1),a===s&&(Y=-Y),J+=I*(ae=Y*t*z)-F*(ce=-Y*e*U),se+=F*ae+I*ce);var pe=Math.atan2((j-ce)/e,(G-ae)/t),fe=Math.atan2((-j-ce)/e,(-G-ae)/t)-pe;this.cubicArc(J,se,t,e,n,pe,pe+fe,1-s)}},l.cubicArc=function(t,e,n,a,s,g,y,_,E,R){if(R){var A=_;_=E,E=A}var T=e.length,F=.5522847498307935,I=Math.sin(_),G=Math.cos(_),j=Math.sin(y),U=Math.cos(y),z=Math.PI/2,Y=U*G*s-j*I*g,J=j*G*s+U*I*g,se=-U*I*s-j*G*g,ae=-j*I*s+U*G*g;for((E-=_)<0&&(E+=2*Math.PI),t.push("M"),e.push(Y+n,J+a);E>=z;){E-=z,t.push("C");var ce=se+n;e.push(Y+se*F+n,J+ae*F+a,Y*F+se+n,J*F+ae+a,Math.abs(ce)<1e-8?0:ce,ae+a),A=Y,Y=se,se=-A,A=J,J=ae,ae=-A}if(E){var pe=1.3333333333333333*Math.tan(E/4),fe=Math.sin(E),we=Math.cos(E),Fe=we+pe*fe,De=fe-pe*we;t.push("C"),ce=Y*we+se*fe+n,e.push(Y+se*pe+n,J+ae*pe+a,Y*Fe+se*De+n,J*Fe+ae*De+a,Math.abs(ce)<1e-8?0:ce,J*we+ae*fe+a)}if(R)for(var _e=T,Re=e.length-2;_e<Re;_e+=2,Re-=2)A=e[_e],e[_e]=e[Re],e[Re]=A,A=e[_e+1],e[_e+1]=e[Re+1],e[Re+1]=A},l.prototype.cubicArc=function(t,e,n,a,s,g,y,_){var E=this.commands,R=this.params,A=E.length;l.cubicArc(E,R,t,e,n,a,s,g,y,_);var T=R[R.length-2],F=R[R.length-1];this.xy?(E[A]="L",this.xy[0]=T,this.xy[1]=F):this.xy=[T,F]},l.prototype.deCasteljau=function(t,e){var n=t.length;if(n<2||n%2==1)throw new Error("Fewer than two points or not an even count.");if(2===n||0===e)return t.slice(0,2);if(1===e)return t.slice(-2);for(var a=[],s=n-2,g=0;g<s;g+=2)a.push((1-e)*t[g]+e*t[g+2],(1-e)*t[g+1]+e*t[g+3]);return this.deCasteljau(a,e)},l.prototype.approximateCurve=function(t,e){var n=this.deCasteljau(t,0);this.moveTo(n[0],n[1]);for(var a=1/e,s=a;s<=1;s+=a){var g=this.deCasteljau(t,s);this.lineTo(g[0],g[1])}},l.prototype.quadraticCurveTo=function(t,e,n,a){this.xy||this.moveTo(t,e),this.cubicCurveTo((this.xy[0]+2*t)/3,(this.xy[1]+2*e)/3,(2*t+n)/3,(2*e+a)/3,n,a)},l.prototype.cubicCurveTo=function(t,e,n,a,s,g){this.xy||this.moveTo(t,e),this.commands.push("C"),this.params.push(t,e,n,a,s,g),this.xy[0]=s,this.xy[1]=g},Object.defineProperty(l.prototype,"closedPath",{get:function(){return this._closedPath},enumerable:!0,configurable:!0}),l.prototype.closePath=function(){this.xy&&(this.xy=void 0,this.commands.push("Z"),this._closedPath=!0)},l.prototype.clear=function(){this.commands.length=0,this.params.length=0,this.xy=void 0,this._closedPath=!1},l.prototype.isPointInPath=function(t,e){for(var n=this.commands,a=this.params,s=n.length,g=-1e4,y=-1e4,_=NaN,E=NaN,R=0,A=0,T=0,F=0,I=0;F<s;F++)switch(n[F]){case"M":isNaN(_)||nd(_,E,R,A,g,y,t,e)&&T++,_=R=a[I++],E=A=a[I++];break;case"L":nd(R,A,R=a[I++],A=a[I++],g,y,t,e)&&T++;break;case"C":T+=mv(R,A,a[I++],a[I++],a[I++],a[I++],R=a[I++],A=a[I++],g,y,t,e).length;break;case"Z":isNaN(_)||nd(_,E,R,A,g,y,t,e)&&T++}return T%2==1},l.fromString=function(t){var e=new l;return e.setFromString(t),e},l.parseSvgPath=function(t){return t.trim().split(l.splitCommandsRe).map(function(e){var n=e.match(l.matchParamsRe);return{command:e.substr(0,1),params:n?n.map(parseFloat):[]}})},l.prettifySvgPath=function(t){return l.parseSvgPath(t).map(function(e){return e.command+e.params.join(",")}).join("\n")},l.prototype.setFromString=function(t){var a,s,g,y,_,e=this;function E(){_.match(l.quadraticCommandRe)||(g=a,y=s)}function R(){_.match(l.cubicCommandRe)||(g=a,y=s)}this.clear(),l.parseSvgPath(t).forEach(function(A){var T=A.params,F=T.length,I=0;switch(A.command){case"M":for(e.moveTo(a=T[I++],s=T[I++]);I<F;)e.lineTo(a=T[I++],s=T[I++]);break;case"m":for(e.moveTo(a+=T[I++],s+=T[I++]);I<F;)e.lineTo(a+=T[I++],s+=T[I++]);break;case"L":for(;I<F;)e.lineTo(a=T[I++],s=T[I++]);break;case"l":for(;I<F;)e.lineTo(a+=T[I++],s+=T[I++]);break;case"C":for(;I<F;)e.cubicCurveTo(T[I++],T[I++],g=T[I++],y=T[I++],a=T[I++],s=T[I++]);break;case"c":for(;I<F;)e.cubicCurveTo(a+T[I++],s+T[I++],g=a+T[I++],y=s+T[I++],a+=T[I++],s+=T[I++]);break;case"S":for(R();I<F;)e.cubicCurveTo(a+a-g,s+s-y,g=T[I++],y=T[I++],a=T[I++],s=T[I++]);break;case"s":for(R();I<F;)e.cubicCurveTo(a+a-g,s+s-y,g=a+T[I++],y=s+T[I++],a+=T[I++],s+=T[I++]);break;case"Q":for(;I<F;)e.quadraticCurveTo(g=T[I++],y=T[I++],a=T[I++],s=T[I++]);break;case"q":for(;I<F;)e.quadraticCurveTo(g=a+T[I++],y=s+T[I++],a+=T[I++],s+=T[I++]);break;case"T":for(E();I<F;)e.quadraticCurveTo(g=a+a-g,y=s+s-y,a=T[I++],s=T[I++]);break;case"t":for(E();I<F;)e.quadraticCurveTo(g=a+a-g,y=s+s-y,a+=T[I++],s+=T[I++]);break;case"A":for(;I<F;)e.arcTo(T[I++],T[I++],T[I++]*Math.PI/180,T[I++],T[I++],a=T[I++],s=T[I++]);break;case"a":for(;I<F;)e.arcTo(T[I++],T[I++],T[I++]*Math.PI/180,T[I++],T[I++],a+=T[I++],s+=T[I++]);break;case"Z":case"z":e.closePath();break;case"H":for(;I<F;)e.lineTo(a=T[I++],s);break;case"h":for(;I<F;)e.lineTo(a+=T[I++],s);break;case"V":for(;I<F;)e.lineTo(a,s=T[I++]);break;case"v":for(;I<F;)e.lineTo(a,s+=T[I++])}_=A.command})},l.prototype.toString=function(){for(var t=this.commands,e=this.params,n=t.length,a=[],s=0,g=0;s<n;s++)switch(t[s]){case"M":a.push("M"+e[g++]+","+e[g++]);break;case"L":a.push("L"+e[g++]+","+e[g++]);break;case"C":a.push("C"+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]+" "+e[g++]+","+e[g++]);break;case"Z":a.push("Z")}return a.join("")},l.prototype.toPrettyString=function(){return l.prettifySvgPath(this.toString())},l.prototype.toSvg=function(){return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 50 50" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+this.toString()+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toDebugSvg=function(){var t=l.prettifySvgPath(this.toString());return l.xmlDeclaration+'\n<svg width="100%" height="100%" viewBox="0 0 100 100" version="1.1" xmlns="'+l.xmlns+'">\n    <path d="'+t+'" style="fill:none;stroke:#000;stroke-width:0.5;"/>\n</svg>'},l.prototype.toCubicPaths=function(){var n,a,s,g,y,t=[],e=this.params,_=0;return this.commands.forEach(function(E){switch(E){case"M":n=[a=g=e[_++],s=y=e[_++]],t.push(n);break;case"L":var R=e[_++],A=e[_++];n.push((g+g+R)/3,(y+y+A)/3,(g+R+R)/3,(y+A+A)/3,g=R,y=A);break;case"C":n.push(e[_++],e[_++],e[_++],e[_++],g=e[_++],y=e[_++]);break;case"Z":n.push((g+g+a)/3,(y+y+s)/3,(g+a+a)/3,(y+s+s)/3,g=a,y=s)}}),t},l.cubicPathToString=function(t){var e=t.length;if(!(e%2==0&&(e/2-1)/2>=1))throw new Error("Invalid path.");return"M"+t.slice(0,2).join(",")+"C"+t.slice(2).join(",")},l.splitCommandsRe=/(?=[AaCcHhLlMmQqSsTtVvZz])/g,l.matchParamsRe=/-?[0-9]*\.?\d+/g,l.quadraticCommandRe=/[QqTt]/,l.cubicCommandRe=/[CcSs]/,l.xmlDeclaration='<?xml version="1.0" encoding="UTF-8"?>',l.xmlns="http://www.w3.org/2000/svg",l}(),gO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xn=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.path=new id,e._dirtyPath=!0,e._svgPath="",e}return gO(t,l),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"svgPath",{get:function(){return this._svgPath},set:function(e){this._svgPath!==e&&(this._svgPath=e,this.path.setFromString(e),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n);return this.path.closedPath&&this.path.isPointInPath(a.x,a.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.updatePath=function(){},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e),this.dirtyPath&&(this.updatePath(),this.dirtyPath=!1),this.path.draw(e),this.fillStroke(e),this.dirty=!1},t.className="Path",t}(Di),La=2*Math.PI;function Ga(l){return l%=La,(l+=La)%La}function pn(l){return l/180*Math.PI}function VC(l,t,e){return void 0===e&&(e=1e-10),Math.abs(l-t)<e}function BC(l,t){void 0===t&&(t=2);var e=Math.floor(Math.log(Math.abs(l))/Math.LN10);return e>=0||!isFinite(e)?l.toFixed(t):l.toFixed(Math.abs(e)-1+t)}var yO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ni=(()=>(function(l){l[l.Open=0]="Open",l[l.Chord=1]="Chord",l[l.Round=2]="Round"}(ni||(ni={})),ni))(),wc=function(l){function t(){var e=l.call(this)||this;return e._centerX=0,e._centerY=0,e._radiusX=10,e._radiusY=10,e._startAngle=0,e._endAngle=2*Math.PI,e._counterClockwise=!1,e._type=ni.Open,e.restoreOwnStyles(),e}return yO(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusX",{get:function(){return this._radiusX},set:function(e){this._radiusX!==e&&(this._radiusX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radiusY",{get:function(){return this._radiusY},set:function(e){this._radiusY!==e&&(this._radiusY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPie",{get:function(){return VC(Ga(this.startAngle),Ga(this.endAngle))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"counterClockwise",{get:function(){return this._counterClockwise},set:function(e){this._counterClockwise!==e&&(this._counterClockwise=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(e){this._type!==e&&(this._type=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.cubicArc(this.centerX,this.centerY,this.radiusX,this.radiusY,0,this.startAngle,this.endAngle,this.counterClockwise?1:0),this.type===ni.Chord?e.closePath():this.type===ni.Round&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())},t.prototype.computeBBox=function(){return new Dr(this.centerX-this.radiusX,this.centerY-this.radiusY,2*this.radiusX,2*this.radiusY)},t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n),s=this.computeBBox();return this.type!==ni.Open&&s.containsPoint(a.x,a.y)&&this.path.isPointInPath(a.x,a.y)},t.className="Arc",t.defaultStyles=vr(Di.defaultStyles,{lineWidth:1,fillStyle:null}),t}(xn),HC={};function _s(l,t){HC[t]||(l(),HC[t]=!0)}var Ji=(()=>(function(l){l[l.Tick=0]="Tick",l[l.GridLine=1]="GridLine"}(Ji||(Ji={})),Ji))(),Cv=function l(){this.width=1,this.size=6,this.color="rgba(195, 195, 195, 1)",this.count=10},od=function(){function l(){this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.rotation=0,this.mirrored=!1,this.parallel=!1,this.formatter=void 0,this.onFormatChange=void 0}return Object.defineProperty(l.prototype,"format",{get:function(){return this._format},set:function(t){this._format!==t&&(this._format=t,this.onFormatChange&&this.onFormatChange(t))},enumerable:!0,configurable:!0}),l}(),vl=function(){function l(t){this.id=du(this),this.lineNode=new Eo,this.group=new un,this.line={width:1,color:"rgba(195, 195, 195, 1)"},this.tick=new Cv,this.label=new od,this.translation={x:0,y:0},this.rotation=0,this.requestedRange=[0,1],this._visibleRange=[0,1],this._title=void 0,this._gridLength=0,this.gridStyle=[{stroke:"rgba(219, 219, 219, 1)",lineDash:[4,2]}],this._radialGrid=!1,this.fractionDigits=0,this.thickness=0,this.scale=t,this.groupSelection=cn.select(this.group).selectAll(),this.label.onFormatChange=this.onLabelFormatChange.bind(this),this.group.append(this.lineNode)}return Object.defineProperty(l.prototype,"scale",{get:function(){return this._scale},set:function(t){this._scale=t,this.requestedRange=t.range.slice(),this.onLabelFormatChange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"ticks",{get:function(){return this._ticks},set:function(t){this._ticks=t},enumerable:!0,configurable:!0}),l.prototype.getMeta=function(){},l.prototype.updateRange=function(){var t=this,e=t.requestedRange,n=t.visibleRange,s=(e[1]-e[0])/(n[1]-n[0]),y=e[0]-s*n[0];t.scale.range=[y,y+s]},l.prototype.inRange=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=0),0===this.inRangeEx(t,e,n)},l.prototype.inRangeEx=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=0);var a=this.range,s=Math.min(a[0],a[1]),g=Math.max(a[0],a[1]);return t+e<s-n?-1:t>g+n?1:0},Object.defineProperty(l.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(t){this.requestedRange=t.slice(),this.updateRange()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"visibleRange",{get:function(){return this._visibleRange.slice()},set:function(t){if(t&&2===t.length){var e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(t,2),n=e[0],a=e[1];n=Math.max(0,n),a=Math.min(1,a),n=Math.min(n,a),a=Math.max(n,a),this._visibleRange=[n,a],this.updateRange()}},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(t){this.scale.domain=t.slice(),this.onLabelFormatChange(this.label.format)},enumerable:!0,configurable:!0}),l.prototype.onLabelFormatChange=function(t){if(t&&this.scale&&this.scale.tickFormat)try{this.labelFormatter=this.scale.tickFormat(this.tick.count,t)}catch(e){this.labelFormatter=void 0,_s(function(){return console.warn("AG Charts - the axis label format string "+t+" is invalid. No formatting will be applied")},"invalid axis label format string "+t)}else this.labelFormatter=void 0},Object.defineProperty(l.prototype,"title",{get:function(){return this._title},set:function(t){var e=this._title;e!==t&&(e&&this.group.removeChild(e.node),t&&(t.node.rotation=-Math.PI/2,this.group.appendChild(t.node)),this._title=t,this.positionTitle())},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gridLength",{get:function(){return this._gridLength},set:function(t){(this._gridLength&&!t||!this._gridLength&&t)&&(this.groupSelection=this.groupSelection.remove().setData([])),this._gridLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"radialGrid",{get:function(){return this._radialGrid},set:function(t){this._radialGrid!==t&&(this._radialGrid=t,this.groupSelection=this.groupSelection.remove().setData([]))},enumerable:!0,configurable:!0}),l.prototype.update=function(){var t=this,e=this,n=e.group,a=e.scale,s=e.tick,g=e.label,y=e.gridStyle,_=e.requestedRange,E=Math.min(_[0],_[1]),R=Math.max(_[0],_[1]),A=pn(this.rotation),T=g.parallel,F=Ga(pn(g.rotation));n.translationX=this.translation.x,n.translationY=this.translation.y,n.rotation=A;var I=(a.bandwidth||0)/2,G=g.mirrored?1:-1,j=Ga(A),U=!F&&j>=0&&j<=Math.PI?-1:1,z=Ga(A-Math.PI/2),Y=!F&&z>=0&&z<=Math.PI?-1:1,J=F>=0&&F<=Math.PI?-1:1,se=this.ticks||a.ticks(this.tick.count),ae=this.groupSelection.setData(se);ae.exit.remove();var ce=ae.enter.append(un);ce.append(Eo).each(function(he){return he.tag=Ji.Tick}),this.gridLength&&(this.radialGrid?ce.append(wc).each(function(he){return he.tag=Ji.GridLine}):ce.append(Eo).each(function(he){return he.tag=Ji.GridLine})),ce.append(kn);var pe=ae.merge(ce);if(pe.attrFn("translationY",function(he,Ae){return Math.round(a.convert(Ae)+I)}).attrFn("visible",function(he){var Ae=Math.floor(E),ze=Math.ceil(R);return he.translationY>=Ae&&he.translationY<=ze}),pe.selectByTag(Ji.Tick).each(function(he){he.strokeWidth=s.width,he.stroke=s.color}).attr("x1",G*s.size).attr("x2",0).attr("y1",0).attr("y2",0),this.gridLength&&y.length){var fe=y.length,we=void 0;if(this.radialGrid){var Fe=function Xo(l){return l%=La,(l+=La)!==La&&(l%=La),l}(pn(this.gridLength));we=pe.selectByTag(Ji.GridLine).each(function(he,Ae){var ze=Math.round(a.convert(Ae)+I);he.centerX=0,he.centerY=a.range[0]-ze,he.endAngle=Fe,he.radiusX=ze,he.radiusY=ze})}else we=pe.selectByTag(Ji.GridLine).each(function(he){he.x1=0,he.x2=-G*t.gridLength,he.y1=0,he.y2=0,he.visible=Math.abs(he.parent.translationY-a.range[0])>1});we.each(function(he,Ae,ze){var rt=y[ze%fe];he.stroke=rt.stroke,he.strokeWidth=s.width,he.lineDash=rt.lineDash,he.fill=void 0})}this.fractionDigits=se.fractionDigits>=0?se.fractionDigits:0;var De=pe.selectByClass(kn).each(function(he,Ae,ze){he.fontStyle=g.fontStyle,he.fontWeight=g.fontWeight,he.fontSize=g.fontSize,he.fontFamily=g.fontFamily,he.fill=g.color,he.textBaseline=T&&!F?G*U==-1?"hanging":"bottom":"middle",he.text=t.formatTickDatum(Ae,ze),he.textAlign=T?F?G*J==-1?"end":"start":"center":G*Y==-1?"end":"start"}),_e=G*(s.size+g.padding),Re=T?U*Math.PI/2:-1===Y?Math.PI:0;De.each(function(he){he.x=_e,he.rotationCenterX=_e,he.rotation=Re+F}),this.groupSelection=pe;var me=this.lineNode;me.x1=0,me.x2=0,me.y1=_[0],me.y2=_[1],me.strokeWidth=this.line.width,me.stroke=this.line.color,me.visible=se.length>0,this.positionTitle()},l.prototype.positionTitle=function(){var e=this.title;if(e){var a=!1;if(e.enabled&&this.lineNode.visible){a=!0;var s=this,_=s.requestedRange,E=s.label.mirrored?1:-1,R=Ga(s.rotation),A=e.padding.bottom,T=e.node,F=this.computeBBox({excludeTitle:!0}),I=-1===E&&R>Math.PI&&R<2*Math.PI?-1:1;T.rotation=I*E*Math.PI/2,T.x=I*E*(_[0]+_[1])/2,T.y=-1===E?I*(-A-F.width+Math.max(F.x+F.width,0)):-A-F.width-Math.min(F.x,0),T.textBaseline=1===I?"bottom":"top"}e.node.visible=a}},l.prototype.formatTickDatum=function(t,e){var n=this,a=n.label,s=n.labelFormatter,g=n.fractionDigits,y=this.getMeta();return a.formatter?a.formatter({value:g>=0?t:String(t),index:e,fractionDigits:g,formatter:s,axis:y}):s?s(t):"number"==typeof t&&g>=0?t.toFixed(g):String(t)},l.prototype.formatDatum=function(t){return String(t)},l.prototype.computeBBox=function(t){var n=this.title,a=this.lineNode,s=this.groupSelection.selectByClass(kn),g=1/0,y=-1/0,_=1/0,E=-1/0;if(s.each(function(I){I.computeTransformMatrix();var G=dl.flyweight(I.matrix),j=I.parent;j.computeTransformMatrix(),G.preMultiplySelf(j.matrix);var U=I.computeBBox();if(U){var z=G.transformBBox(U);g=Math.min(g,z.x),y=Math.max(y,z.x+z.width),_=Math.min(_,z.y),E=Math.max(E,z.y+z.height)}}),n&&n.enabled&&a.visible&&(!t||!t.excludeTitle)){var R=n.node;R.computeTransformMatrix();var A=dl.flyweight(R.matrix),T=R.computeBBox();if(T){var F=A.transformBBox(T);g=Math.min(g,F.x),y=Math.max(y,F.x+F.width),_=Math.min(_,F.y),E=Math.max(E,F.y+F.height)}}return g=Math.min(g,0),y=Math.max(y,0),_=Math.min(_,a.y1,a.y2),E=Math.max(E,a.y1,a.y2),new Dr(g,_,y-g,E-_)},l}(),tf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nr=(()=>(function(l){l.X="x",l.Y="y"}(nr||(nr={})),nr))();function ad(l){return l===nr.X?nr.Y:nr.X}var At=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left",l.Angle="angle",l.Radius="radius"}(At||(At={})),At))(),Ss=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.keys=[],e.direction=nr.Y,e.boundSeries=[],e._position=At.Left,e}return tf(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),t.prototype.getMeta=function(){return{id:this.id,direction:this.direction,boundSeries:this.boundSeries}},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){if(this._position!==e)switch(this._position=e,e){case At.Top:this.direction=nr.X,this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case At.Right:this.direction=nr.Y,this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case At.Bottom:this.direction=nr.X,this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case At.Left:this.direction=nr.Y,this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1}},enumerable:!0,configurable:!0}),t}(vl),WC=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jC=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s};function gu(l){var t,e=l[0],n=l[l.length-1];return e>n&&(t=jC([n,e],2),e=t[0],n=t[1]),function(a){return a>=e&&a<=n?a:NaN}}var Oo=function(l){function t(){var e=l.call(this,new rn)||this;return e._nice=!0,e._min=NaN,e._max=NaN,e.scale.clamper=gu,e}return WC(t,l),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(this.tick.count))},enumerable:!0,configurable:!0}),t.prototype.setDomain=function(e,n){var a=this,s=a.scale,g=a.min,y=a.max;if(e.length>2&&(e=Zi(e,nn,Number)||[0,1]),e=[isNaN(g)?e[0]:g,isNaN(y)?e[1]:y],n){var _=jC(function CC(l,t){var e=Math.floor(l[0]),n=l[1];e=function wC(l,t,e){var n=Math.abs(t-l)/(e-1),a=Math.floor(Math.log10(n)),s=Math.pow(10,a);return Math.floor(l/s)*s}(e,n,t);var a=function Lt(l,t,e){return function fl(l){var t=Math.floor(Math.log10(l)),e=Math.pow(10,t),n=l/e*10;return n>0&&n<=1?e/10:n>1&&n<=2?2*e/10:n>1&&n<=5?5*e/10:n>5&&n<=10?10*e/10:n>10&&n<=20?20*e/10:n>20&&n<=40?40*e/10:n>40&&n<=50?50*e/10:n>50&&n<=100?100*e/10:n}((t-l)/(e-1))}(e,n,t),g=[e,n=e+(t-1)*a],y=function Yo(l,t,e){for(var n=Math.floor(Math.log10(t)),a=t>0&&t<1?Math.abs(n):0,s=Math.pow(10,a),g=new ov(a),y=0;y<e;y++)g[y]=Math.round((l+t*y)*s)/s;return g}(e,a,t);return[g,y]}(e,n),2),R=_[1];return s.domain=_[0],void(this.ticks=R)}s.domain=e,this.onLabelFormatChange(this.label.format),this.scale.clamp=!0,this.nice&&this.scale.nice&&this.scale.nice(this.tick.count)},Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){this.setDomain(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){this._min!==e&&(this._min=e,isNaN(e)||(this.scale.domain=[e,this.scale.domain[1]]))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){this._max!==e&&(this._max=e,isNaN(e)||(this.scale.domain=[this.scale.domain[0],e]))},enumerable:!0,configurable:!0}),t.prototype.formatDatum=function(e){return"number"==typeof e?e.toFixed(2):(_s(function(){return console.warn("AG Charts - Data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.")},"number axis config used with Date objects"),String(e))},t.className="NumberAxis",t.type="number",t}(Ss),rf=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Bn=function(){function l(){this.type="band",this.index=new Map,this.ordinalRange=[],this._domain=[],this._range=[0,1],this._bandwidth=1,this._paddingInner=0,this._paddingOuter=0,this._round=!1,this._align=.5}return Object.defineProperty(l.prototype,"domain",{get:function(){return this._domain},set:function(t){var e=this._domain;e.length=0,this.index=new Map;var n=this.index;t.forEach(function(a){void 0===n.get(a)&&n.set(a,e.push(a)-1)}),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"range",{get:function(){return this._range},set:function(t){this._range[0]=t[0],this._range[1]=t[1],this.rescale()},enumerable:!0,configurable:!0}),l.prototype.ticks=function(){return this._domain},l.prototype.convert=function(t){var e=this.index.get(t);if(void 0===e)return NaN;var n=this.ordinalRange[e];return void 0===n?NaN:n},Object.defineProperty(l.prototype,"bandwidth",{get:function(){return this._bandwidth},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"padding",{get:function(){return this._paddingInner},set:function(t){t=Math.max(0,Math.min(1,t)),this._paddingInner=t,this._paddingOuter=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingInner",{get:function(){return this._paddingInner},set:function(t){this._paddingInner=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"paddingOuter",{get:function(){return this._paddingOuter},set:function(t){this._paddingOuter=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"round",{get:function(){return this._round},set:function(t){this._round=t,this.rescale()},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"align",{get:function(){return this._align},set:function(t){this._align=Math.max(0,Math.min(1,t)),this.rescale()},enumerable:!0,configurable:!0}),l.prototype.rescale=function(){var t,e=this._domain.length;if(e){var n=rf(this._range,2),a=n[0],s=n[1],g=s<a;g&&(a=(t=rf([s,a],2))[0],s=t[1]);var y=(s-a)/Math.max(1,e-this._paddingInner+2*this._paddingOuter);this._round&&(y=Math.floor(y)),a+=(s-a-y*(e-this._paddingInner))*this._align,this._bandwidth=y*(1-this._paddingInner),this._round&&(a=Math.round(a),this._bandwidth=Math.round(this._bandwidth));for(var _=[],E=0;E<e;E++)_.push(a+y*E);this.ordinalRange=g?_.reverse():_}},l}(),sd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),eo=function(l){function t(){var e=l.call(this,new Bn)||this;return e.scale.paddingInner=.2,e.scale.paddingOuter=.3,e}return sd(t,l),Object.defineProperty(t.prototype,"paddingInner",{get:function(){return this.scale.paddingInner},set:function(e){this.scale.paddingInner=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paddingOuter",{get:function(){return this.scale.paddingOuter},set:function(e){this.scale.paddingOuter=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain.slice()},set:function(e){this.scale.domain=e.filter(function(n,a,s){return s.indexOf(n)===a})},enumerable:!0,configurable:!0}),t.className="CategoryAxis",t.type="category",t}(Ss),UC=function(){function l(t,e,n){void 0===t&&(t=""),void 0===n&&(n=0),this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=t,this.parent=e,this.depth=e?e.depth+1:0,this.number=n}return l.prototype.getLeftSibling=function(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0},l.prototype.getLeftmostSibling=function(){return this.number>0&&this.parent?this.parent.children[0]:void 0},l.prototype.nextLeft=function(){return this.children?this.children[0]:this.thread},l.prototype.nextRight=function(){return this.children?this.children[this.children.length-1]:this.thread},l.prototype.getSiblings=function(){var t=this;return this.parent?this.parent.children.filter(function(e,n){return n!==t.number}):[]},l}();function of(l,t,e){var a=e/(t.number-l.number);t.change-=a,t.shift+=e,l.change+=a,t.prelim+=e,t.mod+=e}function wv(l,t,e){return t.getSiblings().indexOf(l.ancestor)>=0?l.ancestor:e}function Sv(l,t){var e=l.children;if(e.length){var n=e[0];e.forEach(function(g){Sv(g,t),n=function af(l,t,e){var n=l.getLeftSibling();if(n){for(var a=l,s=l,g=n,y=s.getLeftmostSibling(),_=s.mod,E=a.mod,R=g.mod,A=y.mod;g.nextRight()&&s.nextLeft();){g=g.nextRight(),s=s.nextLeft(),y=y.nextLeft(),(a=a.nextRight()).ancestor=l;var T=g.prelim+R-(s.prelim+_)+e;T>0&&(of(wv(g,l,t),l,T),_+=T,E+=T),R+=g.mod,_+=s.mod,A+=y.mod,E+=a.mod}g.nextRight()&&!a.nextRight()?(a.thread=g.nextRight(),a.mod+=R-E):(s.nextLeft()&&!y.nextLeft()&&(y.thread=s.nextLeft(),y.mod+=_-A),t=l)}return t}(g,n,t)}),function _v(l){var t=l.children;if(t)for(var e=0,n=0,a=t.length-1;a>=0;a--){var s=t[a];s.prelim+=e,s.mod+=e,e+=s.shift+(n+=s.change)}}(l);var a=(e[0].prelim+e[e.length-1].prelim)/2;(s=l.getLeftSibling())?(l.prelim=s.prelim+t,l.mod=l.prelim-a):l.prelim=a}else{var s=l.getLeftSibling();l.prelim=s?s.prelim+t:0}}var bv=function(){function l(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}return l.prototype.update=function(t,e){var n=e(t),a=n.x,s=n.y;a>this.right&&(this.right=a),a<this.left&&(this.left=a),s>this.bottom&&(this.bottom=s),s<this.top&&(this.top=s)},l}();function sf(l,t,e){l.x=l.prelim+t,l.y=l.depth,e.update(l),l.children.forEach(function(n){return sf(n,t+l.mod,e)})}function lf(l){var t=l.children,e=0;t.forEach(function(n){lf(n),n.children.length?e+=n.leafCount:e++}),l.leafCount=e,t.length?(l.subtreeLeft=t[0].subtreeLeft,l.subtreeRight=t[l.children.length-1].subtreeRight,l.x=(l.subtreeLeft+l.subtreeRight)/2):(l.subtreeLeft=l.x,l.subtreeRight=l.x)}function $C(l){var t=new ld;return Sv(l,1),sf(l,-l.prelim,t),lf(l),t}var ld=function(){function l(){this.dimensions=new bv,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}return l.prototype.update=function(t){this.dimensions.update(t,function(e){return{x:e.x,y:e.y}}),t.children.length?this.nonLeafNodes.push(t):(this.leafCount++,this.leafNodes.push(t)),t.depth>this.depth&&(this.depth=t.depth),this.nodes.push(t)},l.prototype.resize=function(t,e,n,a,s){void 0===n&&(n=0),void 0===a&&(a=0),void 0===s&&(s=!1);var g=this.leafCount-1,y=this.depth,_=this.dimensions,E=1,R=1;t>0&&g&&(E=t/g/((_.right-_.left)/g),s&&(E=-E)),e>0&&y&&(R=e/y/((_.bottom-_.top)/y));var G=new bv;this.nodes.forEach(function(z){z.screenX=z.x*E,z.screenY=z.y*R,G.update(z,function(Y){return{x:Y.screenX,y:Y.screenY}})});var j=-G.left,U=-G.top;this.nodes.forEach(function(z){z.screenX+=j+n,z.screenY+=U+a})},l}(),uf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),BS=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.grid=!1,e}return uf(t,l),t}(od),Pi=function(l){function t(){var e=l.call(this,new Bn)||this;e.tickScale=new Bn,e.longestSeparatorLength=0,e.translation={x:0,y:0},e.rotation=0,e.line={width:1,color:"rgba(195, 195, 195, 1)"},e.label=new BS,e.labelColor="rgba(87, 87, 87, 1)";var a=e.group,s=e.tickScale,g=e.scale;return g.paddingOuter=.1,g.paddingInner=2*g.paddingOuter,e.requestedRange=g.range.slice(),e.scale=g,s.paddingInner=1,s.paddingOuter=0,e.gridLineSelection=cn.select(a).selectAll(),e.axisLineSelection=cn.select(a).selectAll(),e.separatorSelection=cn.select(a).selectAll(),e.labelSelection=cn.select(a).selectAll(),e}return uf(t,l),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){var n=e.filter(function(g,y,_){return _.indexOf(g)===y});this.scale.domain=n;var a=function nf(l,t){void 0===t&&(t=!0);var e=new UC,n=0;return t&&l.forEach(function(a){return n=Math.max(n,a.labels.length)}),l.forEach(function(a){if(t)for(;a.labels.length<n;)a.labels.unshift("");!function zC(l,t){var e=t.labels.slice().reverse(),n=e.length-1;e.forEach(function(a,s){var g=l.children,y=Cc(g,function(R){return R.label===a}),_=s!==n;if(y&&_)l=y;else{var E=new UC(a,l);E.number=g.length,g.push(E),_&&(l=E)}})}(e,a)}),e}(n);this.tickTreeLayout=$C(a);var s=n.slice();s.push(""),this.tickScale.domain=s,this.resizeTickTree()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"range",{get:function(){return this.requestedRange.slice()},set:function(e){this.requestedRange=e.slice(),this.updateRange()},enumerable:!0,configurable:!0}),t.prototype.updateRange=function(){var e=this,n=e.requestedRange,a=e.visibleRange,g=(n[1]-n[0])/(a[1]-a[0]),_=n[0]-g*a[0];this.tickScale.range=e.scale.range=[_,_+g],this.resizeTickTree()},t.prototype.resizeTickTree=function(){var e=this.scale,n=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,a=this.tickTreeLayout,s=this.lineHeight;a&&a.resize(Math.abs(n[1]-n[0]),a.depth*s,(Math.min(n[0],n[1])||0)+(e.bandwidth||0)/2,-a.depth*s,n[1]-n[0]<0)},Object.defineProperty(t.prototype,"lineHeight",{get:function(){return 1.5*this.label.fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridLength",{get:function(){return this._gridLength},set:function(e){(this._gridLength&&!e||!this._gridLength&&e)&&(this.gridLineSelection=this.gridLineSelection.remove().setData([]),this.labelSelection=this.labelSelection.remove().setData([])),this._gridLength=e},enumerable:!0,configurable:!0}),t.prototype.update=function(){var e=this,n=this,a=n.group,s=n.scale,g=n.label,y=n.tickScale,_=n.requestedRange,E=s.range[0],R=s.range[1],T=Math.abs(R-E)/s.domain.length||0,F=g.parallel,I=pn(this.rotation),G=Math.abs(Math.cos(I))<1e-8,j=Ga(pn(this.label.rotation));a.translationX=this.translation.x,a.translationY=this.translation.y,a.rotation=I;var U=this.title;U&&(U.node.visible=!1);var z=this.lineHeight,Y=this.tickTreeLayout,J=s.ticks(),se=Y?Y.nodes:[],ae=!!Y&&Y.depth>1,ce=y.ticks(),pe=g.mirrored?1:-1,fe=Ga(I),we=!j&&fe>=0&&fe<=Math.PI?-1:1,Fe=Ga(I-Math.PI/2),De=!j&&Fe>=0&&Fe<=Math.PI?-1:1,_e=this.gridLineSelection.setData(this.gridLength?ce:[]);_e.exit.remove();var Re=_e.enter.append(Eo),me=_e.merge(Re),he=this.labelSelection.setData(se);he.exit.remove();var Ae=he.enter.append(kn),ze=he.merge(Ae),rt=g.formatter,Le=0;ze.each(function(tt,Kt,Ii){tt.fontStyle=g.fontStyle,tt.fontWeight=g.fontWeight,tt.fontSize=g.fontSize,tt.fontFamily=g.fontFamily,tt.fill=g.color,tt.textBaseline=-1===we?"bottom":"hanging",tt.textAlign="center",tt.translationX=Kt.screenY-.25*g.fontSize,tt.translationY=Kt.screenX,0===Ii?U&&U.enabled&&J.length>0?(tt.visible=!0,tt.text=U.text,tt.fontSize=U.fontSize,tt.fontStyle=U.fontStyle,tt.fontWeight=U.fontWeight,tt.fontFamily=U.fontFamily,tt.textBaseline="hanging"):tt.visible=!1:(tt.text=rt?rt({value:String(Kt.label),index:Ii}):String(Kt.label),tt.visible=Kt.screenX>=_[0]&&Kt.screenX<=_[1]);var jn=tt.computeBBox();jn&&jn.width>Le&&(Le=jn.width)});var Ze=pe*g.padding,Be=F?we*Math.PI/2:-1===De?Math.PI:0,at=this.label.grid,Ye=[];ze.each(function(tt,Kt,Ii){if(tt.x=Ze,tt.rotationCenterX=Ze,Kt.children.length?(tt.translationX-=Le-z+e.label.padding,tt.rotation=G?Be:-Math.PI/2):(tt.rotation=j,tt.textAlign="end",tt.textBaseline="middle"),Kt.parent&&ae){var jn=Kt.children.length?Kt.screenX-Kt.leafCount*T/2:Kt.screenX-T/2;if(Kt.children.length){var Ml=-Le-2*e.label.padding+Kt.screenY;Ye.push({y:jn,x1:Ml+z,x2:Ml,toString:function(){return String(Ii)}})}else(Kt.number!==Kt.children.length-1||at)&&Ye.push({y:jn,x1:0,x2:-Le-2*e.label.padding,toString:function(){return String(Ii)}})}});var dt=0;Ye.forEach(function(tt){return dt=Math.min(dt,tt.x2)}),this.longestSeparatorLength=Math.abs(dt),Ye.push({y:Math.max(E,R),x1:0,x2:dt,toString:function(){return String(Ye.length)}});var et=this.separatorSelection.setData(Ye);et.exit.remove();var yr=et.enter.append(Eo),Sr=et.merge(yr);this.separatorSelection=Sr,Sr.each(function(tt,Kt,Ii){tt.x1=Kt.x1,tt.x2=Kt.x2,tt.y1=Kt.y,tt.y2=Kt.y,tt.visible=Kt.y>=_[0]-1e-7&&Kt.y<=_[1]+1e-7,tt.stroke=e.tick.color,tt.fill=void 0,tt.strokeWidth=1}),this.gridLineSelection=me,this.labelSelection=ze;for(var mr=Y?Y.depth+1:1,br=[],Yr=0;Yr<mr;Yr++)br.push(Yr);var xr=this.axisLineSelection.setData(br);xr.exit.remove();var di=xr.enter.append(Eo),hi=xr.merge(di);if(this.axisLineSelection=hi,hi.each(function(tt,Kt,Ii){var jn=Ii>0?-Le-2*e.label.padding-(Ii-1)*z:0;tt.x1=jn,tt.x2=jn,tt.y1=_[0],tt.y2=_[1],tt.strokeWidth=e.line.width,tt.stroke=e.line.color,tt.visible=J.length>0&&(0===Ii||at&&ae)}),this.gridLength){var Ls=this.gridStyle,xl=Ls.length;me.each(function(tt,Kt,Ii){var jn=Math.round(y.convert(Kt));tt.x1=0,tt.x2=-pe*e.gridLength,tt.y1=jn,tt.y2=jn,tt.visible=jn>=_[0]&&jn<=_[1]&&Math.abs(tt.parent.translationY-E)>1;var Ml=Ls[Ii%xl];tt.stroke=Ml.stroke,tt.strokeWidth=e.tick.width,tt.lineDash=Ml.lineDash,tt.fill=void 0})}},t.prototype.computeBBox=function(e){var n=!e||!e.excludeTitle,a=1/0,s=-1/0,g=1/0,y=-1/0;return this.labelSelection.each(function(_,E,R){if(R>0||n){_.computeTransformMatrix();var A=dl.flyweight(_.matrix),T=_.computeBBox();if(T){var F=A.transformBBox(T);a=Math.min(a,F.x),s=Math.max(s,F.x+F.width),g=Math.min(g,F.y),y=Math.max(y,F.y+F.height)}}}),new Dr(a,g,Math.max(s-a,this.longestSeparatorLength),y-g)},t.className="GroupedCategoryAxis",t.type="groupedCategory",t}(Ss),to=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ev=new Date,Ov=new Date,ud=function(){function l(t,e){this._floor=t,this._offset=e}return l.prototype.floor=function(t){return t=new Date(+t),this._floor(t),t},l.prototype.ceil=function(t){return t=new Date(+t-1),this._floor(t),this._offset(t,1),this._floor(t),t},l.prototype.round=function(t){var e=this.floor(t),n=this.ceil(t),a=+t;return a-e.getTime()<n.getTime()-a?e:n},l.prototype.offset=function(t,e){return void 0===e&&(e=1),t=new Date(+t),this._offset(t,Math.floor(e)),t},l.prototype.range=function(t,e,n){void 0===n&&(n=1);var s,a=[];if(t=this.ceil(t),n=Math.floor(n),t>e||n<=0)return a;do{s=new Date(+t),a.push(s),this._offset(t,n),this._floor(t)}while(s<t&&t<e);return a},l.prototype.filter=function(t){var e=this;return new l(function(s){if(s>=s)for(;e._floor(s),!t(s);)s.setTime(s.getTime()-1);return s},function(s,g){if(s>=s)if(g<0)for(;++g<=0;)do{e._offset(s,-1)}while(!t(s));else for(;--g>=0;)do{e._offset(s,1)}while(!t(s));return s})},l}(),ii=function(l){function t(e,n,a,s){var g=l.call(this,e,n)||this;return g._count=a,g._field=s,g}return to(t,l),t.prototype.count=function(e,n){return Ev.setTime(+e),Ov.setTime(+n),this._floor(Ev),this._floor(Ov),Math.floor(this._count(Ev,Ov))},t.prototype.every=function(e){var a,n=this;if(e=Math.floor(e),isFinite(e)&&e>0)if(e>1){var s=this._field;a=this.filter(s?function(g){return s(g)%e==0}:function(g){return n.count(0,g)%e==0})}else a=this;return a},t}(ud),cd=new ii(function KC(l){return l},function Rv(l,t){l.setTime(l.getTime()+t)},function HS(l,t){return t.getTime()-l.getTime()}),ka=1e3,ro=6e4,bs=60*ro,Ti=24*bs,pd=7*Ti,YC=30*Ti,dd=365*Ti,QC=new ii(function qC(l){l.setTime(l.getTime()-l.getMilliseconds())},function WS(l,t){l.setTime(l.getTime()+t*ka)},function XC(l,t){return(t.getTime()-l.getTime())/ka}),JC=new ii(function hd(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*ka)},function Va(l,t){l.setTime(l.getTime()+t*ro)},function _c(l,t){return(t.getTime()-l.getTime())/ro},function ZC(l){return l.getMinutes()}),rw=new ii(function mO(l){l.setTime(l.getTime()-l.getMilliseconds()-l.getSeconds()*ka-l.getMinutes()*ro)},function ew(l,t){l.setTime(l.getTime()+t*bs)},function tw(l,t){return(t.getTime()-l.getTime())/bs},function jS(l){return l.getHours()}),fd=new ii(function yl(l){l.setHours(0,0,0,0)},function US(l,t){l.setDate(l.getDate()+t)},function Ro(l,t){var e=t.getTimezoneOffset()-l.getTimezoneOffset();return(t.getTime()-l.getTime()-e*ro)/Ti},function cf(l){return l.getDate()-1});function Do(l){return new ii(function t(a){a.setDate(a.getDate()-(a.getDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setDate(a.getDate()+7*s)},function n(a,s){return(s.getTime()-a.getTime()-(s.getTimezoneOffset()-a.getTimezoneOffset())*ro)/pd})}var pf=Do(0),Es=Do(1),Dv=(Do(2),Do(3),Do(4));Do(5),Do(6);var sw=new ii(function zS(l){l.setDate(1),l.setHours(0,0,0,0)},function ow(l,t){l.setMonth(l.getMonth()+t)},function aw(l,t){return t.getMonth()-l.getMonth()+12*(t.getFullYear()-l.getFullYear())},function Pv(l){return l.getMonth()}),vd=new ii(function Sc(l){l.setMonth(0,1),l.setHours(0,0,0,0)},function Ba(l,t){l.setFullYear(l.getFullYear()+t)},function df(l,t){return t.getFullYear()-l.getFullYear()},function gd(l){return l.getFullYear()}),yu=new ii(function $S(l){l.setUTCHours(0,0,0,0)},function Tv(l,t){l.setUTCDate(l.getUTCDate()+t)},function vu(l,t){return(t.getTime()-l.getTime())/Ti},function Av(l){return l.getUTCDate()-1}),Ec=new ii(function xv(l){l.setUTCMonth(0,1),l.setUTCHours(0,0,0,0)},function hf(l,t){l.setUTCFullYear(l.getUTCFullYear()+t)},function lw(l,t){return t.getUTCFullYear()-l.getUTCFullYear()},function bc(l){return l.getUTCFullYear()});function mu(l){return new ii(function t(a){a.setUTCDate(a.getUTCDate()-(a.getUTCDay()+7-l)%7),a.setHours(0,0,0,0)},function e(a,s){a.setUTCDate(a.getUTCDate()+7*s)},function n(a,s){return(s.getTime()-a.getTime())/pd})}var ff=mu(0),Mv=mu(1),ml=(mu(2),mu(3),mu(4));function cw(l){if(l.y>=0&&l.y<100){var t=new Date(-1,l.m,l.d,l.H,l.M,l.S,l.L);return t.setFullYear(l.y),t}return new Date(l.y,l.m,l.d,l.H,l.M,l.S,l.L)}function Rs(l){if(l.y>=0&&l.y<100){var t=new Date(Date.UTC(-1,l.m,l.d,l.H,l.M,l.S,l.L));return t.setUTCFullYear(l.y),t}return new Date(Date.UTC(l.y,l.m,l.d,l.H,l.M,l.S,l.L))}function Oc(l){for(var t={},e=0,n=l.length;e<n;e++)t[l[e].toLowerCase()]=e;return t}function Cl(l){return{y:l,m:0,d:1,H:0,M:0,S:0,L:0}}mu(5),mu(6);var Nv,Ar=/^\s*\d+/,oi=/^%/,Fv=/[\\^$*+?|[\]().{}]/g,Rc=function(l){return l.replace(Fv,"\\$&")},Cu=function(l){return new RegExp("^(?:"+l.map(Rc).join("|")+")","i")},Iv={"-":"",_:" ",0:"0"};function $t(l,t,e){var n=l<0?"-":"",a=String(n?-l:l),s=a.length;return n+(s<e?new Array(e-s+1).join(t)+a:a)}!function Lv(l){Nv=function dw(l){var t=l.dateTime,e=l.date,n=l.time,a=l.periods,s=l.days,g=l.shortDays,y=l.months,_=l.shortMonths,E=Cu(a),R=Oc(a),A=Cu(s),T=Oc(s),F=Cu(g),I=Oc(g),G=Cu(y),j=Oc(y),U=Cu(_),z=Oc(_),Y={a:function he(Q){return g[Q.getDay()]},A:function Ae(Q){return s[Q.getDay()]},b:function dt(Q){return _[Q.getMonth()]},B:function et(Q){return y[Q.getMonth()]},c:void 0,d:at,e:at,f:function fe(Q,ie){return we(Q,ie)+"000"},H:function Re(Q,ie){return $t(Q.getHours(),ie,2)},I:function _e(Q,ie){return $t(Q.getHours()%12||12,ie,2)},j:function Ye(Q,ie){return $t(1+fd.count(vd.floor(Q),Q),ie,3)},L:we,m:function yr(Q,ie){return $t(Q.getMonth()+1,ie,2)},M:function De(Q,ie){return $t(Q.getMinutes(),ie,2)},p:function me(Q){return a[Q.getHours()>=12?1:0]},Q:Iy,s:Ny,S:function Fe(Q,ie){return $t(Q.getSeconds(),ie,2)},u:function ze(Q){var ie=Q.getDay();return 0===ie?7:ie},U:function rt(Q,ie){return $t(pf.count(vd.floor(Q),Q),ie,2)},V:function Le(Q,ie){var ue=Q.getDay();Q=ue>=4||0===ue?Dv.floor(Q):Dv.ceil(Q);var Z=vd.floor(Q);return $t(Dv.count(Z,Q)+(4===Z.getDay()?1:0),ie,2)},w:function Ze(Q){return Q.getDay()},W:function Be(Q,ie){return $t(Es.count(vd.floor(Q),Q),ie,2)},x:void 0,X:void 0,y:function Sr(Q,ie){return $t(Q.getFullYear()%100,ie,2)},Y:function pi(Q,ie){return $t(Q.getFullYear()%1e4,ie,4)},Z:function mr(Q){var ie=Q.getTimezoneOffset();return(ie>0?"-":(ie*=-1,"+"))+$t(Math.floor(ie/60),"0",2)+$t(ie%60,"0",2)},"%":Fy},J={a:function uE(Q){return g[Q.getUTCDay()]},A:function y_(Q){return s[Q.getUTCDay()]},b:function jn(Q){return _[Q.getUTCMonth()]},B:function Ml(Q){return y[Q.getUTCMonth()]},c:void 0,d:tt,e:tt,f:function br(Q,ie){return Yr(Q,ie)+"000"},H:function Ls(Q,ie){return $t(Q.getUTCHours(),ie,2)},I:function hi(Q,ie){return $t(Q.getUTCHours()%12||12,ie,2)},j:function Kt(Q,ie){return $t(1+yu.count(Ec.floor(Q),Q),ie,3)},L:Yr,m:function Ii(Q,ie){return $t(Q.getUTCMonth()+1,ie,2)},M:function di(Q,ie){return $t(Q.getUTCMinutes(),ie,2)},p:function xl(Q){return a[Q.getUTCHours()>=12?1:0]},Q:Iy,s:Ny,S:function xr(Q,ie){return $t(Q.getUTCSeconds(),ie,2)},u:function Wf(Q){var ie=Q.getUTCDay();return 0===ie?7:ie},U:function zd(Q,ie){return $t(ff.count(Ec.floor(Q),Q),ie,2)},V:function cE(Q,ie){var ue=Q.getUTCDay();Q=ue>=4||0===ue?ml.floor(Q):ml.ceil(Q);var Z=Ec.floor(Q);return $t(ml.count(Z,Q)+(4===Z.getUTCDay()?1:0),ie,4)},w:function pE(Q){return Q.getUTCDay()},W:function xy(Q,ie){return $t(Mv.count(Ec.floor(Q),Q),ie,2)},x:void 0,X:void 0,y:function m_(Q,ie){return $t(Q.getUTCFullYear()%100,ie,2)},Y:function dE(Q,ie){return $t(Q.getUTCFullYear()%1e4,ie,4)},Z:function My(){return"+0000"},"%":Fy},se={a:function OR(Q,ie,ue){var Z=F.exec(ie.slice(ue));return Z?(Q.w=I[Z[0].toLowerCase()],ue+Z[0].length):-1},A:function C_(Q,ie,ue){var Z=A.exec(ie.slice(ue));return Z?(Q.w=T[Z[0].toLowerCase()],ue+Z[0].length):-1},b:function RR(Q,ie,ue){var Z=U.exec(ie.slice(ue));return Z?(Q.m=z[Z[0].toLowerCase()],ue+Z[0].length):-1},B:function _E(Q,ie,ue){var Z=G.exec(ie.slice(ue));return Z?(Q.m=j[Z[0].toLowerCase()],ue+Z[0].length):-1},c:function __(Q,ie,ue){return pe(Q,t,ie,ue)},d:jf,e:jf,f:function Ly(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+6));return Z?(Q.L=Math.floor(parseFloat(Z[0])/1e3),ue+Z[0].length):-1},H:$d,I:$d,j:function vE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+3));return Z?(Q.m=0,Q.d=+Z[0],ue+Z[0].length):-1},L:function hE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+3));return Z?(Q.L=+Z[0],ue+Z[0].length):-1},m:function SE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.m=parseFloat(Z[0])-1,ue+Z[0].length):-1},M:function gE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.M=+Z[0],ue+Z[0].length):-1},p:function Gy(Q,ie,ue){var Z=E.exec(ie.slice(ue));return Z?(Q.p=R[Z[0].toLowerCase()],ue+Z[0].length):-1},Q:function bE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue));return Z?(Q.Q=+Z[0],ue+Z[0].length):-1},s:function EE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue));return Z?(Q.Q=1e3*+Z[0],ue+Z[0].length):-1},S:function fE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.S=+Z[0],ue+Z[0].length):-1},u:function yE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+1));return Z?(Q.u=+Z[0],ue+Z[0].length):-1},U:function mE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.U=+Z[0],ue+Z[0].length):-1},V:function CE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.V=+Z[0],ue+Z[0].length):-1},w:function w_(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+1));return Z?(Q.w=+Z[0],ue+Z[0].length):-1},W:function wE(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.W=+Z[0],ue+Z[0].length):-1},x:function ky(Q,ie,ue){return pe(Q,e,ie,ue)},X:function Vy(Q,ie,ue){return pe(Q,n,ie,ue)},y:function DR(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.y=+Z[0]+(+Z[0]>68?1900:2e3),ue+Z[0].length):-1},Y:function S_(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+4));return Z?(Q.y=+Z[0],ue+Z[0].length):-1},Z:function OE(Q,ie,ue){var Z=/^(Z)|^([+-]\d\d)(?::?(\d\d))?/.exec(ie.slice(ue,ue+6));return Z?(Q.Z=Z[1]?0:-(Z[2]+(Z[3]||"00")),ue+Z[0].length):-1},"%":function RE(Q,ie,ue){var Z=oi.exec(ie.slice(ue,ue+1));return Z?ue+Z[0].length:-1}};function ae(Q,ie){return function(ue){var Z=Cl(1900);if(pe(Z,Q,ue+="",0)==ue.length){if("Q"in Z)return new Date(Z.Q);if("p"in Z&&(Z.H=Z.H%12+12*Z.p),"V"in Z){if(Z.V<1||Z.V>53)return;if("w"in Z||(Z.w=1),"Z"in Z){var dr=(ht=Rs(Cl(Z.y))).getUTCDay();ht=dr>4||0===dr?Mv.ceil(ht):Mv.floor(ht),ht=yu.offset(ht,7*(Z.V-1)),Z.y=ht.getUTCFullYear(),Z.m=ht.getUTCMonth(),Z.d=ht.getUTCDate()+(Z.w+6)%7}else{var ht;dr=(ht=ie(Cl(Z.y))).getDay(),ht=dr>4||0===dr?Es.ceil(ht):Es.floor(ht),ht=fd.offset(ht,7*(Z.V-1)),Z.y=ht.getFullYear(),Z.m=ht.getMonth(),Z.d=ht.getDate()+(Z.w+6)%7}}else("W"in Z||"U"in Z)&&("w"in Z||(Z.w="u"in Z?Z.u%7:"W"in Z?1:0),dr="Z"in Z?Rs(Cl(Z.y)).getUTCDay():ie(Cl(Z.y)).getDay(),Z.m=0,Z.d="W"in Z?(Z.w+6)%7+7*Z.W-(dr+5)%7:Z.w+7*Z.U-(dr+6)%7);return"Z"in Z?(Z.H+=Z.Z/100|0,Z.M+=Z.Z%100,Rs(Z)):ie(Z)}}}function ce(Q,ie){return function(ue){var Z=[],fi=Q.length,ht=-1,dr=0;for(ue instanceof Date||(ue=new Date(+ue));++ht<fi;)if(37===Q.charCodeAt(ht)){Z.push(Q.slice(dr,ht));var Fn=Q.charAt(++ht),aa=Iv[Fn];null!=aa?Fn=Q.charAt(++ht):aa="e"===Fn?" ":"0";var Gs=ie[Fn];Gs&&(Fn=Gs(ue,aa)),Z.push(Fn),dr=ht+1}return Z.push(Q.slice(dr,ht)),Z.join("")}}function pe(Q,ie,ue,Z){for(var fi=0,ht=ie.length,dr=ue.length;fi<ht;){if(Z>=dr)return-1;var Fn=ie.charCodeAt(fi++);if(37===Fn){var aa=ie.charAt(fi++),Gs=se[aa in Iv?ie.charAt(fi++):aa];if(!Gs||(Z=Gs(Q,ue,Z))<0)return-1}else if(Fn!=ue.charCodeAt(Z++))return-1}return Z}function we(Q,ie){return $t(Q.getMilliseconds(),ie,3)}function at(Q,ie){return $t(Q.getDate(),ie,2)}function Yr(Q,ie){return $t(Q.getUTCMilliseconds(),ie,3)}function tt(Q,ie){return $t(Q.getUTCDate(),ie,2)}function Fy(Q){return"%"}function Iy(Q){return Q.getTime()}function Ny(Q){return Math.floor(Q.getTime()/1e3)}function $d(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.H=+Z[0],ue+Z[0].length):-1}function jf(Q,ie,ue){var Z=Ar.exec(ie.slice(ue,ue+2));return Z?(Q.d=+Z[0],ue+Z[0].length):-1}return Y.x=ce(e,Y),Y.X=ce(n,Y),Y.c=ce(t,Y),J.x=ce(e,J),J.X=ce(n,J),J.c=ce(t,J),{format:function(Q){var ie=ce(Q,Y);return ie.toString=function(){return Q},ie},parse:function(Q){var ie=ae(Q,cw);return ie.toString=function(){return Q},ie},utcFormat:function(Q){var ie=ce(Q,J);return ie.toString=function(){return Q},ie},utcParse:function(Q){var ie=ae(Q,Rs);return ie.toString=function(){return Q},ie}}}(l)}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var qS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gf=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},hw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="time",e.year=vd,e.month=sw,e.week=pf,e.day=fd,e.hour=rw,e.minute=JC,e.second=QC,e.millisecond=cd,e.format=Nv.format,e.tickIntervals=[[e.second,1,ka],[e.second,5,5e3],[e.second,15,15e3],[e.second,30,3e4],[e.minute,1,ro],[e.minute,5,5*ro],[e.minute,15,15*ro],[e.minute,30,30*ro],[e.hour,1,bs],[e.hour,3,3*bs],[e.hour,6,6*bs],[e.hour,12,12*bs],[e.day,1,Ti],[e.day,2,2*Ti],[e.week,1,pd],[e.month,1,YC],[e.month,3,3*YC],[e.year,1,dd]],e.formatMillisecond=e.format(".%L"),e.formatSecond=e.format(":%S"),e.formatMinute=e.format("%I:%M"),e.formatHour=e.format("%I %p"),e.formatDay=e.format("%a %d"),e.formatWeek=e.format("%b %d"),e.formatMonth=e.format("%B"),e.formatYear=e.format("%Y"),e._domain=[new Date(2e3,0,1),new Date(2e3,0,2)],e}return qS(t,l),t.prototype.defaultTickFormat=function(e){return(this.second.floor(e)<e?this.formatMillisecond:this.minute.floor(e)<e?this.formatSecond:this.hour.floor(e)<e?this.formatMinute:this.day.floor(e)<e?this.formatHour:this.month.floor(e)<e?this.week.floor(e)<e?this.formatDay:this.formatWeek:this.year.floor(e)<e?this.formatMonth:this.formatYear)(e)},t.prototype.tickInterval=function(e,n,a,s){var g;if("number"==typeof e){var y=e,_=this.tickIntervals,E=Math.abs(a-n)/y,R=function Zp(l,t,e,n,a){void 0===n&&(n=0),void 0===a&&(a=l.length);for(var s=function EC(l){return function(t,e){return yc(l(t),e)}}(e);n<a;){var g=n+a>>>1;s(l[g],t)<0?n=g+1:a=g}return n}(_,E,function(A){return A[2]});R===_.length?(s=gc(n/dd,a/dd,y),e=this.year):R?(e=(g=gf(_[E/_[R-1][2]<_[R][2]/E?R-1:R],2))[0],s=g[1]):(s=Math.max(gc(n,a,e),1),e=this.millisecond)}return null==s?e:e.every(s)},Object.defineProperty(t.prototype,"domain",{get:function(){return l.prototype.getDomain.call(this).map(function(e){return new Date(e)})},set:function(e){l.prototype.setDomain.call(this,Array.prototype.map.call(e,function(n){return n instanceof Date?+n:+new Date(+n)}))},enumerable:!0,configurable:!0}),t.prototype.invert=function(e){return new Date(l.prototype.invert.call(this,e))},t.prototype.ticks=function(e){void 0===e&&(e=10);var n=l.prototype.getDomain.call(this),a=n[0],s=n[n.length-1],g=s<a;if(g){var y=a;a=s,s=y}var _=this.tickInterval(e,a,s),E=_?_.range(a,s+1):[];return g?E.reverse():E},t.prototype.tickFormat=function(e,n){return null==n?this.defaultTickFormat.bind(this):this.format(n)},t.prototype.nice=function(e){void 0===e&&(e=10);var n=l.prototype.getDomain.call(this),a=this.tickInterval(e,n[0],n[n.length-1]);a&&(this.domain=this._nice(n,a))},t.prototype._nice=function(e,n){var a,s,g=0,y=(e=e.slice()).length-1,_=e[g],E=e[y];return E<_&&(g=(a=gf([y,g],2))[0],y=a[1],_=(s=gf([E,_],2))[0],E=s[1]),e[g]=n.floor(_),e[y]=n.ceil(E),e},t}(Xi),fw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yd=function(l){function t(){var e=l.call(this,new hw)||this;e.datumFormat="%m/%d/%y, %H:%M:%S",e._nice=!0;var n=e.scale;return n.clamp=!0,e.scale=n,e.datumFormatter=n.tickFormat(e.tick.count,e.datumFormat),e}return fw(t,l),Object.defineProperty(t.prototype,"nice",{get:function(){return this._nice},set:function(e){this._nice!==e&&(this._nice=e,e&&this.scale.nice&&this.scale.nice(10))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"domain",{get:function(){return this.scale.domain},set:function(e){e.length>2&&(e=(Zi(e,nn,Number)||[0,1e3]).map(function(n){return new Date(n)})),this.scale.domain=e,this.nice&&this.scale.nice&&this.scale.nice(10)},enumerable:!0,configurable:!0}),t.prototype.onLabelFormatChange=function(e){e?l.prototype.onLabelFormatChange.call(this,e):this.labelFormatter=this.scale.tickFormat(this.tick.count,void 0)},t.prototype.formatDatum=function(e){return this.datumFormatter(e)},t.className="TimeAxis",t.type="time",t}(Ss),Gv=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},XS=function(){function l(t,e,n){var a=this;void 0===t&&(t=window.document),this.id=du(this),this._dirty=!1,this.animationFrameId=0,this._root=null,this.debug={renderFrameIndex:!1,renderBoundingBoxes:!1},this._frameIndex=0,this.render=function(){var s,y=a.ctx,_=a.root,E=a.pendingSize;a.animationFrameId=0,E&&((s=a.canvas).resize.apply(s,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Gv(arguments[t]));return l}(E)),a.pendingSize=void 0),!_||_.visible?(y.clearRect(0,0,a.width,a.height),_&&(y.save(),_.visible&&_.render(y),y.restore()),a._frameIndex++,a.debug.renderFrameIndex&&(y.fillStyle="white",y.fillRect(0,0,40,15),y.fillStyle="black",y.fillText(a.frameIndex.toString(),2,10)),a.dirty=!1):a.dirty=!1},this.canvas=new ys(t,e,n),this.ctx=this.canvas.context}return Object.defineProperty(l.prototype,"container",{get:function(){return this.canvas.container},set:function(t){this.canvas.container=t},enumerable:!0,configurable:!0}),l.prototype.download=function(t){this.canvas.download(t)},l.prototype.getDataURL=function(t){return this.canvas.getDataURL(t)},Object.defineProperty(l.prototype,"width",{get:function(){return this.pendingSize?this.pendingSize[0]:this.canvas.width},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.pendingSize?this.pendingSize[1]:this.canvas.height},enumerable:!0,configurable:!0}),l.prototype.resize=function(t,e){t=Math.round(t),e=Math.round(e),(t!==this.width||e!==this.height)&&(this.pendingSize=[t,e],this.dirty=!0)},Object.defineProperty(l.prototype,"dirty",{get:function(){return this._dirty},set:function(t){t?this._dirty||(this.animationFrameId=requestAnimationFrame(this.render)):this.animationFrameId&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=0),this._dirty=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"root",{get:function(){return this._root},set:function(t){t!==this._root&&(this._root&&this._root._setScene(),this._root=t,t&&(null===t.parent&&t.scene&&t.scene!==this&&(t.scene.root=null),t._setScene(this)),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"frameIndex",{get:function(){return this._frameIndex},enumerable:!0,configurable:!0}),l.className="Scene",l}(),QS=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.angle=0,e}return QS(t,l),t.prototype.createGradient=function(e,n){var a=this.stops,s=this.angle%360*Math.PI/180,g=Math.cos(s),y=Math.sin(s),_=n.width,E=n.height,R=n.x+.5*_,A=n.y+.5*E;if(_>0&&E>0){var T=Math.sqrt(E*E+_*_)*Math.abs(Math.cos(s-Math.atan(E/_)))/2,F=e.createLinearGradient(R+g*T,A+y*T,R-g*T,A-y*T);return a.forEach(function(I){F.addColorStop(I.offset,I.color)}),F}return"black"},t}(function l(){this.stops=[]}),kv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Dc=(()=>(function(l){l[l.Content=0]="Content",l[l.Border=1]="Border"}(Dc||(Dc={})),Dc))(),dn=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._width=10,e._height=10,e._radius=0,e._crisp=!1,e._gradient=!1,e.effectiveStrokeWidth=Di.defaultStyles.strokeWidth,e._sizing=Dc.Content,e}return kv(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius!==e&&(this._radius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"crisp",{get:function(){return this._crisp},set:function(e){this._crisp!==e&&(this._crisp=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gradient",{get:function(){return this._gradient},set:function(e){this._gradient!==e&&(this._gradient=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),t.prototype.updateGradientInstance=function(){if(this.gradient){var e=this.fill;if(e){var n=new gw;n.angle=270,n.stops=[{offset:0,color:qi.fromString(e).brighter().toString()},{offset:1,color:qi.fromString(e).darker().toString()}],this.gradientInstance=n}}else this.gradientInstance=void 0},Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.updateGradientInstance(),this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.crisp||this.sizing===Dc.Border?this.dirtyPath=!0:(this.effectiveStrokeWidth=e,this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizing",{get:function(){return this._sizing},set:function(e){this._sizing!==e&&(this._sizing=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.sizing===Dc.Border,n=this.path;n.clear();var _,a=this.x,s=this.y,g=this.width,y=this.height;if(e){var E=g/2,R=y/2;_=Math.min(this.strokeWidth,E,R),a=Math.min(a+_/2,a+E),s=Math.min(s+_/2,s+R),g=Math.max(g-_,0),y=Math.max(y-_,0)}else _=this.strokeWidth;if(this.effectiveStrokeWidth=_,this.crisp&&!e){var T=this.alignment,F=this.align;n.rect(F(T,a),F(T,s),F(T,a,g),F(T,s,y))}else n.rect(a,s,g,y)},t.prototype.computeBBox=function(){var e=this;return new Dr(e.x,e.y,e.width,e.height)},t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n);return this.computeBBox().containsPoint(a.x,a.y)},t.prototype.isPointInStroke=function(e,n){return!1},t.prototype.fillStroke=function(e){if(this.scene){var n=this.scene.canvas.pixelRatio||1;if(this.fill){e.fillStyle=this.gradientInstance?this.gradientInstance.createGradient(e,this.computeBBox()):this.fill,e.globalAlpha=this.opacity*this.fillOpacity;var a=this.fillShadow;a&&a.enabled&&(e.shadowColor=a.color,e.shadowOffsetX=a.xOffset*n,e.shadowOffsetY=a.yOffset*n,e.shadowBlur=a.blur*n),e.fill()}if(e.shadowColor="rgba(0, 0, 0, 0)",this.stroke&&this.effectiveStrokeWidth){e.strokeStyle=this.stroke,e.globalAlpha=this.opacity*this.strokeOpacity,e.lineWidth=this.effectiveStrokeWidth,this.lineDash&&e.setLineDash(this.lineDash),this.lineDashOffset&&(e.lineDashOffset=this.lineDashOffset),this.lineCap&&(e.lineCap=this.lineCap),this.lineJoin&&(e.lineJoin=this.lineJoin);var s=this.strokeShadow;s&&s.enabled&&(e.shadowColor=s.color,e.shadowOffsetX=s.xOffset*n,e.shadowOffsetY=s.yOffset*n,e.shadowBlur=s.blur*n),e.stroke()}}},t.className="Rect",t}(xn),Vv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pc=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._x=0,e._y=0,e._size=12,e}return Vv(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},set:function(e){this._size!==e&&(this._size=Math.abs(e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.size,g=s/2;return new Dr(e.x-g,e.y-g,s,s)},t}(xn),vw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tc=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return vw(t,l),t.prototype.updatePath=function(){var e=this,n=e.path,a=e.x,s=e.y,g=this.size/2,_=this.alignment,E=this.align;n.clear(),n.moveTo(E(_,a-g),E(_,s-g)),n.lineTo(E(_,a+g),E(_,s-g)),n.lineTo(E(_,a+g),E(_,s+g)),n.lineTo(E(_,a-g),E(_,s+g)),n.closePath()},t.className="Square",t}(Pc),yw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ZS=function(l){function t(){var e=l.call(this)||this;e.label=new kn,e._marker=new Tc,e._markerSize=15,e._spacing=8;var n=e.label;return n.textBaseline="middle",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.fill="black",n.y=ys.has.textMetrics?1:0,e.append([e.marker,n]),e.update(),e}return yw(t,l),Object.defineProperty(t.prototype,"text",{get:function(){return this.label.text},set:function(e){this.label.text=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this.label.fontStyle},set:function(e){this.label.fontStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this.label.fontWeight},set:function(e){this.label.fontWeight=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this.label.fontSize},set:function(e){this.label.fontSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this.label.fontFamily},set:function(e){this.label.fontFamily=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this.label.fill},set:function(e){this.label.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"marker",{get:function(){return this._marker},set:function(e){this._marker!==e&&(this.removeChild(this._marker),this._marker=e,this.appendChild(e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerSize",{get:function(){return this._markerSize},set:function(e){this._markerSize!==e&&(this._markerSize=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFill",{get:function(){return this.marker.fill},set:function(e){this.marker.fill=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStroke",{get:function(){return this.marker.stroke},set:function(e){this.marker.stroke=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeWidth",{get:function(){return this.marker.strokeWidth},set:function(e){this.marker.strokeWidth=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerFillOpacity",{get:function(){return this.marker.fillOpacity},set:function(e){this.marker.fillOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"markerStrokeOpacity",{get:function(){return this.marker.strokeOpacity},set:function(e){this.marker.strokeOpacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"opacity",{get:function(){return this.marker.opacity},set:function(e){this.marker.opacity=e,this.label.opacity=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){this._spacing!==e&&(this._spacing=e,this.update())},enumerable:!0,configurable:!0}),t.prototype.update=function(){var n=this.markerSize;this.marker.size=n,this.label.x=n/2+this.spacing},t.className="MarkerLabel",t}(un),mw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bv=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return mw(t,l),t.prototype.updatePath=function(){var e=this,n=e.x,a=e.y,s=e.path,y=e.size/2;s.clear(),s.cubicArc(n,a,y,y,0,0,2*Math.PI,0),s.closePath()},t.className="Circle",t}(Pc),Cw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ww=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Cw(t,l),t.prototype.updatePath=function(){var n=this.x,a=this.y,g=this.path,_=this.size/4.2;g.clear(),g.moveTo(n-=_,a),g.lineTo(n-=_,a-=_),g.lineTo(n+=_,a-=_),g.lineTo(n+=_,a+=_),g.lineTo(n+=_,a-=_),g.lineTo(n+=_,a+=_),g.lineTo(n-=_,a+=_),g.lineTo(n+=_,a+=_),g.lineTo(n-=_,a+=_),g.lineTo(n-=_,a-=_),g.lineTo(n-=_,a+=_),g.lineTo(n-=_,a-=_),g.closePath()},t.className="Cross",t}(Pc),Cd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JS=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Cd(t,l),t.prototype.updatePath=function(){var n=this.x,a=this.y,g=this.path,_=this.size/2;g.clear(),g.moveTo(n,a-=_),g.lineTo(n+=_,a+=_),g.lineTo(n-=_,a+=_),g.lineTo(n-=_,a-=_),g.lineTo(n+=_,a-=_),g.closePath()},t.className="Diamond",t}(Pc),Hv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wv=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Hv(t,l),t.prototype.rad=function(e){return e/180*Math.PI},t.prototype.updatePath=function(){var e=this,n=e.x,a=e.path,g=e.rad,y=e.size/4,_=this.y+y/2;a.clear(),a.cubicArc(n-y,_-y,y,y,0,g(130),g(330),0),a.cubicArc(n+y,_-y,y,y,0,g(220),g(50),0),a.lineTo(n,_+y),a.closePath()},t.className="Heart",t}(Pc),eb=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_w=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return eb(t,l),t.prototype.updatePath=function(){var n=this.x,a=this.y,g=this.path,_=this.size/3,E=_/2;g.clear(),g.moveTo(n-=E,a-=E),g.lineTo(n,a-=_),g.lineTo(n+=_,a),g.lineTo(n,a+=_),g.lineTo(n+=_,a),g.lineTo(n,a+=_),g.lineTo(n-=_,a),g.lineTo(n,a+=_),g.lineTo(n-=_,a),g.lineTo(n,a-=_),g.lineTo(n-=_,a),g.lineTo(n,a-=_),g.closePath()},t.className="Plus",t}(Pc),wd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_d=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return wd(t,l),t.prototype.updatePath=function(){var n=this.x,a=this.y,g=this.path,_=1.1*this.size;g.clear(),g.moveTo(n,a-=.48*_),g.lineTo(n+=.5*_,a+=.87*_),g.lineTo(n-=_,a),g.closePath()},t.className="Triangle",t}(Pc);function Qo(l){if(void 0===l&&(l=Tc),"string"==typeof l)switch(l){case"circle":return Bv;case"cross":return ww;case"diamond":return JS;case"heart":return Wv;case"plus":return _w;case"triangle":return _d;default:return Tc}return"function"==typeof l?l:Tc}var wu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),jr=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},wl=(()=>(function(l){l[l.Vertical=0]="Vertical",l[l.Horizontal=1]="Horizontal"}(wl||(wl={})),wl))(),_l=(()=>(function(l){l.Top="top",l.Right="right",l.Bottom="bottom",l.Left="left"}(_l||(_l={})),_l))(),vf=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.color="black",e.fontSize=12,e.fontFamily="Verdana, sans-serif",e}return wu(t,l),jr([be("change")],t.prototype,"color",void 0),jr([be("layoutChange")],t.prototype,"fontStyle",void 0),jr([be("layoutChange")],t.prototype,"fontWeight",void 0),jr([be("layoutChange")],t.prototype,"fontSize",void 0),jr([be("layoutChange")],t.prototype,"fontFamily",void 0),jr([be()],t.prototype,"formatter",void 0),t}(ti),Zo=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.size=15,e.padding=8,e.strokeWidth=1,e}return wu(t,l),jr([be("layoutChange")],t.prototype,"size",void 0),jr([be("layoutChange")],t.prototype,"shape",void 0),jr([be("layoutChange")],t.prototype,"padding",void 0),jr([be("change")],t.prototype,"strokeWidth",void 0),t}(ti),Sd=function(l){function t(){var e=l.call(this)||this;e.marker=new Zo,e.label=new vf,e.paddingX=16,e.paddingY=8;var n=function(){return e.fireEvent({type:"change"})};e.marker.addEventListener("change",n),e.label.addEventListener("change",n);var a=function(){return e.fireEvent({type:"layoutChange"})};return e.marker.addEventListener("layoutChange",a),e.label.addEventListener("layoutChange",a),e}return wu(t,l),jr([be("layoutChange")],t.prototype,"paddingX",void 0),jr([be("layoutChange")],t.prototype,"paddingY",void 0),t}(ti),pr=function(l){function t(){var e=l.call(this)||this;return e.id=du(e),e.group=new un,e.itemSelection=cn.select(e.group).selectAll(),e.oldSize=[0,0],e.item=new Sd,e.data=[],e.enabled=!0,e.orientation=wl.Vertical,e.position=_l.Right,e.spacing=20,e._size=[0,0],e.addPropertyListener("data",e.onDataChange),e.addPropertyListener("enabled",e.onEnabledChange),e.addPropertyListener("position",e.onPositionChange),e.item.marker.addPropertyListener("shape",e.onMarkerShapeChange,e),e.addEventListener("change",e.update),e.item.addEventListener("change",function(){return e.fireEvent({type:"change"})}),e.item.addEventListener("layoutChange",function(){return e.fireEvent({type:"layoutChange"})}),e}return wu(t,l),Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype.onDataChange=function(e){this.group.visible=e.value.length>0&&this.enabled},t.prototype.onEnabledChange=function(e){this.group.visible=e.value&&this.data.length>0},t.prototype.onPositionChange=function(e){switch(e.value){case"right":case"left":this.orientation=wl.Vertical;break;case"bottom":case"top":this.orientation=wl.Horizontal}},t.prototype.onMarkerShapeChange=function(){this.itemSelection=this.itemSelection.setData([]),this.itemSelection.exit.remove(),this.group.scene&&(this.group.scene.dirty=!1)},t.prototype.performLayout=function(e,n){var a=this.item,s=a.marker,g=a.paddingX,y=a.paddingY,_=this.itemSelection.setData(this.data,function(ze,rt){var Le=Qo(s.shape||rt.marker.shape);return rt.id+"-"+rt.itemId+"-"+Le.name});_.exit.remove();var E=_.enter.append(ZS).each(function(ze,rt){var Le=Qo(s.shape||rt.marker.shape);ze.marker=new Le}),R=this.itemSelection=_.merge(E),A=R.size,T=[],F=this.item.marker,I=this.item.label;R.each(function(ze,rt){ze.markerSize=F.size,ze.spacing=F.padding,ze.fontStyle=I.fontStyle,ze.fontWeight=I.fontWeight,ze.fontSize=I.fontSize,ze.fontFamily=I.fontFamily;var Le=rt.label.text;Le.length>25&&(Le=Le.substring(0,25-"...".length)+"..."),ze.text=Le,T.push(ze.computeBBox())});var U=T.length&&T[0].height,z=0,Y=0,J=0,se=0;switch(e=Math.max(1,e),n=Math.max(1,n),this.orientation){case wl.Horizontal:if(!(isFinite(e)&&e>0))return!1;z=0;var ae=0;do{var ce=0;ae=0,Y=0,z++;for(var pe=0;pe<A;)(fe=T[pe]).width>Y&&(Y=fe.width),++pe%z==0&&(ce+=Y,Y=0,ae++);pe%z!=0&&(ce+=Y,ae++),J=ce+(ae-1)*g}while(J>e&&ae>1);se=U*z+(z-1)*y;break;case wl.Vertical:if(!(isFinite(n)&&n>0))return!1;z=2*A;do{z=(z>>1)+z%2,Y=0,ce=0;var we=0,Fe=0;for(pe=0;pe<A;){var fe=T[pe];Fe||(we+=fe.height),fe.width>Y&&(Y=fe.width),++pe%z==0&&(ce+=Y,Y=0,Fe++)}pe%z!=0&&(ce+=Y,Fe++),J=ce+(Fe-1)*g,se=we+(z-1)*y}while(se>n&&z>1)}var De=(e-J)/2,_e=(n-se)/2,Re=0,me=0;Y=0,R.each(function(ze,rt,Le){ze.translationX=Math.floor(De+Re),ze.translationY=Math.floor(_e+me);var Ze=T[Le];Ze.width>Y&&(Y=Ze.width),(Le+1)%z==0?(Re+=Y+g,me=0,Y=0):me+=Ze.height+y}),this.update();var he=this._size,Ae=this.oldSize;he[0]=J,he[1]=se,(he[0]!==Ae[0]||he[1]!==Ae[1])&&(Ae[0]=he[0],Ae[1]=he[1])},t.prototype.update=function(){var e=this;this.itemSelection.each(function(n,a){var s=a.marker;n.markerFill=s.fill,n.markerStroke=s.stroke,n.markerStrokeWidth=e.item.marker.strokeWidth,n.markerFillOpacity=s.fillOpacity,n.markerStrokeOpacity=s.strokeOpacity,n.opacity=a.enabled?1:.5,n.color=e.item.label.color})},t.prototype.getDatumForPoint=function(e,n){var a=this.group.pickNode(e,n);if(a&&a.parent)return a.parent.datum},t.className="Legend",jr([be("layoutChange")],t.prototype,"data",void 0),jr([be("layoutChange")],t.prototype,"enabled",void 0),jr([be("layoutChange")],t.prototype,"orientation",void 0),jr([be("layoutChange")],t.prototype,"position",void 0),jr([be("layoutChange")],t.prototype,"spacing",void 0),t}(ti),Ac=function(){function l(){}return l.init=function(){var t=this,e=window.ResizeObserver;e?this.resizeObserver=new e(function(a){var s,g;try{for(var y=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),_=y.next();!_.done;_=y.next()){var E=_.value,R=E.contentRect,A=R.width,T=R.height;t.checkSize(t.elements.get(E.target),E.target,A,T)}}catch(F){s={error:F}}finally{try{_&&!_.done&&(g=y.return)&&g.call(y)}finally{if(s)throw s.error}}}):window.setInterval(function(){t.elements.forEach(function(a,s){t.checkSize(a,s,s.clientWidth?s.clientWidth:0,s.clientHeight?s.clientHeight:0)})},100),this.ready=!0},l.checkSize=function(t,e,n,a){t&&(!t.size||n!==t.size.width||a!==t.size.height)&&(t.size={width:n,height:a},t.cb(t.size,e))},l.observe=function(t,e){this.ready||this.init(),this.unobserve(t),this.resizeObserver&&this.resizeObserver.observe(t),this.elements.set(t,{cb:e})},l.unobserve=function(t){this.resizeObserver&&this.resizeObserver.unobserve(t),this.elements.delete(t)},l.elements=new Map,l.ready=!1,l}();function Mn(l,t,e,n,a,s,g){var E=l-(l<n?n:l>n+s?n+s:l),R=t-(t<a?a:t>a+g?a+g:t);return Math.sqrt(E*E+R*R)<=e}function Ds(l,t,e,n,a,s,g,y){return l+e>a&&l<a+g&&t+n>s&&t<s+y}function xc(l,t,e,n,a,s,g,y){return a+g<l+e&&a>l&&s>t&&s+y<t+n}var Ha=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Wa=function(){return Wa=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Wa.apply(this,arguments)},Jo=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s};function Ur(l,t){if("string"==typeof l)return l;t=t||{};var e=l.content,a=l.title,s=void 0===a?t.title||void 0:a,g=l.color,_=l.backgroundColor;return(s?'<div class="'+ai.defaultTooltipClass+'-title"\n        style="color: '+(void 0===g?t.color||"white":g)+"; background-color: "+(void 0===_?t.backgroundColor||"#888":_)+'">'+s+"</div>":"")+'<div class="'+ai.defaultTooltipClass+'-content">'+(void 0===e?t.content||"":e)+"</div>"}var Ps=function(l){function t(e,n){var a=l.call(this)||this;a.enabled=!0,a.class=ai.defaultTooltipClass,a.delay=0,a.tracking=!0,a.showTimeout=0,a.constrained=!1,a.chart=e,a.class="";var s=n.body,g=n.createElement("div");if(a.element=s.appendChild(g),window.IntersectionObserver){var y=a.chart.scene.canvas.element,_=new IntersectionObserver(function(E){var R,A;try{for(var T=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(E),F=T.next();!F.done;F=T.next()){var I=F.value;I.target===y&&0===I.intersectionRatio&&a.toggle(!1)}}catch(G){R={error:G}}finally{try{F&&!F.done&&(A=T.return)&&A.call(T)}finally{if(R)throw R.error}}},{root:s});_.observe(y),a.observer=_}return a}return Ha(t,l),t.prototype.destroy=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.observer&&this.observer.unobserve(this.chart.scene.canvas.element)},t.prototype.isVisible=function(){var e=this.element;if(e.classList)return!e.classList.contains(ai.defaultTooltipClass+"-hidden");var n=e.getAttribute("class");return!!n&&n.split(" ").indexOf(ai.defaultTooltipClass+"-hidden")<0},t.prototype.updateClass=function(e,n){var a=[ai.defaultTooltipClass,this.class];!0!==e&&a.push(ai.defaultTooltipClass+"-hidden"),!0!==n&&a.push(ai.defaultTooltipClass+"-arrow"),this.element.setAttribute("class",a.join(" "))},t.prototype.show=function(e,n,a){var s=this;void 0===a&&(a=!1);var g=this.element;if(void 0!==n)g.innerHTML=n;else if(!g.innerHTML)return;var y=e.pageX-g.clientWidth/2,_=e.pageY-g.clientHeight-8;if(this.constrained=!1,this.chart.container){var E=g.getBoundingClientRect(),A=window.innerWidth-E.width-1;y<0?(y=0,this.updateClass(!0,this.constrained=!0)):y>A&&(y=A,this.updateClass(!0,this.constrained=!0)),_<window.pageYOffset&&(_=e.pageY+20,this.updateClass(!0,this.constrained=!0))}if(g.style.left=Math.round(y)+"px",g.style.top=Math.round(_)+"px",this.delay>0&&!a)return this.toggle(!1),void(this.showTimeout=window.setTimeout(function(){s.toggle(!0)},this.delay));this.toggle(!0)},t.prototype.toggle=function(e){e||(window.clearTimeout(this.showTimeout),this.chart.lastPick&&!this.delay&&(this.chart.dehighlightDatum(),this.chart.lastPick=void 0)),this.updateClass(e,this.constrained)},Jo([be()],t.prototype,"enabled",void 0),Jo([be()],t.prototype,"class",void 0),Jo([be()],t.prototype,"delay",void 0),Jo([be()],t.prototype,"tracking",void 0),t}(ti),ai=function(l){function t(e){void 0===e&&(e=window.document);var n=l.call(this)||this;n.id=du(n),n.background=new dn,n.legend=new pr,n.legendAutoPadding=new jh,n.captionAutoPadding=0,n._container=void 0,n._data=[],n._autoSize=!1,n.padding=new jh(20),n._axes=[],n._series=[],n._axesChanged=!1,n._seriesChanged=!1,n.layoutCallbackId=0,n._performLayout=function(){n.layoutCallbackId=0,n.background.width=n.width,n.background.height=n.height,n.performLayout(),n.layoutPending||n.fireEvent({type:"layoutDone"})},n.dataCallbackId=0,n.nodeData=new Map,n.updateCallbackId=0,n.legendBBox=new Dr(0,0,0,0),n._onMouseDown=n.onMouseDown.bind(n),n._onMouseMove=n.onMouseMove.bind(n),n._onMouseUp=n.onMouseUp.bind(n),n._onMouseOut=n.onMouseOut.bind(n),n._onClick=n.onClick.bind(n),n.pointerInsideLegend=!1,n.pointerOverLegendDatum=!1;var a=new un,s=n.background;s.fill="white",a.appendChild(s);var g=n._element=e.createElement("div");g.setAttribute("class","ag-chart-wrapper");var y=new XS(e);n.scene=y,y.root=a,y.container=g,n.autoSize=!0,n.padding.addEventListener("layoutChange",n.scheduleLayout,n);var _=n.legend;if(_.addEventListener("layoutChange",n.scheduleLayout,n),_.item.label.addPropertyListener("formatter",n.updateLegend,n),_.addPropertyListener("position",n.onLegendPositionChange,n),n.tooltip=new Ps(n,e),n.tooltip.addPropertyListener("class",function(){return n.tooltip.toggle()}),t.tooltipDocuments.indexOf(e)<0){var E=e.createElement("style");E.innerHTML='\n.ag-chart-tooltip {\n    display: table;\n    position: absolute;\n    user-select: none;\n    pointer-events: none;\n    white-space: nowrap;\n    z-index: 99999;\n    font: 12px Verdana, sans-serif;\n    color: black;\n    background: rgb(244, 244, 244);\n    border-radius: 5px;\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\n}\n\n.ag-chart-tooltip-hidden {\n    top: -10000px !important;\n}\n\n.ag-chart-tooltip-title {\n    font-weight: bold;\n    padding: 7px;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n    color: white;\n    background-color: #888888;\n    border-top-left-radius: 5px;\n    border-top-right-radius: 5px;\n}\n\n.ag-chart-tooltip-content {\n    padding: 7px;\n    line-height: 1.7em;\n    border-bottom-left-radius: 5px;\n    border-bottom-right-radius: 5px;\n    overflow: hidden;\n}\n\n.ag-chart-tooltip-content:empty {\n    padding: 0;\n    height: 7px;\n}\n\n.ag-chart-tooltip-arrow::before {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 6px solid #989898;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: #989898;\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-tooltip-arrow::after {\n    content: "";\n\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    transform: translateX(-50%);\n\n    border: 5px solid black;\n\n    border-left-color: transparent;\n    border-right-color: transparent;\n    border-top-color: rgb(244, 244, 244);\n    border-bottom-color: transparent;\n\n    width: 0;\n    height: 0;\n\n    margin: 0 auto;\n}\n\n.ag-chart-wrapper {\n    box-sizing: border-box;\n    overflow: hidden;\n}\n',e.head.insertBefore(E,e.head.querySelector("style")),t.tooltipDocuments.push(e)}return n.setupDomListeners(y.canvas.element),n.addPropertyListener("title",n.onCaptionChange),n.addPropertyListener("subtitle",n.onCaptionChange),n.addEventListener("layoutChange",n.scheduleLayout),n}return Ha(t,l),Object.defineProperty(t.prototype,"container",{get:function(){return this._container},set:function(e){if(this._container!==e){var n=this.element.parentNode;null!=n&&n.removeChild(this.element),e&&e.appendChild(this.element),this._container=e}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,this.series.forEach(function(n){return n.data=e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.scene.width},set:function(e){this.autoSize=!1,this.width!==e&&(this.scene.resize(e,this.height),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scene.height},set:function(e){this.autoSize=!1,this.height!==e&&(this.scene.resize(this.width,e),this.fireEvent({type:"layoutChange"}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoSize",{get:function(){return this._autoSize},set:function(e){if(this._autoSize!==e){this._autoSize=e;var n=this.element.style;if(e){var a=this;Ac.observe(this.element,function(s){(s.width!==a.width||s.height!==a.height)&&(a.scene.resize(s.width,s.height),a.fireEvent({type:"layoutChange"}))}),n.display="block",n.width="100%",n.height="100%"}else Ac.unobserve(this.element),n.display="inline-block",n.width="auto",n.height="auto"}},enumerable:!0,configurable:!0}),t.prototype.download=function(e){this.scene.download(e)},t.prototype.destroy=function(){this.tooltip.destroy(),Ac.unobserve(this.element),this.container=void 0,this.cleanupDomListeners(this.scene.canvas.element),this.scene.container=void 0},t.prototype.onLegendPositionChange=function(){this.legendAutoPadding.clear(),this.layoutPending=!0},t.prototype.onCaptionChange=function(e){var n=e.value,a=e.oldValue;a&&(a.removeEventListener("change",this.scheduleLayout,this),this.scene.root.removeChild(a.node)),n&&(n.addEventListener("change",this.scheduleLayout,this),this.scene.root.appendChild(n.node))},Object.defineProperty(t.prototype,"element",{get:function(){return this._element},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"axes",{get:function(){return this._axes},set:function(e){var n=this;this._axes.forEach(function(a){return n.detachAxis(a)}),this._axes=e.filter(function(a){return!a.linkedTo}).concat(e.filter(function(a){return a.linkedTo})),this._axes.forEach(function(a){return n.attachAxis(a)}),this.axesChanged=!0},enumerable:!0,configurable:!0}),t.prototype.attachAxis=function(e){this.scene.root.insertBefore(e.group,this.seriesRoot)},t.prototype.detachAxis=function(e){this.scene.root.removeChild(e.group)},Object.defineProperty(t.prototype,"series",{get:function(){return this._series},set:function(e){var n=this;this.removeAllSeries(),e.forEach(function(a){return n.addSeries(a)})},enumerable:!0,configurable:!0}),t.prototype.scheduleLayout=function(){this.layoutPending=!0},t.prototype.scheduleData=function(){this.dehighlightDatum(),this.dataPending=!0},t.prototype.addSeries=function(e,n){var s=this.series,g=this.seriesRoot;if(s.indexOf(e)<0){var _=n?s.indexOf(n):-1;return _>=0?(s.splice(_,0,e),g.insertBefore(e.group,n.group)):(s.push(e),g.append(e.group)),this.initSeries(e),this.seriesChanged=!0,this.axesChanged=!0,!0}return!1},t.prototype.initSeries=function(e){e.chart=this,e.data||(e.data=this.data),e.addEventListener("layoutChange",this.scheduleLayout,this),e.addEventListener("dataChange",this.scheduleData,this),e.addEventListener("legendChange",this.updateLegend,this),e.addEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.freeSeries=function(e){e.chart=void 0,e.removeEventListener("layoutChange",this.scheduleLayout,this),e.removeEventListener("dataChange",this.scheduleData,this),e.removeEventListener("legendChange",this.updateLegend,this),e.removeEventListener("nodeClick",this.onSeriesNodeClick,this)},t.prototype.addSeriesAfter=function(e,n){var s=this.series,g=this.seriesRoot;if(s.indexOf(e)<0){var _=n?this.series.indexOf(n):-1;_>=0?(_+1<s.length?g.insertBefore(e.group,s[_+1].group):g.append(e.group),this.initSeries(e),s.splice(_+1,0,e)):(s.length>0?g.insertBefore(e.group,s[0].group):g.append(e.group),this.initSeries(e),s.unshift(e)),this.seriesChanged=!0,this.axesChanged=!0}return!1},t.prototype.removeSeries=function(e){var n=this.series.indexOf(e);return n>=0&&(this.series.splice(n,1),this.freeSeries(e),this.seriesRoot.removeChild(e.group),this.seriesChanged=!0,!0)},t.prototype.removeAllSeries=function(){var e=this;this.series.forEach(function(n){e.freeSeries(n),e.seriesRoot.removeChild(n.group)}),this._series=[],this.seriesChanged=!0},t.prototype.assignSeriesToAxes=function(){var e=this;this.axes.forEach(function(n){var a=n.direction+"Axis",s=[];e.series.forEach(function(g){g[a]===n&&s.push(g)}),n.boundSeries=s}),this.seriesChanged=!1},t.prototype.assignAxesToSeries=function(e){var n=this;void 0===e&&(e=!1);var a={};this.axes.forEach(function(s){var g=s.direction;(a[g]||(a[g]=[])).push(s)}),this.series.forEach(function(s){s.directions.forEach(function(g){var y=g+"Axis";if(!s[y]||e){var _=a[g];if(_){var E=n.findMatchingAxis(_,s.getKeys(g));E&&(s[y]=E)}}})}),this.axesChanged=!1},t.prototype.findMatchingAxis=function(e,n){for(var a=0;a<e.length;a++){var s=e[a],g=s.keys;if(!g.length)return s;if(n)for(var y=0;y<n.length;y++)if(g.indexOf(n[y])>=0)return s}},Object.defineProperty(t.prototype,"axesChanged",{get:function(){return this._axesChanged},set:function(e){this._axesChanged=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"seriesChanged",{get:function(){return this._seriesChanged},set:function(e){this._seriesChanged=e,e&&(this.dataPending=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"layoutPending",{get:function(){return!!this.layoutCallbackId},set:function(e){e?this.layoutCallbackId||this.dataPending||(this.layoutCallbackId=requestAnimationFrame(this._performLayout),this.series.forEach(function(n){return n.nodeDataPending=!0})):this.layoutCallbackId&&(cancelAnimationFrame(this.layoutCallbackId),this.layoutCallbackId=0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataPending",{get:function(){return!!this.dataCallbackId},set:function(e){var n=this;this.dataCallbackId&&(clearTimeout(this.dataCallbackId),this.dataCallbackId=0),e&&(this.dataCallbackId=window.setTimeout(function(){n.dataPending=!1,n.processData()},0))},enumerable:!0,configurable:!0}),t.prototype.processData=function(){this.layoutPending=!1,this.axesChanged&&(this.assignAxesToSeries(!0),this.assignSeriesToAxes()),this.seriesChanged&&this.assignSeriesToAxes(),this.series.forEach(function(e){return e.processData()}),this.updateLegend(),this.layoutPending=!0},t.prototype.createNodeData=function(){var e=this;this.nodeData.clear(),this.series.forEach(function(n){var a=n.visible?n.createNodeData():[];e.nodeData.set(n,a)})},t.prototype.placeLabels=function(){var e=[],n=[];this.nodeData.forEach(function(g,y){y.visible&&y.label.enabled&&(e.push(y),n.push(y.getLabelData()))});var a=this.seriesRect,s=a?function Mc(l,t,e){void 0===e&&(e=5);var n=[];l=l.map(function(R){return R.slice().sort(function(A,T){return T.size-A.size})});for(var a=0;a<l.length;a++){var s=n[a]=[],g=l[a];if(g&&g.length&&g[0].label)for(var y=function(R,A){var T=g[R],F=T.label,G=T.point.x-.5*F.width,j=T.point.y-.5*T.size-F.height-e,U=F.width,z=F.height;return!t||xc(t.x,t.y,t.width,t.height,G,j,U,z)?l.some(function(ae){return ae.some(function(ce){return Mn(ce.point.x,ce.point.y,.5*ce.size,G,j,U,z)})})||n.some(function(ae){return ae.some(function(ce){return Ds(ce.x,ce.y,ce.width,ce.height,G,j,U,z)})})?"continue":void s.push({index:R,text:F.text,x:G,y:j,width:U,height:z}):"continue"},_=0,E=g.length;_<E;_++)y(_)}return n}(n,{x:0,y:0,width:a.width,height:a.height}):[];return new Map(s.map(function(g,y){return[e[y],g]}))},t.prototype.updateLegend=function(){var e=[];this.series.filter(function(a){return a.showInLegend}).forEach(function(a){return a.listSeriesItems(e)});var n=this.legend.item.label.formatter;n&&e.forEach(function(a){return a.label.text=n({id:a.id,itemId:a.itemId,value:a.label.text})}),this.legend.data=e},Object.defineProperty(t.prototype,"updatePending",{get:function(){return!!this.updateCallbackId},set:function(e){var n=this;this.updateCallbackId&&(clearTimeout(this.updateCallbackId),this.updateCallbackId=0),e&&!this.layoutPending&&(this.updateCallbackId=window.setTimeout(function(){n.update()},0))},enumerable:!0,configurable:!0}),t.prototype.update=function(){this.updatePending=!1,this.series.forEach(function(e){e.updatePending&&e.update()})},t.prototype.positionCaptions=function(){var n=this.title,a=this.subtitle,s=!1,g=!1,_=10;if(n&&n.enabled){n.node.x=this.width/2,n.node.y=_,s=!0;var E=n.node.computeBBox();if(E&&(_=E.y+E.height),a&&a.enabled){a.node.x=this.width/2,a.node.y=_+10,g=!0;var R=a.node.computeBBox();R&&(_=R.y+R.height)}}n&&(n.node.visible=s),a&&(a.node.visible=g),this.captionAutoPadding=Math.floor(_)},t.prototype.positionLegend=function(){if(this.legend.enabled&&this.legend.data.length){var T,e=this,n=e.legend,a=e.captionAutoPadding,s=e.legendAutoPadding,g=this.width,y=this.height-a,_=n.group,E=n.spacing,R=0,A=0;switch(n.position){case"bottom":n.performLayout(g-2*E,0),T=_.computeBBox(),_.visible=T.height<Math.floor(.5*y),_.visible?(R=(g-T.width)/2-T.x,A=a+y-T.height-T.y-E,s.bottom=T.height):s.bottom=0;break;case"top":n.performLayout(g-2*E,0),T=_.computeBBox(),_.visible=T.height<Math.floor(.5*y),_.visible?(R=(g-T.width)/2-T.x,A=a+E-T.y,s.top=T.height):s.top=0;break;case"left":n.performLayout(0,y-2*E),T=_.computeBBox(),_.visible=T.width<Math.floor(.5*g),_.visible?(R=E-T.x,A=a+(y-T.height)/2-T.y,s.left=T.width):s.left=0;break;default:n.performLayout(0,y-2*E),T=_.computeBBox(),_.visible=T.width<Math.floor(.5*g),_.visible?(R=g-T.width-T.x-E,A=a+(y-T.height)/2-T.y,s.right=T.width):s.right=0}_.visible&&(_.translationX=Math.floor(R+_.translationX),_.translationY=Math.floor(A+_.translationY),this.legendBBox=_.computeBBox())}},t.prototype.setupDomListeners=function(e){e.addEventListener("mousedown",this._onMouseDown),e.addEventListener("mousemove",this._onMouseMove),e.addEventListener("mouseup",this._onMouseUp),e.addEventListener("mouseout",this._onMouseOut),e.addEventListener("click",this._onClick)},t.prototype.cleanupDomListeners=function(e){e.removeEventListener("mousedown",this._onMouseDown),e.removeEventListener("mousemove",this._onMouseMove),e.removeEventListener("mouseup",this._onMouseUp),e.removeEventListener("mouseout",this._onMouseOut),e.removeEventListener("click",this._onClick)},t.prototype.getSeriesRect=function(){return this.seriesRect},t.prototype.pickSeriesNode=function(e,n){if(this.seriesRect&&this.seriesRect.containsPoint(e,n))for(var a=this.series,s=void 0,g=a.length-1;g>=0;g--){var y=a[g];if(y.visible&&(s=y.pickGroup.pickNode(e,n)))return{series:y,node:s}}},t.prototype.pickClosestSeriesNodeDatum=function(e,n){if(this.seriesRect&&this.seriesRect.containsPoint(e,n)){for(var y,a=this.series,g=1/0,_=function(R){var A=a[R];if(!A.visible)return"continue";var T=A.group.transformPoint(e,n);A.getNodeData().forEach(function(F){var I,G;if(F.point){var U=A.yAxis;if((null===(I=A.xAxis)||void 0===I?void 0:I.inRange(F.point.x))&&(null===(G=U)||void 0===G?void 0:G.inRange(F.point.y))){var Y=function s(R,A){return Math.sqrt(Math.pow(R.x-A.x,2)+Math.pow(R.y-A.y,2))}(T,F.point);Y<g&&(g=Y,y=F)}}})},E=a.length-1;E>=0;E--)_(E);return y}},t.prototype.onMouseMove=function(e){this.handleLegendMouseMove(e),this.tooltip.enabled&&(this.tooltip.delay>0&&this.tooltip.toggle(!1),this.handleTooltip(e))},t.prototype.handleTooltip=function(e){var E,a=this.lastPick,s=this.tooltip.tracking,g=e.offsetX,y=e.offsetY,_=this.pickSeriesNode(g,y);if(_&&_.node instanceof Di){var R=_.node;if(E=R.datum,a&&a.datum===E&&(a.node=R,a.event=e),!R.datum.point||!s)return void(a&&a.node===R?_.series.tooltip.enabled&&this.tooltip.show(e):this.onSeriesDatumPick(e,R.datum,R,e))}var A=!1;if(s){var T=this.pickClosestSeriesNodeDatum(g,y);if(T&&T.point){var F=T.point,j=this.scene.canvas,U=T.series.group.inverseTransformPoint(F.x,F.y),z=j.element.getBoundingClientRect();this.onSeriesDatumPick({pageX:Math.round(z.left+window.pageXOffset+U.x),pageY:Math.round(z.top+window.pageYOffset+U.y)},T,E===T&&_?_.node:void 0,e)}else A=!0}a&&(A||!s)&&(this.dehighlightDatum(),this.tooltip.toggle(!1),this.lastPick=void 0)},t.prototype.onMouseDown=function(e){},t.prototype.onMouseUp=function(e){},t.prototype.onMouseOut=function(e){this.tooltip.toggle(!1)},t.prototype.onClick=function(e){this.checkSeriesNodeClick()||this.checkLegendClick(e)||this.fireEvent({type:"click",event:e})},t.prototype.checkSeriesNodeClick=function(){var e=this.lastPick;if(e&&e.event&&e.node){var a=e.datum;return a.series.fireNodeClickEvent(e.event,a),!0}return!1},t.prototype.onSeriesNodeClick=function(e){this.fireEvent(Wa(Wa({},e),{type:"seriesNodeClick"}))},t.prototype.checkLegendClick=function(e){var n=this.legend.getDatumForPoint(e.offsetX,e.offsetY);if(n){var a=n.id,s=n.itemId,g=n.enabled,y=Cc(this.series,function(_){return _.id===a});if(y)return y.toggleSeriesItem(s,!g),g&&this.tooltip.toggle(!1),this.legend.fireEvent({type:"click",event:e,itemId:s,enabled:!g}),!0}return!1},t.prototype.handleLegendMouseMove=function(e){if(this.legend.enabled){var n=e.offsetX,a=e.offsetY,s=this.legend.getDatumForPoint(n,a),g=this.legendBBox.containsPoint(n,a),y=g&&void 0!==s;if(!g&&this.pointerInsideLegend)return this.pointerInsideLegend=!1,this.scene.canvas.element.style.cursor="default",void this.dehighlightDatum();y&&!this.pointerOverLegendDatum&&(this.scene.canvas.element.style.cursor="pointer"),!y&&this.pointerOverLegendDatum&&(this.scene.canvas.element.style.cursor="default"),this.pointerInsideLegend=g,this.pointerOverLegendDatum=y;var _=this.highlightedDatum;if(s){var E=s.id,R=s.itemId;if(s.enabled){var T=Cc(this.series,function(F){return F.id===E});T&&(this.highlightedDatum={series:T,itemId:R,datum:void 0})}}(this.highlightedDatum&&!_||this.highlightedDatum&&_&&(this.highlightedDatum.series!==_.series||this.highlightedDatum.itemId!==_.itemId))&&this.series.forEach(function(F){return F.updatePending=!0})}},t.prototype.onSeriesDatumPick=function(e,n,a,s){var g=this.lastPick;if(g){if(g.datum===n)return;this.dehighlightDatum()}this.lastPick={datum:n,node:a,event:s},this.highlightDatum(n);var y=n.series.tooltip.enabled&&n.series.getTooltipHtml(n);y&&this.tooltip.show(e,y)},t.prototype.highlightDatum=function(e){this.scene.canvas.element.style.cursor=e.series.cursor,this.highlightedDatum=e,this.series.forEach(function(n){return n.updatePending=!0})},t.prototype.dehighlightDatum=function(){this.highlightedDatum&&(this.highlightedDatum=void 0,this.series.forEach(function(e){return e.updatePending=!0}))},t.defaultTooltipClass="ag-chart-tooltip",t.tooltipDocuments=[],Jo([be("layoutChange")],t.prototype,"title",void 0),Jo([be("layoutChange")],t.prototype,"subtitle",void 0),t}(ti),jv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ic=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e.path=new id,e._enabled=!0,e._dirtyPath=!0,e._x=0,e._y=0,e._width=10,e._height=10,e}return jv(t,l),t.prototype.containsPoint=function(e,n){var a=this.transformPoint(e,n);return a.x>=this.x&&a.x<=this.x+this.width&&a.y>=this.y&&a.y<=this.y+this.height},Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled!==e&&(this._enabled=e,this.dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirtyPath",{get:function(){return this._dirtyPath},set:function(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&(this.dirty=!0))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.updatePath=function(){var e=this.path;e.clear(),e.rect(this.x,this.y,this.width,this.height),this.dirtyPath=!1},t.prototype.computeBBox=function(){var e=this;return new Dr(e.x,e.y,e.width,e.height)},t.prototype.render=function(e){this.enabled&&(this.dirtyPath&&this.updatePath(),this.path.draw(e),e.clip());for(var n=this.children,a=n.length,s=0;s<a;s++){e.save();var g=n[s];g.visible&&g.render(e),e.restore()}},t.className="ClipRect",t}(An),Ts=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uv=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._fill="#f2f2f2",e._stroke="#999999",e._strokeWidth=1,e._lineCap="square",e._centerX=0,e._centerY=0,e._width=8,e._gripLineGap=2,e._gripLineLength=8,e._height=16,e}return Ts(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineGap",{get:function(){return this._gripLineGap},set:function(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gripLineLength",{get:function(){return this._gripLineLength},set:function(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this,s=e.width,g=e.height;return new Dr(e.centerX-s/2,e.centerY-g/2,s,g)},t.prototype.isPointInPath=function(e,n){var a=this.transformPoint(e,n);return this.computeBBox().containsPoint(a.x,a.y)},t.prototype.updatePath=function(){var e=this,n=e.path,a=e.centerX,s=e.centerY,g=e.width,y=e.height,E=this.alignment,R=this.align;n.clear();var A=a-g/2,T=s-y/2,F=R(E,A),I=R(E,T),G=F+R(E,A,g),j=I+R(E,T,y);n.moveTo(F,I),n.lineTo(G,I),n.lineTo(G,j),n.lineTo(F,j),n.lineTo(F,I);var U=this.gripLineGap/2,z=this.gripLineLength/2;n.moveTo(R(E,a-U),R(E,s-z)),n.lineTo(R(E,a-U),R(E,s+z)),n.moveTo(R(E,a+U),R(E,s-z)),n.lineTo(R(E,a+U),R(E,s+z))},t.className="RangeHandle",t}(xn),Sw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),yf=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._stroke="#999999",e._strokeWidth=1,e._fill="#999999",e._fillOpacity=.2,e._lineCap="square",e._x=0,e._y=0,e._width=200,e._height=30,e.minRange=.05,e._min=0,e._max=1,e}return Sw(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this._min},set:function(e){e=Math.min(Math.max(e,0),this.max-this.minRange),!isNaN(e)&&this._min!==e&&(this._min=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(e,this.max))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this._max},set:function(e){e=Math.max(Math.min(e,1),this.min+this.minRange),!isNaN(e)&&this._max!==e&&(this._max=e,this.dirtyPath=!0,this.onRangeChange&&this.onRangeChange(this.min,e))},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this;return new Dr(e.x,e.y,e.width,e.height)},t.prototype.computeVisibleRangeBBox=function(){var e=this,n=e.x,s=e.width,E=n+s*e.min;return new Dr(E,e.y,n+s*e.max-E,e.height)},t.prototype.updatePath=function(){var e=this,n=e.path,a=e.x,s=e.y,g=e.width,y=e.height,_=e.min,E=e.max,A=this.alignment,T=this.align;n.clear();var F=T(A,a),I=T(A,s),G=F+T(A,a,g),j=I+T(A,s,y);n.moveTo(F,I),n.lineTo(G,I),n.lineTo(G,j),n.lineTo(F,j),n.lineTo(F,I);var U=T(A,a+g*_),z=T(A,a+g*E);n.moveTo(U,I),n.lineTo(U,j),n.lineTo(z,j),n.lineTo(z,I),n.lineTo(U,I)},t.className="RangeMask",t}(xn),zv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.isContainerNode=!0,e.minHandle=new Uv,e.maxHandle=new Uv,e.mask=function(){var n=t.defaults,a=n.x,s=n.y,g=n.width,y=n.height,_=n.min,E=n.max,R=new yf;R.x=a,R.y=s,R.width=g,R.height=y,R.min=_,R.max=E;var T=e.minHandle,F=e.maxHandle;return T.centerX=a,F.centerX=a+g,T.centerY=F.centerY=s+y/2,e.append([R,T,F]),R.onRangeChange=function(I,G){e.updateHandles(),e.onRangeChange&&e.onRangeChange(I,G)},R}(),e._x=t.defaults.x,e._y=t.defaults.y,e._width=t.defaults.width,e._height=t.defaults.height,e._min=t.defaults.min,e._max=t.defaults.max,e}return zv(t,l),Object.defineProperty(t.prototype,"x",{get:function(){return this.mask.x},set:function(e){this.mask.x=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.mask.y},set:function(e){this.mask.y=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.mask.width},set:function(e){this.mask.width=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.mask.height},set:function(e){this.mask.height=e,this.updateHandles()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"min",{get:function(){return this.mask.min},set:function(e){this.mask.min=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"max",{get:function(){return this.mask.max},set:function(e){this.mask.max=e},enumerable:!0,configurable:!0}),t.prototype.updateHandles=function(){var e=this,n=e.minHandle,a=e.maxHandle,s=e.x,g=e.y,y=e.width,_=e.height,E=e.mask;n.centerX=s+y*E.min,a.centerX=s+y*E.max,n.centerY=a.centerY=g+_/2},t.prototype.computeBBox=function(){return this.mask.computeBBox()},t.prototype.computeVisibleRangeBBox=function(){return this.mask.computeVisibleRangeBBox()},t.prototype.render=function(e){this.dirtyTransform&&this.computeTransformMatrix(),this.matrix.toContext(e);var n=this;[n.mask,n.minHandle,n.maxHandle].forEach(function(y){e.save(),y.visible&&y.render(e),e.restore()})},t.className="Range",t.defaults={x:0,y:0,width:200,height:30,min:0,max:1},t}(un),tb=function(){function l(t){this.rm=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rm.fill},set:function(t){this.rm.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rm.stroke},set:function(t){this.rm.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rm.strokeWidth},set:function(t){this.rm.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"fillOpacity",{get:function(){return this.rm.fillOpacity},set:function(t){this.rm.fillOpacity=t},enumerable:!0,configurable:!0}),l}(),bd=function(){function l(t){this.rh=t}return Object.defineProperty(l.prototype,"fill",{get:function(){return this.rh.fill},set:function(t){this.rh.fill=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"stroke",{get:function(){return this.rh.stroke},set:function(t){this.rh.stroke=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"strokeWidth",{get:function(){return this.rh.strokeWidth},set:function(t){this.rh.strokeWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rh.width},set:function(t){this.rh.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rh.height},set:function(t){this.rh.height=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineGap",{get:function(){return this.rh.gripLineGap},set:function(t){this.rh.gripLineGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"gripLineLength",{get:function(){return this.rh.gripLineLength},set:function(t){this.rh.gripLineLength=t},enumerable:!0,configurable:!0}),l}(),rb=function(){function l(t){var e=this;this.rs=new bw,this.mask=new tb(this.rs.mask),this.minHandle=new bd(this.rs.minHandle),this.maxHandle=new bd(this.rs.maxHandle),this.minHandleDragging=!1,this.maxHandleDragging=!1,this.panHandleOffset=NaN,this._margin=10,this.chart=t,t.scene.root.append(this.rs),this.rs.onRangeChange=function(n,a){return e.updateAxes(n,a)}}return Object.defineProperty(l.prototype,"enabled",{get:function(){return this.rs.visible},set:function(t){this.rs.visible=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"x",{get:function(){return this.rs.x},set:function(t){this.rs.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"y",{get:function(){return this.rs.y},set:function(t){this.rs.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"width",{get:function(){return this.rs.width},set:function(t){this.rs.width=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"height",{get:function(){return this.rs.height},set:function(t){this.rs.height=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"margin",{get:function(){return this._margin},set:function(t){this._margin=t,this.chart.layoutPending=!0},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"min",{get:function(){return this.rs.min},set:function(t){this.rs.min=t},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"max",{get:function(){return this.rs.max},set:function(t){this.rs.max=t},enumerable:!0,configurable:!0}),l.prototype.updateAxes=function(t,e){var n=this.chart,a=!1;n.axes.forEach(function(s){s.direction===nr.X&&(!a&&(t>0||e<1)&&(a=!0),s.visibleRange=[t,e],s.update())}),n.seriesRoot.enabled=a,n.series.forEach(function(s){return s.nodeDataPending=!0})},l.prototype.onDragStart=function(t){if(this.enabled){var e=t.offsetX,n=t.offsetY,a=this.rs,s=a.minHandle,g=a.maxHandle,y=a.x,_=a.width,E=a.min,R=a.computeVisibleRangeBBox();this.minHandleDragging||this.maxHandleDragging||(s.containsPoint(e,n)?this.minHandleDragging=!0:g.containsPoint(e,n)?this.maxHandleDragging=!0:R.containsPoint(e,n)&&(this.panHandleOffset=(e-y)/_-E))}},l.prototype.onDrag=function(t){if(this.enabled){var n=this.rs,a=this.panHandleOffset,s=n.x,y=n.width,E=n.minHandle,R=n.maxHandle,A=this.chart.element.style,T=t.offsetX,F=t.offsetY,I=s+y*n.min,j=new Dr(I,n.y,s+y*n.max-I,n.height);if(A.cursor=E.containsPoint(T,F)||R.containsPoint(T,F)?"ew-resize":j.containsPoint(T,F)?"grab":"default",this.minHandleDragging)n.min=U();else if(this.maxHandleDragging)n.max=U();else if(!isNaN(a)){var z=n.max-n.min,Y=Math.min(U()-a,1-z);Y<=n.min?(n.min=Y,n.max=n.min+z):(n.max=Y+z,n.min=n.max-z)}}function U(){return Math.min(Math.max((T-s)/y,0),1)}},l.prototype.onDragStop=function(){this.stopHandleDragging()},l.prototype.stopHandleDragging=function(){this.minHandleDragging=this.maxHandleDragging=!1,this.panHandleOffset=NaN},l}(),mf=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$v=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Ew=function(l){function t(e){void 0===e&&(e=window.document);var n=l.call(this,e)||this;n._seriesRoot=new Ic,n.navigator=new rb(n),n.scene.root.visible=!1;var a=n.scene.root;return a.append(n.seriesRoot),a.append(n.legend.group),n.navigator.enabled=!1,n}return mf(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,s=e.axes,g=e.legend,y=e.navigator,_=new Dr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),g.enabled&&g.data.length){var E=this.legendAutoPadding,R=this.legend.spacing;switch(_.x+=E.left,_.y+=E.top,_.width-=E.left+E.right,_.height-=E.top+E.bottom,this.legend.position){case"right":_.width-=R;break;case"bottom":_.height-=R;break;case"left":_.x+=R,_.width-=R;break;case"top":_.y+=R,_.height-=R}}var T=this.captionAutoPadding,F=this.padding;this.updateAxes(),_.x+=F.left,_.width-=F.left+F.right,_.y+=F.top+T,_.height-=F.top+T+F.bottom,y.enabled&&(_.height-=y.height+y.margin);var I=0,G={top:!1,right:!1,bottom:!1,left:!1,angle:!1,radius:!1};s.forEach(function(U){U.group.visible=!0;var z=Math.floor(U.thickness||U.computeBBox().width);switch(G[U.position]&&(z+=U.title&&U.title.padding.top||15),U.position){case At.Top:G[At.Top]=!0,_.y+=z,_.height-=z,U.translation.y=Math.floor(_.y+1),U.label.mirrored=!0;break;case At.Right:G[At.Right]=!0,_.width-=z,U.translation.x=Math.max(Math.floor(_.x),Math.floor(_.x+_.width)),U.label.mirrored=!0;break;case At.Bottom:G[At.Bottom]=!0,_.height-=z,I+=z,U.translation.y=Math.max(Math.floor(_.y),Math.floor(_.y+_.height+1));break;case At.Left:G[At.Left]=!0,_.x+=z,_.width-=z,U.translation.x=Math.floor(_.x)}}),_.width=Math.max(0,_.width),_.height=Math.max(0,_.height),s.forEach(function(U){switch(U.position){case At.Top:case At.Bottom:U.translation.x=Math.floor(_.x),U.range=[0,_.width],U.gridLength=_.height;break;case At.Left:case At.Right:U.translation.y=Math.floor(_.y),U.range=U instanceof eo||U instanceof Pi?[0,_.height]:[_.height,0],U.gridLength=_.width}}),this.createNodeData(),this.seriesRect=_,this.series.forEach(function(U){U.group.translationX=Math.floor(_.x),U.group.translationY=Math.floor(_.y),U.update()});var j=this.seriesRoot;j.x=_.x,j.y=_.y,j.width=_.width,j.height=_.height,y.enabled&&(y.x=_.x,y.y=_.y+_.height+I+y.margin,y.width=_.width),this.axes.forEach(function(U){return U.update()})}},t.prototype.initSeries=function(e){l.prototype.initSeries.call(this,e)},t.prototype.freeSeries=function(e){l.prototype.freeSeries.call(this,e)},t.prototype.setupDomListeners=function(e){l.prototype.setupDomListeners.call(this,e),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this._onTouchCancel=this.onTouchCancel.bind(this),e.addEventListener("touchstart",this._onTouchStart,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),e.addEventListener("touchend",this._onTouchEnd,{passive:!0}),e.addEventListener("touchcancel",this._onTouchCancel,{passive:!0})},t.prototype.cleanupDomListeners=function(e){l.prototype.cleanupDomListeners.call(this,e),e.removeEventListener("touchstart",this._onTouchStart),e.removeEventListener("touchmove",this._onTouchMove),e.removeEventListener("touchend",this._onTouchEnd),e.removeEventListener("touchcancel",this._onTouchCancel)},t.prototype.getTouchOffset=function(e){var n=this.scene.canvas.element.getBoundingClientRect(),a=e.touches[0];return a?{offsetX:a.clientX-n.left,offsetY:a.clientY-n.top}:void 0},t.prototype.onTouchStart=function(e){var n=this.getTouchOffset(e);n&&this.navigator.onDragStart(n)},t.prototype.onTouchMove=function(e){var n=this.getTouchOffset(e);n&&this.navigator.onDrag(n)},t.prototype.onTouchEnd=function(e){this.navigator.onDragStop()},t.prototype.onTouchCancel=function(e){this.navigator.onDragStop()},t.prototype.onMouseDown=function(e){l.prototype.onMouseDown.call(this,e),this.navigator.onDragStart(e)},t.prototype.onMouseMove=function(e){l.prototype.onMouseMove.call(this,e),this.navigator.onDrag(e)},t.prototype.onMouseUp=function(e){l.prototype.onMouseUp.call(this,e),this.navigator.onDragStop()},t.prototype.onMouseOut=function(e){l.prototype.onMouseOut.call(this,e),this.navigator.onDragStop()},t.prototype.assignAxesToSeries=function(e){void 0===e&&(e=!1),l.prototype.assignAxesToSeries.call(this,e),this.series.forEach(function(n){n.xAxis||console.warn("Could not find a matching xAxis for the "+n.id+" series."),n.yAxis||console.warn("Could not find a matching yAxis for the "+n.id+" series.")})},t.prototype.updateAxes=function(){var s,e=this,n=this.navigator,a=!1;this.axes.forEach(function(g){var y,_=g.direction,E=g.boundSeries;if(0===E.length&&e._series.length>0&&console.warn("AG Charts - chart series not initialised; check series and axes configuration."),g.linkedTo)g.domain=g.linkedTo.domain;else{var R=[];E.filter(function(F){return F.visible}).forEach(function(F){R.push(F.getDomain(_))});var A=(y=new Array).concat.apply(y,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat($v(arguments[t]));return l}(R));g instanceof Oo&&"y"===g.direction?(g.setDomain(A,s),s=s||g.scale.ticks(g.tick.count).length):g.domain=A}g.direction===nr.X&&(g.visibleRange=[n.min,n.max]),!a&&(g.visibleRange[0]>0||g.visibleRange[1]<1)&&(a=!0),g.update()}),this.seriesRoot.enabled=a},t.className="CartesianChart",t.type="cartesian",t}(ai),Kv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ib=function(l){function t(e){void 0===e&&(e=window.document);var n=l.call(this,e)||this;n._data={},n._seriesRoot=new Ic,n.scene.root.visible=!1;var a=n.scene.root;return a.append(n.seriesRoot),a.append(n.legend.group),n}return Kv(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this._seriesRoot},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){if(!this.dataPending){this.scene.root.visible=!0;var e=this,s=e.legend,g=new Dr(0,0,e.width,e.height);if(this.positionCaptions(),this.positionLegend(),s.enabled&&s.data.length){var y=this.legendAutoPadding,_=this.legend.spacing;switch(g.x+=y.left,g.y+=y.top,g.width-=y.left+y.right,g.height-=y.top+y.bottom,this.legend.position){case"right":g.width-=_;break;case"bottom":g.height-=_;break;case"left":g.x+=_,g.width-=_;break;case"top":g.y+=_,g.height-=_}}var R=this.captionAutoPadding,A=this.padding;g.x+=A.left,g.width-=A.left+A.right,g.y+=A.top+R,g.height-=A.top+R+A.bottom,this.seriesRect=g,this.series.forEach(function(F){F.group.translationX=Math.floor(g.x),F.group.translationY=Math.floor(g.y),F.update()});var T=this.seriesRoot;T.x=g.x,T.y=g.y,T.width=g.width,T.height=g.height}},t.className="HierarchyChart",t.type="hierarchy",t}(ai),Ow=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ob=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Yv=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Ow(t,l),t.prototype.updateAxes=function(){this.axes.forEach(function(e){var n,a=e.direction,g=[],y=void 0;e.boundSeries.filter(function(E){return E.visible}).forEach(function(E){if(a===nr.X)if(void 0===y){var R=E.getDomain(a);g.push(R),y="number"==typeof R[0]}else y&&g.push(E.getDomain(a));else g.push(E.getDomain(a))});var _=(n=new Array).concat.apply(n,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(ob(arguments[t]));return l}(g));e.domain=Zi(_,nn)||_,e.update()})},t.className="GroupedCategoryChart",t.type="groupedCategory",t}(Ew),sb=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sl=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},mn=function(l){function t(){var e=l.call(this)||this;return e.enabled=!0,e.fontSize=12,e.fontFamily="Verdana, sans-serif",e.color="rgba(70, 70, 70, 1)",e}return sb(t,l),t.prototype.getFont=function(){return Yh(this.fontSize,this.fontFamily,this.fontStyle,this.fontWeight)},Sl([be("change","dataChange")],t.prototype,"enabled",void 0),Sl([be("change")],t.prototype,"fontSize",void 0),Sl([be("change")],t.prototype,"fontFamily",void 0),Sl([be("change")],t.prototype,"fontStyle",void 0),Sl([be("change")],t.prototype,"fontWeight",void 0),Sl([be("change")],t.prototype,"color",void 0),t}(ti),Rw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qv=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Xv=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},lb=function l(){this.fill="yellow",this.stroke=void 0,this.strokeWidth=void 0},Ed=function l(){this.strokeWidth=void 0,this.dimOpacity=void 0},ub=function l(){this.fill=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.item=new lb,this.series=new Ed},bu=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e}return Rw(t,l),qv([be("change")],t.prototype,"enabled",void 0),t}(ti),Po=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.id=du(e),e.group=new un,e.pickGroup=e.group.appendChild(new un),e.directions=[nr.X,nr.Y],e.directionKeys={},e.label=new mn,e.data=void 0,e.visible=!0,e.showInLegend=!0,e.cursor="default",e._nodeDataPending=!0,e._updatePending=!1,e.highlightStyle=new ub,e.scheduleLayout=function(){e.fireEvent({type:"layoutChange"})},e.scheduleData=function(){e.fireEvent({type:"dataChange"})},e}return Rw(t,l),Object.defineProperty(t.prototype,"type",{get:function(){return this.constructor.type||""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{set:function(e){if(!0===e)throw new Error("AG Charts - grouped: true is unsupported for series of type: "+this.type)},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,n){},t.prototype.getKeys=function(e){var n=this,a=this.directionKeys,s=a&&a[e],g=[];return s&&s.forEach(function(y){var _=n[y];_&&(Array.isArray(_)?g.push.apply(g,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Xv(arguments[t]));return l}(_)):g.push(_))}),g},t.prototype.createNodeData=function(){return[]},t.prototype.getNodeData=function(){return[]},t.prototype.getLabelData=function(){return[]},Object.defineProperty(t.prototype,"nodeDataPending",{get:function(){return this._nodeDataPending},set:function(e){this._nodeDataPending!==e&&(this._nodeDataPending=e,this.updatePending=!0,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleNodeDate=function(){this.nodeDataPending=!0},Object.defineProperty(t.prototype,"updatePending",{get:function(){return this._updatePending},set:function(e){this._updatePending!==e&&(this._updatePending=e,e&&this.chart&&(this.chart.updatePending=e))},enumerable:!0,configurable:!0}),t.prototype.scheduleUpdate=function(){this.updatePending=!0},t.prototype.getOpacity=function(e){var a=this.chart,s=this.highlightStyle.series.dimOpacity;return a&&a.highlightedDatum&&(a.highlightedDatum.series!==this||e&&a.highlightedDatum.itemId!==e.itemId)?void 0===s?1:s:1},t.prototype.getStrokeWidth=function(e,n){var s=this.chart,g=this.highlightStyle.series.strokeWidth;return!s||!s.highlightedDatum||s.highlightedDatum.series!==this||n&&s.highlightedDatum.itemId!==n.itemId||void 0===g?e:g},t.prototype.fireNodeClickEvent=function(e,n){},t.prototype.toggleSeriesItem=function(e,n){this.visible=n},t.prototype.onHighlightChange=function(){},t.prototype.fixNumericExtent=function(e,n,a){if(!e)return[0,1];var s=Xv(e,2),g=s[0],y=s[1];if(y=+y,0==(g=+g)&&0===y)return[0,1];if(g===y)if(a instanceof yd)g-=1,y+=1;else{var _=Math.abs(.01*g);g-=_,y+=_}return Na(g)&&Na(y)?[g,y]:[0,1]},t.highlightedZIndex=1e12,qv([be("dataChange")],t.prototype,"data",void 0),qv([be("dataChange")],t.prototype,"visible",void 0),qv([be("layoutChange")],t.prototype,"showInLegend",void 0),t}(ti),cb=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),To=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Dw=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.shape=Bv,e.size=6,e.maxSize=30,e.strokeWidth=1,e}return cb(t,l),To([be("change")],t.prototype,"enabled",void 0),To([be("change")],t.prototype,"shape",void 0),To([be("change")],t.prototype,"size",void 0),To([be("change")],t.prototype,"maxSize",void 0),To([be("change")],t.prototype,"domain",void 0),To([be("change")],t.prototype,"fill",void 0),To([be("change")],t.prototype,"stroke",void 0),To([be("change")],t.prototype,"strokeWidth",void 0),To([be("change")],t.prototype,"fillOpacity",void 0),To([be("change")],t.prototype,"strokeOpacity",void 0),t}(ti),Qv=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ja=function(l){function t(){var e,n=null!==l&&l.apply(this,arguments)||this;return n.directionKeys=((e={})[nr.X]=["angleKey"],e[nr.Y]=["radiusKey"],e),n.centerX=0,n.centerY=0,n.radius=0,n}return Qv(t,l),t}(Po),Pw=(function(l){Qv(function t(){return null!==l&&l.apply(this,arguments)||this},l)}(Dw),function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}()),pb=function(l){function t(e){void 0===e&&(e=window.document);var n=l.call(this,e)||this;return n.padding=new jh(40),n.scene.root.append(n.legend.group),n.padding.addEventListener("layoutChange",n.scheduleLayout,n),n}return Pw(t,l),Object.defineProperty(t.prototype,"seriesRoot",{get:function(){return this.scene.root},enumerable:!0,configurable:!0}),t.prototype.performLayout=function(){var e=new Dr(0,0,this.width,this.height);this.positionCaptions(),this.positionLegend();var n=this.captionAutoPadding;if(e.y+=n,e.height-=n,this.legend.enabled&&this.legend.data.length){var a=this.legendAutoPadding;e.x+=a.left,e.y+=a.top,e.width-=a.left+a.right,e.height-=a.top+a.bottom;var s=this.legend.spacing;switch(this.legend.position){case"right":e.width-=s;break;case"bottom":e.height-=s;break;case"left":e.x+=s,e.width-=s;break;case"top":e.y+=s,e.height-=s}}var g=this.padding;e.x+=g.left,e.y+=g.top,e.width-=g.left+g.right,e.height-=g.top+g.bottom,this.seriesRect=e;var y=e.x+e.width/2,_=e.y+e.height/2,E=Math.max(0,Math.min(e.width,e.height)/2);this.series.forEach(function(R){R instanceof ja&&(R.centerX=y,R.centerY=_,R.radius=E,R.update())})},t.className="PolarChart",t.type="polar",t}(ai),Tw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zr=function(l){function t(){var e,n=null!==l&&l.apply(this,arguments)||this;return n.directionKeys=((e={})[nr.X]=["xKey"],e[nr.Y]=["yKey"],e),n}return Tw(t,l),t.prototype.checkDomainXY=function(e,n,a,s){return(a&&nn(e)||!a&&rd(e))&&(s&&nn(n)||!s&&rd(n))?[e,n]:void 0},t.prototype.checkDatum=function(e,n){return n&&nn(e)?e:n?void 0:rd(e)?e:String(e)},t.prototype.checkRangeXY=function(e,n,a,s){return!isNaN(e)&&!isNaN(n)&&a.inRange(e)&&s.inRange(n)},t}(Po),no=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.formatter=void 0,e}return Tw(t,l),t}(Dw);function Cf(l,t){if(l===t)return!0;if(l&&t&&"object"==typeof l&&"object"==typeof t){if(l.constructor!==t.constructor)return!1;var e,n=void 0;if(Array.isArray(l)){if((e=l.length)!=t.length)return!1;for(n=e;0!=n--;)if(!Cf(l[n],t[n]))return!1;return!0}if(l.constructor===RegExp)return l.source===t.source&&l.flags===t.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===t.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===t.toString();var a=Object.keys(l);if((e=a.length)!==Object.keys(t).length)return!1;for(n=e;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=e;0!=n--;){var s=a[n];if(!Cf(l[s],t[s]))return!1}return!0}return l!=l&&t!=t}var Aw=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},xw=/(#\{(.*?)\})/g;function Zv(l,t,e){return l.replace(xw,function(){var n=arguments[2],a=Aw(n.split(":"),2),s=a[0],g=a[1],y=t[s];if("number"==typeof y){if(_=g&&e&&e[g]){var E=_,R=E.locales,A=E.options;return y.toLocaleString(R,A)}return String(y)}if(y instanceof Date){var _;if("string"==typeof(_=g&&e&&e[g])){var T=Nv.format(_);return T(y)}return y.toDateString()}return"string"==typeof y||y&&y.toString?String(y):""})}var Od=null;function Vr(l){return Od=Od||document.createElement("div"),l?(Od.innerText=l,Od.innerHTML):""}var Mw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),si=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Nc=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},bO=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Lc=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Mw(t,l),si([be("change")],t.prototype,"formatter",void 0),t}(mn),Ao=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Mw(t,l),si([be("change")],t.prototype,"renderer",void 0),si([be("change")],t.prototype,"format",void 0),t}(bu),Rd=function(l){function t(){var e=l.call(this)||this;e.tooltip=new Ao,e.areaGroup=e.group.insertBefore(new un,e.pickGroup),e.strokeGroup=e.group.insertBefore(new un,e.pickGroup),e.markerGroup=e.pickGroup.appendChild(new un),e.labelGroup=e.group.appendChild(new un),e.fillSelection=cn.select(e.areaGroup).selectAll(),e.strokeSelection=cn.select(e.strokeGroup).selectAll(),e.markerSelection=cn.select(e.markerGroup).selectAll(),e.labelSelection=cn.select(e.labelGroup).selectAll(),e.seriesItemEnabled=new Map,e.xData=[],e.yData=[],e.fillSelectionData=[],e.strokeSelectionData=[],e.markerSelectionData=[],e.labelSelectionData=[],e.yDomain=[],e.xDomain=[],e.directionKeys={x:["xKey"],y:["yKeys"]},e.marker=new no,e.label=new Lc,e.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e._xKey="",e.xName="",e._yKeys=[],e.yNames=[],e.strokeWidth=2,e.addEventListener("update",e.scheduleUpdate);var a=e.marker,s=e.label;return a.enabled=!1,a.addPropertyListener("shape",e.onMarkerShapeChange,e),a.addEventListener("change",e.scheduleUpdate,e),s.enabled=!1,s.addEventListener("change",e.scheduleUpdate,e),e}return Mw(t,l),t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){if(!Cf(this._yKeys,e)){this._yKeys=e,this.yData=[];var n=this.seriesItemEnabled;n.clear(),e.forEach(function(a){return n.set(a,!0)}),this.scheduleData()}},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,n){this.fills=e,this.strokes=n},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var n=e?Math.abs(e):void 0;this._normalizedTo!==n&&(this._normalizedTo=n,this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e,n,a,s,g,y,_=this,E=this,R=E.xKey,A=E.yKeys,T=E.seriesItemEnabled,F=E.xAxis,I=E.yAxis,G=E.normalizedTo,j=R&&A.length&&this.data?this.data:[];if(!F||!I)return!1;var U=F.scale instanceof Xi,z=I.scale instanceof Xi,Y=G&&isFinite(G),J=[],se=[],ae=[],ce=function(dt){if(!(R in dt))return _s(function(){return console.warn("The key '"+R+"' was not found in the data: ",dt)},R+" not found in data"),"continue";var et=pe.checkDatum(dt[R],U);if(U&&void 0===et)return"continue";ae.push(et),se.push({xDatum:et,seriesDatum:dt}),A.forEach(function(yr,Sr){if(yr in dt){var pi=dt[yr],mr=J[Sr]||(J[Sr]=[]);if(T.get(yr)){var br=_.checkDatum(pi,z);mr.push(br)}else mr.push(0)}else _s(function(){return console.warn("The key '"+yr+"' was not found in the data: ",dt)},yr+" not found in data")})},pe=this;try{for(var fe=Nc(j),we=fe.next();!we.done;we=fe.next())ce(we.value)}catch(dt){e={error:dt}}finally{try{we&&!we.done&&(n=fe.return)&&n.call(fe)}finally{if(e)throw e.error}}this.yData=J,this.xData=se,this.xDomain=U?this.fixNumericExtent(Zi(ae,nn),"x",F):ae;for(var De=0,_e=0,Re=0;Re<se.length;Re++){var me={sum:0,absSum:0};try{for(var he=(a=void 0,Nc(J)),Ae=he.next();!Ae.done;Ae=he.next())if(void 0!==(ze=Ae.value)[Re]){var rt=+ze[Re];me.absSum+=Math.abs(rt),me.sum+=rt,me.sum>_e?_e=me.sum:me.sum<De&&(De=me.sum)}}catch(dt){a={error:dt}}finally{try{Ae&&!Ae.done&&(s=he.return)&&s.call(he)}finally{if(a)throw a.error}}if(Y&&G){var Le=0;try{for(var Ze=(g=void 0,Nc(J)),Be=Ze.next();!Be.done;Be=Ze.next()){var ze,at=+(ze=Be.value)[Re]/me.absSum*G;ze[Re]=at,(Le+=at)>_e?_e=Le:Le<De&&(De=Le)}}catch(dt){g={error:dt}}finally{try{Be&&!Be.done&&(y=Ze.return)&&y.call(Ze)}finally{if(g)throw g.error}}}}return Y&&G&&(De=De<.5*-G?-G:De,_e=_e>.5*G?G:_e),this.yDomain=this.fixNumericExtent([De,_e],"y",I),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var n,a,s=0,g=0;try{for(var y=Nc(e),_=y.next();!_.done;_=y.next()){var E=_.value;E.min<s&&(s=E.min),E.max>g&&(g=E.max)}}catch(R){n={error:R}}finally{try{_&&!_.done&&(a=y.return)&&a.call(y)}finally{if(n)throw n.error}}return{min:s,max:g}},t.prototype.getDomain=function(e){return e===nr.X?this.xDomain:this.yDomain},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createSelectionData(),this.updateFillSelection(),this.updateStrokeSelection(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible&&this.xData.length>0&&this.yData.length>0,this.updateFillNodes(),this.updateStrokeNodes(),this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.createSelectionData=function(){var e=this,n=this,s=n.xAxis,g=n.yAxis,y=n.xData,_=n.yData,E=n.labelSelectionData,R=n.markerSelectionData,A=n.strokeSelectionData,T=n.fillSelectionData;if(n.data&&s&&g&&y.length&&_.length){var I=this,G=I.yKeys,j=I.marker,U=I.label,z=I.fills,Y=I.strokes,J=s.scale,se=g.scale,ae=se instanceof Xi,ce=(J.bandwidth||0)/2;R.length=0,E.length=0,A.length=0,T.length=0;var pe=new Array(y.length).fill(null).map(function(){return{left:0,right:0}}),fe=new Array(y.length).fill(0),we=function(De,_e,Re,me){var he=J.convert(De)+ce,ze=pe[Re][me]+_e,rt=se.convert(pe[Re][me],ae?Ia:void 0),Le=se.convert(ze,ae?Ia:void 0);return pe[Re][me]=ze,[{x:he,y:Le},{x:he,y:rt}]};_.forEach(function(De,_e){var Re=G[_e],he=(T[_e]||(T[_e]={itemId:Re,points:[]})).points,Ae=[],ze=A[_e]||(A[_e]={itemId:Re,points:[],yValues:[]}),rt=ze.points,Le=ze.yValues;De.forEach(function(Ze,Be){var at,mr,Ye=y[Be],dt=Ye.xDatum,et=Ye.seriesDatum,yr=null===(at=y[Be+1])||void 0===at?void 0:at.xDatum,Sr=De[Be+1],pi=function(De,_e,Re,me){var he,Ae=e.normalizedTo&&isFinite(e.normalizedTo),ze=Ae&&ae&&nn(me);return(!Ae&&!isNaN(_e)||ze)&&(he=fe[Re]+=_e),{x:J.convert(De)+ce,y:se.convert(he,ae?Ia:void 0)}}(dt,+Ze,Be,et[Re]);j&&R.push({index:Be,series:e,itemId:Re,datum:et,yValue:Ze,yKey:Re,point:pi,fill:z[_e%z.length],stroke:Y[_e%Y.length]}),mr=U.formatter?U.formatter({value:Ze}):Na(Ze)?Number(Ze).toFixed(2):String(Ze),U&&E.push({index:Be,itemId:Re,point:pi,label:e.seriesItemEnabled.get(Re)&&mr?{text:mr,fontStyle:U.fontStyle,fontWeight:U.fontWeight,fontSize:U.fontSize,fontFamily:U.fontFamily,textAlign:"center",textBaseline:"bottom",fill:U.color}:void 0});var br=[dt,yr],Yr=[Ze,Sr];if(!br.some(function(hi){return null==hi})){Yr.some(function(hi){return null==hi})&&(Yr[0]=0,Yr[1]=0);var xr=we(br[0],+Yr[0],Be,"right");he.push(xr[0]),Ae.push(xr[1]);var di=we(br[1],+Yr[1],Be,"left");he.push(di[0]),Ae.push(di[1]),rt.push({x:NaN,y:NaN}),Le.push(void 0),rt.push(xr[0]),Le.push(Ze),void 0!==Sr&&(rt.push(di[0]),Le.push(Ze))}}),he.push.apply(he,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(bO(arguments[t]));return l}(Ae.slice().reverse()))})}},t.prototype.updateFillSelection=function(){var e=this.fillSelection.setData(this.fillSelectionData);e.exit.remove();var n=e.enter.append(xn).each(function(a){a.lineJoin="round",a.stroke=void 0,a.pointerEvents=Ki.None});this.fillSelection=e.merge(n)},t.prototype.updateFillNodes=function(){var e=this,n=this,a=n.fills,s=n.fillOpacity,g=n.strokeOpacity,y=n.strokeWidth,_=n.shadow,E=n.seriesItemEnabled;this.fillSelection.each(function(R,A,T){R.fill=a[T%a.length],R.fillOpacity=s,R.strokeOpacity=g,R.strokeWidth=y,R.lineDash=e.lineDash,R.lineDashOffset=e.lineDashOffset,R.fillShadow=_,R.visible=!!E.get(A.itemId),R.opacity=e.getOpacity(A);var F=A.points,I=R.path;I.clear(),F.forEach(function(G,j){var U=G.x,z=G.y;j>0?I.lineTo(U,z):I.moveTo(U,z)}),I.closePath()})},t.prototype.updateStrokeSelection=function(){var e=this.strokeSelection.setData(this.strokeSelectionData);e.exit.remove();var n=e.enter.append(xn).each(function(a){a.fill=void 0,a.lineJoin=a.lineCap="round",a.pointerEvents=Ki.None});this.strokeSelection=e.merge(n)},t.prototype.updateStrokeNodes=function(){var e=this;if(this.data){var n=this,a=n.strokes,s=n.strokeOpacity,g=n.seriesItemEnabled,y=!0;this.strokeSelection.each(function(_,E,R){_.visible=!!g.get(E.itemId),_.opacity=e.getOpacity(E),_.stroke=a[R%a.length],_.strokeWidth=e.getStrokeWidth(e.strokeWidth,E),_.strokeOpacity=s,_.lineDash=e.lineDash,_.lineDashOffset=e.lineDashOffset;var A=E.points,T=E.yValues,F=_.path;F.clear();for(var I=0;I<A.length;I++){var G=A[I],j=G.x,U=G.y;void 0===T[I]?y=!0:y?(F.moveTo(j,U),y=!1):F.lineTo(j,U)}})}},t.prototype.updateMarkerSelection=function(){var e=Qo(this.marker.shape),a=this.markerSelection.setData(e?this.markerSelectionData:[]);a.exit.remove();var s=a.enter.append(e);this.markerSelection=a.merge(s)},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var n=this,a=n.xKey,s=n.marker,g=n.seriesItemEnabled,y=n.yKeys,_=n.fills,E=n.strokes,R=n.chart.highlightedDatum,A=n.highlightStyle,G=A.item,j=G.fill,U=void 0===j?A.fill:j,z=G.stroke,Y=void 0===z?A.stroke:z,J=G.strokeWidth,se=void 0===J?A.strokeWidth:J,ae=s.size,ce=s.formatter,pe=void 0!==s.strokeWidth?s.strokeWidth:this.strokeWidth;this.markerSelection.each(function(fe,we){var Fe=y.indexOf(we.yKey),De=we===R,_e=De&&void 0!==U?U:s.fill||_[Fe%_.length],Re=De&&void 0!==Y?Y:s.stroke||E[Fe%_.length],me=De&&void 0!==se?se:pe,he=void 0;ce&&(he=ce({datum:we.datum,xKey:a,yKey:we.yKey,fill:_e,stroke:Re,strokeWidth:me,size:ae,highlighted:De})),fe.fill=he&&he.fill||_e,fe.stroke=he&&he.stroke||Re,fe.strokeWidth=he&&void 0!==he.strokeWidth?he.strokeWidth:me,fe.size=he&&void 0!==he.size?he.size:ae,fe.translationX=we.point.x,fe.translationY=we.point.y,fe.visible=s.enabled&&fe.size>0&&!!g.get(we.yKey)&&!isNaN(we.point.x)&&!isNaN(we.point.y),fe.opacity=e.getOpacity(we)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.labelSelectionData);e.exit.remove();var n=e.enter.append(kn);this.labelSelection=e.merge(n)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var n=this.label,a=n.enabled,s=n.fontStyle,g=n.fontWeight,y=n.fontSize,_=n.fontFamily,E=n.color;this.labelSelection.each(function(R,A){var T=A.point,F=A.label;F&&a?(R.fontStyle=s,R.fontWeight=g,R.fontSize=y,R.fontFamily=_,R.textAlign=F.textAlign,R.textBaseline=F.textBaseline,R.text=F.text,R.x=T.x,R.y=T.y-10,R.fill=E,R.visible=!0,R.opacity=e.getOpacity(A)):R.visible=!1})}},t.prototype.getNodeData=function(){return this.markerSelectionData},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:n.yKey})},t.prototype.getTooltipHtml=function(e){var n=this.xKey,a=e.yKey;if(!n||!a)return"";var s=e.datum,g=s[n],y=s[a],E=this.xAxis,R=this.yAxis;if(!(E&&R&&Na(y)))return"";var A=this,T=A.xName,F=A.yKeys,I=A.yNames,G=A.yData,j=A.fills,U=A.strokes,z=A.tooltip,Y=A.marker,J=Y.size,se=Y.formatter,ae=Y.strokeWidth,ce=Y.fill,pe=Y.stroke,fe=E.formatDatum(g),we=R.formatDatum(y),Fe=F.indexOf(a),_e=G[Fe][e.index],Re=I[Fe],me=Vr(Re),he=Vr(fe+": "+we),ze=ce||j[Fe%j.length],Le=void 0;se&&(Le=se({datum:s,xKey:n,yKey:a,fill:ze,stroke:pe||U[Fe%j.length],strokeWidth:void 0!==ae?ae:this.strokeWidth,size:J,highlighted:!1}));var Ze=Le&&Le.fill||ze,Be={title:me,backgroundColor:Ze,content:he},at=z.renderer,Ye=z.format;if(Ye||at){var dt={datum:s,xKey:n,xName:T,xValue:g,yKey:a,yValue:y,processedYValue:_e,yName:Re,color:Ze};if(Ye)return Ur({content:Zv(Ye,dt)},Be);if(at)return Ur(at(dt),Be)}return Ur(Be)},t.prototype.listSeriesItems=function(e){var n=this,a=n.data,s=n.id,y=n.yKeys,_=n.yNames,E=n.seriesItemEnabled,R=n.marker,A=n.fills,T=n.strokes,F=n.fillOpacity,I=n.strokeOpacity;a&&a.length&&n.xKey&&y.length&&y.forEach(function(G,j){e.push({id:s,itemId:G,enabled:E.get(G)||!1,label:{text:_[j]||y[j]},marker:{shape:R.shape,fill:R.fill||A[j%A.length],stroke:R.stroke||T[j%T.length],fillOpacity:F,strokeOpacity:I}})})},t.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled.set(e,n),this.scheduleData()},t.className="AreaSeries",t.type="area",si([be("dataChange")],t.prototype,"fills",void 0),si([be("dataChange")],t.prototype,"strokes",void 0),si([be("update")],t.prototype,"fillOpacity",void 0),si([be("update")],t.prototype,"strokeOpacity",void 0),si([be("update")],t.prototype,"lineDash",void 0),si([be("update")],t.prototype,"lineDashOffset",void 0),si([be("update")],t.prototype,"xName",void 0),si([be("update")],t.prototype,"yNames",void 0),si([be("update")],t.prototype,"strokeWidth",void 0),si([be("update")],t.prototype,"shadow",void 0),t}(zr),Dd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ct=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},wt=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=(()=>(function(l){l[l.Bar=0]="Bar",l[l.Label=1]="Label"}(Bt||(Bt={})),Bt))(),bl=(()=>(function(l){l.Inside="inside",l.Outside="outside"}(bl||(bl={})),bl))(),db=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.placement=bl.Inside,e}return Dd(t,l),ct([be("change")],t.prototype,"formatter",void 0),ct([be("change")],t.prototype,"placement",void 0),t}(mn),Jv=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Dd(t,l),ct([be("change")],t.prototype,"renderer",void 0),t}(bu);function wf(l,t){return void 0===t&&(t=[]),l.forEach(function(e){Array.isArray(e)?wf(e,t):t.push(e)}),t}var Sf=function(l){function t(){var e,n=l.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new un),n.labelGroup=n.group.appendChild(new un),n.rectSelection=cn.select(n.rectGroup).selectAll(),n.labelSelection=cn.select(n.labelGroup).selectAll(),n.nodeData=[],n.xData=[],n.yData=[],n.yDomain=[],n.label=new db,n.seriesItemEnabled=new Map,n.tooltip=new Jv,n.flipXY=!1,n.fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],n.strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.groupScale=new Bn,n.directionKeys=((e={})[nr.X]=["xKey"],e[nr.Y]=["yKeys"],e),n._xKey="",n._xName="",n.cumYKeyCount=[],n.flatYKeys=void 0,n.hideInLegend=[],n._yKeys=[],n._grouped=!1,n._yNames={},n._strokeWidth=1,n.addEventListener("update",n.scheduleUpdate),n.label.enabled=!1,n.label.addEventListener("change",n.scheduleUpdate,n),n}return Dd(t,l),t.prototype.getKeys=function(e){var n=this,a=this.directionKeys,s=a&&a[this.flipXY?ad(e):e],g=[];return s&&s.forEach(function(y){var _=n[y];_&&(Array.isArray(_)?g=g.concat(wf(_)):g.push(_))}),g},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKeys",{get:function(){return this._yKeys},set:function(e){var n=this,a=void 0;if(function _f(l){return l.length>0&&Array.isArray(l[0])}(e)||(a=e,e=this.grouped?a.map(function(E){return[E]}):[a]),!Cf(this._yKeys,e)){this.flatYKeys=a||void 0,this._yKeys=e;var s=0;this.cumYKeyCount=[];var g=[];e.forEach(function(E,R){E.length>0&&g.push(String(R)),n.cumYKeyCount.push(s),s+=E.length}),this.yData=[];var y=this.seriesItemEnabled;y.clear(),e.forEach(function(E){E.forEach(function(R){return y.set(R,!0)})});var _=this.groupScale;_.domain=g,_.padding=.1,_.round=!0,this.scheduleData()}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"grouped",{get:function(){return this._grouped},set:function(e){this._grouped!==e&&(this._grouped=e,this.flatYKeys&&(this.yKeys=this.flatYKeys))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yNames",{get:function(){return this._yNames},set:function(e){if(Array.isArray(e)&&this.flatYKeys){var n={};this.flatYKeys.forEach(function(a,s){n[a]=e[s]}),e=n}this._yNames=e,this.scheduleData()},enumerable:!0,configurable:!0}),t.prototype.setColors=function(e,n){this.fills=e,this.strokes=n},Object.defineProperty(t.prototype,"normalizedTo",{get:function(){return this._normalizedTo},set:function(e){var n=e?Math.abs(e):void 0;this._normalizedTo!==n&&(this._normalizedTo=n,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.processData=function(){var e=this,n=this,a=n.xKey,s=n.yKeys,g=n.seriesItemEnabled,_=a&&s.length&&this.data?this.data:[];if(!n.xAxis)return!1;var E=!0;this.xData=_.map(function(z){return E&&!(a in z)&&(E=!1,console.warn("The key '"+a+"' was not found in the data: ",z)),e.checkDatum(z[a],!1)}),this.yData=_.map(function(z){return s.map(function(Y){return Y.map(function(J){E&&!(J in z)&&(E=!1,console.warn("The key '"+J+"' was not found in the data: ",z));var se=e.checkDatum(z[J],!0);return g.get(J)&&void 0!==se?se:0})})});var j,U,R=this.yData.map(function(z){return z.map(function(Y){return function fv(l){var t,e,n=0,a=0;try{for(var s=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),g=s.next();!g.done;g=s.next()){var y=g.value;y<0?n+=y:a+=y}}catch(_){t={error:_}}finally{try{g&&!g.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return{min:n,max:a}}(Y)})}),T=this.yData,F=this.normalizedTo,I=this.yData.map(function(z){return z.map(function(Y){return Y.reduce(function(J,se){return J+Math.abs(se)},0)})}),G=this.findLargestMinMax(R);return F&&isFinite(F)?(j=G.min<0?-F:0,U=G.max>0?F:0,T.forEach(function(z,Y){z.forEach(function(J,se){J.forEach(function(ae,ce){J[ce]=ae/I[Y][se]*F})})})):(j=G.min,U=G.max),this.yDomain=this.fixNumericExtent([j,U],"y",this.yAxis),this.fireEvent({type:"dataProcessed"}),!0},t.prototype.findLargestMinMax=function(e){var n,a,s,g,y=0,_=0;try{for(var E=wt(e),R=E.next();!R.done;R=E.next()){var A=R.value;try{for(var T=(s=void 0,wt(A)),F=T.next();!F.done;F=T.next()){var I=F.value;I.min<y&&(y=I.min),I.max>_&&(_=I.max)}}catch(G){s={error:G}}finally{try{F&&!F.done&&(g=T.return)&&g.call(T)}finally{if(s)throw s.error}}}}catch(G){n={error:G}}finally{try{R&&!R.done&&(a=E.return)&&a.call(E)}finally{if(n)throw n.error}}return{min:y,max:_}},t.prototype.getDomain=function(e){return this.flipXY&&(e=ad(e)),e===nr.X?this.xData:this.yDomain},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:n.yKey})},t.prototype.getCategoryAxis=function(){return this.flipXY?this.yAxis:this.xAxis},t.prototype.getValueAxis=function(){return this.flipXY?this.xAxis:this.yAxis},t.prototype.createNodeData=function(){var e=this,n=this,a=n.chart,s=n.data,g=n.visible,y=this.getCategoryAxis(),_=this.getValueAxis();if(!(a&&s&&g&&y&&_)||a.layoutPending||a.dataPending)return[];var E=this.flipXY,R=y.scale,A=_.scale,T=this,F=T.groupScale,I=T.yKeys,G=T.cumYKeyCount,j=T.fills,U=T.strokes,z=T.strokeWidth,Y=T.seriesItemEnabled,J=T.xData,se=T.yData,ae=T.label,ce=ae.fontStyle,pe=ae.fontWeight,fe=ae.fontSize,we=ae.fontFamily,Fe=ae.color,De=ae.formatter,_e=ae.placement;F.range=[0,R.bandwidth];var Re=F.bandwidth,me=[];return J.forEach(function(he,Ae){for(var ze=s[Ae],rt=R.convert(he),Le=se[Ae],Ze=0;Ze<Le.length;Ze++)for(var Be=Le[Ze],at=0,Ye=0,dt=0;dt<Be.length;dt++){var et=+Be[dt],yr=I[Ze][dt],Sr=rt+F.convert(String(Ze));if(y.inRange(Sr,Re)){var di,pi=et<0?at:Ye,mr=A instanceof Xi,br=A.convert(pi+et,mr?Ia:void 0),Yr=A.convert(pi,mr?Ia:void 0),xr=ze[yr];di=De?De({value:Na(xr)?xr:void 0}):Na(xr)?xr.toFixed(2):"";var hi=void 0,Ls=void 0;E?(Ls=Sr+Re/2,hi=_e===bl.Inside?br+(xr>=0?-1:1)*Math.abs(Yr-br)/2:br+4*(xr>=0?1:-1)):(hi=Sr+Re/2,Ls=_e===bl.Inside?br+(xr>=0?1:-1)*Math.abs(Yr-br)/2:br+(xr>=0?-3:4));var xl=void 0,tt=void 0;_e===bl.Inside?(xl="center",tt="middle"):(xl=E?xr>=0?"start":"end":"center",tt=E?"middle":xr>=0?"bottom":"top");var Kt=G[Ze]+dt;me.push({index:Ae,series:e,itemId:yr,datum:ze,yValue:xr,yKey:yr,x:E?Math.min(br,Yr):Sr,y:E?Sr:Math.min(br,Yr),width:E?Math.abs(Yr-br):Re,height:E?Re:Math.abs(Yr-br),fill:j[Kt%j.length],stroke:U[Kt%U.length],strokeWidth:z,label:Y.get(yr)&&di?{text:di,fontStyle:ce,fontWeight:pe,fontSize:fe,fontFamily:we,textAlign:xl,textBaseline:tt,fill:Fe,x:hi,y:Ls}:void 0}),et<0?at+=et:Ye+=et}}}),this.nodeData=me},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateRectSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateLabelNodes()},t.prototype.updateRectSelection=function(){var e=this.rectSelection.setData(this.nodeData);e.exit.remove();var n=e.enter.append(dn).each(function(a){a.tag=Bt.Bar,a.crisp=!0});this.rectSelection=e.merge(n)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var n=this,a=n.fills,s=n.strokes,g=n.fillOpacity,y=n.strokeOpacity,_=n.shadow,E=n.formatter,R=n.xKey,A=n.flipXY,T=n.yKeys,F=n.chart.highlightedDatum,I=n.highlightStyle,z=I.item,Y=z.fill,J=void 0===Y?I.fill:Y,se=z.stroke,ae=void 0===se?I.stroke:se,ce=z.strokeWidth,pe=void 0===ce?I.strokeWidth:ce;this.rectSelection.each(function(fe,we,Fe){for(var De=0,_e=0,Re=0;Re<T.length;Re++){var me=T[Re];if((_e=me.indexOf(we.yKey))>=0){De+=_e;break}De+=me.length}var he=we===F,Ae=he&&void 0!==J?J:a[De%a.length],ze=he&&void 0!==ae?ae:s[De%a.length],rt=he&&void 0!==pe?pe:e.getStrokeWidth(e.strokeWidth,we),Le=void 0;E&&(Le=E({datum:we.datum,fill:Ae,stroke:ze,strokeWidth:rt,highlighted:he,xKey:R,yKey:we.yKey})),fe.x=we.x,fe.y=we.y,fe.width=we.width,fe.height=we.height,fe.fill=Le&&Le.fill||Ae,fe.stroke=Le&&Le.stroke||ze,fe.strokeWidth=Le&&void 0!==Le.strokeWidth?Le.strokeWidth:rt,fe.fillOpacity=g,fe.strokeOpacity=y,fe.lineDash=e.lineDash,fe.lineDashOffset=e.lineDashOffset,fe.fillShadow=_,fe.visible=A?we.width>0:we.height>0,fe.zIndex=he?Po.highlightedZIndex:Fe,fe.opacity=e.getOpacity(we)})}},t.prototype.updateLabelSelection=function(){var e=this.labelSelection.setData(this.nodeData);e.exit.remove();var n=e.enter.append(kn).each(function(a){a.tag=Bt.Label,a.pointerEvents=Ki.None});this.labelSelection=e.merge(n)},t.prototype.updateLabelNodes=function(){var e=this;if(this.chart){var s=this.label,g=s.enabled,y=s.fontStyle,_=s.fontWeight,E=s.fontSize,R=s.fontFamily,A=s.color;this.labelSelection.each(function(T,F,I){var G=F.label;G&&g?(T.fontStyle=y,T.fontWeight=_,T.fontSize=E,T.fontFamily=R,T.textAlign=G.textAlign,T.textBaseline=G.textBaseline,T.text=G.text,T.x=G.x,T.y=G.y,T.fill=A,T.visible=!0,T.opacity=e.getOpacity(F)):T.visible=!1})}},t.prototype.getTooltipHtml=function(e){var n=this,a=n.xKey,s=n.yKeys,g=n.yData,y=this.getCategoryAxis(),_=this.getValueAxis(),E=e.yKey;if(!(g.length&&a&&E&&y&&_))return"";for(var R=g[e.index],A=0,T=0,F=0;F<s.length;F++){var I=s[F];if((T=I.indexOf(E))>=0){A+=T;break}A+=I.length}var G=this,j=G.xName,z=G.fills,se=G.formatter,ae=G.tooltip.renderer,ce=e.datum,pe=G.yNames[E],fe=z[A%z.length],we=G.strokes[A%z.length],Fe=this.getStrokeWidth(this.strokeWidth,ce),De=ce[a],_e=ce[E],Re=R[F][T],me=Vr(y.formatDatum(De)),he=Vr(_.formatDatum(_e)),Ae=Vr(pe),ze=me+": "+he,rt=void 0;se&&(rt=se({datum:ce,fill:fe,stroke:we,strokeWidth:Fe,highlighted:!1,xKey:a,yKey:E}));var Le=rt&&rt.fill||fe,Ze={title:Ae,backgroundColor:Le,content:ze};return ae?Ur(ae({datum:ce,xKey:a,xValue:De,xName:j,yKey:E,yValue:_e,processedYValue:Re,yName:pe,color:Le}),Ze):Ur(Ze)},t.prototype.listSeriesItems=function(e){var n=this,a=n.id,s=n.data,_=n.yNames,E=n.cumYKeyCount,R=n.seriesItemEnabled,A=n.hideInLegend,T=n.fills,F=n.strokes,I=n.fillOpacity,G=n.strokeOpacity;s&&s.length&&n.xKey&&n.yKeys.length&&this.yKeys.forEach(function(j,U){j.forEach(function(z,Y){if(A.indexOf(z)<0){var J=E[U]+Y;e.push({id:a,itemId:z,enabled:R.get(z)||!1,label:{text:_[z]||z},marker:{fill:T[J%T.length],stroke:F[J%F.length],fillOpacity:I,strokeOpacity:G}})}})})},t.prototype.toggleSeriesItem=function(e,n){var a=this.seriesItemEnabled;a.set(e,n);var s=this.yKeys.map(function(y){return y.slice()});a.forEach(function(y,_){y||s.forEach(function(E){var R=E.indexOf(_);R>=0&&E.splice(R,1)})});var g=[];s.forEach(function(y,_){y.length>0&&g.push(String(_))}),this.groupScale.domain=g,this.scheduleData()},t.className="BarSeries",t.type="bar",ct([be("dataChange")],t.prototype,"flipXY",void 0),ct([be("dataChange")],t.prototype,"fills",void 0),ct([be("dataChange")],t.prototype,"strokes",void 0),ct([be("update")],t.prototype,"fillOpacity",void 0),ct([be("update")],t.prototype,"strokeOpacity",void 0),ct([be("update")],t.prototype,"lineDash",void 0),ct([be("update")],t.prototype,"lineDashOffset",void 0),ct([be("update")],t.prototype,"formatter",void 0),ct([be("layoutChange")],t.prototype,"hideInLegend",void 0),t}(zr),Gc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),li=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Fw=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},kc=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Gc(t,l),li([be("change")],t.prototype,"formatter",void 0),t}(mn),Iw=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Gc(t,l),li([be("change")],t.prototype,"renderer",void 0),li([be("change")],t.prototype,"format",void 0),t}(bu),xo=function(l){function t(){var e=l.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.lineNode=new xn,e.nodeSelection=cn.select(e.pickGroup).selectAll(),e.nodeData=[],e.marker=new no,e.label=new kc,e.stroke="#874349",e.lineDash=[0],e.lineDashOffset=0,e.strokeWidth=2,e.strokeOpacity=1,e.tooltip=new Iw,e._xKey="",e.xName="",e._yKey="",e.yName="";var n=e.lineNode;n.fill=void 0,n.lineJoin="round",n.pointerEvents=Ki.None,e.group.insertBefore(n,e.pickGroup),e.addEventListener("update",e.scheduleUpdate);var s=e.marker,g=e.label;return s.fill="#c16068",s.stroke="#874349",s.addPropertyListener("shape",e.onMarkerShapeChange,e),s.addEventListener("change",e.scheduleUpdate,e),g.enabled=!1,g.addEventListener("change",e.scheduleUpdate,e),e}return Gc(t,l),t.prototype.onMarkerShapeChange=function(){this.nodeSelection=this.nodeSelection.setData([]),this.nodeSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,n){this.stroke=e[0],this.marker.stroke=n[0],this.marker.fill=e[0]},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.xData=[],this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey!==e&&(this._yKey=e,this.yData=[],this.scheduleData())},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,n=e.xAxis,a=e.yAxis,s=e.xKey,g=e.yKey,y=e.xData,_=e.yData,E=s&&g&&this.data?this.data:[];if(!n||!a)return!1;var R=n.scale instanceof Xi,A=a.scale instanceof Xi;y.length=0,_.length=0;for(var T=0,F=E.length;T<F;T++){var I=E[T],j=I[g],U=this.checkDatum(I[s],R);if(!R||void 0!==U){y.push(U);var z=this.checkDatum(j,A);_.push(z)}}return this.xDomain=R?this.fixNumericExtent(Zi(y,nn),"x",n):y,this.yDomain=A?this.fixNumericExtent(Zi(_,nn),"y",a):_,!0},t.prototype.getDomain=function(e){return e===nr.X?this.xDomain:this.yDomain},t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.resetHighlight=function(){this.lineNode.strokeWidth=this.strokeWidth},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateLinePath(),this.updateNodeSelection())},t.prototype.updateLinePath=function(){var e,n=this,s=n.xAxis,g=n.yAxis;if(n.data&&s&&g){var y=this,_=y.xData,E=y.yData,A=y.label,T=y.xKey,F=y.yKey,I=s.scale,G=g.scale,j=(I.bandwidth||0)/2,U=(G.bandwidth||0)/2,z=y.lineNode.path,Y=[];z.clear();for(var J=!0,se=void 0,ae=void 0,ce=0;ce<_.length;ce++){var pe=ae||[_[ce],E[ce]];if(void 0===pe[1])se=void 0,J=!0;else{var fe=Fw(pe,2),we=fe[0],Fe=fe[1],De=I.convert(we)+j;if(isNaN(De)){se=void 0,J=!0;continue}var _e=(I.bandwidth||.5*this.marker.size+(this.marker.strokeWidth||0))+1;ae=void 0===E[ce+1]?void 0:[_[ce+1],E[ce+1]];var Re=s.inRangeEx(De,0,_e),me=ae&&s.inRangeEx(I.convert(ae[0])+j,0,_e);if(-1===Re&&-1===me){J=!0;continue}if(1===Re&&1===se){J=!0;continue}se=Re;var he=G.convert(Fe)+U;J?(z.moveTo(De,he),J=!1):z.lineTo(De,he);var Ae;Ae=A.formatter?A.formatter({value:Fe}):"number"==typeof Fe&&isFinite(Fe)?Fe.toFixed(2):Fe?String(Fe):"";var ze=((e={})[T]=we,e[F]=Fe,e);Y.push({series:this,datum:ze,point:{x:De,y:he},label:Ae?{text:Ae,fontStyle:A.fontStyle,fontWeight:A.fontWeight,fontSize:A.fontSize,fontFamily:A.fontFamily,textAlign:"center",textBaseline:"bottom",fill:A.color}:void 0})}}this.nodeData=Y}},t.prototype.updateNodeSelection=function(){var e=this.marker,n=e.shape?this.nodeData:[],a=Qo(e.shape),s=this.nodeSelection.setData(n);s.exit.remove();var g=s.enter.append(un);g.append(a),g.append(kn),this.nodeSelection=s.merge(g)},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateLineNode(),this.updateMarkerNodes(),this.updateTextNodes()},t.prototype.updateLineNode=function(){var e=this.lineNode;e.stroke=this.stroke,e.strokeWidth=this.getStrokeWidth(this.strokeWidth),e.strokeOpacity=this.strokeOpacity,e.lineDash=this.lineDash,e.lineDashOffset=this.lineDashOffset,e.opacity=this.getOpacity()},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var n=this,a=n.marker,s=n.xKey,g=n.yKey,y=n.stroke,_=n.chart.highlightedDatum,E=n.highlightStyle,F=E.item,I=F.fill,G=void 0===I?E.fill:I,j=F.stroke,U=void 0===j?E.stroke:j,z=F.strokeWidth,Y=void 0===z?E.strokeWidth:z,J=a.size,se=a.formatter,ae=void 0!==a.strokeWidth?a.strokeWidth:this.strokeWidth,ce=Qo(a.shape);this.nodeSelection.selectByClass(ce).each(function(pe,fe){var we=fe===_,Fe=we&&void 0!==G?G:a.fill,De=we&&void 0!==U?U:a.stroke||y,_e=we&&void 0!==Y?Y:ae,Re=void 0;se&&(Re=se({datum:fe.datum,xKey:s,yKey:g,fill:Fe,stroke:De,strokeWidth:_e,size:J,highlighted:we})),pe.fill=Re&&Re.fill||Fe,pe.stroke=Re&&Re.stroke||De,pe.strokeWidth=Re&&void 0!==Re.strokeWidth?Re.strokeWidth:_e,pe.size=Re&&void 0!==Re.size?Re.size:J,pe.translationX=fe.point.x,pe.translationY=fe.point.y,pe.opacity=e.getOpacity(fe),pe.visible=a.enabled&&pe.size>0})}},t.prototype.updateTextNodes=function(){var e=this;this.nodeSelection.selectByClass(kn).each(function(n,a){var s=a.point,g=a.label,y=e.label,R=y.fontWeight,A=y.fontSize,T=y.fontFamily,F=y.color;g&&y.enabled?(n.fontStyle=y.fontStyle,n.fontWeight=R,n.fontSize=A,n.fontFamily=T,n.textAlign=g.textAlign,n.textBaseline=g.textBaseline,n.text=g.text,n.x=s.x,n.y=s.y-10,n.fill=F,n.visible=!0):n.visible=!1})},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:this.yKey})},t.prototype.getTooltipHtml=function(e){var n=this,a=n.xKey,s=n.yKey,g=n.xAxis,y=n.yAxis;if(!(a&&s&&g&&y))return"";var _=this,E=_.xName,R=_.yName,A=_.tooltip,T=_.marker,F=A.renderer,I=A.format,G=e.datum,j=G[a],U=G[s],z=g.formatDatum(j),Y=y.formatDatum(U),J=Vr(this.title||R),se=Vr(z+": "+Y),ae=T.formatter,ce=T.fill,fe=T.strokeWidth,De=void 0;ae&&(De=ae({datum:G,xKey:a,yKey:s,fill:ce,stroke:T.stroke,strokeWidth:void 0!==fe?fe:this.strokeWidth,size:T.size,highlighted:!1}));var _e=De&&De.fill||ce,Re={title:J,backgroundColor:_e,content:se};if(I||F){var me={datum:G,xKey:a,xValue:j,xName:E,yKey:s,yValue:U,yName:R,title:J,color:_e};if(I)return Ur({content:Zv(I,me)},Re);if(F)return Ur(F(me),Re)}return Ur(Re)},t.prototype.listSeriesItems=function(e){var n=this,s=n.data,y=n.yKey,A=n.marker;s&&s.length&&n.xKey&&y&&e.push({id:n.id,itemId:void 0,enabled:n.visible,label:{text:n.title||n.yName||y},marker:{shape:A.shape,fill:A.fill||"rgba(0, 0, 0, 0)",stroke:A.stroke||n.stroke||"rgba(0, 0, 0, 0)",fillOpacity:1,strokeOpacity:n.strokeOpacity}})},t.className="LineSeries",t.type="line",li([be("layoutChange")],t.prototype,"title",void 0),li([be("update")],t.prototype,"stroke",void 0),li([be("update")],t.prototype,"lineDash",void 0),li([be("update")],t.prototype,"lineDashOffset",void 0),li([be("update")],t.prototype,"strokeWidth",void 0),li([be("update")],t.prototype,"strokeOpacity",void 0),li([be("update")],t.prototype,"xName",void 0),li([be("update")],t.prototype,"yName",void 0),t}(zr),ey=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),bf=function(){return bf=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},bf.apply(this,arguments)},As=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ty=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ey(t,l),As([be("change")],t.prototype,"renderer",void 0),t}(bu),ry=function(l){function t(){var e=l.call(this)||this;e.xDomain=[],e.yDomain=[],e.xData=[],e.yData=[],e.sizeData=[],e.sizeScale=new rn,e.nodeData=[],e.markerSelection=cn.select(e.pickGroup).selectAll(),e.labelData=[],e.labelSelection=cn.select(e.group).selectAll(),e.marker=new no,e.label=new mn,e._fill="#c16068",e._stroke="#874349",e._strokeWidth=2,e._fillOpacity=1,e._strokeOpacity=1,e.xKey="",e.yKey="",e.xName="",e.yName="",e.sizeName="Size",e.labelName="Label",e.tooltip=new ty;var a=e.marker,s=e.label;return a.addPropertyListener("shape",e.onMarkerShapeChange,e),a.addEventListener("change",e.scheduleUpdate,e),e.addPropertyListener("xKey",function(){return e.xData=[]}),e.addPropertyListener("yKey",function(){return e.yData=[]}),e.addPropertyListener("sizeKey",function(){return e.sizeData=[]}),s.enabled=!1,s.addEventListener("change",e.scheduleUpdate,e),s.addEventListener("dataChange",e.scheduleData,e),e}return ey(t,l),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){this._fill!==e&&(this._fill=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){this._stroke!==e&&(this._stroke=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fillOpacity",{get:function(){return this._fillOpacity},set:function(e){this._fillOpacity!==e&&(this._fillOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeOpacity",{get:function(){return this._strokeOpacity},set:function(e){this._strokeOpacity!==e&&(this._strokeOpacity=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateMarkerNodes()},t.prototype.onMarkerShapeChange=function(){this.markerSelection=this.markerSelection.setData([]),this.markerSelection.exit.remove(),this.fireEvent({type:"legendChange"})},t.prototype.setColors=function(e,n){this.fill=e[0],this.stroke=n[0],this.marker.fill=e[0],this.marker.stroke=n[0]},t.prototype.processData=function(){var e=this,n=e.xKey,a=e.yKey,s=e.sizeKey,g=e.labelKey,y=e.xAxis,_=e.yAxis,E=e.marker,R=e.label;if(!y||!_)return!1;var A=n&&a&&this.data?this.data:[];this.xData=A.map(function(F){return F[n]}),this.yData=A.map(function(F){return F[a]}),this.sizeData=s?A.map(function(F){return F[s]}):[];var T=R.getFont();return this.labelData=g?A.map(function(F){var I=String(F[g]),G=ys.getTextSize(I,T);return bf({text:I},G)}):[],this.sizeScale.domain=E.domain?E.domain:Zi(this.sizeData,nn)||[1,1],this.xDomain=y.scale instanceof Xi?this.fixNumericExtent(Zi(this.xData,nn),"x",y):this.xData,this.yDomain=_.scale instanceof Xi?this.fixNumericExtent(Zi(this.yData,nn),"y",_):this.yData,!0},t.prototype.getDomain=function(e){return e===nr.X?this.xDomain:this.yDomain},t.prototype.getNodeData=function(){return this.nodeData},t.prototype.getLabelData=function(){return this.nodeData},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey,yKey:this.yKey,sizeKey:this.sizeKey})},t.prototype.createNodeData=function(){var e=this,n=e.chart,a=e.data,g=e.xAxis,y=e.yAxis;if(!(n&&a&&e.visible&&g&&y)||n.layoutPending||n.dataPending)return[];var _=g.scale,E=y.scale,R=_ instanceof Xi,A=E instanceof Xi,T=(_.bandwidth||0)/2,F=(E.bandwidth||0)/2,I=this,G=I.xData,j=I.yData,U=I.sizeData,z=I.sizeScale,Y=I.marker,J=[];z.range=[Y.size,Y.maxSize];for(var se=0;se<G.length;se++){var ae=this.checkDomainXY(G[se],j[se],R,A);if(ae){var ce=_.convert(ae[0])+T,pe=E.convert(ae[1])+F;!this.checkRangeXY(ce,pe,g,y)||J.push({series:this,datum:a[se],point:{x:ce,y:pe},size:U.length?z.convert(U[se]):Y.size,label:this.labelData[se]})}}return this.nodeData=J},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.createNodeData(),this.updateMarkerSelection(),this.updateLabelSelection())},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateMarkerNodes(),this.updateLabelNodes()},t.prototype.updateLabelSelection=function(){var e=this.chart&&this.chart.placeLabels().get(this)||[],n=this.labelSelection.setData(e);n.exit.remove();var a=n.enter.append(kn);this.labelSelection=n.merge(a)},t.prototype.updateMarkerSelection=function(){var e=Qo(this.marker.shape),n=this.markerSelection.setData(this.nodeData);n.exit.remove();var a=n.enter.append(e);this.markerSelection=n.merge(a)},t.prototype.updateLabelNodes=function(){var e=this.label;this.labelSelection.each(function(n,a){n.text=a.text,n.fill=e.color,n.x=a.x,n.y=a.y,n.fontStyle=e.fontStyle,n.fontWeight=e.fontWeight,n.fontSize=e.fontSize,n.fontFamily=e.fontFamily,n.textAlign="left",n.textBaseline="top"})},t.prototype.updateMarkerNodes=function(){var e=this;if(this.chart){var n=this,a=n.marker,s=n.xKey,g=n.yKey,_=n.fillOpacity,E=n.strokeOpacity,R=n.fill,A=n.stroke,T=n.chart.highlightedDatum,F=n.sizeScale,I=n.sizeData,G=n.highlightStyle,Y=G.item,J=Y.fill,se=void 0===J?G.fill:J,ae=Y.stroke,ce=void 0===ae?G.stroke:ae,pe=Y.strokeWidth,fe=void 0===pe?G.strokeWidth:pe,we=void 0!==a.strokeWidth?a.strokeWidth:n.strokeWidth,Fe=a.formatter;F.range=[a.size,a.maxSize],this.markerSelection.each(function(De,_e,Re){var me=_e===T,he=me&&void 0!==se?se:a.fill||R,Ae=me&&void 0!==ce?ce:a.stroke||A,ze=me&&void 0!==fe?fe:e.getStrokeWidth(we,_e),rt=I.length?F.convert(I[Re]):a.size,Le=void 0;Fe&&(Le=Fe({datum:_e.datum,xKey:s,yKey:g,fill:he,stroke:Ae,strokeWidth:ze,size:rt,highlighted:me})),De.fill=Le&&Le.fill||he,De.stroke=Le&&Le.stroke||Ae,De.strokeWidth=Le&&void 0!==Le.strokeWidth?Le.strokeWidth:ze,De.size=Le&&void 0!==Le.size?Le.size:rt,De.fillOpacity=void 0!==a.fillOpacity?a.fillOpacity:_,De.strokeOpacity=void 0!==a.strokeOpacity?a.strokeOpacity:E,De.translationX=_e.point.x,De.translationY=_e.point.y,De.opacity=e.getOpacity(_e),De.zIndex=me?Po.highlightedZIndex:Re,De.visible=a.enabled&&De.size>0})}},t.prototype.getTooltipHtml=function(e){var n=this,a=n.xKey,s=n.yKey,g=n.xAxis,y=n.yAxis;if(!(a&&s&&g&&y))return"";var _=this,A=_.marker,T=_.tooltip,F=_.xName,I=_.yName,G=_.sizeKey,j=_.sizeName,U=_.labelKey,z=_.labelName,Y=A.fill||_.fill,J=A.stroke||_.stroke,se=this.getStrokeWidth(A.strokeWidth||this.strokeWidth,e),ae=this.marker.formatter,ce=void 0;ae&&(ce=ae({datum:e,xKey:a,yKey:s,fill:Y,stroke:J,strokeWidth:se,size:e.size,highlighted:!1}));var pe=ce&&ce.fill||Y||"gray",fe=this.title||I,we=e.datum,Fe=we[a],De=we[s],_e=Vr(g.formatDatum(Fe)),Re=Vr(y.formatDatum(De)),me="<b>"+Vr(F||a)+"</b>: "+_e+"<br><b>"+Vr(I||s)+"</b>: "+Re;G&&(me+="<br><b>"+Vr(j||G)+"</b>: "+Vr(we[G])),U&&(me="<b>"+Vr(z||U)+"</b>: "+Vr(we[U])+"<br>"+me);var he={title:fe,backgroundColor:pe,content:me},Ae=T.renderer;return Ae?Ur(Ae({datum:we,xKey:a,xValue:Fe,xName:F,yKey:s,yValue:De,yName:I,sizeKey:G,sizeName:j,labelKey:U,labelName:z,title:fe,color:pe}),he):Ur(he)},t.prototype.listSeriesItems=function(e){var n=this,s=n.data,y=n.yKey,A=n.marker;s&&s.length&&n.xKey&&y&&e.push({id:n.id,itemId:void 0,enabled:n.visible,label:{text:n.title||n.yName||y},marker:{shape:A.shape,fill:A.fill||n.fill||"rgba(0, 0, 0, 0)",stroke:A.stroke||n.stroke||"rgba(0, 0, 0, 0)",fillOpacity:void 0!==A.fillOpacity?A.fillOpacity:n.fillOpacity,strokeOpacity:void 0!==A.strokeOpacity?A.strokeOpacity:n.strokeOpacity}})},t.className="ScatterSeries",t.type="scatter",As([be("layoutChange")],t.prototype,"title",void 0),As([be("dataChange")],t.prototype,"xKey",void 0),As([be("dataChange")],t.prototype,"yKey",void 0),As([be("dataChange")],t.prototype,"sizeKey",void 0),As([be("dataChange")],t.prototype,"labelKey",void 0),t}(zr),ny=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),xs=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Vc=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Ef=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Vc(arguments[t]));return l},ea=(()=>(function(l){l[l.Bin=0]="Bin",l[l.Label=1]="Label"}(ea||(ea={})),ea))(),iy=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ny(t,l),xs([be("change")],t.prototype,"formatter",void 0),t}(mn),Ua={count:function(l){return l.data.length},sum:function(l,t){return l.data.reduce(function(e,n){return e+n[t]},0)},mean:function(l,t){return Ua.sum(l,t)/Ua.count(l,t)}},Of=function(){function l(t){var e=Vc(t,2),n=e[0],a=e[1];this.data=[],this.aggregatedValue=0,this.frequency=0,this.domain=[n,a]}return l.prototype.addDatum=function(t){this.data.push(t),this.frequency++},Object.defineProperty(l.prototype,"domainWidth",{get:function(){var t=Vc(this.domain,2);return t[1]-t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"relativeHeight",{get:function(){return this.aggregatedValue/this.domainWidth},enumerable:!0,configurable:!0}),l.prototype.calculateAggregatedValue=function(t,e){e||(t="count"),this.aggregatedValue=(0,Ua[t])(this,e)},l.prototype.getY=function(t){return t?this.relativeHeight:this.aggregatedValue},l}(),ay=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return ny(t,l),xs([be("change")],t.prototype,"renderer",void 0),t}(bu),Bc=function(l){function t(){var e,n=l.call(this)||this;return n.rectGroup=n.pickGroup.appendChild(new un),n.textGroup=n.group.appendChild(new un),n.rectSelection=cn.select(n.rectGroup).selectAll(),n.textSelection=cn.select(n.textGroup).selectAll(),n.binnedData=[],n.xDomain=[],n.yDomain=[],n.label=new iy,n.seriesItemEnabled=!0,n.tooltip=new ay,n.fill=void 0,n.stroke=void 0,n.fillOpacity=1,n.strokeOpacity=1,n.lineDash=[0],n.lineDashOffset=0,n.directionKeys=((e={})[nr.X]=["xKey"],e[nr.Y]=["yKey"],e),n._xKey="",n._areaPlot=!1,n._bins=void 0,n._aggregation="count",n._binCount=void 0,n._xName="",n._yKey="",n._yName="",n._strokeWidth=1,n.label.enabled=!1,n.label.addEventListener("change",n.scheduleUpdate,n),n}return ny(t,l),t.prototype.getKeys=function(e){var n=this,a=this.directionKeys,s=a&&a[e],g=[];return s&&s.forEach(function(y){var _=n[y];_&&(Array.isArray(_)?g.push.apply(g,Ef(_)):g.push(_))}),g},Object.defineProperty(t.prototype,"xKey",{get:function(){return this._xKey},set:function(e){this._xKey!==e&&(this._xKey=e,this.scheduleData())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"areaPlot",{get:function(){return this._areaPlot},set:function(e){this._areaPlot=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bins",{get:function(){return this._bins},set:function(e){this._bins=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"aggregation",{get:function(){return this._aggregation},set:function(e){this._aggregation=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binCount",{get:function(){return this._binCount},set:function(e){this._binCount=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"xName",{get:function(){return this._xName},set:function(e){this._xName!==e&&(this._xName=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yKey",{get:function(){return this._yKey},set:function(e){this._yKey=e,this.seriesItemEnabled=!0,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yName",{get:function(){return this._yName},set:function(e){this._yName=e,this.scheduleData()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeWidth",{get:function(){return this._strokeWidth},set:function(e){this._strokeWidth!==e&&(this._strokeWidth=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateRectNodes()},t.prototype.setColors=function(e,n){this.fill=e[0],this.stroke=n[0]},t.prototype.deriveBins=function(){var e=this,a=this.bins;if(!this.data)return[];if(a)return a;var g=this.data.map(function(T){return T[e.xKey]}),y=this.fixNumericExtent(Zi(g,nn),"x"),_=Xh(y[0],y[1],this.binCount||10),E=gc(y[0],y[1],this.binCount||10),R=_[0];return Ef([[R-E,R]],_.map(function(T){return[T,T+E]}))},t.prototype.placeDataInBins=function(e){var n=this,a=this.xKey,s=this.deriveBins(),g=e.slice().sort(function(F,I){return F[a]<I[a]?-1:F[a]>I[a]?1:0}),y=0,_=[new Of(s[0])];e:for(var E=0,R=g.length;E<R;E++){for(var A=g[E];A[a]>s[y][1];){var T=s[++y];if(!T)break e;_.push(new Of(T))}_[y].addDatum(A)}return _.forEach(function(F){return F.calculateAggregatedValue(n._aggregation,n.yKey)}),_},Object.defineProperty(t.prototype,"xMax",{get:function(){var e=this;return this.data&&this.data.reduce(function(n,a){return Math.max(n,a[e.xKey])},Number.NEGATIVE_INFINITY)},enumerable:!0,configurable:!0}),t.prototype.processData=function(){var e=this,s=this.data;this.binnedData=this.placeDataInBins(this.xKey&&s?s:[]);var y=Zi(this.binnedData.map(function(T){return T.getY(e.areaPlot)}),nn);return this.yDomain=this.fixNumericExtent([0,y?y[1]:1],"y"),this.xDomain=[this.binnedData[0].domain[0],this.binnedData[this.binnedData.length-1].domain[1]],this.fireEvent({type:"dataProcessed"}),!0},t.prototype.getDomain=function(e){return e===nr.X?this.xDomain:this.yDomain},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,xKey:this.xKey})},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var e=this.createNodeData();this.updateRectSelection(e),this.updateTextSelection(e)}},t.prototype.updateNodes=function(){this.group.visible=this.visible,this.updateRectNodes(),this.updateTextNodes()},t.prototype.createNodeData=function(){var e=this,a=this.xAxis,s=this.yAxis;if(!this.seriesItemEnabled||!a||!s)return[];var g=a.scale,y=s.scale,_=this,E=_.fill,R=_.stroke,A=_.strokeWidth,T=[],I=this.label,G=I.formatter,j=void 0===G?function(ae){return String(ae.value)}:G,U=I.fontStyle,z=I.fontWeight,Y=I.fontSize,J=I.fontFamily,se=I.color;return this.binnedData.forEach(function(ae){var ce=ae.aggregatedValue,pe=ae.frequency,fe=Vc(ae.domain,2),Fe=fe[1],De=ae.relativeHeight,_e=g.convert(fe[0]),Re=g.convert(Fe),me=e.areaPlot?De:e.yKey?ce:pe,he=y.convert(0),Ae=y.convert(me),ze=Re-_e,rt=Math.abs(Ae-he),Le=0!==me?{text:j({value:ae.aggregatedValue}),fontStyle:U,fontWeight:z,fontSize:Y,fontFamily:J,fill:se,x:_e+ze/2,y:Ae+rt/2}:void 0;T.push({series:e,datum:ae,x:_e,y:Ae,width:ze,height:rt,fill:E,stroke:R,strokeWidth:A,label:Le})}),T},t.prototype.updateRectSelection=function(e){var n=this.rectSelection.setData(e);n.exit.remove();var a=n.enter.append(dn).each(function(s){s.tag=ea.Bin,s.crisp=!0});this.rectSelection=n.merge(a)},t.prototype.updateRectNodes=function(){var e=this;if(this.chart){var n=this,a=n.fillOpacity,s=n.strokeOpacity,g=n.shadow,y=n.chart.highlightedDatum,_=n.highlightStyle,T=_.item,F=T.fill,I=void 0===F?_.fill:F,G=T.stroke,j=void 0===G?_.stroke:G,U=T.strokeWidth,z=void 0===U?_.strokeWidth:U;this.rectSelection.each(function(Y,J,se){var ae=J===y,ce=ae&&void 0!==z?z:e.getStrokeWidth(J.strokeWidth,J);Y.x=J.x,Y.y=J.y,Y.width=J.width,Y.height=J.height,Y.fill=ae&&void 0!==I?I:J.fill,Y.stroke=ae&&void 0!==j?j:J.stroke,Y.fillOpacity=a,Y.strokeOpacity=s,Y.strokeWidth=ce,Y.lineDash=e.lineDash,Y.lineDashOffset=e.lineDashOffset,Y.fillShadow=g,Y.zIndex=ae?Po.highlightedZIndex:se,Y.visible=J.height>0,Y.opacity=e.getOpacity(J)})}},t.prototype.updateTextSelection=function(e){var n=this.textSelection.setData(e);n.exit.remove();var a=n.enter.append(kn).each(function(s){s.tag=ea.Label,s.pointerEvents=Ki.None,s.textAlign="center",s.textBaseline="middle"});this.textSelection=n.merge(a)},t.prototype.updateTextNodes=function(){var e=this.label.enabled;this.textSelection.each(function(n,a){var s=a.label;s&&e?(n.text=s.text,n.x=s.x,n.y=s.y,n.fontStyle=s.fontStyle,n.fontWeight=s.fontWeight,n.fontSize=s.fontSize,n.fontFamily=s.fontFamily,n.fill=s.fill,n.visible=!0):n.visible=!1})},t.prototype.getTooltipHtml=function(e){var n=this,a=n.xKey,s=n.yKey,g=n.xAxis,y=n.yAxis;if(!a||!g||!y)return"";var _=this,E=_.xName,R=_.yName,A=_.fill,F=_.aggregation,I=_.tooltip.renderer,G=e.datum,j=G.aggregatedValue,U=G.frequency,z=Vc(G.domain,2),Y=z[0],J=z[1],se=Vr(E||a)+": "+g.formatDatum(Y)+" - "+g.formatDatum(J),ae=s?"<b>"+Vr(R||s)+" ("+F+")</b>: "+y.formatDatum(j)+"<br>":"",ce={title:se,backgroundColor:A,content:ae+="<b>Frequency</b>: "+U};return I?Ur(I({datum:G,xKey:a,xValue:G.domain,xName:E,yKey:s,yValue:G.aggregatedValue,yName:R,color:A}),ce):Ur(ce)},t.prototype.listSeriesItems=function(e){var n=this,s=n.data,g=n.yKey;s&&s.length&&e.push({id:n.id,itemId:g,enabled:n.seriesItemEnabled,label:{text:n.yName||g||"Frequency"},marker:{fill:n.fill||"rgba(0, 0, 0, 0)",stroke:n.stroke||"rgba(0, 0, 0, 0)",fillOpacity:n.fillOpacity,strokeOpacity:n.strokeOpacity}})},t.prototype.toggleSeriesItem=function(e,n){e===this.yKey&&(this.seriesItemEnabled=n),this.scheduleData()},t.className="HistogramSeries",t.type="histogram",xs([be("dataChange")],t.prototype,"fill",void 0),xs([be("dataChange")],t.prototype,"stroke",void 0),xs([be("layoutChange")],t.prototype,"fillOpacity",void 0),xs([be("layoutChange")],t.prototype,"strokeOpacity",void 0),xs([be("update")],t.prototype,"lineDash",void 0),xs([be("update")],t.prototype,"lineDashOffset",void 0),t}(zr),Nw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hb=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.data=void 0,e}return Nw(t,l),function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([be("dataChange")],t.prototype,"data",void 0),t}(Po),fb=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),h=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},i=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.enabled=!0,e.color="rgba(0, 0, 0, 0.5)",e.xOffset=0,e.yOffset=0,e.blur=5,e}return fb(t,l),h([be("change")],t.prototype,"enabled",void 0),h([be("change")],t.prototype,"color",void 0),h([be("change")],t.prototype,"xOffset",void 0),h([be("change")],t.prototype,"yOffset",void 0),h([be("change")],t.prototype,"blur",void 0),t}(ti);function r(l,t,e,n,a){var g=l.value&&(a-e)/l.value;l.children.forEach(function(y){y.x0=t,y.x1=n,y.y0=e,y.y1=e+=y.value*g})}function o(l,t,e,n,a){var g=l.value&&(n-t)/l.value;l.children.forEach(function(y){y.x0=t,y.x1=t+=y.value*g,y.y0=e,y.y1=a})}function u(l){l.x0=Math.round(l.x0),l.y0=Math.round(l.y0),l.x1=Math.round(l.x1),l.y1=Math.round(l.y1)}var w=function l(t){function e(n,a,s,g,y){!function d(l,t,e,n,a,s){for(var T,F,I,G,j,U,z,Y,J,se,g=[],y=t.children,_=y.length,E=t.value,R=0,A=0;R<_;){T=a-e,F=s-n;do{G=y[A++].value}while(!G&&A<_);for(j=U=G,se=G*G*(J=Math.max(F/T,T/F)/(E*l)),Y=Math.max(U/se,se/j);A<_;++A){if((I=y[A].value)<j&&(j=I),I>U&&(U=I),se=(G+=I)*G*J,(z=Math.max(U/se,se/j))>Y){G-=I;break}Y=z}var ae={value:G,dice:T<F,children:y.slice(R,A)};g.push(ae),ae.dice?o(ae,e,n,a,E?n+=F*G/E:s):r(ae,e,n,E?e+=T*G/E:a,s),E-=G,R=A}}(t,n,a,s,g,y)}return e.ratio=function(n){return l((n=+n)>1?n:1)},e}((1+Math.sqrt(5))/2),P=function(){function l(){this.paddingStack=[0],this.dx=1,this.dy=1,this.round=!0,this.tile=w,this.paddingInner=function(t){return 0},this.paddingTop=function(t){return 0},this.paddingRight=function(t){return 0},this.paddingBottom=function(t){return 0},this.paddingLeft=function(t){return 0}}return Object.defineProperty(l.prototype,"size",{get:function(){return[this.dx,this.dy]},set:function(t){this.dx=t[0],this.dy=t[1]},enumerable:!0,configurable:!0}),l.prototype.processData=function(t){return t.x0=0,t.y0=0,t.x1=this.dx,t.y1=this.dy,t.eachBefore(this.positionNode.bind(this)),this.paddingStack=[0],this.round&&t.eachBefore(u),t},l.prototype.positionNode=function(t){var e=this.paddingStack[t.depth],n=t.x0+e,a=t.y0+e,s=t.x1-e,g=t.y1-e;s<n&&(n=s=(n+s)/2),g<a&&(a=g=(a+g)/2),t.x0=n,t.y0=a,t.x1=s,t.y1=g,t.children&&(e=this.paddingStack[t.depth+1]=this.paddingInner(t)/2,n+=this.paddingLeft(t)-e,a+=this.paddingTop(t)-e,(s-=this.paddingRight(t)-e)<n&&(n=s=(n+s)/2),(g-=this.paddingBottom(t)-e)<a&&(a=g=(a+g)/2),this.tile(t,n,a,s,g))},l}(),x=function(){function l(t){this.value=0,this.depth=0,this.height=0,this.parent=void 0,this.children=void 0,this.datum=t}return l.prototype.countFn=function(t){var e=0,n=t.children;if(n&&n.length)for(var a=n.length;--a>=0;)e+=n[a].value;else e=1;t.value=e},l.prototype.count=function(){return this.eachAfter(this.countFn)},l.prototype.each=function(t,e){var n=this,a=-1;return this.iterator(function(s){t.call(e,s,++a,n)}),this},l.prototype.eachAfter=function(t,e){for(var n=this,a=[n],s=[];n=a.pop();){s.push(n);var g=n.children;if(g)for(var y=0,_=g.length;y<_;++y)a.push(g[y])}for(var E=-1;n=s.pop();)t.call(e,n,++E,this);return this},l.prototype.eachBefore=function(t,e){for(var n=this,a=[n],s=-1;n=a.pop();){t.call(e,n,++s,this);var g=n.children;if(g)for(var y=g.length-1;y>=0;--y)a.push(g[y])}return this},l.prototype.find=function(t,e){var s,n=this,a=-1;return this.iterator(function(g){if(t.call(e,g,++a,n))return s=g,!1}),s},l.prototype.sum=function(t){return this.eachAfter(function(e){var n=+t(e.datum)||0,a=e.children;if(a)for(var s=a.length;--s>=0;)n+=a[s].value;e.value=n})},l.prototype.sort=function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},l.prototype.path=function(t){for(var e=this,n=function le(l,t){if(l&&t){if(l===t)return l;var e=l.ancestors(),n=t.ancestors(),a=void 0;for(l=e.pop(),t=n.pop();l===t;)a=l,l=e.pop(),t=n.pop();return a}}(e,t),a=[e];e!==n;)a.push(e=e.parent);for(var s=a.length;t!==n;)a.splice(s,0,t),t=t.parent;return a},l.prototype.ancestors=function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},l.prototype.descendants=function(){var t=[];return this.iterator(function(e){return t.push(e)}),t},l.prototype.leaves=function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},l.prototype.links=function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},l.prototype.copy=function(){},l.prototype.iterator=function(t){var a,e=this,n=[e];e:do{for(a=n.reverse(),n=[];e=a.pop();){if(!1===t(e))break e;var s=e.children;if(s)for(var g=0,y=s.length;g<y;++g)n.push(s[g])}}while(n.length)},l}();function N(l,t){l instanceof Map?(l=[void 0,l],void 0===t&&(t=q)):void 0===t&&(t=ee);for(var a,s,g,y,_,e=new x(l),n=[e];a=n.pop();)if((g=t(a.datum))&&(_=(g=Array.from(g)).length))for(a.children=g,y=_-1;y>=0;--y)n.push(s=g[y]=new x(g[y])),s.parent=a,s.depth=a.depth+1;return e.eachBefore(k)}function k(l){var t=0;do{l.height=t}while((l=l.parent)&&l.height<++t)}function q(l){return Array.isArray(l)?l[1]:void 0}function ee(l){return l.children}var de=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ye=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},xe=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return de(t,l),ye([be("change")],t.prototype,"renderer",void 0),t}(bu),Oe=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.padding=10,e}return de(t,l),ye([be("change")],t.prototype,"padding",void 0),t}(mn),Ee=(()=>(function(l){l[l.Name=0]="Name",l[l.Value=1]="Value"}(Ee||(Ee={})),Ee))(),$e=function(l){function t(){var n,e=l.call(this)||this;return e.groupSelection=cn.select(e.pickGroup).selectAll(),e.labelMap=new Map,e.layout=new P,e.title=((n=new Oe).color="white",n.fontWeight="bold",n.fontSize=12,n.fontFamily="Verdana, sans-serif",n.padding=15,n),e.subtitle=function(){var n=new Oe;return n.color="white",n.fontSize=9,n.fontFamily="Verdana, sans-serif",n.padding=13,n}(),e.labels={large:function(){var n=new mn;return n.color="white",n.fontWeight="bold",n.fontSize=18,n}(),medium:function(){var n=new mn;return n.color="white",n.fontWeight="bold",n.fontSize=14,n}(),small:function(){var n=new mn;return n.color="white",n.fontWeight="bold",n.fontSize=10,n}(),color:function(){var n=new mn;return n.color="white",n}()},e._nodePadding=2,e.labelKey="label",e.sizeKey="size",e.colorKey="color",e.colorDomain=[-5,5],e.colorRange=["#cb4b3f","#6acb64"],e.colorParents=!1,e.gradient=!0,e.colorName="Change",e.rootName="Root",e._shadow=function(){var n=new i;return n.color="rgba(0, 0, 0, 0.4)",n.xOffset=1.5,n.yOffset=1.5,n}(),e.tooltip=new xe,e.shadow.addEventListener("change",e.scheduleUpdate,e),e.title.addEventListener("change",e.scheduleUpdate,e),e.subtitle.addEventListener("change",e.scheduleUpdate,e),e.labels.small.addEventListener("change",e.scheduleUpdate,e),e.labels.medium.addEventListener("change",e.scheduleUpdate,e),e.labels.large.addEventListener("change",e.scheduleUpdate,e),e.labels.color.addEventListener("change",e.scheduleUpdate,e),e}return de(t,l),Object.defineProperty(t.prototype,"nodePadding",{get:function(){return this._nodePadding},set:function(e){this._nodePadding!==e&&(this._nodePadding=e,this.updateLayoutPadding(),this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shadow",{get:function(){return this._shadow},set:function(e){this._shadow!==e&&(this._shadow=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.updateLayoutPadding=function(){var e=this,n=e.title,a=e.subtitle,s=e.nodePadding,g=e.labelKey;this.layout.paddingRight=function(y){return s},this.layout.paddingBottom=function(y){return s},this.layout.paddingLeft=function(y){return s},this.layout.paddingTop=function(y){var _=y.datum[g]||"";y.children&&(_=_.toUpperCase());var E=y.depth>1?a:n,R=ys.getTextSize(_,[E.fontWeight,E.fontSize+"px",E.fontFamily].join(" ").trim()),T=y.depth>0&&y.children&&R.width<=y.x1-y.x0-2*s;return y.hasTitle=!!T,T?R.height+2*s:s}},t.prototype.processData=function(){if(!this.data)return!1;var R,e=this,n=e.data,a=e.sizeKey,s=e.labelKey,g=e.colorKey,y=e.colorDomain,_=e.colorRange,E=e.colorParents;R=a?N(n).sum(function(I){return I.children?1:I[a]}):N(n).sum(function(I){return I.children?0:1}),this.dataRoot=R;var A=new rn;A.domain=y,A.range=_;var T=this;return function F(I,G){void 0===G&&(G=0);var j=I.children,U=I.datum,z=U[s],Y=g?U[g]:G;I.series=T,I.fill=!j||E?A.convert(Y):"#272931",I.colorValue=Y,I.label=z?j?z.toUpperCase():z:"",j&&j.forEach(function(J){return F(J,G+1)})}(this.dataRoot),!0},t.prototype.getLabelCenterX=function(e){return(e.x0+e.x1)/2},t.prototype.getLabelCenterY=function(e){return(e.y0+e.y1)/2+2},t.prototype.update=function(){this.updatePending=!1,this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){if(this.nodeDataPending){this.nodeDataPending=!1;var n=this.chart,a=this.dataRoot;if(n&&a){var s=n.getSeriesRect();if(s){this.layout.size=[s.width,s.height],this.updateLayoutPadding();var g=this.layout.processData(a).descendants(),y=this.groupSelection.setData(g);y.exit.remove();var _=y.enter.append(un);_.append(dn),_.append(kn).each(function(E){return E.tag=Ee.Name}),_.append(kn).each(function(E){return E.tag=Ee.Value}),this.groupSelection=y.merge(_)}}}},t.prototype.updateNodes=function(){var e=this;if(this.chart){var n=this,a=n.colorKey,s=n.labelMap,g=n.nodePadding,y=n.title,_=n.subtitle,E=n.labels,R=n.shadow,A=n.gradient,T=n.chart.highlightedDatum,F=n.highlightStyle,U=F.item,z=U.fill,Y=void 0===z?F.fill:z,J=U.stroke,se=void 0===J?F.stroke:J,ae=U.strokeWidth,ce=void 0===ae?F.strokeWidth:ae;this.groupSelection.selectByClass(dn).each(function(pe,fe){var we=fe===T,Fe=we&&void 0!==Y?Y:fe.fill,De=we&&void 0!==se?se:fe.depth<2?void 0:"black",_e=we&&void 0!==ce?ce:e.getStrokeWidth(1,fe);pe.fill=Fe,pe.stroke=De,pe.strokeWidth=_e,pe.crisp=!0,pe.gradient=A,pe.x=fe.x0,pe.y=fe.y0,pe.width=fe.x1-fe.x0,pe.height=fe.y1-fe.y0}),this.groupSelection.selectByTag(Ee.Name).each(function(pe,fe,we){var he,Fe=!fe.children,De=fe.x1-fe.x0-2*g,_e=fe.y1-fe.y0-2*g,Re=fe.hasTitle,me=fe===T;pe.fontWeight=(he=Fe?De>40&&_e>40?E.large:De>20&&_e>20?E.medium:E.small:fe.depth>1?_:y).fontWeight,pe.fontSize=he.fontSize,pe.fontFamily=he.fontFamily,pe.textBaseline=Fe?"bottom":Re?"top":"middle",pe.textAlign=Re?"left":"center",pe.text=fe.label;var Ae=pe.computeBBox(),ze=Fe&&!!Ae&&Ae.width<=De&&2*Ae.height+8<=_e;s.set(we,pe),pe.fill=me?"black":he.color,pe.fillShadow=ze&&!me?R:void 0,pe.visible=Re||ze,Re?(pe.x=fe.x0+g,pe.y=fe.y0+g):(pe.x=e.getLabelCenterX(fe),pe.y=e.getLabelCenterY(fe))}),this.groupSelection.selectByTag(Ee.Value).each(function(pe,fe,we){var Fe=!fe.children,De=fe.x1-fe.x0-2*g,_e=fe===T,Re=fe.colorValue,me=E.color;pe.fontSize=me.fontSize,pe.fontFamily=me.fontFamily,pe.fontStyle=me.fontStyle,pe.fontWeight=me.fontWeight,pe.textBaseline="top",pe.textAlign="center",pe.text="number"==typeof Re&&isFinite(Re)?String(BC(fe.colorValue))+"%":"";var he=pe.computeBBox(),Ae=s.get(we),rt=Fe&&!!a&&!!Ae&&Ae.visible&&!!he&&he.width<De;pe.fill=_e?"black":me.color,pe.fillShadow=_e?void 0:R,pe.visible=rt,rt?(pe.x=e.getLabelCenterX(fe),pe.y=e.getLabelCenterY(fe)):Ae&&(!fe.children||!fe.children.length)&&(Ae.textBaseline="middle",Ae.y=e.getLabelCenterY(fe))})}},t.prototype.getDomain=function(e){return[0,1]},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,labelKey:this.labelKey,sizeKey:this.sizeKey,colorKey:this.colorKey})},t.prototype.getTooltipHtml=function(e){var n=this,s=n.sizeKey,g=n.labelKey,y=n.colorKey,_=n.colorName,R=e.datum,A=n.tooltip.renderer,T=e.depth?R[g]:n.rootName||R[g],F=void 0,I=e.fill||"gray";if(y&&_){var G=R[y];"number"==typeof G&&isFinite(G)&&(F="<b>"+_+"</b>: "+BC(R[y]))}var j={title:T,backgroundColor:I,content:F};return A?Ur(A({datum:e,sizeKey:s,labelKey:g,colorKey:y,title:T,color:I}),j):Ur(j)},t.prototype.listSeriesItems=function(e){},t.className="TreemapSeries",t.type="treemap",ye([be("dataChange")],t.prototype,"labelKey",void 0),ye([be("dataChange")],t.prototype,"sizeKey",void 0),ye([be("dataChange")],t.prototype,"colorKey",void 0),ye([be("dataChange")],t.prototype,"colorDomain",void 0),ye([be("dataChange")],t.prototype,"colorRange",void 0),ye([be("dataChange")],t.prototype,"colorParents",void 0),ye([be("update")],t.prototype,"gradient",void 0),t}(hb),pt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vt=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e._centerX=0,e._centerY=0,e._centerOffset=0,e._innerRadius=10,e._outerRadius=20,e._startAngle=0,e._endAngle=2*Math.PI,e._angleOffset=0,e}return pt(t,l),Object.defineProperty(t.prototype,"centerX",{get:function(){return this._centerX},set:function(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerY",{get:function(){return this._centerY},set:function(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerOffset",{get:function(){return this._centerOffset},set:function(e){this._centerOffset!==e&&(this._centerOffset=Math.max(0,e),this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"innerRadius",{get:function(){return this._innerRadius},set:function(e){this._innerRadius!==e&&(this._innerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outerRadius",{get:function(){return this._outerRadius},set:function(e){this._outerRadius!==e&&(this._outerRadius=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startAngle",{get:function(){return this._startAngle},set:function(e){this._startAngle!==e&&(this._startAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endAngle",{get:function(){return this._endAngle},set:function(e){this._endAngle!==e&&(this._endAngle=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"angleOffset",{get:function(){return this._angleOffset},set:function(e){this._angleOffset!==e&&(this._angleOffset=e,this.dirtyPath=!0)},enumerable:!0,configurable:!0}),t.prototype.computeBBox=function(){var e=this.outerRadius;return new Dr(this.centerX-e,this.centerY-e,2*e,2*e)},t.prototype.isFullPie=function(){return VC(Ga(this.startAngle),Ga(this.endAngle))},t.prototype.updatePath=function(){var e=this.path,n=this.angleOffset,a=Math.min(this.startAngle,this.endAngle)+n,s=Math.max(this.startAngle,this.endAngle)+n,g=.5*(a+s),y=Math.min(this.innerRadius,this.outerRadius),_=Math.max(this.innerRadius,this.outerRadius),E=this.centerOffset,R=this.isFullPie(),A=this.centerX,T=this.centerY;if(e.clear(),E&&(A+=E*Math.cos(g),T+=E*Math.sin(g)),R||(e.moveTo(A+y*Math.cos(a),T+y*Math.sin(a)),e.lineTo(A+_*Math.cos(a),T+_*Math.sin(a))),e.cubicArc(A,T,_,_,0,a,s,0),R)e.moveTo(A+y*Math.cos(s),T+y*Math.sin(s));else{var F=A+y*Math.cos(s);e.lineTo(Math.abs(F)<1e-8?0:F,T+y*Math.sin(s))}e.cubicArc(A,T,y,y,0,s,a,1),e.closePath(),this.dirtyPath=!1},t.className="Sector",t}(xn),lt=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ue=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},xt=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Tt=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(xt(arguments[t]));return l},Br=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lt(t,l),t}(ub),ir=(()=>(function(l){l[l.Sector=0]="Sector",l[l.Callout=1]="Callout",l[l.Label=2]="Label"}(ir||(ir={})),ir))(),ta=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.offset=3,e.minAngle=20,e}return lt(t,l),Ue([be("change")],t.prototype,"offset",void 0),Ue([be("dataChange")],t.prototype,"minAngle",void 0),Ue([be("dataChange")],t.prototype,"formatter",void 0),t}(mn),ra=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.colors=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.length=10,e.strokeWidth=1,e}return lt(t,l),Ue([be("change")],t.prototype,"colors",void 0),Ue([be("change")],t.prototype,"length",void 0),Ue([be("change")],t.prototype,"strokeWidth",void 0),t}(ti),ui=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lt(t,l),Ue([be("change")],t.prototype,"renderer",void 0),t}(bu),za=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.showInLegend=!1,e}return lt(t,l),Ue([be()],t.prototype,"showInLegend",void 0),t}(rv),El=function(l){function t(){var n,e=l.call(this)||this;return e.radiusScale=new rn,e.groupSelection=cn.select(e.pickGroup).selectAll(),e.groupSelectionData=[],e.angleScale=((n=new rn).domain=[0,1],n.range=[-Math.PI,Math.PI].map(function(a){return a+Math.PI/2}),n),e.seriesItemEnabled=[],e.label=new ta,e.callout=new ra,e.tooltip=new ui,e.angleKey="",e.angleName="",e._fills=["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],e._strokes=["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"],e.fillOpacity=1,e.strokeOpacity=1,e.lineDash=[0],e.lineDashOffset=0,e.rotation=0,e.outerRadiusOffset=0,e.innerRadiusOffset=0,e.strokeWidth=1,e.highlightStyle=new Br,e.addEventListener("update",e.scheduleUpdate,e),e.label.addEventListener("change",e.scheduleUpdate,e),e.label.addEventListener("dataChange",e.scheduleData,e),e.callout.addEventListener("change",e.scheduleLayout,e),e.addPropertyListener("data",function(n){n.value&&(n.source.seriesItemEnabled=n.value.map(function(){return!0}))}),e}return lt(t,l),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(e){var n=this._title;function a(){this.fireEvent({type:"legendChange"})}n!==e&&(n&&(n.removeEventListener("change",this.scheduleUpdate,this),n.removePropertyListener("showInLegend",a,this),this.group.removeChild(n.node)),e&&(e.node.textBaseline="bottom",e.addEventListener("change",this.scheduleUpdate,this),e.addPropertyListener("showInLegend",a,this),this.group.appendChild(e.node)),this._title=e,this.scheduleUpdate())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fills",{get:function(){return this._fills},set:function(e){this._fills=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokes",{get:function(){return this._strokes},set:function(e){this._strokes=e,this.scheduleUpdate()},enumerable:!0,configurable:!0}),t.prototype.onHighlightChange=function(){this.updateNodes()},t.prototype.setColors=function(e,n){this.fills=e,this.strokes=n,this.callout.colors=n},t.prototype.getDomain=function(e){return e===nr.X?this.angleScale.domain:this.radiusScale.domain},t.prototype.processData=function(){var De,e=this,n=this,a=n.angleKey,s=n.radiusKey,g=n.seriesItemEnabled,y=n.angleScale,_=n.groupSelectionData,E=n.label,R=a&&this.data?this.data:[],A=R.map(function(De,_e){return g[_e]&&Math.abs(+De[a])||0}),T=A.reduce(function(De,_e){return De+_e},0),F=(De=0,A.map(function(_e){return De+=_e/T})),I=E.formatter,G=E.enabled&&this.labelKey,j=[],U=[];if(G&&(j=R.map(I?function(De){return I({value:De[G]})}:function(De){return String(De[G])})),s){var Y=this.radiusMin,J=this.radiusMax,se=R.map(function(De){return Math.abs(De[s])}),ae=void 0!==Y?Y:Math.min.apply(Math,Tt(se)),pe=(void 0!==J?J:Math.max.apply(Math,Tt(se)))-ae;U=se.map(function(De){return pe?(De-ae)/pe:1})}_.length=0;var fe=pn(this.rotation),we=Math.PI/2,Fe=0;return F.reduce(function(De,_e){var dt,et,Re=s?U[Fe]:1,me=y.convert(De)+fe,he=y.convert(_e)+fe,Ae=(me+he)/2,ze=Math.abs(he-me),rt=Math.cos(Ae),Le=Math.sin(Ae),Ze=pn(E.minAngle),Be=G&&ze>Ze,at=function vO(l){return(l%=La)<-Math.PI?l+=La:l>=Math.PI&&(l-=La),l}(Ae),Ye=-3*Math.PI/4;return at>=Ye&&at<(Ye+=we)?(dt="center",et="bottom"):at>=Ye&&at<(Ye+=we)?(dt="left",et="middle"):at>=Ye&&at<(Ye+=we)?(dt="center",et="hanging"):(dt="right",et="middle"),_.push({series:e,datum:R[Fe],itemId:Fe,index:Fe,radius:Re,startAngle:me,endAngle:he,midAngle:Ae,midCos:rt,midSin:Le,label:Be?{text:j[Fe],textAlign:dt,textBaseline:et}:void 0}),Fe++,_e},0),!0},t.prototype.update=function(){this.updatePending=!1;var e=this,n=e.radius,a=e.innerRadiusOffset,s=e.outerRadiusOffset,g=e.title;this.radiusScale.range=[a?n+a:0,n+(s||0)],this.group.translationX=this.centerX,this.group.translationY=this.centerY,g&&(0===Math.max(0,this.radiusScale.range[1])?g.node.visible=!1:(g.node.translationY=-n-s-2,g.node.visible=g.enabled)),this.updateSelections(),this.updateNodes()},t.prototype.updateSelections=function(){!this.nodeDataPending||(this.nodeDataPending=!1,this.updateGroupSelection())},t.prototype.updateGroupSelection=function(){var e=this.groupSelection.setData(this.groupSelectionData);e.exit.remove();var n=e.enter.append(un);n.append(vt).each(function(a){return a.tag=ir.Sector}),n.append(Eo).each(function(a){a.tag=ir.Callout,a.pointerEvents=Ki.None}),n.append(kn).each(function(a){a.tag=ir.Label,a.pointerEvents=Ki.None}),this.groupSelection=e.merge(n)},t.prototype.updateNodes=function(){var e=this;if(this.chart){this.group.visible=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;var n=this,a=n.fills,s=n.strokes,g=n.fillOpacity,y=n.strokeOpacity,_=n.radiusScale,E=n.callout,R=n.shadow,A=n.chart.highlightedDatum,T=n.highlightStyle,j=T.item,U=j.fill,z=void 0===U?T.fill:U,Y=j.stroke,J=void 0===Y?T.stroke:Y,se=j.strokeWidth,ae=void 0===se?T.strokeWidth:se,ce=n.angleKey,pe=n.radiusKey,fe=n.formatter,we=[],Fe=_.convert(0);this.groupSelection.selectByTag(ir.Sector).each(function(Be,at,Ye){var dt=_.convert(at.radius),et=!!A&&A.series===e&&at.itemId===A.itemId,yr=et&&void 0!==z?z:a[Ye%a.length],Sr=et&&void 0!==J?J:s[Ye%s.length],pi=et&&void 0!==ae?ae:e.getStrokeWidth(e.strokeWidth),mr=void 0;fe&&(mr=fe({datum:at.datum,angleKey:ce,radiusKey:pe,fill:yr,stroke:Sr,strokeWidth:pi,highlighted:et}));var br=Be.parent&&Be.parent.parent;et&&br&&(br.removeChild(Be.parent),br.appendChild(Be.parent)),Be.innerRadius=Math.max(0,Fe),Be.outerRadius=Math.max(0,dt),Be.startAngle=at.startAngle,Be.endAngle=at.endAngle,Be.fill=mr&&mr.fill||yr,Be.stroke=mr&&mr.stroke||Sr,Be.strokeWidth=mr&&void 0!==mr.strokeWidth?mr.strokeWidth:pi,Be.fillOpacity=g,Be.strokeOpacity=y,Be.lineDash=e.lineDash,Be.lineDashOffset=e.lineDashOffset,Be.fillShadow=R,Be.lineJoin="round",Be.opacity=e.getOpacity(),we.push(Be.centerOffset)});var De=E.colors,_e=E.length,Re=E.strokeWidth;this.groupSelection.selectByTag(ir.Callout).each(function(Be,at,Ye){var dt=_.convert(at.radius),et=Math.max(0,dt);at.label&&0!==et?(Be.strokeWidth=Re,Be.stroke=De[Ye%De.length],Be.x1=at.midCos*et,Be.y1=at.midSin*et,Be.x2=at.midCos*(et+_e),Be.y2=at.midSin*(et+_e)):Be.stroke=void 0});var me=this.label,he=me.offset,Ae=me.fontStyle,ze=me.fontWeight,rt=me.fontSize,Le=me.fontFamily,Ze=me.color;this.groupSelection.selectByTag(ir.Label).each(function(Be,at,Ye){var dt=at.label,et=_.convert(at.radius),yr=Math.max(0,et);if(dt&&0!==yr){var Sr=we[Ye]+yr+_e+he;Be.fontStyle=Ae,Be.fontWeight=ze,Be.fontSize=rt,Be.fontFamily=Le,Be.text=dt.text,Be.x=at.midCos*Sr,Be.y=at.midSin*Sr,Be.fill=Ze,Be.textAlign=dt.textAlign,Be.textBaseline=dt.textBaseline}else Be.fill=void 0})}},t.prototype.fireNodeClickEvent=function(e,n){this.fireEvent({type:"nodeClick",event:e,series:this,datum:n.datum,angleKey:this.angleKey,labelKey:this.labelKey,radiusKey:this.radiusKey})},t.prototype.getTooltipHtml=function(e){var n=this.angleKey;if(!n)return"";var a=this,s=a.fills,y=a.angleName,_=a.radiusKey,E=a.radiusName,R=a.labelKey,A=a.labelName,T=a.tooltip.renderer,F=s[e.index%s.length],I=e.datum,G=R?I[R]+": ":"",j=I[n],U="number"==typeof j?BC(j):j.toString(),z=this.title?this.title.text:void 0,J={title:z,backgroundColor:F,content:G+U};return T?Ur(T({datum:I,angleKey:n,angleValue:j,angleName:y,radiusKey:_,radiusValue:_?I[_]:void 0,radiusName:E,labelKey:R,labelName:A,title:z,color:F}),J):Ur(J)},t.prototype.listSeriesItems=function(e){var n=this,s=this.labelKey,g=this.data;if(g&&g.length&&s){var y=this,_=y.fills,E=y.strokes,R=y.id,A=this.title&&this.title.showInLegend&&this.title.text;g.forEach(function(T,F){var I=[];A&&I.push(A),I.push(String(T[s])),e.push({id:R,itemId:F,enabled:n.seriesItemEnabled[F],label:{text:I.join(" - ")},marker:{fill:_[F%_.length],stroke:E[F%E.length],fillOpacity:n.fillOpacity,strokeOpacity:n.strokeOpacity}})})}},t.prototype.toggleSeriesItem=function(e,n){this.seriesItemEnabled[e]=n,this.scheduleData()},t.className="PieSeries",t.type="pie",Ue([be("dataChange")],t.prototype,"angleKey",void 0),Ue([be("update")],t.prototype,"angleName",void 0),Ue([be("dataChange")],t.prototype,"radiusKey",void 0),Ue([be("update")],t.prototype,"radiusName",void 0),Ue([be("dataChange")],t.prototype,"radiusMin",void 0),Ue([be("dataChange")],t.prototype,"radiusMax",void 0),Ue([be("dataChange")],t.prototype,"labelKey",void 0),Ue([be("update")],t.prototype,"labelName",void 0),Ue([be("layoutChange")],t.prototype,"fillOpacity",void 0),Ue([be("layoutChange")],t.prototype,"strokeOpacity",void 0),Ue([be("update")],t.prototype,"lineDash",void 0),Ue([be("update")],t.prototype,"lineDashOffset",void 0),Ue([be("update")],t.prototype,"formatter",void 0),Ue([be("dataChange")],t.prototype,"rotation",void 0),Ue([be("layoutChange")],t.prototype,"outerRadiusOffset",void 0),Ue([be("dataChange")],t.prototype,"innerRadiusOffset",void 0),Ue([be("layoutChange")],t.prototype,"strokeWidth",void 0),Ue([be("layoutChange")],t.prototype,"shadow",void 0),t}(ja);new ii(function sy(l){l.setUTCSeconds(0,0)},function gb(l,t){l.setTime(l.getTime()+t*ro)},function OO(l,t){return(t.getTime()-l.getTime())/ro},function RO(l){return l.getUTCMinutes()}),new ii(function JR(l){l.setUTCMinutes(0,0,0)},function DO(l,t){l.setTime(l.getTime()+t*bs)},function sr(l,t){return(t.getTime()-l.getTime())/bs},function PO(l){return l.getUTCHours()}),new ii(function TO(l){l.setUTCDate(1),l.setUTCHours(0,0,0,0)},function AO(l,t){l.setUTCMonth(l.getUTCMonth()+t)},function xO(l,t){return t.getUTCMonth()-l.getUTCMonth()+12*(t.getUTCFullYear()-l.getUTCFullYear())},function MO(l){return l.getUTCMonth()});var Mt=function(){return Mt=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Mt.apply(this,arguments)},IO={fills:["#f3622d","#fba71b","#57b757","#41a9c9","#4258c9","#9a42c8","#c84164","#888888"],strokes:["#aa4520","#b07513","#3d803d","#2d768d","#2e3e8d","#6c2e8c","#8c2d46","#5f5f5f"]},Eu={arrayMerge:function tD(l,t,e){return t},isMergeableObject:function rD(l){return hl(l)&&!(l instanceof ud)}},Pd=function(){function l(t){var e=(t=ri({},t||{},Eu)).overrides,n=void 0===e?null:e,a=t.palette,s=void 0===a?null:a,g=this.createChartConfigPerSeries(this.getDefaults());if(n){var y=n.common,_=n.cartesian,E=n.polar,R=n.hierarchy,A=function(F,I,G){G&&(g[F]=ri(g[F],G,Eu),I.forEach(function(j){g[j]=ri(g[j],G,Eu)}))};A("common",Object.keys(g),y),A("cartesian",l.cartesianSeriesTypes,_),A("polar",l.polarSeriesTypes,E),A("hierarchy",l.hierarchySeriesTypes,R);var T={};l.seriesTypes.forEach(function(F){var I=n[F];I&&(I.series&&(T[F]=I.series,I.series=T),g[F]=ri(g[F],I,Eu))})}this.palette=null!=s?s:this.getPalette(),this.config=Object.freeze(g)}return l.prototype.getPalette=function(){return IO},l.getAxisDefaults=function(){return{top:{},right:{},bottom:{},left:{},thickness:0,title:{padding:{top:10,right:10,bottom:10,left:10},text:"Axis Title",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},label:{fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,padding:5,rotation:0,color:"rgb(87, 87, 87)",formatter:void 0},line:{width:1,color:"rgb(195, 195, 195)"},tick:{width:1,size:6,color:"rgb(195, 195, 195)",count:10},gridStyle:[{stroke:"rgb(219, 219, 219)",lineDash:[4,2]}]}},l.getSeriesDefaults=function(){return{tooltip:{enabled:!0,renderer:void 0},visible:!0,showInLegend:!0,cursor:"default",highlightStyle:{item:{fill:"yellow"},series:{dimOpacity:1}}}},l.getBarSeriesDefaults=function(){return Mt(Mt({},this.getSeriesDefaults()),{flipXY:!1,fillOpacity:1,strokeOpacity:1,xKey:"",xName:"",yKeys:[],yNames:[],grouped:!1,normalizedTo:void 0,strokeWidth:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0,placement:"inside"},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})},l.getLineSeriesDefaults=function(){var t=this.getSeriesDefaults();return Mt(Mt({},t),{tooltip:Mt(Mt({},t.tooltip),{format:void 0})})},l.getCartesianSeriesMarkerDefaults=function(){return{enabled:!0,shape:"circle",size:6,maxSize:30,strokeWidth:1,formatter:void 0}},l.getChartDefaults=function(){return{width:600,height:300,autoSize:!0,background:{visible:!0,fill:"white"},padding:{top:20,right:20,bottom:20,left:20},title:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Title",fontStyle:void 0,fontWeight:"bold",fontSize:16,fontFamily:this.fontFamily,color:"rgb(70, 70, 70)"},subtitle:{enabled:!1,padding:{top:10,right:10,bottom:10,left:10},text:"Subtitle",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,color:"rgb(140, 140, 140)"},legend:{enabled:!0,position:"right",spacing:20,item:{paddingX:16,paddingY:8,marker:{shape:void 0,size:15,strokeWidth:1,padding:8},label:{color:"black",fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:this.fontFamily,formatter:void 0}}},tooltip:{enabled:!0,tracking:!0,delay:0,class:ai.defaultTooltipClass}}},l.prototype.createChartConfigPerSeries=function(t){return Object.entries({cartesian:l.cartesianSeriesTypes,polar:l.polarSeriesTypes,hierarchy:l.hierarchySeriesTypes,groupedCategory:[]}).forEach(function(n){var a=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(n,2),s=a[0];a[1].forEach(function(y){t[y]||(t[y]=ri({},t[s],Eu))})}),t},l.prototype.getConfig=function(t,e){var n=function FS(l,t,e){var n=Array.isArray(t)?t:t.split("."),a=l;try{n.forEach(function(s){a=a[s]})}catch(s){if(3!==arguments.length)throw s;a=e}return a}(this.config,t,e);return Array.isArray(n)?ri([],n,Eu):function tv(l){return"object"==typeof l&&!Array.isArray(l)}(n)?ri({},n,Eu):n},l.prototype.getDefaults=function(){return ri({},l.defaults,Eu)},l.prototype.mergeWithParentDefaults=function(t,e){return ri(t,e,Eu)},l.fontFamily="Verdana, sans-serif",l.cartesianDefaults=Mt(Mt({},l.getChartDefaults()),{axes:{number:Mt({},l.getAxisDefaults()),log:Mt(Mt({},l.getAxisDefaults()),{base:10}),category:Mt({},l.getAxisDefaults()),groupedCategory:Mt({},l.getAxisDefaults()),time:Mt({},l.getAxisDefaults())},series:{column:Mt(Mt({},l.getBarSeriesDefaults()),{flipXY:!1}),bar:Mt(Mt({},l.getBarSeriesDefaults()),{flipXY:!0}),line:Mt(Mt({},l.getLineSeriesDefaults()),{title:void 0,xKey:"",xName:"",yKey:"",yName:"",strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,marker:Mt({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),scatter:Mt(Mt({},l.getSeriesDefaults()),{title:void 0,xKey:"",yKey:"",sizeKey:void 0,labelKey:void 0,xName:"",yName:"",sizeName:"Size",labelName:"Label",strokeWidth:2,fillOpacity:1,strokeOpacity:1,marker:Mt({},l.getCartesianSeriesMarkerDefaults()),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"}}),area:Mt(Mt({},l.getSeriesDefaults()),{xKey:"",xName:"",yKeys:[],yNames:[],normalizedTo:void 0,fillOpacity:.8,strokeOpacity:1,strokeWidth:2,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5},marker:Mt(Mt({},l.getCartesianSeriesMarkerDefaults()),{enabled:!1}),label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0}}),histogram:Mt(Mt({},l.getSeriesDefaults()),{xKey:"",yKey:"",xName:"",yName:"",strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,areaPlot:!1,binCount:10,bins:void 0,aggregation:"sum",label:{enabled:!1,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",formatter:void 0},shadow:{enabled:!0,color:"rgba(0, 0, 0, 0.5)",xOffset:0,yOffset:0,blur:5}})},navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:8,height:16,gripLineGap:2,gripLineLength:8}}}),l.polarDefaults=Mt(Mt({},l.getChartDefaults()),{series:{pie:Mt(Mt({},l.getSeriesDefaults()),{title:{enabled:!0,padding:{top:10,right:10,bottom:10,left:10},text:"",fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)"},angleKey:"",angleName:"",radiusKey:void 0,radiusName:void 0,labelKey:void 0,labelName:void 0,label:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:l.fontFamily,color:"rgb(70, 70, 70)",offset:3,minAngle:20},callout:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:1,lineDash:[0],lineDashOffset:0,rotation:0,outerRadiusOffset:0,innerRadiusOffset:0,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.5)",xOffset:3,yOffset:3,blur:5}})}}),l.hierarchyDefaults=Mt(Mt({},l.getChartDefaults()),{series:{treemap:Mt(Mt({},l.getSeriesDefaults()),{showInLegend:!1,labelKey:"label",sizeKey:"size",colorKey:"color",colorDomain:[-5,5],colorRange:["#cb4b3f","#6acb64"],colorParents:!1,gradient:!0,nodePadding:2,title:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:"bold",fontSize:12,fontFamily:"Verdana, sans-serif",padding:15},subtitle:{enabled:!0,color:"white",fontStyle:void 0,fontWeight:void 0,fontSize:9,fontFamily:"Verdana, sans-serif",padding:13},labels:{large:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:18,fontFamily:"Verdana, sans-serif",color:"white"},medium:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:14,fontFamily:"Verdana, sans-serif",color:"white"},small:{enabled:!0,fontStyle:void 0,fontWeight:"bold",fontSize:10,fontFamily:"Verdana, sans-serif",color:"white"},color:{enabled:!0,fontStyle:void 0,fontWeight:void 0,fontSize:12,fontFamily:"Verdana, sans-serif",color:"white"}}})}}),l.defaults={cartesian:l.cartesianDefaults,groupedCategory:l.cartesianDefaults,polar:l.polarDefaults,hierarchy:l.hierarchyDefaults},l.cartesianSeriesTypes=["line","area","bar","column","scatter","histogram"],l.polarSeriesTypes=["pie"],l.hierarchySeriesTypes=["treemap"],l.seriesTypes=l.cartesianSeriesTypes.concat(l.polarSeriesTypes).concat(l.hierarchySeriesTypes),l}(),oD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$r=function(){return $r=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},$r.apply(this,arguments)},ly=function(l){function t(e){return l.call(this,e)||this}return oD(t,l),t.prototype.getDefaults=function(){var e="rgb(200, 200, 200)",n="rgb(150, 150, 150)",a={title:{color:e},label:{color:e},gridStyle:[{stroke:"rgb(88, 88, 88)",lineDash:[4,2]}]},s={label:{color:e}},g={axes:{number:$r({},a),category:$r({},a),time:$r({},a)}},y={background:{fill:"rgb(34, 38, 41)"},title:{color:e},subtitle:{color:n},legend:{item:{label:{color:e}}}};return this.mergeWithParentDefaults(l.prototype.getDefaults.call(this),{cartesian:$r($r($r({},y),g),{series:{bar:$r({},s),column:$r({},s),histogram:$r({},s)}}),groupedCategory:$r($r($r({},y),g),{series:{bar:$r({},s),column:$r({},s),histogram:$r({},s)}}),polar:$r($r({},y),{series:{pie:$r($r({},s),{title:{color:e}})}}),hierarchy:$r($r({},y),{series:{treemap:{title:{color:e},subtitle:{color:n},labels:{large:{color:e},medium:{color:e},small:{color:e},color:{color:e}}}}})})},t}(Pd),aD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sD={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},lD=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return aD(t,l),t.prototype.getPalette=function(){return sD},t}(Pd),uD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cD={fills:["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722"],strokes:["#ab2f26","#a31545","#6d1b7b","#482980","#2c397f","#1769aa","#0276ab","#008494","#00695f","#357a38","#618834","#909a28","#b3a429","#b38705","#b36a00","#b33d18"]},pD=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return uD(t,l),t.prototype.getPalette=function(){return cD},t}(ly),dD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),hD={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},LO=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return dD(t,l),t.prototype.getPalette=function(){return hD},t}(Pd),GO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),kO={fills:["#c16068","#a2bf8a","#ebcc87","#80a0c3","#b58dae","#85c0d1"],strokes:["#874349","#718661","#a48f5f","#5a7088","#7f637a","#5d8692"]},VO=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return GO(t,l),t.prototype.getPalette=function(){return kO},t}(ly),BO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),HO={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},WO=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return BO(t,l),t.prototype.getPalette=function(){return HO},t}(Pd),jO=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),UO={fills:["#febe76","#ff7979","#badc58","#f9ca23","#f0932b","#eb4c4b","#6ab04c","#7ed6df","#e056fd","#686de0"],strokes:["#b28553","#b35555","#829a3e","#ae8d19","#a8671e","#a43535","#4a7b35","#58969c","#9d3cb1","#494c9d"]},zO=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return jO(t,l),t.prototype.getPalette=function(){return UO},t}(ly),$O=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Td={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},fD=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return $O(t,l),t.prototype.getPalette=function(){return Td},t}(Pd),gD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rf={fills:["#5BC0EB","#FDE74C","#9BC53D","#E55934","#FA7921","#fa3081"],strokes:["#4086a4","#b1a235","#6c8a2b","#a03e24","#af5517","#af225a"]},aA=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return gD(t,l),t.prototype.getPalette=function(){return Rf},t}(ly),Hn=function(){return Hn=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Hn.apply(this,arguments)},mb=new Pd,Lw=new ly,KO={undefined:mb,null:mb,"ag-default":mb,"ag-material":new lD,"ag-pastel":new LO,"ag-solar":new WO,"ag-vivid":new fD},sA={undefined:Lw,null:Lw,"ag-default-dark":Lw,"ag-material-dark":new pD,"ag-pastel-dark":new VO,"ag-solar-dark":new zO,"ag-vivid-dark":new aA},Qe=Hn(Hn({},sA),KO);function Df(l){return l instanceof Pd?l:Qe[l]||((l=l).baseTheme||l.overrides||l.palette?new(Df(l.baseTheme).constructor)(l):mb)}var vD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Cb=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},uy=function(l){return l},yD=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.type="log",e._domain=[1,10],e.baseLog=uy,e.basePow=uy,e._base=10,e}return vD(t,l),t.prototype.setDomain=function(e){var n=e[0],a=e[e.length-1];(0===n||0===a||n<0&&a>0||n>0&&a<0)&&(console.warn("Log scale domain should not start at, end at or cross zero."),0===n&&a>0?n=Number.EPSILON:0===a&&n<0?a=-Number.EPSILON:n<0&&a>0?Math.abs(a)>=Math.abs(n)?n=Number.EPSILON:a=-Number.EPSILON:n>0&&a<0&&(Math.abs(a)>=Math.abs(n)?n=-Number.EPSILON:a=Number.EPSILON),(e=e.slice())[0]=n,e[e.length-1]=a),l.prototype.setDomain.call(this,e)},t.prototype.getDomain=function(){return l.prototype.getDomain.call(this)},Object.defineProperty(t.prototype,"base",{get:function(){return this._base},set:function(e){this._base!==e&&(this._base=e,this.rescale())},enumerable:!0,configurable:!0}),t.prototype.rescale=function(){var e=this.base,n=t.makeLogFn(e),a=t.makePowFn(e);this.domain[0]<0?(n=this.reflect(n),a=this.reflect(a),this.transform=function(s){return-Math.log(-s)},this.untransform=function(s){return-Math.exp(-s)}):(this.transform=function(s){return Math.log(s)},this.untransform=function(s){return Math.exp(s)}),this.baseLog=n,this.basePow=a,l.prototype.rescale.call(this)},t.prototype.reflect=function(e){return function(n){return-e(-n)}},t.prototype.nice=function(){var e,n,a=this.domain,s=0,g=a.length-1,y=a[s],_=a[g];_<y&&(s=(e=Cb([g,s],2))[0],g=e[1],y=(n=Cb([_,y],2))[0],_=n[1]),a[s]=this.basePow(Math.floor(this.baseLog(y))),a[g]=this.basePow(Math.ceil(this.baseLog(_))),this.domain=a},t.pow10=function(e){return isFinite(e)?+("1e"+e):e<0?0:e},t.makePowFn=function(e){return 10===e?t.pow10:e===Math.E?Math.exp:function(n){return Math.pow(e,n)}},t.makeLogFn=function(e){if(e===Math.E)return Math.log;if(10===e)return Math.log10;if(2===e)return Math.log2;var n=Math.log(e);return function(a){return Math.log(a)/n}},t.prototype.ticks=function(e){var n;void 0===e&&(e=10);var a=null==e?10:+e,s=this.base,g=this.domain,y=g[0],_=g[g.length-1],E=_<y;E&&(y=(n=Cb([_,y],2))[0],_=n[1]);var R=this.baseLog(y),A=this.baseLog(_),T=[];if(!(s%1)&&A-R<a){if(R=Math.round(R)-1,A=Math.round(A)+1,y>0){for(;R<A;++R)for(var F=1,I=this.basePow(R);F<s;++F)if(!((G=I*F)<y)){if(G>_)break;T.push(G)}}else for(;R<A;++R)for(F=s-1,I=this.basePow(R);F>=1;--F){var G;if(!((G=I*F)<y)){if(G>_)break;T.push(G)}}2*T.length<a&&(T=Xh(y,_,a))}else T=Xh(R,A,Math.min(A-R,a)).map(this.basePow);return E?T.reverse():T},t.prototype.tickFormat=function(e,n){var a=this,s=this.base;if(null==n&&(n=10===s?".0e":","),"function"!=typeof n&&(n=hv(n)),e===1/0)return n;null==e&&(e=10);var g=Math.max(1,s*e/this.ticks().length);return function(y){var _=y/a.basePow(Math.round(a.baseLog(y)));return _*s<s-.5&&(_*=s),_<=g?n(y):""}},t}(Xi),Gw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cy=function(l){function t(){var e=l.call(this)||this;return e.scale=new yD,e.scale.clamper=gu,e}return Gw(t,l),Object.defineProperty(t.prototype,"base",{get:function(){return this.scale.base},set:function(e){this.scale.base=e},enumerable:!0,configurable:!0}),t.className="LogAxis",t.type="log",t}(Oo),_r=function(){return _r=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},_r.apply(this,arguments)},lA=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Hc=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(lA(arguments[t]));return l},YO=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function py(l,t,e){var n,a,s=(e||{}).stringify,g=void 0===s?[]:s,y=Ka(l);if("array"===Ka(t))return"array"!==y||l.length!==t.length||t.some(function(z,Y){var J;return null!=py(null===(J=l)||void 0===J?void 0:J[Y],z)})?Hc(t):null;var E=l||{},R=t||{},A=new Set(Hc(Object.keys(E),Object.keys(R))),T=0,F={},I=function(z){if(E[z]===R[z])return"continue";var Y=function(ce){F[z]=ce,T++};if(g.includes(z))return JSON.stringify(E[z]!==JSON.stringify(R[z]))&&Y(R[z]),"continue";var J=Ka(E[z]),se=Ka(R[z]);if(J!==se||"primitive"===se||null===se||"array"===se&&E[z].length!==R[z].length||"class-instance"===se||"function"===se&&E[z]!==R[z])return Y(R[z]),"continue";var ae=py(E[z],R[z],{stringify:g});null!==ae&&Y(ae)};try{for(var G=YO(A),j=G.next();!j.done;j=G.next())I(j.value)}catch(z){n={error:z}}finally{try{j&&!j.done&&(a=G.return)&&a.call(G)}finally{if(n)throw n.error}}return 0===T?null:F}var Ou=Symbol("<delete-property>"),wb=Symbol("<unspecified-property>");function $a(){for(var l,t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var a=e.map(function(T){return Ka(T)});if(a.some(function(T){return"array"===T})){var s=e[e.length-1];return s instanceof Array?s.map(function(T){var F=Ka(T);return"array"===F?$a([],T):"object"===F?$a({},T):T}):s}var g={},y=new Set(e.map(function(T){return null!=T?Object.keys(T):[]}).reduce(function(T,F){return T.concat(F)},[])),_=function(T){var F=e.map(function(U){return null!=U&&T in U?U[T]:wb}).filter(function(U){return U!==wb});if(0===F.length)return"continue";var I=F[F.length-1];if(I===Ou)return"continue";var G=F.map(function(U){return Ka(U)}),j=G[0];if(G.some(function(U){return U!==j&&null!==U}))return g[T]=I,"continue";g[T]="array"===j||"object"===j?$a.apply(void 0,Hc(F)):I};try{for(var E=YO(y),R=E.next();!R.done;R=E.next()){var A=R.value;_(A)}}catch(T){l={error:T}}finally{try{R&&!R.done&&(t=E.return)&&t.call(E)}finally{if(l)throw l.error}}return g}function Wc(l,t,e){void 0===e&&(e={});var n,a,s,g=e.path,y=void 0===g?void 0:g,_=e.matcherPath,E=void 0===_?y?y.replace(/(\[[0-9+]{1,}\])/i,"[]"):void 0:_,R=e.skip,A=void 0===R?[]:R,T=e.constructors,F=void 0===T?{}:T,I=e.allowedTypes,G=void 0===I?{}:I;if(null==l)throw new Error("AG Charts - target is uninitialised: "+(y||"<root>"));if(null==t)return l;var j=Ka(l);for(var U in t)if(!(A.indexOf(U)>=0)){var z=t[U],Y=(y?y+".":"")+U,J=(E?E+".":"")+U,se=l,ae=se.constructor,ce=se[U],pe=F[U];try{var fe=Ka(ce),we=Ka(z);if("class-instance"===j&&!(U in l)&&!se.hasOwnProperty(U)){console.warn("AG Charts - unable to set ["+Y+"] in "+(null===(n=ae)||void 0===n?void 0:n.name)+" - property is unknown");continue}var Fe=G[J]||[fe];if(("class-instance"!==fe||"object"!==we)&&null!=fe&&null!=we&&!Fe.includes(we)){console.warn("AG Charts - unable to set ["+Y+"] in "+(null===(a=ae)||void 0===a?void 0:a.name)+" - can't apply type of ["+we+"], allowed types are: ["+Fe+"]");continue}"array"===we||"class-instance"===we?se[U]=z:"object"===we?null!=ce?Wc(ce,z,_r(_r({},e),{path:Y,matcherPath:J})):se[U]=null!=pe?Wc(new pe,z,_r(_r({},e),{path:Y,matcherPath:J})):z:se[U]=z}catch(De){console.warn("AG Charts - unable to set ["+Y+"] in ["+(null===(s=ae)||void 0===s?void 0:s.name)+"]; nested error is: "+De.message);continue}}return l}function _b(l,t,e){for(var n=[],a=3;a<arguments.length;a++)n[a-3]=arguments[a];var s,g=Ka(l),y=e.skip||[];if("array"!==g){if("object"===g){t.apply(void 0,Hc([g,l],n));var _=function(R){if(y.indexOf(R)>=0)return"continue";var A=l[R],T=null===(s=n)||void 0===s?void 0:s.map(function(I){var G;return null===(G=I)||void 0===G?void 0:G[R]}),F=Ka(A);("object"===F||"array"===F)&&_b.apply(void 0,Hc([A,t,e],T))};for(var E in l)_(E)}}else l.forEach(function(R,A){var T;_b.apply(void 0,Hc([R,t,e],null===(T=n)||void 0===T?void 0:T.map(function(F){var I;return null===(I=F)||void 0===I?void 0:I[A]})))})}function Ka(l){return null==l?null:l instanceof HTMLElement?"primitive":l instanceof Array?"array":l instanceof Date?"primitive":"object"==typeof l&&l.constructor===Object?"object":"function"==typeof l?"function":"object"==typeof l&&null!=l.constructor?"class-instance":"primitive"}var mD={type:"cartesian",axes:[{type:Oo.type,position:At.Left},{type:eo.type,position:At.Bottom}]},dy={axes:[{type:"number",position:At.Bottom},{type:"category",position:At.Left}]},qO={axes:[{type:"number",position:At.Bottom},{type:"number",position:At.Left}]},Pf=function(){return Pf=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Pf.apply(this,arguments)};function hy(l){return null!=l&&l instanceof Array&&l[0]instanceof Array}function XO(l,t){if(null==l)return{};if(!(l instanceof Array))return l;var e=t.yKeys;if(null==e||hy(e))throw new Error("AG Charts - yNames and yKeys mismatching configuration.");var n={};return e.forEach(function(a,s){n[a]=l[s]}),n}function QO(l,t){return null==l?[[]]:hy(l)?l:t.grouped?l.map(function(e){return[e]}):[l]}function ZO(l){if(null!=l){var t=l.placement;return Pf(Pf({},l),{placement:"inside"===t?bl.Inside:"outside"===t?bl.Outside:void 0})}}function JO(l){var t=Pf(Pf({},l),{yKeys:l.yKeys||[l.yKey]});return delete t.yKey,function CD(l,t){var e={};for(var n in l)e[n]=(t[n]||function(s){return s})(l[n],l);return e}(t,{yNames:XO,yKeys:QO,label:ZO})}function Ol(l){return l}var fy={area:Ol,bar:JO,column:JO,histogram:Ol,line:Ol,pie:Ol,scatter:Ol,treemap:Ol};function wD(l){return(0,fy[l.type||"line"])(l)}var kw=function(){return kw=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},kw.apply(this,arguments)},Sb=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},e0=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Vw=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(e0(arguments[t]));return l};function r0(l,t){var e,n,a={},s=["yKeys","fills","strokes","yNames","hideInChart","hideInLegend"],g=["yKey","fill","stroke","yName"];try{for(var y=Sb(l),_=y.next();!_.done;_=y.next()){var E=_.value;for(var R in E){var A=s.indexOf(R)>-1,T=g.indexOf(R)>-1;A&&E[R].length>0?a[R]=Vw(a[R]||[],E[R]):T?a[R+"s"]=Vw(a[R+"s"]||[],[E[R]]):t&&"showInLegend"===R?!1===E[R]&&(a.hideInLegend=Vw(a.hideInLegend||[],E.yKey?[E.yKey]:E.yKeys)):t&&"grouped"===R?!0===E[R]&&(a[R]=E[R]):a[R]=E[R]}}}catch(F){e={error:F}}finally{try{_&&!_.done&&(n=y.return)&&n.call(y)}finally{if(e)throw e.error}}return a}var jc=function(){return jc=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},jc.apply(this,arguments)},uA=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},SD=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(uA(arguments[t]));return l};function gy(l){var t,e;return l.type||(null===(e=null===(t=l.series)||void 0===t?void 0:t[0])||void 0===e?void 0:e.type)||"cartesian"}function Ad(l){var t=gy(l);if(null==t)return!0;switch(t){case"cartesian":case"area":case"bar":case"column":case"groupedCategory":case"histogram":case"line":case"scatter":return!0;default:return!1}}function vy(l){if(null==gy(l))return!1;switch(l.type){case"hierarchy":case"treemap":return!0;default:return!1}}function xd(l){if(null==gy(l))return!1;switch(l.type){case"polar":case"pie":return!0;default:return!1}}function o0(l){var t,e,n=0;try{for(var a=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),s=a.next();!s.done;s=a.next()){var g=s.value;g instanceof Array&&(n+=o0(g)),null!=g&&n++}}catch(y){t={error:y}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return n}function Ru(l,t,e){for(var n=[],a=0;a<e;a++)n.push(t[(a+l.colourIndex)%t.length]);return n}function Tf(l,t){var e=null==t?l:$a(t,l);!function ED(l){var t,e;(null===(t=l.series)||void 0===t?void 0:t.some(function(n){return null!=n.yKeys&&null!=n.yKey}))&&console.warn("AG Charts - series options yKeys and yKey are mutually exclusive, please only use yKey for future compatibility."),(null===(e=l.series)||void 0===e?void 0:e.some(function(n){return null!=n.yNames&&null!=n.yName}))&&console.warn("AG Charts - series options yNames and yName are mutually exclusive, please only use yName for future compatibility.")}(e);var n=e.type,a=gy(e),s=Ad(e=jc(jc({},e),{type:a}))?"line":vy(e)?"treemap":xd(e)?"pie":"line",y=function OD(l,t){var e=function RD(l){var t=Df(l.theme),e=t.getConfig(gy(l)||"cartesian");return{theme:t,axesThemes:e.axes||{},seriesThemes:e.series||{},cleanedTheme:$a(e,{axes:Ou,series:Ou})}}(t),s=e.axesThemes,g=e.seriesThemes;return{context:{colourIndex:0,palette:e.theme.palette},mergedOptions:$a(l,e.cleanedTheme,t),axesThemes:s,seriesThemes:g}}("bar"===a?dy:"scatter"===a||"histogram"===a?qO:Ad(e)?mD:{},e),_=y.context,E=y.mergedOptions,R=y.axesThemes,A=y.seriesThemes;return E.series=function n0(l){var t,e,n=[],a=l.map(function(_){return"bar"!==_.type&&"column"!==_.type||null==_.yKey||_.stacked?_:kw(kw({},_),{grouped:null==_.grouped||_.grouped})});try{for(var s=Sb(function t0(l){var t,e,n={},a=[];try{for(var s=Sb(l),g=s.next();!g.done;g=s.next()){var y=g.value;if("column"===y.type||"bar"===y.type||"area"===y.type&&!0===y.stacked){var R=(y.type||"line")+"-"+y.xKey+"-"+(y.stacked?"stacked":y.grouped?"grouped":y.yKeys?"stacked":"grouped");null==n[R]&&(n[R]=[],a.push(n[R])),n[R].push(y)}else a.push([y])}}catch(A){t={error:A}}finally{try{g&&!g.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return a}(a)),g=s.next();!g.done;g=s.next()){var y=g.value;switch(y[0].type){case"column":case"bar":n.push(r0(y,!0));break;case"area":n.push(r0(y,!1));break;default:y.length>1&&console.warn("AG Charts - unexpected grouping of series type: "+y[0].type),n.push(y[0])}}}catch(_){t={error:_}}finally{try{g&&!g.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return n}(E.series||[]).map(function(T){var F=T.type?T.type:function bD(l){return null!=l&&["line","bar","column","histogram","scatter","area","pie","treemap"].indexOf(l)>=0}(n)?n:s,I=jc(jc({},T),{type:F});return function DD(l,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var a=PD(l,t);return wD($a.apply(void 0,SD(e,[a,t,{stacked:Ou}])))}(_,I,A[F]||{})}),Ad(E)&&(E.axes||[]).forEach(function(T,F){var I=T.type||"number",G=jc(jc({},T),{type:I}),j=$a(R[I],R[I][T.position||"unknown"]||{});E.axes[F]=function a0(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return $a.apply(void 0,SD(t,[l,{top:Ou,bottom:Ou,left:Ou,right:Ou}]))}(G,j)}),function TD(l,t){_b(l,function(e,n,a){!a||"enabled"in a&&null==n.enabled&&(a.enabled=!0)},{skip:["data"]},t)}(e,E),E}function PD(l,t){var e={},n=l.palette,a=n.fills,s=n.strokes,y=o0(t.yKeys||[])||1;switch(t.type){case"pie":y=Math.max(a.length,s.length);case"area":case"bar":case"column":e.fills=Ru(l,a,y),e.strokes=Ru(l,s,y);break;case"histogram":e.fill=Ru(l,a,1)[0],e.stroke=Ru(l,s,1)[0];break;case"scatter":e.fill=Ru(l,a,1)[0];case"line":e.stroke=Ru(l,a,1)[0],e.marker={stroke:Ru(l,s,1)[0],fill:Ru(l,a,1)[0]};break;case"treemap":break;default:throw new Error("AG Charts - unknown series type: "+t.type)}return l.colourIndex+=y,e}var Wn=function(){return Wn=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Wn.apply(this,arguments)},Af=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Bw=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(Af(arguments[t]));return l},bb=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function s0(l){if(Ad(l))return"cartesian";if(xd(l))return"polar";if(vy(l))return"hierarchy";throw new Error("AG Chart - unknown type of chart for options with type: "+l.type)}var Ai=function(){function l(){}return l.createComponent=function(t,e){return e.indexOf(".series")>=0?Rb([Wn(Wn({},t),{type:t.type||e.split(".")[0]})])[0]:null},l.create=function(t,e,n){return Eb.create(t)},l.update=function(t,e,n,a){return Eb.update(t,e)},l}(),Eb=function(){function l(){}return l.create=function(t){xf("user options",t);var e=Tf(t),n=Ad(e)?"groupedCategory"===e.type?new Yv(document):new Ew(document):vy(e)?new ib(document):xd(e)?new pb(document):void 0;if(!n)throw new Error("AG Charts - couldn't apply configuration, check type of options: "+e.type);return l.updateDelta(n,e,t),n},l.update=function(t,e){xf("user options",e);var n=Tf(e,t.userOptions);if(s0(n)!==s0(t.options))return t.destroy(),void console.warn("AG Charts - options supplied require a different type of chart, please recreate the chart.");var a=py(t.options,n,{stringify:["data"]});null!=a&&l.updateDelta(t,a,e)},l.updateDelta=function(t,e,n){null==e.type&&(e=Wn(Wn({},e),{type:t.options.type||gy(e)})),xf("delta update",e),function AD(l,t,e){if(Ad(t))Db(l,t,{skip:["type","data","series","axes","autoSize","listeners","theme"]});else if(xd(t))Db(l,t,{skip:["type","data","series","autoSize","listeners","theme"]});else{if(!vy(t))throw new Error("AG Charts - couldn't apply configuration, check type of options and chart: "+t.type);Db(l,t,{skip:["type","data","series","autoSize","listeners","theme"]})}var n=!1;t.series&&t.series.length>0&&function Ob(l,t){var e=t.series;if(e){if(l.series.length===e.length&&l.series.every(function(a,s){var g;return a.type===(null===(g=e[s])||void 0===g?void 0:g.type)}))return void l.series.forEach(function(a,s){var g,y,E=py((null===(y=null===(g=l.options)||void 0===g?void 0:g.series)||void 0===y?void 0:y[s])||{},e[s]||{});xf("applying series diff idx "+s,E),Wc(a,E)});l.series=Rb(e)}}(l,t),Ad(t)&&t.axes&&(n=function xD(l,t){var e=t.axes;if(!e)return!1;if(l.axes.length===e.length&&l.axes.every(function(s,g){return s.type===e[g].type})){var a=l.options;if(Ad(a))return l.axes.forEach(function(s,g){var y,E=py((null===(y=a.axes)||void 0===y?void 0:y[g])||{},e[g]);xf("applying axis diff idx "+g,E),Wc(s,E)}),!0}return l.axes=function l0(l){var t,e,n=[],a=0;try{for(var s=bb(l||[]),g=s.next();!g.done;g=s.next()){var y=g.value,_="axis["+a+++"]";switch(y.type){case"number":n.push(yy(new Oo,y,{path:_}));break;case cy.type:n.push(yy(new cy,y,{path:_}));break;case eo.type:n.push(yy(new eo,y,{path:_}));break;case Pi.type:n.push(yy(new Pi,y,{path:_}));break;case yd.type:n.push(yy(new yd,y,{path:_}));break;default:throw new Error("AG Charts - unknown axis type: "+y.type)}}}catch(E){t={error:E}}finally{try{g&&!g.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return n}(e),!0}(l,t)),t.data&&(l.data=t.data,n=!0),null!=t.autoSize&&(l.autoSize=t.autoSize),t.listeners&&u0(l,t.listeners),l.layoutPending=!0,n&&l.processData(),l.performLayout(),l.options=$a(l.options||{},t),l.userOptions=$a(l.userOptions||{},e)}(t,e,n)},l.DEBUG=!1,l}();function xf(l){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];Eb.DEBUG&&console.log.apply(console,Bw([l],t))}function Rb(l){var t,e,n=[],a=["listeners"],s=0;try{for(var g=bb(l||[]),y=g.next();!y.done;y=g.next()){var _=y.value,E="series["+s+++"]";switch(_.type){case"area":n.push(Du(new Rd,_,{path:E,skip:a}));break;case"bar":case"column":n.push(Du(new Sf,_,{path:E,skip:a}));break;case"histogram":n.push(Du(new Bc,_,{path:E,skip:a}));break;case"line":n.push(Du(new xo,_,{path:E,skip:a}));break;case"scatter":n.push(Du(new ry,_,{path:E,skip:a}));break;case"pie":n.push(Du(new El,_,{path:E,skip:a}));break;case"treemap":n.push(Du(new $e,_,{path:E,skip:a}));break;default:throw new Error("AG Charts - unknown series type: "+_.type)}}}catch(R){t={error:R}}finally{try{y&&!y.done&&(e=g.return)&&e.call(g)}finally{if(t)throw t.error}}return n.forEach(function(R,A){var T,F,I=null===(F=null===(T=l)||void 0===T?void 0:T[A])||void 0===F?void 0:F.listeners;null!=I&&u0(R,I)}),n}function u0(l,t){for(var e in t)l.addEventListener(e,t[e])}var Hw={constructors:{title:rv,subtitle:rv,shadow:i},allowedTypes:{"series[].marker.shape":["primitive","function"],"axis[].tick.count":["primitive","class-instance"]}};function Db(l,t,e){var n=void 0===e?{}:e,a=n.skip,s=n.path;return Wc(l,t,Wn(Wn(Wn({},Hw),{skip:Bw(["type"],a||[])}),s?{path:s}:{}))}function Du(l,t,e){var g,n=void 0===e?{}:e,a=n.skip,s=n.path,y=(null===(g=Hw)||void 0===g?void 0:g.constructors)||{},_={constructors:Wn(Wn({},y),{title:"pie"===l.type?za:y.title})};return Wc(l,t,Wn(Wn(Wn(Wn({},Hw),_),{skip:Bw(["type"],a||[])}),s?{path:s}:{}))}function yy(l,t,e){var n=void 0===e?{}:e,a=n.skip,s=n.path;return Wc(l,t,Wn(Wn(Wn({},Hw),{skip:Bw(["type"],a||[])}),s?{path:s}:{}))}function Ms(l){switch(l){case"bar":case"groupedBar":case"stackedBar":case"normalizedBar":return"bar";case"column":case"groupedColumn":case"stackedColumn":case"normalizedColumn":return"column";case"line":return"line";case"area":case"stackedArea":case"normalizedArea":return"area";case"scatter":case"bubble":return"scatter";case"histogram":return"histogram";case"pie":case"doughnut":return"pie";default:return"cartesian"}}var MD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ww=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Md=function(l){function t(e){var n=l.call(this)||this;return n.model=e,n}return MD(t,l),t.prototype.init=function(){var e=this;this.setChartRange(),this.addManagedListener(this.eventService,b.Events.EVENT_RANGE_SELECTION_CHANGED,function(n){n.id&&n.id===e.model.chartId&&e.updateForRangeChange()}),this.model.unlinked&&this.rangeService&&this.rangeService.setCellRanges([]),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PINNED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VISIBLE,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.updateForGridChange.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_CELL_VALUE_CHANGED,this.updateForDataChange.bind(this))},t.prototype.updateForGridChange=function(){this.model.unlinked||(this.model.updateCellRanges(),this.setChartRange())},t.prototype.updateForDataChange=function(){this.model.unlinked||(this.model.updateData(),this.raiseChartUpdatedEvent())},t.prototype.updateForRangeChange=function(){this.updateForGridChange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.updateForPanelChange=function(e){this.model.updateCellRanges(e),this.setChartRange(),this.raiseChartRangeSelectionChangedEvent()},t.prototype.getChartModel=function(){var e=this.model.pivotChart?"pivot":"range",n=this.isComboChart()?this.model.seriesChartTypes:void 0;return{modelType:e,chartId:this.model.chartId,chartType:this.model.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),cellRange:this.getCellRangeParams(),suppressChartRanges:this.model.suppressChartRanges,aggFunc:this.model.aggFunc,unlinkChart:this.model.unlinked,seriesChartTypes:n}},t.prototype.getChartId=function(){return this.model.chartId},t.prototype.getChartData=function(){return this.model.chartData},t.prototype.getChartType=function(){return this.model.chartType},t.prototype.setChartType=function(e){this.model.chartType=e,this.model.updateSeriesChartTypes(),this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.setChartThemeName=function(e){this.model.chartThemeName=e,this.raiseChartUpdatedEvent(),this.raiseChartOptionsChangedEvent()},t.prototype.getChartThemeName=function(){return this.model.chartThemeName},t.prototype.isPivotChart=function(){return this.model.pivotChart},t.prototype.isPivotMode=function(){return this.model.isPivotMode()},t.prototype.isGrouping=function(){return this.model.isGrouping()},t.prototype.getThemes=function(){return this.gridOptionsWrapper.getChartThemes()},t.prototype.getPalettes=function(){var e=this;return this.gridOptionsWrapper.getChartThemes().map(function(a){return Df(e.chartProxy.isStockTheme(a)?a:e.chartProxy.lookupCustomChartTheme(a)).palette})},t.prototype.getValueColState=function(){return this.model.valueColState.map(this.displayNameMapper.bind(this))},t.prototype.getSelectedValueColState=function(){return this.getValueColState().filter(function(e){return e.selected})},t.prototype.getDimensionColState=function(){return this.model.dimensionColState},t.prototype.getSelectedDimension=function(){return this.model.getSelectedDimension()},t.prototype.displayNameMapper=function(e){var n=this.model.columnNames[e.colId];return e.displayName=n?n.join(" - "):this.model.getColDisplayName(e.column),e},t.prototype.getColStateForMenu=function(){return{dimensionCols:this.model.dimensionColState,valueCols:this.getValueColState()}},t.prototype.isDefaultCategorySelected=function(){return this.model.getSelectedDimension().colId===Yp.DEFAULT_CATEGORY},t.prototype.setChartRange=function(e){void 0===e&&(e=!1),this.rangeService&&!this.model.suppressChartRanges&&!this.model.unlinked&&this.rangeService.setCellRanges(this.getCellRanges()),e||this.raiseChartUpdatedEvent()},t.prototype.detachChartRange=function(){this.model.unlinked=!this.model.unlinked,this.model.unlinked?this.rangeService&&this.rangeService.setCellRanges([]):this.updateForGridChange()},t.prototype.setChartProxy=function(e){this.chartProxy=e},t.prototype.getChartProxy=function(){return this.chartProxy},t.prototype.isActiveXYChart=function(){return b._.includes(["scatter","bubble"],this.getChartType())},t.prototype.isChartLinked=function(){return!this.model.unlinked},t.prototype.customComboExists=function(){return this.model.savedCustomSeriesChartTypes&&this.model.savedCustomSeriesChartTypes.length>0},t.prototype.getSeriesChartTypes=function(){return this.model.seriesChartTypes},t.prototype.isComboChart=function(){return this.model.isComboChart()},t.prototype.updateSeriesChartType=function(e,n,a){var s=this.model.seriesChartTypes.find(function(_){return _.colId===e});if(s){var g="customCombo"!==this.model.chartType;g&&(this.model.chartType="customCombo");var y=s.chartType;null!=n&&(s.chartType=n),null!=a&&(s.secondaryAxis=a),this.model.savedCustomSeriesChartTypes=this.model.seriesChartTypes,this.model.updateSeriesChartTypes(),this.updateForDataChange(),g&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_TYPE_CHANGED})),y!==n&&this.dispatchEvent(Object.freeze({type:t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED}))}},t.prototype.getActiveSeriesChartTypes=function(){var e=this.getSelectedValueColState().map(function(n){return n.colId});return this.getSeriesChartTypes().filter(function(n){return e.includes(n.colId)})},t.prototype.getChartSeriesTypes=function(){return this.isComboChart()?["line","column","area"]:[Ms(this.getChartType())]},t.prototype.getCellRanges=function(){return[this.model.dimensionCellRange,this.model.valueCellRange].filter(function(e){return e})},t.prototype.getCellRangeParams=function(){var e=this.getCellRanges(),n=e[0],a=n&&n.startRow||null,s=n&&n.endRow||null;return{rowStartIndex:a&&a.rowIndex,rowStartPinned:a&&a.rowPinned,rowEndIndex:s&&s.rowIndex,rowEndPinned:s&&s.rowPinned,columns:e.reduce(function(g,y){return g.concat(y.columns.map(function(_){return _.getId()}))},[])}},t.prototype.raiseChartUpdatedEvent=function(){var e=Object.freeze({type:t.EVENT_CHART_UPDATED});this.dispatchEvent(e)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.getChartModel(),s=Object.freeze({type:b.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:this.model.chartThemeName,chartOptions:this.chartProxy.getChartOptions(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(s)},t.prototype.raiseChartRangeSelectionChangedEvent=function(){var e=Object.freeze({type:b.Events.EVENT_CHART_RANGE_SELECTION_CHANGED,id:this.model.chartId,chartId:this.model.chartId,cellRange:this.getCellRangeParams(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.rangeService&&this.rangeService.setCellRanges([])},t.EVENT_CHART_UPDATED="chartUpdated",t.EVENT_CHART_TYPE_CHANGED="chartTypeChanged",t.EVENT_CHART_SERIES_CHART_TYPE_CHANGED="chartSeriesChartTypeChanged",Ww([b.Autowired("rangeService")],t.prototype,"rangeService",void 0),Ww([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ww([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ww([b.PostConstruct],t.prototype,"init",null),t}(b.BeanStub),FD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pb=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ID=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},c0=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(ID(arguments[t]));return l},p0=function(l){function t(e,n){var a=l.call(this,t.TEMPLATE)||this;return a.chartController=e,a.chartOptionsService=n,a.columnComps=new Map,a}return FD(t,l),t.prototype.init=function(){this.updatePanels(),this.addManagedListener(this.chartController,Md.EVENT_CHART_UPDATED,this.updatePanels.bind(this)),this.createAutoScrollService()},t.prototype.destroy=function(){this.clearComponents(),l.prototype.destroy.call(this)},t.prototype.updatePanels=function(){var e=this,n=this.chartType,a=this.chartController.getColStateForMenu(),s=a.dimensionCols,g=a.valueCols,y=s.map(function(R){return R.colId}).concat(g.map(function(R){return R.colId}));this.chartType=this.chartController.getChartType();var _=this.getGroupExpandedState();if(b._.areEqual(b._.keys(this.columnComps),y)&&this.chartType===n){if(c0(s,g).forEach(function(R){e.columnComps.get(R.colId).setValue(R.selected,!0)}),this.chartController.isActiveXYChart()){var E=this.generateGetSeriesLabel();g.forEach(function(R){e.columnComps.get(R.colId).setLabel(E(R))})}b._.removeFromParent(this.getGui().querySelector("#seriesChartTypeGroup")),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.createSeriesChartTypeGroup(g)}else this.clearComponents(),this.createCategoriesGroup(s),this.createSeriesGroup(g),this.createSeriesChartTypeGroup(g);this.restoreGroupExpandedState(_)},t.prototype.getGroupExpandedState=function(){return[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].map(function(e){return!e||e.isExpanded()})},t.prototype.restoreGroupExpandedState=function(e){[this.categoriesGroupComp,this.seriesGroupComp,this.seriesChartTypeGroupComp].forEach(function(n,a){!n||n.toggleGroupExpand(e[a])})},t.prototype.createAutoScrollService=function(){var e=this.getGui();this.autoScrollService=new b.AutoScrollService({scrollContainer:e,scrollAxis:"y",getVerticalPosition:function(){return e.scrollTop},setVerticalPosition:function(n){return e.scrollTop=n}})},t.prototype.addComponent=function(e,n,a){var s=document.createElement("div");s.id=a,s.className="ag-chart-data-section",s.appendChild(n.getGui()),e.appendChild(s)},t.prototype.addChangeListener=function(e,n){var a=this;this.addManagedListener(e,b.AgAbstractField.EVENT_CHANGED,function(){n.selected=e.getValue(),a.chartController.updateForPanelChange(n)})},t.prototype.createCategoriesGroup=function(e){var n=this;this.categoriesGroupComp=this.createBean(new b.AgGroupComponent({title:this.getCategoryGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var a="chartDimension"+this.getCompId();e.forEach(function(s){var g=n.categoriesGroupComp.createManagedBean(new b.AgRadioButton);g.setLabel(b._.escapeString(s.displayName)),g.setValue(s.selected),g.setInputName(a),n.addChangeListener(g,s),n.categoriesGroupComp.addItem(g),n.columnComps.set(s.colId,g)}),this.addComponent(this.getGui(),this.categoriesGroupComp,"categoriesGroup")},t.prototype.createSeriesGroup=function(e){var n=this;if(this.seriesGroupComp=this.createManagedBean(new b.AgGroupComponent({title:this.getSeriesGroupTitle(),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"})),this.chartController.isActiveXYChart()){var a=this.seriesGroupComp.createManagedBean(new b.AgToggleButton);a.setLabel(this.chartTranslationService.translate("paired")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getPairedMode()).onValueChange(function(y){n.chartOptionsService.setPairedMode(!!y),n.chartController.updateForGridChange()}),this.seriesGroupComp.addItem(a)}var s=this.generateGetSeriesLabel();e.forEach(function(y){var _=n.seriesGroupComp.createManagedBean(new b.AgCheckbox);_.addCssClass("ag-data-select-checkbox");var E=s(y);_.setLabel(E),_.setValue(y.selected),n.addChangeListener(_,y),n.seriesGroupComp.addItem(_),n.columnComps.set(y.colId,_),n.addDragHandle(_,y)}),this.addComponent(this.getGui(),this.seriesGroupComp,"seriesGroup");var g={getIconName:function(){return b.DragAndDropService.ICON_MOVE},getContainer:function(){return n.seriesGroupComp.getGui()},onDragging:function(y){return n.onDragging(y)},onDragLeave:function(){return n.onDragLeave()},isInterestedIn:this.isInterestedIn.bind(this),targetContainsSource:!0};this.dragAndDropService.addDropTarget(g)},t.prototype.createSeriesChartTypeGroup=function(e){var n=this;if(this.chartController.isComboChart()){this.seriesChartTypeGroupComp=this.createManagedBean(new b.AgGroupComponent({title:this.chartTranslationService.translate("seriesChartType"),enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!1,cssIdentifier:"charts-data"}));var a=this.chartController.getSeriesChartTypes();e.forEach(function(s){if(s.selected){var g=a.filter(function(T){return T.colId===s.colId})[0];if(g){var y=n.seriesChartTypeGroupComp.createManagedBean(new b.AgGroupComponent({title:s.displayName,enabled:!0,suppressEnabledCheckbox:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-format-sub-level"})),_=n.seriesChartTypeGroupComp.createManagedBean(new b.AgCheckbox).setLabel(n.chartTranslationService.translate("secondaryAxis")).setLabelWidth("flex").setDisabled(["groupedColumn","stackedColumn","stackedArea"].includes(g.chartType)).setValue(!!g.secondaryAxis).onValueChange(function(T){return n.chartController.updateSeriesChartType(s.colId,void 0,T)});y.addItem(_);var E=function(T,F){return n.chartTranslationService.translate(T,F)},R=[{value:"line",text:E("line","Line")},{value:"area",text:E("area","Area")},{value:"stackedArea",text:E("stackedArea","StackedArea")},{value:"groupedColumn",text:E("groupedColumn","Grouped Column")},{value:"stackedColumn",text:E("stackedColumn","Stacked Column")}],A=y.createManagedBean(new b.AgSelect);A.setLabelAlignment("left").setLabelWidth("flex").addOptions(R).setValue(g.chartType).onValueChange(function(T){return n.chartController.updateSeriesChartType(s.colId,T)}),y.addItem(A),n.seriesChartTypeGroupComp.addItem(y)}}}),this.addComponent(this.getGui(),this.seriesChartTypeGroupComp,"seriesChartTypeGroup")}},t.prototype.addDragHandle=function(e,n){var a=this,s=b._.createIconNoSpan("columnDrag",this.gridOptionsWrapper);s.classList.add("ag-drag-handle","ag-chart-data-column-drag-handle"),e.getGui().insertAdjacentElement("beforeend",s);var g={type:b.DragSourceType.ChartPanel,eElement:s,dragItemName:n.displayName,getDragItem:function(){return{columns:[n.column]}},onDragStopped:function(){return a.onDragStop()}};this.dragAndDropService.addDragSource(g,!0),this.addDestroyFunc(function(){return a.dragAndDropService.removeDragSource(g)})},t.prototype.generateGetSeriesLabel=function(){if(!this.chartController.isActiveXYChart())return function(g){return b._.escapeString(g.displayName)};var e="bubble"===this.chartType,n=this.isInPairedMode(),a=0,s=new Map;return s.set(0,"X"),s.set(1,"Y"),s.set(2,"size"),function(g){var _,y=b._.escapeString(g.displayName);return g.selected?(_=n?s.get(a%(e?3:2)):0===a?"X":e&&a%2==0?"size":"Y",a++,y+" ("+_+")"):y}},t.prototype.getCategoryGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"labels":"categories")},t.prototype.getSeriesGroupTitle=function(){return this.chartTranslationService.translate(this.chartController.isActiveXYChart()?"xyValues":"series")},t.prototype.isInPairedMode=function(){return this.chartController.isActiveXYChart()&&this.chartOptionsService.getSeriesOption("paired","scatter")},t.prototype.clearComponents=function(){b._.clearElement(this.getGui()),this.categoriesGroupComp=this.destroyBean(this.categoriesGroupComp),this.seriesGroupComp=this.destroyBean(this.seriesGroupComp),this.seriesChartTypeGroupComp=this.destroyBean(this.seriesChartTypeGroupComp),this.columnComps.clear()},t.prototype.onDragging=function(e){var n=this.checkHoveredItem(e);if(n){this.lastDraggedColumn=e.dragItem.columns[0];var a=n.comp,s=n.position,g=this.lastHoveredItem||{};a===g.comp&&s===g.position||(this.autoScrollService.check(e.event),this.clearHoveredItems(),this.lastHoveredItem={comp:a,position:s},a.getGui().classList.add("ag-list-item-hovered","ag-item-highlight-"+s))}},t.prototype.checkHoveredItem=function(e){var n,a;if(b._.missing(e.vDirection))return null;var s=e.event;try{for(var g=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.columnComps.values()),y=g.next();!y.done;y=g.next()){var _=y.value,E=_.getGui();if(E.querySelector(".ag-chart-data-column-drag-handle")){var R=E.getBoundingClientRect();if(s.clientY>=R.top&&s.clientY<=R.bottom)return{comp:_,position:s.clientY>R.top+E.clientHeight/2?"bottom":"top"}}}}catch(I){n={error:I}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}return null},t.prototype.onDragLeave=function(){this.clearHoveredItems()},t.prototype.onDragStop=function(){var e=this;if(this.lastHoveredItem){var n=this.chartController.getColStateForMenu(),g=c0(n.dimensionCols,n.valueCols).find(function(_){return _.column===e.lastDraggedColumn});if(g){var y=Array.from(this.columnComps.values()).indexOf(this.lastHoveredItem.comp);"bottom"===this.lastHoveredItem.position&&y++,g.order=y,this.chartController.updateForPanelChange(g)}}this.clearHoveredItems(),this.lastDraggedColumn=void 0,this.autoScrollService.ensureCleared()},t.prototype.clearHoveredItems=function(){this.columnComps.forEach(function(e){e.getGui().classList.remove("ag-list-item-hovered","ag-item-highlight-top","ag-item-highlight-bottom")}),this.lastHoveredItem=void 0},t.prototype.isInterestedIn=function(e){return e===b.DragSourceType.ChartPanel},t.TEMPLATE='<div class="ag-chart-data-wrapper ag-scrollable-container"></div>',Pb([b.Autowired("dragAndDropService")],t.prototype,"dragAndDropService",void 0),Pb([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Pb([b.PostConstruct],t.prototype,"init",null),t}(b.Component),d0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fd=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},jw=function(l){function t(e){var n=l.call(this)||this;return n.activeComps=[],n.params=e,n}return d0(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{fontGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initFontFamilySelect(),this.initFontWeightStyleSelect(),this.initFontSizeSelect(),this.initFontColorPicker()},t.prototype.addCompToPanel=function(e){this.fontGroup.addItem(e),this.activeComps.push(e)},t.prototype.setEnabled=function(e){this.fontGroup.setEnabled(e)},t.prototype.initGroup=function(){var e=this;this.fontGroup.setTitle(this.params.name||this.chartTranslationService.translate("font")).setEnabled(this.params.enabled).hideEnabledCheckbox(!!this.params.suppressEnabledCheckbox).hideOpenCloseIcons(!0).onEnableChange(function(n){e.params.setEnabled&&e.params.setEnabled(n)})},t.prototype.initFontFamilySelect=function(){var e=this,n=["Arial, sans-serif","Aria Black, sans-serif","Book Antiqua,  serif","Charcoal, sans-serif","Comic Sans MS, cursive","Courier, monospace","Courier New, monospace","Gadget, sans-serif","Geneva, sans-serif","Helvetica, sans-serif","Impact, sans-serif","Lucida Console, monospace","Lucida Grande, sans-serif","Lucida Sans Unicode,  sans-serif","Monaco, monospace","Palatino Linotype, serif","Palatino, serif","Times New Roman, serif","Times, serif","Verdana, sans-serif"],a=this.params.initialFont.family,s=n[0];if(a){var y=n.map(function(R){return R.toLowerCase()}).indexOf(a.toLowerCase());if(y>=0)s=n[y];else{var _=b._.capitalise(a);n.push(_),s=_}}var E=n.sort().map(function(R){return{value:R,text:R}});this.familySelect.addOptions(E).setInputWidth("flex").setValue(""+s).onValueChange(function(R){return e.params.setFont({family:R})})},t.prototype.initFontSizeSelect=function(){var e=this,n=[8,10,12,14,16,18,20,22,24,26,28,30,32,34,36],a=this.params.initialFont.size;b._.includes(n,a)||n.push(a);var s=n.sort(function(g,y){return g-y}).map(function(g){return{value:""+g,text:""+g}});this.sizeSelect.addOptions(s).setInputWidth("flex").setValue(""+a).onValueChange(function(g){return e.params.setFont({size:parseInt(g,10)})}),this.sizeSelect.setLabel(this.chartTranslationService.translate("size"))},t.prototype.initFontWeightStyleSelect=function(){var e=this,n=this.params.initialFont,a=n.weight,s=void 0===a?"normal":a,g=n.style,y=void 0===g?"normal":g,_=[{name:"normal",weight:"normal",style:"normal"},{name:"bold",weight:"bold",style:"normal"},{name:"italic",weight:"normal",style:"italic"},{name:"boldItalic",weight:"bold",style:"italic"}],E=_.find(function(A){return A.weight===s&&A.style===y});E||_.unshift(E={name:"predefined",weight:s,style:y});var R=_.map(function(A){return{value:A.name,text:e.chartTranslationService.translate(A.name)}});this.weightStyleSelect.addOptions(R).setInputWidth("flex").setValue(E.name).onValueChange(function(A){var T=_.find(function(F){return F.name===A});e.params.setFont({weight:T.weight,style:T.style})})},t.prototype.initFontColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setInputWidth(45).setValue(""+this.params.initialFont.color).onValueChange(function(n){return e.params.setFont({color:n})})},t.prototype.destroyActiveComps=function(){var e=this;this.activeComps.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActiveComps(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-font-panel">\n            <ag-group-component ref="fontGroup">\n                <ag-select ref="familySelect"></ag-select>\n                <ag-select ref="weightStyleSelect"></ag-select>\n                <div class="ag-charts-font-size-color">\n                    <ag-select ref="sizeSelect"></ag-select>\n                    <ag-color-picker ref="colorPicker"></ag-color-picker>\n                </div>\n            </ag-group-component>\n        </div>',Fd([b.RefSelector("fontGroup")],t.prototype,"fontGroup",void 0),Fd([b.RefSelector("familySelect")],t.prototype,"familySelect",void 0),Fd([b.RefSelector("weightStyleSelect")],t.prototype,"weightStyleSelect",void 0),Fd([b.RefSelector("sizeSelect")],t.prototype,"sizeSelect",void 0),Fd([b.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),Fd([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Fd([b.PostConstruct],t.prototype,"init",null),t}(b.Component),h0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Rl=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},LD=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n.activePanels=[],n}return h0(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{legendGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initLegendGroup(),this.initLegendPosition(),this.initLegendPadding(),this.initLegendItems(),this.initLabelPanel()},t.prototype.initLegendGroup=function(){var e=this;this.legendGroup.setTitle(this.chartTranslationService.translate("legend")).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("legend.enabled")||!1).toggleGroupExpand(!1).onEnableChange(function(n){e.chartOptionsService.setChartOption("legend.enabled",n),e.legendGroup.toggleGroupExpand(!0)})},t.prototype.initLegendPosition=function(){var e=this,n=[_l.Top,_l.Right,_l.Bottom,_l.Left];this.legendPositionSelect.setLabel(this.chartTranslationService.translate("position")).setLabelWidth("flex").setInputWidth(80).addOptions(n.map(function(a){return{value:a,text:e.chartTranslationService.translate(a)}})).setValue(this.chartOptionsService.getChartOption("legend.position")).onValueChange(function(a){return e.chartOptionsService.setChartOption("legend.position",a)})},t.prototype.initLegendPadding=function(){var e=this,n=this.chartOptionsService.getChartOption("legend.spacing");this.legendPaddingSlider.setLabel(this.chartTranslationService.translate("spacing")).setMaxValue(xi(n,200)).setValue(""+n).setTextFieldWidth(45).onValueChange(function(a){return e.chartOptionsService.setChartOption("legend.spacing",a)})},t.prototype.initLegendItems=function(){var e=this,n=function(a,s,g,y){var _=e.chartOptionsService.getChartOption("legend."+a);g.setLabel(e.chartTranslationService.translate(s)).setMaxValue(xi(_,y)).setValue(""+_).setTextFieldWidth(45).onValueChange(function(E){e.chartOptionsService.setChartOption("legend."+a,E)})};n("item.marker.size","markerSize",this.markerSizeSlider,40),n("item.marker.strokeWidth","markerStroke",this.markerStrokeSlider,10),n("item.marker.padding","itemSpacing",this.markerPaddingSlider,20),n("item.paddingX","layoutHorizontalSpacing",this.itemPaddingXSlider,50),n("item.paddingY","layoutVerticalSpacing",this.itemPaddingYSlider,50)},t.prototype.initLabelPanel=function(){var e=this,n=this.chartOptionsService,a={family:n.getChartOption("legend.item.label.fontFamily"),style:n.getChartOption("legend.item.label.fontStyle"),weight:n.getChartOption("legend.item.label.fontWeight"),size:n.getChartOption("legend.item.label.fontSize"),color:n.getChartOption("legend.item.label.color")},y=this.createBean(new jw({enabled:!0,suppressEnabledCheckbox:!0,initialFont:a,setFont:function(_){var E=e.chartOptionsService;_.family&&E.setChartOption("legend.item.label.fontFamily",_.family),_.weight&&E.setChartOption("legend.item.label.fontWeight",_.weight),_.style&&E.setChartOption("legend.item.label.fontStyle",_.style),_.size&&E.setChartOption("legend.item.label.fontSize",_.size),_.color&&E.setChartOption("legend.item.label.color",_.color)}}));this.legendGroup.addItem(y),this.activePanels.push(y)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="legendGroup">\n                <ag-select ref="legendPositionSelect"></ag-select>\n                <ag-slider ref="legendPaddingSlider"></ag-slider>\n                <ag-slider ref="markerSizeSlider"></ag-slider>\n                <ag-slider ref="markerStrokeSlider"></ag-slider>\n                <ag-slider ref="markerPaddingSlider"></ag-slider>\n                <ag-slider ref="itemPaddingXSlider"></ag-slider>\n                <ag-slider ref="itemPaddingYSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Rl([b.RefSelector("legendGroup")],t.prototype,"legendGroup",void 0),Rl([b.RefSelector("legendPositionSelect")],t.prototype,"legendPositionSelect",void 0),Rl([b.RefSelector("legendPaddingSlider")],t.prototype,"legendPaddingSlider",void 0),Rl([b.RefSelector("markerSizeSlider")],t.prototype,"markerSizeSlider",void 0),Rl([b.RefSelector("markerStrokeSlider")],t.prototype,"markerStrokeSlider",void 0),Rl([b.RefSelector("markerPaddingSlider")],t.prototype,"markerPaddingSlider",void 0),Rl([b.RefSelector("itemPaddingXSlider")],t.prototype,"itemPaddingXSlider",void 0),Rl([b.RefSelector("itemPaddingYSlider")],t.prototype,"itemPaddingYSlider",void 0),Rl([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Rl([b.PostConstruct],t.prototype,"init",null),t}(b.Component),GD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Uc=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Tb=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n}return GD(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{axisTicksGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initAxisTicks()},t.prototype.initAxisTicks=function(){var e=this;this.axisTicksGroup.setTitle(this.chartTranslationService.translate("ticks")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0),this.axisTicksColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("tick.color")).onValueChange(function(a){return e.chartOptionsService.setAxisProperty("tick.color",a)});var n=function(a,s,g,y){var _=e.chartOptionsService.getAxisProperty(a);s.setLabel(g).setMaxValue(xi(_,y)).setValue(""+_).setTextFieldWidth(45).onValueChange(function(E){return e.chartOptionsService.setAxisProperty(a,E)})};n("tick.width",this.axisTicksWidthSlider,this.chartTranslationService.translate("width"),10),n("tick.size",this.axisTicksSizeSlider,this.chartTranslationService.translate("length"),30)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisTicksGroup">\n                <ag-color-picker ref="axisTicksColorPicker"></ag-color-picker>\n                <ag-slider ref="axisTicksWidthSlider"></ag-slider>\n                <ag-slider ref="axisTicksSizeSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Uc([b.RefSelector("axisTicksGroup")],t.prototype,"axisTicksGroup",void 0),Uc([b.RefSelector("axisTicksColorPicker")],t.prototype,"axisTicksColorPicker",void 0),Uc([b.RefSelector("axisTicksWidthSlider")],t.prototype,"axisTicksWidthSlider",void 0),Uc([b.RefSelector("axisTicksSizeSlider")],t.prototype,"axisTicksSizeSlider",void 0),Uc([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Uc([b.PostConstruct],t.prototype,"init",null),t}(b.Component),f0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zc=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Id=function(l){function t(e,n){var a=l.call(this)||this;return a.chartController=e,a.chartOptionsService=n,a.activePanels=[],a.axisLabelUpdateFuncs=[],a}return f0(t,l),t.prototype.init=function(){var e=this;this.setTemplate(t.TEMPLATE,{axisGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initAxis(),this.initAxisTicks(),this.initAxisLabels(),this.addManagedListener(this.chartController,Md.EVENT_CHART_UPDATED,function(){return e.axisLabelUpdateFuncs.forEach(function(s){return s()})})},t.prototype.initAxis=function(){var e=this,n=this.chartTranslationService;this.axisGroup.setTitle(n.translate("axis")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.axisColorInput.setLabel(n.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getAxisProperty("line.color")).onValueChange(function(g){return e.chartOptionsService.setAxisProperty("line.color",g)});var a=this.chartOptionsService.getAxisProperty("line.width");if(this.axisLineWidthSlider.setMaxValue(xi(a,10)).setLabel(n.translate("thickness")).setTextFieldWidth(45).setValue(""+a).onValueChange(function(g){return e.chartOptionsService.setAxisProperty("line.width",g)}),b._.includes(["line","scatter","bubble"],this.chartController.getChartType())&&!this.chartController.isGrouping()){var s=[{value:"",text:n.translate("automatic")}];["category","time","number"].forEach(function(g){s.push({value:g,text:n.translate(g)})}),this.xAxisTypeSelect.setLabel(n.translate("xType")).setLabelWidth("flex").addOptions(s).setValue(this.chartOptionsService.getChartOption("xAxis.type")||"").onValueChange(function(g){e.chartOptionsService.setChartOption("xAxis.type","string"==typeof g&&g.length&&g),e.chartController.updateForDataChange()})}else this.xAxisTypeSelect.setDisplayed(!1)},t.prototype.initAxisTicks=function(){var e=this.createBean(new Tb(this.chartOptionsService));this.axisGroup.addItem(e),this.activePanels.push(e)},t.prototype.initAxisLabels=function(){var e=this,n={family:this.chartOptionsService.getAxisProperty("label.fontFamily"),style:this.chartOptionsService.getAxisProperty("label.fontStyle"),weight:this.chartOptionsService.getAxisProperty("label.fontWeight"),size:this.chartOptionsService.getAxisProperty("label.fontSize"),color:this.chartOptionsService.getAxisProperty("label.color")},g=this.createBean(new jw({enabled:!0,suppressEnabledCheckbox:!0,initialFont:n,setFont:function(y){y.family&&e.chartOptionsService.setAxisProperty("label.fontFamily",y.family),y.weight&&e.chartOptionsService.setAxisProperty("label.fontWeight",y.weight),y.style&&e.chartOptionsService.setAxisProperty("label.fontStyle",y.style),y.size&&e.chartOptionsService.setAxisProperty("label.fontSize",y.size),y.color&&e.chartOptionsService.setAxisProperty("label.color",y.color),e.chartController.getChartProxy().getChart().layoutPending=!0}}));this.axisGroup.addItem(g),this.activePanels.push(g),this.addAdditionalLabelComps(g)},t.prototype.addAdditionalLabelComps=function(e){var n=this,a=function(R,A){var T=n.chartOptionsService.getLabelRotation(A),F=(new b.AgAngleSelect).setLabel(R).setLabelWidth("flex").setValue(T||0).onValueChange(function(G){return n.chartOptionsService.setLabelRotation(A,G)});n.axisLabelUpdateFuncs.push(function(){var G=n.chartOptionsService.getLabelRotation(A);F.setValue(G)});var I=n.createBean(F);e.addCompToPanel(I)},s=String.fromCharCode(176),g=this.chartTranslationService.translate("xRotation")+" "+s,y=this.chartTranslationService.translate("yRotation")+" "+s;a(g,"xAxis"),a(y,"yAxis");var _=this.createBean(new b.AgSlider),E=this.chartOptionsService.getAxisProperty("label.padding");_.setLabel(this.chartTranslationService.translate("padding")).setMaxValue(xi(E,30)).setValue(""+E).setTextFieldWidth(45).onValueChange(function(R){return n.chartOptionsService.setAxisProperty("label.padding",R)}),e.addCompToPanel(_)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="axisGroup">\n                <ag-color-picker ref="axisColorInput"></ag-color-picker>\n                <ag-slider ref="axisLineWidthSlider"></ag-slider>\n                <ag-select ref="xAxisTypeSelect"></ag-select>\n            </ag-group-component>\n        </div>',zc([b.RefSelector("axisGroup")],t.prototype,"axisGroup",void 0),zc([b.RefSelector("axisColorInput")],t.prototype,"axisColorInput",void 0),zc([b.RefSelector("axisLineWidthSlider")],t.prototype,"axisLineWidthSlider",void 0),zc([b.RefSelector("xAxisTypeSelect")],t.prototype,"xAxisTypeSelect",void 0),zc([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),zc([b.PostConstruct],t.prototype,"init",null),t}(b.Component),kD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mf=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Nd=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n}return kD(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{navigatorGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initNavigator()},t.prototype.initNavigator=function(){var e=this,n=this.chartTranslationService;this.navigatorGroup.setTitle(n.translate("navigator")).toggleGroupExpand(!1).hideEnabledCheckbox(!1).setEnabled(this.chartOptionsService.getChartOption("navigator.enabled")||!1).onEnableChange(function(s){e.chartOptionsService.setChartOption("navigator.enabled",s),e.navigatorGroup.toggleGroupExpand(!0)});var a=this.chartOptionsService.getChartOption("navigator.height");this.navigatorHeightSlider.setLabel(n.translate("height")).setMinValue(10).setMaxValue(xi(a,60)).setTextFieldWidth(45).setValue(""+(a||30)).onValueChange(function(s){return e.chartOptionsService.setChartOption("navigator.height",s)})},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="navigatorGroup">\n                <ag-slider ref="navigatorHeightSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Mf([b.RefSelector("navigatorGroup")],t.prototype,"navigatorGroup",void 0),Mf([b.RefSelector("navigatorHeightSlider")],t.prototype,"navigatorHeightSlider",void 0),Mf([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Mf([b.PostConstruct],t.prototype,"init",null),t}(b.Component),g0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ld=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},v0=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n}return g0(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartPaddingGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initChartPaddingItems()},t.prototype.initGroup=function(){this.chartPaddingGroup.setTitle(this.chartTranslationService.translate("padding")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0)},t.prototype.initChartPaddingItems=function(){var e=this,n=function(a,s){var g=e.chartOptionsService.getChartOption("padding."+a);s.setLabel(e.chartTranslationService.translate(a)).setMaxValue(xi(g,200)).setValue(""+g).setTextFieldWidth(45).onValueChange(function(y){return e.chartOptionsService.setChartOption("padding."+a,y)})};n("top",this.paddingTopSlider),n("right",this.paddingRightSlider),n("bottom",this.paddingBottomSlider),n("left",this.paddingLeftSlider)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartPaddingGroup">\n                <ag-slider ref="paddingTopSlider"></ag-slider>\n                <ag-slider ref="paddingRightSlider"></ag-slider>\n                <ag-slider ref="paddingBottomSlider"></ag-slider>\n                <ag-slider ref="paddingLeftSlider"></ag-slider>\n            </ag-group-component>\n        <div>',Ld([b.RefSelector("chartPaddingGroup")],t.prototype,"chartPaddingGroup",void 0),Ld([b.RefSelector("paddingTopSlider")],t.prototype,"paddingTopSlider",void 0),Ld([b.RefSelector("paddingRightSlider")],t.prototype,"paddingRightSlider",void 0),Ld([b.RefSelector("paddingBottomSlider")],t.prototype,"paddingBottomSlider",void 0),Ld([b.RefSelector("paddingLeftSlider")],t.prototype,"paddingLeftSlider",void 0),Ld([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ld([b.PostConstruct],t.prototype,"init",null),t}(b.Component),VD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),my=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},cA=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n}return VD(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartBackgroundGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.initGroup(),this.initColorPicker()},t.prototype.initGroup=function(){var e=this;this.group.setTitle(this.chartTranslationService.translate("background")).setEnabled(this.chartOptionsService.getChartOption("background.visible")).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(n){return e.chartOptionsService.setChartOption("background.visible",n)})},t.prototype.initColorPicker=function(){var e=this;this.colorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getChartOption("background.fill")).onValueChange(function(n){return e.chartOptionsService.setChartOption("background.fill",n)})},t.TEMPLATE='<div>\n            <ag-group-component ref="chartBackgroundGroup">\n                <ag-color-picker ref="colorPicker"></ag-color-picker>\n            </ag-group-component>\n        <div>',my([b.RefSelector("chartBackgroundGroup")],t.prototype,"group",void 0),my([b.RefSelector("colorPicker")],t.prototype,"colorPicker",void 0),my([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),my([b.PostConstruct],t.prototype,"init",null),t}(b.Component),BD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$c=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},HD=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.chartOptionsService=e,n.activePanels=[],n}return BD(t,l),t.prototype.init=function(){this.initFontPanel(),this.titlePlaceholder=this.chartTranslationService.translate("titlePlaceholder")},t.prototype.hasTitle=function(){var e=this.getOption("title");return e&&e.enabled&&e.text&&e.text.length>0},t.prototype.initFontPanel=function(){var e=this,n=this.hasTitle,a=function(_){_.family&&e.setOption("title.fontFamily",_.family),_.weight&&e.setOption("title.fontWeight",_.weight),_.style&&e.setOption("title.fontStyle",_.style),_.size&&e.setOption("title.fontSize",_.size),_.color&&e.setOption("title.color",_.color)},s={family:this.getOption("title.fontFamily"),style:this.getOption("title.fontStyle"),weight:this.getOption("title.fontWeight"),size:this.getOption("title.fontSize"),color:this.getOption("title.color")};n||a(s);var g={name:this.chartTranslationService.translate("title"),enabled:this.hasTitle(),suppressEnabledCheckbox:!1,initialFont:s,setFont:a,setEnabled:function(_){e.setOption("title.enabled",_);var E=e.getOption("title.text");_&&"Title"===E&&e.setOption("title.text",e.titlePlaceholder)}},y=this.createBean(new jw(g));this.getGui().appendChild(y.getGui()),this.activePanels.push(y),this.addManagedListener(this.eventService,"chartTitleEdit",function(){y.setEnabled(e.hasTitle())})},t.prototype.getOption=function(e){return this.chartOptionsService.getChartOption(e)},t.prototype.setOption=function(e,n){this.chartOptionsService.setChartOption(e,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE="<div></div>",$c([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),$c([b.PostConstruct],t.prototype,"init",null),t}(b.Component),Ff=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ya=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},WD=function(l){function t(e){var n=l.call(this)||this;return n.chartOptionsService=e,n.activePanels=[],n}return Ff(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{chartGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.initGroup(),this.initTitles(),this.initPaddingPanel(),this.initBackgroundPanel()},t.prototype.initGroup=function(){this.chartGroup.setTitle(this.chartTranslationService.translate("chart")).toggleGroupExpand(!1).hideEnabledCheckbox(!0)},t.prototype.initTitles=function(){var e=this.createBean(new HD(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initPaddingPanel=function(){var e=this.createBean(new v0(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.initBackgroundPanel=function(){var e=this.createBean(new cA(this.chartOptionsService));this.chartGroup.addItem(e),this.activePanels.push(e)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="chartGroup"></ag-group-component>\n        </div>',Ya([b.RefSelector("chartGroup")],t.prototype,"chartGroup",void 0),Ya([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ya([b.PostConstruct],t.prototype,"init",null),t}(b.Component),pA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kc=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Uw=function(l){function t(e,n){var a=l.call(this)||this;return a.chartOptionsService=e,a.getSelectedSeries=n,a}return pA(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{shadowGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical",suppressOpenCloseIcons:!0}}),this.shadowBlurSlider.setTextFieldWidth(45),this.shadowXOffsetSlider.setTextFieldWidth(45),this.shadowYOffsetSlider.setTextFieldWidth(45),this.initSeriesShadow()},t.prototype.initSeriesShadow=function(){var e=this;this.shadowGroup.setTitle(this.chartTranslationService.translate("shadow")).setEnabled(this.chartOptionsService.getSeriesOption("shadow.enabled",this.getSelectedSeries())).hideOpenCloseIcons(!0).hideEnabledCheckbox(!1).onEnableChange(function(a){return e.chartOptionsService.setSeriesOption("shadow.enabled",a,e.getSelectedSeries())}),this.shadowColorPicker.setLabel(this.chartTranslationService.translate("color")).setLabelWidth("flex").setInputWidth(45).setValue(this.chartOptionsService.getSeriesOption("shadow.color",this.getSelectedSeries())).onValueChange(function(a){return e.chartOptionsService.setSeriesOption("shadow.color",a,e.getSelectedSeries())});var n=function(a,s,g,y){var _=e.chartOptionsService.getSeriesOption("shadow."+s,e.getSelectedSeries());a.setLabel(e.chartTranslationService.translate(s)).setMinValue(g).setMaxValue(xi(_,y)).setValue(""+_).onValueChange(function(E){return e.chartOptionsService.setSeriesOption("shadow."+s,E,e.getSelectedSeries())})};n(this.shadowBlurSlider,"blur",0,20),n(this.shadowXOffsetSlider,"xOffset",-10,10),n(this.shadowYOffsetSlider,"yOffset",-10,10)},t.TEMPLATE='<div>\n            <ag-group-component ref="shadowGroup">\n                <ag-color-picker ref="shadowColorPicker"></ag-color-picker>\n                <ag-slider ref="shadowBlurSlider"></ag-slider>\n                <ag-slider ref="shadowXOffsetSlider"></ag-slider>\n                <ag-slider ref="shadowYOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Kc([b.RefSelector("shadowGroup")],t.prototype,"shadowGroup",void 0),Kc([b.RefSelector("shadowColorPicker")],t.prototype,"shadowColorPicker",void 0),Kc([b.RefSelector("shadowBlurSlider")],t.prototype,"shadowBlurSlider",void 0),Kc([b.RefSelector("shadowXOffsetSlider")],t.prototype,"shadowXOffsetSlider",void 0),Kc([b.RefSelector("shadowYOffsetSlider")],t.prototype,"shadowYOffsetSlider",void 0),Kc([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Kc([b.PostConstruct],t.prototype,"init",null),t}(b.Component),UD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gd=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},zw=function(l){function t(e,n){var a=l.call(this)||this;return a.chartOptionsService=e,a.getSelectedSeries=n,a}return UD(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesMarkersGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initMarkers()},t.prototype.initMarkers=function(){var e=this;this.seriesMarkerShapeSelect.addOptions([{value:"square",text:"Square"},{value:"circle",text:"Circle"},{value:"cross",text:"Cross"},{value:"diamond",text:"Diamond"},{value:"plus",text:"Plus"},{value:"triangle",text:"Triangle"},{value:"heart",text:"Heart"}]).setLabel(this.chartTranslationService.translate("shape")).setValue(this.getSeriesOption("marker.shape")).onValueChange(function(y){return e.setSeriesOption("marker.shape",y)});var a=this.chartOptionsService.getChartType(),s=b._.includes(["scatter","bubble"],a);this.seriesMarkersGroup.setTitle(this.chartTranslationService.translate("markers")).hideEnabledCheckbox(s).setEnabled(this.getSeriesOption("marker.enabled")||!1).hideOpenCloseIcons(!0).onEnableChange(function(y){return e.setSeriesOption("marker.enabled",y)});var g=function(y,_,E,R){var A=e.getSeriesOption(y);_.setLabel(e.chartTranslationService.translate(E)).setMaxValue(xi(A,R)).setValue(""+A).setTextFieldWidth(45).onValueChange(function(T){return e.setSeriesOption(y,T)})};"bubble"===a?(g("marker.maxSize",this.seriesMarkerMinSizeSlider,"maxSize",60),g("marker.size",this.seriesMarkerSizeSlider,"minSize",60)):(this.seriesMarkerMinSizeSlider.setDisplayed(!1),g("marker.size",this.seriesMarkerSizeSlider,"size",60)),g("marker.strokeWidth",this.seriesMarkerStrokeWidthSlider,"strokeWidth",10)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.getSelectedSeries())},t.prototype.setSeriesOption=function(e,n){this.chartOptionsService.setSeriesOption(e,n,this.getSelectedSeries())},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesMarkersGroup">\n                <ag-select ref="seriesMarkerShapeSelect"></ag-select>\n                <ag-slider ref="seriesMarkerMinSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerSizeSlider"></ag-slider>\n                <ag-slider ref="seriesMarkerStrokeWidthSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Gd([b.RefSelector("seriesMarkersGroup")],t.prototype,"seriesMarkersGroup",void 0),Gd([b.RefSelector("seriesMarkerShapeSelect")],t.prototype,"seriesMarkerShapeSelect",void 0),Gd([b.RefSelector("seriesMarkerSizeSlider")],t.prototype,"seriesMarkerSizeSlider",void 0),Gd([b.RefSelector("seriesMarkerMinSizeSlider")],t.prototype,"seriesMarkerMinSizeSlider",void 0),Gd([b.RefSelector("seriesMarkerStrokeWidthSlider")],t.prototype,"seriesMarkerStrokeWidthSlider",void 0),Gd([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Gd([b.PostConstruct],t.prototype,"init",null),t}(b.Component),zD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Yc=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},$w=function(l){function t(e,n){var a=l.call(this)||this;return a.chartOptionsService=e,a.getSelectedSeries=n,a}return zD(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{calloutGroup:{cssIdentifier:"charts-format-sub-level",direction:"vertical"}}),this.initCalloutOptions()},t.prototype.initCalloutOptions=function(){var e=this;this.calloutGroup.setTitle(this.chartTranslationService.translate("callout")).setEnabled(!0).hideOpenCloseIcons(!0).hideEnabledCheckbox(!0);var n=function(a,s,g,y){var _=e.chartOptionsService.getSeriesOption(a,e.getSelectedSeries());s.setLabel(e.chartTranslationService.translate(g)).setMaxValue(xi(_,y)).setValue(""+_).setTextFieldWidth(45).onValueChange(function(E){return e.chartOptionsService.setSeriesOption(a,E,e.getSelectedSeries())})};n("callout.length",this.calloutLengthSlider,"length",40),n("callout.strokeWidth",this.calloutStrokeWidthSlider,"strokeWidth",10),n("label.offset",this.labelOffsetSlider,"offset",30)},t.TEMPLATE='<div>\n            <ag-group-component ref="calloutGroup">\n                <ag-slider ref="calloutLengthSlider"></ag-slider>\n                <ag-slider ref="calloutStrokeWidthSlider"></ag-slider>\n                <ag-slider ref="labelOffsetSlider"></ag-slider>\n            </ag-group-component>\n        </div>',Yc([b.RefSelector("calloutGroup")],t.prototype,"calloutGroup",void 0),Yc([b.RefSelector("calloutLengthSlider")],t.prototype,"calloutLengthSlider",void 0),Yc([b.RefSelector("calloutStrokeWidthSlider")],t.prototype,"calloutStrokeWidthSlider",void 0),Yc([b.RefSelector("labelOffsetSlider")],t.prototype,"labelOffsetSlider",void 0),Yc([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Yc([b.PostConstruct],t.prototype,"init",null),t}(b.Component),Cy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ab=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Pu=function(l){function t(e,n,a){var s=l.call(this)||this;return s.chartController=e,s.chartOptionsService=n,s.activePanels=[],s.widgetFuncs={lineWidth:function(){return s.initLineWidth()},strokeWidth:function(){return s.initStrokeWidth()},lineDash:function(){return s.initLineDash()},lineOpacity:function(){return s.initLineOpacity()},fillOpacity:function(){return s.initFillOpacity()},markers:function(){return s.initMarkers()},labels:function(){return s.initLabels()},shadow:function(){return s.initShadow()},tooltips:function(){return s.initTooltips()},bins:function(){return s.initBins()}},s.seriesWidgetMappings={area:["tooltips","lineWidth","lineDash","lineOpacity","fillOpacity","markers","labels","shadow"],bar:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],column:["tooltips","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],line:["tooltips","lineWidth","lineDash","lineOpacity","markers","labels"],histogram:["tooltips","bins","strokeWidth","lineDash","lineOpacity","fillOpacity","labels","shadow"],scatter:["tooltips","markers","labels"],pie:["tooltips","strokeWidth","lineOpacity","fillOpacity","labels","shadow"]},s.seriesType=a||s.getChartSeriesType(),s}return Cy(t,l),t.prototype.init=function(){this.setTemplate(t.TEMPLATE,{seriesGroup:{cssIdentifier:"charts-format-top-level",direction:"vertical"}}),this.seriesGroup.setTitle(this.translate("series")).toggleGroupExpand(!1).hideEnabledCheckbox(!0),this.addManagedListener(this.chartController,Md.EVENT_CHART_SERIES_CHART_TYPE_CHANGED,this.refreshWidgets.bind(this)),this.refreshWidgets()},t.prototype.refreshWidgets=function(){var e=this;this.destroyActivePanels(),this.chartController.isComboChart()&&(this.updateSeriesType(),this.initSeriesSelect()),this.seriesWidgetMappings[this.seriesType].forEach(function(n){return e.widgetFuncs[n]()})},t.prototype.initSeriesSelect=function(){var e=this,n=this.seriesGroup.createManagedBean(new b.AgSelect);n.setLabel(this.translate("seriesType")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(100).addOptions(this.getSeriesSelectOptions()).setValue(""+this.seriesType).onValueChange(function(a){e.seriesType=a,e.refreshWidgets()}),this.seriesGroup.addItem(n),this.activePanels.push(n)},t.prototype.initTooltips=function(){var e=this,n=this.createBean(new b.AgToggleButton);n.setLabel(this.translate("tooltips")).setLabelAlignment("left").setLabelWidth("flex").setInputWidth(45).setValue(this.getSeriesOption("tooltip.enabled")||!1).onValueChange(function(a){return e.setSeriesOption("tooltip.enabled",a)}),this.addWidget(n)},t.prototype.initStrokeWidth=function(){var e=this,n=this.getSeriesOption("strokeWidth"),a=this.createBean(new b.AgSlider);a.setLabel(this.translate("strokeWidth")).setMaxValue(xi(n,10)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineWidth=function(){var e=this,n=this.getSeriesOption("strokeWidth"),a=this.createBean(new b.AgSlider);a.setLabel(this.translate("lineWidth")).setMaxValue(xi(n,10)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("strokeWidth",s)}),this.addWidget(a)},t.prototype.initLineDash=function(){var e=this,n=this.getSeriesOption("lineDash"),a=n?n[0]:0,s=this.createBean(new b.AgSlider);s.setLabel(this.translate("lineDash")).setMaxValue(xi(a,30)).setTextFieldWidth(45).setValue(""+a).onValueChange(function(g){return e.setSeriesOption("lineDash",[g])}),this.addWidget(s)},t.prototype.initLineOpacity=function(){var e=this,n=this.getSeriesOption("strokeOpacity"),a=this.createBean(new b.AgSlider);a.setLabel(this.translate("strokeOpacity")).setStep(.05).setMaxValue(xi(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("strokeOpacity",s)}),this.addWidget(a)},t.prototype.initFillOpacity=function(){var e=this,n=this.getSeriesOption("fillOpacity"),a=this.createBean(new b.AgSlider);a.setLabel(this.translate("fillOpacity")).setStep(.05).setMaxValue(xi(n,1)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("fillOpacity",s)}),this.addWidget(a)},t.prototype.initLabels=function(){var e=this,n=function jD(l,t,e){var n={family:t.getSeriesOption("label.fontFamily",e()),style:t.getSeriesOption("label.fontStyle",e()),weight:t.getSeriesOption("label.fontWeight",e()),size:t.getSeriesOption("label.fontSize",e()),color:t.getSeriesOption("label.color",e())};return{name:l.translate("labels"),enabled:t.getSeriesOption("label.enabled",e())||!1,setEnabled:function(g){return t.setSeriesOption("label.enabled",g,e())},suppressEnabledCheckbox:!1,initialFont:n,setFont:function(g){g.family&&t.setSeriesOption("label.fontFamily",g.family,e()),g.weight&&t.setSeriesOption("label.fontWeight",g.weight,e()),g.style&&t.setSeriesOption("label.fontStyle",g.style,e()),g.size&&t.setSeriesOption("label.fontSize",g.size,e()),g.color&&t.setSeriesOption("label.color",g.color,e())}}}(this.chartTranslationService,this.chartOptionsService,function(){return e.seriesType}),a=this.createBean(new jw(n));if("pie"===this.seriesType){var s=this.createBean(new $w(this.chartOptionsService,function(){return e.seriesType}));a.addCompToPanel(s),this.activePanels.push(s)}this.addWidget(a)},t.prototype.initShadow=function(){var e=this,n=this.createBean(new Uw(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(n)},t.prototype.initMarkers=function(){var e=this,n=this.createBean(new zw(this.chartOptionsService,function(){return e.seriesType}));this.addWidget(n)},t.prototype.initBins=function(){var e=this,n=this.getSeriesOption("binCount"),a=this.createBean(new b.AgSlider);a.setLabel(this.translate("histogramBinCount")).setMinValue(4).setMaxValue(xi(n,100)).setTextFieldWidth(45).setValue(""+n).onValueChange(function(s){return e.setSeriesOption("binCount",s)}),this.addWidget(a)},t.prototype.addWidget=function(e){this.seriesGroup.addItem(e),this.activePanels.push(e)},t.prototype.getSeriesOption=function(e){return this.chartOptionsService.getSeriesOption(e,this.seriesType)},t.prototype.setSeriesOption=function(e,n){this.chartOptionsService.setSeriesOption(e,n,this.seriesType)},t.prototype.getChartSeriesType=function(){var e=this.chartController.getSeriesChartTypes()[0].chartType;return"columnLineCombo"===e?"column":"areaColumnCombo"===e?"area":Ms(e)},t.prototype.getSeriesSelectOptions=function(){var e=this;this.seriesSelectOptions||(this.seriesSelectOptions=new Map([["area",{value:"area",text:this.translate("area","Area")}],["bar",{value:"bar",text:this.translate("bar","Bar")}],["column",{value:"column",text:this.translate("column","Column")}],["line",{value:"line",text:this.translate("line","Line")}],["scatter",{value:"scatter",text:this.translate("scatter","Scatter")}],["histogram",{value:"histogram",text:this.translate("histogram","Histogram")}],["pie",{value:"pie",text:this.translate("pie","Pie")}]]));var n=new Set;return this.chartController.getActiveSeriesChartTypes().forEach(function(a){var s=Ms(a.chartType);n.add(e.seriesSelectOptions.get(s))}),Array.from(n)},t.prototype.updateSeriesType=function(){var e=this.chartController.getActiveSeriesChartTypes().map(function(a){return Ms(a.chartType)});!e.includes(this.seriesType)&&e.length>0&&(this.seriesType=e[0])},t.prototype.translate=function(e,n){return this.chartTranslationService.translate(e,n)},t.prototype.destroyActivePanels=function(){var e=this;this.activePanels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyActivePanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div>\n            <ag-group-component ref="seriesGroup">                \n            </ag-group-component>\n        </div>',Ab([b.RefSelector("seriesGroup")],t.prototype,"seriesGroup",void 0),Ab([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Ab([b.PostConstruct],t.prototype,"init",null),t}(b.Component),y0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();function xi(l,t){return Math.max(l,t)}var xb=function(l){function t(e,n){var a=l.call(this,t.TEMPLATE)||this;return a.chartController=e,a.chartOptionsService=n,a.panels=[],a}return y0(t,l),t.prototype.init=function(){this.createPanels(),this.addManagedListener(this.chartController,Md.EVENT_CHART_UPDATED,this.createPanels.bind(this))},t.prototype.createPanels=function(){var e=this.chartController.getChartType(),n=this.chartController.isGrouping();if(e!==this.chartType||n!==this.isGrouping){switch(this.destroyPanels(),this.addComponent(new WD(this.chartOptionsService)),this.addComponent(new LD(this.chartOptionsService)),e){case"groupedColumn":case"stackedColumn":case"normalizedColumn":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService,"column")),this.addComponent(new Nd(this.chartOptionsService));break;case"groupedBar":case"stackedBar":case"normalizedBar":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService,"bar")),this.addComponent(new Nd(this.chartOptionsService));break;case"pie":case"doughnut":this.addComponent(new Pu(this.chartController,this.chartOptionsService,"pie"));break;case"line":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService,"line")),this.addComponent(new Nd(this.chartOptionsService));break;case"scatter":case"bubble":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService,"scatter")),this.addComponent(new Nd(this.chartOptionsService));break;case"area":case"stackedArea":case"normalizedArea":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService,"area")),this.addComponent(new Nd(this.chartOptionsService));break;case"histogram":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService,"histogram")),this.addComponent(new Nd(this.chartOptionsService));break;case"columnLineCombo":case"areaColumnCombo":case"customCombo":this.addComponent(new Id(this.chartController,this.chartOptionsService)),this.addComponent(new Pu(this.chartController,this.chartOptionsService)),this.addComponent(new Nd(this.chartOptionsService));break;default:console.warn("AG Grid: ChartFormattingPanel - unexpected chart type index: "+e+" supplied")}this.chartType=e,this.isGrouping=n}},t.prototype.addComponent=function(e){this.createBean(e),this.panels.push(e),e.addCssClass("ag-chart-format-section"),this.getGui().appendChild(e.getGui())},t.prototype.destroyPanels=function(){var e=this;this.panels.forEach(function(n){b._.removeFromParent(n.getGui()),e.destroyBean(n)})},t.prototype.destroy=function(){this.destroyPanels(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-format-wrapper"></div>',function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.PostConstruct],t.prototype,"init",null),t}(b.Component),KD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),YD=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Mb=function(l){function t(e,n){var a=l.call(this)||this;a.size=58,a.padding=5,a.root=new un;var s=new XS(window.document,a.size,a.size);return s.canvas.element.classList.add("ag-chart-mini-thumbnail-canvas"),s.root=a.root,s.container=e,a.scene=s,a.tooltipName=n,a}return KD(t,l),t.prototype.init=function(){this.scene.canvas.element.title=this.chartTranslationService.translate(this.tooltipName)},YD([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),YD([b.PostConstruct],t.prototype,"init",null),t}(b.Component),qD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),na=function(l){function t(e,n){var a=l.call(this,e,n)||this;return a.stroke="gray",a.axisOvershoot=3,a}return qD(t,l),t.prototype.addAxes=function(){var e=this.size,n=this.padding,a=new Eo;a.x1=n,a.y1=n,a.x2=n,a.y2=e-n+this.axisOvershoot,a.stroke=this.stroke;var s=new Eo;s.x1=n-this.axisOvershoot+1,s.y1=e-n,s.x2=e-n+1,s.y2=e-n,s.stroke=this.stroke;var g=this.root;g.append(a),g.append(s)},function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.PostConstruct],t.prototype,"addAxes",null),t}(Mb);function Dl(l){var t=l.stacked,e=l.size,n=l.padding,a=l.xScalePadding,s=l.xScaleDomain,g=l.yScaleDomain,y=new Bn;y.domain=s,y.range=[n,e-n],y.paddingInner=a,y.paddingOuter=a;var _=new rn;_.domain=g,_.range=[e-n,n];var E=function(R,A,T){return R.map(function(F,I){var G=T.convert(F),j=new dn;return j.x=A.convert(I),j.y=G,j.width=A.bandwidth,j.height=T.convert(0)-G,j.strokeWidth=1,j.crisp=!0,j})};return t?l.data.map(function(R){return E(R,y,_)}):E(l.data,y,_)}function m0(l,t,e,n){var a=new rn;a.domain=[0,4],a.range=[n,e-n];var s=new rn;s.domain=[0,10],s.range=[e-n,n];var g=t.map(function(_){var E=new xn;return E.strokeWidth=3,E.lineCap="round",E.fill=void 0,_.forEach(function(R,A){E.path[A>0?"lineTo":"moveTo"](a.convert(A),s.convert(R))}),E}),y=new Ic;return y.x=y.y=n,y.width=y.height=e-2*n,y.append(g),l.append(y),g}var C0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),XD=function(l){function t(e,n,a){var s=l.call(this,e,"groupedColumnTooltip")||this;s.columnData=[2,3,4];var y=s.root;return s.columns=Dl({stacked:!1,root:y,data:s.columnData,size:s.size,padding:s.padding,xScaleDomain:[0,1,2],yScaleDomain:[0,4],xScalePadding:.3}),y.append(s.columns),s.updateColors(n,a),s}return C0(t,l),t.prototype.updateColors=function(e,n){this.columns.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]})},t.chartType="groupedColumn",t}(na),dA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fb=function(l){function t(e,n,a,s,g,y){void 0===s&&(s=t.data),void 0===g&&(g=[0,16]),void 0===y&&(y="stackedColumnTooltip");var _=l.call(this,e,y)||this,R=_.root;return _.stackedColumns=Dl({stacked:!0,root:R,data:s,size:_.size,padding:_.padding,xScaleDomain:[0,1,2],yScaleDomain:g,xScalePadding:.3}),R.append([].concat.apply([],_.stackedColumns)),_.updateColors(n,a),_}return dA(t,l),t.prototype.updateColors=function(e,n){this.stackedColumns.forEach(function(a,s){return a.forEach(function(g){g.fill=e[s],g.stroke=n[s]})})},t.chartType="stackedColumn",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(na),hA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),w0=function(l){function t(e,n,a){return l.call(this,e,n,a,t.data,[0,10],"normalizedColumnTooltip")||this}return hA(t,l),t.chartType="normalizedColumn",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(Fb),Ib=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Au=function(l){function t(e,n,a){var s=l.call(this,e,"groupedBarTooltip")||this,g=s.padding,y=s.size,E=new Bn;E.domain=[0,1,2],E.range=[g,y-g],E.paddingInner=.3,E.paddingOuter=.3;var R=new rn;R.domain=[0,4],R.range=[y-g,g];var A=R.convert(0),T=E.bandwidth;return s.bars=[2,3,4].map(function(F,I){var G=new dn;return G.x=g,G.y=E.convert(I),G.width=A-R.convert(F),G.height=T,G.strokeWidth=1,G.crisp=!0,G}),s.updateColors(n,a),s.root.append(s.bars),s}return Ib(t,l),t.prototype.updateColors=function(e,n){this.bars.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]})},t.chartType="groupedBar",t}(na),QD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_0=function(l){function t(e,n,a,s,g,y){void 0===s&&(s=t.data),void 0===g&&(g=[0,16]),void 0===y&&(y="stackedBarTooltip");var _=l.call(this,e,y)||this,E=_.size,R=_.padding,A=new Bn;A.domain=[0,1,2],A.range=[R,E-R],A.paddingInner=.3,A.paddingOuter=.3;var T=new rn;T.domain=g,T.range=[E-R,R];var F=T.convert(0),I=A.bandwidth;return _.bars=s.map(function(G){return G.map(function(j,U){var z=new dn;return z.x=R,z.y=A.convert(U),z.width=F-T.convert(j),z.height=I,z.strokeWidth=1,z.crisp=!0,z})}),_.updateColors(n,a),_.root.append([].concat.apply([],_.bars)),_}return QD(t,l),t.prototype.updateColors=function(e,n){this.bars.forEach(function(a,s){return a.forEach(function(g){g.fill=e[s],g.stroke=n[s]})})},t.chartType="stackedBar",t.data=[[8,12,16],[6,9,12],[2,3,4]],t}(na),ZD=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),JD=function(l){function t(e,n,a){return l.call(this,e,n,a,t.data,[0,10],"normalizedBarTooltip")||this}return ZD(t,l),t.chartType="normalizedBar",t.data=[[10,10,10],[6,7,8],[2,4,6]],t}(_0),eP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),S0=function(l){function t(e,n,a,s,g){void 0===s&&(s=.6),void 0===g&&(g="doughnutTooltip");var y=l.call(this,e,g)||this,_=(y.size-2*y.padding)/2,E=_+y.padding,R=[[pn(-90),pn(30)],[pn(30),pn(120)],[pn(120),pn(180)],[pn(180),pn(210)],[pn(210),pn(240)],[pn(240),pn(270)]];return y.sectors=R.map(function(A){var T=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(A,2),F=T[0],I=T[1],G=new vt;return G.centerX=E,G.centerY=E,G.innerRadius=_*s,G.outerRadius=_,G.startAngle=F,G.endAngle=I,G.stroke=void 0,G.strokeWidth=1,G}),y.updateColors(n,a),y.root.append(y.sectors),y}return eP(t,l),t.prototype.updateColors=function(e,n){this.sectors.forEach(function(a,s){a.fill=e[s%e.length],a.stroke=n[s%n.length]})},t.chartType="doughnut",t}(Mb),rP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),nP=function(l){function t(e,n,a){return l.call(this,e,n,a,0,"pieTooltip")||this}return rP(t,l),t.chartType="pie",t}(S0),wy=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),b0=function(l){function t(e,n,a){var s=l.call(this,e,"lineTooltip")||this;return s.data=[[9,7,8,5,6],[5,6,3,4,1],[1,3,4,8,7]],s.lines=m0(s.root,s.data,s.size,s.padding),s.updateColors(n,a),s}return wy(t,l),t.prototype.updateColors=function(e,n){this.lines.forEach(function(a,s){a.stroke=e[s]})},t.chartType="line",t}(na),E0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),R0=function(l){function t(e,n,a){var s=l.call(this,e,"scatterTooltip")||this,g=s.size,y=s.padding,E=new rn;E.domain=[-.5,4],E.range=[2*y,g-y];var R=new rn;R.domain=[-.5,3.5],R.range=[g-y,y];var A=[];[[[.3,3],[1.1,.9],[2,.4],[3.4,2.4]],[[0,.3],[1,2],[2.4,1.4],[3,0]]].forEach(function(F){F.forEach(function(I){var G=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(I,2),j=G[0],U=G[1],z=new wc;z.strokeWidth=1,z.centerX=E.convert(j),z.centerY=R.convert(U),z.radiusX=z.radiusY=2.5,A.push(z)})}),s.points=A,s.updateColors(n,a);var T=new Ic;return T.x=T.y=y,T.width=T.height=g-2*y,T.append(s.points),s.root.append(T),s}return E0(t,l),t.prototype.updateColors=function(e,n){this.points.forEach(function(a,s){a.stroke=n[s%n.length],a.fill=e[s%e.length]})},t.chartType="scatter",t}(na),D0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oP=function(l){function t(e,n,a){var s=l.call(this,e,"bubbleTooltip")||this,g=s.size,y=s.padding,E=new rn;E.domain=[0,1],E.range=[2*y,g-y];var R=new rn;R.domain=[0,1],R.range=[g-y,y];var A=[];[[[.1,.3,5],[.5,.4,7],[.2,.8,7]],[[.8,.7,5],[.7,.3,9]]].forEach(function(F){F.forEach(function(I){var G=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(I,3),j=G[0],U=G[1],z=G[2],Y=new wc;Y.strokeWidth=1,Y.centerX=E.convert(j),Y.centerY=R.convert(U),Y.radiusX=Y.radiusY=z,Y.fillOpacity=.7,A.push(Y)})}),s.points=A,s.updateColors(n,a);var T=new Ic;return T.x=y,T.y=y,T.width=g-2*y,T.height=g-2*y,T.append(s.points),s.root.append(T),s}return D0(t,l),t.prototype.updateColors=function(e,n){this.points.forEach(function(a,s){a.stroke=n[s%n.length],a.fill=e[s%e.length]})},t.chartType="bubble",t}(na),aP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),sP=function(l){function t(e,n,a,s){void 0===s&&(s=t.data);var g=l.call(this,e,"groupedAreaTooltip")||this,y=g.size,_=g.padding,E=new Bn;E.domain=[0,1,2],E.paddingInner=1,E.paddingOuter=0,E.range=[_+.5,y-_-.5];var R=new rn;R.domain=[0,6],R.range=[y-_+.5,_];var T=2*s.length-1,F=[],I=R.convert(0);return s.forEach(function(G,j){var U=E.convert(j);G.forEach(function(z,Y){var J=R.convert(z),se=F[Y]||(F[Y]=[]);se[j]={x:U,y:J},se[T-j]={x:U,y:I}})}),g.areas=F.reverse().map(function(G){var j=new xn;j.strokeWidth=1,j.fillOpacity=.7;var U=j.path;return U.clear(),G.forEach(function(z,Y){return U[Y>0?"lineTo":"moveTo"](z.x,z.y)}),U.closePath(),j}),g.updateColors(n,a),g.root.append(g.areas),g}return aP(t,l),t.prototype.updateColors=function(e,n){this.areas.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]})},t.chartType="area",t.data=[[1,3,5],[2,6,4],[5,3,1]],t}(na),lP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Nb=function(l){function t(e,n,a,s,g){void 0===s&&(s=t.data),void 0===g&&(g="stackedAreaTooltip");var y=l.call(this,e,g)||this,_=y.size,E=y.padding,R=new Bn;R.domain=[0,1,2],R.paddingInner=1,R.paddingOuter=0,R.range=[E+.5,_-E-.5];var A=new rn;A.domain=[0,16],A.range=[_-E+.5,E+.5];var F=2*s.length-1,I=[];return s.forEach(function(G,j){var U=R.convert(j),z=0;G.forEach(function(Y,J){var se=A.convert(z+Y),ae=I[J]||(I[J]=[]);ae[j]={x:U,y:se},ae[F-j]={x:U,y:A.convert(z)},z+=Y})}),y.areas=I.map(function(G){var j=new xn;j.strokeWidth=1;var U=j.path;return U.clear(),G.forEach(function(z,Y){return U[Y>0?"lineTo":"moveTo"](z.x,z.y)}),U.closePath(),j}),y.updateColors(n,a),y.root.append(y.areas),y}return lP(t,l),t.prototype.updateColors=function(e,n){this.areas.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]})},t.chartType="stackedArea",t.data=[[2,3,2],[3,6,5],[6,2,2]],t}(na),uP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),_y=function(l){function t(e,n,a,s){return void 0===s&&(s=t.data),l.call(this,e,n,a,s,"normalizedAreaTooltip")||this}return uP(t,l),t.chartType="normalizedArea",t.data=Nb.data.map(function(e){var n=e.reduce(function(a,s){return a+s},0);return e.map(function(a){return a/n*16})}),t}(Nb),cP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kw=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Ce=function(l){function t(e,n,a){var s=l.call(this,e,"histogramTooltip")||this,g=s.padding,y=s.size,_=[2,5,11,13,10,6,1],E=new rn;E.domain=[0,_.length],E.range=[g,y-g];var R=new rn;R.domain=[0,_.reduce(function(T,F){return Math.max(T,F)},0)],R.range=[y-g,g];var A=R.convert(0);return s.bars=_.map(function(T,F){var I=R.convert(T),G=E.convert(F),j=E.convert(F+1),U=new dn;return U.x=G,U.y=I,U.width=j-G,U.height=A-I,U.strokeWidth=1,U.crisp=!0,U}),s.updateColors(n,a),s.root.append(s.bars),s}return cP(t,l),t.prototype.updateColors=function(e,n){var s=Kw(e,1)[0],y=Kw(n,1)[0];this.bars.forEach(function(_){_.fill=s,_.stroke=y})},t.chartType="histogram",t}(na),pP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Sy=function(l){function t(e,n,a){var s=l.call(this,e,"columnLineComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var y=s.root,E=s.lineData,R=s.size,A=s.padding;return s.columns=Dl({stacked:!1,root:y,data:s.columnData,size:R,padding:A,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),y.append(s.columns),s.lines=m0(y,E,R,A),s.updateColors(n,a),s}return pP(t,l),t.prototype.updateColors=function(e,n){this.columns.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]}),this.lines.forEach(function(a,s){a.stroke=e[s+2]})},t.chartType="columnLineCombo",t}(na),xu=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),dP=function(l){function t(e,n,a){var s=l.call(this,e,"areaColumnComboTooltip")||this;s.columnData=[3,4.5],s.areaData=[[5,4,6,5,4]];var y=s.root,E=s.areaData,R=s.size,A=s.padding;s.columns=Dl({stacked:!1,root:y,data:s.columnData,size:R,padding:A,xScaleDomain:[0,1],yScaleDomain:[0,6],xScalePadding:.5});var T=new Bn;T.range=[A,R-A],T.domain=[0,1,2,3,4],T.paddingInner=1,T.paddingOuter=0;var F=new rn;F.range=[R-A,A],F.domain=[0,6];var I=[],G=F.convert(0),j=T.convert(0);return E.forEach(function(U,z){var Y=I[z]||(I[z]=[]);U.forEach(function(se,ae){var ce=se,fe=T.convert(ae),we=F.convert(ce);Y[ae]={x:fe,y:we}});var J=T.convert(U.length-1);I[z].push({x:J,y:G},{x:j,y:G})}),s.areas=I.map(function(U){var z=new xn;z.strokeWidth=1,z.fillOpacity=.8;var Y=z.path;return U.forEach(function(J,se){return Y[se>0?"lineTo":"moveTo"](J.x,J.y)}),z}),y.append(s.areas),y.append([].concat.apply([],s.columns)),s.updateColors(n,a),s}return xu(t,l),t.prototype.updateColors=function(e,n){this.areas.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]}),this.columns.forEach(function(a,s){a.fill=e[s+1],a.stroke=n[s+1]})},t.chartType="areaColumnCombo",t}(na),hP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),P0=function(l){function t(e,n,a){var s=l.call(this,e,"customComboTooltip")||this;s.columnData=[3,4],s.lineData=[[5,4,6,5,4]];var y=s.root,E=s.lineData,R=s.size,A=s.padding;s.columns=Dl({stacked:!1,root:y,data:s.columnData,size:R,padding:A,xScaleDomain:[0,1],yScaleDomain:[0,4],xScalePadding:.5}),y.append(s.columns),s.lines=m0(y,E,R,A);var T="grey",I=new Eo;I.x1=A,I.y1=A,I.x2=A,I.y2=R-A+3,I.stroke=T;var G=new Eo;G.x1=A-3+1,G.y1=R-A,G.x2=R-A+1,G.y2=R-A,G.stroke=T;var j=new xn;return j.svgPath="M25.76,43.46l5.51,5.07M49.86,22a3.26,3.26,0,0,0-3-.59,6.78,6.78,0,0,0-3.35,2.14l-18,20.25-.08.09-2.42,8-.18.57,8.19-3.6,18-20.34a6.83,6.83,0,0,0,1.73-3.59A3.29,3.29,0,0,0,49.86,22Zm-8.1,3.5,5.58,5m-6.6-3.85,5.51,5.06",j.fill="whitesmoke",j.stroke="darkslategrey",j.strokeWidth=1,y.append([G,I,j]),s.updateColors(n,a),s}return hP(t,l),t.prototype.updateColors=function(e,n){this.columns.forEach(function(a,s){a.fill=e[s],a.stroke=n[s]}),this.lines.forEach(function(a,s){a.stroke=e[s+2]})},t.chartType="customCombo",t}(Mb),Yw=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mo=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},fP=function(l){function t(e,n,a){var s=l.call(this,t.TEMPLATE)||this;return s.wrappers={},s.chartGroups={columnGroup:[XD,Fb,w0],barGroup:[Au,_0,JD],pieGroup:[nP,S0],lineGroup:[b0],scatterGroup:[R0,oP],areaGroup:[sP,Nb,_y],histogramGroup:[Ce],combinationGroup:[Sy,dP,P0]},s.chartController=e,s.fills=n,s.strokes=a,s}return Yw(t,l),t.prototype.init=function(){var e=this;this.chartController.customComboExists()||(this.chartGroups.combinationGroup=this.chartGroups.combinationGroup.filter(function(a){return a!==P0}));var n=this.getGui();Object.keys(this.chartGroups).forEach(function(a){var s=e.chartGroups[a],g=e.createBean(new b.AgGroupComponent({title:e.chartTranslationService.translate(a),suppressEnabledCheckbox:!0,enabled:!0,suppressOpenCloseIcons:!0,cssIdentifier:"charts-settings",direction:"horizontal"}));s.forEach(function(y){var _=document.createElement("div");_.classList.add("ag-chart-mini-thumbnail"),e.addManagedListener(_,"click",function(){e.chartController.setChartType(y.chartType),e.updateSelectedMiniChart()}),e.wrappers[y.chartType]=_,e.createBean(new y(_,e.fills,e.strokes)),g.addItem(_)}),n.appendChild(g.getGui())}),this.updateSelectedMiniChart()},t.prototype.updateSelectedMiniChart=function(){var e=this.chartController.getChartType();for(var n in this.wrappers)this.wrappers[n].classList.toggle("ag-selected",n===e)},t.TEMPLATE='<div class="ag-chart-settings-mini-wrapper"></div>',Mo([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Mo([b.PostConstruct],t.prototype,"init",null),t}(b.Component),gP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qc=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},T0=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.miniCharts=[],n.cardItems=[],n.activePaletteIndex=0,n.palettes=[],n.themes=[],n.chartController=e,n}return gP(t,l),t.prototype.postConstruct=function(){var e=this;this.resetPalettes(),this.ePrevBtn.insertAdjacentElement("afterbegin",b._.createIconNoSpan("previous",this.gridOptionsWrapper)),this.eNextBtn.insertAdjacentElement("afterbegin",b._.createIconNoSpan("next",this.gridOptionsWrapper)),this.addManagedListener(this.ePrevBtn,"click",function(){return e.setActivePalette(e.getPrev(),"left")}),this.addManagedListener(this.eNextBtn,"click",function(){return e.setActivePalette(e.getNext(),"right")}),this.addManagedListener(this.chartController,Md.EVENT_CHART_TYPE_CHANGED,function(){return e.resetPalettes(!0)}),this.scrollSelectedIntoView()},t.prototype.scrollSelectedIntoView=function(){var e=this;setTimeout(function(){var a=e.miniCharts.find(function(s){return!s.getGui().classList.contains("ag-hidden")}).getGui().querySelector(".ag-selected");a&&a.scrollIntoView({block:"nearest"})},250)},t.prototype.resetPalettes=function(e){var n=this,a=this.chartController.getPalettes();b._.shallowCompare(a,this.palettes)&&!e||this.isAnimating||(this.palettes=a,this.themes=this.chartController.getThemes(),this.activePaletteIndex=this.themes.findIndex(function(s){return s===n.chartController.getChartThemeName()}),this.cardItems=[],b._.clearElement(this.eCardSelector),this.destroyMiniCharts(),this.palettes.forEach(function(s,g){var y=n.activePaletteIndex===g,R=n.createBean(new fP(n.chartController,s.fills,s.strokes));n.miniCharts.push(R),n.eMiniChartsContainer.appendChild(R.getGui()),n.addCardLink(g),y?R.updateSelectedMiniChart():R.addCssClass("ag-hidden")}),this.eNavBar.classList.toggle("ag-hidden",this.palettes.length<=1),b._.radioCssClass(this.cardItems[this.activePaletteIndex],"ag-selected","ag-not-selected"))},t.prototype.addCardLink=function(e){var n=this,a=document.createElement("div");a.classList.add("ag-chart-settings-card-item"),this.addManagedListener(a,"click",function(){n.setActivePalette(e,e<n.activePaletteIndex?"left":"right")}),this.eCardSelector.appendChild(a),this.cardItems.push(a)},t.prototype.getPrev=function(){var e=this.activePaletteIndex-1;return e<0&&(e=this.palettes.length-1),e},t.prototype.getNext=function(){var e=this.activePaletteIndex+1;return e>=this.palettes.length&&(e=0),e},t.prototype.setActivePalette=function(e,n){var a=this;if(!this.isAnimating&&this.activePaletteIndex!==e){b._.radioCssClass(this.cardItems[e],"ag-selected","ag-not-selected");var s=this.miniCharts[this.activePaletteIndex],g=s.getGui(),y=this.miniCharts[e],_=y.getGui();s.updateSelectedMiniChart(),y.updateSelectedMiniChart();var E="left"===n?-1:1,R=_.style.left=b._.getAbsoluteWidth(this.getGui())*E+"px";this.activePaletteIndex=e,this.isAnimating=!0;var A="ag-animating";y.removeCssClass("ag-hidden"),s.addCssClass(A),y.addCssClass(A),this.chartController.setChartThemeName(this.themes[e]),window.setTimeout(function(){g.style.left=-parseFloat(R)+"px",_.style.left="0px"},0),window.setTimeout(function(){a.isAnimating=!1,s.removeCssClass(A),y.removeCssClass(A),s.addCssClass("ag-hidden")},300)}},t.prototype.destroyMiniCharts=function(){b._.clearElement(this.eMiniChartsContainer),this.miniCharts=this.destroyBeans(this.miniCharts)},t.prototype.destroy=function(){this.destroyMiniCharts(),l.prototype.destroy.call(this)},t.TEMPLATE='<div class="ag-chart-settings-wrapper">\n            <div ref="eMiniChartsContainer" class="ag-chart-settings-mini-charts-container ag-scrollable-container"></div>\n            <div ref="eNavBar" class="ag-chart-settings-nav-bar">\n                <div ref="ePrevBtn" class="ag-chart-settings-prev">\n                    <button type="button" class="ag-chart-settings-prev-button"></button>\n                </div>\n                <div ref="eCardSelector" class="ag-chart-settings-card-selector"></div>\n                <div ref="eNextBtn" class="ag-chart-settings-next">\n                    <button type="button" class="ag-chart-settings-next-button"></button>\n                </div>\n            </div>\n        </div>',qc([b.Autowired("resizeObserverService")],t.prototype,"resizeObserverService",void 0),qc([b.RefSelector("eMiniChartsContainer")],t.prototype,"eMiniChartsContainer",void 0),qc([b.RefSelector("eNavBar")],t.prototype,"eNavBar",void 0),qc([b.RefSelector("eCardSelector")],t.prototype,"eCardSelector",void 0),qc([b.RefSelector("ePrevBtn")],t.prototype,"ePrevBtn",void 0),qc([b.RefSelector("eNextBtn")],t.prototype,"eNextBtn",void 0),qc([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),Lb=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gb=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},vP=function(l){function t(e){var n=l.call(this)||this;n.tabs=[];var s=e.panels,g=e.chartOptionsService;return n.chartController=e.controller,n.chartOptionsService=g,n.panels=s,n}return Lb(t,l),t.prototype.init=function(){var e=this;this.panels.forEach(function(n){var a=n.replace("chart","").toLowerCase(),s=e.createTab(n,a,e.getPanelClass(a)),g=s.comp;e.tabs.push(s.tab),e.addDestroyFunc(function(){return e.destroyBean(g)})}),this.tabbedLayout=new b.TabbedLayout({items:this.tabs,cssClass:"ag-chart-tabbed-menu",keepScrollPosition:!0}),this.getContext().createBean(this.tabbedLayout)},t.prototype.createTab=function(e,n,a){var s=document.createElement("div");s.classList.add("ag-chart-tab","ag-chart-"+n);var g=new a(this.chartController,this.chartOptionsService);this.getContext().createBean(g),s.appendChild(g.getGui());var y=document.createElement("div"),_=this.chartTranslationService.translate(n);return y.innerText=_,{comp:g,tab:{title:y,titleLabel:_,bodyPromise:b.AgPromise.resolve(s),getScrollableContainer:function(){return s.querySelector(".ag-scrollable-container")||s},name:e}}},t.prototype.showTab=function(e){this.tabbedLayout.showItem(this.tabs[e])},t.prototype.getGui=function(){return this.tabbedLayout&&this.tabbedLayout.getGui()},t.prototype.destroy=function(){this.parentComponent&&this.parentComponent.isAlive()&&this.destroyBean(this.parentComponent),l.prototype.destroy.call(this)},t.prototype.getPanelClass=function(e){switch(e){case t.TAB_DATA:return p0;case t.TAB_FORMAT:return xb;default:return T0}},t.TAB_DATA="data",t.TAB_FORMAT="format",Gb([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Gb([b.PostConstruct],t.prototype,"init",null),t}(b.Component),yP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),mP=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},qw=function(l){function t(e,n,a,s){var g=l.call(this,t.TEMPLATE)||this;return g.eChartContainer=e,g.eMenuPanelContainer=n,g.chartController=a,g.chartOptionsService=s,g.buttons={chartSettings:["menu",function(){return g.showMenu("chartSettings")}],chartData:["menu",function(){return g.showMenu("chartData")}],chartFormat:["menu",function(){return g.showMenu("chartFormat")}],chartLink:["linked",function(y){return g.toggleDetached(y)}],chartUnlink:["unlinked",function(y){return g.toggleDetached(y)}],chartDownload:["save",function(){return g.saveChart()}]},g.tabs=[],g.menuVisible=!1,g}return yP(t,l),t.prototype.postConstruct=function(){this.createButtons(),this.refreshMenuClasses()},t.prototype.isVisible=function(){return this.menuVisible},t.prototype.getToolbarOptions=function(){var e=this,n=["chartSettings","chartData","chartFormat",this.chartController.isChartLinked()?"chartLink":"chartUnlink","chartDownload"],a=this.gridOptionsWrapper.getChartToolbarItemsFunc();a&&(n=a({defaultItems:n}).filter(function(y){return!!e.buttons[y]||(console.warn("AG Grid: '"+y+" is not a valid Chart Toolbar Option"),!1)})),this.chartController.isPivotChart()&&(n=n.filter(function(y){return"chartData"!==y}));var g=["chartUnlink","chartLink","chartDownload"];return this.tabs=n.filter(function(y){return-1===g.indexOf(y)}),n.filter(function(y){return-1!==g.indexOf(y)||e.tabs.length&&y===e.tabs[0]})},t.prototype.toggleDetached=function(e){var n=e.target,a=n.classList.contains("ag-icon-linked");n.classList.toggle("ag-icon-linked",!a),n.classList.toggle("ag-icon-unlinked",a);var g=this.chartTranslationService.translate(a?"chartUnlinkToolbarTooltip":"chartLinkToolbarTooltip");g&&(n.title=g),this.chartController.detachChartRange()},t.prototype.createButtons=function(){var e=this,n=this.getToolbarOptions(),a=this.getGui();n.forEach(function(s){var y=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(e.buttons[s],2),E=y[1],R=b._.createIconNoSpan(y[0],e.gridOptionsWrapper,void 0,!0);R.classList.add("ag-chart-menu-icon");var A=e.chartTranslationService.translate(s+"ToolbarTooltip");A&&(R.title=A),e.addManagedListener(R,"click",E),a.appendChild(R)})},t.prototype.saveChart=function(){this.dispatchEvent({type:t.EVENT_DOWNLOAD_CHART})},t.prototype.createMenuPanel=function(e){var n=this,a=this.gridOptionsWrapper.chartMenuPanelWidth(),s=this.menuPanel=this.createBean(new b.AgPanel({minWidth:a,width:a,height:"100%",closable:!0,hideTitleBar:!0,cssIdentifier:"chart-menu"}));return s.setParentComponent(this),this.eMenuPanelContainer.appendChild(s.getGui()),this.tabbedMenu=this.createBean(new vP({controller:this.chartController,type:this.chartController.getChartType(),panels:this.tabs,chartOptionsService:this.chartOptionsService})),this.addManagedListener(s,b.Component.EVENT_DESTROYED,function(){return n.destroyBean(n.tabbedMenu)}),new b.AgPromise(function(g){window.setTimeout(function(){s.setBodyComponent(n.tabbedMenu),n.tabbedMenu.showTab(e),n.addManagedListener(n.eChartContainer,"click",function(y){n.getGui().contains(y.target)||n.menuVisible&&n.hideMenu()}),g(s)},100)})},t.prototype.showContainer=function(){!this.menuPanel||(this.menuVisible=!0,this.showParent(this.menuPanel.getWidth()),this.refreshMenuClasses())},t.prototype.showMenu=function(e){var n=this.tabs.indexOf(e);this.menuPanel?this.showContainer():this.createMenuPanel(n).then(this.showContainer.bind(this))},t.prototype.hideMenu=function(){var e=this;this.hideParent(),window.setTimeout(function(){e.menuVisible=!1,e.refreshMenuClasses()},500)},t.prototype.refreshMenuClasses=function(){this.eChartContainer.classList.toggle("ag-chart-menu-visible",this.menuVisible),this.eChartContainer.classList.toggle("ag-chart-menu-hidden",!this.menuVisible)},t.prototype.showParent=function(e){this.eMenuPanelContainer.style.minWidth=e+"px"},t.prototype.hideParent=function(){this.eMenuPanelContainer.style.minWidth="0"},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.menuPanel&&this.menuPanel.isAlive()&&this.destroyBean(this.menuPanel)},t.EVENT_DOWNLOAD_CHART="downloadChart",t.TEMPLATE='<div class="ag-chart-menu"></div>',mP([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),mP([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),A0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),If=function(){return If=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},If.apply(this,arguments)},Xw=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},CP=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.chartMenu=e,n}return A0(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.getGui(),"keypress",function(n){"Enter"===n.key&&e.endEditing()}),this.addManagedListener(this.getGui(),"blur",this.endEditing.bind(this))},t.prototype.refreshTitle=function(e,n){var a=this;this.chartController=e,this.chartOptionsService=n;var s=this.chartController.getChartProxy();if(s){for(var g=0;g++;g<this.destroyableChartListeners.length)this.destroyableChartListeners[g]();this.destroyableChartListeners=[]}var y=s.getChart(),_=y.scene.canvas.element,E=this.addManagedListener(_,"dblclick",function(A){var T=y.title;if(T&&T.node.containsPoint(A.offsetX,A.offsetY)){var F=T.node.computeBBox(),I=T.node.inverseTransformPoint(F.x,F.y);a.startEditing(If(If({},F),I))}}),R=this.addManagedListener(_,"mousemove",function(A){var T=y.title,F=T&&T.enabled&&T.node.containsPoint(A.offsetX,A.offsetY);_.style.cursor=F?"pointer":""});this.destroyableChartListeners=[E,R]},t.prototype.startEditing=function(e){if(!this.chartMenu||!this.chartMenu.isVisible()){var a=this.chartController.getChartProxy().getChart().width,s=Math.max(Math.min(e.width+20,a),300),g=this.getGui();g.classList.add("currently-editing");var y=g.style;y.fontFamily=this.chartOptionsService.getChartOption("title.fontFamily"),y.fontWeight=this.chartOptionsService.getChartOption("title.fontWeight"),y.fontStyle=this.chartOptionsService.getChartOption("title.fontStyle"),y.fontSize=this.chartOptionsService.getChartOption("title.fontSize")+"px",y.color=this.chartOptionsService.getChartOption("title.color");var _=this.chartOptionsService.getChartOption("title.text"),E=_===this.chartTranslationService.translate("titlePlaceholder")?"":_;g.value=E;var R=g.getBoundingClientRect();y.left=Math.round(e.x+e.width/2-s/2)+"px",y.top=Math.round(e.y+e.height/2-R.height/2)+"px",y.width=Math.round(s)+"px",g.focus()}},t.prototype.endEditing=function(){var e=this.getGui().value;this.chartOptionsService.setChartOption("title.text",e),this.eventService.dispatchEvent({type:"chartTitleEdit"}),this.removeCssClass("currently-editing")},t.TEMPLATE='<input\n            class="ag-chart-title-edit"\n            style="padding:0; border:none; border-radius: 0; min-height: 0; text-align: center;" />\n        ',Xw([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Xw([b.PostConstruct],t.prototype,"init",null),t}(b.Component);function by(l,t){return!1!==t.clone&&t.isMergeableObject(l)?hn(function wP(l){return Array.isArray(l)?[]:{}}(l),l,t):l}function _P(l,t,e){return l.concat(t).map(function(n){return by(n,e)})}function Nf(l){return Object.keys(l).concat(function Vb(l){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(l).filter(function(t){return l.propertyIsEnumerable(t)}):[]}(l))}function M0(l,t){try{return t in l}catch(e){return!1}}function SP(l){return function F0(l){return!!l&&"object"==typeof l}(l)&&!function I0(l){var t=Object.prototype.toString.call(l);return"[object RegExp]"===t||"[object Date]"===t}(l)}function hn(l,t,e){(e=e||{}).arrayMerge=e.arrayMerge||_P,e.isMergeableObject=e.isMergeableObject||SP,e.cloneUnlessOtherwiseSpecified=by;var n=Array.isArray(t);return n===Array.isArray(l)?n?e.arrayMerge(l,t,e):function Oy(l,t,e){var n={};return e.isMergeableObject(l)&&Nf(l).forEach(function(a){n[a]=by(l[a],e)}),Nf(t).forEach(function(a){(function Ey(l,t){return M0(l,t)&&!(Object.hasOwnProperty.call(l,t)&&Object.propertyIsEnumerable.call(l,t))})(l,a)||(n[a]=M0(l,a)&&e.isMergeableObject(t[a])?function x0(l,t){if(!t.customMerge)return hn;var e=t.customMerge(l);return"function"==typeof e?e:hn}(a,e)(l[a],t[a],e):by(t[a],e))}),n}(l,t,e):by(t,e)}var Lf=function(){return Lf=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Lf.apply(this,arguments)},N0=function(){function l(t){if(this.chartProxyParams=t,this.chartType=t.chartType,this.crossFiltering=t.crossFiltering,this.crossFilterCallback=t.crossFilterCallback,this.standaloneChartType=Ms(this.chartType),this.chartProxyParams.chartOptionsToRestore){this.chartOptions=this.chartProxyParams.chartOptionsToRestore;var e={overrides:this.chartOptions};this.chartTheme=Df(Lf({baseTheme:this.getSelectedTheme()},e))}else this.chartTheme=this.createChartTheme(),this.chartOptions=this.convertConfigToOverrides(this.chartTheme.config)}return l.prototype.recreateChart=function(){var t=this;this.chart&&this.destroyChart(),this.chart=this.createChart(),this.crossFiltering&&this.chart.addEventListener("click",function(n){return t.crossFilterCallback(n,!0)})},l.prototype.getChart=function(){return this.chart},l.prototype.createChartTheme=function(){var e=this.getSelectedTheme(),n=this.isStockTheme(e),a=this.chartProxyParams.getGridOptionsChartThemeOverrides(),s=this.chartProxyParams.apiChartThemeOverrides;if(a||s){var g={overrides:l.mergeThemeOverrides(a,s)};return Df(n?Lf({baseTheme:e},g):hn(this.lookupCustomChartTheme(e),g))}return Df(n?e:this.lookupCustomChartTheme(e))},l.prototype.isStockTheme=function(t){return b._.includes(Object.keys(Qe),t)},l.prototype.getSelectedTheme=function(){var t=this.chartProxyParams.getChartThemeName(),e=this.chartProxyParams.getChartThemes();return b._.includes(e,t)||(t=e[0]),t},l.prototype.lookupCustomChartTheme=function(t){var e=this.chartProxyParams.customChartThemes,n=e&&e[t];return n||console.warn("AG Grid: no stock theme exists with the name '"+t+"' and no custom chart theme with that name was supplied to 'customChartThemes'"),n},l.mergeThemeOverrides=function(t,e){return t?e?hn(t,e):t:e},l.prototype.downloadChart=function(){var t=this.chart;t.scene.download(t.title?t.title.text:"chart")},l.prototype.getChartImageDataURL=function(t){return this.chart.scene.getDataURL(t)},l.prototype.getChartOptions=function(){return this.chartOptions},l.prototype.transformData=function(t,e){return this.chartProxyParams.grouping||this.chart.axes.filter(function(a){return a instanceof eo}).length<1?t:t.map(function(a,s){var g=a[e],y=g&&g.toString?g.toString():"",_=Lf({},a);return _[e]={id:s,value:g,toString:function(){return y}},_})},l.prototype.convertConfigToOverrides=function(t){var e=["columnLineCombo","areaColumnCombo","customCombo"].includes(this.chartType),a={};return(e?["line","area","column","cartesian"]:[this.standaloneChartType]).forEach(function(s){var g=hn({},t[s]);g.series=g.series[s],"scatter"===s&&(g.paired=!0),a[s]=g}),a},l.prototype.destroy=function(){this.destroyChart()},l.prototype.destroyChart=function(){this.chart&&(this.chart.destroy(),this.chart=void 0)},l}(),io=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fs=function(l){function t(e){var n=l.call(this,e)||this;return n.axisTypeToClassMap={number:Oo,category:eo,groupedCategory:Pi,time:yd},n}return io(t,l),t.prototype.updateAxes=function(e){if(e.grouping)this.axisTypeToClassMap[this.xAxisType]!==Pi&&(this.xAxisType="groupedCategory",this.recreateChart());else{var n=t.isTimeAxis(e)?"time":"category";n!==this.xAxisType&&(this.xAxisType=n,this.recreateChart())}},t.prototype.updateLabelRotation=function(e){var n=this.chart.axes[0].label;if(e===Yp.DEFAULT_CATEGORY)n.rotation=0;else{var a=this.getAxesOptions()[this.xAxisType];n.rotation=a.label.rotation}this.chart.layoutPending=!0},t.prototype.getAxesOptions=function(e){return void 0===e&&(e=this.standaloneChartType),this.chartOptions[e].axes},t.prototype.processDataForCrossFiltering=function(e,n,a){var s=n,g=!1;return this.crossFiltering&&(e.forEach(function(_){_[n+"-total"]=_[n]+_[n+"-filtered-out"],_[n+"-filtered-out"]>0&&(g=!0)}),a.getCrossFilteringContext().lastSelectedChartId===a.chartId&&(s=n+"-total")),{yKey:s,atLeastOneSelectedPoint:g}},t.prototype.updateSeriesForCrossFiltering=function(e,n,a,s,g){if(this.crossFiltering){e.marker.enabled=!0,e.marker.formatter=function(R){return{fill:R.highlighted?"yellow":R.fill,size:R.highlighted?12:R.datum[n]>0?8:0}},a.tooltip.delay=500;var E=s.getCrossFilteringContext().lastSelectedChartId===s.chartId&&g;e instanceof Rd&&(e.fillOpacity=E?.3:1),e instanceof xo&&(e.strokeOpacity=E?.3:1),e.addEventListener("nodeClick",this.crossFilterCallback)}},t.isTimeAxis=function(e){if(e.category&&e.category.chartDataType)return"time"===e.category.chartDataType;var n=e.data[0];return(n&&n[e.category.id])instanceof Date},t}(N0);function Gf(l,t){var e=parseInt(l.slice(1,3),16),n=parseInt(l.slice(3,5),16),a=parseInt(l.slice(5,7),16);return t?"rgba("+e+", "+n+", "+a+", "+t+")":"rgba("+e+", "+n+", "+a+")"}function Bb(l,t){return l.map(function(e){var n=b.Color.fromString(e);return new b.Color(n.r,n.g,n.b,t).toHexString()})}var fA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oo=function(){return oo=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},oo.apply(this,arguments)},Hb=function(l){function t(e){var n=l.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return fA(t,l),t.prototype.createChart=function(){var e=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(["bar"===this.standaloneChartType,this.isNormalised()],2),a=e[1];return Ai.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(e[0],a),series:this.getSeries(a)})},t.prototype.update=function(e){this.updateAxes(e);var n=this.chart.series[0];this.crossFiltering?this.updateCrossFilteringSeries(n,e):(n.fills=this.chartTheme.palette.fills,n.strokes=this.chartTheme.palette.strokes),n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(a){return a.colId}),n.yNames=e.fields.map(function(a){return a.displayName}),this.updateLabelRotation(e.category.id)},t.prototype.updateCrossFilteringSeries=function(e,n){var a=n.fields;a.forEach(function(E){var R=oo({},E);R.colId=E.colId+"-filtered-out",a.push(R)});var s=this.chartTheme.palette,g=[];s.fills.forEach(function(E){g.push(E),g.push(Gf(E,"0.3"))}),e.fills=g,s.strokes.forEach(function(E){g.push(E),g.push(Gf(E,"0.3"))}),e.strokes=[],e.highlightStyle.fill=void 0;var _=n.fields.map(function(E){return E.colId});e.hideInLegend=_.filter(function(E){return-1!==E.indexOf("-filtered-out")}),this.chart.legend.addEventListener("click",function(E){e.toggleSeriesItem(E.itemId+"-filtered-out",E.enabled)}),this.chart.tooltip.delay=500,e.addEventListener("nodeClick",this.crossFilterCallback)},t.prototype.getAxes=function(e,n){var a=this.getAxesOptions(),s=[oo(oo({},hn(a[this.xAxisType],a[this.xAxisType].bottom)),{type:this.xAxisType,position:e?At.Left:At.Bottom}),oo(oo({},hn(a[this.yAxisType],a[this.yAxisType].left)),{type:this.yAxisType,position:e?At.Bottom:At.Left})];if(n){var g=s[1];g.label=oo(oo({},g.label),{formatter:function(y){return Math.round(y.value)+"%"}})}return s},t.prototype.getSeries=function(e){var a=!this.crossFiltering&&b._.includes(["groupedColumn","groupedBar"],this.chartType);return[oo(oo({},this.chartOptions[this.standaloneChartType].series),{type:this.standaloneChartType,grouped:a,normalizedTo:e?100:void 0})]},t.prototype.isNormalised=function(){return!this.crossFiltering&&b._.includes(["normalizedColumn","normalizedBar"],this.chartType)},t}(Fs),EP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mi=function(){return Mi=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Mi.apply(this,arguments)},OP=function(l){function t(e){var n=l.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return EP(t,l),t.prototype.createChart=function(){return Ai.create({type:"area",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){if(this.updateAxes(e),"area"===this.chartType)this.updateAreaChart(e);else{var n=this.chart.series[0];if(!n){var a=Mi(Mi({},this.chartOptions[this.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===this.chartType?100:void 0});if(!(n=Ai.createComponent(Mi({},a),"area.series")))return;this.chart.addSeries(n)}n.data=this.transformData(e.data,e.category.id),n.xKey=e.category.id,n.xName=e.category.name,n.yKeys=e.fields.map(function(s){return s.colId}),n.yNames=e.fields.map(function(s){return s.displayName}),n.fills=this.chartTheme.palette.fills,n.strokes=this.chartTheme.palette.strokes}this.updateLabelRotation(e.category.id)},t.prototype.updateAreaChart=function(e){var n=this,a=this.chart;if(0!==e.fields.length){var _,s=e.fields.map(function(T){return T.colId}),g=a.series.reduceRight(function(T,F,I){var G=F.yKeys[0];return s.indexOf(G)===I?T.set(G,F):a.removeSeries(F),T},new Map),y=this.transformData(e.data,e.category.id),E=this.chartTheme.palette,R=E.fills,A=E.strokes;e.fields.forEach(function(T,F){var I=n.processDataForCrossFiltering(y,T.colId,e),G=I.yKey,j=I.atLeastOneSelectedPoint,U=g.get(T.colId),z=R[F%R.length],Y=A[F%A.length];if(U)U.data=y,U.xKey=e.category.id,U.xName=e.category.name,U.yKeys=[G],U.yNames=[T.displayName],U.fills=[z],U.strokes=[Y];else{var se=Mi(Mi({},n.chartOptions[n.standaloneChartType].series),{type:"area",normalizedTo:"normalizedArea"===n.chartType?100:void 0}),ae=Mi(Mi({},se),{data:y,xKey:e.category.id,xName:e.category.name,yKeys:[G],yNames:[T.displayName],fills:[z],strokes:[Y],marker:Mi(Mi({},se.marker),{fill:z,stroke:Y})});U=Ai.createComponent(ae,"area.series"),a.addSeriesAfter(U,_)}n.updateSeriesForCrossFiltering(U,T.colId,a,e,j),_=U})}else a.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions(),n=[Mi(Mi({},hn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:At.Bottom,paddingInner:1,paddingOuter:0}),Mi(Mi({},hn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:At.Left})];return"time"===this.xAxisType&&(delete n[0].paddingInner,delete n[0].paddingOuter),n},t}(Fs),RP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),qa=function(){return qa=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},qa.apply(this,arguments)},L0=function(l){function t(e){var n=l.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return RP(t,l),t.prototype.createChart=function(){return Ai.create({type:"line",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var n=this;if(0!==e.fields.length){this.updateAxes(e);var E,a=this.chart,s=e.fields,g=s.map(function(F){return F.colId}),y=this.transformData(e.data,e.category.id),_=a.series.reduceRight(function(F,I,G){var j=I.yKey;return g.indexOf(j)===G?F.set(j,I):a.removeSeries(I),F},new Map),R=this.chartTheme.palette,A=R.fills,T=R.strokes;s.forEach(function(F,I){var G=n.processDataForCrossFiltering(y,F.colId,e),j=G.yKey,U=G.atLeastOneSelectedPoint,z=_.get(F.colId),Y=A[I%A.length],J=T[I%T.length];if(z)z.title=F.displayName,z.data=y,z.xKey=e.category.id,z.xName=e.category.name,z.yKey=j,z.yName=F.displayName,z.marker.fill=Y,z.marker.stroke=J,z.stroke=Y;else{var se=n.chartOptions[n.standaloneChartType].series,ae=qa(qa({},se),{type:"line",title:F.displayName,data:y,xKey:e.category.id,xName:e.category.name,yKey:j,yName:F.displayName,stroke:Y,marker:qa(qa({},se.marker),{fill:Y,stroke:J})});z=Ai.createComponent(ae,"line.series"),a.addSeriesAfter(z,E)}n.updateSeriesForCrossFiltering(z,F.colId,a,e,U),E=z}),this.updateLabelRotation(e.category.id)}else this.chart.removeAllSeries()},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[qa(qa({},hn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:At.Bottom}),qa(qa({},hn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:At.Left})]},t}(Fs),G0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ry=function(l){function t(e){return l.call(this,e)||this}return G0(t,l),t.prototype.addCrossFilteringTooltipRenderer=function(e){e.tooltip.renderer=function(n){return{content:n.datum[n.labelKey]+": "+n.angleValue*n.datum[n.radiusKey]}}},t}(N0),Wb=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qw=function(){return Qw=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Qw.apply(this,arguments)},k0=function(l){function t(e){var n=l.call(this,e)||this;return n.recreateChart(),n}return Wb(t,l),t.prototype.createChart=function(){return Ai.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var n=this.chart;if(0!==e.fields.length){var a=e.fields[0],s=a;if(this.crossFiltering){var g=e.fields;g.forEach(function(T){var F=Qw({},T);F.colId=T.colId+"-filtered-out",g.push(F)});var y=g[1];e.data.forEach(function(T){T[a.colId+"-total"]=T[a.colId]+T[y.colId],T[a.colId]=T[a.colId]/T[a.colId+"-total"],T[y.colId]=1});var _=n.series[1],E=y;_=this.updateSeries(n,_,s,E,e,void 0),this.updateSeries(n,n.series[0],s,E=s,e,_)}else this.updateSeries(n,n.series[0],s,s,e,void 0)}else n.removeAllSeries()},t.prototype.updateSeries=function(e,n,a,s,g,y){var E=this.chartOptions[this.standaloneChartType].series,R=n;if((n&&n.angleKey)!==s.colId){e.removeSeries(n);var A=Qw(Qw({},E),{type:"pie",angleKey:this.crossFiltering?a.colId+"-total":a.colId,radiusKey:this.crossFiltering?s.colId:void 0});(R=Ai.createComponent(A,"pie.series")).fills=this.chartTheme.palette.fills,R.strokes=this.chartTheme.palette.strokes,R.callout.colors=this.chartTheme.palette.strokes,this.crossFiltering&&R&&!R.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(R)}return R.angleName=s.displayName,R.labelKey=g.category.id,R.labelName=g.category.name,R.data=g.data,this.crossFiltering&&(R.radiusMin=0,R.radiusMax=1,y?e.legend.addEventListener("click",function(F){y&&y.toggleSeriesItem(F.itemId,F.enabled)}):(R.fills=Bb(R.fills,.3),R.strokes=Bb(R.strokes,.3),R.callout.colors=Bb(R.strokes,.3),R.showInLegend=!1),e.tooltip.delay=500,R.highlightStyle.fill=void 0,R.addEventListener("nodeClick",this.crossFilterCallback)),e.addSeries(R),R},t}(Ry),DP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xc=function(){return Xc=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Xc.apply(this,arguments)},Zw=function(l){function t(e){var n=l.call(this,e)||this;return n.recreateChart(),n}return DP(t,l),t.prototype.createChart=function(){return Ai.create({type:"pie",container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var n=this;if(0!==e.fields.length){var a=this.chart,s=e.fields.map(function(T){return T.colId}),g={};a.series.forEach(function(T){var F=T,I=F.angleKey;b._.includes(s,I)&&(g[I]=F)});var y=this.chartTheme.palette.fills,_=this.chartTheme.palette.strokes,E=this.chartOptions[this.standaloneChartType].series,R=e.fields.length,A=0;e.fields.forEach(this.crossFiltering?function(T,F){var I=Xc({},T);I.colId=T.colId+"-filtered-out",e.data.forEach(function(z){z[T.colId+"-total"]=z[T.colId]+z[I.colId],z[T.colId]=z[T.colId]/z[T.colId+"-total"],z[I.colId]=1});var G=n.updateSeries({seriesMap:g,angleField:T,field:I,seriesDefaults:E,index:F,params:e,fills:y,strokes:_,doughnutChart:a,offset:A,numFields:R,opaqueSeries:void 0}),j=G.updatedOffset;n.updateSeries({seriesMap:g,angleField:T,field:T,seriesDefaults:E,index:F,params:e,fills:y,strokes:_,doughnutChart:a,offset:A,numFields:R,opaqueSeries:G.pieSeries}),A=j}:function(T,F){var I=n.updateSeries({seriesMap:g,angleField:T,field:T,seriesDefaults:E,index:F,params:e,fills:y,strokes:_,doughnutChart:a,offset:A,numFields:R,opaqueSeries:void 0}).updatedOffset;A=I}),a.series=b._.values(g)}else this.chart.removeAllSeries()},t.prototype.updateSeries=function(e){var n=e.seriesMap[e.field.colId],a=Xc(Xc({},e.seriesDefaults),{type:"pie",angleKey:this.crossFiltering?e.angleField.colId+"-total":e.angleField.colId,radiusKey:this.crossFiltering?e.field.colId:void 0,title:Xc(Xc({},e.seriesDefaults.title),{text:e.seriesDefaults.title.text||e.field.displayName})}),s=n||Ai.createComponent(a,"pie.series");s.title&&(s.title.showInLegend=e.numFields>1),n||this.crossFiltering&&!s.tooltip.renderer&&this.addCrossFilteringTooltipRenderer(s),s.angleName=e.field.displayName,s.labelKey=e.params.category.id,s.labelName=e.params.category.name,s.data=e.params.data,this.crossFiltering?(s.radiusMin=0,s.radiusMax=1,e.opaqueSeries?(e.doughnutChart.legend.addEventListener("click",function(_){e.opaqueSeries&&e.opaqueSeries.toggleSeriesItem(_.itemId,_.enabled)}),s.fills=e.fills,s.strokes=e.strokes,s.callout.colors=e.strokes):(s.fills=e.fills.map(function(_){return Gf(_,"0.3")}),s.strokes=e.strokes.map(function(_){return Gf(_,"0.3")}),s.showInLegend=!1),s.highlightStyle.fill=void 0,s.addEventListener("nodeClick",this.crossFilterCallback),e.doughnutChart.tooltip.delay=500):(s.fills=e.fills,s.strokes=e.strokes,s.callout.colors=e.strokes);var y=e.numFields>1?20:40;return s.outerRadiusOffset=e.offset,e.offset-=y,s.innerRadiusOffset=e.offset,e.offset-=y,n||(e.seriesMap[e.field.colId]=s),{updatedOffset:e.offset,pieSeries:s}},t}(Ry),V0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Mu=function(){return Mu=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Mu.apply(this,arguments)},jb=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Jw=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(jb(arguments[t]));return l},gA=function(l){function t(e){var n=l.call(this,e)||this;return n.xAxisType="number",n.yAxisType="number",n.recreateChart(),n}return V0(t,l),t.prototype.createChart=function(){return Ai.create({type:"scatter",container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes()})},t.prototype.update=function(e){var n=this;if(e.fields.length<2)this.chart.removeAllSeries();else{var a=e.fields;this.crossFiltering&&a.forEach(function(z){var Y=Mu({},z);Y.colId=z.colId+"-filtered-out",a.push(Y)});var y,g=this.getSeriesDefinitions(a,this.chartOptions[this.standaloneChartType].paired);this.crossFiltering&&(y=this.getCrossFilteringDataDomain(g,e));var _=this.chart,E=_.series.reduceRight(function(z,Y,J){return g.findIndex(function(ae){return ae.xField.colId===Y.xKey&&ae.yField.colId===Y.yKey&&(!ae.sizeField&&!Y.sizeKey||ae.sizeField&&ae.sizeField.colId===Y.sizeKey)})===J?z.set(Y.yKey,Y):_.removeSeries(Y),z},new Map),R=this.chartTheme.palette,A=R.fills,T=R.strokes;if(this.crossFiltering){var F=[];A.forEach(function(z){F.push(z),F.push(Gf(z,"0.3"))}),A=F;var I=[];T.forEach(function(z){I.push(z),I.push(Gf(z,"0.3"))}),T=I}var j,G=e.category.id===Yp.DEFAULT_CATEGORY?void 0:e.category,U=this.chartOptions[this.standaloneChartType].series;g.forEach(function(z,Y){var J=E.get(z.yField.colId),se=J||Ai.createComponent(Mu(Mu({},U),{type:"scatter"}),"scatter.series");if(se){var ce=z.xField,pe=z.yField,fe=z.sizeField;se.title=pe.displayName+" vs "+ce.displayName,se.xKey=ce.colId,se.xName=ce.displayName,se.yKey=pe.colId,se.yName=pe.displayName,se.data=e.data,se.fill=A[Y%A.length],se.stroke=T[Y%T.length],fe?(se.sizeKey=fe.colId,se.sizeName=fe.displayName):se.sizeKey=void 0,G?(se.labelKey=G.id,se.labelName=G.name):se.labelKey=se.yKey;var we=pe.colId.indexOf("-filtered-out")>-1;n.crossFiltering&&(we||_.legend.addEventListener("click",function(Fe){se.toggleSeriesItem(Fe.itemId+"-filtered-out",Fe.enabled)}),y&&(se.marker.domain=y),_.tooltip.delay=500,we&&(se.showInLegend=!1),se.addEventListener("nodeClick",n.crossFilterCallback)),J||_.addSeriesAfter(se,j),j=se}})}},t.prototype.getSeriesDefinitions=function(e,n){if(e.length<2)return[];var a="bubble"===this.chartType;if(n)return a?e.map(function(g,y){return y%3==0?{xField:g,yField:e[y+1],sizeField:e[y+2]}:null}).filter(function(g){return g&&g.yField&&g.sizeField}):e.map(function(g,y){return y%2==0?{xField:g,yField:e[y+1]}:null}).filter(function(g){return g&&g.yField});var s=e[0];return a?e.map(function(g,y){return y%2==1?{xField:s,yField:g,sizeField:e[y+1]}:null}).filter(function(g){return g&&g.sizeField}):e.filter(function(g,y){return y>0}).map(function(g){return{xField:s,yField:g}})},t.prototype.getCrossFilteringDataDomain=function(e,n){var a;if(e[0]&&e[0].sizeField){var s=e[0].sizeField.colId,g=[];n.data.forEach(function(y){void 0!==y[s]&&g.push(y[s]),void 0!==y[s+"-filtered-out"]&&g.push(y[s+"-filtered-out"])}),g.length>0&&(a=[Math.min.apply(Math,Jw(g)),Math.max.apply(Math,Jw(g))])}return a},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[Mu(Mu({},hn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:At.Bottom}),Mu(Mu({},hn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:At.Left})]},t}(Fs),PP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Qc=function(){return Qc=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Qc.apply(this,arguments)},H0=function(l){function t(e){var n=l.call(this,e)||this;return n.xAxisType="number",n.yAxisType="number",n.recreateChart(),n}return PP(t,l),t.prototype.createChart=function(){return Ai.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme,axes:this.getAxes(),series:[Qc(Qc({},this.chartOptions[this.standaloneChartType].series),{type:"histogram"})]})},t.prototype.update=function(e){var n=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s}(e.fields,1),a=n[0],g=this.chart.series[0];g.data=e.data,g.xKey=a.colId,g.xName=a.displayName,g.areaPlot=!1,g.fill=this.chartTheme.palette.fills[0],g.stroke=this.chartTheme.palette.strokes[0]},t.prototype.getAxes=function(){var e=this.getAxesOptions();return[Qc(Qc({},hn(e[this.xAxisType],e[this.xAxisType].bottom)),{type:this.xAxisType,position:At.Bottom}),Qc(Qc({},hn(e[this.yAxisType],e[this.yAxisType].left)),{type:this.yAxisType,position:At.Left})]},t}(Fs),TP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ub=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},W0=function(l){function t(e){var n=l.call(this)||this;return n.chartController=e,n}return TP(t,l),t.prototype.getChartType=function(){return this.chartController.getChartType()},t.prototype.getChartOption=function(e){return b._.get(this.getChart(),e,void 0)},t.prototype.setChartOption=function(e,n){var a=this;this.chartController.getChartSeriesTypes().forEach(function(s){var g=b._.get(a.getChartOptions(),""+s,void 0);b._.set(g,e,n)}),b._.set(this.getChart(),e,n),this.raiseChartOptionsChangedEvent()},t.prototype.getAxisProperty=function(e){return b._.get(this.getChart().axes[0],e,void 0)},t.prototype.setAxisProperty=function(e,n){var a=this,s=this.getChart();s.axes.forEach(function(g){a.updateAxisOptions(g,e,n),b._.set(g,e,n)}),s.layoutPending=!0,this.raiseChartOptionsChangedEvent()},t.prototype.getLabelRotation=function(e){var n=this.getAxis(e);return b._.get(n,"label.rotation",void 0)},t.prototype.setLabelRotation=function(e,n){var a="label.rotation",s=this.getAxis(e);b._.set(s,a,n),this.getChart().layoutPending=!0,s&&!this.chartController.isDefaultCategorySelected()&&(this.updateAxisOptions(s,a,n),this.raiseChartOptionsChangedEvent())},t.prototype.getSeriesOption=function(e,n){var a=this.getChart().series.find(function(s){return t.isMatchingSeries(n,s)});return b._.get(a,e,void 0)},t.prototype.setSeriesOption=function(e,n,a){var s=this.getChartOptions();s[a]||(s[a]={}),b._.set(s[a].series,e,n),this.getChart().series.forEach(function(g){t.isMatchingSeries(a,g)&&b._.set(g,e,n)}),this.raiseChartOptionsChangedEvent()},t.prototype.getPairedMode=function(){var e=Ms(this.getChartType());return b._.get(this.getChartOptions(),e+".paired",void 0)},t.prototype.setPairedMode=function(e){var n=Ms(this.getChartType()),a=b._.get(this.getChartOptions(),""+n,void 0);b._.set(a,"paired",e)},t.prototype.getChart=function(){return this.chartController.getChartProxy().getChart()},t.prototype.getChartOptions=function(){return this.chartController.getChartProxy().getChartOptions()},t.prototype.getAxis=function(e){var n=this.getChart();if(n.axes&&!(n.axes.length<1))return"xAxis"===e?n.axes&&"x"===n.axes[0].direction?n.axes[0]:n.axes[1]:n.axes&&"y"===n.axes[1].direction?n.axes[1]:n.axes[0]},t.prototype.updateAxisOptions=function(e,n,a){var s=Ms(this.getChartType()),g=this.getChartOptions()[s].axes;e instanceof Oo?b._.set(g.number,n,a):e instanceof eo?b._.set(g.category,n,a):e instanceof yd?b._.set(g.time,n,a):e instanceof Pi&&b._.set(g.groupedCategory,n,a)},t.prototype.raiseChartOptionsChangedEvent=function(){var e=this.chartController.getChartModel(),n=Object.freeze({type:b.Events.EVENT_CHART_OPTIONS_CHANGED,chartId:e.chartId,chartType:e.chartType,chartThemeName:e.chartThemeName,chartOptions:e.chartOptions,api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(n)},t.isMatchingSeries=function(e,n){return"area"===e&&n instanceof Rd||"bar"===e&&n instanceof Sf||"column"===e&&n instanceof Sf||"histogram"===e&&n instanceof Bc||"line"===e&&n instanceof xo||"pie"===e&&n instanceof El||"scatter"===e&&n instanceof ry},t.prototype.destroy=function(){l.prototype.destroy.call(this)},Ub([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ub([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),t}(b.BeanStub),AP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ia=function(){return ia=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},ia.apply(this,arguments)},j0=function(l){function t(e){var n=l.call(this,e)||this;return n.xAxisType=e.grouping?"groupedCategory":"category",n.yAxisType="number",n.recreateChart(),n}return AP(t,l),t.prototype.createChart=function(){return Ai.create({container:this.chartProxyParams.parentElement,theme:this.chartTheme})},t.prototype.update=function(e){var s={data:this.transformData(e.data,e.category.id)};this.seriesChanged(e)&&(s.series=this.getSeriesOptions(e),s.axes=this.getAxes(e)),Ai.update(this.chart,s),this.updateLabelRotation(e.category.id)},t.prototype.seriesChanged=function(e){var n=e.seriesChartTypes,a=!b._.areEqual(this.prevSeriesChartTypes,n,function(E,R){return E.colId===R.colId&&E.chartType===R.chartType&&E.secondaryAxis===R.secondaryAxis});this.prevSeriesChartTypes=n.map(function(E){return ia({},E)});var s=e.fields.map(function(E){return E.colId}).join(),g=this.prevFields!==s;this.prevFields=s;var y=e.category.id,_=this.prevCategoryId!==y;return this.prevCategoryId=y,a||g||_},t.prototype.getSeriesOptions=function(e){var n=this,s=e.category,g=e.seriesChartTypes;return e.fields.map(function(y){var _=g.find(function(R){return R.colId===y.colId});if(_){var E=_.chartType;return ia(ia({},n.extractSeriesOverrides(_)),{type:Ms(E),xKey:s.id,yKey:y.colId,yName:y.displayName,grouped:["groupedColumn","groupedBar","groupedArea"].includes(E),stacked:["stackedArea","stackedColumn"].includes(E)})}})},t.prototype.getAxes=function(e){var n=this;this.xAxisType=e.grouping?"groupedCategory":"category";var a=e?e.fields:[],s=new Map(a.map(function(I){return[I.colId,I]})),g=this.getYKeys(a,e.seriesChartTypes),y=g.primaryYKeys,_=g.secondaryYKeys,E=this.getAxisOptions(),A=E.leftOptions,T=E.rightOptions,F=[ia(ia({},E.bottomOptions),{type:this.xAxisType,position:At.Bottom,gridStyle:[{strokeWidth:0}]})];return y.length>0&&F.push(ia(ia({},A),{type:this.yAxisType,keys:y,position:At.Left,title:ia({},hn(A.title,{enabled:!0,text:y.map(function(I){var G=s.get(I);return G?G.displayName:I}).join(" / ")}))})),_.length>0&&_.forEach(function(I,G){var j=s.get(I);if(j&&j.colId===I){var z=ia(ia({},T),{type:n.yAxisType,keys:[I],position:At.Right,title:ia({},hn(T.title,{enabled:!0,text:j?j.displayName:I}))});!y.some(function(se){return!!s.get(se)})&&G===_.length-1||(z.gridStyle=[{strokeWidth:0}]),F.push(z)}}),F},t.prototype.getAxisOptions=function(){var e=this.getAxesOptions("cartesian");return{bottomOptions:hn(e[this.xAxisType],e[this.xAxisType].bottom),leftOptions:hn(e[this.yAxisType],e[this.yAxisType].left),rightOptions:hn(e[this.yAxisType],e[this.yAxisType].right)}},t.prototype.getYKeys=function(e,n){var a=[],s=[];return e.forEach(function(g){var y=g.colId,_=n.find(function(E){return E.colId===y});_&&(_.secondaryAxis?s.push(y):a.push(y))}),{primaryYKeys:a,secondaryYKeys:s}},t.prototype.extractSeriesOverrides=function(e){var n=this.chartOptions[Ms(e.chartType)].series;return delete n.yKeys,delete n.yNames,n},t}(Fs),xP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fo=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},zb=function(l){function t(e){var n=l.call(this,t.TEMPLATE)||this;return n.params=e,n}return xP(t,l),t.prototype.init=function(){var e=this.gridOptionsWrapper.getChartThemes();if(e.length<1)throw new Error("Cannot create chart: no chart themes are available to be used.");var n=this.params.chartThemeName;b._.includes(e,n)||(n=e[0]);var a={chartId:this.params.chartId,pivotChart:this.params.pivotChart,chartType:this.params.chartType,chartThemeName:n,aggFunc:this.params.aggFunc,cellRange:this.params.cellRange,suppressChartRanges:this.params.suppressChartRanges,unlinkChart:this.params.unlinkChart,crossFiltering:this.params.crossFiltering,seriesChartTypes:this.params.seriesChartTypes},s=this.gridOptionsWrapper.isEnableRtl();this.addCssClass(s?"ag-rtl":"ag-ltr");var g=this.createBean(new Yp(a));this.chartController=this.createManagedBean(new Md(g)),this.validateCustomThemes(),this.createChart(),this.params.insideDialog&&this.addDialog(),this.addMenu(),this.addTitleEditComp(),this.addManagedListener(this.getGui(),"focusin",this.setActiveChartCellRange.bind(this)),this.addManagedListener(this.chartController,Md.EVENT_CHART_UPDATED,this.refresh.bind(this)),this.chartMenu&&this.addManagedListener(this.chartMenu,qw.EVENT_DOWNLOAD_CHART,this.downloadChart.bind(this)),this.refresh(),this.raiseChartCreatedEvent()},t.prototype.validateCustomThemes=function(){var e=this.gridOptionsWrapper.getChartThemes(),n=this.gridOptionsWrapper.getCustomChartThemes();n&&b._.getAllKeysInObjects([n]).forEach(function(a){b._.includes(e,a)||console.warn("AG Grid: a custom chart theme with the name '"+a+"' has been supplied but not added to the 'chartThemes' list")})},t.prototype.createChart=function(){var e=this;this.chartProxy&&this.chartProxy.destroy();var a=this.chartController.getChartType(),s={chartType:a,getChartThemeName:this.getChartThemeName.bind(this),getChartThemes:this.getChartThemes.bind(this),customChartThemes:this.gridOptionsWrapper.getCustomChartThemes(),getGridOptionsChartThemeOverrides:this.getGridOptionsChartThemeOverrides.bind(this),apiChartThemeOverrides:this.params.chartThemeOverrides,crossFiltering:this.params.crossFiltering,crossFilterCallback:function(y,_){e.params.crossFilteringContext.lastSelectedChartId=_?"":e.chartController.getChartId(),e.crossFilterService.filter(y,_)},parentElement:this.eChart,grouping:this.chartController.isGrouping(),chartOptionsToRestore:this.params.chartOptionsToRestore,seriesChartTypes:this.chartController.getSeriesChartTypes()};if(this.params.chartOptionsToRestore=void 0,this.chartType=a,this.chartThemeName=this.chartController.getChartThemeName(),this.chartProxy=t.createChartProxy(s),this.chartProxy){var g=this.eChart.querySelector("canvas");g&&g.classList.add("ag-charts-canvas"),this.chartController.setChartProxy(this.chartProxy),this.chartOptionsService=this.createBean(new W0(this.chartController)),this.titleEdit&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}else console.warn("AG Grid: invalid chart type supplied: ",s.chartType)},t.prototype.getChartThemeName=function(){return this.chartController.getChartThemeName()},t.prototype.getChartThemes=function(){return this.chartController.getThemes()},t.prototype.getGridOptionsChartThemeOverrides=function(){return this.gridOptionsWrapper.getChartThemeOverrides()},t.createChartProxy=function(e){switch(e.chartType){case"column":case"bar":case"groupedColumn":case"stackedColumn":case"normalizedColumn":case"groupedBar":case"stackedBar":case"normalizedBar":return new Hb(e);case"pie":return new k0(e);case"doughnut":return new Zw(e);case"area":case"stackedArea":case"normalizedArea":return new OP(e);case"line":return new L0(e);case"scatter":case"bubble":return new gA(e);case"histogram":return new H0(e);case"columnLineCombo":case"areaColumnCombo":case"customCombo":return new j0(e);default:throw"AG Grid: Unable to create chart as an invalid chartType = '"+e.chartType+"' was supplied."}},t.prototype.addDialog=function(){var e=this,n=this.chartTranslationService.translate(this.params.pivotChart?"pivotChartTitle":"rangeChartTitle"),a=this.getBestDialogSize();this.chartDialog=new b.AgDialog({resizable:!0,movable:!0,maximizable:!0,title:n,width:a.width,height:a.height,component:this,centered:!0,closable:!0}),this.getContext().createBean(this.chartDialog),this.chartDialog.addEventListener(b.AgDialog.EVENT_DESTROYED,function(){return e.destroy()})},t.prototype.getBestDialogSize=function(){var e=this.popupService.getPopupParent(),n=.75*b._.getAbsoluteWidth(e),a=.75*b._.getAbsoluteHeight(e),g=this.chartProxy.getChart(),y=this.params.insideDialog?850:g.width,_=this.params.insideDialog?470:g.height;return(y>n||_>a)&&(y=Math.min(y,n),(_=Math.round(.553*y))>a&&(_=a,y=Math.min(y,Math.round(_/.553)))),{width:y,height:_}},t.prototype.addMenu=function(){this.params.crossFiltering||(this.chartMenu=this.createBean(new qw(this.eChartContainer,this.eMenuContainer,this.chartController,this.chartOptionsService)),this.eChartContainer.appendChild(this.chartMenu.getGui()))},t.prototype.addTitleEditComp=function(){this.titleEdit=this.createBean(new CP(this.chartMenu)),this.eTitleEditContainer.appendChild(this.titleEdit.getGui()),this.chartProxy&&this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)},t.prototype.refresh=function(){this.shouldRecreateChart()&&this.createChart(),this.updateChart()},t.prototype.shouldRecreateChart=function(){return this.chartType!==this.chartController.getChartType()||this.chartThemeName!==this.chartController.getChartThemeName()},t.prototype.getCurrentChartType=function(){return this.chartType},t.prototype.getChartModel=function(){return this.chartController.getChartModel()},t.prototype.getChartImageDataURL=function(e){return this.chartProxy.getChartImageDataURL(e)},t.prototype.updateChart=function(){var e=this,n=this.chartProxy,s=this.chartController.getSelectedValueColState().map(function(R){return{colId:R.colId,displayName:R.displayName}}),g=this.chartController.getChartData();if(!this.handleEmptyChart(g,s)){var _=this.chartController.getSelectedDimension(),E={data:g,grouping:this.chartController.isGrouping(),category:{id:_.colId,name:_.displayName,chartDataType:this.getChartDataType(_.colId)},fields:s,chartId:this.chartController.getChartId(),getCrossFilteringContext:function(){return e.params.crossFilteringContext},seriesChartTypes:this.chartController.getSeriesChartTypes()};n.update(E),this.titleEdit.refreshTitle(this.chartController,this.chartOptionsService)}},t.prototype.getChartDataType=function(e){var n=this.columnModel.getPrimaryColumn(e);return n?n.getColDef().chartDataType:void 0},t.prototype.handleEmptyChart=function(e,n){var a=this.chartProxy.getChart().container,s=this.chartController.isPivotChart()&&!this.chartController.isPivotMode(),g=1;this.chartController.isActiveXYChart()&&(g="bubble"===this.chartController.getChartType()?3:2);var y=n.length<g||0===e.length;if(a){var _=s||y;b._.setDisplayed(this.eChart,!_),b._.setDisplayed(this.eEmpty,_)}return s?(this.eEmpty.innerText=this.chartTranslationService.translate("pivotChartRequiresPivotMode"),!0):!!y&&(this.eEmpty.innerText=this.chartTranslationService.translate("noDataToChart"),!0)},t.prototype.downloadChart=function(){this.chartProxy.downloadChart()},t.prototype.getChartId=function(){return this.chartController.getChartId()},t.prototype.getUnderlyingChart=function(){return this.chartProxy.getChart()},t.prototype.refreshCanvasSize=function(){if(this.params.insideDialog){var e=this.eChart;if(this.chartMenu.isVisible()){var n=this.chartProxy.getChart();n.height=b._.getInnerHeight(e),n.width=b._.getInnerWidth(e)}}},t.prototype.setActiveChartCellRange=function(e){this.getGui().contains(e.relatedTarget)||(this.chartController.setChartRange(!0),this.gridApi.focusService.clearFocusedCell())},t.prototype.raiseChartCreatedEvent=function(){var e=Object.freeze({type:b.Events.EVENT_CHART_CREATED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.raiseChartDestroyedEvent=function(){var e=Object.freeze({type:b.Events.EVENT_CHART_DESTROYED,chartId:this.chartController.getChartId(),api:this.gridApi,columnApi:this.columnApi});this.eventService.dispatchEvent(e)},t.prototype.destroy=function(){l.prototype.destroy.call(this),this.chartProxy&&this.chartProxy.destroy(),this.destroyBean(this.chartMenu),this.chartDialog&&this.chartDialog.isAlive()&&this.destroyBean(this.chartDialog);var e=this.getGui();b._.clearElement(e),b._.removeFromParent(e),this.raiseChartDestroyedEvent()},t.TEMPLATE='<div class="ag-chart" tabindex="-1">\n            <div ref="eChartContainer" tabindex="-1" class="ag-chart-components-wrapper">\n                <div ref="eChart" class="ag-chart-canvas-wrapper"></div>\n                <div ref="eEmpty" class="ag-chart-empty-text ag-unselectable"></div>\n            </div>\n            <div ref="eTitleEditContainer"></div>\n            <div ref="eMenuContainer" class="ag-chart-docked-container"></div>\n        </div>',Fo([b.RefSelector("eChart")],t.prototype,"eChart",void 0),Fo([b.RefSelector("eChartContainer")],t.prototype,"eChartContainer",void 0),Fo([b.RefSelector("eMenuContainer")],t.prototype,"eMenuContainer",void 0),Fo([b.RefSelector("eEmpty")],t.prototype,"eEmpty",void 0),Fo([b.RefSelector("eTitleEditContainer")],t.prototype,"eTitleEditContainer",void 0),Fo([b.Autowired("environment")],t.prototype,"environment",void 0),Fo([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Fo([b.Autowired("chartCrossFilterService")],t.prototype,"crossFilterService",void 0),Fo([b.Autowired("chartTranslationService")],t.prototype,"chartTranslationService",void 0),Fo([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Fo([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Fo([b.Autowired("popupService")],t.prototype,"popupService",void 0),Fo([b.PostConstruct],t.prototype,"init",null),t}(b.Component);var FP=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Kb=function(){return Kb=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Kb.apply(this,arguments)},kf=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},vA=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.activeCharts=new Set,e.activeChartComps=new Set,e.crossFilteringContext={lastSelectedChartId:""},e}return FP(t,l),t.prototype.getChartModels=function(){var e=[];return this.activeChartComps.forEach(function(a){return e.push(function(a){return Kb(Kb({},a),{version:"27.2.1"})}(a.getChartModel()))}),e},t.prototype.getChartRef=function(e){var n;return this.activeCharts.forEach(function(a){a.chartId===e&&(n=a)}),n},t.prototype.getChartImageDataURL=function(e){var n;return this.activeChartComps.forEach(function(a){a.getChartId()===e.chartId&&(n=a.getChartImageDataURL(e.fileFormat))}),n},t.prototype.createChartFromCurrentRange=function(e){void 0===e&&(e="groupedColumn");var n=this.getSelectedRange();return this.createChart(n,e)},t.prototype.restoreChart=function(e,n){var a=this;if(e){"27.2.1"!==e.version&&(e=function U0(l){return null==l.version&&(l.version="27.1.0"),function MP(l){if(!/^([:digits:]{1,2}\.){2}[:digits:]{1}$/.test(l))throw new Error("AG Grid - Illegal version string: "+l);l.split(".").map(function(e){return Number(e)})}(l.version),l}(e));var s={cellRange:e.cellRange,chartType:e.chartType,chartThemeName:e.chartThemeName,chartContainer:n,suppressChartRanges:e.suppressChartRanges,aggFunc:e.aggFunc,unlinkChart:e.unlinkChart,seriesChartTypes:e.seriesChartTypes},g=function(A){return a.rangeService?a.rangeService.createCellRangeFromCellRangeParams(A):void 0};if("pivot"===e.modelType){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var E=g({rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(A){return A.getColId()})});return E?this.createChart(E,s.chartType,s.chartThemeName,!0,!0,s.chartContainer,void 0,void 0,s.unlinkChart,!1,e.chartOptions):void console.warn("AG Grid - unable to create chart as there are no columns in the grid.")}var R=g(s.cellRange);if(R)return this.createChart(R,s.chartType,s.chartThemeName,!1,s.suppressChartRanges,s.chartContainer,s.aggFunc,void 0,s.unlinkChart,!1,e.chartOptions,s.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")}else console.warn("AG Grid - unable to restore chart as no chart model is provided")},t.prototype.createRangeChart=function(e){var n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,void 0,void 0,e.seriesChartTypes);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createPivotChart=function(e){this.columnModel.isPivotMode()||this.columnModel.setPivotMode(!0,"pivotChart");var n={rowStartIndex:null,rowEndIndex:null,columns:this.columnModel.getAllDisplayedColumns().map(function(s){return s.getColId()})},a=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(n):void 0;if(a)return this.createChart(a,e.chartType,e.chartThemeName,!0,!0,e.chartContainer,void 0,e.chartThemeOverrides,e.unlinkChart);console.warn("AG Grid - unable to create chart as there are no columns in the grid.")},t.prototype.createCrossFilterChart=function(e){var n=this.rangeService?this.rangeService.createCellRangeFromCellRangeParams(e.cellRange):void 0;if(n)return this.createChart(n,e.chartType,e.chartThemeName,!1,!(null!=e.suppressChartRanges)||e.suppressChartRanges,e.chartContainer,e.aggFunc,e.chartThemeOverrides,e.unlinkChart,!0);console.warn("AG Grid - unable to create chart as no range is selected")},t.prototype.createChart=function(e,n,a,s,g,y,_,E,R,A,T,F){var I=this;void 0===s&&(s=!1),void 0===g&&(g=!1),void 0===R&&(R=!1),void 0===A&&(A=!1);var G=this.gridOptionsWrapper.getCreateChartContainerFunc(),j={chartId:this.generateId(),pivotChart:s,cellRange:e,chartType:n,chartThemeName:a,insideDialog:!(y||G),suppressChartRanges:g,aggFunc:_,chartThemeOverrides:E,unlinkChart:R,crossFiltering:A,crossFilteringContext:this.crossFilteringContext,chartOptionsToRestore:T,seriesChartTypes:F},U=new zb(j);this.context.createBean(U);var z=this.createChartRef(U);if(y){y.appendChild(U.getGui());var Y=this.environment.getTheme();Y.el&&!Y.el.contains(y)&&y.classList.add(Y.theme)}else G?G(z):U.addEventListener(zb.EVENT_DESTROYED,function(){I.activeChartComps.delete(U),I.activeCharts.delete(z)});return z},t.prototype.createChartRef=function(e){var n=this,a={destroyChart:function(){n.activeCharts.has(a)&&(n.context.destroyBean(e),n.activeChartComps.delete(e),n.activeCharts.delete(a))},chartElement:e.getGui(),chart:e.getUnderlyingChart(),chartId:e.getChartModel().chartId};return this.activeCharts.add(a),this.activeChartComps.add(e),a},t.prototype.getSelectedRange=function(){var e=this.rangeService.getCellRanges();return e.length>0?e[0]:{}},t.prototype.generateId=function(){return"id-"+Math.random().toString(36).substr(2,16)},t.prototype.destroyAllActiveCharts=function(){this.activeCharts.forEach(function(e){return e.destroyChart()})},kf([b.Optional("rangeService")],t.prototype,"rangeService",void 0),kf([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),kf([b.Autowired("environment")],t.prototype,"environment",void 0),kf([b.PreDestroy],t.prototype,"destroyAllActiveCharts",null),kf([b.Bean("chartService")],t)}(b.BeanStub),yA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),$=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return yA(t,l),e=t,t.prototype.translate=function(n,a){return this.gridOptionsWrapper.getLocaleTextFunc()(n,e.DEFAULT_TRANSLATIONS[n]||a)},t.DEFAULT_TRANSLATIONS={pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Settings",data:"Data",format:"Format",categories:"Categories",defaultCategory:"(None)",series:"Series",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",navigator:"Navigator",color:"Color",thickness:"Thickness",xType:"X Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",xRotation:"X Rotation",yRotation:"Y Rotation",ticks:"Ticks",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chart:"Chart",title:"Title",titlePlaceholder:"Chart title - double click to edit",background:"Background",font:"Font",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeOpacity:"Line Opacity",histogramBinCount:"Bin count",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",histogramGroup:"Histogram",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",doughnutTooltip:"Doughnut",lineTooltip:"Line",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis"},t=e=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}([b.Bean("chartTranslationService")],t),t}(b.BeanStub),Je=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),z0=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},CA=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}var e;return Je(t,l),e=t,t.prototype.filter=function(n,a){void 0===a&&(a=!1);var s=this.gridApi.getFilterModel();if(a)this.resetFilters(s);else{var g=e.extractFilterColId(n);this.isValidColumnFilter(g)?this.updateFilters(s,n):console.warn("AG Grid: cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: '"+g+"'")}},t.prototype.resetFilters=function(n){Object.keys(n).length>0&&(this.gridApi.setFilterModel(null),this.gridApi.onFilterChanged())},t.prototype.updateFilters=function(n,a){var s,g=e.extractFilterColId(a),y=a.datum[g];if(void 0!==y){var _=y.toString(),E=g.replace("-filtered-out","");if(a.event.metaKey||a.event.ctrlKey){var R=this.getCurrentGridValuesForCategory(E),T=void 0;b._.includes(R,_)?T=R.filter(function(F){return F!==_}):(T=R).push(_),n[E]=this.getUpdatedFilterModel(E,T)}else(s={})[E]=this.getUpdatedFilterModel(E,T=[_]),n=s;this.gridApi.setFilterModel(n)}},t.prototype.getUpdatedFilterModel=function(n,a){return"agMultiColumnFilter"===this.getColumnFilterType(n)?{filterType:"multi",filterModels:[null,{filterType:"set",values:a}]}:{filterType:"set",values:a}},t.prototype.getCurrentGridValuesForCategory=function(n){var a=[],s=b._.includes;return this.gridApi.forEachNodeAfterFilter(function(g){if(!g.group){var y=g.data[n]+"";s(a,y)||a.push(y)}}),a},t.extractFilterColId=function(n){return n.xKey?n.xKey:n.labelKey},t.prototype.isValidColumnFilter=function(n){n.indexOf("-filtered-out")&&(n=n.replace("-filtered-out",""));var a=this.getColumnFilterType(n);return"boolean"==typeof a?a:b._.includes(["agSetColumnFilter","agMultiColumnFilter"],a)},t.prototype.getColumnFilterType=function(n){var a=this.columnModel.getGridColumn(n);if(a){var s=a.getColDef();return null!=s.filter?s.filter:s.filterFramework}},z0([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),z0([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),e=z0([b.Bean("chartCrossFilterService")],t)}(b.BeanStub),wA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ao=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},_A=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Dy=function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(_A(arguments[t]));return l},Py=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.cellRanges=[],e.bodyScrollListener=e.onBodyScroll.bind(e),e.dragging=!1,e}return wA(t,l),t.prototype.init=function(){var e=this;this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_CHANGED,function(){return e.removeAllCellRanges()}),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_GROUP_OPENED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_MOVED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PINNED,this.refreshLastRangeStart.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VISIBLE,this.onColumnVisibleChange.bind(this)),this.ctrlsService.whenReady(function(){var n=e.ctrlsService.getGridBodyCtrl();e.autoScrollService=new b.AutoScrollService({scrollContainer:n.getBodyViewportElement(),scrollAxis:"xy",getVerticalPosition:function(){return n.getScrollFeature().getVScrollPosition().top},setVerticalPosition:function(a){return n.getScrollFeature().setVerticalScrollPosition(a)},getHorizontalPosition:function(){return n.getScrollFeature().getHScrollPosition().left},setHorizontalPosition:function(a){return n.getScrollFeature().setHorizontalScrollPosition(a)},shouldSkipVerticalScroll:function(){return e.gridOptionsWrapper.getDomLayout()!==b.Constants.DOM_LAYOUT_NORMAL},shouldSkipHorizontalScroll:function(){return n.getScrollFeature().isHorizontalScrollShowing()}})})},t.prototype.onColumnVisibleChange=function(){var e=this;this.refreshLastRangeStart(),this.cellRanges.forEach(function(n){var a=n.columns;n.columns=n.columns.filter(function(g){return g.isVisible()}),!b._.areEqual(a,n.columns)&&e.dispatchChangedEvent(!1,!0,n.id)})},t.prototype.refreshLastRangeStart=function(){var e=b._.last(this.cellRanges);!e||this.refreshRangeStart(e)},t.prototype.isContiguousRange=function(e){var n=e.columns;if(!n.length)return!1;var a=this.columnModel.getAllDisplayedColumns(),s=n.map(function(g){return a.indexOf(g)}).sort(function(g,y){return g-y});return b._.last(s)-s[0]+1===n.length},t.prototype.getRangeStartRow=function(e){return e.startRow&&e.endRow?this.rowPositionUtils.before(e.startRow,e.endRow)?e.startRow:e.endRow:{rowIndex:0,rowPinned:this.pinnedRowModel.getPinnedTopRowCount()>0?b.Constants.PINNED_TOP:null}},t.prototype.getRangeEndRow=function(e){if(e.startRow&&e.endRow)return this.rowPositionUtils.before(e.startRow,e.endRow)?e.endRow:e.startRow;var n=this.pinnedRowModel.getPinnedBottomRowCount();return n>0?{rowIndex:n-1,rowPinned:b.Constants.PINNED_BOTTOM}:{rowIndex:this.rowModel.getRowCount()-1,rowPinned:null}},t.prototype.setRangeToCell=function(e,n){if(void 0===n&&(n=!1),this.gridOptionsWrapper.isEnableRangeSelection()){var a=this.calculateColumnsBetween(e.column,e.column);if(a){(this.gridOptionsWrapper.isSuppressMultiRangeSelection()||!n||b._.missing(this.cellRanges))&&this.removeAllCellRanges(!0);for(var y,g={rowIndex:e.rowIndex,rowPinned:e.rowPinned},_=0;_<this.cellRanges.length;_++){var E=this.cellRanges[_];if(E.columns&&1===E.columns.length&&E.columns[0]===e.column&&this.rowPositionUtils.sameRow(g,E.startRow)&&this.rowPositionUtils.sameRow(g,E.endRow)){y=E;break}}y?b._.last(this.cellRanges)!==y&&(b._.removeFromArray(this.cellRanges,y),this.cellRanges.push(y)):this.cellRanges.push(y={startRow:g,endRow:g,columns:a,startColumn:e.column}),this.setNewestRangeStartCell(e),this.onDragStop(),this.dispatchChangedEvent(!0,!0,y.id)}}},t.prototype.extendLatestRangeToCell=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var n=b._.last(this.cellRanges);this.updateRangeEnd(n,e)}},t.prototype.updateRangeEnd=function(e,n,a){void 0===a&&(a=!1);var g=this.calculateColumnsBetween(e.startColumn,n.column);!g||this.isLastCellOfRange(e,n)||(e.columns=g,e.endRow={rowIndex:n.rowIndex,rowPinned:n.rowPinned},a||this.dispatchChangedEvent(!0,!0,e.id))},t.prototype.refreshRangeStart=function(e){var n=e.startColumn,a=e.columns,s=function(A,T){var F=e.columns.filter(function(I){return I!==A});A?(e.startColumn=A,e.columns=T?Dy([A],F):Dy(F,[A])):e.columns=F},g=this.getRangeEdgeColumns(e),y=g.left,_=g.right;n===a[0]&&n!==y?s(y,!0):n===b._.last(a)&&n===_&&s(_,!1)},t.prototype.getRangeEdgeColumns=function(e){var n=this.columnModel.getAllDisplayedColumns(),a=e.columns.map(function(s){return n.indexOf(s)}).filter(function(s){return s>-1}).sort(function(s,g){return s-g});return{left:n[a[0]],right:n[b._.last(a)]}},t.prototype.extendLatestRangeInDirection=function(e){if(!this.isEmpty()&&this.newestRangeStartCell){var n=b._.last(this.cellRanges),a=this.newestRangeStartCell,s=n.columns[0],g=b._.last(n.columns),A=this.cellNavigationService.getNextCellToFocus(e,{column:a.column===s?g:s,rowIndex:n.endRow.rowIndex,rowPinned:n.endRow.rowPinned});if(A)return this.setCellRange({rowStartIndex:a.rowIndex,rowStartPinned:a.rowPinned,rowEndIndex:A.rowIndex,rowEndPinned:A.rowPinned,columnStart:a.column,columnEnd:A.column}),A}},t.prototype.setCellRange=function(e){!this.gridOptionsWrapper.isEnableRangeSelection()||(this.removeAllCellRanges(!0),this.addCellRange(e))},t.prototype.setCellRanges=function(e){var n=this;b._.shallowCompare(this.cellRanges,e)||(this.removeAllCellRanges(!0),e.forEach(function(a){a.columns&&a.startRow&&n.setNewestRangeStartCell({rowIndex:a.startRow.rowIndex,rowPinned:a.startRow.rowPinned,column:a.columns[0]}),n.cellRanges.push(a)}),this.dispatchChangedEvent(!1,!0))},t.prototype.setNewestRangeStartCell=function(e){this.newestRangeStartCell=e},t.prototype.createCellRangeFromCellRangeParams=function(e){var a,n=this;if(e.columns)a=e.columns.map(function(E){return n.columnModel.getColumnWithValidation(E)}).filter(function(E){return E});else{var s=this.columnModel.getColumnWithValidation(e.columnStart),g=this.columnModel.getColumnWithValidation(e.columnEnd);if(!s||!g)return;a=this.calculateColumnsBetween(s,g)}if(a)return{startRow:null!=e.rowStartIndex?{rowIndex:e.rowStartIndex,rowPinned:e.rowStartPinned||null}:void 0,endRow:null!=e.rowEndIndex?{rowIndex:e.rowEndIndex,rowPinned:e.rowEndPinned||null}:void 0,columns:a,startColumn:a[0]}},t.prototype.addCellRange=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var n=this.createCellRangeFromCellRangeParams(e);n&&(n.startRow&&this.setNewestRangeStartCell({rowIndex:n.startRow.rowIndex,rowPinned:n.startRow.rowPinned,column:n.columns[0]}),this.cellRanges.push(n),this.dispatchChangedEvent(!1,!0,n.id))}},t.prototype.getCellRanges=function(){return this.cellRanges},t.prototype.isEmpty=function(){return 0===this.cellRanges.length},t.prototype.isMoreThanOneCell=function(){var e=this.cellRanges.length;if(1!==e)return 0!==e;var n=this.cellRanges[0],a=this.getRangeStartRow(n),s=this.getRangeEndRow(n);return a.rowPinned!==s.rowPinned||a.rowIndex!==s.rowIndex||1!==n.columns.length},t.prototype.areAllRangesAbleToMerge=function(){var e,n,y,a=this,s=new Map;if(this.cellRanges.length<=1)return!0;this.cellRanges.forEach(function(T){for(var F=a.getRangeStartRow(T),I=a.getRangeEndRow(T),G=F,j=function(){var z=(G.rowPinned||"normal")+"_"+G.rowIndex,Y=s.get(z),J=T.columns.map(function(ae){return ae.getId()});if(Y){var se=J.filter(function(ae){return-1===Y.indexOf(ae)});Y.push.apply(Y,Dy(se))}else s.set(z,J);if(a.rowPositionUtils.sameRow(G,I))return"break";G=a.cellNavigationService.getRowBelow(G)};G&&"break"!==j(););});try{for(var _=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.values()),E=_.next();!E.done;E=_.next()){var A=E.value.sort().join();if(void 0!==y){if(y!==A)return!1}else y=A}}catch(T){e={error:T}}finally{try{E&&!E.done&&(n=_.return)&&n.call(_)}finally{if(e)throw e.error}}return!0},t.prototype.removeAllCellRanges=function(e){this.isEmpty()||(this.onDragStop(),this.cellRanges.length=0,e||this.dispatchChangedEvent(!1,!0))},t.prototype.onBodyScroll=function(){this.dragging&&this.lastMouseEvent&&this.onDragging(this.lastMouseEvent)},t.prototype.isCellInAnyRange=function(e){return this.getCellRangeCount(e)>0},t.prototype.isCellInSpecificRange=function(e,n){var a=null!==n.columns&&b._.includes(n.columns,e.column),s=this.isRowInRange(e.rowIndex,e.rowPinned,n);return a&&s},t.prototype.isLastCellOfRange=function(e,n){var a=e.startRow,s=e.endRow,g=this.rowPositionUtils.before(a,s)?s:a,y=n.rowIndex===g.rowIndex&&n.rowPinned===g.rowPinned,_=e.columns[0],E=b._.last(e.columns);return n.column===(e.startColumn===_?E:_)&&y},t.prototype.isBottomRightCell=function(e,n){var a=this.columnModel.getAllDisplayedColumns(),s=e.columns.map(function(A){return a.indexOf(A)}).sort(function(A,T){return A-T}),g=e.startRow,y=e.endRow,_=this.rowPositionUtils.before(g,y)?y:g,E=a.indexOf(n.column)===b._.last(s),R=n.rowIndex===_.rowIndex&&b._.makeNull(n.rowPinned)===b._.makeNull(_.rowPinned);return E&&R},t.prototype.getCellRangeCount=function(e){var n=this;return this.isEmpty()?0:this.cellRanges.filter(function(a){return n.isCellInSpecificRange(e,a)}).length},t.prototype.isRowInRange=function(e,n,a){var s=this.getRangeStartRow(a),g=this.getRangeEndRow(a),y={rowIndex:e,rowPinned:n||null};if(y.rowIndex===s.rowIndex&&y.rowPinned==s.rowPinned||y.rowIndex===g.rowIndex&&y.rowPinned==g.rowPinned)return!0;var R=!this.rowPositionUtils.before(y,s),A=this.rowPositionUtils.before(y,g);return R&&A},t.prototype.getDraggingRange=function(){return this.draggingRange},t.prototype.onDragStart=function(e){if(this.gridOptionsWrapper.isEnableRangeSelection()){var s=e.shiftKey,g=e.ctrlKey||e.metaKey,_=!this.gridOptionsWrapper.isSuppressMultiRangeSelection()&&g,E=s&&b._.existsAndNotEmpty(this.cellRanges);if(!_&&(!E||b._.exists(b._.last(this.cellRanges).type))&&this.removeAllCellRanges(!0),this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),this.updateValuesOnMove(e),this.lastCellHovered){if(this.dragging=!0,this.lastMouseEvent=e,E||this.setNewestRangeStartCell(this.lastCellHovered),this.cellRanges.length>0)this.draggingRange=b._.last(this.cellRanges);else{var R={rowIndex:this.lastCellHovered.rowIndex,rowPinned:this.lastCellHovered.rowPinned};this.draggingRange={startRow:R,endRow:R,columns:[this.lastCellHovered.column],startColumn:this.newestRangeStartCell.column},this.cellRanges.push(this.draggingRange)}this.ctrlsService.getGridBodyCtrl().addScrollEventListener(this.bodyScrollListener),this.dispatchChangedEvent(!0,!1,this.draggingRange.id)}}},t.prototype.updateValuesOnMove=function(e){var n=this.mouseEventService.getCellPositionForEvent(e);this.cellHasChanged=!1,!(!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered))&&(this.lastCellHovered&&(this.cellHasChanged=!0),this.lastCellHovered=n)},t.prototype.onDragging=function(e){var n=this;if(this.dragging&&e){this.lastMouseEvent=e;var a=this.lastCellHovered,s=function(_){return a&&a.rowPinned===_&&n.newestRangeStartCell.rowPinned===_},g=s("top")||s("bottom");if(this.autoScrollService.check(e,g),this.cellHasChanged){var y=this.calculateColumnsBetween(this.newestRangeStartCell.column,a.column);!y||(this.draggingRange.endRow={rowIndex:a.rowIndex,rowPinned:a.rowPinned},this.draggingRange.columns=y,this.dispatchChangedEvent(!1,!1,this.draggingRange.id))}}},t.prototype.onDragStop=function(){if(this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0),this.dragging){var e=this.draggingRange.id;this.autoScrollService.ensureCleared(),this.ctrlsService.getGridBodyCtrl().removeScrollEventListener(this.bodyScrollListener),this.lastMouseEvent=null,this.dragging=!1,this.draggingRange=void 0,this.lastCellHovered=void 0,this.dispatchChangedEvent(!1,!0,e)}},t.prototype.dispatchChangedEvent=function(e,n,a){var s=Object.freeze({type:b.Events.EVENT_RANGE_SELECTION_CHANGED,api:this.gridApi,columnApi:this.columnApi,started:e,finished:n,id:a});this.eventService.dispatchEvent(s)},t.prototype.calculateColumnsBetween=function(e,n){var a=this.columnModel.getAllDisplayedColumns(),s=e===n,g=a.indexOf(e);if(g<0)console.warn("AG Grid: column "+e.getId()+" is not visible");else{var y=s?g:a.indexOf(n);if(!(y<0)){if(s)return[e];for(var _=Math.min(g,y),E=_===g?y:g,R=[],A=_;A<=E;A++)R.push(a[A]);return R}console.warn("AG Grid: column "+n.getId()+" is not visible")}},ao([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),ao([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),ao([b.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),ao([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),ao([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),ao([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),ao([b.Autowired("pinnedRowModel")],t.prototype,"pinnedRowModel",void 0),ao([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),ao([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),ao([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),ao([b.PostConstruct],t.prototype,"init",null),ao([b.Bean("rangeService")],t)}(b.BeanStub),$0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Pl=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},e_=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.changedCalculatedValues=!1,e.dragging=!1,e.shouldDestroyOnEndDragging=!1,e}return $0(t,l),t.prototype.init=function(){var e=this;this.dragService.addDragSource({dragStartPixels:0,eElement:this.getGui(),onDragStart:this.onDragStart.bind(this),onDragging:function(n){e.dragging=!0,e.rangeService.autoScrollService.check(n),e.changedCalculatedValues&&(e.onDrag(n),e.changedCalculatedValues=!1)},onDragStop:function(n){e.dragging=!1,e.onDragEnd(n),e.clearValues(),e.rangeService.autoScrollService.ensureCleared(),document.body.classList.remove(e.getDraggingCssClass()),e.shouldDestroyOnEndDragging&&e.destroy()}}),this.addManagedListener(this.getGui(),"mousedown",this.preventRangeExtension.bind(this))},t.prototype.isDragging=function(){return this.dragging},t.prototype.getCellCtrl=function(){return this.cellCtrl},t.prototype.setCellCtrl=function(e){this.cellCtrl=e},t.prototype.getCellRange=function(){return this.cellRange},t.prototype.setCellRange=function(e){this.cellRange=e},t.prototype.getRangeStartRow=function(){return this.rangeStartRow},t.prototype.setRangeStartRow=function(e){this.rangeStartRow=e},t.prototype.getRangeEndRow=function(){return this.rangeEndRow},t.prototype.setRangeEndRow=function(e){this.rangeEndRow=e},t.prototype.getLastCellHovered=function(){return this.lastCellHovered},t.prototype.preventRangeExtension=function(e){e.preventDefault(),e.stopPropagation()},t.prototype.onDragStart=function(e){this.cellHoverListener=this.addManagedListener(this.ctrlsService.getGridCtrl().getGui(),"mousemove",this.updateValuesOnMove.bind(this)),document.body.classList.add(this.getDraggingCssClass())},t.prototype.getDraggingCssClass=function(){return"ag-dragging-"+(this.type===b.SelectionHandleType.FILL?"fill":"range")+"-handle"},t.prototype.updateValuesOnMove=function(e){var n=this.mouseEventService.getCellPositionForEvent(e);!n||this.lastCellHovered&&this.cellPositionUtils.equals(n,this.lastCellHovered)||(this.lastCellHovered=n,this.changedCalculatedValues=!0)},t.prototype.getType=function(){return this.type},t.prototype.refresh=function(e){var n=this.getCellCtrl(),a=this.getGui(),s=b._.last(this.rangeService.getCellRanges()),g=s.startRow,y=s.endRow;if(g&&y&&(this.rowPositionUtils.before(y,g)?(this.setRangeStartRow(y),this.setRangeEndRow(g)):(this.setRangeStartRow(g),this.setRangeEndRow(y))),n!==e||!b._.isVisible(a)){this.setCellCtrl(e);var E=e.getComp().getParentOfValue();E&&E.appendChild(a)}this.setCellRange(s)},t.prototype.clearValues=function(){this.lastCellHovered=void 0,this.removeListeners()},t.prototype.removeListeners=function(){this.cellHoverListener&&(this.cellHoverListener(),this.cellHoverListener=void 0)},t.prototype.destroy=function(){if(!this.shouldDestroyOnEndDragging&&this.isDragging())return b._.setDisplayed(this.getGui(),!1),void(this.shouldDestroyOnEndDragging=!0);this.shouldDestroyOnEndDragging=!1,l.prototype.destroy.call(this),this.removeListeners();var e=this.getGui();e.parentElement&&e.parentElement.removeChild(e)},Pl([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Pl([b.Autowired("dragService")],t.prototype,"dragService",void 0),Pl([b.Autowired("rangeService")],t.prototype,"rangeService",void 0),Pl([b.Autowired("mouseEventService")],t.prototype,"mouseEventService",void 0),Pl([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Pl([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Pl([b.Autowired("navigationService")],t.prototype,"navigationService",void 0),Pl([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Pl([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Pl([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Pl([b.PostConstruct],t.prototype,"init",null),t}(b.Component),K0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zc=function(){return Zc=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Zc.apply(this,arguments)},SA=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},q0=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.markedCells=[],e.cellValues=[],e.isUp=!1,e.isLeft=!1,e.isReduce=!1,e.type=b.SelectionHandleType.FILL,e}return K0(t,l),t.prototype.updateValuesOnMove=function(e){l.prototype.updateValuesOnMove.call(this,e),this.initialXY||(this.initialXY=this.mouseEventService.getNormalisedPosition(e));var T,n=this.initialXY,a=n.x,s=n.y,g=this.mouseEventService.getNormalisedPosition(e),_=g.y,E=Math.abs(a-g.x),R=Math.abs(s-_),A=this.gridOptionsWrapper.getFillHandleDirection();(T="xy"===A?E>R?"x":"y":A)!==this.dragAxis&&(this.dragAxis=T,this.changedCalculatedValues=!0)},t.prototype.onDrag=function(e){if(!this.initialPosition){var n=this.getCellCtrl();if(!n)return;this.initialPosition=n.getCellPosition()}var a=this.getLastCellHovered();a&&this.markPathFrom(this.initialPosition,a)},t.prototype.onDragEnd=function(e){if(this.initialXY=null,this.markedCells.length){var _,n="x"===this.dragAxis,a=this.getCellRange(),s=a.columns.length,g=this.getRangeStartRow(),y=this.getRangeEndRow();if(this.isUp||this.isLeft){var E=n?g:this.lastCellMarked;_=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:E.rowIndex,rowStartPinned:E.rowPinned,columnStart:n?this.lastCellMarked.column:a.columns[0],rowEndIndex:y.rowIndex,rowEndPinned:y.rowPinned,columnEnd:a.columns[s-1]})}else _=this.rangeService.createCellRangeFromCellRangeParams({rowStartIndex:g.rowIndex,rowStartPinned:g.rowPinned,columnStart:a.columns[0],rowEndIndex:n?y.rowIndex:this.lastCellMarked.rowIndex,rowEndPinned:n?y.rowPinned:this.lastCellMarked.rowPinned,columnEnd:n?this.lastCellMarked.column:a.columns[s-1]});_&&(this.raiseFillStartEvent(),this.handleValueChanged(a,_,e),this.rangeService.setCellRanges([_]),this.raiseFillEndEvent(a,_))}},t.prototype.raiseFillStartEvent=function(){var e={type:b.Events.EVENT_FILL_START,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi()};this.eventService.dispatchEvent(e)},t.prototype.raiseFillEndEvent=function(e,n){var a={type:b.Events.EVENT_FILL_END,columnApi:this.gridOptionsWrapper.getColumnApi(),api:this.gridOptionsWrapper.getApi(),initialRange:e,finalRange:n};this.eventService.dispatchEvent(a)},t.prototype.handleValueChanged=function(e,n,a){var s=this,g=this.rangeService.getRangeEndRow(e),y=this.rangeService.getRangeStartRow(e),_=this.rangeService.getRangeEndRow(n),E=this.rangeService.getRangeStartRow(n),R="y"===this.dragAxis;if(!this.isReduce||this.gridOptionsWrapper.isSuppressClearOnFillReduction()){var F=!0,I=[],G=[],j=0,U=function(){I.length=0,G.length=0,j=0},z=function(J,se){var ae=s.isUp?g:y,ce=!1;R&&(F=!0,U());for(var pe=function(){var we=s.rowPositionUtils.getRowNode(ae);if(!we)return"break";R&&J?Y(I,J,we,function(){return!s.rowPositionUtils.sameRow(ae,s.isUp?y:g)}):se&&(F=!0,U(),se.forEach(function(Fe){return Y(I,Fe,we,function(){return Fe!==(s.isLeft?e.columns[0]:b._.last(e.columns))})})),ce=s.rowPositionUtils.sameRow(ae,s.isUp?E:_),ae=s.isUp?s.cellNavigationService.getRowAbove(ae):s.cellNavigationService.getRowBelow(ae)};!ce&&ae&&"break"!==pe(););},Y=function(J,se,ae,ce){var pe,fe=!1;if(F)pe=s.valueService.getValue(se,ae),G.push(pe),F=ce();else{var we=s.processValues(a,J,G,se,ae,j++),De=we.fromUserFunction;if(pe=we.value,se.isCellEditable(ae)){var _e=s.valueService.getValue(se,ae);De&&_e===pe?fe=!0:ae.setDataValue(se,pe)}}fe||J.push(pe)};R?e.columns.forEach(function(J){z(J)}):(A=this.isLeft?function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(SA(arguments[t]));return l}(n.columns).reverse():n.columns,z(void 0,A))}else{var A=R?e.columns:e.columns.filter(function(J){return n.columns.indexOf(J)<0}),T=R?this.cellNavigationService.getRowBelow(_):E;T&&this.clearCellsInRange(T,g,A)}},t.prototype.clearCellsInRange=function(e,n,a){for(var s=e,g=!1,y=function(){var R=_.rowPositionUtils.getRowNode(s);if(!R)return"break";a.forEach(function(A){A.isCellEditable(R)&&R.setDataValue(A,null)}),g=_.rowPositionUtils.sameRow(s,n),s=_.cellNavigationService.getRowBelow(s)},_=this;!g&&s&&"break"!==y(););},t.prototype.processValues=function(e,n,a,s,g,y){var R,_=this.gridOptionsWrapper.getFillOperation();if(R="y"===this.dragAxis?this.isUp?"up":"down":this.isLeft?"left":"right",_){var T=_({event:e,values:n,initialValues:a,currentIndex:y,currentCellValue:this.valueService.getValue(s,g),direction:R,column:s,rowNode:g});if(!1!==T)return{value:T,fromUserFunction:!0}}var F=!n.some(function(G){var j=parseFloat(G);return isNaN(j)||j.toString()!==G.toString()});if(e.altKey||!F){if(F&&1===a.length){var I=this.isUp||this.isLeft?-1:1;return{value:parseFloat(b._.last(n))+1*I,fromUserFunction:!1}}return{value:n[y%n.length],fromUserFunction:!1}}return{value:b._.last(b._.findLineByLeastSquares(n.map(Number))),fromUserFunction:!1}},t.prototype.clearValues=function(){this.clearMarkedPath(),this.clearCellValues(),this.lastCellMarked=void 0,l.prototype.clearValues.call(this)},t.prototype.clearMarkedPath=function(){this.markedCells.forEach(function(e){var n=e.getComp();n.addOrRemoveCssClass("ag-selection-fill-top",!1),n.addOrRemoveCssClass("ag-selection-fill-right",!1),n.addOrRemoveCssClass("ag-selection-fill-bottom",!1),n.addOrRemoveCssClass("ag-selection-fill-left",!1)}),this.markedCells.length=0,this.isUp=!1,this.isLeft=!1,this.isReduce=!1},t.prototype.clearCellValues=function(){this.cellValues.length=0},t.prototype.markPathFrom=function(e,n){if(this.clearMarkedPath(),this.clearCellValues(),"y"===this.dragAxis){if(this.rowPositionUtils.sameRow(n,e))return;var a=this.rowPositionUtils.before(n,e),s=this.getRangeStartRow(),g=this.getRangeEndRow();a&&(n.rowPinned==s.rowPinned&&n.rowIndex>=s.rowIndex||s.rowPinned!=g.rowPinned&&n.rowPinned==g.rowPinned&&n.rowIndex<=g.rowIndex)?(this.reduceVertical(e,n),this.isReduce=!0):(this.extendVertical(e,n,a),this.isReduce=!1)}else{var y=e.column,_=n.column;if(y===_)return;var E=this.columnModel.getAllDisplayedColumns(),R=E.indexOf(y),A=E.indexOf(_);A<=R&&A>=E.indexOf(this.getCellRange().columns[0])?(this.reduceHorizontal(e,n),this.isReduce=!0):(this.extendHorizontal(e,n,A<R),this.isReduce=!1)}this.lastCellMarked=n},t.prototype.extendVertical=function(e,n,a){var g=this.navigationService,y=this.rangeService,_=e;do{for(var E=this.getCellRange(),R=E.columns.length,A=0;A<R;A++){var T=E.columns[A],I=Zc(Zc({},{rowIndex:_.rowIndex,rowPinned:_.rowPinned}),{column:T}),G=y.isCellInSpecificRange(I,E),j=this.rowPositionUtils.sameRow(_,e);if(a&&(this.isUp=!0),!j){var U=g.getCellByPosition(I);if(U){this.markedCells.push(U);var z=U.getComp();G||(z.addOrRemoveCssClass("ag-selection-fill-left",0===A),z.addOrRemoveCssClass("ag-selection-fill-right",A===R-1)),z.addOrRemoveCssClass(a?"ag-selection-fill-top":"ag-selection-fill-bottom",this.rowPositionUtils.sameRow(_,n))}}}if(this.rowPositionUtils.sameRow(_,n))break}while(_=a?this.cellNavigationService.getRowAbove(_):this.cellNavigationService.getRowBelow(_))},t.prototype.reduceVertical=function(e,n){var a=e;do{for(var s=this.getCellRange(),g=s.columns.length,y=this.rowPositionUtils.sameRow(a,n),_=0;_<g;_++){var R=Zc(Zc({},{rowIndex:a.rowIndex,rowPinned:a.rowPinned}),{column:s.columns[_]}),A=this.navigationService.getCellByPosition(R);A&&(this.markedCells.push(A),A.getComp().addOrRemoveCssClass("ag-selection-fill-bottom",this.rowPositionUtils.sameRow(a,n)))}if(y)break}while(a=this.cellNavigationService.getRowAbove(a))},t.prototype.extendHorizontal=function(e,n,a){var s=this,g=this.columnModel.getAllDisplayedColumns(),y=g.indexOf(a?n.column:e.column),_=g.indexOf(a?this.getCellRange().columns[0]:n.column),E=a?0:1,R=g.slice(y+E,_+E),A=this.getRangeStartRow(),T=this.getRangeEndRow();R.forEach(function(F){var I=A,G=!1;do{G=s.rowPositionUtils.sameRow(I,T);var j=s.navigationService.getCellByPosition({rowIndex:I.rowIndex,rowPinned:I.rowPinned,column:F});if(j){s.markedCells.push(j);var U=j.getComp();U.addOrRemoveCssClass("ag-selection-fill-top",s.rowPositionUtils.sameRow(I,A)),U.addOrRemoveCssClass("ag-selection-fill-bottom",s.rowPositionUtils.sameRow(I,T)),a?(s.isLeft=!0,U.addOrRemoveCssClass("ag-selection-fill-left",F===R[0])):U.addOrRemoveCssClass("ag-selection-fill-right",F===b._.last(R))}I=s.cellNavigationService.getRowBelow(I)}while(!G)})},t.prototype.reduceHorizontal=function(e,n){var a=this,s=this.columnModel.getAllDisplayedColumns(),g=s.indexOf(n.column),y=s.indexOf(e.column),_=s.slice(g,y),E=this.getRangeStartRow(),R=this.getRangeEndRow();_.forEach(function(A){var T=E,F=!1;do{F=a.rowPositionUtils.sameRow(T,R);var I=a.navigationService.getCellByPosition({rowIndex:T.rowIndex,rowPinned:T.rowPinned,column:A});I&&(a.markedCells.push(I),I.getComp().addOrRemoveCssClass("ag-selection-fill-right",A===_[0])),T=a.cellNavigationService.getRowBelow(T)}while(!F)})},t.prototype.refresh=function(e){var n=this.rangeService.getCellRanges()[0];n.startRow&&n.endRow?l.prototype.refresh.call(this,e):this.destroy()},t.TEMPLATE='<div class="ag-fill-handle"></div>',function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.Autowired("valueService")],t.prototype,"valueService",void 0),t}(e_),Jc=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),t_=function(){return t_=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},t_.apply(this,arguments)},NP=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.type=b.SelectionHandleType.RANGE,e.rangeFixed=!1,e}return Jc(t,l),t.prototype.onDrag=function(e){var n=this.getLastCellHovered();if(n){var a=this.rangeService.getCellRanges(),s=b._.last(a);this.rangeFixed||(this.fixRangeStartEnd(s),this.rangeFixed=!0),this.endPosition={rowIndex:n.rowIndex,rowPinned:n.rowPinned,column:n.column},2===a.length&&a[0].type===b.CellRangeType.DIMENSION&&s.type===b.CellRangeType.VALUE&&!this.rowPositionUtils.sameRow(this.endPosition,this.rangeService.getRangeEndRow(s))&&this.rangeService.updateRangeEnd(a[0],t_(t_({},this.endPosition),{column:a[0].columns[0]}),!0),this.rangeService.extendLatestRangeToCell(this.endPosition)}},t.prototype.onDragEnd=function(e){var n=b._.last(this.rangeService.getCellRanges());this.fixRangeStartEnd(n),this.rangeFixed=!1},t.prototype.fixRangeStartEnd=function(e){var n=this.rangeService.getRangeStartRow(e),a=this.rangeService.getRangeEndRow(e),s=e.columns[0];e.startRow=n,e.endRow=a,e.startColumn=s},t.TEMPLATE='<div class="ag-range-handle"></div>',t}(e_),bA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),LP=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return bA(t,l),t.prototype.createSelectionHandle=function(e){return this.createBean(e===b.SelectionHandleType.RANGE?new NP:new q0)},t=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}([b.Bean("selectionHandleFactory")],t),t}(b.BeanStub),qb={moduleName:b.ModuleNames.RangeSelectionModule,beans:[Py,LP],agStackComponents:[{componentName:"AgFillHandle",componentClass:q0},{componentName:"AgRangeHandle",componentClass:NP}],dependantModules:[gn]},GP={moduleName:b.ModuleNames.GridChartsModule,beans:[vA,$,CA],dependantModules:[qb,gn]},OA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Xb=function(){return Xb=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Xb.apply(this,arguments)},X0=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.loadRowDataVersion=0,e.needRefresh=!1,e}return OA(t,l),t.prototype.init=function(e,n){var a=this;this.params=n,this.comp=e,null!=n.pinned||(this.setAutoHeightClasses(),this.setupRefreshStrategy(),this.addThemeToDetailGrid(),this.createDetailGrid(),this.loadRowData(),this.addManagedListener(n.node.parent,b.RowNode.EVENT_DATA_CHANGED,function(){a.needRefresh=!0}))},t.prototype.setAutoHeightClasses=function(){var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),a=e?"ag-details-grid-auto-height":"ag-details-grid-fixed-height";this.comp.addOrRemoveCssClass(e?"ag-details-row-auto-height":"ag-details-row-fixed-height",!0),this.comp.addOrRemoveDetailGridCssClass(a,!0)},t.prototype.setupRefreshStrategy=function(){if(this.params.suppressRefresh)return console.warn("AG Grid: as of v23.2.0, cellRendererParams.suppressRefresh for Detail Cell Renderer is no longer used. Please set cellRendererParams.refreshStrategy = 'nothing' instead."),void(this.refreshStrategy="nothing");var e=this.params.refreshStrategy;"everything"==e||"nothing"==e||"rows"==e?this.refreshStrategy=e:(null!=e&&console.warn("AG Grid: invalid cellRendererParams.refreshStrategy = '"+e+"' supplied, defaulting to refreshStrategy = 'rows'."),this.refreshStrategy="rows")},t.prototype.addThemeToDetailGrid=function(){var e=this.environment.getTheme().theme;e&&this.comp.addOrRemoveDetailGridCssClass(e,!0)},t.prototype.createDetailGrid=function(){if(b._.missing(this.params.detailGridOptions))console.warn("AG Grid: could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions");else{var e=this.gridOptionsWrapper.isDetailRowAutoHeight(),n=Xb({},this.params.detailGridOptions);e&&(n.domLayout="autoHeight"),this.comp.setDetailGrid(n)}},t.prototype.registerDetailWithMaster=function(e,n){var a=this.params.node.id,s=this.params.api,g={id:a,api:e,columnApi:n},y=this.params.node;s.addDetailGridInfo(a,g),y.detailGridInfo=g,this.addDestroyFunc(function(){y.detailGridInfo===g&&(s.removeDetailGridInfo(a),y.detailGridInfo=null)})},t.prototype.loadRowData=function(){var e=this;this.loadRowDataVersion++;var n=this.loadRowDataVersion,a=this.params.getDetailRowData;a?a({node:this.params.node,data:this.params.node.data,successCallback:function(y){e.loadRowDataVersion===n&&e.comp.setRowData(y)},context:this.gridOptionsWrapper.getContext()}):console.warn("AG Grid: could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData")},t.prototype.refresh=function(){return!(this.needRefresh&&"nothing"!==this.refreshStrategy&&(this.needRefresh=!1,"everything"===this.refreshStrategy||(this.loadRowData(),0)))},function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.Autowired("environment")],t.prototype,"environment",void 0),t}(b.BeanStub),Cn=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Zb=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Cn(t,l),t.prototype.init=function(e){var n=this;this.params=e,this.selectAndSetTemplate();var a={addOrRemoveCssClass:function(s,g){return n.addOrRemoveCssClass(s,g)},addOrRemoveDetailGridCssClass:function(s,g){return n.eDetailGrid.classList.toggle(s,g)},setDetailGrid:function(s){return n.setDetailGrid(s)},setRowData:function(s){return n.setRowData(s)}};this.ctrl=this.createManagedBean(new X0),this.ctrl.init(a,e)},t.prototype.refresh=function(){return this.ctrl&&this.ctrl.refresh()},t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.selectAndSetTemplate=function(){var e=this;if(this.params.pinned)this.setTemplate('<div class="ag-details-row"></div>');else{var n=function(){e.setTemplate(t.TEMPLATE)};if(b._.missing(this.params.template))n();else if("string"==typeof this.params.template)this.setTemplate(this.params.template);else if("function"==typeof this.params.template){var s=(0,this.params.template)(this.params);this.setTemplate(s)}else console.warn("AG Grid: detailCellRendererParams.template should be function or string"),n();null==this.eDetailGrid&&console.warn('AG Grid: reference to eDetailGrid was missing from the details template. Please add ref="eDetailGrid" to the template.')}},t.prototype.setDetailGrid=function(e){if(this.eDetailGrid){var n=this.context.getBean("agGridReact"),a=n?b._.cloneObject(n):void 0,s=this.context.getBean("frameworkComponentWrapper"),g=this.getFrameworkOverrides();new b.Grid(this.eDetailGrid,e,{frameworkOverrides:g,providedBeanInstances:{agGridReact:a,frameworkComponentWrapper:s}}),this.detailApi=e.api,this.ctrl.registerDetailWithMaster(e.api,e.columnApi),this.addDestroyFunc(function(){e.api&&e.api.destroy()})}},t.prototype.setRowData=function(e){this.detailApi&&this.detailApi.setRowData(e)},t.TEMPLATE='<div class="ag-details-row">\n            <div ref="eDetailGrid" class="ag-details-grid"></div>\n        </div>',function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.RefSelector("eDetailGrid")],t.prototype,"eDetailGrid",void 0),t}(b.Component),VP={moduleName:b.ModuleNames.MasterDetailModule,beans:[],userComponents:[{componentName:"agDetailCellRenderer",componentClass:Zb}],controllers:[{controllerName:"detailCellRenderer",controllerClass:X0}],dependantModules:[gn]},Q0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Io=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Z0=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return Q0(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.showMenuAfterMouseEvent=function(e,n,a){var s=this;this.showMenu(e,function(g){var y=g.getGui();s.popupService.positionPopupUnderMouseEvent({type:"columnMenu",column:e,mouseEvent:n,ePopup:y}),a&&g.showTab(a)},"columnMenu",a,void 0,n.target)},t.prototype.showMenuAfterButtonClick=function(e,n,a,s,g){var y=this,_=-1,E="left";this.gridOptionsWrapper.isEnableRtl()&&(_=1,E="right"),this.showMenu(e,function(R){var A=R.getGui();y.popupService.positionPopupUnderComponent({type:a,column:e,eventSource:n,ePopup:A,alignSide:E,nudgeX:9*_,nudgeY:-23,keepWithinBounds:!0}),s&&R.showTab(s)},a,s,g,n)},t.prototype.showMenu=function(e,n,a,s,g,y){var _=this,E=this.createBean(new r_(e,this.lastSelectedTab,g)),R=E.getGui(),A=y||this.ctrlsService.getGridBodyCtrl().getGui(),T=[];T.push(function(j){if(_.destroyBean(E),e.setMenuVisible(!1,"contextMenu"),j instanceof KeyboardEvent&&y&&b._.isVisible(y)){var z=_.focusService.findTabbableParent(y);z&&z.focus()}});var F=this.gridOptionsWrapper.getLocaleTextFunc(),I=this.popupService.addPopup({modal:!0,eChild:R,closeOnEsc:!0,closedCallback:function(j){T.forEach(function(U){return U(j)})},afterGuiAttached:function(j){return E.afterGuiAttached(Object.assign({},{container:a},j))},positionCallback:function(){return n(E)},anchorToElement:A,ariaLabel:F("ariaLabelColumnMenu","Column Menu")});if(I){var G=I.stopAnchoringPromise;G&&G.then(function(j){e.addEventListener(b.Column.EVENT_LEFT_CHANGED,j),e.addEventListener(b.Column.EVENT_VISIBLE_CHANGED,j),T.push(function(){e.removeEventListener(b.Column.EVENT_LEFT_CHANGED,j),e.removeEventListener(b.Column.EVENT_VISIBLE_CHANGED,j)})})}s||(E.showTabBasedOnPreviousSelection(),n(E)),E.addEventListener(r_.EVENT_TAB_SELECTED,function(j){_.lastSelectedTab=j.key}),e.setMenuVisible(!0,"contextMenu"),this.activeMenu=E,E.addEventListener(b.BeanStub.EVENT_DESTROYED,function(){_.activeMenu===E&&(_.activeMenu=null)})},t.prototype.isMenuEnabled=function(e){return e.getMenuTabs(r_.TABS_DEFAULT).length>0},Io([b.Autowired("popupService")],t.prototype,"popupService",void 0),Io([b.Autowired("focusService")],t.prototype,"focusService",void 0),Io([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Io([b.Bean("menuFactory")],t)}(b.BeanStub),r_=function(l){function t(e,n,a){var s=l.call(this)||this;return s.tabFactories={},s.includeChecks={},s.column=e,s.initialSelection=n,s.tabFactories[t.TAB_GENERAL]=s.createMainPanel.bind(s),s.tabFactories[t.TAB_FILTER]=s.createFilterPanel.bind(s),s.tabFactories[t.TAB_COLUMNS]=s.createColumnsPanel.bind(s),s.includeChecks[t.TAB_GENERAL]=function(){return!0},s.includeChecks[t.TAB_FILTER]=function(){return e.isFilterAllowed()},s.includeChecks[t.TAB_COLUMNS]=function(){return!0},s.restrictTo=a,s}return Q0(t,l),t.prototype.init=function(){var e=this,n=this.getTabsToCreate().map(function(a){return e.createTab(a)});this.tabbedLayout=new b.TabbedLayout({items:n,cssClass:"ag-menu",onActiveItemClicked:this.onHidePopup.bind(this),onItemClicked:this.onTabItemClicked.bind(this)}),this.createBean(this.tabbedLayout),this.mainMenuList&&this.mainMenuList.setParentComponent(this.tabbedLayout)},t.prototype.getTabsToCreate=function(){var e=this;return this.restrictTo?this.restrictTo:this.column.getMenuTabs(t.TABS_DEFAULT).filter(function(n){return e.isValidMenuTabItem(n)}).filter(function(n){return e.isNotSuppressed(n)}).filter(function(n){return e.isModuleLoaded(n)})},t.prototype.isModuleLoaded=function(e){return e!==t.TAB_COLUMNS||b.ModuleRegistry.isRegistered(b.ModuleNames.ColumnToolPanelModule)},t.prototype.isValidMenuTabItem=function(e){var n=!0,a=t.TABS_DEFAULT;return null!=this.restrictTo&&(n=this.restrictTo.indexOf(e)>-1,a=this.restrictTo),(n=n&&t.TABS_DEFAULT.indexOf(e)>-1)||console.warn("AG Grid: Trying to render an invalid menu item '"+e+"'. Check that your 'menuTabs' contains one of ["+a+"]"),n},t.prototype.isNotSuppressed=function(e){return this.includeChecks[e]()},t.prototype.createTab=function(e){return this.tabFactories[e]()},t.prototype.showTabBasedOnPreviousSelection=function(){this.showTab(this.initialSelection)},t.prototype.showTab=function(e){this.tabItemColumns&&e===t.TAB_COLUMNS?this.tabbedLayout.showItem(this.tabItemColumns):this.tabItemFilter&&e===t.TAB_FILTER?this.tabbedLayout.showItem(this.tabItemFilter):this.tabItemGeneral&&e===t.TAB_GENERAL?this.tabbedLayout.showItem(this.tabItemGeneral):this.tabbedLayout.showFirstItem()},t.prototype.onTabItemClicked=function(e){var n=null;switch(e.item){case this.tabItemColumns:n=t.TAB_COLUMNS;break;case this.tabItemFilter:n=t.TAB_FILTER;break;case this.tabItemGeneral:n=t.TAB_GENERAL}n&&this.activateTab(n)},t.prototype.activateTab=function(e){this.dispatchEvent({type:t.EVENT_TAB_SELECTED,key:e})},t.prototype.getMenuItems=function(){var n,e=this.getDefaultMenuOptions(),a=this.gridOptionsWrapper.getMainMenuItemsFunc();return n=a?a({column:this.column,defaultItems:e}):e,b._.removeRepeatsFromArray(n,t.MENU_ITEM_SEPARATOR),n},t.prototype.getDefaultMenuOptions=function(){var e=[],n=!this.column.getColDef().lockPinned,a=this.columnModel.getRowGroupColumns().length,s=a>0,g=this.columnModel.getRowGroupColumns().indexOf(this.column)>=0,y=this.column.isAllowValue(),_=this.column.isAllowRowGroup(),E=this.column.isPrimary(),R=this.columnModel.isPivotMode(),A=this.rowModel.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE,T=this.gridOptionsWrapper.isTreeData(),F=E&&s&&y||!E;return n&&e.push("pinSubMenu"),F&&e.push("valueAggSubMenu"),(n||F)&&e.push(t.MENU_ITEM_SEPARATOR),e.push("autoSizeThis"),e.push("autoSizeAll"),e.push(t.MENU_ITEM_SEPARATOR),_&&this.column.isPrimary()&&e.push(g?"rowUnGroup":"rowGroup"),e.push(t.MENU_ITEM_SEPARATOR),e.push("resetColumns"),A&&(T||a>(R?1:0))&&(e.push("expandAll"),e.push("contractAll")),e},t.prototype.createMainPanel=function(){this.mainMenuList=this.createManagedBean(new b.AgMenuList);var e=this.getMenuItems(),n=this.menuItemMapper.mapWithStockItems(e,this.column);return this.mainMenuList.addMenuItems(n),this.mainMenuList.addEventListener(b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,this.onHidePopup.bind(this)),this.tabItemGeneral={title:b._.createIconNoSpan("menu",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_GENERAL.replace("MenuTab",""),bodyPromise:b.AgPromise.resolve(this.mainMenuList.getGui()),name:t.TAB_GENERAL},this.tabItemGeneral},t.prototype.onHidePopup=function(e){var n;e&&e.event&&e.event instanceof KeyboardEvent&&(n=e.event),this.hidePopupFunc(n&&{keyboardEvent:n});var a=this.focusService.getFocusedCell(),s=this.gridOptionsWrapper.getDocument();s.activeElement===s.body&&a&&this.focusService.setFocusedCell(a.rowIndex,a.column,a.rowPinned,!0)},t.prototype.createFilterPanel=function(){var e,n=this.filterManager.getOrCreateFilterWrapper(this.column,"COLUMN_MENU");if(!n)throw new Error("AG Grid - Unable to instantiate filter");return this.tabItemFilter={title:b._.createIconNoSpan("filter",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_FILTER.replace("MenuTab",""),bodyPromise:null===(e=n)||void 0===e?void 0:e.guiPromise,afterAttachedCallback:function(s){var g;!(null===(g=n)||void 0===g?void 0:g.filterPromise)||n.filterPromise.then(function(y){y&&y.afterGuiAttached&&y.afterGuiAttached(s)})},name:t.TAB_FILTER},this.tabItemFilter},t.prototype.createColumnsPanel=function(){var e=document.createElement("div");e.classList.add("ag-menu-column-select-wrapper"),this.columnSelectPanel=this.createManagedBean(new Bo);var n=this.column.getColDef().columnsMenuParams;n||(n={}),this.columnSelectPanel.init(!1,{suppressColumnMove:!1,suppressValues:!1,suppressPivots:!1,suppressRowGroups:!1,suppressPivotMode:!1,contractColumnSelection:!!n.contractColumnSelection,suppressColumnExpandAll:!!n.suppressColumnExpandAll,suppressColumnFilter:!!n.suppressColumnFilter,suppressColumnSelectAll:!!n.suppressColumnSelectAll,suppressSyncLayoutWithGrid:!!n.suppressSyncLayoutWithGrid,api:this.gridApi,columnApi:this.columnApi,context:this.gridOptionsWrapper.getContext()},"columnMenu");var a=this.columnSelectPanel.getGui();return a.classList.add("ag-menu-column-select"),e.appendChild(a),this.tabItemColumns={title:b._.createIconNoSpan("columns",this.gridOptionsWrapper,this.column),titleLabel:t.TAB_COLUMNS.replace("MenuTab",""),bodyPromise:b.AgPromise.resolve(e),name:t.TAB_COLUMNS},this.tabItemColumns},t.prototype.afterGuiAttached=function(e){var a=e.hidePopup;this.tabbedLayout.setAfterAttachedParams({container:e.container,hidePopup:a}),a&&(this.hidePopupFunc=a,this.addDestroyFunc(a))},t.prototype.getGui=function(){return this.tabbedLayout.getGui()},t.EVENT_TAB_SELECTED="tabSelected",t.TAB_FILTER="filterMenuTab",t.TABS_DEFAULT=[t.TAB_GENERAL="generalMenuTab",t.TAB_FILTER,t.TAB_COLUMNS="columnsMenuTab"],t.MENU_ITEM_SEPARATOR="separator",Io([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Io([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),Io([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Io([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Io([b.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Io([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),Io([b.Autowired("focusService")],t.prototype,"focusService",void 0),Io([b.PostConstruct],t.prototype,"init",null),t}(b.BeanStub),J0=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Is=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},eR="ag-context-menu-open",HP=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return J0(t,l),t.prototype.hideActiveMenu=function(){this.destroyBean(this.activeMenu)},t.prototype.getMenuItems=function(e,n,a){var s=[];if(b._.exists(e)&&b.ModuleRegistry.isRegistered(b.ModuleNames.ClipboardModule)&&n&&s.push("copy","copyWithHeaders","copyWithGroupHeaders","paste","separator"),this.gridOptionsWrapper.isEnableCharts()&&b.ModuleRegistry.isRegistered(b.ModuleNames.RangeSelectionModule)&&b.ModuleRegistry.isRegistered(b.ModuleNames.GridChartsModule)&&(this.columnModel.isPivotMode()&&s.push("pivotChart"),this.rangeService&&!this.rangeService.isEmpty()&&s.push("chartRange")),b._.exists(e)){var g=!b.ModuleRegistry.isRegistered(b.ModuleNames.CsvExportModule),y=!b.ModuleRegistry.isRegistered(b.ModuleNames.ExcelExportModule),_=this.gridOptionsWrapper.isSuppressExcelExport()||y,E=this.gridOptionsWrapper.isSuppressCsvExport()||g;!(b._.isIOSUserAgent()||_&&E)&&s.push("export")}if(this.gridOptionsWrapper.getContextMenuItemsFunc()){var T=this.gridOptionsWrapper.getContextMenuItemsFunc();return T?T({node:e,column:n,value:a,defaultItems:s.length?s:void 0}):void 0}return s},t.prototype.onContextMenu=function(e,n,a,s,g,y){!this.gridOptionsWrapper.isAllowContextMenuWithControlKey()&&e&&(e.ctrlKey||e.metaKey)||(e&&this.blockMiddleClickScrollsIfNeeded(e),this.gridOptionsWrapper.isSuppressContextMenu())||this.showMenu(a,s,g,e||n.touches[0],y)&&(e||n).preventDefault()},t.prototype.blockMiddleClickScrollsIfNeeded=function(e){var a=e.which;this.gridOptionsWrapper.isSuppressMiddleClickScrolls()&&2===a&&e.preventDefault()},t.prototype.showMenu=function(e,n,a,s,g){var y=this,_=this.getMenuItems(e,n,a),E=this.ctrlsService.getGridBodyCtrl().getGui();if(void 0===_||b._.missingOrEmpty(_))return!1;var R=new Jb(_);this.createBean(R);var A=R.getGui(),T={column:n,rowNode:e,type:"contextMenu",mouseEvent:s,ePopup:A,nudgeY:1},F=this.gridOptionsWrapper.getLocaleTextFunc(),I=this.popupService.addPopup({modal:!0,eChild:A,closeOnEsc:!0,closedCallback:function(){E.classList.remove(eR),y.destroyBean(R)},click:s,positionCallback:function(){y.popupService.positionPopupUnderMouseEvent(Object.assign({},{nudgeX:y.gridOptionsWrapper.isEnableRtl()?-1*(A.offsetWidth+1):1},T))},anchorToElement:g,ariaLabel:F("ariaLabelContextMenu","Context Menu")});return I&&(E.classList.add(eR),R.afterGuiAttached({container:"contextMenu",hidePopup:I.hideFunc})),this.activeMenu&&this.hideActiveMenu(),this.activeMenu=R,R.addEventListener(b.BeanStub.EVENT_DESTROYED,function(){y.activeMenu===R&&(y.activeMenu=null)}),I&&R.addEventListener(b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,I.hideFunc),!0},Is([b.Autowired("popupService")],t.prototype,"popupService",void 0),Is([b.Optional("rangeService")],t.prototype,"rangeService",void 0),Is([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),Is([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Is([b.Bean("contextMenuFactory")],t)}(b.BeanStub),Jb=function(l){function t(e){var n=l.call(this,'<div class="ag-menu" role="presentation"></div>')||this;return n.menuList=null,n.focusedCell=null,n.menuItems=e,n}return J0(t,l),t.prototype.addMenuItems=function(){var e=this,n=this.createBean(new b.AgMenuList),a=this.menuItemMapper.mapWithStockItems(this.menuItems,null);n.addMenuItems(a),this.appendChild(n),this.menuList=n,n.addEventListener(b.AgMenuItemComponent.EVENT_MENU_ITEM_SELECTED,function(s){return e.dispatchEvent(s)})},t.prototype.afterGuiAttached=function(e){e.hidePopup&&this.addDestroyFunc(e.hidePopup),this.focusedCell=this.focusService.getFocusedCell(),this.menuList&&this.focusService.focusInto(this.menuList.getGui())},t.prototype.restoreFocusedCell=function(){var e=this.focusService.getFocusedCell();if(e&&this.focusedCell&&this.cellPositionUtils.equals(e,this.focusedCell)){var n=this.focusedCell,a=n.rowIndex,s=n.rowPinned,g=n.column,y=this.gridOptionsWrapper.getDocument();y.activeElement===y.body&&this.focusService.setFocusedCell(a,g,s,!0)}},t.prototype.destroy=function(){this.restoreFocusedCell(),l.prototype.destroy.call(this)},Is([b.Autowired("menuItemMapper")],t.prototype,"menuItemMapper",void 0),Is([b.Autowired("focusService")],t.prototype,"focusService",void 0),Is([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Is([b.PostConstruct],t.prototype,"addMenuItems",null),t}(b.Component),kd=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vd=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},tR=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return kd(t,l),t.prototype.mapWithStockItems=function(e,n){var a=this;if(!e)return[];var s=[];return e.forEach(function(g){var y;if(y="string"==typeof g?a.getStockMenuItem(g,n):g){var E=y.subMenu;E&&E instanceof Array&&(y.subMenu=a.mapWithStockItems(y.subMenu,n)),null!=y&&s.push(y)}}),s},t.prototype.getStockMenuItem=function(e,n){var a=this,s=this.gridOptionsWrapper.getLocaleTextFunc(),g=this.gridOptionsWrapper.isSkipHeaderOnAutoSize();switch(e){case"pinSubMenu":return{name:s("pinColumn","Pin Column"),icon:b._.createIconNoSpan("menuPin",this.gridOptionsWrapper,null),subMenu:["pinLeft","pinRight","clearPinned"]};case"pinLeft":return{name:s("pinLeft","Pin Left"),action:function(){return a.columnModel.setColumnPinned(n,b.Constants.PINNED_LEFT,"contextMenu")},checked:!!n&&n.isPinnedLeft()};case"pinRight":return{name:s("pinRight","Pin Right"),action:function(){return a.columnModel.setColumnPinned(n,b.Constants.PINNED_RIGHT,"contextMenu")},checked:!!n&&n.isPinnedRight()};case"clearPinned":return{name:s("noPin","No Pin"),action:function(){return a.columnModel.setColumnPinned(n,null,"contextMenu")},checked:!!n&&!n.isPinned()};case"valueAggSubMenu":return b.ModuleRegistry.assertRegistered(b.ModuleNames.RowGroupingModule,"Aggregation from Menu")?{name:s("valueAggregation","Value Aggregation"),icon:b._.createIconNoSpan("menuValue",this.gridOptionsWrapper,null),subMenu:this.createAggregationSubMenu(n)}:null;case"autoSizeThis":return{name:s("autosizeThiscolumn","Autosize This Column"),action:function(){return a.columnModel.autoSizeColumn(n,g,"contextMenu")}};case"autoSizeAll":return{name:s("autosizeAllColumns","Autosize All Columns"),action:function(){return a.columnModel.autoSizeAllColumns(g,"contextMenu")}};case"rowGroup":return{name:s("groupBy","Group by")+" "+b._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return a.columnModel.addRowGroupColumn(n,"contextMenu")},icon:b._.createIconNoSpan("menuAddRowGroup",this.gridOptionsWrapper,null)};case"rowUnGroup":return{name:s("ungroupBy","Un-Group by")+" "+b._.escapeString(this.columnModel.getDisplayNameForColumn(n,"header")),action:function(){return a.columnModel.removeRowGroupColumn(n,"contextMenu")},icon:b._.createIconNoSpan("menuRemoveRowGroup",this.gridOptionsWrapper,null)};case"resetColumns":return{name:s("resetColumns","Reset Columns"),action:function(){return a.columnModel.resetColumnState("contextMenu")}};case"expandAll":return{name:s("expandAll","Expand All"),action:function(){return a.gridApi.expandAll()}};case"contractAll":return{name:s("collapseAll","Collapse All"),action:function(){return a.gridApi.collapseAll()}};case"copy":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Copy from Menu")?{name:s("copy","Copy"),shortcut:s("ctrlC","Ctrl+C"),icon:b._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.copyToClipboard()}}:null;case"copyWithHeaders":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Copy with Headers from Menu")?{name:s("copyWithHeaders","Copy with Headers"),icon:b._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.copyToClipboard({includeHeaders:!0})}}:null;case"copyWithGroupHeaders":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Copy with Group Headers from Menu")?{name:s("copyWithGroupHeaders","Copy with Group Headers"),icon:b._.createIconNoSpan("clipboardCopy",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.copyToClipboard({includeHeaders:!0,includeGroupHeaders:!0})}}:null;case"paste":return b.ModuleRegistry.assertRegistered(b.ModuleNames.ClipboardModule,"Paste from Clipboard")?{name:s("paste","Paste"),shortcut:s("ctrlV","Ctrl+V"),disabled:!0,icon:b._.createIconNoSpan("clipboardPaste",this.gridOptionsWrapper,null),action:function(){return a.clipboardService.pasteFromClipboard()}}:null;case"export":var y=[],_=b.ModuleRegistry.isRegistered(b.ModuleNames.CsvExportModule),E=b.ModuleRegistry.isRegistered(b.ModuleNames.ExcelExportModule);return!this.gridOptionsWrapper.isSuppressCsvExport()&&_&&y.push("csvExport"),!this.gridOptionsWrapper.isSuppressExcelExport()&&E&&y.push("excelExport"),{name:s("export","Export"),subMenu:y,icon:b._.createIconNoSpan("save",this.gridOptionsWrapper,null)};case"csvExport":return{name:s("csvExport","CSV Export"),icon:b._.createIconNoSpan("csvExport",this.gridOptionsWrapper,null),action:function(){return a.gridApi.exportDataAsCsv({})}};case"excelExport":return{name:s("excelExport","Excel Export"),icon:b._.createIconNoSpan("excelExport",this.gridOptionsWrapper,null),action:function(){return a.gridApi.exportDataAsExcel()}};case"separator":return"separator";default:return this.getChartItems(e)||(console.warn("AG Grid: unknown menu item type "+e),null)}},t.prototype.getChartItems=function(e){var n=this,a=this.gridOptionsWrapper.getLocaleTextFunc(),s=function(y,_,E){return{name:a(y,_),action:function(){return n.chartService.createPivotChart({chartType:E})}}},g=function(y,_,E){return{name:a(y,_),action:function(){return n.chartService.createChartFromCurrentRange(E)}}};switch(e){case"pivotChart":return{name:a("pivotChart","Pivot Chart"),subMenu:["pivotColumnChart","pivotBarChart","pivotPieChart","pivotLineChart","pivotXYChart","pivotAreaChart"],icon:b._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"chartRange":return{name:a("chartRange","Chart Range"),subMenu:["rangeColumnChart","rangeBarChart","rangePieChart","rangeLineChart","rangeXYChart","rangeAreaChart","rangeHistogramChart","rangeCombinationChart"],icon:b._.createIconNoSpan("chart",this.gridOptionsWrapper,null)};case"pivotColumnChart":return{name:a("columnChart","Column"),subMenu:["pivotGroupedColumn","pivotStackedColumn","pivotNormalizedColumn"]};case"pivotGroupedColumn":return s("groupedColumn","Grouped&lrm;","groupedColumn");case"pivotStackedColumn":return s("stackedColumn","Stacked&lrm;","stackedColumn");case"pivotNormalizedColumn":return s("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"rangeColumnChart":return{name:a("columnChart","Column"),subMenu:["rangeGroupedColumn","rangeStackedColumn","rangeNormalizedColumn"]};case"rangeGroupedColumn":return g("groupedColumn","Grouped&lrm;","groupedColumn");case"rangeStackedColumn":return g("stackedColumn","Stacked&lrm;","stackedColumn");case"rangeNormalizedColumn":return g("normalizedColumn","100% Stacked&lrm;","normalizedColumn");case"pivotBarChart":return{name:a("barChart","Bar"),subMenu:["pivotGroupedBar","pivotStackedBar","pivotNormalizedBar"]};case"pivotGroupedBar":return s("groupedBar","Grouped&lrm;","groupedBar");case"pivotStackedBar":return s("stackedBar","Stacked&lrm;","stackedBar");case"pivotNormalizedBar":return s("normalizedBar","100% Stacked&lrm;","normalizedBar");case"rangeBarChart":return{name:a("barChart","Bar"),subMenu:["rangeGroupedBar","rangeStackedBar","rangeNormalizedBar"]};case"rangeGroupedBar":return g("groupedBar","Grouped&lrm;","groupedBar");case"rangeStackedBar":return g("stackedBar","Stacked&lrm;","stackedBar");case"rangeNormalizedBar":return g("normalizedBar","100% Stacked&lrm;","normalizedBar");case"pivotPieChart":return{name:a("pieChart","Pie"),subMenu:["pivotPie","pivotDoughnut"]};case"pivotPie":return s("pie","Pie&lrm;","pie");case"pivotDoughnut":return s("doughnut","Doughnut&lrm;","doughnut");case"rangePieChart":return{name:a("pieChart","Pie"),subMenu:["rangePie","rangeDoughnut"]};case"rangePie":return g("pie","Pie&lrm;","pie");case"rangeDoughnut":return g("doughnut","Doughnut&lrm;","doughnut");case"pivotLineChart":return s("line","Line&lrm;","line");case"rangeLineChart":return g("line","Line&lrm;","line");case"pivotXYChart":return{name:a("xyChart","X Y (Scatter)"),subMenu:["pivotScatter","pivotBubble"]};case"pivotScatter":return s("scatter","Scatter&lrm;","scatter");case"pivotBubble":return s("bubble","Bubble&lrm;","bubble");case"rangeXYChart":return{name:a("xyChart","X Y (Scatter)"),subMenu:["rangeScatter","rangeBubble"]};case"rangeScatter":return g("scatter","Scatter&lrm;","scatter");case"rangeBubble":return g("bubble","Bubble&lrm;","bubble");case"pivotAreaChart":return{name:a("areaChart","Area"),subMenu:["pivotArea","pivotStackedArea","pivotNormalizedArea"]};case"pivotArea":return s("area","Area&lrm;","area");case"pivotStackedArea":return s("stackedArea","Stacked&lrm;","stackedArea");case"pivotNormalizedArea":return s("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeAreaChart":return{name:a("areaChart","Area"),subMenu:["rangeArea","rangeStackedArea","rangeNormalizedArea"]};case"rangeArea":return g("area","Area&lrm;","area");case"rangeStackedArea":return g("stackedArea","Stacked&lrm;","stackedArea");case"rangeNormalizedArea":return g("normalizedArea","100% Stacked&lrm;","normalizedArea");case"rangeHistogramChart":return g("histogramChart","Histogram&lrm;","histogram");case"rangeColumnLineCombo":return g("columnLineCombo","Column & Line&lrm;","columnLineCombo");case"rangeAreaColumnCombo":return g("AreaColumnCombo","Area & Column&lrm;","areaColumnCombo");case"rangeCombinationChart":return{name:a("combinationChart","Combination"),subMenu:["rangeColumnLineCombo","rangeAreaColumnCombo"]};default:return null}},t.prototype.createAggregationSubMenu=function(e){var y,n=this,a=this.gridOptionsWrapper.getLocaleTextFunc(),s=e.isValueActive(),g=this.aggFuncService.getFuncNames(e);if(e.isPrimary())y=e;else{var _=e.getColDef().pivotValueColumn;y=b._.exists(_)?_:void 0}var E=[];return g.forEach(function(R){E.push({name:a(R,R),action:function(){n.columnModel.setColumnAggFunc(y,R,"contextMenu"),n.columnModel.addValueColumn(y,"contextMenu")},checked:s&&y.getAggFunc()===R})}),E},Vd([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Vd([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Vd([b.Optional("clipboardService")],t.prototype,"clipboardService",void 0),Vd([b.Optional("aggFuncService")],t.prototype,"aggFuncService",void 0),Vd([b.Optional("chartService")],t.prototype,"chartService",void 0),Vd([b.Bean("menuItemMapper")],t)}(b.BeanStub),WP={moduleName:b.ModuleNames.MenuModule,beans:[Z0,HP,tR],dependantModules:[gn]},RA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Vf=function(){return Vf=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},Vf.apply(this,arguments)},n_=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},eE=function(l){function t(){var e=l.call(this,'<div class="ag-multi-filter ag-menu-list-compact"></div>')||this;return e.filterDefs=[],e.filters=[],e.guiDestroyFuncs=[],e.activeFilterIndices=[],e.lastActivatedMenuItem=null,e.afterFiltersReadyFuncs=[],e}return RA(t,l),t.prototype.postConstruct=function(){var e=this;this.initialiseTabGuard({onFocusIn:function(n){return e.onFocusIn(n)}})},t.getFilterDefs=function(e){var n=e.filters;return n&&n.length>0?n:[{filter:"agTextColumnFilter"},{filter:"agSetColumnFilter"}]},t.prototype.init=function(e){var n=this;this.params=e,this.filterDefs=t.getFilterDefs(e);var s=e.filterChangedCallback;this.column=e.column,this.filterChangedCallback=s;var g=[];return this.filterDefs.forEach(function(y,_){var E=n.createFilter(y,_);null!=E&&g.push(E)}),b.AgPromise.all(g).then(function(y){n.filters=y,n.refreshGui("columnMenu"),n.afterFiltersReadyFuncs.forEach(function(_){return _()}),n.afterFiltersReadyFuncs.length=0})},t.prototype.refreshGui=function(e){var n=this;e!==this.lastOpenedInContainer&&(this.removeAllChildrenExceptTabGuards(),this.destroyChildren(),this.filters.forEach(function(a,s){s>0&&n.appendChild(b._.loadTemplate('<div class="ag-filter-separator"></div>'));var _,g=n.filterDefs[s],y=n.getFilterTitle(a,g);_="subMenu"===g.display&&"toolPanel"!==e?n.insertFilterMenu(a,y).getGui():"subMenu"===g.display||"accordion"===g.display?n.insertFilterGroup(a,y).getGui():a.getGui(),n.appendChild(_)}),this.lastOpenedInContainer=e)},t.prototype.getFilterTitle=function(e,n){return null!=n.title?n.title:"function"==typeof e.getFilterTitle?e.getFilterTitle():"Filter"},t.prototype.destroyChildren=function(){this.guiDestroyFuncs.forEach(function(e){return e()}),this.guiDestroyFuncs.length=0},t.prototype.insertFilterMenu=function(e,n){var a=this,s=this.createBean(new b.AgMenuItemComponent({name:n,subMenu:e,cssClasses:["ag-multi-filter-menu-item"],isCompact:!0,isAnotherSubMenuOpen:function(){return!1}}));return s.setParentComponent(this),this.guiDestroyFuncs.push(function(){return a.destroyBean(s)}),this.addManagedListener(s,b.AgMenuItemComponent.EVENT_MENU_ITEM_ACTIVATED,function(g){a.lastActivatedMenuItem&&a.lastActivatedMenuItem!==g.menuItem&&a.lastActivatedMenuItem.deactivate(),a.lastActivatedMenuItem=g.menuItem}),s.addGuiEventListener("focusin",function(){return s.activate()}),s.addGuiEventListener("focusout",function(){s.isSubMenuOpen()||s.deactivate()}),s},t.prototype.insertFilterGroup=function(e,n){var a=this,s=this.createBean(new b.AgGroupComponent({title:n,cssIdentifier:"multi-filter"}));if(this.guiDestroyFuncs.push(function(){return a.destroyBean(s)}),s.addItem(e.getGui()),s.toggleGroupExpand(!1),e.afterGuiAttached){var g={container:this.lastOpenedInContainer,suppressFocus:!0};s.addManagedListener(s,b.AgGroupComponent.EVENT_EXPANDED,function(){return e.afterGuiAttached(g)})}return s},t.prototype.isFilterActive=function(){return this.filters.some(function(e){return e.isFilterActive()})},t.prototype.getLastActiveFilterIndex=function(){return this.activeFilterIndices.length>0?this.activeFilterIndices[this.activeFilterIndices.length-1]:null},t.prototype.doesFilterPass=function(e,n){var a=!0;return this.filters.forEach(function(s){!a||s===n||!s.isFilterActive()||(a=s.doesFilterPass(e))}),a},t.prototype.getFilterType=function(){return"multi"},t.prototype.getModelFromUi=function(){return{filterType:this.getFilterType(),filterModels:this.filters.map(function(n){return"function"==typeof n.getModelFromUi?n.getModelFromUi():null})}},t.prototype.getModel=function(){return this.isFilterActive()?{filterType:this.getFilterType(),filterModels:this.filters.map(function(n){return n.isFilterActive()?n.getModel():null})}:null},t.prototype.setModel=function(e){var n=this,a=function(g,y){return new b.AgPromise(function(_){var E=g.setModel(y);E?E.then(function(){return _()}):_()})},s=[];return null==e?s=this.filters.map(function(g,y){var _=a(g,null);return n.updateActiveList(y),_}):this.filters.forEach(function(g,y){var E=a(g,e.filterModels.length>y?e.filterModels[y]:null);s.push(E),n.updateActiveList(y)}),b.AgPromise.all(s).then(function(){})},t.prototype.applyModel=function(){var e=!1;return this.filters.forEach(function(n){n instanceof b.ProvidedFilter&&(e=n.applyModel()||e)}),e},t.prototype.getChildFilterInstance=function(e){return this.filters[e]},t.prototype.afterGuiAttached=function(e){e&&this.refreshGui(e.container);var n=this.params.filters,a=n&&n.some(function(y){return y.display&&"inline"!==y.display});this.executeFunctionIfExists("afterGuiAttached",Vf(Vf({},e||{}),{suppressFocus:a}));var s=this.gridOptionsWrapper.getDocument(),g=s.activeElement;a&&(g===s.body||this.getGui().contains(g))&&this.forceFocusOutOfContainer(!0)},t.prototype.onAnyFilterChanged=function(){this.executeFunctionIfExists("onAnyFilterChanged")},t.prototype.onNewRowsLoaded=function(){this.executeFunctionIfExists("onNewRowsLoaded")},t.prototype.destroy=function(){var e=this;this.filters.forEach(function(n){n.setModel(null),e.destroyBean(n)}),this.filters.length=0,this.destroyChildren(),l.prototype.destroy.call(this)},t.prototype.executeFunctionIfExists=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];b._.forEachReverse(this.filters,function(s){var g=s[e];"function"==typeof g&&g.apply(s,n)})},t.prototype.createFilter=function(e,n){var _,a=this,s=this.params,g=s.filterModifiedCallback,y=s.doesRowPassOtherFilter,E=Vf(Vf({},this.filterManager.createFilterParams(this.column,this.column.getColDef())),{filterModifiedCallback:g,filterChangedCallback:function(T){a.executeWhenAllFiltersReady(function(){return a.filterChanged(n,T)})},doesRowPassOtherFilter:function(T){return y(T)&&a.doesFilterPass({node:T,data:T.data},_)}}),R=this.userComponentFactory.getFilterDetails(e,E,"agTextColumnFilter");if(!R)return null;var A=R.newAgStackInstance();return A&&A.then(function(T){return _=T}),A},t.prototype.executeWhenAllFiltersReady=function(e){this.filters&&this.filters.length>0?e():this.afterFiltersReadyFuncs.push(e)},t.prototype.updateActiveList=function(e){var n=this.filters[e];b._.removeFromArray(this.activeFilterIndices,e),n.isFilterActive()&&this.activeFilterIndices.push(e)},t.prototype.filterChanged=function(e,n){this.updateActiveList(e),this.filterChangedCallback(n);var a=this.filters[e];this.filters.forEach(function(s){s!==a&&"function"==typeof s.onAnyFilterChanged&&s.onAnyFilterChanged()})},t.prototype.onFocusIn=function(e){return null!=this.lastActivatedMenuItem&&!this.lastActivatedMenuItem.getGui().contains(e.target)&&(this.lastActivatedMenuItem.deactivate(),this.lastActivatedMenuItem=null),!0},n_([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),n_([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),n_([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.TabGuardComp),rR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),i_=function(){return i_=Object.assign||function(l){for(var t,e=1,n=arguments.length;e<n;e++)for(var a in t=arguments[e])Object.prototype.hasOwnProperty.call(t,a)&&(l[a]=t[a]);return l},i_.apply(this,arguments)},DA=function(l){function t(){var e=l.call(this,'<div class="ag-multi-floating-filter ag-floating-filter-input"></div>')||this;return e.floatingFilters=[],e}return rR(t,l),t.prototype.init=function(e){var n=this;this.params=e;var s=[];return eE.getFilterDefs(e.filterParams).forEach(function(g,y){var _=i_(i_({},e),{parentFilterInstance:function(R){n.parentMultiFilterInstance(function(A){var T=A.getChildFilterInstance(y);null!=T&&R(T)})}}),E=n.createFloatingFilter(g,_);null!=E&&s.push(E)}),b.AgPromise.all(s).then(function(g){g.forEach(function(y,_){n.floatingFilters.push(y);var E=y.getGui();n.appendChild(E),_>0&&b._.setDisplayed(E,!1)})})},t.prototype.onParentModelChanged=function(e,n){var a=this;n&&n.afterFloatingFilter||this.parentMultiFilterInstance(function(s){if(null==e)a.floatingFilters.forEach(function(y,_){y.onParentModelChanged(null,n),b._.setDisplayed(y.getGui(),0===_)});else{var g=s.getLastActiveFilterIndex();a.floatingFilters.forEach(function(y,_){y.onParentModelChanged(e.filterModels.length>_?e.filterModels[_]:null,n);var R=null==g?0===_:_===g;b._.setDisplayed(y.getGui(),R)})}})},t.prototype.destroy=function(){this.destroyBeans(this.floatingFilters),this.floatingFilters.length=0,l.prototype.destroy.call(this)},t.prototype.createFloatingFilter=function(e,n){var a=this.userComponentFactory.getDefaultFloatingFilterType(e)||"agTextColumnFloatingFilter",s=this.userComponentFactory.getFloatingFilterCompDetails(e,n,a);return s?s.newAgStackInstance():null},t.prototype.parentMultiFilterInstance=function(e){this.params.parentFilterInstance(function(n){if(!(n instanceof eE))throw new Error("AG Grid - MultiFloatingFilterComp expects MultiFilter as it's parent");e(n)})},function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(b.Component),tE={moduleName:b.ModuleNames.MultiFilterModule,beans:[],userComponents:[{componentName:"agMultiColumnFilter",componentClass:eE},{componentName:"agMultiColumnFloatingFilter",componentClass:DA}],dependantModules:[gn]},nR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),zP=function(l){function t(e){var n=l.call(this,'<div class="ag-rich-select-row"></div>')||this;return n.params=e,n}return nR(t,l),t.prototype.setState=function(e,n,a){this.populateWithRenderer(e,n)||this.populateWithoutRenderer(e,n),this.addOrRemoveCssClass("ag-rich-select-row-selected",a)},t.prototype.populateWithoutRenderer=function(e,n){var s=null!=n?n:e;b._.exists(s)&&""!==s?this.getGui().textContent=s.toString():this.getGui().innerHTML="&nbsp;"},t.prototype.populateWithRenderer=function(e,n){var a=this,s={value:e,valueFormatted:n,api:this.gridOptionsWrapper.getApi()},g=this.userComponentFactory.getCellRendererDetails(this.params,s),y=g?g.newAgStackInstance():void 0;return null!=y?b._.bindCellRendererToHtmlElement(y,this.getGui()):this.getGui().innerText=null!=s.valueFormatted?s.valueFormatted:s.value,!!y&&(y.then(function(_){a.addDestroyFunc(function(){a.getContext().destroyBean(_)})}),!0)},function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);a>3&&s&&Object.defineProperty(t,e,s)}([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),t}(b.Component),iR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ty=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},o_=function(l){function t(){var e=l.call(this,t.TEMPLATE)||this;return e.selectionConfirmed=!1,e.searchString="",e}return iR(t,l),t.prototype.init=function(e){this.params=e,this.selectedValue=e.value,this.originalSelectedValue=e.value,this.focusAfterAttached=e.cellStartedEdit;var n=b._.createIconNoSpan("smallDown",this.gridOptionsWrapper);if(n.classList.add("ag-rich-select-value-icon"),this.eValue.appendChild(n),this.virtualList=this.getContext().createBean(new b.VirtualList("rich-select")),this.virtualList.setComponentCreator(this.createRowComponent.bind(this)),this.eList.appendChild(this.virtualList.getGui()),b._.exists(this.params.cellHeight)&&this.virtualList.setRowHeight(this.params.cellHeight),this.renderSelectedValue(),b._.missing(e.values))console.warn("AG Grid: richSelectCellEditor requires values for it to work");else{var a=e.values;this.virtualList.setModel({getRowCount:function(){return a.length},getRow:function(y){return a[y]}}),this.addGuiEventListener("keydown",this.onKeyDown.bind(this));var s=this.virtualList.getGui();this.addManagedListener(s,"click",this.onClick.bind(this)),this.addManagedListener(s,"mousemove",this.onMouseMove.bind(this));var g=b._.exists(e.searchDebounceDelay)?e.searchDebounceDelay:300;this.clearSearchString=b._.debounce(this.clearSearchString,g),b._.exists(e.charPress)&&this.searchText(e.charPress)}},t.prototype.onKeyDown=function(e){var n=e.key;switch(e.preventDefault(),n){case b.KeyCode.ENTER:this.onEnterKeyDown();break;case b.KeyCode.TAB:this.confirmSelection();break;case b.KeyCode.DOWN:case b.KeyCode.UP:this.onNavigationKeyPressed(e,n);break;default:this.searchText(e)}},t.prototype.confirmSelection=function(){this.selectionConfirmed=!0},t.prototype.onEnterKeyDown=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.onNavigationKeyPressed=function(e,n){e.preventDefault();var a=this.params.values.indexOf(this.selectedValue),s=n===b.KeyCode.UP?a-1:a+1;s>=0&&s<this.params.values.length&&this.setSelectedValue(this.params.values[s])},t.prototype.searchText=function(e){if("string"==typeof e)this.searchString+=e,this.runSearch(),this.clearSearchString();else{var n=e.key;if(n===b.KeyCode.BACKSPACE)this.searchString=this.searchString.slice(0,-1),n="";else if(!b._.isEventFromPrintableCharacter(e))return;this.searchText(n)}},t.prototype.runSearch=function(){var a,e=this,n=this.params.values;if(("number"==typeof n[0]||"string"==typeof n[0])&&(a=n.map(String)),"object"==typeof n[0]&&this.params.colDef.keyCreator&&(a=n.map(function(_){var E={value:_,colDef:e.params.colDef,column:e.params.column,node:e.params.node,data:e.params.data,api:e.gridOptionsWrapper.getApi(),columnApi:e.gridOptionsWrapper.getColumnApi(),context:e.gridOptionsWrapper.getContext()};return e.params.colDef.keyCreator(E)})),a){var s=b._.fuzzySuggestions(this.searchString,a,!0,!0)[0];if(s){var g=a.indexOf(s);this.setSelectedValue(n[g])}}},t.prototype.clearSearchString=function(){this.searchString=""},t.prototype.renderSelectedValue=function(){var e=this,n=this.params.formatValue(this.selectedValue),a=this.eValue,s={value:this.selectedValue,valueFormatted:n,api:this.gridOptionsWrapper.getApi()},g=this.userComponentFactory.getCellRendererDetails(this.params,s),y=g?g.newAgStackInstance():void 0;y?(b._.bindCellRendererToHtmlElement(y,a),y.then(function(_){e.addDestroyFunc(function(){return e.getContext().destroyBean(_)})})):b._.exists(this.selectedValue)?a.innerHTML=n:b._.clearElement(a)},t.prototype.setSelectedValue=function(e){if(this.selectedValue!==e){var n=this.params.values.indexOf(e);-1!==n&&(this.selectedValue=e,this.virtualList.ensureIndexVisible(n),this.virtualList.refresh())}},t.prototype.createRowComponent=function(e){var n=this.params.formatValue(e),a=new zP(this.params);return this.getContext().createBean(a),a.setState(e,n,e===this.selectedValue),a},t.prototype.onMouseMove=function(e){var n=this.virtualList.getGui().getBoundingClientRect(),a=this.virtualList.getScrollTop(),g=Math.floor((e.clientY-n.top+a)/this.virtualList.getRowHeight()),y=this.params.values[g];void 0!==y&&this.setSelectedValue(y)},t.prototype.onClick=function(){this.confirmSelection(),this.params.stopEditing()},t.prototype.afterGuiAttached=function(){var e=this.params.values.indexOf(this.selectedValue);this.virtualList.refresh(),e>=0&&this.virtualList.ensureIndexVisible(e),this.virtualList.refresh(),this.focusAfterAttached&&this.getGui().focus()},t.prototype.getValue=function(){return this.selectionConfirmed?this.selectedValue:this.originalSelectedValue},t.TEMPLATE='<div class="ag-rich-select" tabindex="-1">\n            <div ref="eValue" class="ag-rich-select-value"></div>\n            <div ref="eList" class="ag-rich-select-list"></div>\n        </div>',Ty([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Ty([b.RefSelector("eValue")],t.prototype,"eValue",void 0),Ty([b.RefSelector("eList")],t.prototype,"eList",void 0),t}(b.PopupComponent),oR={moduleName:b.ModuleNames.RichSelectModule,beans:[],userComponents:[{componentName:"agRichSelect",componentClass:o_},{componentName:"agRichSelectCellEditor",componentClass:o_}],dependantModules:[gn]},$P=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),so=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},aR=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.pauseStoreUpdateListening=!1,e.started=!1,e}return $P(t,l),t.prototype.ensureRowHeightsValid=function(){return!1},t.prototype.start=function(){this.started=!0;var e=this.gridOptionsWrapper.getServerSideDatasource();e&&this.setDatasource(e)},t.prototype.destroyDatasource=function(){!this.datasource||(this.datasource.destroy&&this.datasource.destroy(),this.rowRenderer.datasourceChanged(),this.datasource=void 0)},t.prototype.addEventListeners=function(){this.addManagedListener(this.eventService,b.Events.EVENT_NEW_COLUMNS_LOADED,this.onColumnEverything.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_STORE_UPDATED,this.onStoreUpdated.bind(this));var e=this.resetRootStore.bind(this);this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_VALUE_CHANGED,e),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_CHANGED,e),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_ROW_GROUP_CHANGED,e),this.addManagedListener(this.eventService,b.Events.EVENT_COLUMN_PIVOT_MODE_CHANGED,e),this.verifyProps()},t.prototype.verifyProps=function(){null!=this.gridOptionsWrapper.getInitialGroupOrderComparator()&&b._.doOnce(function(){return console.warn("AG Grid: initialGroupOrderComparator cannot be used with Server Side Row Model. If using Full Store, then provide the rows to the grid in the desired sort order. If using Partial Store, then sorting is done on the server side, nothing to do with the client.")},"SSRM.InitialGroupOrderComparator"),this.gridOptionsWrapper.isRowSelection()&&null==this.gridOptionsWrapper.getRowIdFunc()&&b._.doOnce(function(){return console.warn("AG Grid: getRowId callback must be provided for Server Side Row Model selection to work correctly.")},"SSRM.SelectionNeedsRowNodeIdFunc")},t.prototype.setDatasource=function(e){!this.started||(this.destroyDatasource(),this.datasource=e,this.resetRootStore())},t.prototype.isLastRowIndexKnown=function(){var e=this.getRootStore();return!!e&&e.isLastRowIndexKnown()},t.prototype.onColumnEverything=function(){if(!this.gridOptionsWrapper.isSuppressEnterpriseResetOnNewColumns()){if(!this.storeParams)return void this.resetRootStore();var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),n=this.columnsToValueObjects(this.columnModel.getValueColumns()),a=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=!b._.jsonEquals(this.storeParams.sortModel,this.sortController.getSortModel()),g=!b._.jsonEquals(this.storeParams.rowGroupCols,e),y=!b._.jsonEquals(this.storeParams.pivotCols,a),_=!b._.jsonEquals(this.storeParams.valueCols,n);(s||g||y||_)&&this.resetRootStore()}},t.prototype.destroyRootStore=function(){!this.rootNode||!this.rootNode.childStore||(this.rootNode.childStore=this.destroyBean(this.rootNode.childStore),this.nodeManager.clear())},t.prototype.refreshAfterSort=function(e,n){this.storeParams&&(this.storeParams.sortModel=e);var a=this.getRootStore();!a||(a.refreshAfterSort(n),this.onStoreUpdated())},t.prototype.resetRootStore=function(){this.destroyRootStore(),this.rootNode=new b.RowNode(this.beans),this.rootNode.group=!0,this.rootNode.level=-1,this.datasource&&(this.storeParams=this.createStoreParams(),this.rootNode.childStore=this.createBean(this.storeFactory.createStore(this.storeParams,this.rootNode)),this.updateRowIndexesAndBounds()),this.eventService.dispatchEvent({type:b.Events.EVENT_ROW_DATA_CHANGED,api:this.gridApi,columnApi:this.columnApi}),this.dispatchModelUpdated(!0)},t.prototype.columnsToValueObjects=function(e){var n=this;return e.map(function(a){return{id:a.getId(),aggFunc:a.getAggFunc(),displayName:n.columnModel.getDisplayNameForColumn(a,"model"),field:a.getColDef().field}})},t.prototype.createStoreParams=function(){var e=this.columnsToValueObjects(this.columnModel.getRowGroupColumns()),n=this.columnsToValueObjects(this.columnModel.getValueColumns()),a=this.columnsToValueObjects(this.columnModel.getPivotColumns()),s=this.gridOptionsWrapper.isDynamicRowHeight();return{valueCols:n,rowGroupCols:e,pivotCols:a,pivotMode:this.columnModel.isPivotMode(),filterModel:this.filterManager.getFilterModel(),sortModel:this.sortListener.extractSortModel(),datasource:this.datasource,lastAccessedSequence:new b.NumberSequence,dynamicRowHeight:s}},t.prototype.getParams=function(){return this.storeParams},t.prototype.dispatchModelUpdated=function(e){void 0===e&&(e=!1),this.eventService.dispatchEvent({type:b.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,animate:!e,keepRenderedRows:!e,newPage:!1,newData:!1})},t.prototype.onStoreUpdated=function(){this.pauseStoreUpdateListening||(this.updateRowIndexesAndBounds(),this.dispatchModelUpdated())},t.prototype.onRowHeightChanged=function(){this.updateRowIndexesAndBounds(),this.dispatchModelUpdated()},t.prototype.updateRowIndexesAndBounds=function(){var e=this.getRootStore();!e||e.setDisplayIndexes(new b.NumberSequence,{value:0})},t.prototype.retryLoads=function(){var e=this.getRootStore();!e||(e.retryLoads(),this.onStoreUpdated())},t.prototype.getRow=function(e){var n=this.getRootStore();if(n)return n.getRowUsingDisplayIndex(e)},t.prototype.expandAll=function(e){this.pauseStoreUpdateListening=!0,this.forEachNode(function(n){n.group&&n.setExpanded(e)}),this.pauseStoreUpdateListening=!1,this.onStoreUpdated()},t.prototype.refreshAfterFilter=function(e,n){this.storeParams&&(this.storeParams.filterModel=e);var a=this.getRootStore();!a||(a.refreshAfterFilter(n),this.onStoreUpdated())},t.prototype.getRootStore=function(){if(this.rootNode&&this.rootNode.childStore)return this.rootNode.childStore},t.prototype.getRowCount=function(){var e=this.getRootStore();return e?e.getDisplayIndexEnd():1},t.prototype.getTopLevelRowCount=function(){var e=this.getRootStore();return e?e.getRowCount():1},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.getRootStore();return n?n.getTopLevelRowDisplayedIndex(e):e},t.prototype.getRowBounds=function(e){var n=this.getRootStore();return n?n.getRowBounds(e):{rowTop:0,rowHeight:this.gridOptionsWrapper.getRowHeightAsNumber()}},t.prototype.getRowIndexAtPixel=function(e){var n=this.getRootStore();return e<=0||!n?0:n.getRowIndexAtPixel(e)},t.prototype.isEmpty=function(){return!1},t.prototype.isRowsToRender=function(){return null!=this.getRootStore()&&this.getRowCount()>0},t.prototype.getType=function(){return b.Constants.ROW_MODEL_TYPE_SERVER_SIDE},t.prototype.forEachNode=function(e){var n=this.getRootStore();!n||n.forEachNodeDeep(e)},t.prototype.forEachNodeAfterFilterAndSort=function(e){var n=this.getRootStore();!n||n.forEachNodeDeepAfterFilterAndSort(e)},t.prototype.executeOnStore=function(e,n){var a=this.getRootStore();if(a){var s=a.getChildStore(e);s&&n(s)}},t.prototype.refreshStore=function(e){void 0===e&&(e={}),this.executeOnStore(e.route?e.route:[],function(a){return a.refreshStore(1==e.purge)})},t.prototype.getStoreState=function(){var e=[],n=this.getRootStore();return n&&n.addStoreStates(e),e},t.prototype.getNodesInRangeForSelection=function(e,n){return b._.exists(n)&&e.parent!==n.parent?[]:e.parent.childStore.getRowNodesInRange(n,e)},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(a){a.id===e&&(n=a),a.detailNode&&a.detailNode.id===e&&(n=a.detailNode)}),n},t.prototype.isRowPresent=function(e){return!!this.getRowNode(e.id)},so([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),so([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),so([b.Autowired("sortController")],t.prototype,"sortController",void 0),so([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),so([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),so([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),so([b.Autowired("ssrmSortService")],t.prototype,"sortListener",void 0),so([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),so([b.Autowired("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),so([b.Autowired("beans")],t.prototype,"beans",void 0),so([b.PreDestroy],t.prototype,"destroyDatasource",null),so([b.PostConstruct],t.prototype,"addEventListeners",null),so([b.PreDestroy],t.prototype,"destroyRootStore",null),so([b.Bean("rowModel")],t)}(b.BeanStub),PA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),rE=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},TA=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return PA(t,l),t.prototype.loadFromDatasource=function(e){var n=e.storeParams,a=e.parentBlock,g=e.parentNode.getGroupKeys();if(n.datasource){var _={successCallback:e.successCallback,success:e.success,failCallback:e.failCallback,fail:e.fail,request:{startRow:e.startRow,endRow:e.endRow,rowGroupCols:n.rowGroupCols,valueCols:n.valueCols,pivotCols:n.pivotCols,pivotMode:n.pivotMode,groupKeys:g,filterModel:n.filterModel,sortModel:n.sortModel},parentNode:e.parentNode,api:this.gridApi,columnApi:this.columnApi};window.setTimeout(function(){n.datasource&&a.isAlive()?n.datasource.getRows(_):e.failCallback()},0)}},t.prototype.getChildStore=function(e,n,a){if(b._.missingOrEmpty(e))return n;var g=a(e[0]);if(g){var y=e.slice(1,e.length),_=g.childStore;return _?_.getChildStore(y):null}return null},t.prototype.isServerRefreshNeeded=function(e,n,a){if(a.alwaysReset||a.valueColChanged||a.secondaryColChanged)return!0;var s=e.level+1;return!(s<n.length&&!(a.changedColumns.indexOf(n[s].id)>-1))},rE([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),rE([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),rE([b.Bean("ssrmStoreUtils")],t)}(b.BeanStub),AA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bd=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},nE=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return AA(t,l),t.prototype.postConstruct=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.usingMasterDetail=this.gridOptionsWrapper.isMasterDetail()},t.prototype.createRowNode=function(e){var n=new b.RowNode(this.beans);return n.setRowHeight(null!=e.rowHeight?e.rowHeight:this.rowHeight),n.group=e.group,n.leafGroup=e.leafGroup,n.level=e.level,n.uiLevel=e.level,n.parent=e.parent,n.stub=!0,n.group&&(n.expanded=!1,n.field=e.field,n.rowGroupColumn=e.rowGroupColumn),n},t.prototype.destroyRowNodes=function(e){e&&e.forEach(this.destroyRowNode.bind(this))},t.prototype.destroyRowNode=function(e){e.childStore&&(this.destroyBean(e.childStore),e.childStore=null),e.clearRowTopAndRowIndex(),null!=e.id&&this.nodeManager.removeNode(e)},t.prototype.setTreeGroupInfo=function(e){var n=this.gridOptionsWrapper.getIsServerSideGroupFunc(),a=this.gridOptionsWrapper.getServerSideGroupKeyFunc();null!=n&&(e.setGroup(n(e.data)),e.group&&null!=a&&(e.key=a(e.data))),!e.group&&null!=e.childStore&&(this.destroyBean(e.childStore),e.childStore=null)},t.prototype.setRowGroupInfo=function(e){e.key=this.valueService.getValue(e.rowGroupColumn,e),null==e.key&&b._.doOnce(function(){console.warn("AG Grid: null and undefined values are not allowed for server side row model keys"),e.rowGroupColumn&&console.warn("column = "+e.rowGroupColumn.getId()),console.warn("data is ",e.data)},"ServerSideBlock-CannotHaveNullOrUndefinedForKey")},t.prototype.setMasterDetailInfo=function(e){var n=this.gridOptionsWrapper.getIsRowMasterFunc();e.master=null==n||n(e.data)},t.prototype.updateDataIntoRowNode=function(e,n){e.updateData(n),this.usingTreeData&&this.setTreeGroupInfo(e)},t.prototype.setDataIntoRowNode=function(e,n,a,s){e.stub=!1,b._.exists(n)?(e.setDataAndId(n,a),this.usingTreeData?this.setTreeGroupInfo(e):e.group?this.setRowGroupInfo(e):this.usingMasterDetail&&this.setMasterDetailInfo(e)):(e.setDataAndId(void 0,void 0),e.key=null),(this.usingTreeData||e.group)&&(this.setGroupDataIntoRowNode(e),this.setChildCountIntoRowNode(e)),b._.exists(n)&&e.setRowHeight(this.gridOptionsWrapper.getRowHeightForNode(e,!1,s).height)},t.prototype.setChildCountIntoRowNode=function(e){var n=this.gridOptionsWrapper.getChildCountFunc();n&&(e.allChildrenCount=n(e.data))},t.prototype.setGroupDataIntoRowNode=function(e){var n=this,a=this.columnModel.getGroupDisplayColumns(),s=this.gridOptionsWrapper.isTreeData();a.forEach(function(g){if(null==e.groupData&&(e.groupData={}),s)e.groupData[g.getColId()]=e.key;else if(g.isRowGroupDisplayed(e.rowGroupColumn.getId())){var y=n.valueService.getValue(e.rowGroupColumn,e);e.groupData[g.getColId()]=y}})},t.prototype.clearDisplayIndex=function(e){e.clearRowTopAndRowIndex(),e.group&&b._.exists(e.childStore)&&e.childStore.clearDisplayIndexes(),e.master&&e.detailNode&&e.detailNode.clearRowTopAndRowIndex()},t.prototype.setDisplayIndex=function(e,n,a){if(e.setRowIndex(n.next()),e.setRowTop(a.value),a.value+=e.rowHeight,e.master&&(e.expanded&&e.detailNode?(e.detailNode.setRowIndex(n.next()),e.detailNode.setRowTop(a.value),a.value+=e.detailNode.rowHeight):e.detailNode&&e.detailNode.clearRowTopAndRowIndex()),e.group&&b._.exists(e.childStore)){var y=e.childStore;e.expanded?y.setDisplayIndexes(n,a):y.clearDisplayIndexes()}},t.prototype.binarySearchForDisplayIndex=function(e,n){var a=0,s=n.length-1;if(b._.missing(s)||b._.missing(a))console.warn("AG Grid: error: topPointer = "+s+", bottomPointer = "+a);else for(;;){var g=Math.floor((a+s)/2),y=n[g];if(y.rowIndex===e)return y;var E=y.detailNode;if(y.master&&y.expanded&&E&&E.rowIndex===e)return y.detailNode;var R=y.childStore;if(y.expanded&&R&&R.isDisplayIndexInStore(e))return R.getRowUsingDisplayIndex(e);if(y.rowIndex<e)a=g+1;else{if(!(y.rowIndex>e))return void console.warn("AG Grid: error: unable to locate rowIndex = "+e+" in cache");s=g-1}}},t.prototype.extractRowBounds=function(e,n){var a=function(g){return{rowHeight:g.rowHeight,rowTop:g.rowTop}};if(e.rowIndex===n)return a(e);if(e.group&&e.expanded&&b._.exists(e.childStore)){var s=e.childStore;if(s.isDisplayIndexInStore(n))return s.getRowBounds(n)}else if(e.master&&e.expanded&&b._.exists(e.detailNode)&&e.detailNode.rowIndex===n)return a(e.detailNode)},t.prototype.getIndexAtPixel=function(e,n){if(e.isPixelInRange(n))return e.rowIndex;var s=e.detailNode;if(e.master&&e.expanded&&s&&s.isPixelInRange(n))return e.detailNode.rowIndex;if(e.group&&e.expanded&&b._.exists(e.childStore)){var g=e.childStore;if(g.isPixelInRange(n))return g.getRowIndexAtPixel(n)}return null},t.prototype.createNodeIdPrefix=function(e){for(var n=[],a=e;a&&a.level>=0;)n.push(a.key),a=a.parent;if(n.length>0)return n.reverse().join("-")},t.prototype.checkOpenByDefault=function(e){if(e.isExpandable()){var n=this.gridOptionsWrapper.getIsServerSideGroupOpenByDefaultFunc();n&&n({data:e.data,rowNode:e})&&window.setTimeout(function(){return e.setExpanded(!0)},0)}},Bd([b.Autowired("valueService")],t.prototype,"valueService",void 0),Bd([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Bd([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Bd([b.Autowired("beans")],t.prototype,"beans",void 0),Bd([b.PostConstruct],t.prototype,"postConstruct",null),Bd([b.Bean("ssrmBlockUtils")],t)}(b.BeanStub),sR=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},KP=function(){function l(){this.rowNodes={}}return l.prototype.addRowNode=function(t){var e=t.id;this.rowNodes[e]&&(console.warn("AG Grid: Duplicate node id "+t.id+". Row ID's are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values."),console.warn("first instance",this.rowNodes[e].data),console.warn("second instance",t.data)),this.rowNodes[e]=t},l.prototype.removeNode=function(t){var e=t.id;this.rowNodes[e]&&(this.rowNodes[e]=void 0)},l.prototype.clear=function(){this.rowNodes={}},sR([b.PreDestroy],l.prototype,"clear",null),sR([b.Bean("ssrmNodeManager")],l)}(),xA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),a_=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},MA=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.asyncTransactions=[],e}return xA(t,l),t.prototype.postConstruct=function(){this.gridOptionsWrapper.isRowModelServerSide()},t.prototype.applyTransactionAsync=function(e,n){null==this.asyncTransactionsTimeout&&this.scheduleExecuteAsync(),this.asyncTransactions.push({transaction:e,callback:n})},t.prototype.scheduleExecuteAsync=function(){var e=this,n=this.gridOptionsWrapper.getAsyncTransactionWaitMillis();this.asyncTransactionsTimeout=window.setTimeout(function(){e.executeAsyncTransactions()},n)},t.prototype.executeAsyncTransactions=function(){var e=this;if(this.asyncTransactions){var n=[],a=[],s=[],g=!1;if(this.asyncTransactions.forEach(function(_){var E;e.serverSideRowModel.executeOnStore(_.transaction.route,function(A){E=A.applyTransaction(_.transaction)}),null==E&&(E={status:b.ServerSideTransactionResultStatus.StoreNotFound}),a.push(E),E.status==b.ServerSideTransactionResultStatus.StoreLoading?s.push(_):(_.callback&&n.push(function(){return _.callback(E)}),E.status===b.ServerSideTransactionResultStatus.Applied&&(g=!0))}),n.length>0&&window.setTimeout(function(){n.forEach(function(_){return _()})},0),this.asyncTransactionsTimeout=void 0,this.asyncTransactions=s,g&&(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})),a.length>0){var y={api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),type:b.Events.EVENT_ASYNC_TRANSACTIONS_FLUSHED,results:a};this.eventService.dispatchEvent(y)}}},t.prototype.flushAsyncTransactions=function(){null!=this.asyncTransactionsTimeout&&clearTimeout(this.asyncTransactionsTimeout),this.executeAsyncTransactions()},t.prototype.applyTransaction=function(e){var n;return this.serverSideRowModel.executeOnStore(e.route,function(a){n=a.applyTransaction(e)}),n?(this.valueCache.onDataChanged(),this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED}),n):{status:b.ServerSideTransactionResultStatus.StoreNotFound}},a_([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),a_([b.Autowired("valueCache")],t.prototype,"valueCache",void 0),a_([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),a_([b.PostConstruct],t.prototype,"postConstruct",null),a_([b.Bean("ssrmTransactionManager")],t)}(b.BeanStub),FA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),s_=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},YP=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return FA(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,b.Events.EVENT_ROW_GROUP_OPENED,this.onRowGroupOpened.bind(this))},t.prototype.onRowGroupOpened=function(e){var n=e.node;if(n.expanded){if(n.master)this.createDetailNode(n);else if(b._.missing(n.childStore)){var a=this.serverSideRowModel.getParams();n.childStore=this.createBean(this.storeFactory.createStore(a,n))}}else this.gridOptionsWrapper.isPurgeClosedRowNodes()&&b._.exists(n.childStore)&&(n.childStore=this.destroyBean(n.childStore));this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})},t.prototype.createDetailNode=function(e){if(b._.exists(e.detailNode))return e.detailNode;var n=new b.RowNode(this.beans);n.detail=!0,n.selectable=!1,n.parent=e,b._.exists(e.id)&&(n.id="detail_"+e.id),n.data=e.data,n.level=e.level+1;var s=this.gridOptionsWrapper.getRowHeightForNode(n).height;return n.rowHeight=s||200,e.detailNode=n,n},s_([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),s_([b.Autowired("ssrmStoreFactory")],t.prototype,"storeFactory",void 0),s_([b.Autowired("beans")],t.prototype,"beans",void 0),s_([b.PostConstruct],t.prototype,"postConstruct",null),s_([b.Bean("ssrmExpandListener")],t)}(b.BeanStub),l_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Bf=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},qP=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return l_(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,b.Events.EVENT_SORT_CHANGED,this.onSortChanged.bind(this))},t.prototype.extractSortModel=function(){var e=this.sortController.getSortModel();return this.gridOptionsWrapper.isTreeData()||(this.replaceAutoGroupColumnWithActualRowGroupColumns(e),this.removeMultiColumnPrefixOnColumnIds(e)),e},t.prototype.removeMultiColumnPrefixOnColumnIds=function(e){if(this.gridOptionsWrapper.isGroupMultiAutoColumn())for(var n=b.Constants.GROUP_AUTO_COLUMN_ID+"-",a=0;a<e.length;++a)e[a].colId.indexOf(n)>-1&&(e[a].colId=e[a].colId.substr(n.length))},t.prototype.replaceAutoGroupColumnWithActualRowGroupColumns=function(e){var n=e.find(function(_){return _.colId==b.Constants.GROUP_AUTO_COLUMN_ID});if(n){var a=e.indexOf(n);b._.removeFromArray(e,n);var y=this.columnModel.getRowGroupColumns().filter(function(_){return 0==e.filter(function(E){return E.colId===_.getColId()}).length}).map(function(_){return{colId:_.getId(),sort:n.sort}});b._.insertArrayIntoArray(e,y,a)}},t.prototype.onSortChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var n=this.extractSortModel(),s=this.findChangedColumnsInSort(n,e.sortModel),g=this.listenerUtils.isSortingWithValueColumn(s),y=this.listenerUtils.isSortingWithSecondaryColumn(s),_=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.serverSideRowModel.refreshAfterSort(n,{valueColChanged:g,secondaryColChanged:y,alwaysReset:_,changedColumns:s})}},t.prototype.findChangedColumnsInSort=function(e,n){var a=[];return[e,n].forEach(function(y){if(y){var _=y.map(function(E){return E.colId});a=a.concat(_)}}),a.filter(function(y){var _=n.find(function(R){return R.colId===y}),E=e.find(function(R){return R.colId===y});return function(y,_){return(y?y.sort:null)!==(_?_.sort:null)}(_,E)||function(y,_){return(y?n.indexOf(y):-1)!==(_?e.indexOf(_):-1)}(_,E)})},Bf([b.Autowired("sortController")],t.prototype,"sortController",void 0),Bf([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Bf([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),Bf([b.Autowired("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Bf([b.PostConstruct],t.prototype,"postConstruct",null),Bf([b.Bean("ssrmSortService")],t)}(b.BeanStub),lR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ns=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},uR=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return lR(t,l),t.prototype.postConstruct=function(){!this.gridOptionsWrapper.isRowModelServerSide()||this.addManagedListener(this.eventService,b.Events.EVENT_FILTER_CHANGED,this.onFilterChanged.bind(this))},t.prototype.onFilterChanged=function(){var e=this.serverSideRowModel.getParams();if(e){var n=this.filterManager.getFilterModel(),s=this.findChangedColumns(n,e?e.filterModel:{}),g=this.listenerUtils.isSortingWithValueColumn(s),y=this.listenerUtils.isSortingWithSecondaryColumn(s),_=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets();this.serverSideRowModel.refreshAfterFilter(n,{valueColChanged:g,secondaryColChanged:y,alwaysReset:_,changedColumns:s})}},t.prototype.findChangedColumns=function(e,n){var a={};Object.keys(e).forEach(function(g){return a[g]=!0}),Object.keys(n).forEach(function(g){return a[g]=!0});var s=[];return Object.keys(a).forEach(function(g){JSON.stringify(e[g])!=JSON.stringify(n[g])&&s.push(g)}),s},Ns([b.Autowired("rowModel")],t.prototype,"serverSideRowModel",void 0),Ns([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),Ns([b.Autowired("ssrmListenerUtils")],t.prototype,"listenerUtils",void 0),Ns([b.PostConstruct],t.prototype,"postConstruct",null),Ns([b.Bean("ssrmFilterListener")],t)}(b.BeanStub),iE=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Tl=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},XP=function(l,t){return function(e,n){t(e,n,l)}},u_=function(l){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&l[t],n=0;if(e)return e.call(l);if(l&&"number"==typeof l.length)return{next:function(){return l&&n>=l.length&&(l=void 0),{value:l&&l[n++],done:!l}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},c_=function(l){function t(e,n,a,s,g){var y=l.call(this,e)||this;return y.ssrmParams=a,y.storeParams=s,y.parentRowNode=n,y.startRow=e*s.cacheBlockSize,y.parentStore=g,y.level=n.level+1,y.groupLevel=a.rowGroupCols?y.level<a.rowGroupCols.length:void 0,y.leafGroup=!!a.rowGroupCols&&y.level===a.rowGroupCols.length-1,y}return iE(t,l),t.prototype.postConstruct=function(){this.usingTreeData=this.gridOptionsWrapper.isTreeData(),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),this.setData([])},t.prototype.isDisplayIndexInBlock=function(e){return e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.isBlockBefore=function(e){return e>=this.displayIndexEnd},t.prototype.getDisplayIndexStart=function(){return this.displayIndexStart},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.getBlockHeightPx=function(){return this.blockHeightPx},t.prototype.getBlockTopPx=function(){return this.blockTopPx},t.prototype.isGroupLevel=function(){return this.groupLevel},t.prototype.getGroupField=function(){return this.groupField},t.prototype.prefixId=function(e){return null!=this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.getBlockStateJson=function(){return{id:this.prefixId(this.getId()),state:{blockNumber:this.getId(),startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,pageStatus:this.getState()}}},t.prototype.isAnyNodeOpen=function(){return this.rowNodes.filter(function(n){return n.expanded}).length>0},t.prototype.forEachNode=function(e,n,a,s){void 0===n&&(n=new b.NumberSequence),this.rowNodes.forEach(function(g){if(e(g,n.next()),a&&g.childStore){var y=g.childStore;s?y.forEachNodeDeepAfterFilterAndSort(e,n):y.forEachNodeDeep(e,n)}})},t.prototype.forEachNodeDeep=function(e,n){this.forEachNode(e,n,!0,!1)},t.prototype.forEachNodeAfterFilterAndSort=function(e,n){this.forEachNode(e,n,!0,!0)},t.prototype.forEachNodeShallow=function(e,n){this.forEachNode(e,n,!1,!1)},t.prototype.getLastAccessed=function(){return this.lastAccessed},t.prototype.getRowUsingLocalIndex=function(e){return this.rowNodes[e-this.startRow]},t.prototype.touchLastAccessed=function(){this.lastAccessed=this.ssrmParams.lastAccessedSequence.next()},t.prototype.processServerFail=function(){this.parentStore.onBlockLoadFailed(this)},t.prototype.retryLoads=function(){this.getState()===b.RowNodeBlock.STATE_FAILED&&(this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad(),this.setData()),this.forEachNodeShallow(function(e){e.childStore&&e.childStore.retryLoads()})},t.prototype.processServerResult=function(e){this.parentStore.onBlockLoaded(this,e)},t.prototype.setData=function(e,n){void 0===e&&(e=[]),void 0===n&&(n=!1),this.destroyRowNodes();for(var a=this.parentStore.getRowCount(),s=this.getId()*this.storeParams.cacheBlockSize,y=Math.min(s+this.storeParams.cacheBlockSize,a)-s,E=this.columnModel.getAllDisplayedAutoHeightCols().length>0?this.parentStore.getCachedBlockHeight(this.getId()):void 0,R=E?Math.round(E/y):void 0,A=0;A<y;A++){var T=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn,rowHeight:R});if(A<e.length){var I=e[A],G=this.prefixId(this.startRow+A);this.blockUtils.setDataIntoRowNode(T,I,G,R),this.parentStore.removeDuplicateNode(T.id),this.nodeManager.addRowNode(T),this.allNodesMap[T.id]=T,this.blockUtils.checkOpenByDefault(T)}this.rowNodes.push(T),n&&(T.failedLoad=!0)}},t.prototype.removeDuplicateNode=function(e){if(this.getState()!=b.RowNodeBlock.STATE_LOADED){var n=this.allNodesMap[e];if(n){this.blockUtils.destroyRowNode(n);var a=this.rowNodes.indexOf(n),s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});this.rowNodes[a]=s}}},t.prototype.refresh=function(){this.getState()!==b.RowNodeBlock.STATE_WAITING_TO_LOAD&&this.setStateWaitingToLoad()},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.rowNodes),this.rowNodes=[],this.allNodesMap={}},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideBlock")},t.prototype.getRowUsingDisplayIndex=function(e){return this.touchLastAccessed(),this.blockUtils.binarySearchForDisplayIndex(e,this.rowNodes)},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:this.startRow,endRow:this.startRow+this.storeParams.cacheBlockSize,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.isPixelInRange=function(e){return e>=this.blockTopPx&&e<this.blockTopPx+this.blockHeightPx},t.prototype.getRowBounds=function(e){var n,a,s;this.touchLastAccessed();try{for(var g=u_(this.rowNodes),y=g.next();!y.done&&null==(s=this.blockUtils.extractRowBounds(y.value,e));y=g.next());}catch(E){n={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}return s},t.prototype.getRowIndexAtPixel=function(e){var n,a;this.touchLastAccessed();var s=null;try{for(var g=u_(this.rowNodes),y=g.next();!y.done&&null==(s=this.blockUtils.getIndexAtPixel(y.value,e));y=g.next());}catch(E){n={error:E}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(n)throw n.error}}return s},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexEnd=void 0,this.displayIndexStart=void 0,this.rowNodes.forEach(function(n){return e.blockUtils.clearDisplayIndex(n)})},t.prototype.setDisplayIndexes=function(e,n){var a=this;this.displayIndexStart=e.peek(),this.blockTopPx=n.value,this.rowNodes.forEach(function(s){return a.blockUtils.setDisplayIndex(s,e,n)}),this.displayIndexEnd=e.peek(),this.blockHeightPx=n.value-this.blockTopPx},Tl([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Tl([b.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Tl([b.Autowired("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),Tl([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),Tl([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Tl([b.PostConstruct],t.prototype,"postConstruct",null),Tl([b.PreDestroy],t.prototype,"destroyRowNodes",null),Tl([XP(0,b.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(b.RowNodeBlock),p_=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hd=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},IA=function(l,t){return function(e,n){t(e,n,l)}},ci=(()=>(function(l){l[l.FOUND=0]="FOUND",l[l.CONTINUE_FIND=1]="CONTINUE_FIND",l[l.BREAK_FIND=2]="BREAK_FIND"}(ci||(ci={})),ci))(),NA=function(l){function t(e,n,a){var s=l.call(this)||this;return s.blocks={},s.blockHeights={},s.lastRowIndexKnown=!1,s.displayIndexStart=0,s.displayIndexEnd=0,s.cacheTopPixel=0,s.info={},s.ssrmParams=e,s.storeParams=n,s.parentRowNode=a,s.rowCount=t.INITIAL_ROW_COUNT,s}return p_(t,l),t.prototype.postConstruct=function(){this.defaultRowHeight=this.gridOptionsWrapper.getRowHeightAsNumber()},t.prototype.destroyAllBlocks=function(){var e=this;this.getBlocksInOrder().forEach(function(n){return e.destroyBlock(n)})},t.prototype.setBeans=function(e){this.logger=e.create("ServerSideCache")},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.isLastRowIndexKnown=function(){return this.lastRowIndexKnown},t.prototype.retryLoads=function(){this.getBlocksInOrder().forEach(function(e){return e.retryLoads()})},t.prototype.onBlockLoadFailed=function(e){e.setData([],!0),this.fireCacheUpdatedEvent()},t.prototype.onBlockLoaded=function(e,n){this.logger.log("onPageLoaded: page = "+e.getId()+", lastRow = "+n.rowCount),n.storeInfo&&Object.assign(this.info,n.storeInfo),n.rowData||b._.doOnce(function(){return console.warn('AG Grid: "params.rowData" is missing from Server-Side Row Model success() callback. Please use the "rowData" attribute. If no data is returned, set an empty list.',n)},"InfiniteStore.noData");var s=null!=n.rowCount&&n.rowCount>=0?n.rowCount:void 0;!this.isAlive()||(this.checkRowCount(e,s),e.setData(n.rowData),this.destroyAllBlocksPastVirtualRowCount(),this.fireCacheUpdatedEvent())},t.prototype.purgeBlocksIfNeeded=function(e){var n=this,a=this.getBlocksInOrder().filter(function(E){return E!=e});a.sort(function(E,R){return R.getLastAccessed()-E.getLastAccessed()});var g=this.storeParams.maxBlocksInCache>0,y=g?this.storeParams.maxBlocksInCache-1:null,_=t.MAX_EMPTY_BLOCKS_TO_KEEP-1;a.forEach(function(E,R){if(E.getState()===c_.STATE_WAITING_TO_LOAD&&R>=_||g&&R>=y){if(E.isAnyNodeOpen()||n.isBlockCurrentlyDisplayed(E)||n.isBlockFocused(E))return;n.destroyBlock(E)}})},t.prototype.isBlockFocused=function(e){var n=this.focusService.getFocusCellToUseAfterRefresh();if(!n||null!=n.rowPinned)return!1;var a=e.getDisplayIndexStart(),s=e.getDisplayIndexEnd();return null!=s&&null!=a&&n.rowIndex>=a&&n.rowIndex<s},t.prototype.isBlockCurrentlyDisplayed=function(e){var n=e.getDisplayIndexStart(),a=e.getDisplayIndexEnd()-1;return this.rowRenderer.isRangeInRenderedViewport(n,a)},t.prototype.removeDuplicateNode=function(e){this.getBlocksInOrder().forEach(function(n){return n.removeDuplicateNode(e)})},t.prototype.checkRowCount=function(e,n){if("number"==typeof n&&n>=0)this.rowCount=n,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){var s=(e.getId()+1)*this.storeParams.cacheBlockSize+t.OVERFLOW_SIZE;this.rowCount<s&&(this.rowCount=s)}},t.prototype.forEachNodeDeep=function(e,n){void 0===n&&(n=new b.NumberSequence),this.getBlocksInOrder().forEach(function(a){return a.forEachNodeDeep(e,n)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,n){void 0===n&&(n=new b.NumberSequence),this.getBlocksInOrder().forEach(function(a){return a.forEachNodeAfterFilterAndSort(e,n)})},t.prototype.getBlocksInOrder=function(){return b._.getAllValuesInObject(this.blocks).sort(function(a,s){return a.getId()-s.getId()})},t.prototype.destroyBlock=function(e){delete this.blocks[e.getId()],this.destroyBean(e),this.rowNodeBlockLoader.removeBlock(e)},t.prototype.fireCacheUpdatedEvent=function(){this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})},t.prototype.destroyAllBlocksPastVirtualRowCount=function(){var e=this,n=[];this.getBlocksInOrder().forEach(function(a){a.getId()*e.storeParams.cacheBlockSize>=e.rowCount&&n.push(a)}),n.length>0&&n.forEach(function(a){return e.destroyBlock(a)})},t.prototype.refreshStore=function(e){0==this.getRowCount()||e?this.resetStore():this.refreshBlocks(),this.fireCacheUpdatedEvent()},t.prototype.refreshBlocks=function(){this.getBlocksInOrder().forEach(function(e){e.refresh()}),this.lastRowIndexKnown=!1,this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.resetStore=function(){this.destroyAllBlocks(),this.lastRowIndexKnown=!1,(this.columnModel.isAutoRowHeightActive||0===this.rowCount)&&(this.rowCount=t.INITIAL_ROW_COUNT)},t.prototype.getRowNodesInRange=function(e,n){var a=[],s=-1,g=!1;b._.missing(e)&&(g=!0);var y=!1;return this.getBlocksInOrder().forEach(function(E){if(!y){if(g&&s+1!==E.getId())return void(y=!0);s=E.getId(),E.forEachNodeShallow(function(R){var A=R===e||R===n;(g||A)&&a.push(R),A&&(g=!g)})}}),y||g?[]:a},t.prototype.findBlockAndExecute=function(e,n,a){var _,s=!1,g=!1,y=null;return this.getBlocksInOrder().forEach(function(E){if(!s&&!g){var R=e(E);R==ci.FOUND?(_=n(E),s=!0):R==ci.CONTINUE_FIND?y=E:R==ci.BREAK_FIND&&(g=!0)}}),s||(_=a(y)),_},t.prototype.getRowBounds=function(e){var n=this;return this.findBlockAndExecute(function(y){return y.isDisplayIndexInBlock(e)?ci.FOUND:y.isBlockBefore(e)?ci.CONTINUE_FIND:ci.BREAK_FIND},function(y){return y.getRowBounds(e)},function(y){var _,E;return null!==y?(_=y.getBlockTopPx()+y.getBlockHeightPx(),E=y.getDisplayIndexEnd()):(_=n.cacheTopPixel,E=n.displayIndexStart),{rowHeight:n.defaultRowHeight,rowTop:_+(e-E)*n.defaultRowHeight}})},t.prototype.getRowIndexAtPixel=function(e){var n=this,y=this.findBlockAndExecute(function(E){return E.isPixelInRange(e)?ci.FOUND:E.getBlockTopPx()<e?ci.CONTINUE_FIND:ci.BREAK_FIND},function(E){return E.getRowIndexAtPixel(e)},function(E){var R,A;E?(R=E.getBlockTopPx()+E.getBlockHeightPx(),A=E.getDisplayIndexEnd()):(R=n.cacheTopPixel,A=n.displayIndexStart);for(var T=n.storeParams.cacheBlockSize,F=n.defaultRowHeight*T,I=E?E.getId()+1:0,G=function(J){var se=n.getCachedBlockHeight(J),ae=null!=se?se:F;return{height:ae,pixelInBlock:e<=ae+R}},j=G(I);!j.pixelInBlock;)R+=j.height,A+=T,j=G(++I);return A+(0|Math.floor((e-R)/(j.height/T)))}),_=this.getDisplayIndexEnd()-1;return Math.min(y,_)},t.prototype.clearDisplayIndexes=function(){this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.getBlocksInOrder().forEach(function(e){return e.clearDisplayIndexes()})},t.prototype.setDisplayIndexes=function(e,n){var a=this;this.displayIndexStart=e.peek(),this.cacheTopPixel=n.value;var s=-1,g=this.storeParams.cacheBlockSize;this.getBlocksInOrder().forEach(function(R){var A=R.getId(),T=A-s-1,F=T*g;F>0&&e.skip(F);for(var I=1;I<=T;I++){var G=A-I;b._.exists(a.blockHeights[G])?n.value+=a.blockHeights[G]:n.value+=g*a.defaultRowHeight}s=A,R.setDisplayIndexes(e,n),a.blockHeights[A]=R.getBlockHeightPx()});var y=(s+1)*g-1,E=this.getRowCount()-y-1;E>0&&(e.skip(E),n.value+=E*this.defaultRowHeight),this.displayIndexEnd=e.peek(),this.cacheHeightPixels=n.value-this.cacheTopPixel},t.prototype.getRowUsingDisplayIndex=function(e,n){var a=this;if(void 0===n&&(n=!1),this.isDisplayIndexInStore(e))return this.findBlockAndExecute(function(_){return _.isDisplayIndexInBlock(e)?ci.FOUND:_.isBlockBefore(e)?ci.CONTINUE_FIND:ci.BREAK_FIND},function(_){return _.getRowUsingDisplayIndex(e)},function(_){if(!n){var E,R,A,T=a.storeParams.cacheBlockSize;if(_)for(E=_.getId()+1,R=_.getDisplayIndexEnd(),A=_.getBlockHeightPx()+_.getBlockTopPx();!(e>=R&&e<R+T);){R+=T;var I=a.blockHeights[E];b._.exists(I)?A+=I:A+=a.defaultRowHeight*T,E++}else E=Math.floor((e-a.displayIndexStart)/T),R=a.displayIndexStart+E*T,A=a.cacheTopPixel+E*T*a.defaultRowHeight;return a.logger.log("block missing, rowIndex = "+e+", creating #"+E+", displayIndexStart = "+R),a.createBlock(E,R,{value:A}).getRowUsingDisplayIndex(e)}})},t.prototype.getTopLevelRowDisplayedIndex=function(e){var n=this.storeParams.cacheBlockSize,a=Math.floor(e/n);return this.findBlockAndExecute(function(_){return _.getId()===a?ci.FOUND:_.getId()<a?ci.CONTINUE_FIND:ci.BREAK_FIND},function(_){return _.getRowUsingLocalIndex(e).rowIndex},function(_){if(!_)return e;var E=n*(_.getId()+1)-1,R=_.getRowUsingLocalIndex(E);return(R.expanded&&R.childStore?R.childStore.getDisplayIndexEnd()-1:R.expanded&&R.detailNode?R.detailNode.rowIndex:R.rowIndex)+(e-E)})},t.prototype.addStoreStates=function(e){e.push({type:"partial",route:this.parentRowNode.getGroupKeys(),rowCount:this.rowCount,lastRowIndexKnown:this.lastRowIndexKnown,info:this.info,maxBlocksInCache:this.storeParams.maxBlocksInCache,cacheBlockSize:this.storeParams.cacheBlockSize}),this.forEachChildStoreShallow(function(n){return n.addStoreStates(e)})},t.prototype.getCachedBlockHeight=function(e){return this.blockHeights[e]},t.prototype.createBlock=function(e,n,a){var s=this.createBean(new c_(e,this.parentRowNode,this.ssrmParams,this.storeParams,this));return s.setDisplayIndexes(new b.NumberSequence(n),a),this.blocks[s.getId()]=s,this.purgeBlocksIfNeeded(s),this.rowNodeBlockLoader.addBlock(s),s},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.applyTransaction=function(e){return{status:b.ServerSideTransactionResultStatus.StoreWrongType}},t.prototype.getChildStore=function(e){var n=this;return this.storeUtils.getChildStore(e,this,function(s){var g=null;return n.getBlocksInOrder().forEach(function(y){y.forEachNodeShallow(function(_){_.key===s&&(g=_)},new b.NumberSequence)}),g})},t.prototype.isPixelInRange=function(e){return 0!==this.getRowCount()&&e>=this.cacheTopPixel&&e<this.cacheTopPixel+this.cacheHeightPixels},t.prototype.refreshAfterFilter=function(e){this.resetStore()},t.prototype.refreshAfterSort=function(e){this.storeUtils.isServerRefreshNeeded(this.parentRowNode,this.ssrmParams.rowGroupCols,e)?this.resetStore():this.forEachChildStoreShallow(function(n){return n.refreshAfterSort(e)})},t.prototype.forEachChildStoreShallow=function(e){this.getBlocksInOrder().forEach(function(n){n.isGroupLevel()&&n.forEachNodeShallow(function(s){var g=s.childStore;g&&e(g)},new b.NumberSequence)})},t.MAX_EMPTY_BLOCKS_TO_KEEP=2,t.INITIAL_ROW_COUNT=1,t.OVERFLOW_SIZE=1,Hd([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Hd([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),Hd([b.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),Hd([b.Autowired("focusService")],t.prototype,"focusService",void 0),Hd([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),Hd([b.PostConstruct],t.prototype,"postConstruct",null),Hd([b.PreDestroy],t.prototype,"destroyAllBlocks",null),Hd([IA(0,b.Qualifier("loggerFactory"))],t.prototype,"setBeans",null),t}(b.BeanStub),cR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),oa=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},QP=function(l){function t(e,n,a){var s=l.call(this,0)||this;return s.nodeIdSequence=new b.NumberSequence,s.info={},s.ssrmParams=e,s.parentRowNode=a,s.level=a.level+1,s.groupLevel=e.rowGroupCols?s.level<e.rowGroupCols.length:void 0,s.leafGroup=!!e.rowGroupCols&&s.level===e.rowGroupCols.length-1,s}return cR(t,l),t.prototype.postConstruct=function(){var e=this;this.usingTreeData=this.gridOptionsWrapper.isTreeData(),this.nodeIdPrefix=this.blockUtils.createNodeIdPrefix(this.parentRowNode),!this.usingTreeData&&this.groupLevel&&(this.groupField=this.ssrmParams.rowGroupCols[this.level].field,this.rowGroupColumn=this.columnModel.getRowGroupColumns()[this.level]),this.initialiseRowNodes(),this.rowNodeBlockLoader.addBlock(this),this.addDestroyFunc(function(){return e.rowNodeBlockLoader.removeBlock(e)})},t.prototype.destroyRowNodes=function(){this.blockUtils.destroyRowNodes(this.allRowNodes),this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={}},t.prototype.initialiseRowNodes=function(e,n){void 0===e&&(e=1),void 0===n&&(n=!1),this.destroyRowNodes();for(var a=0;a<e;a++){var s=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});n&&(s.failedLoad=!0),this.allRowNodes.push(s),this.nodesAfterFilter.push(s),this.nodesAfterSort.push(s)}},t.prototype.getBlockStateJson=function(){return{id:this.nodeIdPrefix?this.nodeIdPrefix:"",state:this.getState()}},t.prototype.loadFromDatasource=function(){this.storeUtils.loadFromDatasource({startRow:void 0,endRow:void 0,parentBlock:this,parentNode:this.parentRowNode,storeParams:this.ssrmParams,successCallback:this.pageLoaded.bind(this,this.getVersion()),success:this.success.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),fail:this.pageLoadFailed.bind(this,this.getVersion())})},t.prototype.getStartRow=function(){return 0},t.prototype.getEndRow=function(){return this.nodesAfterSort.length},t.prototype.createDataNode=function(e,n){var a=this.blockUtils.createRowNode({field:this.groupField,group:this.groupLevel,leafGroup:this.leafGroup,level:this.level,parent:this.parentRowNode,rowGroupColumn:this.rowGroupColumn});null!=n?b._.insertIntoArray(this.allRowNodes,a,n):this.allRowNodes.push(a);var s=this.prefixId(this.nodeIdSequence.next());return this.blockUtils.setDataIntoRowNode(a,e,s,void 0),this.nodeManager.addRowNode(a),this.blockUtils.checkOpenByDefault(a),this.allNodesMap[a.id]=a,a},t.prototype.prefixId=function(e){return this.nodeIdPrefix?this.nodeIdPrefix+"-"+e:e.toString()},t.prototype.processServerFail=function(){this.initialiseRowNodes(1,!0),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()},t.prototype.processServerResult=function(e){if(this.isAlive()){e.storeInfo&&Object.assign(this.info,e.storeInfo);var n=this.allRowNodes.length>0?this.allNodesMap:void 0;this.allRowNodes=[],this.nodesAfterSort=[],this.nodesAfterFilter=[],this.allNodesMap={},e.rowData||b._.doOnce(function(){return console.warn('AG Grid: "params.data" is missing from Server-Side Row Model success() callback. Please use the "data" attribute. If no data is returned, set an empty list.',e)},"FullStore.noData"),this.createOrRecycleNodes(n,e.rowData),n&&this.blockUtils.destroyRowNodes(b._.getAllValuesInObject(n)),this.filterAndSortNodes(),this.fireStoreUpdatedEvent(),this.flushAsyncTransactions()}},t.prototype.createOrRecycleNodes=function(e,n){var a=this;n&&n.forEach(function(y){var _=function(y){if(e){var _=a.gridOptionsWrapper.getRowIdFunc();if(_){var E=a.parentRowNode.getGroupKeys(),A=_({data:y,parentKeys:E.length>0?E:void 0,level:a.level}),T=e[A];if(T)return delete e[A],T}}}(y);_?function(y,_){a.allNodesMap[y.id]=y,a.blockUtils.updateDataIntoRowNode(y,_),a.allRowNodes.push(y)}(_,y):a.createDataNode(y)})},t.prototype.flushAsyncTransactions=function(){var e=this;window.setTimeout(function(){return e.transactionManager.flushAsyncTransactions()},0)},t.prototype.filterAndSortNodes=function(){this.filterRowNodes(),this.sortRowNodes()},t.prototype.sortRowNodes=function(){var e=this.sortController.getSortOptions(),n=!e||0==e.length,a=this.gridOptionsWrapper.isServerSideSortingAlwaysResets();this.nodesAfterSort=n||a?this.nodesAfterFilter:this.rowNodeSorter.doFullSort(this.nodesAfterFilter,e)},t.prototype.filterRowNodes=function(){var e=this;this.nodesAfterFilter=this.gridOptionsWrapper.isServerSideFilteringAlwaysResets()||this.groupLevel?this.allRowNodes:this.allRowNodes.filter(function(g){return e.filterManager.doesRowPassFilter({rowNode:g})})},t.prototype.clearDisplayIndexes=function(){var e=this;this.displayIndexStart=void 0,this.displayIndexEnd=void 0,this.allRowNodes.forEach(function(n){return e.blockUtils.clearDisplayIndex(n)})},t.prototype.getDisplayIndexEnd=function(){return this.displayIndexEnd},t.prototype.isDisplayIndexInStore=function(e){return 0!==this.getRowCount()&&e>=this.displayIndexStart&&e<this.displayIndexEnd},t.prototype.setDisplayIndexes=function(e,n){var a=this;this.displayIndexStart=e.peek(),this.topPx=n.value;var s={};this.nodesAfterSort.forEach(function(g){a.blockUtils.setDisplayIndex(g,e,n),s[g.id]=!0}),this.allRowNodes.forEach(function(g){s[g.id]||a.blockUtils.clearDisplayIndex(g)}),this.displayIndexEnd=e.peek(),this.heightPx=n.value-this.topPx},t.prototype.forEachNodeDeep=function(e,n){void 0===n&&(n=new b.NumberSequence),this.allRowNodes.forEach(function(a){e(a,n.next());var s=a.childStore;s&&s.forEachNodeDeep(e,n)})},t.prototype.forEachNodeDeepAfterFilterAndSort=function(e,n){void 0===n&&(n=new b.NumberSequence),this.nodesAfterSort.forEach(function(a){e(a,n.next());var s=a.childStore;s&&s.forEachNodeDeepAfterFilterAndSort(e,n)})},t.prototype.getRowUsingDisplayIndex=function(e){if(this.isDisplayIndexInStore(e))return this.blockUtils.binarySearchForDisplayIndex(e,this.nodesAfterSort)},t.prototype.getRowBounds=function(e){for(var n=0;n<this.nodesAfterSort.length;n++){var s=this.blockUtils.extractRowBounds(this.nodesAfterSort[n],e);if(s)return s}return null},t.prototype.isPixelInRange=function(e){return e>=this.topPx&&e<this.topPx+this.heightPx},t.prototype.getRowIndexAtPixel=function(e){var n=this;if(e<=this.topPx)return this.nodesAfterSort[0].rowIndex;if(e>=this.topPx+this.heightPx){var y=this.nodesAfterSort[this.nodesAfterSort.length-1];if(e>=y.rowTop+y.rowHeight&&y.expanded){if(y.childStore&&y.childStore.getRowCount()>0)return y.childStore.getRowIndexAtPixel(e);if(y.detailNode)return y.detailNode.rowIndex}return y.rowIndex}var E=null;return this.nodesAfterSort.forEach(function(A){var T=n.blockUtils.getIndexAtPixel(A,e);null!=T&&(E=T)}),null==E?this.displayIndexEnd-1:E},t.prototype.getChildStore=function(e){var n=this;return this.storeUtils.getChildStore(e,this,function(a){return n.allRowNodes.find(function(g){return g.key===a})})},t.prototype.forEachChildStoreShallow=function(e){this.allRowNodes.forEach(function(n){var a=n.childStore;a&&e(a)})},t.prototype.refreshAfterFilter=function(e){e.alwaysReset||this.gridOptionsWrapper.isTreeData()?this.refreshStore(!0):(this.filterAndSortNodes(),this.forEachChildStoreShallow(function(n){return n.refreshAfterFilter(e)}))},t.prototype.refreshAfterSort=function(e){e.alwaysReset?this.refreshStore(!0):(this.sortRowNodes(),this.forEachChildStoreShallow(function(n){return n.refreshAfterSort(e)}))},t.prototype.applyTransaction=function(e){switch(this.getState()){case b.RowNodeBlock.STATE_FAILED:return{status:b.ServerSideTransactionResultStatus.StoreLoadingFailed};case b.RowNodeBlock.STATE_LOADING:return{status:b.ServerSideTransactionResultStatus.StoreLoading};case b.RowNodeBlock.STATE_WAITING_TO_LOAD:return{status:b.ServerSideTransactionResultStatus.StoreWaitingToLoad}}var n=this.gridOptionsWrapper.getIsApplyServerSideTransactionFunc();if(n&&!n({transaction:e,parentNode:this.parentRowNode,storeInfo:this.info}))return{status:b.ServerSideTransactionResultStatus.Cancelled};var g={status:b.ServerSideTransactionResultStatus.Applied,remove:[],update:[],add:[]},y=[];return this.executeAdd(e,g),this.executeRemove(e,g,y),this.executeUpdate(e,g,y),this.filterAndSortNodes(),this.updateSelection(y),g},t.prototype.updateSelection=function(e){if(e.length>0){e.forEach(function(s){s.setSelected(!1,!1,!0)});var a={type:b.Events.EVENT_SELECTION_CHANGED,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi()};this.eventService.dispatchEvent(a)}},t.prototype.executeAdd=function(e,n){var a=this,s=e.add,g=e.addIndex;b._.missingOrEmpty(s)||("number"==typeof g&&g>=0?s.reverse().forEach(function(_){var E=a.createDataNode(_,g);n.add.push(E)}):s.forEach(function(_){var E=a.createDataNode(_);n.add.push(E)}))},t.prototype.executeRemove=function(e,n,a){var s=this,g=e.remove;if(null!=g){var y={};g.forEach(function(_){var E=s.lookupRowNode(_);!E||(E.isSelected()&&a.push(E),E.clearRowTopAndRowIndex(),y[E.id]=!0,delete s.allNodesMap[E.id],n.remove.push(E),s.nodeManager.removeNode(E))}),this.allRowNodes=this.allRowNodes.filter(function(_){return!y[_.id]})}},t.prototype.executeUpdate=function(e,n,a){var s=this,g=e.update;null!=g&&g.forEach(function(y){var _=s.lookupRowNode(y);!_||(_.updateData(y),!_.selectable&&_.isSelected()&&a.push(_),n.update.push(_))})},t.prototype.lookupRowNode=function(e){var a,n=this.gridOptionsWrapper.getRowIdFunc();if(null!=n){var s=this.level,g=this.parentRowNode.getGroupKeys(),y=n({data:e,parentKeys:g.length>0?g:void 0,level:s});if(!(a=this.allNodesMap[y]))return console.error("AG Grid: could not find row id="+y+", data item was not found for this id"),null}else if(!(a=this.allRowNodes.find(function(_){return _.data===e})))return console.error("AG Grid: could not find data item as object was not found",e),null;return a},t.prototype.addStoreStates=function(e){e.push({type:"full",route:this.parentRowNode.getGroupKeys(),rowCount:this.allRowNodes.length,info:this.info}),this.forEachChildStoreShallow(function(n){return n.addStoreStates(e)})},t.prototype.refreshStore=function(e){e&&this.initialiseRowNodes(this.nodesAfterSort?this.nodesAfterSort.length:1),this.scheduleLoad(),this.fireStoreUpdatedEvent()},t.prototype.retryLoads=function(){this.getState()===b.RowNodeBlock.STATE_FAILED&&(this.initialiseRowNodes(1),this.scheduleLoad()),this.forEachChildStoreShallow(function(e){return e.retryLoads()})},t.prototype.scheduleLoad=function(){this.setStateWaitingToLoad(),this.rowNodeBlockLoader.checkBlockToLoad()},t.prototype.fireStoreUpdatedEvent=function(){this.eventService.dispatchEvent({type:b.Events.EVENT_STORE_UPDATED})},t.prototype.getRowCount=function(){return this.nodesAfterSort.length},t.prototype.getTopLevelRowDisplayedIndex=function(e){return this.nodesAfterSort[e].rowIndex},t.prototype.isLastRowIndexKnown=function(){return this.getState()==b.RowNodeBlock.STATE_LOADED},t.prototype.getRowNodesInRange=function(e,n){var a=[],s=!1;return b._.missing(e)&&(s=!0),this.nodesAfterSort.forEach(function(y){var _=y===e||y===n;(s||_)&&a.push(y),_&&(s=!s)}),s?[]:a},oa([b.Autowired("ssrmStoreUtils")],t.prototype,"storeUtils",void 0),oa([b.Autowired("ssrmBlockUtils")],t.prototype,"blockUtils",void 0),oa([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),oa([b.Autowired("rowNodeBlockLoader")],t.prototype,"rowNodeBlockLoader",void 0),oa([b.Autowired("rowNodeSorter")],t.prototype,"rowNodeSorter",void 0),oa([b.Autowired("sortController")],t.prototype,"sortController",void 0),oa([b.Autowired("ssrmNodeManager")],t.prototype,"nodeManager",void 0),oa([b.Autowired("filterManager")],t.prototype,"filterManager",void 0),oa([b.Autowired("ssrmTransactionManager")],t.prototype,"transactionManager",void 0),oa([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),oa([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),oa([b.PostConstruct],t.prototype,"postConstruct",null),oa([b.PreDestroy],t.prototype,"destroyRowNodes",null),t}(b.RowNodeBlock),oE=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},ZP=function(){function l(){}return l.prototype.createStore=function(t,e){var n=this.getStoreParams(t,e);return new("partial"===n.storeType?NA:QP)(t,n,e)},l.prototype.getStoreParams=function(t,e){var n=this.getLevelSpecificParams(e),a=this.getStoreType(n);return{storeType:a,cacheBlockSize:this.getBlockSize(a,n),maxBlocksInCache:this.getMaxBlocksInCache(a,t,n)}},l.prototype.getMaxBlocksInCache=function(t,e,n){if("full"!=t){var a=n&&null!=n.maxBlocksInCache?n.maxBlocksInCache:this.gridOptionsWrapper.getMaxBlocksInCache();if(null!=a&&a>=0)return e.dynamicRowHeight?void b._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.dynamicRowHeight"):this.columnModel.isAutoRowHeightActive()?void b._.doOnce(function(){return console.warn("AG Grid: Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.")},"storeFactory.maxBlocksInCache.autoRowHeightActive"):a}},l.prototype.getBlockSize=function(t,e){if("full"!=t){var n=e&&null!=e.cacheBlockSize?e.cacheBlockSize:this.gridOptionsWrapper.getCacheBlockSize();return null!=n&&n>0?n:100}},l.prototype.getLevelSpecificParams=function(t){var e=this.gridOptionsWrapper.getServerSideStoreParamsFunc();if(e)return e({level:t.level+1,parentRowNode:t.level>=0?t:void 0,rowGroupColumns:this.columnModel.getRowGroupColumns(),pivotColumns:this.columnModel.getPivotColumns(),pivotMode:this.columnModel.isPivotMode()})},l.prototype.getStoreType=function(t){var e=t&&null!=t.storeType?t.storeType:this.gridOptionsWrapper.getServerSideStoreType();switch(e){case"partial":case"full":return e;case null:case void 0:return"full";default:var a=["full","partial"].join(", ");return console.warn("AG Grid: invalid Server Side Store Type "+e+", valid types are ["+a+"]"),"partial"}},oE([b.Autowired("gridOptionsWrapper")],l.prototype,"gridOptionsWrapper",void 0),oE([b.Autowired("columnModel")],l.prototype,"columnModel",void 0),oE([b.Bean("ssrmStoreFactory")],l)}(),aE=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},pR=function(){function l(){}return l.prototype.isSortingWithValueColumn=function(t){for(var e=this.columnModel.getValueColumns().map(function(a){return a.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},l.prototype.isSortingWithSecondaryColumn=function(t){if(!this.columnModel.getSecondaryColumns())return!1;for(var e=this.columnModel.getSecondaryColumns().map(function(a){return a.getColId()}),n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1},aE([b.Autowired("columnModel")],l.prototype,"columnModel",void 0),aE([b.Bean("ssrmListenerUtils")],l)}(),dR={moduleName:b.ModuleNames.ServerSideRowModelModule,rowModels:{serverSide:aR},beans:[YP,qP,TA,nE,KP,MA,uR,ZP,pR],dependantModules:[gn]},eT=function(){function l(t,e,n){this.rowModel=t,this.filterParams=e,this.caseFormat=n}return l.prototype.extractUniqueValues=function(t){var e=this,n={},a=this.filterParams.colDef.keyCreator,s=function(g){var y=null!=g?e.caseFormat(g):"__<ag-grid-pseudo-null>__";y&&null==n[y]&&(n[y]=g)};return this.rowModel.forEachLeafNode(function(g){if(g.data&&t(g)){var y=e.filterParams,F=e.filterParams.valueGetter({api:y.api,colDef:y.colDef,column:y.column,columnApi:y.columnApi,context:y.context,data:g.data,getValue:function(G){return g.data[G]},node:g});a&&(F=a({value:F,colDef:e.filterParams.colDef,column:e.filterParams.column,node:g,data:g.data,api:e.filterParams.api,columnApi:e.filterParams.columnApi,context:e.filterParams.context})),null!=(F=b._.makeNull(F))&&Array.isArray(F)?F.forEach(function(G){var j=b._.toStringOrNull(b._.makeNull(G));s(j)}):s(b._.toStringOrNull(F))}}),b._.values(n)},l}(),lo=(()=>(function(l){l[l.PROVIDED_LIST=0]="PROVIDED_LIST",l[l.PROVIDED_CALLBACK=1]="PROVIDED_CALLBACK",l[l.TAKEN_FROM_GRID_VALUES=2]="TAKEN_FROM_GRID_VALUES"}(lo||(lo={})),lo))(),tT=function(){function l(t,e,n,a,s){var g=this;this.filterParams=t,this.setIsLoading=e,this.valueFormatterService=n,this.translate=a,this.caseFormat=s,this.localEventService=new b.EventService,this.miniFilterText=null,this.providedValues=null,this.allValues=[],this.availableValues=new Set,this.displayedValues=[],this.selectedValues=new Set,this.initialised=!1;var _=t.colDef,E=t.textFormatter,R=t.doesRowPassOtherFilter,A=t.suppressSorting,T=t.comparator,F=t.rowModel,I=t.values;this.column=t.column,this.formatter=E||b.TextFilter.DEFAULT_FORMATTER,this.doesRowPassOtherFilters=R,this.suppressSorting=A||!1,this.comparator=T||_.comparator||b._.defaultComparator,F.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideValuesExtractor=new eT(F,this.filterParams,this.caseFormat)),null==I?this.valuesType=lo.TAKEN_FROM_GRID_VALUES:(this.valuesType=Array.isArray(I)?lo.PROVIDED_LIST:lo.PROVIDED_CALLBACK,this.providedValues=I),this.updateAllValues().then(function(j){return g.resetSelectionState(j||[])})}return l.prototype.addEventListener=function(t,e,n){this.localEventService.addEventListener(t,e,n)},l.prototype.removeEventListener=function(t,e,n){this.localEventService.removeEventListener(t,e,n)},l.prototype.refreshValues=function(){var t=this.getModel();return this.updateAllValues(),this.setModel(t)},l.prototype.overrideValues=function(t){var e=this;return new b.AgPromise(function(n){e.allValuesPromise.then(function(){e.valuesType=lo.PROVIDED_LIST,e.providedValues=t,e.refreshValues().then(function(){return n()})})})},l.prototype.refreshAfterAnyFilterChanged=function(){var t=this;return this.showAvailableOnly()?this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}):b.AgPromise.resolve()},l.prototype.isInitialised=function(){return this.initialised},l.prototype.updateAllValues=function(){var t=this;return this.allValuesPromise=new b.AgPromise(function(e){switch(t.valuesType){case lo.TAKEN_FROM_GRID_VALUES:case lo.PROVIDED_LIST:var n=t.valuesType===lo.TAKEN_FROM_GRID_VALUES?t.getValuesFromRows(!1):b._.values(t.uniqueValues(b._.toStrings(t.providedValues)||[])),a=t.sortValues(n||[]);t.allValues=a,e(a);break;case lo.PROVIDED_CALLBACK:t.setIsLoading(!0);var s=t.providedValues,g=t.filterParams,T={success:function(F){var I=b._.values(t.uniqueValues(b._.toStrings(F)||[]));t.setIsLoading(!1);var G=t.sortValues(I||[]);t.allValues=G,e(G)},colDef:g.colDef,column:g.column,columnApi:g.columnApi,api:g.api,context:g.context};window.setTimeout(function(){return s(T)},0);break;default:throw new Error("Unrecognised valuesType")}}),this.allValuesPromise.then(function(e){return t.updateAvailableValues(e||[])}).then(function(){return t.initialised=!0}),this.allValuesPromise},l.prototype.setValuesType=function(t){this.valuesType=t},l.prototype.getValuesType=function(){return this.valuesType},l.prototype.isValueAvailable=function(t){return this.availableValues.has(t)},l.prototype.showAvailableOnly=function(){return this.valuesType===lo.TAKEN_FROM_GRID_VALUES},l.prototype.updateAvailableValues=function(t){var e=this.showAvailableOnly()?this.sortValues(this.getValuesFromRows(!0)):t;this.availableValues=b._.convertToSet(e),this.localEventService.dispatchEvent({type:l.EVENT_AVAILABLE_VALUES_CHANGED}),this.updateDisplayedValues()},l.prototype.sortValues=function(t){return this.suppressSorting?t:!this.filterParams.excelMode||t.indexOf(null)<0?t.sort(this.comparator):t.filter(function(e){return null!=e}).sort(this.comparator).concat(null)},l.prototype.getValuesFromRows=function(t){var e=this;return void 0===t&&(t=!1),this.clientSideValuesExtractor?this.clientSideValuesExtractor.extractUniqueValues(function(a){return!t||e.doesRowPassOtherFilters(a)}):(console.error("AG Grid: Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values"),[])},l.prototype.setMiniFilter=function(t){return t=b._.makeNull(t),this.miniFilterText!==t&&(this.miniFilterText=t,this.updateDisplayedValues(),!0)},l.prototype.getMiniFilter=function(){return this.miniFilterText},l.prototype.updateDisplayedValues=function(){var t=this;if(null!=this.miniFilterText){this.displayedValues=[];var e=this.caseFormat(this.formatter(this.miniFilterText)||""),n=function(a){return null!=a&&t.caseFormat(a).indexOf(e)>=0};this.availableValues.forEach(function(a){if(null==a)t.filterParams.excelMode&&n(t.translate("blanks"))&&t.displayedValues.push(a);else{var s=t.formatter(a),g=t.valueFormatterService.formatValue(t.column,null,s,t.filterParams.valueFormatter,!1);(n(s)||n(g))&&t.displayedValues.push(a)}})}else this.displayedValues=b._.values(this.availableValues)},l.prototype.getDisplayedValueCount=function(){return this.displayedValues.length},l.prototype.getDisplayedValue=function(t){return this.displayedValues[t]},l.prototype.hasSelections=function(){return this.filterParams.defaultToNothingSelected?this.selectedValues.size>0:this.allValues.length!==this.selectedValues.size},l.prototype.getValues=function(){return this.allValues.slice()},l.prototype.selectAllMatchingMiniFilter=function(t){var e=this;void 0===t&&(t=!1),null==this.miniFilterText?this.selectedValues=b._.convertToSet(this.allValues):(t&&this.selectedValues.clear(),this.displayedValues.forEach(function(n){return e.selectedValues.add(n)}))},l.prototype.deselectAllMatchingMiniFilter=function(){var t=this;null==this.miniFilterText?this.selectedValues.clear():this.displayedValues.forEach(function(e){return t.selectedValues.delete(e)})},l.prototype.selectValue=function(t){this.selectedValues.add(t)},l.prototype.deselectValue=function(t){this.filterParams.excelMode&&this.isEverythingVisibleSelected()&&this.resetSelectionState(this.displayedValues),this.selectedValues.delete(t)},l.prototype.isValueSelected=function(t){return this.selectedValues.has(t)},l.prototype.isEverythingVisibleSelected=function(){var t=this;return this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length===this.displayedValues.length},l.prototype.isNothingVisibleSelected=function(){var t=this;return 0===this.displayedValues.filter(function(e){return t.isValueSelected(e)}).length},l.prototype.getModel=function(){return this.hasSelections()?b._.values(this.selectedValues):null},l.prototype.setModel=function(t){var e=this;return this.allValuesPromise.then(function(n){if(null==t)e.resetSelectionState(n||[]);else{e.selectedValues.clear();var a=e.uniqueValues(n||[]);t.forEach(function(s){var g=a[e.uniqueKey(s)];void 0!==g&&e.selectedValues.add(g)})}})},l.prototype.uniqueValues=function(t){var e=this,n={};return(t||[]).forEach(function(a){var s=b._.makeNull(a),g=e.uniqueKey(s);void 0===n[g]&&(n[g]=s)}),n},l.prototype.uniqueKey=function(t){return null==t?"__<ag-grid-pseudo-null>__":this.caseFormat(t)},l.prototype.resetSelectionState=function(t){this.filterParams.defaultToNothingSelected?this.selectedValues.clear():this.selectedValues=b._.convertToSet(t||[])},l.EVENT_AVAILABLE_VALUES_CHANGED="availableValuesChanged",l}(),hR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),ep=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},h_=function(l){function t(e,n,a,s){var g=l.call(this,t.TEMPLATE)||this;return g.value=e,g.params=n,g.translate=a,g.isSelected=s,g}return hR(t,l),t.prototype.init=function(){var e=this;this.render(),this.eCheckbox.setValue(this.isSelected,!0),this.eCheckbox.setDisabled(!!this.params.readOnly),!this.params.readOnly&&this.eCheckbox.onValueChange(function(n){var a=n||!1;e.isSelected=a,e.dispatchEvent({type:t.EVENT_SELECTION_CHANGED,isSelected:a})})},t.prototype.toggleSelected=function(){this.params.readOnly||(this.isSelected=!this.isSelected,this.eCheckbox.setValue(this.isSelected))},t.prototype.render=function(){var e=this.params.column,n=this.value,a=null;"function"==typeof n?n=n():a=this.getFormattedValue(this.params,e,n),this.params.showTooltips&&this.setTooltip(null!=a?a:n);var g={value:n,valueFormatted:a,api:this.gridOptionsWrapper.getApi(),columnApi:this.gridOptionsWrapper.getColumnApi(),context:this.gridOptionsWrapper.getContext(),colDef:this.params.colDef,column:this.params.column};this.renderCell(g)},t.prototype.getTooltipParams=function(){var e=l.prototype.getTooltipParams.call(this);return e.location="setFilterValue",e.colDef=this.getComponentHolder(),e},t.prototype.getFormattedValue=function(e,n,a){return this.valueFormatterService.formatValue(n,null,a,e&&e.valueFormatter,!1)},t.prototype.renderCell=function(e){var n=this,a=this.userComponentFactory.getSetFilterCellRendererDetails(this.params,e),s=a?a.newAgStackInstance():void 0;if(null!=s)s.then(function(y){y&&(n.eCheckbox.setLabel(y.getGui()),n.addDestroyFunc(function(){return n.destroyBean(y)}))});else{var g=null==e.valueFormatted?e.value:e.valueFormatted;this.eCheckbox.setLabel(null==g?this.translate("blanks"):g)}},t.prototype.getComponentHolder=function(){return this.params.column.getColDef()},t.EVENT_SELECTION_CHANGED="selectionChanged",t.TEMPLATE='\n        <div class="ag-set-filter-item">\n            <ag-checkbox ref="eCheckbox" class="ag-set-filter-item-checkbox"></ag-checkbox>\n        </div>',ep([b.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),ep([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),ep([b.RefSelector("eCheckbox")],t.prototype,"eCheckbox",void 0),ep([b.PostConstruct],t.prototype,"init",null),t}(b.Component),fR={loadingOoo:"Loading...",blanks:"(Blanks)",searchOoo:"Search...",selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",noMatches:"No matches."},LA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),f_=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},g_=function(l){function t(){var e=l.call(this,"setFilter")||this;return e.valueModel=null,e.setFilterParams=null,e.virtualList=null,e.caseSensitive=!1,e.appliedModelValues=null,e}return LA(t,l),t.prototype.postConstruct=function(){l.prototype.postConstruct.call(this),this.positionableFeature=new b.PositionableFeature(this.eSetFilterList,{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)},t.prototype.updateUiVisibility=function(){},t.prototype.createBodyTemplate=function(){return'\n            <div class="ag-set-filter">\n                <div ref="eFilterLoading" class="ag-filter-loading ag-hidden">'+this.translateForSetFilter("loadingOoo")+'</div>\n                <ag-input-text-field class="ag-mini-filter" ref="eMiniFilter"></ag-input-text-field>\n                <div ref="eFilterNoMatches" class="ag-filter-no-matches ag-hidden">'+this.translateForSetFilter("noMatches")+'</div>\n                <div ref="eSetFilterList" class="ag-set-filter-list" role="presentation"></div>\n            </div>'},t.prototype.handleKeyDown=function(e){if(l.prototype.handleKeyDown.call(this,e),!e.defaultPrevented)switch(e.key){case b.KeyCode.SPACE:this.handleKeySpace(e);break;case b.KeyCode.ENTER:this.handleKeyEnter(e)}},t.prototype.handleKeySpace=function(e){var n=this.gridOptionsWrapper.getDocument();if(this.eSetFilterList.contains(n.activeElement)&&this.virtualList){var a=this.virtualList.getLastFocusedRow();if(null!=a){var s=this.virtualList.getComponentAt(a);null!=s&&(e.preventDefault(),(this.setFilterParams||{}).readOnly||s.toggleSelected())}}},t.prototype.handleKeyEnter=function(e){if(this.setFilterParams){var n=this.setFilterParams||{};!n.excelMode||n.readOnly||(e.preventDefault(),this.onBtApply(!1,!1,e),"mac"===this.setFilterParams.excelMode&&this.eMiniFilter.getInputElement().select())}},t.prototype.getCssIdentifier=function(){return"set-filter"},t.prototype.setModelAndRefresh=function(e){var n=this;return this.valueModel?this.valueModel.setModel(e).then(function(){return n.refresh()}):b.AgPromise.resolve()},t.prototype.resetUiToDefaults=function(){return this.setMiniFilter(null),this.setModelAndRefresh(null)},t.prototype.setModelIntoUi=function(e){return this.setMiniFilter(null),this.setModelAndRefresh(null==e?null:e.values)},t.prototype.getModelFromUi=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getModel();return e?{values:e,filterType:this.getFilterType()}:null},t.prototype.getFilterType=function(){return"set"},t.prototype.getValueModel=function(){return this.valueModel},t.prototype.areModelsEqual=function(e,n){return null==e&&null==n||null!=e&&null!=n&&b._.areEqual(e.values,n.values)},t.prototype.setParams=function(e){var n=this;this.applyExcelModeOptions(e),l.prototype.setParams.call(this,e),this.setFilterParams=e,this.caseSensitive=e.caseSensitive||!1,this.valueModel=new tT(e,function(a){return n.showOrHideLoadingScreen(a)},this.valueFormatterService,function(a){return n.translateForSetFilter(a)},function(a){return n.caseFormat(a)}),this.initialiseFilterBodyUi(),e.rowModel.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&!e.values&&this.addEventListenersForDataChanges()},t.prototype.applyExcelModeOptions=function(e){"windows"===e.excelMode?(e.buttons||(e.buttons=["apply","cancel"]),null==e.closeOnApply&&(e.closeOnApply=!0)):"mac"===e.excelMode&&(e.buttons||(e.buttons=["reset"]),null==e.applyMiniFilterWhileTyping&&(e.applyMiniFilterWhileTyping=!0),null==e.debounceMs&&(e.debounceMs=500))},t.prototype.addEventListenersForDataChanges=function(){var e=this;this.addManagedListener(this.eventService,b.Events.EVENT_ROW_DATA_UPDATED,function(){return e.syncAfterDataChange()}),this.addManagedListener(this.eventService,b.Events.EVENT_CELL_VALUE_CHANGED,function(n){e.setFilterParams&&n.column===e.setFilterParams.column&&e.syncAfterDataChange()})},t.prototype.syncAfterDataChange=function(e){var n=this;if(void 0===e&&(e=!0),!this.valueModel)throw new Error("Value model has not been created.");var a=b.AgPromise.resolve();return e&&(a=this.valueModel.refreshValues()),a.then(function(){n.refresh(),n.onBtApply(!1,!0)})},t.prototype.showOrHideLoadingScreen=function(e){b._.setDisplayed(this.eFilterLoading,e)},t.prototype.initialiseFilterBodyUi=function(){this.initVirtualList(),this.initMiniFilter()},t.prototype.initVirtualList=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.gridOptionsWrapper.getLocaleTextFunc()("ariaFilterList","Filter List"),s=this.virtualList=this.createBean(new b.VirtualList("filter","listbox",a)),g=this.getRefElement("eSetFilterList");g&&g.appendChild(s.getGui());var _,y=this.setFilterParams.cellHeight;null!=y&&s.setRowHeight(y),s.setComponentCreator(function(E){return e.createSetListItem(E)}),_=this.setFilterParams.suppressSelectAll?new rT(this.valueModel):new GA(this.valueModel,function(){return e.isSelectAllSelected()}),s.setModel(_)},t.prototype.getSelectAllLabel=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.setFilterParams.excelMode?"selectAllSearchResults":"selectAll";return this.translateForSetFilter(e)},t.prototype.createSetListItem=function(e){var a,n=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");return e===t.SELECT_ALL_VALUE?((a=this.createBean(new h_(function(){return n.getSelectAllLabel()},this.setFilterParams,function(s){return n.translateForSetFilter(s)},this.isSelectAllSelected()))).addEventListener(h_.EVENT_SELECTION_CHANGED,function(s){return n.onSelectAll(s.isSelected)}),a):((a=this.createBean(new h_(e,this.setFilterParams,function(s){return n.translateForSetFilter(s)},this.valueModel.isValueSelected(e)))).addEventListener(h_.EVENT_SELECTION_CHANGED,function(s){return n.onItemSelected(e,s.isSelected)}),a)},t.prototype.initMiniFilter=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var a=this.eMiniFilter,g=this.gridOptionsWrapper.getLocaleTextFunc();a.setDisplayed(!this.setFilterParams.suppressMiniFilter),a.setValue(this.valueModel.getMiniFilter()),a.onValueChange(function(){return e.onMiniFilterInput()}),a.setInputAriaLabel(g("ariaSearchFilterValues","Search filter values")),this.addManagedListener(a.getInputElement(),"keypress",function(y){return e.onMiniFilterKeyPress(y)})},t.prototype.afterGuiAttached=function(e){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");l.prototype.afterGuiAttached.call(this,e),this.setFilterParams.excelMode&&(this.resetUiToActiveModel(),this.showOrHideResults()),this.refreshVirtualList();var n=this.eMiniFilter;n.setInputPlaceholder(this.translateForSetFilter("searchOoo")),(!e||!e.suppressFocus)&&n.getFocusableElement().focus();var s,a=!(!e||"floatingFilter"!==e.container);s=this.gridOptionsWrapper.isEnableRtl()?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0},a?(this.positionableFeature.restoreLastSize(),this.positionableFeature.setResizable(s)):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1))},t.prototype.applyModel=function(){var e=this;if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");this.setFilterParams.excelMode&&this.valueModel.isEverythingVisibleSelected()&&this.valueModel.selectAllMatchingMiniFilter();var n=l.prototype.applyModel.call(this),a=this.getModel();return this.appliedModelValues=a?a.values.reduce(function(s,g){return s[e.caseFormat(String(g))]=!0,s},{}):null,n},t.prototype.isModelValid=function(e){return!this.setFilterParams||!this.setFilterParams.excelMode||null==e||e.values.length>0},t.prototype.doesFilterPass=function(e){var n=this;if(!this.setFilterParams||!this.valueModel||!this.appliedModelValues)return!0;var a=e.node,s=e.data,g=this.setFilterParams,_=g.colDef.keyCreator,E=g.api,R=g.colDef,A=g.column,T=g.columnApi,F=g.context,I=(0,g.valueGetter)({api:E,colDef:R,column:A,columnApi:T,context:F,data:s,getValue:function(j){return s[j]},node:a});return _&&(I=_({value:I,colDef:R,column:A,node:a,data:s,api:E,columnApi:T,context:F})),I=b._.makeNull(I),Array.isArray(I)?I.some(function(j){return!0===n.appliedModelValues[n.caseFormat(String(b._.makeNull(j)))]}):!0===this.appliedModelValues[this.caseFormat(String(I))]},t.prototype.onNewRowsLoaded=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.valueModel.getValuesType();this.syncAfterDataChange(e===lo.TAKEN_FROM_GRID_VALUES)},t.prototype.setFilterValues=function(e){var n=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.overrideValues(e).then(function(){n.refresh(),n.onUiChanged()})},t.prototype.resetFilterValues=function(){if(!this.valueModel)throw new Error("Value model has not been created.");this.valueModel.setValuesType(lo.TAKEN_FROM_GRID_VALUES),this.syncAfterDataChange(!0)},t.prototype.refreshFilterValues=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");!this.valueModel.isInitialised()||this.valueModel.refreshValues().then(function(){e.refresh(),e.onUiChanged()})},t.prototype.onAnyFilterChanged=function(){var e=this;setTimeout(function(){if(e.isAlive()){if(!e.valueModel)throw new Error("Value model has not been created.");e.valueModel.refreshAfterAnyFilterChanged().then(function(){return e.refresh()})}},0)},t.prototype.onMiniFilterInput=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");if(this.valueModel.setMiniFilter(this.eMiniFilter.getValue())){var e=this.setFilterParams||{};!e.readOnly&&e.applyMiniFilterWhileTyping?this.filterOnAllVisibleValues(!1):this.updateUiAfterMiniFilterChange()}},t.prototype.updateUiAfterMiniFilterChange=function(){if(!this.setFilterParams)throw new Error("Set filter params have not been provided.");if(!this.valueModel)throw new Error("Value model has not been created.");var e=this.setFilterParams||{};null==e.excelMode||e.readOnly?this.refresh():null==this.valueModel.getMiniFilter()?this.resetUiToActiveModel():(this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged()),this.showOrHideResults()},t.prototype.showOrHideResults=function(){if(!this.valueModel)throw new Error("Value model has not been created.");var e=null!=this.valueModel.getMiniFilter()&&this.valueModel.getDisplayedValueCount()<1;b._.setDisplayed(this.eNoMatches,e),b._.setDisplayed(this.eSetFilterList,!e)},t.prototype.resetUiToActiveModel=function(){var e=this;if(!this.valueModel)throw new Error("Value model has not been created.");this.eMiniFilter.setValue(null,!0),this.valueModel.setMiniFilter(null),this.setModelIntoUi(this.getModel()).then(function(){return e.onUiChanged(!1,"prevent")})},t.prototype.onMiniFilterKeyPress=function(e){var n=this.setFilterParams||{};e.key===b.KeyCode.ENTER&&!n.excelMode&&!n.readOnly&&this.filterOnAllVisibleValues()},t.prototype.filterOnAllVisibleValues=function(e){void 0===e&&(e=!0);var n=(this.setFilterParams||{}).readOnly;if(!this.valueModel)throw new Error("Value model has not been created.");if(n)throw new Error("Unable to filter in readOnly mode.");this.valueModel.selectAllMatchingMiniFilter(!0),this.refresh(),this.onUiChanged(!1,e?"immediately":"debounce"),this.showOrHideResults()},t.prototype.focusRowIfAlive=function(e){var n=this;null!=e&&window.setTimeout(function(){if(!n.virtualList)throw new Error("Virtual list has not been created.");n.isAlive()&&n.virtualList.focusRow(e)},0)},t.prototype.onSelectAll=function(e){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");e?this.valueModel.selectAllMatchingMiniFilter():this.valueModel.deselectAllMatchingMiniFilter();var n=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(n)},t.prototype.onItemSelected=function(e,n){if(!this.valueModel)throw new Error("Value model has not been created.");if(!this.virtualList)throw new Error("Virtual list has not been created.");n?this.valueModel.selectValue(e):this.valueModel.deselectValue(e);var a=this.virtualList.getLastFocusedRow();this.refresh(),this.onUiChanged(),this.focusRowIfAlive(a)},t.prototype.setMiniFilter=function(e){this.eMiniFilter.setValue(e),this.onMiniFilterInput()},t.prototype.getMiniFilter=function(){return this.valueModel?this.valueModel.getMiniFilter():null},t.prototype.refresh=function(){if(!this.virtualList)throw new Error("Virtual list has not been created.");this.virtualList.refresh()},t.prototype.getValues=function(){return this.valueModel?this.valueModel.getValues():[]},t.prototype.refreshVirtualList=function(){this.setFilterParams&&this.setFilterParams.refreshValuesOnOpen?this.refreshFilterValues():this.refresh()},t.prototype.translateForSetFilter=function(e){return this.gridOptionsWrapper.getLocaleTextFunc()(e,fR[e])},t.prototype.isSelectAllSelected=function(){if(!this.setFilterParams||!this.valueModel)return!1;if(this.setFilterParams.defaultToNothingSelected){if(this.valueModel.hasSelections()&&this.valueModel.isEverythingVisibleSelected())return!0;if(this.valueModel.isNothingVisibleSelected())return!1}else{if(this.valueModel.hasSelections()&&this.valueModel.isNothingVisibleSelected())return!1;if(this.valueModel.isEverythingVisibleSelected())return!0}},t.prototype.destroy=function(){null!=this.virtualList&&(this.virtualList.destroy(),this.virtualList=null),l.prototype.destroy.call(this)},t.prototype.caseFormat=function(e){return null==e||"string"!=typeof e||this.caseSensitive?e:e.toUpperCase()},t.SELECT_ALL_VALUE="__AG_SELECT_ALL__",f_([b.RefSelector("eMiniFilter")],t.prototype,"eMiniFilter",void 0),f_([b.RefSelector("eFilterLoading")],t.prototype,"eFilterLoading",void 0),f_([b.RefSelector("eSetFilterList")],t.prototype,"eSetFilterList",void 0),f_([b.RefSelector("eFilterNoMatches")],t.prototype,"eNoMatches",void 0),f_([b.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),t}(b.ProvidedFilter),rT=function(){function l(t){this.model=t}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()},l.prototype.getRow=function(t){return this.model.getDisplayedValue(t)},l.prototype.isRowSelected=function(t){return this.model.isValueSelected(this.getRow(t))},l}(),GA=function(){function l(t,e){this.model=t,this.isSelectAllSelected=e}return l.prototype.getRowCount=function(){return this.model.getDisplayedValueCount()+1},l.prototype.getRow=function(t){return 0===t?g_.SELECT_ALL_VALUE:this.model.getDisplayedValue(t-1)},l.prototype.isRowSelected=function(t){return 0===t?this.isSelectAllSelected():this.model.isValueSelected(this.getRow(t))},l}(),kA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),gR=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},VA=function(l){function t(){var e=l.call(this,'\n            <div class="ag-floating-filter-input" role="presentation">\n                <ag-input-text-field ref="eFloatingFilterText"></ag-input-text-field>\n            </div>')||this;return e.availableValuesListenerAdded=!1,e}return kA(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.init=function(e){var n=this.columnModel.getDisplayNameForColumn(e.column,"header",!0),a=this.gridOptionsWrapper.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(n+" "+a("ariaFilterInput","Filter Input")).addGuiEventListener("click",function(){return e.showParentFilter()}),this.params=e},t.prototype.onParentModelChanged=function(e){this.updateFloatingFilterText(e)},t.prototype.parentSetFilterInstance=function(e){this.params.parentFilterInstance(function(n){if(!(n instanceof g_))throw new Error("AG Grid - SetFloatingFilter expects SetFilter as it's parent");e(n)})},t.prototype.addAvailableValuesListener=function(){var e=this;this.parentSetFilterInstance(function(n){var a=n.getValueModel();!a||e.addManagedListener(a,tT.EVENT_AVAILABLE_VALUES_CHANGED,function(){return e.updateFloatingFilterText()})}),this.availableValuesListenerAdded=!0},t.prototype.updateFloatingFilterText=function(e){var n=this;this.availableValuesListenerAdded||this.addAvailableValuesListener(),this.parentSetFilterInstance(function(a){var s=(e||a.getModel()||{}).values,g=a.getValueModel();if(null!=s&&null!=g){var y=n.gridOptionsWrapper.getLocaleTextFunc(),E=s.filter(function(T){return g.isValueAvailable(T)}).map(function(T){var F=n.params,j=n.valueFormatterService.formatValue(F.column,null,T,F.filterParams.valueFormatter,!1),U=null!=j?j:T;return null==U?y("blanks",fR.blanks):U}),R=E.length>10?E.slice(0,10).concat("..."):E,A="("+E.length+") "+R.join(",");n.eFloatingFilterText.setValue(A)}else n.eFloatingFilterText.setValue("")})},gR([b.RefSelector("eFloatingFilterText")],t.prototype,"eFloatingFilterText",void 0),gR([b.Autowired("valueFormatterService")],t.prototype,"valueFormatterService",void 0),gR([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),t}(b.Component),BA={moduleName:b.ModuleNames.SetFilterModule,beans:[],userComponents:[{componentName:"agSetColumnFilter",componentClass:g_},{componentName:"agSetColumnFloatingFilter",componentClass:VA}],dependantModules:[gn]},nT=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),WA=function(l){function t(){var e=l.call(this)||this;return e.allComponents={},e}return nT(t,l),t.prototype.registerStatusPanel=function(e,n){this.allComponents[e]=n},t.prototype.getStatusPanel=function(e){return this.allComponents[e]},t=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s}([b.Bean("statusBarService")],t),t}(b.BeanStub),jA=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Hf=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},v_=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return jA(t,l),t.prototype.postConstruct=function(){if(this.gridOptions.statusBar&&this.gridOptions.statusBar.statusPanels){var e=this.gridOptions.statusBar.statusPanels.filter(function(s){return"left"===s.align});this.createAndRenderComponents(e,this.eStatusBarLeft);var n=this.gridOptions.statusBar.statusPanels.filter(function(s){return"center"===s.align});this.createAndRenderComponents(n,this.eStatusBarCenter);var a=this.gridOptions.statusBar.statusPanels.filter(function(s){return!s.align||"right"===s.align});this.createAndRenderComponents(a,this.eStatusBarRight)}else this.setDisplayed(!1)},t.prototype.createAndRenderComponents=function(e,n){var a=this,s=[];e.forEach(function(g){var E=a.userComponentFactory.getStatusPanelCompDetails(g,{}).newAgStackInstance();!E||s.push({key:g.key||g.statusPanel,promise:E})}),b.AgPromise.all(s.map(function(g){return g.promise})).then(function(){s.forEach(function(g){g.promise.then(function(y){var _=function(){a.getContext().destroyBean(y)};a.isAlive()?(a.statusBarService.registerStatusPanel(g.key,y),n.appendChild(y.getGui()),a.addDestroyFunc(_)):_()})})})},t.TEMPLATE='<div class="ag-status-bar">\n            <div ref="eStatusBarLeft" class="ag-status-bar-left" role="status"></div>\n            <div ref="eStatusBarCenter" class="ag-status-bar-center" role="status"></div>\n            <div ref="eStatusBarRight" class="ag-status-bar-right" role="status"></div>\n        </div>',Hf([b.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Hf([b.Autowired("userComponentFactory")],t.prototype,"userComponentFactory",void 0),Hf([b.Autowired("statusBarService")],t.prototype,"statusBarService",void 0),Hf([b.RefSelector("eStatusBarLeft")],t.prototype,"eStatusBarLeft",void 0),Hf([b.RefSelector("eStatusBarCenter")],t.prototype,"eStatusBarCenter",void 0),Hf([b.RefSelector("eStatusBarRight")],t.prototype,"eStatusBarRight",void 0),Hf([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),tp=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),iT=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Ay=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return tp(t,l),t.prototype.setLabel=function(e,n){this.setDisplayed(!1);var a=this.gridOptionsWrapper.getLocaleTextFunc();this.eLabel.innerHTML=a(e,n)},t.prototype.setValue=function(e){this.eValue.innerHTML=e},t.TEMPLATE='<div class="ag-status-name-value">\n            <span ref="eLabel"></span>:&nbsp;\n            <span ref="eValue" class="ag-status-name-value-value"></span>\n        </div>',iT([b.RefSelector("eLabel")],t.prototype,"eLabel",void 0),iT([b.RefSelector("eValue")],t.prototype,"eValue",void 0),t}(b.Component),oT=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),No=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},Wd=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return oT(t,l),t.prototype.postConstruct=function(){"clientSide"===this.gridApi.getModel().getType()?(this.setLabel("totalAndFilteredRows","Rows"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-and-filtered-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalAndFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("thousandSeparator",","),a=e("decimalSeparator","."),s=b._.formatNumberCommas(this.getFilteredRowCountValue(),n,a),g=b._.formatNumberCommas(this.getTotalRowCount(),n,a);if(s===g)this.setValue(s);else{var y=this.gridOptionsWrapper.getLocaleTextFunc();this.setValue(s+" "+y("of","of")+" "+g)}},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(n){n.group||e++}),e},t.prototype.getTotalRowCount=function(){var e=0;return this.gridApi.forEachNode(function(n){n.group||e++}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},No([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),No([b.PostConstruct],t.prototype,"postConstruct",null),t}(Ay),aT=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),vR=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},yR=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return aT(t,l),t.prototype.postConstruct=function(){if(this.setLabel("filteredRows","Filtered"),"clientSide"===this.gridApi.getModel().getType()){this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-filtered-row-count"),this.setDisplayed(!0);var e=this.onDataChanged.bind(this);this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,e),e()}else console.warn("AG Grid: agFilteredRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.getTotalRowCountValue(),n=this.getFilteredRowCountValue(),a=this.gridOptionsWrapper.getLocaleTextFunc(),s=a("thousandSeparator",","),g=a("decimalSeparator",".");this.setValue(b._.formatNumberCommas(n,s,g)),this.setDisplayed(e!==n)},t.prototype.getTotalRowCountValue=function(){var e=0;return this.gridApi.forEachNode(function(n){return e+=1}),e},t.prototype.getFilteredRowCountValue=function(){var e=0;return this.gridApi.forEachNodeAfterFilter(function(n){n.group||(e+=1)}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},vR([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),vR([b.PostConstruct],t.prototype,"postConstruct",null),t}(Ay),mR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),CR=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},sE=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return mR(t,l),t.prototype.postConstruct=function(){this.setLabel("totalRows","Total Rows"),"clientSide"===this.gridApi.getModel().getType()?(this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-total-row-count"),this.setDisplayed(!0),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.onDataChanged.bind(this)),this.onDataChanged()):console.warn("AG Grid: agTotalRowCountComponent should only be used with the client side row model.")},t.prototype.onDataChanged=function(){var e=this.gridOptionsWrapper.getLocaleTextFunc(),n=e("thousandSeparator",","),a=e("decimalSeparator",".");this.setValue(b._.formatNumberCommas(this.getRowCountValue(),n,a))},t.prototype.getRowCountValue=function(){var e=0;return this.gridApi.forEachLeafNode(function(n){return e+=1}),e},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},CR([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),CR([b.PostConstruct],t.prototype,"postConstruct",null),t}(Ay),wR=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Al=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},jd=function(l){function t(){return null!==l&&l.apply(this,arguments)||this}return wR(t,l),t.prototype.postConstruct=function(){if(this.isValidRowModel()){this.setLabel("selectedRows","Selected"),this.addCssClass("ag-status-panel"),this.addCssClass("ag-status-panel-selected-row-count");var e=this.gridApi.getSelectedRows().length,n=this.gridOptionsWrapper.getLocaleTextFunc(),a=n("thousandSeparator",","),s=n("decimalSeparator",".");this.setValue(b._.formatNumberCommas(e,a,s)),this.setDisplayed(e>0);var g=this.onRowSelectionChanged.bind(this);this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,g),this.addManagedListener(this.eventService,b.Events.EVENT_SELECTION_CHANGED,g)}else console.warn("AG Grid: agSelectedRowCountComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.onRowSelectionChanged=function(){var e=this.gridApi.getSelectedRows().length,n=this.gridOptionsWrapper.getLocaleTextFunc(),a=n("thousandSeparator",","),s=n("decimalSeparator",".");this.setValue(b._.formatNumberCommas(e,a,s)),this.setDisplayed(e>0)},t.prototype.init=function(){},t.prototype.destroy=function(){l.prototype.destroy.call(this)},Al([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Al([b.PostConstruct],t.prototype,"postConstruct",null),t}(Ay),sT=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Fi=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},_R=function(l){function t(){return l.call(this,t.TEMPLATE)||this}return sT(t,l),t.prototype.destroy=function(){l.prototype.destroy.call(this)},t.prototype.postConstruct=function(){this.isValidRowModel()?(this.avgAggregationComp.setLabel("avg","Average"),this.countAggregationComp.setLabel("count","Count"),this.minAggregationComp.setLabel("min","Min"),this.maxAggregationComp.setLabel("max","Max"),this.sumAggregationComp.setLabel("sum","Sum"),this.addManagedListener(this.eventService,b.Events.EVENT_RANGE_SELECTION_CHANGED,this.onRangeSelectionChanged.bind(this)),this.addManagedListener(this.eventService,b.Events.EVENT_MODEL_UPDATED,this.onRangeSelectionChanged.bind(this))):console.warn("AG Grid: agAggregationComponent should only be used with the client and server side row model.")},t.prototype.isValidRowModel=function(){var e=this.gridApi.getModel().getType();return"clientSide"===e||"serverSide"===e},t.prototype.init=function(){},t.prototype.setAggregationComponentValue=function(e,n,a){var s=this.getAggregationValueComponent(e);if(b._.exists(s)&&s){var g=this.gridOptionsWrapper.getLocaleTextFunc(),y=g("thousandSeparator",","),_=g("decimalSeparator",".");s.setValue(b._.formatNumberTwoDecimalPlacesAndCommas(n,y,_)),s.setDisplayed(a)}},t.prototype.getAggregationValueComponent=function(e){var n=e+"AggregationComp",a=null,s=b._.exists(this.gridOptions.statusBar)&&this.gridOptions.statusBar?this.gridOptions.statusBar.statusPanels.find(function(g){return"agAggregationComponent"===g.statusPanel}):null;return b._.exists(s)&&s?(!b._.exists(s.statusPanelParams)||b._.exists(s.statusPanelParams)&&b._.exists(s.statusPanelParams.aggFuncs)&&b._.exists(s.statusPanelParams.aggFuncs.find(function(g){return g===e})))&&(a=this[n]):a=this[n],a},t.prototype.onRangeSelectionChanged=function(){var e=this,n=this.rangeService?this.rangeService.getCellRanges():void 0,a=0,s=0,g=0,y=null,_=null,E={};n&&!b._.missingOrEmpty(n)&&n.forEach(function(T){for(var F=e.rangeService.getRangeStartRow(T),I=e.rangeService.getRangeEndRow(T);!b._.missing(F)&&F&&!e.rowPositionUtils.before(I,F)&&F&&T.columns;)T.columns.forEach(function(j){if(null!==F){var U=e.cellPositionUtils.createId({rowPinned:F.rowPinned,column:j,rowIndex:F.rowIndex});if(!E[U]){E[U]=!0;var z=e.rowRenderer.getRowNode(F);if(!b._.missing(z)){var Y=e.valueService.getValue(j,z);b._.missing(Y)||""===Y||(Y.value&&(Y=Y.value),"string"==typeof Y&&(Y=Number(Y)),"number"==typeof Y&&!isNaN(Y)&&(a+=Y,(null===_||Y>_)&&(_=Y),(null===y||Y<y)&&(y=Y),g++),s++)}}}}),F=e.cellNavigationService.getRowBelow(F)});var A=g>1;this.setAggregationComponentValue("count",s,s>1),this.setAggregationComponentValue("sum",a,A),this.setAggregationComponentValue("min",y,A),this.setAggregationComponentValue("max",_,A),this.setAggregationComponentValue("avg",a/g,A)},t.TEMPLATE='<div class="ag-status-panel ag-status-panel-aggregations">\n            <ag-name-value ref="avgAggregationComp"></ag-name-value>\n            <ag-name-value ref="countAggregationComp"></ag-name-value>\n            <ag-name-value ref="minAggregationComp"></ag-name-value>\n            <ag-name-value ref="maxAggregationComp"></ag-name-value>\n            <ag-name-value ref="sumAggregationComp"></ag-name-value>\n        </div>',Fi([b.Optional("rangeService")],t.prototype,"rangeService",void 0),Fi([b.Autowired("valueService")],t.prototype,"valueService",void 0),Fi([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),Fi([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Fi([b.Autowired("gridOptions")],t.prototype,"gridOptions",void 0),Fi([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Fi([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),Fi([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),Fi([b.RefSelector("sumAggregationComp")],t.prototype,"sumAggregationComp",void 0),Fi([b.RefSelector("countAggregationComp")],t.prototype,"countAggregationComp",void 0),Fi([b.RefSelector("minAggregationComp")],t.prototype,"minAggregationComp",void 0),Fi([b.RefSelector("maxAggregationComp")],t.prototype,"maxAggregationComp",void 0),Fi([b.RefSelector("avgAggregationComp")],t.prototype,"avgAggregationComp",void 0),Fi([b.PostConstruct],t.prototype,"postConstruct",null),t}(b.Component),SR={moduleName:b.ModuleNames.StatusBarModule,beans:[WA],agStackComponents:[{componentName:"AgStatusBar",componentClass:v_},{componentName:"AgNameValue",componentClass:Ay}],userComponents:[{componentName:"agAggregationComponent",componentClass:_R},{componentName:"agSelectedRowCountComponent",componentClass:jd},{componentName:"agTotalRowCountComponent",componentClass:sE},{componentName:"agFilteredRowCountComponent",componentClass:yR},{componentName:"agTotalAndFilteredRowCountComponent",componentClass:Wd}],dependantModules:[gn]},lE=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),Ud=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},lT=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.firstRow=-1,e.lastRow=-1,e.rowCount=-1,e.rowNodesByIndex={},e}return lE(t,l),t.prototype.ensureRowHeightsValid=function(e,n,a,s){return!1},t.prototype.init=function(){this.rowHeight=this.gridOptionsWrapper.getRowHeightAsNumber(),this.addManagedListener(this.eventService,b.Events.EVENT_VIEWPORT_CHANGED,this.onViewportChanged.bind(this))},t.prototype.start=function(){this.gridOptionsWrapper.getViewportDatasource()&&this.setViewportDatasource(this.gridOptionsWrapper.getViewportDatasource())},t.prototype.isLastRowIndexKnown=function(){return!0},t.prototype.destroyDatasource=function(){!this.viewportDatasource||(this.viewportDatasource.destroy&&this.viewportDatasource.destroy(),this.rowRenderer.datasourceChanged(),this.firstRow=-1,this.lastRow=-1)},t.prototype.calculateFirstRow=function(e){var n=this.gridOptionsWrapper.getViewportRowModelBufferSize(),a=this.gridOptionsWrapper.getViewportRowModelPageSize(),s=e-n;return s<0?0:Math.floor(s/a)*a},t.prototype.calculateLastRow=function(e){if(-1===e)return e;var n=this.gridOptionsWrapper.getViewportRowModelBufferSize(),a=this.gridOptionsWrapper.getViewportRowModelPageSize(),g=Math.ceil((e+n)/a)*a;return Math.min(g,this.rowCount-1)},t.prototype.onViewportChanged=function(e){var n=this.calculateFirstRow(e.firstRow),a=this.calculateLastRow(e.lastRow);(this.firstRow!==n||this.lastRow!==a)&&(this.firstRow=n,this.lastRow=a,this.purgeRowsNotInViewport(),this.viewportDatasource&&this.viewportDatasource.setViewportRange(this.firstRow,this.lastRow))},t.prototype.purgeRowsNotInViewport=function(){var e=this;Object.keys(this.rowNodesByIndex).forEach(function(n){var a=parseInt(n,10);(a<e.firstRow||a>e.lastRow)&&delete e.rowNodesByIndex[a]})},t.prototype.setViewportDatasource=function(e){this.destroyDatasource(),this.viewportDatasource=e,this.rowCount=0,e.init?e.init({setRowCount:this.setRowCount.bind(this),setRowData:this.setRowData.bind(this),getRow:this.getRow.bind(this)}):console.warn("AG Grid: viewport is missing init method.")},t.prototype.getType=function(){return b.Constants.ROW_MODEL_TYPE_VIEWPORT},t.prototype.getRow=function(e){return this.rowNodesByIndex[e]||(this.rowNodesByIndex[e]=this.createBlankRowNode(e)),this.rowNodesByIndex[e]},t.prototype.getRowNode=function(e){var n;return this.forEachNode(function(a){a.id===e&&(n=a)}),n},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowIndexAtPixel=function(e){return 0!==this.rowHeight?Math.floor(e/this.rowHeight):0},t.prototype.getRowBounds=function(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}},t.prototype.getTopLevelRowCount=function(){return this.getRowCount()},t.prototype.getTopLevelRowDisplayedIndex=function(e){return e},t.prototype.isEmpty=function(){return this.rowCount>0},t.prototype.isRowsToRender=function(){return this.rowCount>0},t.prototype.getNodesInRangeForSelection=function(e,n){var a=b._.missing(e)?0:e.rowIndex,s=n.rowIndex;if(a<this.firstRow||a>this.lastRow||s<this.firstRow||s>this.lastRow)return[];for(var _=[],R=a<=s?s:a,A=a<=s?a:s;A<=R;A++)_.push(this.rowNodesByIndex[A]);return _},t.prototype.forEachNode=function(e){var n=this,a=0;Object.keys(this.rowNodesByIndex).forEach(function(s){var g=parseInt(s,10);e(n.rowNodesByIndex[g],a),a++})},t.prototype.setRowData=function(e){var n=this;b._.iterateObject(e,function(a,s){var g=parseInt(a,10);if(g>=n.firstRow&&g<=n.lastRow){var y=n.rowNodesByIndex[g];b._.missing(y)&&(y=n.createBlankRowNode(g),n.rowNodesByIndex[g]=y),y.setDataAndId(s,g.toString())}})},t.prototype.createBlankRowNode=function(e){var n=new b.RowNode(this.beans);return n.setRowHeight(this.rowHeight),n.setRowTop(this.rowHeight*e),n.setRowIndex(e),n},t.prototype.setRowCount=function(e,n){void 0===n&&(n=!1),e!==this.rowCount&&(this.rowCount=e,this.eventService.dispatchEvent({type:b.Events.EVENT_MODEL_UPDATED,api:this.gridApi,columnApi:this.columnApi,newData:!1,newPage:!1,keepRenderedRows:n,animate:!1}))},t.prototype.isRowPresent=function(e){return!1},Ud([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),Ud([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),Ud([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),Ud([b.Autowired("beans")],t.prototype,"beans",void 0),Ud([b.PostConstruct],t.prototype,"init",null),Ud([b.PreDestroy],t.prototype,"destroyDatasource",null),Ud([b.Bean("rowModel")],t)}(b.BeanStub),bR={moduleName:b.ModuleNames.ViewportRowModelModule,rowModels:{viewport:lT},dependantModules:[gn]},ER=function(){var l=function(t,e){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)a.hasOwnProperty(s)&&(n[s]=a[s])})(t,e)};return function(t,e){function n(){this.constructor=t}l(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),cr=function(l,t,e,n){var g,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(l,t,e,n);else for(var y=l.length-1;y>=0;y--)(g=l[y])&&(s=(a<3?g(s):a>3?g(t,e,s):g(t,e))||s);return a>3&&s&&Object.defineProperty(t,e,s),s},wn=function(l,t){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var a,g,n=e.call(l),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(y){g={error:y}}finally{try{a&&!a.done&&(e=n.return)&&e.call(n)}finally{if(g)throw g.error}}return s},Ht=function(l){function t(){var e=null!==l&&l.apply(this,arguments)||this;return e.navigatorApiFailed=!1,e}return ER(t,l),t.prototype.init=function(){var e=this;this.logger=this.loggerFactory.create("ClipboardService"),this.rowModel.getType()===b.Constants.ROW_MODEL_TYPE_CLIENT_SIDE&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(function(n){e.gridCtrl=n.gridCtrl})},t.prototype.pasteFromClipboard=function(){var e=this;this.logger.log("pasteFromClipboard"),!this.gridOptionsWrapper.isSuppressClipboardApi()&&!this.navigatorApiFailed&&navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText().then(this.processClipboardData.bind(this)).catch(function(a){b._.doOnce(function(){console.warn(a),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.readText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API")},"clipboardApiError"),e.navigatorApiFailed=!0,e.pasteFromClipboardLegacy()}):this.pasteFromClipboardLegacy()},t.prototype.pasteFromClipboardLegacy=function(){var e=this;this.executeOnTempElement(function(n){return n.focus({preventScroll:!0})},function(n){e.processClipboardData(n.value)})},t.prototype.processClipboardData=function(e){var n=this;if(null!=e){var a=b._.stringToArray(e,this.gridOptionsWrapper.getClipboardDelimiter()),s=this.gridOptionsWrapper.getProcessDataFromClipboardFunc();s&&(a=s({data:a})),null!=a&&(this.gridOptionsWrapper.isSuppressLastEmptyLineOnPaste()&&this.removeLastLineIfBlank(a),this.doPasteOperation(function(y,_,E,R){n.rangeService&&n.rangeService.isMoreThanOneCell()&&!n.hasOnlyOneValueToPaste(a)?n.pasteIntoActiveRange(a,y,_,R):n.pasteStartingFromFocusedCell(a,y,_,E,R)}))}},t.prototype.doPasteOperation=function(e){var g,n=this.gridOptionsWrapper.getApi(),a=this.gridOptionsWrapper.getColumnApi(),s="clipboard";if(this.eventService.dispatchEvent({type:b.Events.EVENT_PASTE_START,api:n,columnApi:a,source:s}),this.clientSideRowModel){var y=this.gridOptionsWrapper.isAggregateOnlyChangedColumns();g=new b.ChangedPath(y,this.clientSideRowModel.getRootNode())}var _={},E=[],R=this.focusService.getFocusedCell();e(_,E,R,g),g&&this.clientSideRowModel.doAggregate(g),this.rowRenderer.refreshCells(),this.dispatchFlashCells(_),this.fireRowChanged(E),R&&this.focusService.setFocusedCell(R.rowIndex,R.column,R.rowPinned,!0),this.eventService.dispatchEvent({type:b.Events.EVENT_PASTE_END,api:n,columnApi:a,source:s})},t.prototype.pasteIntoActiveRange=function(e,n,a,s){var g=this,y=this.getRangeSize()%e.length!=0,_=0,E=0;this.iterateActiveRanges(!1,function(A,T,F,I){if(I-_>=e.length){if(y)return;_+=E,E=0}var j=e[I-_];a.push(T);var U=g.gridOptionsWrapper.getProcessCellFromClipboardFunc();F.forEach(function(z,Y){if(z.isCellEditable(T)&&!z.isSuppressPaste(T)){Y>=j.length&&(Y%=j.length);var J=g.processCell(T,z,j[Y],b.Constants.EXPORT_TYPE_DRAG_COPY,U);T.setDataValue(z,J,b.Constants.SOURCE_PASTE),s&&s.addParentNode(T.parent,[z]);var se=g.cellPositionUtils.createIdFromValues(A.rowIndex,z,A.rowPinned);n[se]=!0}}),E++})},t.prototype.pasteStartingFromFocusedCell=function(e,n,a,s,g){if(s){var y={rowIndex:s.rowIndex,rowPinned:s.rowPinned},_=this.columnModel.getDisplayedColumnsStartingAt(s.column);this.isPasteSingleValueIntoRange(e)?this.pasteSingleValueIntoRange(e,a,n,g):this.pasteMultipleValues(e,y,a,_,n,b.Constants.EXPORT_TYPE_CLIPBOARD,g)}},t.prototype.isPasteSingleValueIntoRange=function(e){return this.hasOnlyOneValueToPaste(e)&&null!=this.rangeService&&!this.rangeService.isEmpty()},t.prototype.pasteSingleValueIntoRange=function(e,n,a,s){var g=this,y=e[0][0];this.iterateActiveRanges(!1,function(E,R,A){n.push(R),A.forEach(function(T){return g.updateCellValue(R,T,y,a,b.Constants.EXPORT_TYPE_CLIPBOARD,s)})})},t.prototype.hasOnlyOneValueToPaste=function(e){return 1===e.length&&1===e[0].length},t.prototype.copyRangeDown=function(){var e=this;if(this.rangeService&&!this.rangeService.isEmpty()){var n=[];this.doPasteOperation(function(s,g,y,_){var E=e.gridOptionsWrapper.getProcessCellForClipboardFunc(),R=e.gridOptionsWrapper.getProcessCellFromClipboardFunc();e.iterateActiveRanges(!0,function(T,F,I){n.length?(g.push(F),I.forEach(function(G,j){if(G.isCellEditable(F)&&!G.isSuppressPaste(F)){var U=e.processCell(F,G,n[j],b.Constants.EXPORT_TYPE_DRAG_COPY,R);F.setDataValue(G,U,b.Constants.SOURCE_PASTE),_&&_.addParentNode(F.parent,[G]);var z=e.cellPositionUtils.createIdFromValues(T.rowIndex,G,T.rowPinned);s[z]=!0}})):I.forEach(function(G){var j=e.processCell(F,G,e.valueService.getValue(G,F),b.Constants.EXPORT_TYPE_DRAG_COPY,E);n.push(j)})})})}},t.prototype.removeLastLineIfBlank=function(e){var n=b._.last(e);n&&1===n.length&&""===n[0]&&b._.removeFromArray(e,n)},t.prototype.fireRowChanged=function(e){var n=this;!this.gridOptionsWrapper.isFullRowEdit()||e.forEach(function(a){var s={type:b.Events.EVENT_ROW_VALUE_CHANGED,node:a,data:a.data,rowIndex:a.rowIndex,rowPinned:a.rowPinned,context:n.gridOptionsWrapper.getContext(),api:n.gridOptionsWrapper.getApi(),columnApi:n.gridOptionsWrapper.getColumnApi()};n.eventService.dispatchEvent(s)})},t.prototype.pasteMultipleValues=function(e,n,a,s,g,y,_){var E=this,R=n,A=null!=this.clientSideRowModel&&!this.gridOptionsWrapper.isTreeData();e.forEach(function(F){var I=function(){for(;;){if(!R)return null;var F=E.rowPositionUtils.getRowNode(R);if(R=E.cellNavigationService.getRowBelow({rowPinned:R.rowPinned,rowIndex:R.rowIndex}),null==F)return null;if(!(F.detail||F.footer||A&&F.group))return F}}();!I||(F.forEach(function(G,j){return E.updateCellValue(I,s[j],G,g,y,_)}),a.push(I))})},t.prototype.updateCellValue=function(e,n,a,s,g,y){if(e&&n&&n.isCellEditable(e)&&!n.isSuppressPaste(e)){var _=this.processCell(e,n,a,g,this.gridOptionsWrapper.getProcessCellFromClipboardFunc());e.setDataValue(n,_,b.Constants.SOURCE_PASTE),s[this.cellPositionUtils.createIdFromValues(e.rowIndex,n,e.rowPinned)]=!0,y&&y.addParentNode(e.parent,[n])}},t.prototype.copyToClipboard=function(e){void 0===e&&(e={});var n=e.includeHeaders,a=e.includeGroupHeaders;this.logger.log("copyToClipboard: includeHeaders = "+n),null==n&&(n=this.gridOptionsWrapper.isCopyHeadersToClipboard()),null==a&&(a=this.gridOptionsWrapper.isCopyGroupHeadersToClipboard());var s={includeHeaders:n,includeGroupHeaders:a},g=!this.selectionService.isEmpty()&&!this.gridOptionsWrapper.isSuppressCopyRowsToClipboard();this.rangeService&&this.rangeService.isMoreThanOneCell()?this.copySelectedRangeToClipboard(s):g?this.copySelectedRowsToClipboard(s):this.focusService.isAnyCellFocused()?this.copyFocusedCellToClipboard(s):this.copySelectedRangeToClipboard(s)},t.prototype.iterateActiveRanges=function(e,n,a){var s=this;if(this.rangeService&&!this.rangeService.isEmpty()){var g=this.rangeService.getCellRanges();e?this.iterateActiveRange(g[0],n,a,!0):g.forEach(function(y,_){return s.iterateActiveRange(y,n,a,_===g.length-1)})}},t.prototype.iterateActiveRange=function(e,n,a,s){if(this.rangeService){var g=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(e);a&&e.columns&&a(e.columns);for(var _=0,E=!1;!E&&null!=g;){var R=this.rowPositionUtils.getRowNode(g);E=this.rowPositionUtils.sameRow(g,y),n(g,R,e.columns,_++,E&&s),g=this.cellNavigationService.getRowBelow(g)}}},t.prototype.copySelectedRangeToClipboard=function(e){if(void 0===e&&(e={}),this.rangeService&&!this.rangeService.isEmpty()){var a=this.rangeService.areAllRangesAbleToMerge()?this.buildDataFromMergedRanges(e):this.buildDataFromRanges(e),g=a.cellsToFlash;this.copyDataToClipboard(a.data),this.dispatchFlashCells(g)}},t.prototype.buildDataFromMergedRanges=function(e){var n=this,a=new Set,s=this.rangeService.getCellRanges(),g=[],y={};s.forEach(function(A){A.columns.forEach(function(G){return a.add(G)});var T=n.getRangeRowPositionsAndCellsToFlash(A),I=T.cellsToFlash;g.push.apply(g,function(){for(var l=[],t=0;t<arguments.length;t++)l=l.concat(wn(arguments[t]));return l}(T.rowPositions)),Object.assign(y,I)});var _=this.columnModel.getAllDisplayedColumns(),E=Array.from(a);return E.sort(function(A,T){return _.indexOf(A)-_.indexOf(T)}),{data:this.buildExportParams({columns:E,rowPositions:g,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}),cellsToFlash:y}},t.prototype.buildDataFromRanges=function(e){var n=this,a=this.rangeService.getCellRanges(),s=[],g={};return a.forEach(function(y){var _=n.getRangeRowPositionsAndCellsToFlash(y),E=_.rowPositions;Object.assign(g,_.cellsToFlash),s.push(n.buildExportParams({columns:y.columns,rowPositions:E,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders}))}),{data:s.join("\n"),cellsToFlash:g}},t.prototype.getRangeRowPositionsAndCellsToFlash=function(e){for(var n=this,a=[],s={},g=this.rangeService.getRangeStartRow(e),y=this.rangeService.getRangeEndRow(e),_=g;_&&(a.push(_),e.columns.forEach(function(E){var R=n.cellPositionUtils.createIdFromValues(_.rowIndex,E,_.rowPinned);s[R]=!0}),!this.rowPositionUtils.sameRow(_,y));)_=this.cellNavigationService.getRowBelow(_);return{rowPositions:a,cellsToFlash:s}},t.prototype.copyFocusedCellToClipboard=function(e){var n;void 0===e&&(e={});var a=this.focusService.getFocusedCell();if(null!=a){var s=this.cellPositionUtils.createId(a),_=this.buildExportParams({columns:[a.column],rowPositions:[{rowPinned:a.rowPinned,rowIndex:a.rowIndex}],includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(_),this.dispatchFlashCells(((n={})[s]=!0,n))}},t.prototype.copySelectedRowsToClipboard=function(e){void 0===e&&(e={});var g=this.buildExportParams({columns:e.columnKeys,includeHeaders:e.includeHeaders,includeGroupHeaders:e.includeGroupHeaders});this.copyDataToClipboard(g)},t.prototype.buildExportParams=function(e){var a=e.rowPositions,s=e.includeHeaders,y=e.includeGroupHeaders,E={columnKeys:e.columns,rowNodes:a,skipColumnHeaders:!(void 0!==s&&s),skipColumnGroupHeaders:!(void 0!==y&&y),suppressQuotes:!0,columnSeparator:this.gridOptionsWrapper.getClipboardDelimiter(),onlySelected:!a,processCellCallback:this.gridOptionsWrapper.getProcessCellForClipboardFunc(),processRowGroupCallback:function(R){return R.node.key},processHeaderCallback:this.gridOptionsWrapper.getProcessHeaderForClipboardFunc(),processGroupHeaderCallback:this.gridOptionsWrapper.getProcessGroupHeaderForClipboardFunc()};return this.csvCreator.getDataAsCsv(E)},t.prototype.dispatchFlashCells=function(e){var n=this;window.setTimeout(function(){n.eventService.dispatchEvent({type:b.Events.EVENT_FLASH_CELLS,cells:e,api:n.gridApi,columnApi:n.columnApi})},0)},t.prototype.processCell=function(e,n,a,s,g){return g?g({column:n,node:e,value:a,type:s}):a},t.prototype.copyDataToClipboard=function(e){var n=this,a=this.gridOptionsWrapper.getSendToClipboardFunc();a?a({data:e}):!this.gridOptionsWrapper.isSuppressClipboardApi()&&navigator.clipboard?navigator.clipboard.writeText(e).catch(function(g){b._.doOnce(function(){console.warn(g),console.warn("AG Grid: Unable to use the Clipboard API (navigator.clipboard.writeText()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.")},"clipboardApiError"),n.copyDataToClipboardLegacy(e)}):this.copyDataToClipboardLegacy(e)},t.prototype.copyDataToClipboardLegacy=function(e){var n=this;this.executeOnTempElement(function(a){var s=n.gridOptionsWrapper.getDocument(),g=s.activeElement;a.value=e||" ",a.select(),a.focus({preventScroll:!0}),s.execCommand("copy")||console.warn("AG Grid: Browser did not allow document.execCommand('copy'). Ensure api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons."),null!=g&&null!=g.focus&&g.focus({preventScroll:!0})})},t.prototype.executeOnTempElement=function(e,n){var a=this.gridOptionsWrapper.getDocument(),s=a.createElement("textarea");s.style.width="1px",s.style.height="1px",s.style.top=a.documentElement.scrollTop+"px",s.style.left=a.documentElement.scrollLeft+"px",s.style.position="absolute",s.style.opacity="0";var g=this.gridCtrl.getGui();g.appendChild(s);try{e(s)}catch(y){console.warn("AG Grid: Browser does not support document.execCommand('copy') for clipboard operations")}n?window.setTimeout(function(){n(s),g.removeChild(s)},100):g.removeChild(s)},t.prototype.getRangeSize=function(){var e=this.rangeService.getCellRanges(),n=0,a=0;return e.length>0&&(n=this.rangeService.getRangeStartRow(e[0]).rowIndex,a=this.rangeService.getRangeEndRow(e[0]).rowIndex),n-a+1},cr([b.Autowired("csvCreator")],t.prototype,"csvCreator",void 0),cr([b.Autowired("loggerFactory")],t.prototype,"loggerFactory",void 0),cr([b.Autowired("selectionService")],t.prototype,"selectionService",void 0),cr([b.Optional("rangeService")],t.prototype,"rangeService",void 0),cr([b.Autowired("rowModel")],t.prototype,"rowModel",void 0),cr([b.Autowired("ctrlsService")],t.prototype,"ctrlsService",void 0),cr([b.Autowired("valueService")],t.prototype,"valueService",void 0),cr([b.Autowired("focusService")],t.prototype,"focusService",void 0),cr([b.Autowired("rowRenderer")],t.prototype,"rowRenderer",void 0),cr([b.Autowired("columnModel")],t.prototype,"columnModel",void 0),cr([b.Autowired("cellNavigationService")],t.prototype,"cellNavigationService",void 0),cr([b.Autowired("columnApi")],t.prototype,"columnApi",void 0),cr([b.Autowired("gridApi")],t.prototype,"gridApi",void 0),cr([b.Autowired("cellPositionUtils")],t.prototype,"cellPositionUtils",void 0),cr([b.Autowired("rowPositionUtils")],t.prototype,"rowPositionUtils",void 0),cr([b.PostConstruct],t.prototype,"init",null),cr([b.Bean("clipboardService")],t)}(b.BeanStub),Kr={moduleName:b.ModuleNames.ClipboardModule,beans:[Ht],dependantModules:[gn,Vt]};b.ModuleRegistry.register(sh,!1),b.ModuleRegistry.register(ft,!1),b.ModuleRegistry.register(wa,!1),b.ModuleRegistry.register($p,!1),b.ModuleRegistry.register(GP,!1),b.ModuleRegistry.register(VP,!1),b.ModuleRegistry.register(WP,!1),b.ModuleRegistry.register(tE,!1),b.ModuleRegistry.register(qb,!1),b.ModuleRegistry.register(oR,!1),b.ModuleRegistry.register(sm,!1),b.ModuleRegistry.register(dR,!1),b.ModuleRegistry.register(BA,!1),b.ModuleRegistry.register(or,!1),b.ModuleRegistry.register(SR,!1),b.ModuleRegistry.register(bR,!1),b.ModuleRegistry.register(Kr,!1)}},x_=>{x_(x_.s=920)}]);